(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},E21t:function(e){e.exports=JSON.parse('{"a":"https://artemisdbwebapp.azurewebsites.net/","b":false}')},gfpf:function(e,t){var n={userAgent:!1},i={};if(void 0===s)var s={};s.lang={extend:function(e,t,i){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var s=function(){};if(s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),i){var r;for(r in i)e.prototype[r]=i[r];var a=function(){},l=["toString","valueOf"];try{/MSIE/.test(n.userAgent)&&(a=function(e,t){for(r=0;r<l.length;r+=1){var n=l[r],i=t[n];"function"==typeof i&&i!=Object.prototype[n]&&(e[n]=i)}})}catch(o){}a(e.prototype,i)}}};var r,o,a,l,c,u,h,d,p,f,g,m=m||(r=Math,a=(o={}).lib={},l=a.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,s=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<s;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else for(r=0;r<s;r+=4)t[i+r>>>2]=n[r>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=r.ceil(t/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*r.random()|0);return new c.init(t,e)}}),u=o.enc={},h=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++)i.push(String.fromCharCode(t[s>>>2]>>>24-s%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,i=t.sigBytes,s=this.blockSize,o=i/(4*s),a=(o=e?r.ceil(o):r.max((0|o)-this._minBufferSize,0))*s,l=r.min(4*a,i);if(a){for(var u=0;u<a;u+=s)this._doProcessBlock(n,u);var h=n.splice(0,a);t.sigBytes-=l}return new c.init(h,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),a.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}}),g=o.algo={},o);!function(e){var t,n=(t=m).lib,i=n.Base,s=n.WordArray;(t=t.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var r=e[i];n.push(r.high),n.push(r.low)}return s.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,s=0;s<n;s++)t[s]=t[s].clone();return e}})}(),m.lib.Cipher||function(e){var t=(p=m).lib,n=t.Base,i=t.WordArray,s=t.BufferedBlockAlgorithm,r=p.enc.Base64,o=p.algo.EvpKDF,a=t.Cipher=s.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?f:d).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?f:d).decrypt(e,t,n,i)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=p.mode={},c=function(e,t,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var s=0;s<n;s++)e[t+s]^=i[s]},u=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;c.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),u.Decryptor=u.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,s=e.slice(t,t+i);n.decryptBlock(e,t),c.call(this,e,t,i),this._prevBlock=s}}),l=l.CBC=u,u=(p.pad={}).Pkcs7={pad:function(e,t){for(var n,s=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,r=[],o=0;o<n;o+=4)r.push(s);n=i.create(r,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:l,padding:u}),reset:function(){a.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(l=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(r)},parse:function(e){var t=(e=r.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var s=e.createEncryptor(n,i);return t=s.finalize(t),h.create({ciphertext:t,key:n,iv:(s=s.cfg).iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,n,s){return s||(s=i.random(8)),e=o.create({keySize:t+n}).compute(e,s),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,h.create({key:e,iv:n,salt:s})}},f=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:p}),encrypt:function(e,t,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(e=d.encrypt.call(this,e,t,n.key,i)).mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,d.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=m,t=e.lib.BlockCipher,n=e.algo,i=[],s=[],r=[],o=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[],f=0;256>f;f++)p[f]=128>f?f<<1:f<<1^283;var g=0,v=0;for(f=0;256>f;f++){var y;i[g]=y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99,s[y]=g;var b=p[g],w=p[b],C=p[w],S=257*p[y]^16843008*y;r[g]=S<<24|S>>>8,o[g]=S<<16|S>>>16,a[g]=S<<8|S>>>24,l[g]=S,c[y]=(S=16843009*C^65537*w^257*b^16843008*g)<<24|S>>>8,u[y]=S<<16|S>>>16,h[y]=S<<8|S>>>24,d[y]=S,g?(g=b^p[p[p[C^b]]],v^=p[p[v]]):g=v=1}var x=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),s=this._keySchedule=[],r=0;r<n;r++)if(r<t)s[r]=e[r];else{var o=s[r-1];r%t?6<t&&4==r%t&&(o=i[o>>>24]<<24|i[o>>>16&255]<<16|i[o>>>8&255]<<8|i[255&o]):(o=i[(o=o<<8|o>>>24)>>>24]<<24|i[o>>>16&255]<<16|i[o>>>8&255]<<8|i[255&o],o^=x[r/t|0]<<24),s[r]=s[r-t]^o}for(e=this._invKeySchedule=[],t=0;t<n;t++)r=n-t,o=t%4?s[r]:s[r-4],e[t]=4>t||4>=r?o:c[i[o>>>24]]^u[i[o>>>16&255]]^h[i[o>>>8&255]]^d[i[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,o,a,l,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,u,h,d,s),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,s,r,o,a){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],p=4,f=1;f<l;f++){var g=i[c>>>24]^s[u>>>16&255]^r[h>>>8&255]^o[255&d]^n[p++],m=i[u>>>24]^s[h>>>16&255]^r[d>>>8&255]^o[255&c]^n[p++],v=i[h>>>24]^s[d>>>16&255]^r[c>>>8&255]^o[255&u]^n[p++];d=i[d>>>24]^s[c>>>16&255]^r[u>>>8&255]^o[255&h]^n[p++],c=g,u=m,h=v}g=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^n[p++],m=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&c])^n[p++],v=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^n[p++],d=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[p++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=d},keySize:8}),e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n,i=m,s=(n=i.lib).WordArray,r=i.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=r.DES=(n=n.BlockCipher).extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var i=o[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(e=this._subKeys=[],i=0;16>i;i++){var s=e[i]=[],r=l[i];for(n=0;24>n;n++)s[n/6|0]|=t[(a[n]-1+r)%28]<<31-n%6,s[4+(n/6|0)]|=t[28+(a[n+24]-1+r)%28]<<31-n%6;for(s[0]=s[0]<<1|s[0]>>>31,n=1;7>n;n++)s[n]>>>=4*(n-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,i,s){this._lBlock=n[i],this._rBlock=n[i+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var r=0;16>r;r++){for(var o=s[r],a=this._lBlock,l=this._rBlock,h=0,d=0;8>d;d++)h|=c[d][((l^o[d])&u[d])>>>0];this._lBlock=l,this._rBlock=a^h}s=this._lBlock,this._lBlock=this._rBlock,this._rBlock=s,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[i]=this._lBlock,n[i+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});i.DES=n._createHelper(h),r=r.TripleDES=n.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(s.create(e.slice(0,2))),this._des2=h.createEncryptor(s.create(e.slice(2,4))),this._des3=h.createEncryptor(s.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),i.TripleDES=n._createHelper(r)}(),function(){var e=m.lib.WordArray;m.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var s=0;s<n;s+=3)for(var r=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;4>o&&s+.75*o<n;o++)e.push(i.charAt(r>>>6*(3-o)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(t){var n=t.length,i=this._map;(s=i.charAt(64))&&-1!=(s=t.indexOf(s))&&(n=s);for(var s=[],r=0,o=0;o<n;o++)if(o%4){var a=i.indexOf(t.charAt(o-1))<<o%4*2,l=i.indexOf(t.charAt(o))>>>6-o%4*2;s[r>>>2]|=(a|l)<<24-r%4*8,r++}return e.create(s,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,i,s,r,o){return((e=e+(t&n|~t&i)+s+o)<<r|e>>>32-r)+t}function n(e,t,n,i,s,r,o){return((e=e+(t&i|n&~i)+s+o)<<r|e>>>32-r)+t}function i(e,t,n,i,s,r,o){return((e=e+(t^n^i)+s+o)<<r|e>>>32-r)+t}function s(e,t,n,i,s,r,o){return((e=e+(n^(t|~i))+s+o)<<r|e>>>32-r)+t}for(var r=m,o=(l=r.lib).WordArray,a=l.Hasher,l=r.algo,c=[],u=0;64>u;u++)c[u]=4294967296*e.abs(e.sin(u+1))|0;l=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var o=0;16>o;o++)e[a=r+o]=16711935&((l=e[a])<<8|l>>>24)|4278255360&(l<<24|l>>>8);var a,l=e[r+1],u=e[r+2],h=e[r+3],d=e[r+4],p=e[r+5],f=e[r+6],g=e[r+7],m=e[r+8],v=e[r+9],y=e[r+10],b=e[r+11],w=e[r+12],C=e[r+13],S=e[r+14],x=e[r+15],k=t(k=(o=this._hash.words)[0],_=o[1],I=o[2],E=o[3],a=e[r+0],7,c[0]),E=t(E,k,_,I,l,12,c[1]),I=t(I,E,k,_,u,17,c[2]),_=t(_,I,E,k,h,22,c[3]);k=t(k,_,I,E,d,7,c[4]),E=t(E,k,_,I,p,12,c[5]),I=t(I,E,k,_,f,17,c[6]),_=t(_,I,E,k,g,22,c[7]),k=t(k,_,I,E,m,7,c[8]),E=t(E,k,_,I,v,12,c[9]),I=t(I,E,k,_,y,17,c[10]),_=t(_,I,E,k,b,22,c[11]),k=t(k,_,I,E,w,7,c[12]),E=t(E,k,_,I,C,12,c[13]),I=t(I,E,k,_,S,17,c[14]),k=n(k,_=t(_,I,E,k,x,22,c[15]),I,E,l,5,c[16]),E=n(E,k,_,I,f,9,c[17]),I=n(I,E,k,_,b,14,c[18]),_=n(_,I,E,k,a,20,c[19]),k=n(k,_,I,E,p,5,c[20]),E=n(E,k,_,I,y,9,c[21]),I=n(I,E,k,_,x,14,c[22]),_=n(_,I,E,k,d,20,c[23]),k=n(k,_,I,E,v,5,c[24]),E=n(E,k,_,I,S,9,c[25]),I=n(I,E,k,_,h,14,c[26]),_=n(_,I,E,k,m,20,c[27]),k=n(k,_,I,E,C,5,c[28]),E=n(E,k,_,I,u,9,c[29]),I=n(I,E,k,_,g,14,c[30]),k=i(k,_=n(_,I,E,k,w,20,c[31]),I,E,p,4,c[32]),E=i(E,k,_,I,m,11,c[33]),I=i(I,E,k,_,b,16,c[34]),_=i(_,I,E,k,S,23,c[35]),k=i(k,_,I,E,l,4,c[36]),E=i(E,k,_,I,d,11,c[37]),I=i(I,E,k,_,g,16,c[38]),_=i(_,I,E,k,y,23,c[39]),k=i(k,_,I,E,C,4,c[40]),E=i(E,k,_,I,a,11,c[41]),I=i(I,E,k,_,h,16,c[42]),_=i(_,I,E,k,f,23,c[43]),k=i(k,_,I,E,v,4,c[44]),E=i(E,k,_,I,w,11,c[45]),I=i(I,E,k,_,x,16,c[46]),k=s(k,_=i(_,I,E,k,u,23,c[47]),I,E,a,6,c[48]),E=s(E,k,_,I,g,10,c[49]),I=s(I,E,k,_,S,15,c[50]),_=s(_,I,E,k,p,21,c[51]),k=s(k,_,I,E,w,6,c[52]),E=s(E,k,_,I,h,10,c[53]),I=s(I,E,k,_,y,15,c[54]),_=s(_,I,E,k,l,21,c[55]),k=s(k,_,I,E,m,6,c[56]),E=s(E,k,_,I,x,10,c[57]),I=s(I,E,k,_,f,15,c[58]),_=s(_,I,E,k,C,21,c[59]),k=s(k,_,I,E,d,6,c[60]),E=s(E,k,_,I,b,10,c[61]),I=s(I,E,k,_,u,15,c[62]),_=s(_,I,E,k,v,21,c[63]),o[0]=o[0]+k|0,o[1]=o[1]+_|0,o[2]=o[2]+I|0,o[3]=o[3]+E|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,s=8*t.sigBytes;n[s>>>5]|=128<<24-s%32;var r=e.floor(i/4294967296);for(n[15+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[14+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;4>i;i++)n[i]=16711935&((s=n[i])<<8|s>>>24)|4278255360&(s<<24|s>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=a._createHelper(l),r.HmacMD5=a._createHmacHelper(l)}(Math),function(){var e=m,t=(s=e.lib).WordArray,n=s.Hasher,i=[],s=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,s=n[0],r=n[1],o=n[2],a=n[3],l=n[4],c=0;80>c;c++){if(16>c)i[c]=0|e[t+c];else{var u=i[c-3]^i[c-8]^i[c-14]^i[c-16];i[c]=u<<1|u>>>31}u=(s<<5|s>>>27)+l+i[c],u=20>c?u+(1518500249+(r&o|~r&a)):40>c?u+(1859775393+(r^o^a)):60>c?u+((r&o|r&a|o&a)-1894007588):u+((r^o^a)-899497514),l=a,a=o,o=r<<30|r>>>2,r=s,s=u}n[0]=n[0]+s|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(s),e.HmacSHA1=n._createHmacHelper(s)}(),function(e){for(var t=m,n=(s=t.lib).WordArray,i=s.Hasher,s=t.algo,r=[],o=[],a=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var u;e:{for(var h=e.sqrt(u=l),d=2;d<=h;d++)if(!(u%d)){u=!1;break e}u=!0}u&&(8>c&&(r[c]=a(e.pow(l,.5))),o[c]=a(e.pow(l,1/3)),c++),l++}var p=[];s=s.SHA256=i.extend({_doReset:function(){this._hash=new n.init(r.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],s=n[1],r=n[2],a=n[3],l=n[4],c=n[5],u=n[6],h=n[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var f=p[d-15],g=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[d-16]}f=h+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&u)+o[d]+p[d],g=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&s^i&r^s&r),h=u,u=c,c=l,l=a+f|0,a=r,r=s,s=i,i=f+g|0}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+u|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,s=8*t.sigBytes;return n[s>>>5]|=128<<24-s%32,n[14+(s+64>>>9<<4)]=e.floor(i/4294967296),n[15+(s+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=i._createHelper(s),t.HmacSHA256=i._createHmacHelper(s)}(Math),function(){var e=m,t=e.lib.WordArray,n=(i=e.algo).SHA256,i=i.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(i),e.HmacSHA224=n._createHmacHelper(i)}(),function(){function e(){return i.create.apply(i,arguments)}for(var t=m,n=t.lib.Hasher,i=(r=t.x64).Word,s=r.WordArray,r=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],l=0;80>l;l++)a[l]=e();r=r.SHA512=n.extend({_doReset:function(){this._hash=new s.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n,i=(n=this._hash.words)[0],s=n[1],r=n[2],l=n[3],c=n[4],u=n[5],h=n[6],d=i.high,p=i.low,f=s.high,g=s.low,m=r.high,v=r.low,y=l.high,b=l.low,w=c.high,C=c.low,S=u.high,x=u.low,k=h.high,E=h.low,I=(n=n[7]).high,_=n.low,T=d,F=p,D=f,A=g,O=m,R=v,P=y,N=b,L=w,M=C,V=S,H=x,B=k,z=E,j=I,U=_,G=0;80>G;G++){var q=a[G];if(16>G)var K=q.high=0|e[t+2*G],$=q.low=0|e[t+2*G+1];else{K=(($=(K=a[G-15]).high)>>>1|(W=K.low)<<31)^($>>>8|W<<24)^$>>>7;var W=(W>>>1|$<<31)^(W>>>8|$<<24)^(W>>>7|$<<25),Z=(($=(Z=a[G-2]).high)>>>19|(Y=Z.low)<<13)^($<<3|Y>>>29)^$>>>6,Y=(Y>>>19|$<<13)^(Y<<3|$>>>29)^(Y>>>6|$<<26);q.high=K=(K=(K=K+(Q=($=a[G-7]).high)+(($=W+$.low)>>>0<W>>>0?1:0))+Z+(($+=Y)>>>0<Y>>>0?1:0))+(ne=(J=a[G-16]).high)+(($+=J=J.low)>>>0<J>>>0?1:0),q.low=$}var Q=L&V^~L&B,J=M&H^~M&z,X=(q=T&D^T&O^D&O,F&A^F&R^A&R),ee=(Y=o[G]).high,te=Y.low,ne=j+((L>>>14|M<<18)^(L>>>18|M<<14)^(L<<23|M>>>9))+((Y=U+((M>>>14|L<<18)^(M>>>18|L<<14)^(M<<23|L>>>9)))>>>0<U>>>0?1:0);j=B,U=z,B=V,z=H,V=L,H=M,L=P+(ne=(ne=(ne=ne+Q+((Y+=J)>>>0<J>>>0?1:0))+ee+((Y+=te)>>>0<te>>>0?1:0))+K+((Y+=$)>>>0<$>>>0?1:0))+((M=N+Y|0)>>>0<N>>>0?1:0)|0,P=O,N=R,O=D,R=A,D=T,A=F,T=ne+(q=(W=(T>>>28|F<<4)^(T<<30|F>>>2)^(T<<25|F>>>7))+q+(($=(Z=(F>>>28|T<<4)^(F<<30|T>>>2)^(F<<25|T>>>7))+X)>>>0<Z>>>0?1:0))+((F=Y+$|0)>>>0<Y>>>0?1:0)|0}p=i.low=p+F,i.high=d+T+(p>>>0<F>>>0?1:0),g=s.low=g+A,s.high=f+D+(g>>>0<A>>>0?1:0),v=r.low=v+R,r.high=m+O+(v>>>0<R>>>0?1:0),b=l.low=b+N,l.high=y+P+(b>>>0<N>>>0?1:0),C=c.low=C+M,c.high=w+L+(C>>>0<M>>>0?1:0),x=u.low=x+H,u.high=S+V+(x>>>0<H>>>0?1:0),E=h.low=E+z,h.high=k+B+(E>>>0<z>>>0?1:0),_=n.low=_+U,n.high=I+j+(_>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(r),t.HmacSHA512=n._createHmacHelper(r)}(),function(){var e=m,t=(s=e.x64).Word,n=s.WordArray,i=(s=e.algo).SHA512,s=s.SHA384=i.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=i._createHelper(s),e.HmacSHA384=i._createHmacHelper(s)}(),function(){var e=m,t=(i=e.lib).WordArray,n=i.Hasher,i=e.algo,s=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),r=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=t.create([0,1518500249,1859775393,2400959708,2840853838]),c=t.create([1352829926,1548603684,1836072691,2053994217,0]);i=i.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++)e[i=t+n]=16711935&((C=e[i])<<8|C>>>24)|4278255360&(C<<24|C>>>8);var i,u,h,d,p,f,g,m,v,y,b,w,C=l.words,S=c.words,x=s.words,k=r.words,E=o.words,I=a.words;for(g=u=(i=this._hash.words)[0],m=h=i[1],v=d=i[2],y=p=i[3],b=f=i[4],n=0;80>n;n+=1)w=u+e[t+x[n]]|0,w=16>n?w+((h^d^p)+C[0]):32>n?w+((h&d|~h&p)+C[1]):48>n?w+(((h|~d)^p)+C[2]):64>n?w+((h&p|d&~p)+C[3]):w+((h^(d|~p))+C[4]),w=(w=(w|=0)<<E[n]|w>>>32-E[n])+f|0,u=f,f=p,p=d<<10|d>>>22,d=h,h=w,w=g+e[t+k[n]]|0,w=16>n?w+((m^(v|~y))+S[0]):32>n?w+((m&y|v&~y)+S[1]):48>n?w+(((m|~v)^y)+S[2]):64>n?w+((m&v|~m&y)+S[3]):w+((m^v^y)+S[4]),w=(w=(w|=0)<<I[n]|w>>>32-I[n])+b|0,g=b,b=y,y=v<<10|v>>>22,v=m,m=w;w=i[1]+d+y|0,i[1]=i[2]+p+b|0,i[2]=i[3]+f+g|0,i[3]=i[4]+u+m|0,i[4]=i[0]+h+v|0,i[0]=w},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;for(t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;5>n;n++)t[n]=16711935&((i=t[n])<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=n._createHelper(i),e.HmacRIPEMD160=n._createHmacHelper(i)}(Math),function(){var e=m.enc.Utf8;m.algo.HMAC=m.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=e.parse(n));var i=t.blockSize,s=4*i;n.sigBytes>s&&(n=t.finalize(n)),n.clamp();for(var r=this._oKey=n.clone(),o=this._iKey=n.clone(),a=r.words,l=o.words,c=0;c<i;c++)a[c]^=1549556828,l[c]^=909522486;r.sigBytes=o.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=m,n=(e=t.lib).Base,i=e.WordArray,s=(e=t.algo).HMAC,r=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=s.create((u=this.cfg).hasher,e),r=i.create(),o=i.create([1]),a=r.words,l=o.words,c=u.keySize,u=u.iterations;a.length<c;){var h=n.update(t).finalize(o);n.reset();for(var d=h.words,p=d.length,f=h,g=1;g<u;g++){f=n.finalize(f),n.reset();for(var m=f.words,v=0;v<p;v++)d[v]^=m[v]}r.concat(h),l[0]++}return r.sigBytes=4*c,r}});t.PBKDF2=function(e,t,n){return r.create(n).compute(e,t)}}();var v,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=y.charAt(n>>6)+y.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=y.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=y.charAt(n>>2)+y.charAt((3&n)<<4));(3&i.length)>0;)i+="=";return i}function w(e){var t,n,i,s="",r=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(i=y.indexOf(e.charAt(t)))<0||(0==r?(s+=_(i>>2),n=3&i,r=1):1==r?(s+=_(n<<2|i>>4),n=15&i,r=2):2==r?(s+=_(n),s+=_(i>>2),n=3&i,r=3):(s+=_(n<<2|i>>4),s+=_(15&i),r=0));return 1==r&&(s+=_(n<<2)),s}function C(e){var t,n=w(e),i=new Array;for(t=0;2*t<n.length;++t)i[t]=parseInt(n.substring(2*t,2*t+2),16);return i}function S(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):this.fromString(e,null==t&&"string"!=typeof e?256:t))}function x(){return new S(null)}"Microsoft Internet Explorer"==n.appName?(S.prototype.am=function(e,t,n,i,s,r){for(var o=32767&t,a=t>>15;--r>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*o;s=((l=o*l+((32767&u)<<15)+n[i]+(1073741823&s))>>>30)+(u>>>15)+a*c+(s>>>30),n[i++]=1073741823&l}return s},v=30):"Netscape"!=n.appName?(S.prototype.am=function(e,t,n,i,s,r){for(;--r>=0;){var o=t*this[e++]+n[i]+s;s=Math.floor(o/67108864),n[i++]=67108863&o}return s},v=26):(S.prototype.am=function(e,t,n,i,s,r){for(var o=16383&t,a=t>>14;--r>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*o;s=((l=o*l+((16383&u)<<14)+n[i]+s)>>28)+(u>>14)+a*c,n[i++]=268435455&l}return s},v=28),S.prototype.DB=v,S.prototype.DM=(1<<v)-1,S.prototype.DV=1<<v,S.prototype.FV=Math.pow(2,52),S.prototype.F1=52-v,S.prototype.F2=2*v-52;var k,E,I=new Array;for(k="0".charCodeAt(0),E=0;E<=9;++E)I[k++]=E;for(k="a".charCodeAt(0),E=10;E<36;++E)I[k++]=E;for(k="A".charCodeAt(0),E=10;E<36;++E)I[k++]=E;function _(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function T(e,t){var n=I[e.charCodeAt(t)];return null==n?-1:n}function F(e){var t=x();return t.fromInt(e),t}function D(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function A(e){this.m=e}function O(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function R(e,t){return e&t}function P(e,t){return e|t}function N(e,t){return e^t}function L(e,t){return e&~t}function M(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function V(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function H(){}function B(e){return e}function z(e){this.r2=x(),this.q3=x(),S.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}A.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},A.prototype.revert=function(e){return e},A.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},A.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},A.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},O.prototype.convert=function(e){var t=x();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(S.ZERO)>0&&this.m.subTo(t,t),t},O.prototype.revert=function(e){var t=x();return e.copyTo(t),this.reduce(t),t},O.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},O.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},O.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},S.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},S.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},S.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,s=!1,r=0;--i>=0;){var o=8==n?255&e[i]:T(e,i);o<0?"-"==e.charAt(i)&&(s=!0):(s=!1,0==r?this[this.t++]=o:r+n>this.DB?(this[this.t-1]|=(o&(1<<this.DB-r)-1)<<r,this[this.t++]=o>>this.DB-r):this[this.t-1]|=o<<r,(r+=n)>=this.DB&&(r-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r)),this.clamp(),s&&S.ZERO.subTo(this,this)},S.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},S.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},S.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},S.prototype.lShiftTo=function(e,t){var n,i=e%this.DB,s=this.DB-i,r=(1<<s)-1,o=Math.floor(e/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+o+1]=this[n]>>s|a,a=(this[n]&r)<<i;for(n=o-1;n>=0;--n)t[n]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},S.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,s=this.DB-i,r=(1<<i)-1;t[0]=this[n]>>i;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&r)<<s,t[o-n]=this[o]>>i;i>0&&(t[this.t-n-1]|=(this.s&r)<<s),t.t=this.t-n,t.clamp()}},S.prototype.subTo=function(e,t){for(var n=0,i=0,s=Math.min(e.t,this.t);n<s;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},S.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),s=n.t;for(t.t=s+i.t;--s>=0;)t[s]=0;for(s=0;s<i.t;++s)t[s+n.t]=n.am(0,i[s],t,s,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&S.ZERO.subTo(t,t)},S.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},S.prototype.divRemTo=function(e,t,n){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=x());var r=x(),o=this.s,a=e.s,l=this.DB-D(i[i.t-1]);l>0?(i.lShiftTo(l,r),s.lShiftTo(l,n)):(i.copyTo(r),s.copyTo(n));var c=r.t,u=r[c-1];if(0!=u){var h=u*(1<<this.F1)+(c>1?r[c-2]>>this.F2:0),d=this.FV/h,p=(1<<this.F1)/h,f=1<<this.F2,g=n.t,m=g-c,v=null==t?x():t;for(r.dlShiftTo(m,v),n.compareTo(v)>=0&&(n[n.t++]=1,n.subTo(v,n)),S.ONE.dlShiftTo(c,v),v.subTo(r,r);r.t<c;)r[r.t++]=0;for(;--m>=0;){var y=n[--g]==u?this.DM:Math.floor(n[g]*d+(n[g-1]+f)*p);if((n[g]+=r.am(0,y,n,m,0,c))<y)for(r.dlShiftTo(m,v),n.subTo(v,n);n[g]<--y;)n.subTo(v,n)}null!=t&&(n.drShiftTo(c,t),o!=a&&S.ZERO.subTo(t,t)),n.t=c,n.clamp(),l>0&&n.rShiftTo(l,n),o<0&&S.ZERO.subTo(n,n)}}},S.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},S.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},S.prototype.exp=function(e,t){if(e>4294967295||e<1)return S.ONE;var n=x(),i=x(),s=t.convert(this),r=D(e)-1;for(s.copyTo(n);--r>=0;)if(t.sqrTo(n,i),(e&1<<r)>0)t.mulTo(i,s,n);else{var o=n;n=i,i=o}return t.revert(n)},S.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,s=!1,r="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(n=this[o]>>a)>0&&(s=!0,r=_(n));o>=0;)a<t?(n=(this[o]&(1<<a)-1)<<t-a,n|=this[--o]>>(a+=this.DB-t)):(n=this[o]>>(a-=t)&i,a<=0&&(a+=this.DB,--o)),n>0&&(s=!0),s&&(r+=_(n));return s?r:"0"},S.prototype.negate=function(){var e=x();return S.ZERO.subTo(this,e),e},S.prototype.abs=function(){return this.s<0?this.negate():this},S.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},S.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)},S.prototype.mod=function(e){var t=x();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(S.ZERO)>0&&e.subTo(t,t),t},S.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new A(t):new O(t),this.exp(e,n)},S.ZERO=F(0),S.ONE=F(1),H.prototype.convert=B,H.prototype.revert=B,H.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},H.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=x();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var j,U,G,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],K=(1<<26)/q[q.length-1];function $(){this.i=0,this.j=0,this.S=new Array}function W(){!function(e){U[G++]^=255&e,U[G++]^=e>>8&255,U[G++]^=e>>16&255,U[G++]^=e>>24&255,G>=256&&(G-=256)}((new Date).getTime())}if(S.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},S.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=F(n),s=x(),r=x(),o="";for(this.divRemTo(i,s,r);s.signum()>0;)o=(n+r.intValue()).toString(e).substr(1)+o,s.divRemTo(i,s,r);return r.intValue().toString(e)+o},S.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),s=!1,r=0,o=0,a=0;a<e.length;++a){var l=T(e,a);l<0?"-"==e.charAt(a)&&0==this.signum()&&(s=!0):(o=t*o+l,++r>=n&&(this.dMultiply(i),this.dAddOffset(o,0),r=0,o=0))}r>0&&(this.dMultiply(Math.pow(t,r)),this.dAddOffset(o,0)),s&&S.ZERO.subTo(this,this)},S.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(S.ONE.shiftLeft(e-1),P,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(S.ONE.shiftLeft(e-1),this);else{var i=new Array,s=7&e;i.length=1+(e>>3),t.nextBytes(i),s>0?i[0]&=(1<<s)-1:i[0]=0,this.fromString(i,256)}},S.prototype.bitwiseTo=function(e,t,n){var i,s,r=Math.min(e.t,this.t);for(i=0;i<r;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(s=e.s&this.DM,i=r;i<this.t;++i)n[i]=t(this[i],s);n.t=this.t}else{for(s=this.s&this.DM,i=r;i<e.t;++i)n[i]=t(s,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},S.prototype.changeBit=function(e,t){var n=S.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},S.prototype.addTo=function(e,t){for(var n=0,i=0,s=Math.min(e.t,this.t);n<s;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},S.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},S.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},S.prototype.multiplyLowerTo=function(e,t,n){var i,s=Math.min(this.t+e.t,t);for(n.s=0,n.t=s;s>0;)n[--s]=0;for(i=n.t-this.t;s<i;++s)n[s+this.t]=this.am(0,e[s],n,s,0,this.t);for(i=Math.min(e.t,t);s<i;++s)this.am(0,e[s],n,s,0,t-s);n.clamp()},S.prototype.multiplyUpperTo=function(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)},S.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n},S.prototype.millerRabin=function(e){var t=this.subtract(S.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var i=t.shiftRight(n);(e=e+1>>1)>q.length&&(e=q.length);for(var s=x(),r=0;r<e;++r){s.fromInt(q[Math.floor(Math.random()*q.length)]);var o=s.modPow(i,this);if(0!=o.compareTo(S.ONE)&&0!=o.compareTo(t)){for(var a=1;a++<n&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(S.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},S.prototype.clone=function(){var e=x();return this.copyTo(e),e},S.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},S.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},S.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},S.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},S.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,i=this.DB-e*this.DB%8,s=0;if(e-- >0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[s++]=n|this.s<<this.DB-i);e>=0;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==s&&(128&this.s)!=(128&n)&&++s,(s>0||n!=this.s)&&(t[s++]=n);return t},S.prototype.equals=function(e){return 0==this.compareTo(e)},S.prototype.min=function(e){return this.compareTo(e)<0?this:e},S.prototype.max=function(e){return this.compareTo(e)>0?this:e},S.prototype.and=function(e){var t=x();return this.bitwiseTo(e,R,t),t},S.prototype.or=function(e){var t=x();return this.bitwiseTo(e,P,t),t},S.prototype.xor=function(e){var t=x();return this.bitwiseTo(e,N,t),t},S.prototype.andNot=function(e){var t=x();return this.bitwiseTo(e,L,t),t},S.prototype.not=function(){for(var e=x(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},S.prototype.shiftLeft=function(e){var t=x();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},S.prototype.shiftRight=function(e){var t=x();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},S.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+M(this[e]);return this.s<0?this.t*this.DB:-1},S.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=V(this[n]^t);return e},S.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},S.prototype.setBit=function(e){return this.changeBit(e,P)},S.prototype.clearBit=function(e){return this.changeBit(e,L)},S.prototype.flipBit=function(e){return this.changeBit(e,N)},S.prototype.add=function(e){var t=x();return this.addTo(e,t),t},S.prototype.subtract=function(e){var t=x();return this.subTo(e,t),t},S.prototype.multiply=function(e){var t=x();return this.multiplyTo(e,t),t},S.prototype.divide=function(e){var t=x();return this.divRemTo(e,t,null),t},S.prototype.remainder=function(e){var t=x();return this.divRemTo(e,null,t),t},S.prototype.divideAndRemainder=function(e){var t=x(),n=x();return this.divRemTo(e,t,n),new Array(t,n)},S.prototype.modPow=function(e,t){var n,i,s=e.bitLength(),r=F(1);if(s<=0)return r;n=s<18?1:s<48?3:s<144?4:s<768?5:6,i=s<8?new A(t):t.isEven()?new z(t):new O(t);var o=new Array,a=3,l=n-1,c=(1<<n)-1;if(o[1]=i.convert(this),n>1){var u=x();for(i.sqrTo(o[1],u);a<=c;)o[a]=x(),i.mulTo(u,o[a-2],o[a]),a+=2}var h,d,p=e.t-1,f=!0,g=x();for(s=D(e[p])-1;p>=0;){for(s>=l?h=e[p]>>s-l&c:(h=(e[p]&(1<<s+1)-1)<<l-s,p>0&&(h|=e[p-1]>>this.DB+s-l)),a=n;0==(1&h);)h>>=1,--a;if((s-=a)<0&&(s+=this.DB,--p),f)o[h].copyTo(r),f=!1;else{for(;a>1;)i.sqrTo(r,g),i.sqrTo(g,r),a-=2;a>0?i.sqrTo(r,g):(d=r,r=g,g=d),i.mulTo(g,o[h],r)}for(;p>=0&&0==(e[p]&1<<s);)i.sqrTo(r,g),d=r,r=g,g=d,--s<0&&(s=this.DB-1,--p)}return i.revert(r)},S.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return S.ZERO;for(var n=e.clone(),i=this.clone(),s=F(1),r=F(0),o=F(0),a=F(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(s.isEven()&&r.isEven()||(s.addTo(this,s),r.subTo(e,r)),s.rShiftTo(1,s)):r.isEven()||r.subTo(e,r),r.rShiftTo(1,r);for(;i.isEven();)i.rShiftTo(1,i),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);n.compareTo(i)>=0?(n.subTo(i,n),t&&s.subTo(o,s),r.subTo(a,r)):(i.subTo(n,i),t&&o.subTo(s,o),a.subTo(r,a))}return 0!=i.compareTo(S.ONE)?S.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},S.prototype.pow=function(e){return this.exp(e,new H)},S.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var s=t.getLowestSetBit(),r=n.getLowestSetBit();if(r<0)return t;for(s<r&&(r=s),r>0&&(t.rShiftTo(r,t),n.rShiftTo(r,n));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=n.getLowestSetBit())>0&&n.rShiftTo(s,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return r>0&&n.lShiftTo(r,n),n},S.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(n[0]==q[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<q.length;){for(var i=q[t],s=t+1;s<q.length&&i<K;)i*=q[s++];for(i=n.modInt(i);t<s;)if(i%q[t++]==0)return!1}return n.millerRabin(e)},S.prototype.square=function(){var e=x();return this.squareTo(e),e},$.prototype.init=function(e){var t,n,i;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)i=this.S[t],this.S[t]=this.S[n=n+this.S[t]+e[t%e.length]&255],this.S[n]=i;this.i=0,this.j=0},$.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==U){var Z;if(U=new Array,G=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var Y=i.crypto||i.msCrypto;if(Y.getRandomValues){var Q=new Uint8Array(32);for(Y.getRandomValues(Q),Z=0;Z<32;++Z)U[G++]=Q[Z]}else if("Netscape"==n.appName&&n.appVersion<"5"){var J=i.crypto.random(32);for(Z=0;Z<J.length;++Z)U[G++]=255&J.charCodeAt(Z)}}for(;G<256;)Z=Math.floor(65536*Math.random()),U[G++]=Z>>>8,U[G++]=255&Z;G=0,W()}function X(){if(null==j){for(W(),(j=new $).init(U),G=0;G<U.length;++G)U[G]=0;G=0}return j.next()}function ee(){}function te(e,t){return new S(e,t)}function ne(e,t,n){for(var i="",s=0;i.length<t;)i+=n(String.fromCharCode.apply(String,e.concat([(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s]))),s+=1;return i}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function se(e,t,n){for(var i="",s=0;i.length<t;)i+=n(e+String.fromCharCode.apply(String,[(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s])),s+=1;return i}function re(e,t){this.x=t,this.q=e}function oe(e,t,n,i){this.curve=e,this.x=t,this.y=n,this.z=null==i?S.ONE:i,this.zinv=null}function ae(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=X()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,i=e.length-1;i>=0&&t>0;){var s=e.charCodeAt(i--);s<128?n[--t]=s:s>127&&s<2048?(n[--t]=63&s|128,n[--t]=s>>6|192):(n[--t]=63&s|128,n[--t]=s>>6&63|128,n[--t]=s>>12|224)}n[--t]=0;for(var r=new ee,o=new Array;t>2;){for(o[0]=0;0==o[0];)r.nextBytes(o);n[--t]=o[0]}return n[--t]=2,n[--t]=0,new S(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},ie.prototype.encryptOAEP=function(e,t,n){var i=function(e,t,n,i){var s=ce.crypto.MessageDigest,r=ce.crypto.Util,o=null;if(n||(n="sha1"),"string"==typeof n&&(o=s.getCanonicalAlgName(n),i=s.getHashLength(o),n=function(e){return xe(r.hashHex(ke(e),o))}),e.length+2*i+2>t)throw"Message too long for RSA";var a,l="";for(a=0;a<t-e.length-2*i-2;a+=1)l+="\0";var c=n("")+l+"\x01"+e,u=new Array(i);(new ee).nextBytes(u);var h=ne(u,c.length,n),d=[];for(a=0;a<c.length;a+=1)d[a]=c.charCodeAt(a)^h.charCodeAt(a);var p=ne(d,u.length,n),f=[0];for(a=0;a<u.length;a+=1)f[a+1]=u[a]^p.charCodeAt(a);return new S(f.concat(d))}(e,this.n.bitLength()+7>>3,t,n);if(null==i)return null;var s=this.doPublic(i);if(null==s)return null;var r=s.toString(16);return 0==(1&r.length)?r:"0"+r},ie.prototype.type="RSA",ie.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},ie.prototype.setPrivate=function(e,t,n){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(n,16)}},ie.prototype.setPrivateEx=function(e,t,n,i,s,r,o,a){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(n,16),this.p=te(i,16),this.q=te(s,16),this.dmp1=te(r,16),this.dmq1=te(o,16),this.coeff=te(a,16)},ie.prototype.generate=function(e,t){var n=new ee,i=e>>1;this.e=parseInt(t,16);for(var s=new S(t,16);;){for(;this.p=new S(e-i,1,n),0!=this.p.subtract(S.ONE).gcd(s).compareTo(S.ONE)||!this.p.isProbablePrime(10););for(;this.q=new S(i,1,n),0!=this.q.subtract(S.ONE).gcd(s).compareTo(S.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var r=this.p;this.p=this.q,this.q=r}var o=this.p.subtract(S.ONE),a=this.q.subtract(S.ONE),l=o.multiply(a);if(0==l.gcd(s).compareTo(S.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=s.modInverse(l),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},ie.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=te(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var s="";++i<n.length;){var r=255&n[i];r<128?s+=String.fromCharCode(r):r>191&&r<224?(s+=String.fromCharCode((31&r)<<6|63&n[i+1]),++i):(s+=String.fromCharCode((15&r)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return s}(n,this.n.bitLength()+7>>3)},ie.prototype.decryptOAEP=function(e,t,n){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var i=te(e,16),s=this.doPrivate(i);return null==s?null:function(e,t,n,i){var s=ce.crypto.MessageDigest,r=ce.crypto.Util,o=null;for(n||(n="sha1"),"string"==typeof n&&(o=s.getCanonicalAlgName(n),i=s.getHashLength(o),n=function(e){return xe(r.hashHex(ke(e),o))}),e=e.toByteArray(),a=0;a<e.length;a+=1)e[a]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*i+2)throw"Cipher too short";var a,l=e.substr(1,i),c=e.substr(i+1),u=se(c,i,n),h=[];for(a=0;a<l.length;a+=1)h[a]=l.charCodeAt(a)^u.charCodeAt(a);var d=se(String.fromCharCode.apply(String,h),e.length-i,n),p=[];for(a=0;a<c.length;a+=1)p[a]=c.charCodeAt(a)^d.charCodeAt(a);if((p=String.fromCharCode.apply(String,p)).substr(0,i)!==n(""))throw"Hash mismatch";var f=(p=p.substr(i)).indexOf("\x01");if((-1!=f?p.substr(0,f).lastIndexOf("\0"):-1)+1!=f)throw"Malformed data";return p.substr(f+1)}(s,this.n.bitLength()+7>>3,t,n)},re.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},re.prototype.toBigInteger=function(){return this.x},re.prototype.negate=function(){return new re(this.q,this.x.negate().mod(this.q))},re.prototype.add=function(e){return new re(this.q,this.x.add(e.toBigInteger()).mod(this.q))},re.prototype.subtract=function(e){return new re(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},re.prototype.multiply=function(e){return new re(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},re.prototype.square=function(){return new re(this.q,this.x.square().mod(this.q))},re.prototype.divide=function(e){return new re(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(S.ZERO)&&!this.y.toBigInteger().equals(S.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(S.ZERO.equals(n))return S.ZERO.equals(t)?this.twice():this.curve.getInfinity();var i=new S("3"),s=this.x.toBigInteger(),r=this.y.toBigInteger(),o=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),a=o.multiply(n),l=s.multiply(o),c=t.square().multiply(this.z),u=c.subtract(l.shiftLeft(1)).multiply(e.z).subtract(a).multiply(n).mod(this.curve.q),h=l.multiply(i).multiply(t).subtract(r.multiply(a)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),d=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(h),d)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new S("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),i=n.multiply(this.z),s=i.multiply(n).mod(this.curve.q),r=this.curve.a.toBigInteger(),o=t.square().multiply(e);S.ZERO.equals(r)||(o=o.add(this.z.square().multiply(r)));var a=(o=o.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(i).mod(this.curve.q),l=o.multiply(e).multiply(t).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(o.square().multiply(o)).mod(this.curve.q),c=i.square().multiply(i).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(l),c)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,i=n.multiply(new S("3")),s=this.negate(),r=this,o=this.curve.q.subtract(e),a=o.multiply(new S("3")),l=new oe(this.curve,this.x,this.y),c=l.negate();for(t=i.bitLength()-2;t>0;--t){r=r.twice();var u=i.testBit(t);u!=n.testBit(t)&&(r=r.add(u?this:s))}for(t=a.bitLength()-2;t>0;--t){l=l.twice();var h=a.testBit(t);h!=o.testBit(t)&&(l=l.add(h?l:c))}return r},oe.prototype.multiplyTwo=function(e,t,n){var i;i=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var s=this.curve.getInfinity(),r=this.add(t);i>=0;)s=s.twice(),e.testBit(i)?s=n.testBit(i)?s.add(r):s.add(this):n.testBit(i)&&(s=s.add(t)),--i;return s},ae.prototype.getQ=function(){return this.q},ae.prototype.getA=function(){return this.a},ae.prototype.getB=function(){return this.b},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ae.prototype.getInfinity=function(){return this.infinity},ae.prototype.fromBigInteger=function(e){return new re(this.q,e)},ae.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),i=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new S(n,16)),this.fromBigInteger(new S(i,16)));default:return null}},re.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),i=this.getY().toBigInteger(),s=t(n,32);return e?i.isEven()?s.unshift(2):s.unshift(3):(s.unshift(4),s=s.concat(t(i,32))),s},oe.decodeFrom=function(e,t){var n=t.length-1,i=t.slice(1,1+n/2),s=t.slice(1+n/2,1+n);i.unshift(0),s.unshift(0);var r=new S(i),o=new S(s);return new oe(e,e.fromBigInteger(r),e.fromBigInteger(o))},oe.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,i=t.substr(2,n/2),s=t.substr(2+n/2,n/2),r=new S(i,16),o=new S(s,16);return new oe(e,e.fromBigInteger(r),e.fromBigInteger(o))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),i=n.square().subtract(this.x).subtract(e.x),s=n.multiply(this.x.subtract(i)).subtract(this.y);return new oe(this.curve,i,s)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(S.valueOf(2)),t=this.curve.fromBigInteger(S.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),i=n.square().subtract(this.x.multiply(e)),s=n.multiply(this.x.subtract(i)).subtract(this.y);return new oe(this.curve,i,s)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,i=n.multiply(new S("3")),s=this.negate(),r=this;for(t=i.bitLength()-2;t>0;--t){r=r.twice();var o=i.testBit(t);o!=n.testBit(t)&&(r=r.add2D(o?this:s))}return r},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),i=this.curve.getB().toBigInteger(),s=this.curve.getQ(),r=t.multiply(t).mod(s),o=e.multiply(e).multiply(e).add(n.multiply(e)).add(i).mod(s);return r.equals(o)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(S.ONE)<0||t.compareTo(e.subtract(S.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(S.ONE)<0||n.compareTo(e.subtract(S.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var le=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e,t,i){return t?n[t]:String.fromCharCode(parseInt(i,16))}var s=new String(""),r=Object.hasOwnProperty;return function(n,o){var a,l,c=n.match(e),u=c[0],h=!1;"{"===u?a={}:"["===u?a=[]:(a=[],h=!0);for(var d=[a],p=1-h,f=c.length;p<f;++p){var g;switch((u=c[p]).charCodeAt(0)){default:(g=d[0])[l||g.length]=+u,l=void 0;break;case 34:if(-1!==(u=u.substring(1,u.length-1)).indexOf("\\")&&(u=u.replace(t,i)),g=d[0],!l){if(!(g instanceof Array)){l=u||s;break}l=g.length}g[l]=u,l=void 0;break;case 91:d.unshift((g=d[0])[l||g.length]=[]),l=void 0;break;case 93:d.shift();break;case 102:(g=d[0])[l||g.length]=!1,l=void 0;break;case 110:(g=d[0])[l||g.length]=null,l=void 0;break;case 116:(g=d[0])[l||g.length]=!0,l=void 0;break;case 123:d.unshift((g=d[0])[l||g.length]={}),l=void 0;break;case 125:d.shift()}}if(h){if(1!==d.length)throw new Error;a=a[0]}else if(d.length)throw new Error;if(o){var m=function(e,t){var n=e[t];if(n&&"object"==typeof n){var i=null;for(var s in n)if(r.call(n,s)&&n!==e){var a=m(n,s);void 0!==a?n[s]=a:(i||(i=[]),i.push(s))}if(i)for(var l=i.length;--l>=0;)delete n[i[l]]}return o.call(e,t,n)};a=m({"":a},"")}return a}}();void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var i="",s=0;s<n;s++)i+="f";t=new S(i,16).xor(e).add(S.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Te(e,t)},this.newObject=function(e){var t=ce.asn1,n=t.DERBoolean,i=t.DERInteger,s=t.DERBitString,r=t.DEROctetString,o=t.DERNull,a=t.DERObjectIdentifier,l=t.DEREnumerated,c=t.DERUTF8String,u=t.DERNumericString,h=t.DERPrintableString,d=t.DERTeletexString,p=t.DERIA5String,f=t.DERUTCTime,g=t.DERGeneralizedTime,m=t.DERVisibleString,v=t.DERBMPString,y=t.DERSequence,b=t.DERSet,w=t.DERTaggedObject,C=t.ASN1Util.newObject,S=Object.keys(e);if(1!=S.length)throw"key of param shall be only one.";var x=S[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+x+":"))throw new Error("undefined key: "+x);if("bool"==x)return new n(e[x]);if("int"==x)return new i(e[x]);if("bitstr"==x)return new s(e[x]);if("octstr"==x)return new r(e[x]);if("null"==x)return new o(e[x]);if("oid"==x)return new a(e[x]);if("enum"==x)return new l(e[x]);if("utf8str"==x)return new c(e[x]);if("numstr"==x)return new u(e[x]);if("prnstr"==x)return new h(e[x]);if("telstr"==x)return new d(e[x]);if("ia5str"==x)return new p(e[x]);if("utctime"==x)return new f(e[x]);if("gentime"==x)return new g(e[x]);if("visstr"==x)return new m(e[x]);if("bmpstr"==x)return new v(e[x]);if("seq"==x){for(var k=e[x],E=[],I=0;I<k.length;I++){var _=C(k[I]);E.push(_)}return new y({array:E})}if("set"==x){for(k=e[x],E=[],I=0;I<k.length;I++)_=C(k[I]),E.push(_);return new b({array:E})}if("tag"==x){var T=e[x];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var F=C(T[2]);return new w({tag:T[0],explicit:T[1],obj:F})}var D={};if(void 0!==T.explicit&&(D.explicit=T.explicit),void 0!==T.tag&&(D.tag=T.tag),void 0===T.obj)throw"obj shall be specified for 'tag'.";return D.obj=C(T.obj),new w(D)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),i=(t=Math.floor(n/40)+"."+n%40,""),s=2;s<e.length;s+=2){var r=("00000000"+parseInt(e.substr(s,2),16).toString(2)).slice(-8);i+=r.substr(1,7),"0"==r.substr(0,1)&&(t=t+"."+new S(i,2).toString(10),i="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",i=new S(e,10).toString(2),s=7-i.length%7;7==s&&(s=0);for(var r="",o=0;o<s;o++)r+="0";for(i=r+i,o=0;o<i.length-1;o+=7){var a=i.substr(o,7);o!=i.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",s=e.split("."),r=40*parseInt(s[0])+parseInt(s[1]);i+=t(r),s.splice(0,2);for(var o=0;o<s.length;o++)i+=n(s[o]);return i},ce.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Ce(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},s.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var i=this.zeroPadding,s=this.localDateToUTC(e),r=String(s.getFullYear());"utc"==t&&(r=r.substr(2,2));var o=r+i(String(s.getMonth()+1),2)+i(String(s.getDate()),2)+i(String(s.getHours()),2)+i(String(s.getMinutes()),2)+i(String(s.getSeconds()),2);if(!0===n){var a=s.getMilliseconds();if(0!=a){var l=i(String(a),3);o=o+"."+(l=l.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=me(e)},this.setByDateValue=function(e,t,n,i,s,r){var o=new Date(Date.UTC(e,t-1,n,i,s,r,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},s.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},s.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},s.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},s.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var i="";for(n=0;n<e.length-1;n+=8){var s=e.substr(n,8),r=parseInt(s,2).toString(16);1==r.length&&(r="0"+r),i+=r}this.hTLV=null,this.isModified=!0,this.hV="0"+t+i},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)t+=1==e[n]?"1":"0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},s.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},s.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},s.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",i=new S(e,10).toString(2),s=7-i.length%7;7==s&&(s=0);for(var r="",o=0;o<s;o++)r+="0";for(i=r+i,o=0;o<i.length-1;o+=7){var a=i.substr(o,7);o!=i.length-7&&(a="1"+a),n+=t(parseInt(a,2))}return n};ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",s=e.split("."),r=40*parseInt(s[0])+parseInt(s[1]);i+=t(r),s.splice(0,2);for(var o=0;o<s.length;o++)i+=n(s[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},s.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},s.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},s.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},s.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},s.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},s.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},s.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},s.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},s.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},s.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},s.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},s.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++)e.push(this.asn1Array[t].getEncodedHex());return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},s.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},s.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,ue,he,de=new function(){};function pe(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function fe(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function ge(e){for(var t="",n=0;n<e.length;n++){var i=e[n].toString(16);1==i.length&&(i="0"+i),t+=i}return t}function me(e){return ge(pe(e))}function ve(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function be(e){return e.length%2==1&&(e="0"+e),ve(b(e))}function we(e){return w(ye(e))}function Ce(e){return Oe(Me(e))}function Se(e){return decodeURIComponent(Re(e))}function xe(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function ke(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function Ee(e){return b(e)}function Ie(e){return Ee(e).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function _e(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Te(e,t){return"-----BEGIN "+t+"-----\r\n"+Ie(e)+"\r\n-----END "+t+"-----\r\n"}function Fe(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return _e(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function De(e){var t,n,i,s,r,o,a,l,c,u,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=h[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(h[2])-1,i=parseInt(h[3]),s=parseInt(h[4]),r=parseInt(h[5]),o=parseInt(h[6]),a=0,""!==(c=h[7])&&(u=(c.substr(1)+"00").substr(0,3),a=parseInt(u)),Date.UTC(t,n,i,s,r,o,a);throw"unsupported zulu format: "+e}function Ae(e){return~~(De(e)/1e3)}function Oe(e){return e.replace(/%/g,"")}function Re(e){return e.replace(/(..)/g,"%$1")}function Pe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var i=":".repeat(7-n+2),s=(e=e.replace("::",i)).split(":");if(8!=s.length)throw t;for(var r=0;r<8;r++)s[r]=("0000"+s[r]).slice(-4);return s.join("")}function Ne(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var i=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===i)return e.slice(1,-1);var s="";for(n=0;n<i.length;n++)i[n].length>s.length&&(s=i[n]);return(e=e.replace(s,"::")).slice(1,-1)}function Le(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Ne(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(o){throw t}}function Me(e){for(var t=encodeURIComponent(e),n="",i=0;i<t.length;i++)"%"==t[i]?(n+=t.substr(i,3),i+=2):n=n+"%"+me(t[i]);return n}function Ve(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function He(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,n){var i=parseInt(e);if(i<0||255<i)throw"integer not in range 0-255";return("00"+i.toString(16)).slice(-2)})).join("")}catch(o){throw"malformed integer array string: "+o}}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},de.getL=function(e,t){var n=de.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},de.getVblen=function(e,t){var n;return""==(n=de.getL(e,t))?-1:("8"===n.substr(0,1)?new S(n.substr(2),16):new S(n,16)).intValue()},de.getVidx=function(e,t){var n=de.getLblen(e,t);return n<0?n:t+2*(n+1)},de.getV=function(e,t){var n=de.getVidx(e,t),i=de.getVblen(e,t);return e.substr(n,2*i)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var n=de,i=new Array,s=n.getVidx(e,t);"03"==e.substr(t,2)?i.push(s+2):i.push(s);for(var r=n.getVblen(e,t),o=s,a=0;;){var l=n.getNextSiblingIdx(e,o);if(null==l||l-s>=2*r)break;if(a>=200)break;i.push(l),o=l,a++}return i},de.getNthChildIdx=function(e,t,n){return de.getChildIdx(e,t)[n]},de.getIdxbyList=function(e,t,n,i){var s,r,o=de;if(0==n.length){if(void 0!==i&&e.substr(t,2)!==i)throw Error("checking tag doesn't match: "+e.substr(t,2)+"!="+i);return t}return s=n.shift(),r=o.getChildIdx(e,t),o.getIdxbyList(e,r[s],n,i)},de.getIdxbyListEx=function(e,t,n,i){var s,r,o=de;if(0==n.length)return void 0!==i&&e.substr(t,2)!==i?-1:t;s=n.shift(),r=o.getChildIdx(e,t);for(var a=0,l=0;l<r.length;l++){var c=e.substr(r[l],2);if("number"==typeof s&&!o.isContextTag(c)&&a==s||"string"==typeof s&&o.isContextTag(c,s))return o.getIdxbyListEx(e,r[l],n,i);o.isContextTag(c)||a++}return-1},de.getTLVbyList=function(e,t,n,i){var s=de,r=s.getIdxbyList(e,t,n);if(void 0===r)throw new Error("can't find nthList object");if(void 0!==i&&e.substr(r,2)!=i)throw new Error("checking tag doesn't match: "+e.substr(r,2)+"!="+i);return s.getTLV(e,r)},de.getTLVbyListEx=function(e,t,n,i){var s=de,r=s.getIdxbyListEx(e,t,n,i);return-1==r?null:s.getTLV(e,r)},de.getVbyList=function(e,t,n,i,s){var r,o,a=de;if(void 0===(r=a.getIdxbyList(e,t,n,i)))throw"can't find nthList object";return o=a.getV(e,r),!0===s&&(o=o.substr(2)),o},de.getVbyListEx=function(e,t,n,i,s){var r,o,a=de;return-1==(r=a.getIdxbyListEx(e,t,n,i))?null:(o=a.getV(e,r),"03"==e.substr(r,2)&&!1!==s&&(o=o.substr(2)),o)},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],i=e.substr(0,2),s=parseInt(i,16);n[0]=new String(Math.floor(s/40)),n[1]=new String(s%40);for(var r=e.substr(2),o=[],a=0;a<r.length/2;a++)o.push(parseInt(r.substr(2*a,2),16));var l=[],c="";for(a=0;a<o.length;a++)128&o[a]?c+=t((127&o[a]).toString(2),7):(c+=t((127&o[a]).toString(2),7),l.push(new String(parseInt(c,2))),c="");var u=n.join(".");return l.length>0&&(u=u+"."+l.join(".")),u},de.dump=function(e,t,n,i){var s=de,r=s.getV,o=s.dump,a=s.getChildIdx,l=e;e instanceof ce.asn1.ASN1Object&&(l=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===i&&(i="");var u,h=t.ommit_long_octet;if("01"==(u=l.substr(n,2)))return"00"==(d=r(l,n))?i+"BOOLEAN FALSE\n":i+"BOOLEAN TRUE\n";if("02"==u)return i+"INTEGER "+c(d=r(l,n),h)+"\n";if("03"==u){var d=r(l,n);return s.isASN1HEX(d.substr(2))?(S=i+"BITSTRING, encapsulates\n")+o(d.substr(2),t,0,i+"  "):i+"BITSTRING "+c(d,h)+"\n"}if("04"==u)return d=r(l,n),s.isASN1HEX(d)?(S=i+"OCTETSTRING, encapsulates\n")+o(d,t,0,i+"  "):i+"OCTETSTRING "+c(d,h)+"\n";if("05"==u)return i+"NULL\n";if("06"==u){var p=r(l,n),f=ce.asn1.ASN1Util.oidHexToInt(p),g=ce.asn1.x509.OID.oid2name(f),m=f.replace(/\./g," ");return""!=g?i+"ObjectIdentifier "+g+" ("+m+")\n":i+"ObjectIdentifier ("+m+")\n"}if("0c"==u)return i+"UTF8String '"+Se(r(l,n))+"'\n";if("13"==u)return i+"PrintableString '"+Se(r(l,n))+"'\n";if("14"==u)return i+"TeletexString '"+Se(r(l,n))+"'\n";if("16"==u)return i+"IA5String '"+Se(r(l,n))+"'\n";if("17"==u)return i+"UTCTime "+Se(r(l,n))+"\n";if("18"==u)return i+"GeneralizedTime "+Se(r(l,n))+"\n";if("1a"==u)return i+"VisualString '"+Se(r(l,n))+"'\n";if("1e"==u)return i+"BMPString '"+Se(r(l,n))+"'\n";if("30"==u){if("3000"==l.substr(n,4))return i+"SEQUENCE {}\n";S=i+"SEQUENCE\n";var v=t;if((2==(w=a(l,n)).length||3==w.length)&&"06"==l.substr(w[0],2)&&"04"==l.substr(w[w.length-1],2)){g=s.oidname(r(l,w[0]));var y=JSON.parse(JSON.stringify(t));y.x509ExtName=g,v=y}for(var b=0;b<w.length;b++)S+=o(l,v,w[b],i+"  ");return S}if("31"==u){S=i+"SET\n";var w=a(l,n);for(b=0;b<w.length;b++)S+=o(l,t,w[b],i+"  ");return S}if(0!=(128&(u=parseInt(u,16)))){var C=31&u;if(0!=(32&u)){var S=i+"["+C+"]\n";for(w=a(l,n),b=0;b<w.length;b++)S+=o(l,t,w[b],i+"  ");return S}return"68747470"==(d=r(l,n)).substr(0,8)&&(d=Se(d)),"subjectAltName"===t.x509ExtName&&2==C&&(d=Se(d)),i+"["+C+"] "+d+"\n"}return i+"UNKNOWN("+u+") "+r(l,n)+"\n"},de.isContextTag=function(e,t){var n,i;e=e.toLowerCase();try{n=parseInt(e,16)}catch(d){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((i=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==i}catch(d){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var n=t.getVblen(e,0),i=e.substr(0,2),s=t.getL(e,0);return e.length-i.length-s.length==2*n},de.checkStrictDER=function(e,t,n,i,s){var r=de;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");n=e.length,s=(i=e.length/2)<128?1:Math.ceil(i.toString(16))+1}if(r.getL(e,t).length>2*s)throw new Error("L of TLV too long: idx="+t);var o=r.getVblen(e,t);if(o>i)throw new Error("value of L too long than hex: idx="+t);var a=r.getTLV(e,t),l=a.length-2-r.getL(e,t).length;if(l!==2*o)throw new Error("V string length and L's value not the same:"+l+"/"+2*o);if(0===t&&e.length!=a.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+a.length);var c=e.substr(t,2);if("02"===c){var u=r.getVidx(e,t);if("00"==e.substr(u,2)&&e.charCodeAt(u+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var h=r.getVblen(e,t),d=0,p=r.getChildIdx(e,t),f=0;f<p.length;f++)d+=r.getTLV(e,p[f]).length,r.checkStrictDER(e,p[f],n,i,s);if(2*h!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+d)}},de.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.x509&&ce.asn1.x509||(ce.asn1.x509={}),ce.asn1.x509.Certificate=function(e){ce.asn1.x509.Certificate.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,i=t.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var e=new ce.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});e.init(this.prvKey),e.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=e.sign(),this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new n({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(e){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=e,this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new n({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+Ie(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==e&&(void 0!==e.tbscertobj&&(this.asn1TBSCert=e.tbscertobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},s.lang.extend(ce.asn1.x509.Certificate,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertificate=function(e){ce.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,i=t.DERInteger,s=t.DERTaggedObject,r=t.x509,o=r.Time,a=r.X500Name,l=r.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new s({obj:new i({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(e){this.asn1SerialNumber=new i(e)},this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new r.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new a(e)},this.setNotBeforeByParam=function(e){this.asn1NotBefore=new o(e)},this.setNotAfterByParam=function(e){this.asn1NotAfter=new o(e)},this.setSubjectByParam=function(e){this.asn1Subject=new a(e)},this.setSubjectPublicKey=function(e){this.asn1SubjPKey=new l(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=Be.getKey(e);this.asn1SubjPKey=new l(t)},this.appendExtension=function(e){this.extensionsArray.push(e)},this.appendExtensionByName=function(e,t){ce.asn1.x509.Extension.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var e=new n({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(e),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var t=new n({array:this.extensionsArray}),i=new s({explicit:!0,tag:"a3",obj:t});this.asn1Array.push(i)}var r=new n({array:this.asn1Array});return this.hTLV=r.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},s.lang.extend(ce.asn1.x509.TBSCertificate,ce.asn1.ASN1Object),ce.asn1.x509.Extension=function(e){ce.asn1.x509.Extension.superclass.constructor.call(this);var t=ce.asn1,n=t.DERObjectIdentifier,i=t.DEROctetString,s=t.DERBoolean,r=t.DERSequence;this.getEncodedHex=function(){var e=new n({oid:this.oid}),t=new i({hex:this.getExtnValueHex()}),o=new Array;return o.push(e),this.critical&&o.push(new s),o.push(t),new r({array:o}).getEncodedHex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},s.lang.extend(ce.asn1.x509.Extension,ce.asn1.ASN1Object),ce.asn1.x509.Extension.appendByNameToArray=function(e,t,n){var i=e.toLowerCase(),s=ce.asn1.x509;if("basicconstraints"==i){var r=new s.BasicConstraints(t);n.push(r)}else if("keyusage"==i)r=new s.KeyUsage(t),n.push(r);else if("crldistributionpoints"==i)r=new s.CRLDistributionPoints(t),n.push(r);else if("extkeyusage"==i)r=new s.ExtKeyUsage(t),n.push(r);else if("authoritykeyidentifier"==i)r=new s.AuthorityKeyIdentifier(t),n.push(r);else if("subjectkeyidentifier"==i)r=new s.SubjectKeyIdentifier(t),n.push(r);else if("authorityinfoaccess"==i)r=new s.AuthorityInfoAccess(t),n.push(r);else if("subjectaltname"==i)r=new s.SubjectAltName(t),n.push(r);else if("issueraltname"==i)r=new s.IssuerAltName(t),n.push(r);else{if("certificatepolicies"!=i)throw new Error("unsupported extension name: "+e);r=new s.CertificatePolicies(t),n.push(r)}},ce.asn1.x509.KeyUsage=function(e){ce.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=qe.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==e&&(void 0!==e.bin&&(this.asn1ExtnValue=new ce.asn1.DERBitString(e)),void 0!==e.names&&void 0!==e.names.length)){for(var n=e.names,i="000000000",s=0;s<n.length;s++)for(var r=0;r<t.length;r++)n[s]===t[r]&&(i=i.substring(0,r)+"1"+i.substring(r+1,i.length));this.asn1ExtnValue=new ce.asn1.DERBitString({bin:i})}},s.lang.extend(ce.asn1.x509.KeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.BasicConstraints=function(e){ce.asn1.x509.BasicConstraints.superclass.constructor.call(this,e),this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new ce.asn1.DERBoolean),this.pathLen>-1&&e.push(new ce.asn1.DERInteger({int:this.pathLen}));var t=new ce.asn1.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},s.lang.extend(ce.asn1.x509.BasicConstraints,ce.asn1.x509.Extension),ce.asn1.x509.CRLDistributionPoints=function(e){ce.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ce.asn1,n=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(e){this.asn1ExtnValue=new t.DERSequence({array:e})},this.setByOneURI=function(e){var t=new n.GeneralNames([{uri:e}]),i=new n.DistributionPointName(t),s=new n.DistributionPoint({dpobj:i});this.setByDPArray([s])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},s.lang.extend(ce.asn1.x509.CRLDistributionPoints,ce.asn1.x509.Extension),ce.asn1.x509.CertificatePolicies=function(e){ce.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,i=t.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var s=new n({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.CertificatePolicies,ce.asn1.x509.Extension),ce.asn1.x509.PolicyInformation=function(e){ce.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,i=t.DERObjectIdentifier,s=t.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new i({oid:this.params.policyoid})];if(void 0!==this.params.array){for(var t=[],r=0;r<this.params.array.length;r++)t.push(new s(this.params.array[r]));t.length>0&&e.push(new n({array:t}))}return new n({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.PolicyInformation,ce.asn1.ASN1Object),ce.asn1.x509.PolicyQualifierInfo=function(e){ce.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERSequence,i=t.DERIA5String,s=t.DERObjectIdentifier,r=t.x509.UserNotice;this.params=null,this.getEncodedHex=function(){return void 0!==this.params.cps?new n({array:[new s({oid:"1.3.6.1.5.5.7.2.1"}),new i({str:this.params.cps})]}).getEncodedHex():null!=this.params.unotice?new n({array:[new s({oid:"1.3.6.1.5.5.7.2.2"}),new r(this.params.unotice)]}).getEncodedHex():void 0},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.PolicyQualifierInfo,ce.asn1.ASN1Object),ce.asn1.x509.UserNotice=function(e){ce.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,n=ce.asn1.x509.DisplayText,i=ce.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new i(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new n(this.params.exptext)),new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.UserNotice,ce.asn1.ASN1Object),ce.asn1.x509.NoticeReference=function(e){ce.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,n=ce.asn1.DERInteger,i=ce.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var e=[];if(void 0!==this.params.org&&e.push(new i(this.params.org)),void 0!==this.params.noticenum){for(var s=[],r=this.params.noticenum,o=0;o<r.length;o++)s.push(new n(r[o]));e.push(new t({array:s}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.NoticeReference,ce.asn1.ASN1Object),ce.asn1.x509.DisplayText=function(e){ce.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},s.lang.extend(ce.asn1.x509.DisplayText,ce.asn1.DERAbstractString),ce.asn1.x509.ExtKeyUsage=function(e){ce.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ce.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var n=0;n<e.length;n++){var i=new t.DERObjectIdentifier(e[n]);this.asn1ExtnValue.appendASN1Object(i)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},s.lang.extend(ce.asn1.x509.ExtKeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityKeyIdentifier=function(e){ce.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1,n=t.DERTaggedObject,i=t.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new n({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var s=new t.DERSequence({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ce.asn1.DEROctetString(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=Be.getKey(e));var n=Be.getKeyID(t);this.asn1KID=new ce.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ce.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ce.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ce.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new qe;t.readCertPEM(e);var n=t.getSerialNumberHex();this.asn1CertSN=new ce.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},s.lang.extend(ce.asn1.x509.AuthorityKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.SubjectKeyIdentifier=function(e){ce.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var n=e;"string"==typeof e&&(n=Be.getKey(e));var i=Be.getKeyID(n);this.asn1KID=new ce.asn1.DEROctetString({hex:i})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},s.lang.extend(ce.asn1.x509.SubjectKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityInfoAccess=function(e){ce.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=ce.asn1,i=n.DERSequence,s=0;s<e.length;s++){var r=new i({array:[new n.DERObjectIdentifier(e[s].accessMethod),new n.x509.GeneralName(e[s].accessLocation)]});t.push(r)}this.asn1ExtnValue=new i({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},s.lang.extend(ce.asn1.x509.AuthorityInfoAccess,ce.asn1.x509.Extension),ce.asn1.x509.SubjectAltName=function(e){ce.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},s.lang.extend(ce.asn1.x509.SubjectAltName,ce.asn1.x509.Extension),ce.asn1.x509.IssuerAltName=function(e){ce.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},s.lang.extend(ce.asn1.x509.IssuerAltName,ce.asn1.x509.Extension),ce.asn1.x509.CRL=function(e){ce.asn1.x509.CRL.superclass.constructor.call(this),this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new ce.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg,prov:"cryptojs/jsrsa"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new ce.asn1.DERBitString({hex:"00"+this.hexSig});var e=new ce.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+Ie(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==e&&(void 0!==e.tbsobj&&(this.asn1TBSCertList=e.tbsobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},s.lang.extend(ce.asn1.x509.CRL,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertList=function(e){ce.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ce.asn1,n=t.DERSequence,i=t.x509,s=i.Time;this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new i.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new i.X500Name(e)},this.setThisUpdateByParam=function(e){this.asn1ThisUpdate=new s(e)},this.setNextUpdateByParam=function(e){this.asn1NextUpdate=new s(e)},this.addRevokedCert=function(e,t){var n={};null!=e&&null!=e&&(n.sn=e),null!=t&&null!=t&&(n.time=t);var s=new i.CRLEntry(n);this.aRevokedCert.push(s)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var e=new n({array:this.aRevokedCert});this.asn1Array.push(e)}var t=new n({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},s.lang.extend(ce.asn1.x509.TBSCertList,ce.asn1.ASN1Object),ce.asn1.x509.CRLEntry=function(e){ce.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ce.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},s.lang.extend(ce.asn1.x509.CRLEntry,ce.asn1.ASN1Object),ce.asn1.x509.X500Name=function(e){ce.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var t,n=ce.asn1,i=n.x509;this.setByString=function(e){var t=e.split("/");t.shift();for(var n=[],s=0;s<t.length;s++)if(t[s].match(/^[^=]+=.+$/))n.push(t[s]);else{var r=n.length-1;n[r]=n[r]+"/"+t[s]}for(s=0;s<n.length;s++)this.asn1Array.push(new i.RDN({str:n[s]}))},this.setByLdapString=function(e){var t=i.X500Name.ldapToCompat(e);this.setByString(t)},this.setByObject=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=new ce.asn1.x509.RDN({str:t+"="+e[t]});this.asn1Array?this.asn1Array.push(n):this.asn1Array=[n]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new n.DERSequence({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new qe).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new qe).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e))},s.lang.extend(ce.asn1.x509.X500Name,ce.asn1.ASN1Object),ce.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),(t=t.map((function(e){return e.replace(/,/,"\\,")}))).join(",")},ce.asn1.x509.X500Name.onelineToLDAP=function(e){return ce.asn1.x509.X500Name.compatToLDAP(e)},ce.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),n=!1,i=[],s=0;t.length>0;s++){var r=t.shift();if(!0===n){var o=(i.pop()+","+r).replace(/\\,/g,",");i.push(o),n=!1}else i.push(r);"\\"===r.substr(-1,1)&&(n=!0)}return(i=i.map((function(e){return e.replace("/","\\/")}))).reverse(),"/"+i.join("/")},ce.asn1.x509.X500Name.ldapToOneline=function(e){return ce.asn1.x509.X500Name.ldapToCompat(e)},ce.asn1.x509.RDN=function(e){ce.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(e){this.asn1Array.push(new ce.asn1.x509.AttributeTypeAndValue({str:e}))},this.addByMultiValuedString=function(e){for(var t=ce.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.getEncodedHex=function(){var e=new ce.asn1.DERSet({array:this.asn1Array});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.addByMultiValuedString(e.str)},s.lang.extend(ce.asn1.x509.RDN,ce.asn1.ASN1Object),ce.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,i=[],s=0;t.length>0;s++){var r=t.shift();if(!0===n){var o=(i.pop()+"+"+r).replace(/\\\+/g,"+");i.push(o),n=!1}else i.push(r);"\\"===r.substr(-1,1)&&(n=!0)}var a=!1,l=[];for(s=0;i.length>0;s++){if(r=i.shift(),!0===a){var c=l.pop();r.match(/"$/)?(o=(c+"+"+r).replace(/^([^=]+)="(.*)"$/,"$1=$2"),l.push(o),a=!1):l.push(c+"+"+r)}else l.push(r);r.match(/^[^=]+="/)&&(a=!0)}return l},ce.asn1.x509.AttributeTypeAndValue=function(e){ce.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var t=ce.asn1;this.setByString=function(e){var t=e.match(/^([^=]+)=(.+)$/);if(!t)throw"malformed attrTypeAndValueStr: "+e;this.setByAttrTypeAndValueStr(t[1],t[2])},this.setByAttrTypeAndValueStr=function(e,t){this.typeObj=ce.asn1.x509.OID.atype2obj(e);var n="utf8";"C"==e&&(n="prn"),this.valueObj=this.getValueObj(n,t)},this.getValueObj=function(e,n){if("utf8"==e)return new t.DERUTF8String({str:n});if("prn"==e)return new t.DERPrintableString({str:n});if("tel"==e)return new t.DERTeletexString({str:n});if("ia5"==e)return new t.DERIA5String({str:n});throw"unsupported directory string type: type="+e+" value="+n},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.setByString(e.str)},s.lang.extend(ce.asn1.x509.AttributeTypeAndValue,ce.asn1.ASN1Object),ce.asn1.x509.SubjectPublicKeyInfo=function(e){ce.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ce.asn1,n=t.DERInteger,i=t.DERBitString,s=t.DERObjectIdentifier,r=t.DERSequence,o=t.ASN1Util.newObject,a=t.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new r({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var e=this.getASN1Object();return this.hTLV=e.getEncodedHex(),this.hTLV},this.setPubKey=function(e){try{if(e instanceof ie){var t=o({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).getEncodedHex();this.asn1AlgId=new a({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(c){}try{if(e instanceof ce.crypto.ECDSA){var r=new s({name:e.curveName});this.asn1AlgId=new a({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(c){}try{if(e instanceof ce.crypto.DSA){r=new o({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new a({name:"dsa",asn1params:r});var l=new n({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+l.getEncodedHex()})}}catch(c){}},void 0!==e&&this.setPubKey(e)},s.lang.extend(ce.asn1.x509.SubjectPublicKeyInfo,ce.asn1.ASN1Object),ce.asn1.x509.Time=function(e){ce.asn1.x509.Time.superclass.constructor.call(this);var t=ce.asn1,n=t.DERUTCTime,i=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.getEncodedHex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new i(this.timeParams):"utc"==this.type?new n:new i,this.TLV=e.getEncodedHex(),this.TLV},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},s.lang.extend(ce.asn1.x509.Time,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier=function(e){ce.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ce.asn1,n=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var i in n)i===this.nameAlg&&(e=n[i]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var s=[this.asn1Alg];null!==this.asn1Params&&s.push(this.asn1Params);var r=new t.DERSequence({array:s});return this.hTLV=r.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var i=this.nameAlg.toLowerCase();"withdsa"!==i.substr(-7,7)&&"withecdsa"!==i.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},s.lang.extend(ce.asn1.x509.AlgorithmIdentifier,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ce.asn1.x509.GeneralName=function(e){ce.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},n=ce.asn1,i=n.DEROctetString,s=n.DERIA5String,r=n.DERTaggedObject,o=n.ASN1Object,a=n.x509.X500Name,l=Fe;this.explicit=!1,this.setByParam=function(e){var n=null;if(void 0!==e){if(void 0!==e.rfc822&&(this.type="rfc822",n=new s({str:e[this.type]})),void 0!==e.dns&&(this.type="dns",n=new s({str:e[this.type]})),void 0!==e.uri&&(this.type="uri",n=new s({str:e[this.type]})),void 0!==e.dn&&(this.type="dn",this.explicit=!0,n="string"==typeof e.dn?new a({str:e.dn}):e.dn instanceof ce.asn1.x509.X500Name?e.dn:new a(e.dn)),void 0!==e.ldapdn&&(this.type="dn",this.explicit=!0,n=new a({ldapstr:e.ldapdn})),void 0!==e.certissuer){this.type="dn",this.explicit=!0;var c=null;if((h=e.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(c=l(h)),null==c)throw"certissuer param not cert";(d=new qe).hex=c;var u=d.getIssuerHex();(n=new o).hTLV=u}if(void 0!==e.certsubj){var h,d;if(this.type="dn",this.explicit=!0,c=null,(h=e.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(c=l(h)),null==c)throw"certsubj param not cert";(d=new qe).hex=c,u=d.getSubjectHex(),(n=new o).hTLV=u}if(void 0!==e.ip){this.type="ip",this.explicit=!1;var p,f=e.ip,g="malformed IP address";if(f.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(p=He("["+f.split(".").join(",")+"]")).length)throw g}else if(f.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))p=Pe(f);else{if(!f.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw g;p=f}n=new i({hex:p})}if(null==this.type)throw"unsupported type in params="+e;this.asn1Obj=new r({explicit:this.explicit,tag:t[this.type],obj:n})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==e&&this.setByParam(e)},s.lang.extend(ce.asn1.x509.GeneralName,ce.asn1.ASN1Object),ce.asn1.x509.GeneralNames=function(e){ce.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ce.asn1;this.setByParamArray=function(e){for(var n=0;n<e.length;n++){var i=new t.x509.GeneralName(e[n]);this.asn1Array.push(i)}},this.getEncodedHex=function(){return new t.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},s.lang.extend(ce.asn1.x509.GeneralNames,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPointName=function(e){ce.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ce.asn1,n=t.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==e){if(!t.x509.GeneralNames.prototype.isPrototypeOf(e))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=e}},s.lang.extend(ce.asn1.x509.DistributionPointName,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPoint=function(e){ce.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ce.asn1;this.getEncodedHex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var n=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(n)}return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.dpobj&&(this.asn1DP=e.dpobj)},s.lang.extend(ce.asn1.x509.DistributionPoint,ce.asn1.ASN1Object),ce.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var t=new ce.asn1.DERObjectIdentifier({oid:this.name2oidList[e]});return this.objCache[e]=t,t},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.atype2oidList[e])throw"AttributeType name undefined: "+e;var t=new ce.asn1.DERObjectIdentifier({oid:this.atype2oidList[e]});return this.objCache[e]=t,t}},ce.asn1.x509.OID.oid2name=function(e){var t=ce.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},ce.asn1.x509.OID.oid2atype=function(e){var t=ce.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},ce.asn1.x509.OID.name2oid=function(e){var t=ce.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ce.asn1.x509.X509Util={},ce.asn1.x509.X509Util.newCertPEM=function(e){var t=ce.asn1.x509,n=t.Certificate,i=new(0,t.TBSCertificate);if(void 0===e.serial)throw"serial number undefined.";if(i.setSerialNumberByParam(e.serial),"string"!=typeof e.sigalg.name)throw"unproper signature algorithm name";if(i.setSignatureAlgByParam(e.sigalg),void 0===e.issuer)throw"issuer name undefined.";if(i.setIssuerByParam(e.issuer),void 0===e.notbefore)throw"notbefore undefined.";if(i.setNotBeforeByParam(e.notbefore),void 0===e.notafter)throw"notafter undefined.";if(i.setNotAfterByParam(e.notafter),void 0===e.subject)throw"subject name undefined.";if(i.setSubjectByParam(e.subject),void 0===e.sbjpubkey)throw"subject public key undefined.";if(i.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var s=0;s<e.ext.length;s++)for(key in e.ext[s])i.appendExtensionByName(key,e.ext[s][key]);if(void 0===e.cakey&&void 0===e.sighex)throw"param cakey and sighex undefined.";var r=null;return e.cakey&&(r=new n({tbscertobj:i,prvkeyobj:!0===e.cakey.isPrivate?e.cakey:Be.getKey.apply(null,e.cakey)})).sign(),e.sighex&&(r=new n({tbscertobj:i})).setSignatureHex(e.sighex),r.getPEMString()},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cms&&ce.asn1.cms||(ce.asn1.cms={}),ce.asn1.cms.Attribute=function(e){var t=ce.asn1;t.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var e,n,i;e=new t.DERObjectIdentifier({oid:this.attrTypeOid}),n=new t.DERSet({array:this.valueList});try{n.getEncodedHex()}catch(s){throw"fail valueSet.getEncodedHex in Attribute(1)/"+s}i=new t.DERSequence({array:[e,n]});try{this.hTLV=i.getEncodedHex()}catch(s){throw"failed seq.getEncodedHex in Attribute(2)/"+s}return this.hTLV}},s.lang.extend(ce.asn1.cms.Attribute,ce.asn1.ASN1Object),ce.asn1.cms.ContentType=function(e){var t=ce.asn1;t.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3";var n=null;void 0!==e&&(n=new t.DERObjectIdentifier(e),this.valueList=[n])},s.lang.extend(ce.asn1.cms.ContentType,ce.asn1.cms.Attribute),ce.asn1.cms.MessageDigest=function(e){var t,n=ce,i=n.asn1,s=i.DEROctetString,r=i.cms;r.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==e&&(e.eciObj instanceof r.EncapsulatedContentInfo&&"string"==typeof e.hashAlg?((t=new s({hex:n.crypto.Util.hashHex(e.eciObj.eContentValueHex,e.hashAlg)})).getEncodedHex(),this.valueList=[t]):((t=new s(e)).getEncodedHex(),this.valueList=[t]))},s.lang.extend(ce.asn1.cms.MessageDigest,ce.asn1.cms.Attribute),ce.asn1.cms.SigningTime=function(e){var t=ce.asn1;if(t.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==e){var n=new t.x509.Time(e);try{n.getEncodedHex()}catch(a){throw"SigningTime.getEncodedHex() failed/"+a}this.valueList=[n]}},s.lang.extend(ce.asn1.cms.SigningTime,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificate=function(e){var t=ce,n=t.asn1,i=n.DERSequence,s=n.cms;s.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(e){for(var r=[],o=0;o<e.length;o++){var a=Fe(e[o]),l=t.crypto.Util.hashHex(a,"sha1"),c=new n.DEROctetString({hex:l});c.getEncodedHex();var u=new s.IssuerSerial({cert:e[o]});u.getEncodedHex();var h=new i({array:[c,u]});h.getEncodedHex(),r.push(h)}var d=new i({array:r});d.getEncodedHex(),this.valueList=[d]},void 0!==e&&"object"==typeof e.array&&this.setCerts(e.array)},s.lang.extend(ce.asn1.cms.SigningCertificate,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificateV2=function(e){var t=ce.asn1,n=t.DERSequence,i=t.x509,s=t.cms,r=ce.crypto;if(s.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(e,o){for(var a=[],l=0;l<e.length;l++){var c=Fe(e[l]),u=[];"sha256"!==o&&u.push(new i.AlgorithmIdentifier({name:o}));var h=r.Util.hashHex(c,o),d=new t.DEROctetString({hex:h});d.getEncodedHex(),u.push(d);var p=new s.IssuerSerial({cert:e[l]});p.getEncodedHex(),u.push(p);var f=new n({array:u});f.getEncodedHex(),a.push(f)}var g=new n({array:a});g.getEncodedHex(),this.valueList=[g]},void 0!==e&&"object"==typeof e.array){var o="sha256";"string"==typeof e.hashAlg&&(o=e.hashAlg),this.setCerts(e.array,o)}},s.lang.extend(ce.asn1.cms.SigningCertificateV2,ce.asn1.cms.Attribute),ce.asn1.cms.IssuerSerial=function(e){var t=ce.asn1,n=t.DERInteger,i=t.x509,s=i.X500Name,r=i.GeneralNames,o=qe;t.cms.IssuerSerial.superclass.constructor.call(this),this.setByCertPEM=function(e){var t=Fe(e),i=new o;i.hex=t;var r=i.getIssuerHex();this.dIssuer=new s,this.dIssuer.hTLV=r;var a=i.getSerialNumberHex();this.dSerial=new n({hex:a})},this.getEncodedHex=function(){var e=new r([{dn:this.dIssuer}]),n=new t.DERSequence({array:[e,this.dSerial]});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(this.dIssuer=e.issuer instanceof s?e.issuer:new s(e.issuer),this.dSerial=e.serial instanceof n?e.serial:new n(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},s.lang.extend(ce.asn1.cms.IssuerSerial,ce.asn1.ASN1Object),ce.asn1.cms.IssuerAndSerialNumber=function(e){var t=ce.asn1,n=t.DERInteger,i=t.x509.X500Name,s=qe;t.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.setByCertPEM=function(e){var t=Fe(e),r=new s;r.hex=t;var o=r.getIssuerHex();this.dIssuer=new i,this.dIssuer.hTLV=o;var a=r.getSerialNumberHex();this.dSerial=new n({hex:a})},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(this.dIssuer=e.issuer instanceof i?e.issuer:new i(e.issuer),this.dSerial=e.serial instanceof n?e.serial:new n(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},s.lang.extend(ce.asn1.cms.IssuerAndSerialNumber,ce.asn1.ASN1Object),ce.asn1.cms.AttributeList=function(e){var t=ce.asn1,n=t.cms;n.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(e){e instanceof n.Attribute&&this.list.push(e)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new t.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},s.lang.extend(ce.asn1.cms.AttributeList,ce.asn1.ASN1Object),ce.asn1.cms.SignerInfo=function(e){var t=ce.asn1,n=t.DERTaggedObject,i=t.cms,s=i.AttributeList,r=i.ContentType,o=i.EncapsulatedContentInfo,a=i.MessageDigest,l=i.SignedData,c=t.x509.AlgorithmIdentifier,u=ce.crypto,h=Be;i.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new t.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new s,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new s,this.setSignerIdentifier=function(e){"string"==typeof e&&-1!=e.indexOf("CERTIFICATE")&&-1!=e.indexOf("BEGIN")&&-1!=e.indexOf("END")&&(this.dSignerIdentifier=new i.IssuerAndSerialNumber({cert:e}))},this.setForContentAndHash=function(e){void 0!==e&&(e.eciObj instanceof o&&(this.dSignedAttrs.add(new r({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new a({eciObj:e.eciObj,hashAlg:e.hashAlg}))),void 0!==e.sdObj&&e.sdObj instanceof l&&-1==e.sdObj.digestAlgNameList.join(":").indexOf(e.hashAlg)&&e.sdObj.digestAlgNameList.push(e.hashAlg),"string"==typeof e.hashAlg&&(this.dDigestAlgorithm=new c({name:e.hashAlg})))},this.sign=function(e,n){this.dSigAlg=new c({name:n});var i=this.dSignedAttrs.getEncodedHex(),s=h.getKey(e),r=new u.Signature({alg:n});r.init(s),r.updateHex(i);var o=r.sign();this.dSig=new t.DEROctetString({hex:o})},this.addUnsigned=function(e){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(e)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof s&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var e=new n({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),i=null;this.dUnsignedAttrs.length()>0&&(i=new n({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var r=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,e,this.dSigAlg,this.dSig];null!=i&&r.push(i);var o=new t.DERSequence({array:r});return this.hTLV=o.getEncodedHex(),this.hTLV}},s.lang.extend(ce.asn1.cms.SignerInfo,ce.asn1.ASN1Object),ce.asn1.cms.EncapsulatedContentInfo=function(e){var t=ce.asn1,n=t.DERTaggedObject,i=t.DERSequence,s=t.DERObjectIdentifier,r=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new s({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(e){this.dEContentType=e.match(/^[0-2][.][0-9.]+$/)?new s({oid:e}):new s({name:e})},this.setContentValue=function(e){void 0!==e&&("string"==typeof e.hex?this.eContentValueHex=e.hex:"string"==typeof e.str&&(this.eContentValueHex=Ce(e.str)))},this.setContentValueHex=function(e){this.eContentValueHex=e},this.setContentValueStr=function(e){this.eContentValueHex=Ce(e)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var e=new r({hex:this.eContentValueHex});this.dEContent=new n({obj:e,tag:"a0",explicit:!0});var t=[this.dEContentType];this.isDetached||t.push(this.dEContent);var s=new i({array:t});return this.hTLV=s.getEncodedHex(),this.hTLV}},s.lang.extend(ce.asn1.cms.EncapsulatedContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.ContentInfo=function(e){var t=ce.asn1,n=t.DERTaggedObject,i=t.DERSequence,s=t.x509;ce.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(e){"string"==typeof e&&(this.dContentType=s.OID.name2obj(e))},this.getEncodedHex=function(){var e=new n({obj:this.dContent,tag:"a0",explicit:!0}),t=new i({array:[this.dContentType,e]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&(e.type&&this.setContentType(e.type),e.obj&&e.obj instanceof t.ASN1Object&&(this.dContent=e.obj))},s.lang.extend(ce.asn1.cms.ContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.SignedData=function(e){var t=ce.asn1,n=t.ASN1Object,i=t.DERInteger,s=t.DERSet,r=t.DERSequence,o=t.DERTaggedObject,a=t.cms,l=a.EncapsulatedContentInfo,c=a.SignerInfo,u=a.ContentInfo,h=t.x509.AlgorithmIdentifier;ce.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new i({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new l,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new c],this.addCertificatesByPEM=function(e){var t=Fe(e),i=new n;i.hTLV=t,this.certificateList.push(i)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var e=[],t=0;t<this.digestAlgNameList.length;t++){var n=new h({name:this.digestAlgNameList[t]});e.push(n)}this.dDigestAlgs=new s({array:e})}var i=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var a=new s({array:this.certificateList});this.dCerts=new o({obj:a,tag:"a0",explicit:!1})}null!=this.dCerts&&i.push(this.dCerts);var l=new s({array:this.signerInfoList});i.push(l);var c=new r({array:i});return this.hTLV=c.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return Te(this.getContentInfoEncodedHex(),"CMS")}},s.lang.extend(ce.asn1.cms.SignedData,ce.asn1.ASN1Object),ce.asn1.cms.CMSUtil=new function(){},ce.asn1.cms.CMSUtil.newSignedData=function(e){var t=ce.asn1,n=t.cms,i=n.SignerInfo,s=n.SigningTime,r=n.SigningCertificate,o=n.SigningCertificateV2,a=t.cades.SignaturePolicyIdentifier,l=new(0,n.SignedData);if(l.dEncapContentInfo.setContentValue(e.content),"boolean"==typeof e.detached&&(l.dEncapContentInfo.isDetached=e.detached),"object"==typeof e.certs)for(var c=0;c<e.certs.length;c++)l.addCertificatesByPEM(e.certs[c]);for(l.signerInfoList=[],c=0;c<e.signerInfos.length;c++){var u=e.signerInfos[c],h=new i;for(attrName in h.setSignerIdentifier(u.signerCert),h.setForContentAndHash({sdObj:l,eciObj:l.dEncapContentInfo,hashAlg:u.hashAlg}),u.sAttr){var d=u.sAttr[attrName];if("SigningTime"==attrName){var p=new s(d);h.dSignedAttrs.add(p)}"SigningCertificate"==attrName&&(p=new r(d),h.dSignedAttrs.add(p)),"SigningCertificateV2"==attrName&&(p=new o(d),h.dSignedAttrs.add(p)),"SignaturePolicyIdentifier"==attrName&&(p=new a(d),h.dSignedAttrs.add(p))}h.sign(u.signerPrvKey,u.sigAlg),l.signerInfoList.push(h)}return l},ce.asn1.cms.CMSUtil.verifySignedData=function(e){var t=de.getVbyList,n=de.getTLVbyList,i=de.getIdxbyList,s=de.getChildIdx,r=de.getTLV,o=de.oidname,a=ce.crypto.Util.hashHex;void 0===e.cms&&(0,ce.lang.String.isHex)(e.cms);var l=e.cms,c=function(e,r){var a=r.idx;r.signerid_issuer1=n(e,a,[1,0],"30"),r.signerid_serial1=t(e,a,[1,1],"02"),r.hashalg=o(t(e,a,[2,0],"06"));var l=i(e,a,[3],"a0");r.idxSignedAttrs=l,u(e,r,l);var c=s(e,a).length;if(c<6)throw"malformed SignerInfo";r.sigalg=o(t(e,a,[c-2,0],"06")),r.sigval=t(e,a,[c-1],"04")},u=function(e,n,i){var r=s(e,i);n.signedAttrIdxList=r;for(var o=0;o<r.length;o++){var a,l=r[o],c=t(e,l,[0],"06");"2a864886f70d010905"===c?(a=Se(t(e,l,[1,0])),n.saSigningTime=a):"2a864886f70d010904"===c&&(a=t(e,l,[1,0],"04"),n.saMessageDigest=a)}},h=function(e,t,n,i){n.verifyDetail={};var o=n.verifyDetail,l=t.parse.econtent,c=n.hashalg,u=n.saMessageDigest;o.validMessageDigest=!1,a(l,c)===u&&(o.validMessageDigest=!0),function(e,t,n,i){var o,a=t.parse.certsIdx;if(void 0===t.certs){o=[],t.certkeys=[];for(var l=s(e,a),c=0;c<l.length;c++){var u=r(e,l[c]),h=new qe;h.readCertHex(u),o[c]=h,t.certkeys[c]=h.getPublicKey()}t.certs=o}else o=t.certs;for(t.cccc=o.length,t.cccci=l.length,c=0;c<o.length;c++){var d=h.getIssuerHex(),p=h.getSerialNumberHex();n.signerid_issuer1===d&&n.signerid_serial1===p&&(n.certkey_idx=c)}}(e,t,n),o.validSignatureValue=!1;var h=n.sigalg,d="31"+r(e,n.idxSignedAttrs).substr(2);n.signedattrshex=d;var p=t.certs[n.certkey_idx].getPublicKey(),f=new ce.crypto.Signature({alg:h});f.init(p),f.updateHex(d);var g=f.verify(n.sigval);o.validSignatureValue_isValid=g,!0===g&&(o.validSignatureValue=!0),n.isValid=!1,o.validMessageDigest&&o.validSignatureValue&&(n.isValid=!0)},d={isValid:!1,parse:{}};return function(e,n){if("2a864886f70d010702"!==t(e,0,[0],"06"))return n;n.cmsType="signedData",n.econtent=t(e,0,[1,0,2,1,0]),function(e,t){for(var n,s=3;s<6;s++)if(void 0!==(n=i(e,0,[1,0,s]))){var r=e.substr(n,2);"a0"===r&&(t.certsIdx=n),"a1"===r&&(t.revinfosIdx=n),"31"===r&&(t.signerinfosIdx=n)}}(e,n),n.signerInfos=[],function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var i=s(e,n);t.signerInfoIdxList=i;for(var r=0;r<i.length;r++){var o={idx:i[r]};c(e,o),t.signerInfos.push(o)}}}(e,n)}(l,d.parse),function(e,t){for(var n=t.parse.signerInfos,i=n.length,s=!0,r=0;r<i;r++){var o=n[r];h(e,t,o),o.isValid||(s=!1)}t.isValid=s}(l,d),d},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.tsp&&ce.asn1.tsp||(ce.asn1.tsp={}),ce.asn1.tsp.Accuracy=function(e){var t=ce.asn1,n=t.DERInteger,i=t.DERSequence,s=t.DERTaggedObject;t.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var e=null,t=null,r=null,o=[];if(null!=this.seconds&&(e=new n({int:this.seconds}),o.push(e)),null!=this.millis){var a=new n({int:this.millis});t=new s({obj:a,tag:"80",explicit:!1}),o.push(t)}if(null!=this.micros){var l=new n({int:this.micros});r=new s({obj:l,tag:"81",explicit:!1}),o.push(r)}var c=new i({array:o});return this.hTLV=c.getEncodedHex(),this.hTLV},void 0!==e&&("number"==typeof e.seconds&&(this.seconds=e.seconds),"number"==typeof e.millis&&(this.millis=e.millis),"number"==typeof e.micros&&(this.micros=e.micros))},s.lang.extend(ce.asn1.tsp.Accuracy,ce.asn1.ASN1Object),ce.asn1.tsp.MessageImprint=function(e){var t=ce.asn1,n=t.DERSequence,i=t.DEROctetString,s=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new n({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==e&&("string"==typeof e.hashAlg&&(this.dHashAlg=new s({name:e.hashAlg})),"string"==typeof e.hashValue&&(this.dHashValue=new i({hex:e.hashValue})))},s.lang.extend(ce.asn1.tsp.MessageImprint,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampReq=function(e){var t=ce.asn1,n=t.DERSequence,i=t.DERInteger,s=t.DERBoolean,r=t.DERObjectIdentifier,o=t.tsp,a=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(e){e instanceof a?this.dMessageImprint=e:"object"==typeof e&&(this.dMessageImprint=new a(e))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var e=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&e.push(this.dPolicy),null!=this.dNonce&&e.push(this.dNonce),this.certReq&&e.push(new s);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.mi&&this.setMessageImprint(e.mi),"object"==typeof e.policy&&(this.dPolicy=new r(e.policy)),"object"==typeof e.nonce&&(this.dNonce=new i(e.nonce)),"boolean"==typeof e.certreq&&(this.certReq=e.certreq))},s.lang.extend(ce.asn1.tsp.TimeStampReq,ce.asn1.ASN1Object),ce.asn1.tsp.TSTInfo=function(e){var t=ce.asn1,n=t.DERSequence,i=t.DERInteger,s=t.DERBoolean,r=t.DERGeneralizedTime,o=t.DERObjectIdentifier,a=t.tsp,l=a.MessageImprint,c=a.Accuracy,u=t.x509.X500Name;if(a.TSTInfo.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(e.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(e.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(e.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new l(e.messageImprint)),void 0!==e.serialNumber&&(this.dSerialNumber=new i(e.serialNumber)),void 0!==e.genTime&&(this.dGenTime=new r(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new c(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new s),void 0!==e.nonce&&(this.dNonce=new i(e.nonce)),void 0!==e.tsa&&(this.dTsa=new u(e.tsa))}},s.lang.extend(ce.asn1.tsp.TSTInfo,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampResp=function(e){var t=ce.asn1,n=t.DERSequence,i=t.ASN1Object,s=t.tsp,r=s.PKIStatusInfo;s.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dTST&&e.push(this.dTST);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new r(e.status)),void 0!==e.tst&&e.tst instanceof i&&(this.dTST=e.tst.getContentInfo()))},s.lang.extend(ce.asn1.tsp.TimeStampResp,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatusInfo=function(e){var t=ce.asn1,n=t.DERSequence,i=t.tsp,s=i.PKIStatus,r=i.PKIFreeText,o=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dStatusString&&e.push(this.dStatusString),null!=this.dFailureInfo&&e.push(this.dFailureInfo);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new s(e.status)),"object"==typeof e.statstr&&(this.dStatusString=new r({array:e.statstr})),"object"==typeof e.failinfo&&(this.dFailureInfo=new o(e.failinfo)))},s.lang.extend(ce.asn1.tsp.PKIStatusInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus=function(e){var t=ce.asn1,n=t.DERInteger,i=t.tsp,s=i.PKIStatus;if(i.PKIStatus.superclass.constructor.call(this),this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==e)if(void 0!==e.name){var r=s.valueList;if(void 0===r[e.name])throw"name undefined: "+e.name;this.dStatus=new n({int:r[e.name]})}else this.dStatus=new n(e)},s.lang.extend(ce.asn1.tsp.PKIStatus,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},ce.asn1.tsp.PKIFreeText=function(e){var t=ce.asn1,n=t.DERSequence,i=t.DERUTF8String;t.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var e=[],t=0;t<this.textList.length;t++)e.push(new i({str:this.textList[t]}));var s=new n({array:e});return this.hTLV=s.getEncodedHex(),this.hTLV},void 0!==e&&"object"==typeof e.array&&(this.textList=e.array)},s.lang.extend(ce.asn1.tsp.PKIFreeText,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo=function(e){var t=ce.asn1,n=t.DERBitString,i=t.tsp.PKIFailureInfo;if(i.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var e=new Number(this.value).toString(2),t=new n;return t.setByBinaryString(e),this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e)if("string"==typeof e.name){var s=i.valueList;if(void 0===s[e.name])throw"name undefined: "+e.name;this.value=s[e.name]}else"number"==typeof e.int&&(this.value=e.int)},s.lang.extend(ce.asn1.tsp.PKIFailureInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},ce.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ce.asn1.tsp.SimpleTSAAdapter=function(e){var t=ce.asn1.tsp,n=ce.crypto.Util.hashHex;t.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,i){var s=n(e,i);this.params.tstInfo.messageImprint={hashAlg:i,hashValue:s},this.params.tstInfo.serialNumber={int:this.serial++};var r=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:r},t.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.tsp.SimpleTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.FixedTSAAdapter=function(e){var t=ce.asn1.tsp,n=ce.crypto.Util.hashHex;t.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,i){var s=n(e,i);return this.params.tstInfo.messageImprint={hashAlg:i,hashValue:s},t.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.tsp.FixedTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.TSPUtil=new function(){},ce.asn1.tsp.TSPUtil.newTimeStampToken=function(e){var t=ce.asn1,n=t.cms,i=t.tsp.TSTInfo,s=new n.SignedData,r=new i(e.tstInfo).getEncodedHex();if(s.dEncapContentInfo.setContentValue({hex:r}),s.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof e.certs)for(var o=0;o<e.certs.length;o++)s.addCertificatesByPEM(e.certs[o]);var a=s.signerInfoList[0];a.setSignerIdentifier(e.signerCert),a.setForContentAndHash({sdObj:s,eciObj:s.dEncapContentInfo,hashAlg:e.hashAlg});var l=new n.SigningCertificate({array:[e.signerCert]});return a.dSignedAttrs.add(l),a.sign(e.signerPrvKey,e.sigAlg),s},ce.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=de,n=t.getV,i=t.getTLV,s={certreq:!1},r=(0,t.getChildIdx)(e,0);if(r.length<2)throw"TimeStampReq must have at least 2 items";var o=i(e,r[1]);s.mi=ce.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var a=2;a<r.length;a++){var l=r[a],c=e.substr(l,2);if("06"==c){var u=n(e,l);s.policy=t.hextooidstr(u)}"02"==c&&(s.nonce=n(e,l)),"01"==c&&(s.certreq=!0)}return s},ce.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=de,n=t.getChildIdx,i=t.getV,s=t.getIdxbyList,r={};if("30"!=e.substr(0,2))throw"head of messageImprint hex shall be '30'";n(e,0);var o=i(e,s(e,0,[0,0])),a=t.hextooidstr(o),l=ce.asn1.x509.OID.oid2name(a);if(""==l)throw"hashAlg name undefined: "+a;var c=l,u=s(e,0,[1]);return r.hashAlg=c,r.hashValue=i(e,u),r},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cades&&ce.asn1.cades||(ce.asn1.cades={}),ce.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ce.asn1,n=t.DERObjectIdentifier,i=t.DERSequence,s=t.cades,r=s.OtherHashAlgAndValue;if(s.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==e&&"string"==typeof e.oid&&"object"==typeof e.hash){var o=new i({array:[new n({oid:e.oid}),new r(e.hash)]});this.valueList=[o]}},s.lang.extend(ce.asn1.cades.SignaturePolicyIdentifier,ce.asn1.cms.Attribute),ce.asn1.cades.OtherHashAlgAndValue=function(e){var t=ce.asn1,n=t.DERSequence,i=t.DEROctetString,s=t.x509.AlgorithmIdentifier;t.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var e=new n({array:[this.dAlg,this.dHash]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&"string"==typeof e.alg&&"string"==typeof e.hash&&(this.dAlg=new s({name:e.alg}),this.dHash=new i({hex:e.hash}))},s.lang.extend(ce.asn1.cades.OtherHashAlgAndValue,ce.asn1.ASN1Object),ce.asn1.cades.SignatureTimeStamp=function(e){var t=ce.asn1,n=t.ASN1Object;if(t.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==e){if(void 0!==e.res)if("string"==typeof e.res&&e.res.match(/^[0-9A-Fa-f]+$/));else if(!(e.res instanceof n))throw"res param shall be ASN1Object or hex string";if(void 0!==e.tst)if("string"==typeof e.tst&&e.tst.match(/^[0-9A-Fa-f]+$/)){var i=new n;this.tstHex=e.tst,i.hTLV=this.tstHex,i.getEncodedHex(),this.valueList=[i]}else if(!(e.tst instanceof n))throw"tst param shall be ASN1Object or hex string"}},s.lang.extend(ce.asn1.cades.SignatureTimeStamp,ce.asn1.cms.Attribute),ce.asn1.cades.CompleteCertificateRefs=function(e){var t=ce.asn1.cades;t.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(e){this.valueList=[];for(var n=0;n<e.length;n++){var i=new t.OtherCertID(e[n]);this.valueList.push(i)}},void 0!==e&&"object"==typeof e&&"number"==typeof e.length&&this.setByArray(e)},s.lang.extend(ce.asn1.cades.CompleteCertificateRefs,ce.asn1.cms.Attribute),ce.asn1.cades.OtherCertID=function(e){var t=ce.asn1,n=t.cms,i=t.cades;i.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(e){this.dOtherCertHash=new i.OtherHash(e),this.hasIssuerSerial&&(this.dIssuerSerial=new n.IssuerAndSerialNumber(e))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var e=[this.dOtherCertHash];null!=this.dIssuerSerial&&e.push(this.dIssuerSerial);var n=new t.DERSequence({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),"object"==typeof e&&(!1===e.hasis&&(this.hasIssuerSerial=!1),"string"==typeof e.cert&&this.setByCertPEM(e.cert)))},s.lang.extend(ce.asn1.cades.OtherCertID,ce.asn1.ASN1Object),ce.asn1.cades.OtherHash=function(e){var t=ce.asn1,n=t.cades,i=n.OtherHashAlgAndValue,s=ce.crypto.Util.hashHex;if(n.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(e){if(-1==e.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var t=Fe(e),n=s(t,this.alg);this.dOtherHash=new i({alg:this.alg,hash:n})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==e)if("string"==typeof e)if(-1!=e.indexOf("-----BEGIN "))this.setByCertPEM(e);else{if(!e.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new t.DEROctetString({hex:e})}else"object"==typeof e&&("string"==typeof e.cert?("string"==typeof e.alg&&(this.alg=e.alg),this.setByCertPEM(e.cert)):this.dOtherHash=new i(e))},s.lang.extend(ce.asn1.cades.OtherHash,ce.asn1.ASN1Object),ce.asn1.cades.CAdESUtil=new function(){},ce.asn1.cades.CAdESUtil.addSigTS=function(e,t,n){},ce.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=de.getChildIdx,n=de.getTLV,i=de.getIdxbyList,s=ce.asn1,r=s.ASN1Object,o=s.cms.SignedData,a=s.cades.CAdESUtil,l={};if("06092a864886f70d010702"!=(0,de.getTLVbyList)(e,0,[0]))throw"hex is not CMS SignedData";var c=t(e,i(e,0,[1,0]));if(c.length<4)throw"num of SignedData elem shall be 4 at least";var u=c.shift();l.version=n(e,u);var h=c.shift();l.algs=n(e,h);var d=c.shift();l.encapcontent=n(e,d),l.certs=null,l.revs=null,l.si=[];var p=c.shift();"a0"==e.substr(p,2)&&(l.certs=n(e,p),p=c.shift()),"a1"==e.substr(p,2)&&(l.revs=n(e,p),p=c.shift());var f=p;if("31"!=e.substr(f,2))throw"Can't find signerInfos";for(var g=t(e,f),m=0;m<g.length;m++){var v=a.parseSignerInfoForAddingUnsigned(e,g[m],m);l.si[m]=v}var y=null;for(l.obj=new o,(y=new r).hTLV=l.version,l.obj.dCMSVersion=y,(y=new r).hTLV=l.algs,l.obj.dDigestAlgs=y,(y=new r).hTLV=l.encapcontent,l.obj.dEncapContentInfo=y,(y=new r).hTLV=l.certs,l.obj.dCerts=y,l.obj.signerInfoList=[],m=0;m<l.si.length;m++)l.obj.signerInfoList.push(l.si[m].obj);return l},ce.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var i=de.getTLV,s=de.getV,r=ce.asn1,o=r.ASN1Object,a=r.cms,l=a.AttributeList,c=a.SignerInfo,u={},h=(0,de.getChildIdx)(e,t);if(6!=h.length)throw"not supported items for SignerInfo (!=6)";var d=h.shift();u.version=i(e,d);var p=h.shift();u.si=i(e,p);var f=h.shift();u.digalg=i(e,f);var g=h.shift();u.sattrs=i(e,g);var m=h.shift();u.sigalg=i(e,m);var v=h.shift();u.sig=i(e,v),u.sigval=s(e,v);var y=null;return u.obj=new c,(y=new o).hTLV=u.version,u.obj.dCMSVersion=y,(y=new o).hTLV=u.si,u.obj.dSignerIdentifier=y,(y=new o).hTLV=u.digalg,u.obj.dDigestAlgorithm=y,(y=new o).hTLV=u.sattrs,u.obj.dSignedAttrs=y,(y=new o).hTLV=u.sigalg,u.obj.dSigAlg=y,(y=new o).hTLV=u.sig,u.obj.dSig=y,u.obj.dUnsignedAttrs=new l,u},void 0!==ce.asn1.csr&&ce.asn1.csr||(ce.asn1.csr={}),ce.asn1.csr.CertificationRequest=function(e){var t=ce,n=t.asn1,i=n.DERBitString,s=n.DERSequence,r=n.x509;n.csr.CertificationRequest.superclass.constructor.call(this),this.sign=function(e,n){null==this.prvKey&&(this.prvKey=n),this.asn1SignatureAlg=new r.AlgorithmIdentifier({name:e});var o=new t.crypto.Signature({alg:e});o.init(this.prvKey),o.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=o.sign(),this.asn1Sig=new i({hex:"00"+this.hexSig});var a=new s({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=a.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return Te(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==e&&void 0!==e.csrinfo&&(this.asn1CSRInfo=e.csrinfo)},s.lang.extend(ce.asn1.csr.CertificationRequest,ce.asn1.ASN1Object),ce.asn1.csr.CertificationRequestInfo=function(e){var t=ce.asn1,n=t.DERInteger,i=t.DERSequence,s=t.DERSet,r=t.DERNull,o=t.DERTaggedObject,a=t.DERObjectIdentifier,l=t.x509,c=l.X500Name,u=l.Extension,h=Be;t.csr.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new n({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(e){this.asn1Subject=new c(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=h.getKey(e);this.asn1SubjPKey=new l.SubjectPublicKeyInfo(t)},this.appendExtensionByName=function(e,t){u.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new i({array:this.extensionsArray}),t=new s({array:[e]}),n=new i({array:[new a({oid:"1.2.840.113549.1.9.14"}),t]}),l=new o({explicit:!0,tag:"a0",obj:n});this.asn1Array.push(l)}else l=new o({explicit:!1,tag:"a0",obj:new r}),this.asn1Array.push(l);var c=new i({array:this.asn1Array});return this.hTLV=c.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},s.lang.extend(ce.asn1.csr.CertificationRequestInfo,ce.asn1.ASN1Object),ce.asn1.csr.CSRUtil=new function(){},ce.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=Be,n=ce.asn1.csr;if(void 0===e.subject)throw"parameter subject undefined";if(void 0===e.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===e.sigalg)throw"parameter sigalg undefined";if(void 0===e.sbjprvkey)throw"parameter sbjpubkey undefined";var i=new n.CertificationRequestInfo;if(i.setSubjectByParam(e.subject),i.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var s=0;s<e.ext.length;s++)for(key in e.ext[s])i.appendExtensionByName(key,e.ext[s][key]);var r=new n.CertificationRequest({csrinfo:i}),o=t.getKey(e.sbjprvkey);return r.sign(e.sigalg,o),r.getPEMString()},ce.asn1.csr.CSRUtil.getInfo=function(e){var t=de.getTLVbyListEx,n={subject:{},pubkey:{}};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var i=Fe(e,"CERTIFICATE REQUEST");try{n.subject.hex=t(i,0,[0,1])}catch(d){}try{n.subject.name=qe.hex2dn(n.subject.hex)}catch(d){}n.pubkey.hex=t(i,0,[0,2]),n.pubkey.obj=Be.getKey(n.pubkey.hex,null,"pkcs8pub");try{n.ext=[];var s=new qe;s.parseExt(e),n.ext.push({subjectAltName:{array:s.getExtSubjectAltName2()}})}catch(d){}return n},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.ocsp&&ce.asn1.ocsp||(ce.asn1.ocsp={}),ce.asn1.ocsp.DEFAULT_HASH="sha1",ce.asn1.ocsp.CertID=function(e){var t=ce.asn1,n=t.DEROctetString,i=t.DERInteger,s=t.DERSequence,r=t.x509.AlgorithmIdentifier,o=t.ocsp,a=o.DEFAULT_HASH,l=ce.crypto.Util.hashHex,c=qe,u=de;if(o.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(e,t,s,o){void 0===o&&(o=a),this.dHashAlg=new r({name:o}),this.dIssuerNameHash=new n({hex:e}),this.dIssuerKeyHash=new n({hex:t}),this.dSerialNumber=new i({hex:s})},this.setByCert=function(e,t,n){void 0===n&&(n=a);var i=new c;i.readCertPEM(t);var s=new c;s.readCertPEM(e);var r=s.getPublicKeyHex(),o=u.getTLVbyList(r,0,[1,0],"30"),h=i.getSerialNumberHex(),d=l(s.getSubjectHex(),n),p=l(o,n);this.setByValue(d,p,h,n),this.hoge=i.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var e=new s({array:[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e){var h=e;if(void 0!==h.issuerCert&&void 0!==h.subjectCert){var d=a;void 0===h.alg&&(d=void 0),this.setByCert(h.issuerCert,h.subjectCert,d)}else{if(void 0===h.namehash||void 0===h.keyhash||void 0===h.serial)throw"invalid constructor arguments";d=a,void 0===h.alg&&(d=void 0),this.setByValue(h.namehash,h.keyhash,h.serial,d)}}},s.lang.extend(ce.asn1.ocsp.CertID,ce.asn1.ASN1Object),ce.asn1.ocsp.Request=function(e){var t=ce.asn1,n=t.DERSequence,i=t.ocsp;if(i.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var s=new i.CertID(e);this.dReqCert=s}},s.lang.extend(ce.asn1.ocsp.Request,ce.asn1.ASN1Object),ce.asn1.ocsp.TBSRequest=function(e){var t=ce.asn1,n=t.DERSequence,i=t.ocsp;i.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var s=new i.Request(e[0]);t.push(s)}this.dRequestList=t},this.getEncodedHex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new n({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var i=new n({array:e});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},s.lang.extend(ce.asn1.ocsp.TBSRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPRequest=function(e){var t=ce.asn1,n=t.DERSequence,i=t.ocsp;if(i.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList){var s=new i.TBSRequest(e);this.dTbsRequest=s}},s.lang.extend(ce.asn1.ocsp.OCSPRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPUtil={},ce.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var i=ce.asn1.ocsp;return void 0===n&&(n=i.DEFAULT_HASH),new i.OCSPRequest({reqList:[{alg:n,issuerCert:e,subjectCert:t}]}).getEncodedHex()},ce.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=de.getVbyList,n=de.getVbyListEx,i=de.getIdxbyList,s=de.getV,r={};try{var o=n(e,0,[0],"0a");r.responseStatus=parseInt(o,16)}catch(u){}if(0!==r.responseStatus)return r;try{var a=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(a,2)?r.certStatus="good":"a1"===e.substr(a,2)?(r.certStatus="revoked",r.revocationTime=Se(t(e,a,[0]))):"82"===e.substr(a,2)&&(r.certStatus="unknown")}catch(u){}try{var l=i(e,0,[1,0,1,0,0,2,0,2]);r.thisUpdate=Se(s(e,l))}catch(u){}try{var c=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(c,2)&&(r.nextUpdate=Se(t(e,c,[0])))}catch(u){}return r},void 0!==ce&&ce||(ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof Buffer?(ue=function(e){return ve(new Buffer(e,"utf8").toString("base64"))},he=function(e){return new Buffer(ye(e),"base64").toString("utf8")}):(ue=function(e){return be(Oe(Me(e)))},he=function(e){return decodeURIComponent(Re(we(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var i=this.getDigestInfoHex(e,t),s=n/4;if(i.length+22>s)throw"key is too short for SigAlg: keylen="+n+","+t;for(var r="0001",o="00"+i,a="",l=s-r.length-o.length,c=0;c<l;c+=2)a+="ff";return r+a+o},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new ee,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),ge(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new S(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],ge(n)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new S(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var i=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(i).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(r){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+r}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(r){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+r}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{this.mac=m.algo.HMAC.create(ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n],this.pass)}catch(h){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+h}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=ke(e)),void(this.pass=m.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Ce(e.utf8)),void 0!==e.rstr&&(t=ke(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=we(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=m.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",i=t/4-e.length,s=0;s<i;s++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(n){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+n)}this.init=function(e,t){var n=null;try{n=void 0===t?Be.getKey(e):Be.getKey(e,t)}catch(i){throw"init failed:"+i}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,this.provName=void 0===e.prov?ce.crypto.Util.DEFAULTPROVIDER[this.algName]:e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Be.getKey(e.prvkeypem),this.init(t)}catch(u){throw"fatal error to load pem private key: "+u}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof ie&&t.isPublic){var i=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===i)return t.encrypt(e);if("RSAOAEP"===i)return t.encryptOAEP(e,"sha1");var s=i.match(/^RSAOAEP(\d+)$/);if(null!==s)return t.encryptOAEP(e,"sha"+s[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof ie&&t.isPrivate){var i=ce.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===i)return t.decrypt(e);if("RSAOAEP"===i)return t.decryptOAEP(e,"sha1");var s=i.match(/^RSAOAEP(\d+)$/);if(null!==s)return t.decryptOAEP(e,"sha"+s[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,n=S,i=oe,s=ce.crypto.ECDSA,r=ce.crypto.ECParameterDB,o=s.getName,a=de.getVbyListEx,l=de.isASN1HEX,c=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),c).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=r.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.getBigRandom(this.ecparams.n),t=this.ecparams.G.multiply(e),n=t.getX().toBigInteger(),i=t.getY().toBigInteger(),s=this.ecparams.keylen/4,r=("0000000000"+e.toString(16)).slice(-s),o="04"+("0000000000"+n.toString(16)).slice(-s)+("0000000000"+i.toString(16)).slice(-s);return this.setPrivateKeyHex(r),this.setPublicKeyHex(o),{ecprvhex:r,ecpubhex:o}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var i=new n(t,16),r=this.ecparams.n,o=new n(e.substring(0,this.ecparams.keylen/4),16);do{var a=this.getBigRandom(r),l=this.ecparams.G.multiply(a).getX().toBigInteger().mod(r)}while(l.compareTo(n.ZERO)<=0);var c=a.modInverse(r).multiply(o.add(i.multiply(l))).mod(r);return s.biRSSigToASN1Sig(l,c)},this.sign=function(e,t){var i=t,s=this.ecparams.n,r=n.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(s),a=this.ecparams.G.multiply(o).getX().toBigInteger().mod(s)}while(a.compareTo(S.ZERO)<=0);var l=o.modInverse(s).multiply(r.add(i.multiply(a))).mod(s);return this.serializeSig(a,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){try{var o,a,l=s.parseSigHex(t);o=l.r,a=l.s;var c=i.decodeFromHex(this.ecparams.curve,r),u=new n(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(u,o,a,c)}catch(h){return!1}},this.verify=function(e,t,s){var r,o,a;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);r=l.r,o=l.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";r=t.r,o=t.s}if(s instanceof oe)a=s;else{if(!Bitcoin.Util.isArray(s))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=i.decodeFrom(this.ecparams.curve,s)}var c=n.fromByteArrayUnsigned(e);return this.verifyRaw(c,r,o,a)},this.verifyRaw=function(e,t,i,s){var r=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(r)>=0)return!1;if(i.compareTo(n.ONE)<0||i.compareTo(r)>=0)return!1;var a=i.modInverse(r),l=e.multiply(a).mod(r),c=t.multiply(a).mod(r);return o.multiply(l).add(s.multiply(c)).getX().toBigInteger().mod(r).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),i=t.toByteArraySigned(),s=[];return s.push(2),s.push(n.length),(s=s.concat(n)).push(2),s.push(i.length),(s=s.concat(i)).unshift(s.length),s.unshift(48),s},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var s=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(i),s:n.fromByteArrayUnsigned(s)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var i=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(i),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(i),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,n,i;try{t=a(e,0,["[0]",0],"06"),n=a(e,0,[1],"04");try{i=a(e,0,["[1]",0],"03")}catch(s){}}catch(s){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,i,s;try{a(e,0,[1,0],"06"),n=a(e,0,[1,1],"06"),i=a(e,0,[2,0,1],"04");try{s=a(e,0,[2,0,"[1]",0],"03")}catch(r){}}catch(r){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(s),this.setPrivateKeyHex(i),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,i;try{a(e,0,[0,0],"06"),n=a(e,0,[0,1],"06"),i=a(e,0,[1],"03")}catch(s){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},this.readCertPubKeyHex=function(e,n){if(!1===l(e))throw new t("not ASN.1 hex string");var i,s;try{i=a(e,0,[0,5,0,1],"06"),s=a(e,0,[0,5,1],"03")}catch(r){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(i),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(s)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new S(t.r,16),s:new S(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de.getChildIdx,n=de.getV;if(de.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=t(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var s=i[0],r=i[1];if("02"!=e.substr(s,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(r,2))throw new Error("2nd item not ASN.1 integer");return{r:n(e,s),s:n(e,r)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,i=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==i.substr(0,2)&&i.length%32==2&&(i=i.substr(2)),n.length%32==30&&(n="00"+n),i.length%32==30&&(i="00"+i),n.length%32!=0)throw"unknown ECDSA sig r length error";if(i.length%32!=0)throw"unknown ECDSA sig s length error";return n+i},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new S(e,16),i=new S(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(n,i)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ce.asn1,i=new n.DERInteger({bigint:e}),s=new n.DERInteger({bigint:t});return new n.DERSequence({array:[i,s]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new S(e,16)}this.getByName=function(n){var i=n;if(void 0!==t[i]&&(i=t[n]),void 0!==e[i])return e[i];throw"unregistered EC curve name: "+i},this.regist=function(i,s,r,o,a,l,c,u,h,d,p,f){e[i]={};var g=n(r),m=n(o),v=n(a),y=n(l),b=n(c),w=new ae(g,m,v),C=w.decodePointHex("04"+u+h);e[i].name=i,e[i].keylen=s,e[i].curve=w,e[i].G=C,e[i].n=y,e[i].h=b,e[i].oid=p,e[i].info=f;for(var S=0;S<d.length;S++)t[d[S]]=i}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.DSA=function(){var e=de.getVbyListEx,t=de.isASN1HEX,n=S;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,i,s){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=i,this.x=s},this.setPrivateHex=function(e,t,n,i,s){var r,o,a,l,c;r=new S(e,16),o=new S(t,16),a=new S(n,16),l="string"==typeof i&&i.length>1?new S(i,16):null,c=new S(s,16),this.setPrivate(r,o,a,l,c)},this.setPublic=function(e,t,n,i){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=i,this.x=null},this.setPublicHex=function(e,t,n,i){var s,r,o,a;s=new S(e,16),r=new S(t,16),o=new S(n,16),a=new S(i,16),this.setPublic(s,r,o,a)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,i=this.g,s=this.x,r=ce.crypto.Util.getRandomBigIntegerMinToMax(S.ONE.add(S.ONE),n.subtract(S.ONE)),o=new S(e.substr(0,n.bitLength()/4),16),a=i.modPow(r,t).mod(n),l=r.modInverse(n).multiply(o.add(s.multiply(a))).mod(n);return ce.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:l}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,i=this.q,s=this.g,r=this.y,o=this.parseASN1Signature(t),a=o[0],l=o[1],c=new S(e.substr(0,i.bitLength()/4),16);if(S.ZERO.compareTo(a)>0||a.compareTo(i)>0)throw"invalid DSA signature";if(S.ZERO.compareTo(l)>=0||l.compareTo(i)>0)throw"invalid DSA signature";var u=l.modInverse(i),h=c.multiply(u).mod(i),d=a.multiply(u).mod(i);return 0==s.modPow(h,n).multiply(r.modPow(d,n)).mod(n).mod(i).compareTo(a)},this.parseASN1Signature=function(t){try{return[new n(e(t,0,[0],"02"),16),new n(e(t,0,[1],"02"),16)]}catch(i){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(n){var i,s,r,o,a;if(!1===t(n))throw new Error("not ASN.1 hex string");try{i=e(n,0,[1],"02"),s=e(n,0,[2],"02"),r=e(n,0,[3],"02"),o=e(n,0,[4],"02"),a=e(n,0,[5],"02")}catch(l){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(i,s,r,o,a)},this.readPKCS8PrvKeyHex=function(n){var i,s,r,o;if(!1===t(n))throw new Error("not ASN.1 hex string");try{i=e(n,0,[1,1,0],"02"),s=e(n,0,[1,1,1],"02"),r=e(n,0,[1,1,2],"02"),o=e(n,0,[2,0],"02")}catch(a){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(i,s,r,null,o)},this.readPKCS8PubKeyHex=function(n){var i,s,r,o;if(!1===t(n))throw new Error("not ASN.1 hex string");try{i=e(n,0,[0,1,0],"02"),s=e(n,0,[0,1,1],"02"),r=e(n,0,[0,1,2],"02"),o=e(n,0,[1,0],"02")}catch(a){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(i,s,r,o)},this.readCertPubKeyHex=function(n,i){var s,r,o,a;if(!1===t(n))throw new Error("not ASN.1 hex string");try{s=e(n,0,[0,5,0,1,0],"02"),r=e(n,0,[0,5,0,1,1],"02"),o=e(n,0,[0,5,0,1,2],"02"),a=e(n,0,[0,5,1,0],"02")}catch(l){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(s,r,o,a)}};var Be=function(){var e=function(e,n,i){return t(m.AES,e,n,i)},t=function(e,t,n,i){var s=m.enc.Hex.parse(t),r=m.enc.Hex.parse(n),o=m.enc.Hex.parse(i),a={};a.key=r,a.iv=o,a.ciphertext=s;var l=e.decrypt(a,r,{iv:o});return m.enc.Hex.stringify(l)},n=function(e,t,n){return i(m.AES,e,t,n)},i=function(e,t,n,i){var s=m.enc.Hex.parse(t),r=m.enc.Hex.parse(n),o=m.enc.Hex.parse(i),a=e.encrypt(s,r,{iv:o}),l=m.enc.Hex.parse(a.toString());return m.enc.Base64.stringify(l)},s={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,i){return t(m.TripleDES,e,n,i)},eproc:function(e,t,n){return i(m.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,i){return t(m.DES,e,n,i)},eproc:function(e,t,n){return i(m.DES,e,t,n)},keylen:8,ivlen:8}},r=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var i=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));i&&(t.type=i[1]);var s=-1,r=0;-1!=e.indexOf("\r\n\r\n")&&(s=e.indexOf("\r\n\r\n"),r=2),-1!=e.indexOf("\n\n")&&(s=e.indexOf("\n\n"),r=1);var o=e.indexOf("-----END");if(-1!=s&&-1!=o){var a=e.substring(s+2*r,o-r);a=a.replace(/\s+/g,""),t.data=a}return t},o=function(e,t,n){for(var i=n.substring(0,16),r=m.enc.Hex.parse(i),o=m.enc.Utf8.parse(t),a=s[e].keylen+s[e].ivlen,l="",c=null;;){var u=m.algo.MD5.create();if(null!=c&&u.update(c),u.update(o),u.update(r),c=u.finalize(),(l+=m.enc.Hex.stringify(c)).length>=2*a)break}var h={};return h.keyhex=l.substr(0,2*s[e].keylen),h.ivhex=l.substr(2*s[e].keylen,2*s[e].ivlen),h},a=function(e,t,n,i){var r=m.enc.Base64.parse(e),o=m.enc.Hex.stringify(r);return(0,s[t].proc)(o,n,i)};return{version:"1.0.0",parsePKCS5PEM:function(e){return r(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return o(e,t,n)},decryptKeyB64:function(e,t,n,i){return a(e,t,n,i)},getDecryptedKeyHex:function(e,t){var n=r(e),i=n.cipher,s=n.ivsalt,l=n.data,c=o(i,t,s);return a(l,i,c.keyhex,s)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,i,r){var a="";if(void 0!==i&&null!=i||(i="AES-256-CBC"),void 0===s[i])throw"KEYUTIL unsupported algorithm: "+i;void 0!==r&&null!=r||(r=function(e){var t=m.lib.WordArray.random(e);return m.enc.Hex.stringify(t)}(s[i].ivlen).toUpperCase());var l=function(e,t,n,i){return(0,s[t].eproc)(e,n,i)}(t,i,o(i,n,r).keyhex,r);return a="-----BEGIN "+e+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+i+","+r+"\r\n",a+="\r\n",(a+=l.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=de.getChildIdx,n=de.getV,i={},s=t(e,0);if(2!=s.length)throw"malformed format: SEQUENCE(0).items != 2: "+s.length;i.ciphertext=n(e,s[1]);var r=t(e,s[0]);if(2!=r.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+r.length;if("2a864886f70d01050d"!=n(e,r[0]))throw"this only supports pkcs5PBES2";var o=t(e,r[1]);if(2!=r.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+o.length;var a=t(e,o[1]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+a.length;if("2a864886f70d0307"!=n(e,a[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=n(e,a[1]);var l=t(e,o[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=n(e,l[0]))throw"this only supports pkcs5PBKDF2";var c=t(e,l[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;i.pbkdf2Salt=n(e,c[0]);var u=n(e,c[1]);try{i.pbkdf2Iter=parseInt(u,16)}catch(h){throw"malformed format pbkdf2Iter: "+u}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=m.enc.Hex.parse(e.pbkdf2Salt),i=m.PBKDF2(t,n,{keySize:6,iterations:e.pbkdf2Iter});return m.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Fe(e,"ENCRYPTED PRIVATE KEY"),i=this.parseHexOfEncryptedPKCS8(n),s=Be.getPBKDF2KeyHexFromParam(i,t),r={};r.ciphertext=m.enc.Hex.parse(i.ciphertext);var o=m.enc.Hex.parse(s),a=m.enc.Hex.parse(i.encryptionSchemeIV),l=m.TripleDES.decrypt(r,o,{iv:a});return m.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=de,n=t.getChildIdx,i=t.getV,s={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var r=n(e,0);if(3!=r.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(r[1],2))throw"malformed PKCS8 private key(code:003)";var o=n(e,r[1]);if(2!=o.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(o[0],2))throw"malformed PKCS8 private key(code:005)";if(s.algoid=i(e,o[0]),"06"==e.substr(o[1],2)&&(s.algparam=i(e,o[1])),"04"!=e.substr(r[2],2))throw"malformed PKCS8 private key(code:006)";return s.keyidx=t.getVidx(e,r[2]),s},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Fe(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new ie;else if("2a8648ce380401"==n.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new ie;else if("2a8648ce380401"===n)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de.getChildIdx,n=de.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var s=t(e,0);if(2!=s.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(s[0],2))throw"malformed RSA key(code:003)";if(i.n=n(e,s[0]),"02"!=e.substr(s[1],2))throw"malformed RSA key(code:004)";return i.e=n(e,s[1]),i},parsePublicPKCS8Hex:function(e){var t=de,n=t.getChildIdx,i=t.getV,s={algparam:null},r=n(e,0);if(2!=r.length)throw"outer DERSequence shall have 2 elements: "+r.length;var o=r[0];if("30"!=e.substr(o,2))throw"malformed PKCS8 public key(code:001)";var a=n(e,o);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(s.algoid=i(e,a[0]),"06"==e.substr(a[1],2)?s.algparam=i(e,a[1]):"30"==e.substr(a[1],2)&&(s.algparam={},s.algparam.p=t.getVbyList(e,a[1],[0],"02"),s.algparam.q=t.getVbyList(e,a[1],[1],"02"),s.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(r[1],2))throw"malformed PKCS8 public key(code:004)";return s.key=i(e,r[1]).substr(2),s}}}();Be.getKey=function(e,t,n){var i,s=(b=de).getChildIdx,r=b.getVbyList,o=ce.crypto,a=o.ECDSA,l=o.DSA,c=ie,u=Fe,h=Be;if(void 0!==c&&e instanceof c)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new a({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new a({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(A=new c).setPublic(e.n,e.e),A;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(A=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),A;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(A=new c).setPrivate(e.n,e.e,e.d),A;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(A=new l).setPublic(e.p,e.q,e.g,e.y),A;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(A=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(A=new c).setPublic(we(e.n),we(e.e)),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(A=new c).setPrivateEx(we(e.n),we(e.e),we(e.d),we(e.p),we(e.q),we(e.dp),we(e.dq),we(e.qi)),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(A=new c).setPrivate(we(e.n),we(e.e),we(e.d)),A;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(D=new a({curve:e.crv})).ecparams.keylen/4,p=("0000000000"+we(e.x)).slice(-d),f=("0000000000"+we(e.y)).slice(-d);return D.setPublicKeyHex(g="04"+p+f),D}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(D=new a({curve:e.crv})).ecparams.keylen/4;var g="04"+(p=("0000000000"+we(e.x)).slice(-d))+(f=("0000000000"+we(e.y)).slice(-d)),m=("0000000000"+we(e.d)).slice(-d);return D.setPublicKeyHex(g),D.setPrivateKeyHex(m),D}if("pkcs5prv"===n){var v,y=e,b=de;if(9===(v=s(y,0)).length)(A=new c).readPKCS5PrvKeyHex(y);else if(6===v.length)(A=new l).readPKCS5PrvKeyHex(y);else{if(!(v.length>2&&"04"===y.substr(v[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(A=new a).readPKCS5PrvKeyHex(y)}return A}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return qe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return qe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var w=Fe(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(w)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var C=u(e,"RSA PRIVATE KEY");return h.getKey(C,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var x=r(i=u(e,"DSA PRIVATE KEY"),0,[1],"02"),k=r(i,0,[2],"02"),E=r(i,0,[3],"02"),I=r(i,0,[4],"02"),_=r(i,0,[5],"02");return(A=new l).setPrivate(new S(x,16),new S(k,16),new S(E,16),new S(I,16),new S(_,16)),A}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return C=u(e,"EC PRIVATE KEY"),h.getKey(C,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var T=h.getDecryptedKeyHex(e,t),F=new ie;return F.readPKCS5PrvKeyHex(T),F}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var D,A=r(i=h.getDecryptedKeyHex(e,t),0,[1],"04"),O=r(i,0,[2,0],"06"),R=r(i,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[O])throw"undefined OID(hex) in KJUR.crypto.OID: "+O;return(D=new a({curve:ce.crypto.OID.oidhex2name[O]})).setPublicKeyHex(R),D.setPrivateKeyHex(A),D.isPublic=!1,D}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return x=r(i=h.getDecryptedKeyHex(e,t),0,[1],"02"),k=r(i,0,[2],"02"),E=r(i,0,[3],"02"),I=r(i,0,[4],"02"),_=r(i,0,[5],"02"),(A=new l).setPrivate(new S(x,16),new S(k,16),new S(E,16),new S(I,16),new S(_,16)),A;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},Be.generateKeypair=function(e,t){if("RSA"==e){var n=t;(o=new ie).generate(n,"10001"),o.isPrivate=!0,o.isPublic=!0;var i=new ie,s=o.n.toString(16),r=o.e.toString(16);return i.setPublic(s,r),i.isPrivate=!1,i.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=i,a}if("EC"==e){var o,a,l=t,c=new ce.crypto.ECDSA({curve:l}).generateKeyPairHex();return(o=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),o.setPrivateKeyHex(c.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(i=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),i.isPrivate=!1,i.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=i,a}throw"unknown algorithm: "+e},Be.getPEM=function(e,t,n,i,s,r){var o=ce.asn1,a=o.DERObjectIdentifier,l=o.DERInteger,c=o.ASN1Util.newObject,u=ce.crypto,h=u.DSA,d=u.ECDSA,p=ie;function f(e){return c({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function g(e){return c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function v(e){return c({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==p&&e instanceof p||void 0!==h&&e instanceof h||void 0!==d&&e instanceof d)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Te(C=new(0,o.x509.SubjectPublicKeyInfo)(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===n||null==n)&&1==e.isPrivate)return Te(C=f(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate){var y=new a({name:e.curveName}).getEncodedHex(),b=g(e).getEncodedHex(),w="";return(w+=Te(y,"EC PARAMETERS"))+Te(b,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===n||null==n)&&1==e.isPrivate)return Te(C=v(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==n&&null!=n&&1==e.isPrivate){var C=f(e).getEncodedHex();return void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",C,n,i,r)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate)return C=g(e).getEncodedHex(),void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",C,n,i,r);if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==n&&null!=n&&1==e.isPrivate)return C=v(e).getEncodedHex(),void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",C,n,i,r);var S=function(e,t){var n=x(e,t);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},x=function(e,t){var n=m.lib.WordArray.random(8),i=m.lib.WordArray.random(8),s=m.PBKDF2(t,n,{keySize:6,iterations:100}),r=m.enc.Hex.parse(e),o=m.TripleDES.encrypt(r,s,{iv:i})+"",a={};return a.ciphertext=o,a.pbkdf2Salt=m.enc.Hex.stringify(n),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=m.enc.Hex.stringify(i),a};if("PKCS8PRV"==t&&null!=p&&e instanceof p&&1==e.isPrivate){var k=f(e).getEncodedHex();return C=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===n||null==n?Te(C,"PRIVATE KEY"):Te(b=S(C,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate)return k=new c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),C=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===n||null==n?Te(C,"PRIVATE KEY"):Te(b=S(C,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return k=new l({bigint:e.x}).getEncodedHex(),C=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===n||null==n?Te(C,"PRIVATE KEY"):Te(b=S(C,n),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},Be.getKeyFromCSRPEM=function(e){var t=Fe(e,"CERTIFICATE REQUEST");return Be.getKeyFromCSRHex(t)},Be.getKeyFromCSRHex=function(e){var t=Be.parseCSRHex(e);return Be.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Be.parseCSRHex=function(e){var t=de.getChildIdx,n=de.getTLV,i={},s=e;if("30"!=s.substr(0,2))throw"malformed CSR(code:001)";var r=t(s,0);if(r.length<1)throw"malformed CSR(code:002)";if("30"!=s.substr(r[0],2))throw"malformed CSR(code:003)";var o=t(s,r[0]);if(o.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=n(s,o[2]),i},Be.getKeyID=function(e){var t=Be,n=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var i=Fe(t.getPEM(e)),s=n.getIdxbyList(i,0,[1]),r=n.getV(i,s).substring(2);return ce.crypto.Util.hashHex(r,"sha1")},Be.getJWKFromKey=function(e){var t={};if(e instanceof ie&&e.isPrivate)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t.d=be(e.d.toString(16)),t.p=be(e.p.toString(16)),t.q=be(e.q.toString(16)),t.dp=be(e.dmp1.toString(16)),t.dq=be(e.dmq1.toString(16)),t.qi=be(e.coeff.toString(16)),t;if(e instanceof ie&&e.isPublic)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(i=e.getShortNISTPCurveName())&&"P-384"!==i)throw"unsupported curve name for JWT: "+i;var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=i,t.x=be(n.x),t.y=be(n.y),t.d=be(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var i;if("P-256"!==(i=e.getShortNISTPCurveName())&&"P-384"!==i)throw"unsupported curve name for JWT: "+i;return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=i,t.x=be(n.x),t.y=be(n.y),t}throw"not supported key object"},ie.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,n=de.getV,i=n(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),s=n(e,t[1]),r=n(e,t[2]),o=n(e,t[3]),a=n(e,t[4]),l=n(e,t[5]),c=n(e,t[6]),u=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(i,s,r,o,a,l,c,u,h),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=Fe(e),n=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,n,i,s,r,o,a,l,c=de.getVbyListEx;if(!1===de.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=c(e,0,[2,0,1],"02"),n=c(e,0,[2,0,2],"02"),i=c(e,0,[2,0,3],"02"),s=c(e,0,[2,0,4],"02"),r=c(e,0,[2,0,5],"02"),o=c(e,0,[2,0,6],"02"),a=c(e,0,[2,0,7],"02"),l=c(e,0,[2,0,8],"02")}catch(u){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,i,s,r,o,a,l)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=de,n=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var i=t.getChildIdx(e,0);if(2!==i.length||"02"!==e.substr(i[0],2)||"02"!==e.substr(i[1],2))throw"wrong hex for PKCS#5 public key";var s=n(e,i[0]),r=n(e,i[1]);this.setPublic(s,r)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},ie.prototype.readCertPubKeyHex=function(e,t){var n,i;(n=new qe).readCertHex(e),i=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(i)};var ze=new RegExp("[^0-9a-f]","gi");function je(e,t){for(var n="",i=t/4-e.length,s=0;s<i;s++)n+="0";return n+e}function Ue(e,t,n){for(var i="",s=0;i.length<t;)i+=xe(n(ke(e+String.fromCharCode.apply(String,[(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s])))),s+=1;return i}function Ge(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var n=ce.crypto.Util.DIGESTINFOHEAD[t],i=n.length;if(e.substring(0,i)==n)return[t,e.substring(i)]}return[]}function qe(){var e,t=de,n=t.getChildIdx,i=t.getV,s=t.getTLV,r=t.getVbyList,o=t.getVbyListEx,a=t.getTLVbyList,c=t.getTLVbyListEx,u=t.getIdxbyList,h=t.getVidx,d=t.oidname,p=qe,f=Fe;try{e=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(l){}this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==a(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return r(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){var t=c(this.hex,0,[0,1]);for(var n in e)if(t===e[n])return n;return d(o(this.hex,0,[0,1,0],"06"))},this.getIssuerHex=function(){return a(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return p.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return a(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return p.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=r(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=r(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return u(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Be.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return d(r(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return r(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),i=a(this.hex,0,[0],"30"),s=new ce.crypto.Signature({alg:t});return s.init(e),s.updateHex(i),s.verify(n)},this.parseExt=function(e){var s,o,a;if(void 0===e){if(3!==this.version)return-1;s=u(a=this.hex,0,[0,7,0],"30"),o=n(a,s)}else{a=Fe(e);var l=u(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(a,l))return void(this.aExtInfo=new Array);s=u(a,0,[0,3,0,1,0],"30"),o=n(a,s),this.hex=a}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var d={critical:!1},p=0;3===n(a,o[c]).length&&(d.critical=!0,p=1),d.oid=t.hextooidstr(r(a,o[c],[0],"06"));var f=u(a,o[c],[1+p]);d.vidx=h(a,f),this.aExtInfo.push(d)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ce.asn1.x509.OID.name2oid(e)),""!==n)for(var i=0;i<t.length;i++)if(t[i].oid===n)return t[i]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=i(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var n=i(t,6);return{cA:!0,pathLen:parseInt(n,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=i(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw new Error("malformed key usage value");var n=parseInt(t.substr(0,2)),s=parseInt(t.substr(2),16).toString(2);return(s=("0000000"+s).slice(-8)).substr(0,s.length-n)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,n=0;n<e.length;n++)"1"==e.substr(n,1)&&t.push(qe.KEYUSAGE_NAME[n]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:i(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var t={},r=s(this.hex,e.vidx),o=n(r,0),a=0;a<o.length;a++)"80"===r.substr(o[a],2)&&(t.kid=i(r,o[a]));return t},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=s(this.hex,e.vidx);if(""===r)return t;for(var o=n(r,0),a=0;a<o.length;a++)t.push(d(i(r,o[a])));return t},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,n=0;n<e.length;n++)"DNS"===e[n][0]&&t.push(e[n][1]);return t},this.getExtSubjectAltName2=function(){var e,t,r,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,l=s(this.hex,o.vidx),c=n(l,0),u=0;u<c.length;u++)r=l.substr(c[u],2),e=i(l,c[u]),"81"===r&&(t=Se(e),a.push(["MAIL",t])),"82"===r&&(t=Se(e),a.push(["DNS",t])),"84"===r&&(t=qe.hex2dn(e,0),a.push(["DN",t])),"86"===r&&(t=Se(e),a.push(["URI",t])),"87"===r&&(t=Le(e),a.push(["IP",t]));return a},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,i=n(this.hex,e.vidx),s=0;s<i.length;s++)try{var o=Se(r(this.hex,i[s],[0,0,0],"86"));t.push(o)}catch(a){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},i=n(this.hex,e.vidx),s=0;s<i.length;s++){var o=r(this.hex,i[s],[0],"06"),a=r(this.hex,i[s],[1],"86");"2b06010505073001"===o&&t.ocsp.push(Se(a)),"2b06010505073002"===o&&t.caissuer.push(Se(a))}return t},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var t=s(this.hex,e.vidx),o=[],a=n(t,0),l=0;l<a.length;l++){var c={},u=n(t,a[l]);if(c.id=d(i(t,u[0])),2===u.length)for(var h=n(t,u[1]),p=0;p<h.length;p++){var f=r(t,h[p],[0],"06");"2b06010505070201"===f?c.cps=Se(r(t,h[p],[1])):"2b06010505070202"===f&&(c.unotice=Se(r(t,h[p],[1,0])))}o.push(c)}return o},this.readCertPEM=function(e){this.readCertHex(f(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{u(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var e,t,n;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ve(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ve(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var i=0;i<n.length;i++){var s=n[i],r=ce.asn1.x509.OID.oid2name(s.oid);""===r&&(r=s.oid);var o="";if(!0===s.critical&&(o="CRITICAL"),e+="  "+r+" "+o+":\n","basicConstraints"===r){var a=this.getExtBasicConstraints();void 0===a.cA?e+="    {}\n":(e+="    cA=true",void 0!==a.pathLen&&(e+=", pathLen="+a.pathLen),e+="\n")}else if("keyUsage"===r)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===r)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===r){var l=this.getExtAuthorityKeyIdentifier();void 0!==l.kid&&(e+="    kid="+l.kid+"\n")}else if("extKeyUsage"===r)e+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===r)e+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===r)e+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===r){var c=this.getExtAIAInfo();void 0!==c.ocsp&&(e+="    ocsp: "+c.ocsp.join(",")+"\n"),void 0!==c.caissuer&&(e+="    caissuer: "+c.caissuer.join(",")+"\n")}else if("certificatePolicies"===r)for(var u=this.getExtCertificatePolicies(),h=0;h<u.length;h++)void 0!==u[h].id&&(e+="    policy oid: "+u[h].id+"\n"),void 0!==u[h].cps&&(e+="    cps: "+u[h].cps+"\n")}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}ie.prototype.sign=function(e,t){var n=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},ie.prototype.signWithMessageHash=function(e,t){var n=te(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return je(this.doPrivate(n).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,n){var i,s=(i=ke(e),ce.crypto.Util.hashHex(i,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(s,t,n)},ie.prototype.signWithMessageHashPSS=function(e,t,n){var i,s=xe(e),r=s.length,o=this.n.bitLength()-1,a=Math.ceil(o/8),l=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=r;else if(-2===n)n=a-r-2;else if(n<-2)throw"invalid salt length";if(a<r+n+2)throw"data too long";var c="";n>0&&(c=new Array(n),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var u=xe(l(ke("\0\0\0\0\0\0\0\0"+s+c))),h=[];for(i=0;i<a-n-r-2;i+=1)h[i]=0;var d=String.fromCharCode.apply(String,h)+"\x01"+c,p=Ue(u,d.length,l),f=[];for(i=0;i<d.length;i+=1)f[i]=d.charCodeAt(i)^p.charCodeAt(i);for(f[0]&=~(65280>>8*a-o&255),i=0;i<r;i++)f.push(u.charCodeAt(i));return f.push(188),je(this.doPrivate(new S(f)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){var n=te(t=(t=t.replace(ze,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var i=Ge(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==i.length)return!1;var s=i[0];return i[1]==function(e){return ce.crypto.Util.hashString(e,s)}(e)},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=te(t,16);if(n.bitLength()>this.n.bitLength())return 0;var i=Ge(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=i.length&&i[1]==e},ie.prototype.verifyPSS=function(e,t,n,i){var s,r=(s=ke(e),ce.crypto.Util.hashHex(s,n));return void 0===i&&(i=-1),this.verifyWithMessageHashPSS(r,t,n,i)},ie.prototype.verifyWithMessageHashPSS=function(e,t,n,i){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var s,r=new S(t,16),o=function(e){return ce.crypto.Util.hashHex(e,n)},a=xe(e),l=a.length,c=this.n.bitLength()-1,u=Math.ceil(c/8);if(-1===i||void 0===i)i=l;else if(-2===i)i=u-l-2;else if(i<-2)throw"invalid salt length";if(u<l+i+2)throw"data too long";var h=this.doPublic(r).toByteArray();for(s=0;s<h.length;s+=1)h[s]&=255;for(;h.length<u;)h.unshift(0);if(188!==h[u-1])throw"encoded message does not end in 0xbc";var d=(h=String.fromCharCode.apply(String,h)).substr(0,u-l-1),p=h.substr(d.length,l),f=65280>>8*u-c&255;if(0!=(d.charCodeAt(0)&f))throw"bits beyond keysize not zero";var g=Ue(p,d.length,o),m=[];for(s=0;s<d.length;s+=1)m[s]=d.charCodeAt(s)^g.charCodeAt(s);m[0]&=~f;var v=u-l-i-2;for(s=0;s<v;s+=1)if(0!==m[s])throw"leftmost octets not zero";if(1!==m[v])throw"0x01 marker not found";return p===xe(o(ke("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,m.slice(-i)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,qe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var n=new Array,i=de.getChildIdx(e,t),s=0;s<i.length;s++)n.push(qe.hex2rdn(e,i[s]));return"/"+(n=n.map((function(e){return e.replace("/","\\/")}))).join("/")},qe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var n=new Array,i=de.getChildIdx(e,t),s=0;s<i.length;s++)n.push(qe.hex2attrTypeValue(e,i[s]));return(n=n.map((function(e){return e.replace("+","\\+")}))).join("+")},qe.hex2attrTypeValue=function(e,t){var n=de,i=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var s=n.getChildIdx(e,t);2!==s.length||e.substr(s[0],2);var r=i(e,s[0]),o=ce.asn1.ASN1Util.oidHexToInt(r);return ce.asn1.x509.OID.oid2atype(o)+"="+xe(i(e,s[1]))},qe.getPublicKeyFromCertHex=function(e){var t=new qe;return t.readCertHex(e),t.getPublicKey()},qe.getPublicKeyFromCertPEM=function(e){var t=new qe;return t.readCertPEM(e),t.getPublicKey()},qe.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,i=de.getVbyList,s={algparam:null};return(t=new qe).readCertPEM(e),n=t.getPublicKeyHex(),s.keyhex=i(n,0,[1],"03").substr(2),s.algoid=i(n,0,[0,0],"06"),"2a8648ce3d0201"===s.algoid&&(s.algparam=i(n,0,[0,1],"06")),s},qe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var i=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==i)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var s=i[1],r=i[2],o=i[3],a=s+"."+r;if(this.parsedJWS={},this.parsedJWS.headB64U=s,this.parsedJWS.payloadB64U=r,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=a,!n){var l=we(o),c=te(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=c}var u=he(s),h=he(r);if(this.parsedJWS.headS=u,this.parsedJWS.payloadS=h,!e(u,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+u}}},ce.jws.JWS.sign=function(e,t,n,i,s){var r,o,a,l=ce.jws.JWS,c=l.readSafeJSONString,u=l.isSafeJSONString,h=ce.crypto,d=h.Mac,p=h.Signature,f=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(r=f.stringify(o=t)),"string"==typeof t){if(!u(r=t))throw"JWS Head is not safe JSON string: "+r;o=c(r)}if(a=n,"object"==typeof n&&(a=f.stringify(n)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,r=f.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var g=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;g=l.jwsalg2sigalg[e];var m=ue(r)+"."+ue(a),v="";if("Hmac"==g.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var y=new d({alg:g,prov:"cryptojs",pass:i});y.updateString(m),v=y.doFinal()}else if(-1!=g.indexOf("withECDSA")){(w=new p({alg:g})).init(i,s),w.updateString(m);var b=w.sign();v=ce.crypto.ECDSA.asn1SigToConcatSig(b)}else{var w;"none"!=g&&((w=new p({alg:g})).init(i,s),w.updateString(m),v=w.sign())}return m+"."+be(v)},ce.jws.JWS.verify=function(e,t,n){var i,s=ce.jws.JWS,r=s.readSafeJSONString,o=ce.crypto,a=o.ECDSA,l=o.Mac,c=o.Signature;i=ie;var u=e.split(".");if(3!==u.length)return!1;var h,d=u[0]+"."+u[1],p=we(u[2]),f=r(he(u[0])),g=null;if(void 0===f.alg)throw"algorithm not specified in header";if(h=(g=f.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Be.getKey(t)),!("RS"!=h&&"PS"!=h||t instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(t instanceof a))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===s.jwsalg2sigalg[f.alg])throw"unsupported alg name: "+g;if("none"==(m=s.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var v=new l({alg:m,pass:t});return v.updateString(d),p==v.doFinal()}if(-1!=m.indexOf("withECDSA")){var y,b=null;try{b=a.concatSigToASN1Sig(p)}catch(w){return!1}return(y=new c({alg:m})).init(t),y.updateString(d),y.verify(b)}return(y=new c({alg:m})).init(t),y.updateString(d),y.verify(p)},ce.jws.JWS.parse=function(e){var t,n,i=e.split("."),s={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[1],3==i.length&&(n=i[2]),s.headerObj=ce.jws.JWS.readSafeJSONString(he(i[0])),s.payloadObj=ce.jws.JWS.readSafeJSONString(he(t)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),s.payloadPP=null==s.payloadObj?he(t):JSON.stringify(s.payloadObj,null,"  "),void 0!==n&&(s.sigHex=we(n)),s},ce.jws.JWS.verifyJWT=function(e,t,n){var i=ce.jws,s=i.JWS,r=s.readSafeJSONString,o=s.inArray,a=s.includedArray,l=e.split("."),c=l[0],u=l[1],h=(we(l[2]),r(he(c))),d=r(he(u));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!o(h.alg,n.alg))return!1;if(void 0!==d.iss&&"object"==typeof n.iss&&!o(d.iss,n.iss))return!1;if(void 0!==d.sub&&"object"==typeof n.sub&&!o(d.sub,n.sub))return!1;if(void 0!==d.aud&&"object"==typeof n.aud)if("string"==typeof d.aud){if(!o(d.aud,n.aud))return!1}else if("object"==typeof d.aud&&!a(d.aud,n.aud))return!1;var p=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(p=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+n.gracePeriod<p||void 0!==d.nbf&&"number"==typeof d.nbf&&p<d.nbf-n.gracePeriod||void 0!==d.iat&&"number"==typeof d.iat&&p<d.iat-n.gracePeriod||void 0!==d.jti&&void 0!==n.jti&&d.jti!==n.jti||!s.verify(e,t,n.alg))},ce.jws.JWS.includedArray=function(e,t){var n=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,n){var i=null;try{return"object"!=typeof(i=le(e))||i.constructor===Array?0:(t&&(t[n]=i),1)}catch(o){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=le(e))||t.constructor===Array?null:t}catch(o){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=ke(t);return be(ce.crypto.Util.hashHex(n,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,n=t.getNow,i=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return i(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Ae(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWSJS=function(){var e=ce.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,i){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var s=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var r=ce.jws.JWS.sign(e,t,this.sPayload,n,i).split(".");this.aHeader.push(r[0]),this.aSignature.push(r[2])}catch(f){throw this.aHeader.length>s&&this.aHeader.pop(),this.aSignature.length>s&&this.aSignature.pop(),"addSignature failed: "+f}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(t,n,i){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var s=this.aHeader[t]+"."+this.sPayload+"."+this.aSignature[t],r=!1;try{r=e.verify(s,n,i)}catch(f){return!1}return r},this.readJWSJS=function(e){if("string"==typeof e){var n=t(e);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(r){throw"malformed JWS-JS JSON object: "+r}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ee,t.rng_seed_time=W,t.BigInteger=S,t.RSAKey=ie,t.ECDSA=ce.crypto.ECDSA,t.DSA=ce.crypto.DSA,t.Signature=ce.crypto.Signature,t.MessageDigest=ce.crypto.MessageDigest,t.Mac=ce.crypto.Mac,t.Cipher=ce.crypto.Cipher,t.KEYUTIL=Be,t.ASN1HEX=de,t.X509=qe,t.CryptoJS=m,t.b64tohex=w,t.b64toBA=C,t.ECFieldElementFp=re,t.ECPointFp=oe,t.ECCurveFp=ae,t.stoBA=pe,t.BAtos=fe,t.BAtohex=ge,t.stohex=me,t.stob64=function(e){return b(me(e))},t.stob64u=function(e){return ve(b(me(e)))},t.b64utos=function(e){return fe(C(ye(e)))},t.b64tob64u=ve,t.b64utob64=ye,t.hex2b64=b,t.hextob64u=be,t.b64utohex=we,t.utf8tob64u=ue,t.b64utoutf8=he,t.utf8tob64=function(e){return b(Oe(Me(e)))},t.b64toutf8=function(e){return decodeURIComponent(Re(w(e)))},t.utf8tohex=Ce,t.hextoutf8=Se,t.hextorstr=xe,t.rstrtohex=ke,t.hextob64=Ee,t.hextob64nl=Ie,t.b64nltohex=_e,t.hextopem=Te,t.pemtohex=Fe,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),i=0;i<e.length/2;i++)n.setUint8(i,parseInt(e.substr(2*i,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),i=0;i<e.byteLength;i++)t+=("00"+n.getUint8(i).toString(16)).slice(-2);return t},t.zulutomsec=De,t.zulutosec=Ae,t.zulutodate=function(e){return new Date(De(e))},t.datetozulu=function(e,t,n){var i,s=e.getUTCFullYear();if(t){if(s<1950||2049<s)throw"not proper year for UTCTime: "+s;i=(""+s).slice(-2)}else i=("000"+s).slice(-4);if(i+=("0"+(e.getUTCMonth()+1)).slice(-2),i+=("0"+e.getUTCDate()).slice(-2),i+=("0"+e.getUTCHours()).slice(-2),i+=("0"+e.getUTCMinutes()).slice(-2),i+=("0"+e.getUTCSeconds()).slice(-2),n){var r=e.getUTCMilliseconds();0!==r&&(i+="."+(r=(r=("00"+r).slice(-3)).replace(/0+$/g,"")))}return i+"Z"},t.uricmptohex=Oe,t.hextouricmp=Re,t.ipv6tohex=Pe,t.hextoipv6=Ne,t.hextoip=Le,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Pe(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var i="";try{for(var s=0;s<4;s++)i+=("0"+parseInt(n[s]).toString(16)).slice(-2);return i}catch(p){throw t}},t.encodeURIComponentAll=Me,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ve,t.intarystrtohex=He,t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var i=0;i<n;i++)if(e.charCodeAt(i)!=t.charCodeAt(i))return i;return e.length!=t.length?n:-1},t.KJUR=ce,t.crypto=ce.crypto,t.asn1=ce.asn1,t.jws=ce.jws,t.lang=ce.lang},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);let s=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(r.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(i(s))try{s.call(this)}catch(o){t=o instanceof u?d(o.errors):[o]}if(l(r)){let e=-1,n=r.length;for(;++e<n;){const n=r[e];if(c(n))try{n.unsubscribe()}catch(o){t=t||[],o instanceof u?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new u(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,n)}}[p](){return this}static create(e,t,n){const i=new f(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends f{constructor(e,t,n,s){let r;super(),this._parentSubscriber=e;let o=this;i(t)?r=t:t&&(r=t.next,n=t.error,s=t.complete,t!==a&&(o=Object.create(t),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=n,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=r;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(e,t,n){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return r.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(e){return e}function y(...e){return b(e)}function b(e){return 0===e.length?v:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,s=function(e,t,n){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||n?new f(e,t,n):new f(a)}(e,t,n);if(s.add(i?i.call(s,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),r.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){r.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof f?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(s){n(s),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:b(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=r.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const S=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class x extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class k extends f{constructor(e){super(e),this.destination=e}}let E=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new k(this)}lift(e){const t=new I(this,this);return t.operator=e,t}next(e){if(this.closed)throw new S;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let s=0;s<n;s++)i[s].next(e)}}error(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let s=0;s<n;s++)i[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new S;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new x(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new I(e,t),e})();class I extends E{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function _(e){return e&&"function"==typeof e.schedule}class T extends f{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const F=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=D(),O=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function R(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const P=e=>{if(e&&"function"==typeof e[m])return i=e,e=>{const t=i[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(O(e))return F(e);if(R(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[A])return t=e,e=>{const n=t[A]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,i};function N(e,t,n,i,s=new T(e,n,i)){if(!s.closed)return t instanceof w?t.subscribe(s):P(t)(s)}class L extends f{notifyNext(e,t,n,i,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function M(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new V(e,t))}}class V{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new H(e,this.project,this.thisArg))}}class H extends f{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function B(e,t){return new w(n=>{const i=new h;let s=0;return i.add(t.schedule((function(){s!==e.length?(n.next(e[s++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function z(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new w(n=>{const i=new h;return i.add(t.schedule(()=>{const s=e[m]();i.add(s.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(R(e))return function(e,t){return new w(n=>{const i=new h;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(O(e))return B(e,t);if(function(e){return e&&"function"==typeof e[A]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(n=>{const i=new h;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=e[A](),i.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=s.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())})))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(P(e))}function j(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(j((n,i)=>z(e(n,i)).pipe(M((e,s)=>t(n,e,i,s))),n)):("number"==typeof t&&(n=t),t=>t.lift(new U(e,n)))}class U{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new G(e,this.project,this.concurrent))}}class G extends L{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new T(this,t,n),s=this.destination;s.add(i);const r=N(this,e,void 0,void 0,i);r!==i&&s.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(e=Number.POSITIVE_INFINITY){return j(v,e)}function K(e,t){return t?B(e,t):new w(F(e))}function $(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return _(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof w?e[0]:q(t)(K(e,n))}function W(){return function(e){return e.lift(new Z(e))}}class Z{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new Y(e,n),s=t.subscribe(i);return i.closed||(i.connection=n.connect()),s}}class Y extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Q extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new X(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return W()(this)}}const J=(()=>{const e=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class X extends k{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ee(){return new E}function te(e){return{toString:e}.toString()}function ne(e,t,n){return te(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function s(...e){if(this instanceof s)return i.apply(this,e),this;const t=new s(...e);return n.annotation=t,n;function n(e,n,i){const s=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;s.length<=i;)s.push(null);return(s[i]=s[i]||[]).push(t),e}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}const ie=ne("Inject",e=>({token:e})),se=ne("Optional"),re=ne("Self"),oe=ne("SkipSelf");var ae=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function le(e){for(let t in e)if(e[t]===le)return t;throw Error("Could not find renamed property on target object.")}function ce(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function he(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function de(e){return pe(e,e[ge])||pe(e,e[ye])}function pe(e,t){return t&&t.token===e?t:null}function fe(e){return e&&(e.hasOwnProperty(me)||e.hasOwnProperty(be))?e[me]:null}const ge=le({"\u0275prov":le}),me=le({"\u0275inj":le}),ve=le({"\u0275provFallback":le}),ye=le({ngInjectableDef:le}),be=le({ngInjectorDef:le});function we(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Se=le({__forward_ref__:le});function xe(e){return e.__forward_ref__=xe,e.toString=function(){return we(this())},e}function ke(e){return Ee(e)?e():e}function Ee(e){return"function"==typeof e&&e.hasOwnProperty(Se)&&e.__forward_ref__===xe}const Ie="undefined"!=typeof globalThis&&globalThis,_e="undefined"!=typeof window&&window,Te="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fe="undefined"!=typeof global&&global,De=Ie||Fe||_e||Te,Ae=le({"\u0275cmp":le}),Oe=le({"\u0275dir":le}),Re=le({"\u0275pipe":le}),Pe=le({"\u0275mod":le}),Ne=le({"\u0275loc":le}),Le=le({"\u0275fac":le}),Me=le({__NG_ELEMENT_ID__:le});class Ve{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const He=new Ve("INJECTOR",-1),Be={},ze=/\n/gm,je=le({provide:String,useValue:le});let Ue,Ge=void 0;function qe(e){const t=Ge;return Ge=e,t}function Ke(e){const t=Ue;return Ue=e,t}function $e(e,t=ae.Default){if(void 0===Ge)throw new Error("inject() must be called from an injection context");return null===Ge?Ze(e,void 0,t):Ge.get(e,t&ae.Optional?null:void 0,t)}function We(e,t=ae.Default){return(Ue||$e)(ke(e),t)}function Ze(e,t,n){const i=de(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ae.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${we(e)}]`)}function Ye(e){const t=[];for(let n=0;n<e.length;n++){const i=ke(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=ae.Default;for(let t=0;t<i.length;t++){const s=i[t];s instanceof se||"Optional"===s.ngMetadataName||s===se?n|=ae.Optional:s instanceof oe||"SkipSelf"===s.ngMetadataName||s===oe?n|=ae.SkipSelf:s instanceof re||"Self"===s.ngMetadataName||s===re?n|=ae.Self:e=s instanceof ie||s===ie?s.token:s}t.push(We(e,n))}else t.push(We(i))}return t}class Qe{get(e,t=Be){if(t===Be){const t=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw t.name="NullInjectorError",t}return t}}class Je{}class Xe{}function et(e,t){for(let n=0;n<e.length;n++)t.push(e[n])}function tt(e,t){e.forEach(e=>Array.isArray(e)?tt(e,t):t(e))}function nt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function it(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function st(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function rt(e,t,n){let i=at(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let s=e.length;if(s==t)e.push(n,i);else if(1===s)e.push(i,e[0]),e[0]=n;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function ot(e,t){const n=at(e,t);if(n>=0)return e[1|n]}function at(e,t){return function(e,t,n){let i=0,s=e.length>>1;for(;s!==i;){const n=i+(s-i>>1),r=e[n<<1];if(t===r)return n<<1;r>t?s=n:i=n+1}return~(s<<1)}(e,t)}const lt=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ct=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),ut={},ht=[];let dt=0;function pt(e){return te(()=>{const t=e.type,n=t.prototype,i={},s={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ct.Emulated,id:"c",styles:e.styles||ht,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,o=e.features,a=e.pipes;return s.id+=dt++,s.inputs=yt(e.inputs,i),s.outputs=yt(e.outputs),o&&o.forEach(e=>e(s)),s.directiveDefs=r?()=>("function"==typeof r?r():r).map(ft):null,s.pipeDefs=a?()=>("function"==typeof a?a():a).map(gt):null,s})}function ft(e){return Ct(e)||function(e){return e[Oe]||null}(e)}function gt(e){return function(e){return e[Re]||null}(e)}const mt={};function vt(e){const t={type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&te(()=>{mt[e.id]=e.type}),t}function yt(e,t){if(null==e)return ut;const n={};for(const i in e)if(e.hasOwnProperty(i)){let s=e[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),n[s]=i,t&&(t[s]=r)}return n}const bt=pt;function wt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ct(e){return e[Ae]||null}function St(e,t){return e.hasOwnProperty(Le)?e[Le]:null}function xt(e,t){const n=e[Pe]||null;if(!n&&!0===t)throw new Error(`Type ${we(e)} does not have '\u0275mod' property.`);return n}function kt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Et(e){return Array.isArray(e)&&!0===e[1]}function It(e){return 0!=(8&e.flags)}function _t(e){return 2==(2&e.flags)}function Tt(e){return 1==(1&e.flags)}function Ft(e){return null!==e.template}function Dt(e){return 0!=(512&e[2])}let At=void 0;function Ot(){return void 0!==At?At:"undefined"!=typeof document?document:void 0}function Rt(e){return!!e.listen}const Pt={createRenderer:(e,t)=>Ot()};function Nt(e){for(;Array.isArray(e);)e=e[0];return e}function Lt(e,t){return Nt(t[e+20])}function Mt(e,t){return Nt(t[e.index])}function Vt(e,t){return e.data[t+20]}function Ht(e,t){return e[t+20]}function Bt(e,t){const n=t[e];return kt(n)?n:n[0]}function zt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function jt(e){return 4==(4&e[2])}function Ut(e){return 128==(128&e[2])}function Gt(e,t){return null===e||null==t?null:e[t]}function qt(e){e[18]=0}function Kt(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const $t={lFrame:mn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Wt(){return $t.bindingsEnabled}function Zt(){return $t.lFrame.lView}function Yt(){return $t.lFrame.tView}function Qt(e){$t.lFrame.contextLView=e}function Jt(){return $t.lFrame.previousOrParentTNode}function Xt(e,t){$t.lFrame.previousOrParentTNode=e,$t.lFrame.isParent=t}function en(){return $t.lFrame.isParent}function tn(){$t.lFrame.isParent=!1}function nn(){return $t.checkNoChangesMode}function sn(e){$t.checkNoChangesMode=e}function rn(){const e=$t.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function on(){return $t.lFrame.bindingIndex}function an(){return $t.lFrame.bindingIndex++}function ln(e){const t=$t.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function cn(e,t){const n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=e,un(t)}function un(e){$t.lFrame.currentDirectiveIndex=e}function hn(){return $t.lFrame.currentQueryIndex}function dn(e){$t.lFrame.currentQueryIndex=e}function pn(e,t){const n=gn();$t.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function fn(e,t){const n=gn(),i=e[1];$t.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function gn(){const e=$t.lFrame,t=null===e?null:e.child;return null===t?mn(e):t}function mn(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function vn(){const e=$t.lFrame;return $t.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const yn=vn;function bn(){const e=vn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wn(){return $t.lFrame.selectedIndex}function Cn(e){$t.lFrame.selectedIndex=e}function Sn(){const e=$t.lFrame;return Vt(e.tView,e.selectedIndex)}function xn(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}}function kn(e,t,n){_n(e,t,3,n)}function En(e,t,n,i){(3&e[2])===n&&_n(e,t,n,i)}function In(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function _n(e,t,n,i){const s=null!=i?i:-1;let r=0;for(let o=void 0!==i?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(r=t[o],null!=i&&r>=i)break}else t[o]<0&&(e[18]+=65536),(r<s||-1==s)&&(Tn(e,n,t,o),e[18]=(4294901760&e[18])+o+2),o++}function Tn(e,t,n,i){const s=n[i]<0,r=n[i+1],o=e[s?-n[i]:n[i]];s?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(o)):r.call(o)}class Fn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Dn(e,t,n){const i=Rt(e);let s=0;for(;s<n.length;){const r=n[s];if("number"==typeof r){if(0!==r)break;s++;const o=n[s++],a=n[s++],l=n[s++];i?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=n[++s];On(o)?i&&e.setProperty(t,o,a):i?e.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function An(e){return 3===e||4===e||6===e}function On(e){return 64===e.charCodeAt(0)}function Rn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?n=s:0===n||Pn(e,n,s,null,-1===n||2===n?t[++i]:null)}}return e}function Pn(e,t,n,i,s){let r=0,o=e.length;if(-1===t)o=-1;else for(;r<e.length;){const n=e[r++];if("number"==typeof n){if(n===t){o=-1;break}if(n>t){o=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==s&&(e[r+1]=s));if(i===e[r+1])return void(e[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(e.splice(o,0,t),r=o+1),e.splice(r++,0,n),null!==i&&e.splice(r++,0,i),null!==s&&e.splice(r++,0,s)}function Nn(e){return-1!==e}function Ln(e){return 32767&e}function Mn(e){return e>>16}function Vn(e,t){let n=Mn(e),i=t;for(;n>0;)i=i[15],n--;return i}function Hn(e){return"string"==typeof e?e:null==e?"":""+e}function Bn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Hn(e)}const zn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(De))();function jn(e){return e instanceof Function?e():e}let Un=!0;function Gn(e){const t=Un;return Un=e,t}let qn=0;function Kn(e,t){const n=Wn(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,$n(i.data,e),$n(t,null),$n(i.blueprint,null));const s=Zn(e,t),r=e.injectorIndex;if(Nn(s)){const e=Ln(s),n=Vn(s,t),i=n[1].data;for(let s=0;s<8;s++)t[r+s]=n[e+s]|i[e+s]}return t[r+8]=s,r}function $n(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wn(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Zn(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[6],i=1;for(;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function Yn(e,t,n){!function(e,t,n){let i="string"!=typeof n?n[Me]:n.charCodeAt(0)||0;null==i&&(i=n[Me]=qn++);const s=255&i,r=1<<s,o=64&s,a=32&s,l=t.data;128&s?o?a?l[e+7]|=r:l[e+6]|=r:a?l[e+5]|=r:l[e+4]|=r:o?a?l[e+3]|=r:l[e+2]|=r:a?l[e+1]|=r:l[e]|=r}(e,t,n)}function Qn(e,t,n,i=ae.Default,s){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[Me];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof s){pn(t,e);try{const e=s();if(null!=e||i&ae.Optional)return e;throw new Error(`No provider for ${Bn(n)}!`)}finally{yn()}}else if("number"==typeof s){if(-1===s)return new si(e,t);let r=null,o=Wn(e,t),a=-1,l=i&ae.Host?t[16][6]:null;for((-1===o||i&ae.SkipSelf)&&(a=-1===o?Zn(e,t):t[o+8],ii(i,!1)?(r=t[1],o=Ln(a),t=Vn(a,t)):o=-1);-1!==o;){a=t[o+8];const e=t[1];if(ni(s,o,e.data)){const e=Xn(o,t,n,r,i,l);if(e!==Jn)return e}ii(i,t[1].data[o+8]===l)&&ni(s,o,t)?(r=e,o=Ln(a),t=Vn(a,t)):o=-1}}}if(i&ae.Optional&&void 0===s&&(s=null),0==(i&(ae.Self|ae.Host))){const e=t[9],r=Ke(void 0);try{return e?e.get(n,s,i&ae.Optional):Ze(n,s,i&ae.Optional)}finally{Ke(r)}}if(i&ae.Optional)return s;throw new Error(`NodeInjector: NOT_FOUND [${Bn(n)}]`)}const Jn={};function Xn(e,t,n,i,s,r){const o=t[1],a=o.data[e+8],l=ei(a,o,n,null==i?_t(a)&&Un:i!=o&&3===a.type,s&ae.Host&&r===a);return null!==l?ti(t,o,l,a):Jn}function ei(e,t,n,i,s){const r=e.providerIndexes,o=t.data,a=65535&r,l=e.directiveStart,c=r>>16,u=s?a+c:e.directiveEnd;for(let h=i?a:a+c;h<u;h++){const e=o[h];if(h<l&&n===e||h>=l&&e.type===n)return h}if(s){const e=o[l];if(e&&Ft(e)&&e.type===n)return l}return null}function ti(e,t,n,i){let s=e[n];const r=t.data;if(s instanceof Fn){const o=s;if(o.resolving)throw new Error("Circular dep for "+Bn(r[n]));const a=Gn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Ke(o.injectImpl)),pn(e,i);try{s=e[n]=o.factory(void 0,r,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{onChanges:i,onInit:s,doCheck:r}=t;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)),s&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,s),r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r))}(n,r[n],t)}finally{o.injectImpl&&Ke(l),Gn(a),o.resolving=!1,yn()}}return s}function ni(e,t,n){const i=64&e,s=32&e;let r;return r=128&e?i?s?n[t+7]:n[t+6]:s?n[t+5]:n[t+4]:i?s?n[t+3]:n[t+2]:s?n[t+1]:n[t],!!(r&1<<e)}function ii(e,t){return!(e&ae.Self||e&ae.Host&&t)}class si{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Qn(this._tNode,this._lView,e,void 0,t)}}function ri(e){const t=e;if(Ee(e))return()=>{const e=ri(ke(t));return e?e():null};let n=St(t);if(null===n){const e=fe(t);n=e&&e.factory}return n||null}function oi(e){return te(()=>{const t=e.prototype.constructor,n=t[Le]||ri(t),i=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==i;){const e=s[Le]||ri(s);if(e&&e!==n)return e;s=Object.getPrototypeOf(s)}return e=>new e})}function ai(e){return e.ngDebugContext}function li(e){return e.ngOriginalError}function ci(e,...t){e.error(...t)}class ui{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||ci}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?ai(e)?ai(e):this._findContext(li(e)):null}_findOriginalError(e){let t=li(e);for(;t&&li(t);)t=li(t);return t}}class hi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class di extends hi{getTypeName(){return"HTML"}}class pi extends hi{getTypeName(){return"Style"}}class fi extends hi{getTypeName(){return"Script"}}class gi extends hi{getTypeName(){return"URL"}}class mi extends hi{getTypeName(){return"ResourceURL"}}function vi(e){return e instanceof hi?e.changingThisBreaksApplicationSecurity:e}function yi(e,t){const n=bi(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function bi(e){return e instanceof hi&&e.getTypeName()||null}let wi=!0,Ci=!1;function Si(){return Ci=!0,wi}class xi{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let t=this.inertDocument.body;if(null==t){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),t=this.inertDocument.createElement("body"),e.appendChild(t)}t.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!t.querySelector||t.querySelector("svg")?(t.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=t.querySelector&&t.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ki=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ei=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ii(e){return(e=String(e)).match(ki)||e.match(Ei)?e:(Si()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function _i(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ti(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Fi=_i("area,br,col,hr,img,wbr"),Di=_i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ai=_i("rp,rt"),Oi=Ti(Ai,Di),Ri=Ti(Fi,Ti(Di,_i("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ti(Ai,_i("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Oi),Pi=_i("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ni=_i("srcset"),Li=Ti(Pi,Ni,_i("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_i("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mi=_i("script,style,template");class Vi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Ri.hasOwnProperty(t))return this.sanitizedSomething=!0,!Mi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,r=t.toLowerCase();if(!Li.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let o=e.value;Pi[r]&&(o=Ii(o)),Ni[r]&&(i=o,o=(i=String(i)).split(",").map(e=>Ii(e.trim())).join(", ")),this.buf.push(" ",t,'="',zi(o),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Ri.hasOwnProperty(t)&&!Fi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Hi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bi=/([^\#-~ |!])/g;function zi(e){return e.replace(/&/g,"&amp;").replace(Hi,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Bi,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ji;function Ui(e,t){let n=null;try{ji=ji||new xi(e);let i=t?String(t):"";n=ji.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=n.innerHTML,n=ji.getInertBodyElement(i)}while(i!==r);const o=new Vi,a=o.sanitizeChildren(Gi(n)||n);return Si()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Gi(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Gi(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const qi=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Ki=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),$i=/^url\(([^)]+)\)$/;function Wi(e){const t=Yi();return t?t.sanitize(qi.HTML,e)||"":yi(e,"HTML")?vi(e):Ui(Ot(),Hn(e))}function Zi(e){const t=Yi();return t?t.sanitize(qi.URL,e)||"":yi(e,"URL")?vi(e):Ii(Hn(e))}function Yi(){const e=Zt();return e&&e[12]}function Qi(e,t){e.__ngContext__=t}function Ji(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Xi(){throw new Error("Cannot mix multi providers and regular providers")}function es(e,t,n){let i=e.length;for(;;){const s=e.indexOf(t,n);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const n=t.length;if(s+n===i||e.charCodeAt(s+n)<=32)return s}n=s+1}}function ts(e,t,n){let i=0;for(;i<e.length;){let s=e[i++];if(n&&"class"===s){if(s=e[i],-1!==es(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<e.length&&"string"==typeof(s=e[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function ns(e){return 0===e.type&&"ng-template"!==e.tagName}function is(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function ss(e,t,n){let i=4;const s=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(An(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!is(e,l,n)||""===l&&1===t.length){if(rs(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!ts(e.attrs,c,n)){if(rs(i))return!1;o=!0}continue}const u=os(8&i?"class":l,s,ns(e),n);if(-1===u){if(rs(i))return!1;o=!0;continue}if(""!==c){let e;e=u>r?"":s[u+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==es(t,c,0)||2&i&&c!==e){if(rs(i))return!1;o=!0}}}}else{if(!o&&!rs(i)&&!rs(l))return!1;if(o&&rs(l))continue;o=!1,i=l|1&i}}return rs(i)||o}function rs(e){return 0==(1&e)}function os(e,t,n,i){if(null===t)return-1;let s=0;if(i||!n){let n=!1;for(;s<t.length;){const i=t[s];if(i===e)return s;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===i)break;if(0===i){s+=4;continue}}s+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function as(e,t,n=!1){for(let i=0;i<t.length;i++)if(ss(e,t[i],n))return!0;return!1}function ls(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function cs(e,t){return e?":not("+t.trim()+")":t}function us(e){let t=e[0],n=1,i=2,s="",r=!1;for(;n<e.length;){let o=e[n];if("string"==typeof o)if(2&i){const t=e[++n];s+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""===s||rs(o)||(t+=cs(r,s),s=""),i=o,r=r||!rs(i);n++}return""!==s&&(t+=cs(r,s)),t}const hs={};function ds(e){const t=e[3];return Et(t)?t[3]:t}function ps(e){return gs(e[13])}function fs(e){return gs(e[4])}function gs(e){for(;null!==e&&!Et(e);)e=e[4];return e}function ms(e){vs(Yt(),Zt(),wn()+e,nn())}function vs(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&kn(t,i,n)}else{const i=e.preOrderHooks;null!==i&&En(t,i,0,n)}Cn(n)}const ys={marker:"element"},bs={marker:"comment"};function ws(e,t){return e<<17|t<<2}function Cs(e){return e>>17&32767}function Ss(e){return 2|e}function xs(e){return(131068&e)>>2}function ks(e,t){return-131069&e|t<<2}function Es(e){return 1|e}function Is(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const s=n[i],r=n[i+1];if(-1!==r){const n=e.data[r];dn(s),n.contentQueries(2,t[r],r)}}}function _s(e,t,n){return Rt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Ts(e,t,n,i,s,r,o,a,l,c){const u=t.blueprint.slice();return u[0]=s,u[2]=140|i,qt(u),u[3]=u[15]=e,u[8]=n,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=r,u[16]=2==t.type?e[16]:u,u}function Fs(e,t,n,i,s,r){const o=n+20,a=e.data[o]||function(e,t,n,i,s,r){const o=Jt(),a=en(),l=a?o:o&&o.parent,c=e.data[n]=Hs(0,l&&l!==t?l:null,i,n,s,r);return null===e.firstChild&&(e.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(e,t,o,i,s,r);return Xt(a,!0),a}function Ds(e,t,n){fn(t,t[6]);try{const i=e.viewQuery;null!==i&&lr(1,i,n);const s=e.template;null!==s&&Rs(e,t,s,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Is(e,t),e.staticViewQueries&&lr(2,e.viewQuery,n);const r=e.components;null!==r&&function(e,t){for(let n=0;n<t.length;n++)ir(e,t[n])}(t,r)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,bn()}}function As(e,t,n,i){const s=t[2];if(256==(256&s))return;fn(t,t[6]);const r=nn();try{qt(t),$t.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Rs(e,t,n,2,i);const o=3==(3&s);if(!r)if(o){const n=e.preOrderCheckHooks;null!==n&&kn(t,n,null)}else{const n=e.preOrderHooks;null!==n&&En(t,n,0,null),In(t,0)}if(function(e){for(let t=ps(e);null!==t;t=fs(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&Kt(i,1),n[2]|=1024}}}(t),function(e){for(let t=ps(e);null!==t;t=fs(t))for(let e=10;e<t.length;e++){const n=t[e],i=n[1];Ut(n)&&As(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&Is(e,t),!r)if(o){const n=e.contentCheckHooks;null!==n&&kn(t,n)}else{const n=e.contentHooks;null!==n&&En(t,n,1),In(t,1)}!function(e,t){try{const n=e.expandoInstructions;if(null!==n){let i=e.expandoStartIndex,s=-1,r=-1;for(let e=0;e<n.length;e++){const o=n[e];"number"==typeof o?o<=0?(r=0-o,Cn(r),i+=9+n[++e],s=i):i+=o:(null!==o&&(cn(i,s),o(2,t[s])),s++)}}}finally{Cn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)nr(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&lr(2,l,i),!r)if(o){const n=e.viewCheckHooks;null!==n&&kn(t,n)}else{const n=e.viewHooks;null!==n&&En(t,n,2),In(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Kt(t[3],-1))}finally{bn()}}function Os(e,t,n,i){const s=t[10],r=!nn(),o=jt(t);try{r&&!o&&s.begin&&s.begin(),o&&Ds(e,t,i),As(e,t,n,i)}finally{r&&!o&&s.end&&s.end()}}function Rs(e,t,n,i,s){const r=wn();try{Cn(-1),2&i&&t.length>20&&vs(e,t,0,nn()),n(i,s)}finally{Cn(r)}}function Ps(e,t,n){if(It(t)){const i=t.directiveEnd;for(let s=t.directiveStart;s<i;s++){const t=e.data[s];t.contentQueries&&t.contentQueries(1,n[s],s)}}}function Ns(e,t,n){Wt()&&(function(e,t,n,i){const s=n.directiveStart,r=n.directiveEnd;e.firstCreatePass||Kn(n,t),Qi(i,t);const o=n.initialInputs;for(let a=s;a<r;a++){const i=e.data[a],r=Ft(i);r&&Qs(t,n,i);const l=ti(t,e,a,n);Qi(l,t),null!==o&&Xs(0,a-s,l,i,0,o),r&&(Bt(n.index,t)[8]=l)}}(e,t,n,Mt(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,s=n.directiveEnd,r=e.expandoInstructions,o=e.firstCreatePass,a=n.index-20,l=$t.lFrame.currentDirectiveIndex;try{Cn(a);for(let n=i;n<s;n++){const i=e.data[n],s=t[n];un(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?qs(i,s):o&&r.push(null)}}finally{Cn(-1),un(l)}}(e,t,n))}function Ls(e,t,n=Mt){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?n(t,e):e[o];e[s++]=a}}}function Ms(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Vs(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Vs(e,t,n,i,s,r,o,a,l,c){const u=20+i,h=u+s,d=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:hs);return n}(u,h);return d[1]={type:e,id:t,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function Hs(e,t,n,i,s,r){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bs(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const s=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,s):n[i]=[t,s]}return n}function zs(e,t,n,i,s,r,o,a){const l=Mt(t,n);let c,u=t.inputs;var h;!a&&null!=u&&(c=u[i])?(pr(e,n,c,i,s),_t(t)&&function(e,t){const n=Bt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(h=i)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,s=null!=o?o(s,t.tagName||"",i):s,Rt(r)?r.setProperty(l,i,s):On(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function js(e,t,n,i){let s=!1;if(Wt()){const r=function(e,t,n){const i=e.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];as(n,o.selectors,!1)&&(s||(s=[]),Yn(Kn(n,t),e,o.type),Ft(o)?(2&n.flags&&Ji(n),$s(e,n),s.unshift(o)):s.push(o))}return s}(e,t,n),o=null===i?null:{"":-1};if(null!==r){let i=0;s=!0,Zs(n,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}Ks(e,n,r.length);let a=!1,l=!1;for(let s=0;s<r.length;s++){const c=r[s];n.mergedAttrs=Rn(n.mergedAttrs,c.hostAttrs),Ys(e,t,c),Ws(e.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),a=!0),l||!c.onChanges&&!c.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),l=!0),Us(e,c),i+=c.hostVars}!function(e,t){const n=t.directiveEnd,i=e.data,s=t.attrs,r=[];let o=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=i[l],n=e.inputs,c=null===s||ns(t)?null:er(n,s);r.push(c),o=Bs(n,l,o),a=Bs(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=o,t.outputs=a}(e,n),Gs(e,t,i)}o&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=n[t[e+1]];if(null==s)throw new Error(`Export of name '${t[e+1]}' not found!`);i.push(t[e],s)}}}(n,i,o)}return n.mergedAttrs=Rn(n.mergedAttrs,n.attrs),s}function Us(e,t){const n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Gs(e,t,n){for(let i=0;i<n;i++)t.push(hs),e.blueprint.push(hs),e.data.push(null)}function qs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Ks(e,t,n){const i=20-t.index,s=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,s,n)}function $s(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ws(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Ft(t)&&(n[""]=e)}}function Zs(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ys(e,t,n){e.data.push(n);const i=n.factory||(n.factory=St(n.type)),s=new Fn(i,Ft(n),null);e.blueprint.push(s),t.push(s)}function Qs(e,t,n){const i=Mt(t,e),s=Ms(n),r=e[10],o=sr(e,Ts(e,s,null,n.onPush?64:16,i,t,r,r.createRenderer(i,n)));e[t.index]=o}function Js(e,t,n,i,s,r){const o=Mt(e,t),a=t[11];if(null==i)Rt(a)?a.removeAttribute(o,n,r):o.removeAttribute(n);else{const t=null==s?Hn(i):s(i,e.tagName||"",n);Rt(a)?a.setAttribute(o,n,t,r):r?o.setAttributeNS(r,n,t):o.setAttribute(n,t)}}function Xs(e,t,n,i,s,r){const o=r[t];if(null!==o){const e=i.setInput;for(let t=0;t<o.length;){const s=o[t++],r=o[t++],a=o[t++];null!==e?i.setInput(n,a,s,r):n[r]=a}}}function er(e,t){let n=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===n&&(n=[]),n.push(s,e[s],t[i+1])),i+=2}else i+=2;else i+=4}return n}function tr(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function nr(e,t){const n=Bt(t,e);if(Ut(n)){const e=n[1];80&n[2]?As(e,n,e.template,n[8]):n[5]>0&&function e(t){for(let i=ps(t);null!==i;i=fs(i))for(let t=10;t<i.length;t++){const n=i[t];if(1024&n[2]){const e=n[1];As(e,n,e.template,n[8])}else n[5]>0&&e(n)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const s=Bt(n[i],t);Ut(s)&&s[5]>0&&e(s)}}(n)}}function ir(e,t){const n=Bt(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Ds(i,n,n[8])}function sr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function rr(e){for(;e;){e[2]|=64;const t=ds(e);if(Dt(e)&&!t)return e;e=t}return null}function or(e,t,n){const i=t[10];i.begin&&i.begin();try{As(e,t,e.template,n)}catch(s){throw dr(t,s),s}finally{i.end&&i.end()}}function ar(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=zt(n),s=i[1];Os(s,i,s.template,n)}}(e[8])}function lr(e,t,n){dn(0),t(e,n)}const cr=(()=>Promise.resolve(null))();function ur(e){return e[7]||(e[7]=[])}function hr(e){return e.cleanup||(e.cleanup=[])}function dr(e,t){const n=e[9],i=n?n.get(ui,null):null;i&&i.handleError(t)}function pr(e,t,n,i,s){for(let r=0;r<n.length;){const o=n[r++],a=n[r++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,s,i,a):l[a]=s}}function fr(e,t,n){const i=Lt(t,e),s=e[11];Rt(s)?s.setValue(i,n):i.textContent=n}function gr(e,t){const n=t[3];return-1===e.index?Et(n)?n:null:n}function mr(e,t){const n=gr(e,t);return n?Fr(t[11],n[7]):null}function vr(e,t,n,i,s){if(null!=i){let r,o=!1;Et(i)?r=i:kt(i)&&(o=!0,i=i[0]);const a=Nt(i);0===e&&null!==n?null==s?_r(t,n,a):Ir(t,n,a,s||null):1===e&&null!==n?Ir(t,n,a,s||null):2===e?Rr(t,a,o):3===e&&t.destroyNode(a),null!=r&&function(e,t,n,i,s){const r=n[7];r!==Nt(n)&&vr(t,e,i,r,s);for(let o=10;o<n.length;o++){const s=n[o];Nr(s[1],s,e,t,i,r)}}(t,e,r,n,s)}}function yr(e,t){return Rt(t)?t.createText(e):t.createTextNode(e)}function br(e,t,n,i){const s=mr(e.node,t);s&&Nr(e,t,t[11],n?1:2,s,i)}function wr(e,t){const n=e[9],i=n.indexOf(t);1024&t[2]&&Kt(t[3],-1),n.splice(i,1)}function Cr(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const s=i[17];null!==s&&s!==e&&wr(s,i),t>0&&(e[n-1][4]=i[4]);const r=it(e,10+t);br(i[1],i,!1,null);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Sr(e,t){if(!(256&t[2])){const n=t[11];Rt(n)&&n.destroyNode&&Nr(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return kr(e[1],e);for(;t;){let n=null;if(kt(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)kt(t)&&kr(t[1],t),t=xr(t,e);null===t&&(t=e),kt(t)&&kr(t[1],t),n=t&&t[4]}t=n}}(t)}}function xr(e,t){let n;return kt(e)&&(n=e[6])&&2===n.type?gr(n,e):e[3]===t?null:e[3]}function kr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof Fn)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+1],r="function"==typeof s?s(t):Nt(t[s]),o=e[n[i+2]],a=n[i+3];"boolean"==typeof a?r.removeEventListener(n[i],o,a):a>=0?e[a]():e[-a].unsubscribe(),i+=2}else n[i].call(e[n[i+1]]);t[7]=null}}(e,t);const n=t[6];n&&3===n.type&&Rt(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&Et(t[3])){i!==t[3]&&wr(i,t);const n=t[19];null!==n&&n.detachView(e)}}}function Er(e,t,n){let i=t.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){const e=n[6];return 2===e.type?mr(e,n):n[0]}if(t&&5===t.type&&4&t.flags)return Mt(t,n).parentNode;if(2&i.flags){const t=e.data,n=t[t[i.index].directiveStart].encapsulation;if(n!==ct.ShadowDom&&n!==ct.Native)return null}return Mt(i,n)}function Ir(e,t,n,i){Rt(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function _r(e,t,n){Rt(e)?e.appendChild(t,n):t.appendChild(n)}function Tr(e,t,n,i){null!==i?Ir(e,t,n,i):_r(e,t,n)}function Fr(e,t){return Rt(e)?e.parentNode(t):t.parentNode}function Dr(e,t){if(2===e.type){const n=gr(e,t);return null===n?null:Or(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?Mt(e,t):null}function Ar(e,t,n,i){const s=Er(e,i,t);if(null!=s){const e=t[11],r=Dr(i.parent||t[6],t);if(Array.isArray(n))for(let t=0;t<n.length;t++)Tr(e,s,n[t],r);else Tr(e,s,n,r)}}function Or(e,t){const n=10+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){const i=n.type;if(3===i)return Mt(n,t);if(0===i)return Or(-1,t[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return e(t,i);{const e=t[n.index];return Et(e)?Or(-1,e):Nt(e)}}{const i=t[16],s=i[6],r=ds(i),o=s.projection[n.projection];return null!=o?e(r,o):e(t,n.next)}}return null}(e,i)}return t[7]}function Rr(e,t,n){const i=Fr(e,t);i&&function(e,t,n,i){Rt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}function Pr(e,t,n,i,s,r,o){for(;null!=n;){const a=i[n.index],l=n.type;o&&0===t&&(a&&Qi(Nt(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Pr(e,t,n.child,i,s,r,!1),vr(t,e,s,a,r)):1===l?Mr(e,t,i,n,s,r):vr(t,e,s,a,r)),n=o?n.projectionNext:n.next}}function Nr(e,t,n,i,s,r){Pr(n,i,e.node.child,t,s,r,!1)}function Lr(e,t,n){Mr(t[11],0,t,n,Er(e,n,t),Dr(n.parent||t[6],t))}function Mr(e,t,n,i,s,r){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)vr(t,e,s,a[l],r);else Pr(e,t,a,o[3],s,r,!0)}function Vr(e,t,n){Rt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Hr(e,t,n){Rt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}class Br{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,n,i,s,r=!1){for(;null!==i;){const o=n[i.index];if(null!==o&&s.push(Nt(o)),Et(o))for(let t=10;t<o.length;t++){const n=o[t],i=n[1].firstChild;null!==i&&e(n[1],n,i,s)}const a=i.type;if(4===a||5===a)e(t,n,i.child,s);else if(1===a){const t=n[16],r=t[6].projection[i.projection];if(Array.isArray(r))s.push(...r);else{const n=ds(t);e(n[1],n,r,s,!0)}}i=r?i.projectionNext:i.next}return s}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Sr(this._lView[1],this._lView)}onDestroy(e){var t,n,i;t=this._lView[1],i=e,ur(n=this._lView).push(i),t.firstCreatePass&&hr(t).push(n[7].length-1,null)}markForCheck(){rr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){or(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){sn(!0);try{or(e,t,n)}finally{sn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Nr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class zr extends Br{constructor(e){super(e),this._view=e}detectChanges(){ar(this._view)}checkNoChanges(){!function(e){sn(!0);try{ar(e)}finally{sn(!1)}}(this._view)}get context(){return null}}let jr,Ur,Gr;function qr(e,t,n){return jr||(jr=class extends e{}),new jr(Mt(t,n))}function Kr(e,t,n,i){return Ur||(Ur=class extends e{constructor(e,t,n){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Ts(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Ds(t,n,e),new Br(n)}}),0===n.type?new Ur(i,n,qr(t,n,i)):null}function $r(e,t,n,i){let s;Gr||(Gr=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return qr(t,this._hostTNode,this._hostView)}get injector(){return new si(this._hostTNode,this._hostView)}get parentInjector(){const e=Zn(this._hostTNode,this._hostView),t=Vn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let i=Mn(e),s=t,r=t[6];for(;i>1;)s=s[15],r=s[6],i--;return r}(e,this._hostView,this._hostTNode);return Nn(e)&&null!=n?new si(n,t):new si(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,s){const r=n||this.parentInjector;if(!s&&null==e.ngModule&&r){const e=r.get(Je,null);e&&(s=e)}const o=e.create(r,i,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){const n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Et(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new Gr(t,t[6],t[3]);i.detach(i.indexOf(e))}}const s=this._adjustIndex(t);return function(e,t,n,i){const s=10+i,r=n.length;i>0&&(n[s-1][4]=t),i<r-10?(t[4]=n[s],nt(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const o=t[17];null!==o&&n!==o&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,n,this._lContainer,s),br(i,n,!0,Or(s,this._lContainer)),e.attachToViewContainerRef(this),nt(this._lContainer[8],s,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1);!function(e,t){const n=Cr(e,t);n&&Sr(n[1],n)}(this._lContainer,t),it(this._lContainer[8],t)}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=Cr(this._lContainer,t);return n&&null!=it(this._lContainer[8],t)?new Br(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const r=i[n.index];if(Et(r))s=r;else{let e;if(4===n.type)e=Nt(r);else if(e=i[11].createComment(""),Dt(i)){const t=i[11],s=Mt(n,i);Ir(t,Fr(t,s),e,function(e,t){return Rt(e)?e.nextSibling(t):t.nextSibling}(t,s))}else Ar(i[1],i,e,n);i[n.index]=s=tr(r,i,e,n),sr(i,s)}return new Gr(s,n,i)}let Wr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Zr(),e})();const Zr=function(e=!1){return function(e,t,n){if(!n&&_t(e)){const n=Bt(e.index,t);return new Br(n,n)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Br(t[16],t):null}(Jt(),Zt(),e)},Yr=new Ve("Set Injector scope."),Qr={},Jr={},Xr=[];let eo=void 0;function to(){return void 0===eo&&(eo=new Qe),eo}function no(e,t=null,n=null,i){return new io(e,n,t||to(),i)}class io{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&tt(t,n=>this.processProvider(n,e,t)),tt([e],e=>this.processInjectorType(e,[],s)),this.records.set(He,oo(void 0,this));const r=this.records.get(Yr);this.scope=null!=r?r.value:null,this.source=i||("object"==typeof e?null:we(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Be,n=ae.Default){this.assertNotDestroyed();const i=qe(this);try{if(!(n&ae.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(s=e)||"object"==typeof s&&s instanceof Ve)&&de(e);t=n&&this.injectableDefInScope(n)?oo(so(e),Qr):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&ae.Self?to():this.parent).get(e,t=n&ae.Optional&&t===Be?null:t)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(we(e)),i)throw r;return function(e,t,n,i){const s=e.ngTempTokenPath;throw t.__source&&s.unshift(t.__source),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=we(t);if(Array.isArray(t))s=t.map(we).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):we(i)))}s=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${s}]: ${e.replace(ze,"\n  ")}`}("\n"+e.message,s,n,i),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(r,e,"R3InjectorError",this.source)}throw r}finally{qe(i)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(we(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=ke(e)))return!1;let i=fe(e);const s=null==i&&e.ngModule||void 0,r=void 0===s?e:s,o=-1!==n.indexOf(r);if(void 0!==s&&(i=fe(s)),null==i)return!1;if(null!=i.imports&&!o){let e;n.push(r);try{tt(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];tt(i,e=>this.processProvider(e,n,i||Xr))}}this.injectorDefTypes.add(r),this.records.set(r,oo(i.factory,Qr));const a=i.providers;if(null!=a&&!o){const t=e;tt(a,e=>this.processProvider(e,t,a))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,n){let i=lo(e=ke(e))?e:ke(e&&e.provide);const s=function(e,t,n){return ao(e)?oo(void 0,e.useValue):oo(ro(e,t,n),Qr)}(e,t,n);if(lo(e)||!0!==e.multi){const e=this.records.get(i);e&&void 0!==e.multi&&Xi()}else{let t=this.records.get(i);t?void 0===t.multi&&Xi():(t=oo(void 0,Qr,!0),t.factory=()=>Ye(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,s)}hydrate(e,t){var n;return t.value===Jr?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(we(e)):t.value===Qr&&(t.value=Jr,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function so(e){const t=de(e),n=null!==t?t.factory:St(e);if(null!==n)return n;const i=fe(e);if(null!==i)return i.factory;if(e instanceof Ve)throw new Error(`Token ${we(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=st(t,"?");throw new Error(`Can't resolve all parameters for ${we(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[ge]||e[ye]||e[ve]&&e[ve]());if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ro(e,t,n){let i=void 0;if(lo(e)){const t=ke(e);return St(t)||so(t)}if(ao(e))i=()=>ke(e.useValue);else if((s=e)&&s.useFactory)i=()=>e.useFactory(...Ye(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>We(ke(e.useExisting));else{const s=ke(e&&(e.useClass||e.provide));if(s||function(e,t,n){let i="";throw e&&t&&(i=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${we(e)}'`+i)}(t,n,e),!function(e){return!!e.deps}(e))return St(s)||so(s);i=()=>new s(...Ye(e.deps))}var s;return i}function oo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ao(e){return null!==e&&"object"==typeof e&&je in e}function lo(e){return"function"==typeof e}const co=function(e,t,n){return function(e,t=null,n=null,i){const s=no(e,t,n,i);return s._resolveInjectorDefTypes(),s}({name:n},t,e,n)};let uo=(()=>{class e{static create(e,t){return Array.isArray(e)?co(e,t,""):co(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Be,e.NULL=new Qe,e.\u0275prov=ue({token:e,providedIn:"any",factory:()=>We(He)}),e.__NG_ELEMENT_ID__=-1,e})();const ho=new Ve("AnalyzeForEntryComponents");let po=new Map;const fo=new Set;function go(e){return"string"==typeof e?e:e.text()}function mo(e,t,n){let i=n?e.styles:null,s=n?e.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?r=e:1==r?s=Ce(s,e):2==r&&(i=Ce(i,e+": "+t[++o]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=s:e.classesWithoutHost=s}let vo=null;function yo(){if(!vo){const e=De.Symbol;if(e&&e.iterator)vo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(vo=n)}}}return vo}function bo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}class wo{constructor(e){this.wrapped=e}static wrap(e){return new wo(e)}static unwrap(e){return wo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof wo}}function Co(e){return!!So(e)&&(Array.isArray(e)||!(e instanceof Map)&&yo()in e)}function So(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xo(e,t,n){return e[t]=n}function ko(e,t){return e[t]}function Eo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Io(e,t,n,i){const s=Eo(e,t,n);return Eo(e,t+1,i)||s}function _o(e,t,n,i,s){const r=Io(e,t,n,i);return Eo(e,t+2,s)||r}function To(e,t,n,i,s,r){const o=Io(e,t,n,i);return Io(e,t+2,s,r)||o}function Fo(e,t,n,i){const s=Zt();return Eo(s,an(),t)&&(Yt(),Js(Sn(),s,e,t,n,i)),Fo}function Do(e,t,n,i){return Eo(e,an(),n)?t+Hn(n)+i:hs}function Ao(e,t,n,i,s,r,o,a){const l=Zt(),c=Yt(),u=e+20,h=c.firstCreatePass?function(e,t,n,i,s,r,o,a,l){const c=t.consts,u=Fs(t,n[6],e,0,o||null,Gt(c,a));js(t,n,u,Gt(c,l)),xn(t,u);const h=u.tViews=Vs(2,-1,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),d=Hs(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(e,c,l,t,n,i,s,r,o):c.data[u];Xt(h,!1);const d=l[11].createComment("");Ar(c,l,d,h),Qi(d,l),sr(l,l[u]=tr(d,l,d,h)),Tt(h)&&Ns(c,l,h),null!=o&&Ls(l,h,a)}function Oo(e){return Ht($t.lFrame.contextLView,e)}function Ro(e,t=ae.Default){const n=Zt();return null==n?We(e,t):Qn(Jt(),n,ke(e),t)}function Po(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let i=0;for(;i<e;){const s=n[i];if(An(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<e&&"string"==typeof n[i];)i++;else{if(s===t)return n[i+1];i+=2}}}return null}(Jt(),e)}function No(){throw new Error("invalid")}function Lo(e,t,n){const i=Zt();return Eo(i,an(),t)&&zs(Yt(),Sn(),i,e,t,i[11],n,!1),Lo}function Mo(e,t,n,i,s){const r=s?"class":"style";pr(e,n,t.inputs[r],r,i)}function Vo(e,t,n,i){const s=Zt(),r=Yt(),o=20+e,a=s[11],l=s[o]=_s(t,a,$t.lFrame.currentNamespace),c=r.firstCreatePass?function(e,t,n,i,s,r,o){const a=t.consts,l=Gt(a,r),c=Fs(t,n[6],e,3,s,l);return js(t,n,c,Gt(a,o)),null!==c.attrs&&mo(c,c.attrs,!1),null!==c.mergedAttrs&&mo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,r,s,0,t,n,i):r.data[o];Xt(c,!0);const u=c.mergedAttrs;null!==u&&Dn(a,l,u);const h=c.classes;null!==h&&Hr(a,l,h);const d=c.styles;null!==d&&Vr(a,l,d),Ar(r,s,l,c),0===$t.lFrame.elementDepthCount&&Qi(l,s),$t.lFrame.elementDepthCount++,Tt(c)&&(Ns(r,s,c),Ps(r,c,s)),null!==i&&Ls(s,c)}function Ho(){let e=Jt();en()?tn():(e=e.parent,Xt(e,!1));const t=e;$t.lFrame.elementDepthCount--;const n=Yt();n.firstCreatePass&&(xn(n,e),It(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Mo(n,t,Zt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Mo(n,t,Zt(),t.stylesWithoutHost,!1)}function Bo(e,t,n,i){Vo(e,t,n,i),Ho()}function zo(e,t,n){const i=Zt(),s=Yt(),r=e+20,o=s.firstCreatePass?function(e,t,n,i,s){const r=t.consts,o=Gt(r,i),a=Fs(t,n[6],e,4,"ng-container",o);return null!==o&&mo(a,o,!0),js(t,n,a,Gt(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,s,i,t,n):s.data[r];Xt(o,!0);const a=i[r]=i[11].createComment("");Ar(s,i,a,o),Qi(a,i),Tt(o)&&(Ns(s,i,o),Ps(s,o,i)),null!=n&&Ls(i,o)}function jo(){let e=Jt();const t=Yt();en()?tn():(e=e.parent,Xt(e,!1)),t.firstCreatePass&&(xn(t,e),It(e)&&t.queries.elementEnd(e))}function Uo(e,t,n){zo(e,t,n),jo()}function Go(){return Zt()}function qo(e){return!!e&&"function"==typeof e.then}function Ko(e){return!!e&&"function"==typeof e.subscribe}function $o(e,t,n=!1,i){const s=Zt(),r=Yt(),o=Jt();return function(e,t,n,i,s,r,o=!1,a){const l=Tt(i),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),u=ur(t);let h=!0;if(3===i.type){const d=Mt(i,t),p=a?a(d):ut,f=p.target||d,g=u.length,m=a?e=>a(Nt(e[i.index])).target:i.index;if(Rt(n)){let o=null;if(!a&&l&&(o=function(e,t,n,i){const s=e.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const e=s[r];if(e===n&&s[r+1]===i){const e=t[7],n=s[r+2];return e.length>n?e[n]:null}"string"==typeof e&&(r+=2)}return null}(e,t,s,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=r,o.__ngLastListenerFn__=r,h=!1;else{r=Zo(i,t,r,!1);const e=n.listen(p.name||f,s,r);u.push(r,e),c&&c.push(s,m,g,g+1)}}else r=Zo(i,t,r,!0),f.addEventListener(s,r,o),u.push(r),c&&c.push(s,m,g,o)}const d=i.outputs;let p;if(h&&null!==d&&(p=d[s])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(r),o=u.length;u.push(r,e),c&&c.push(s,i.index,o,-(o+1))}}}(r,s,s[11],o,e,t,n,i),$o}function Wo(e,t,n){try{return!1!==t(n)}catch(i){return dr(e,i),!1}}function Zo(e,t,n,i){return function s(r){if(r===Function)return n;const o=2&e.flags?Bt(e.index,t):t;0==(32&t[2])&&rr(o);let a=Wo(t,n,r),l=s.__ngNextListenerFn__;for(;l;)a=Wo(t,l,r)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function Yo(e=1){return function(e){return($t.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,$t.lFrame.contextLView))[8]}(e)}function Qo(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===i?as(e,r,!0):ls(i,r))return s}else n=s}return n}function Jo(e){const t=Zt()[16][6];if(!t.projection){const n=t.projection=st(e?e.length:1,null),i=n.slice();let s=t.child;for(;null!==s;){const t=e?Qo(s,e):0;null!==t&&(i[t]?i[t].projectionNext=s:n[t]=s,i[t]=s),s=s.next}}}function Xo(e,t=0,n){const i=Zt(),s=Yt(),r=Fs(s,i[6],e,1,null,n||null);null===r.projection&&(r.projection=t),tn(),Lr(s,i,r)}function ea(e,t,n){return ta(e,"",t,"",n),ea}function ta(e,t,n,i,s){const r=Zt(),o=Do(r,t,n,i);return o!==hs&&zs(Yt(),Sn(),r,e,o,r[11],s,!1),ta}const na=[];function ia(e,t,n,i,s){const r=e[n+1],o=null===t;let a=i?Cs(r):xs(r),l=!1;for(;0!==a&&(!1===l||o);){const n=e[a+1];sa(e[a],t)&&(l=!0,e[a+1]=i?Es(n):Ss(n)),a=i?Cs(n):xs(n)}l&&(e[n+1]=i?Ss(r):Es(r))}function sa(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&at(e,t)>=0}const ra={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oa(e){return e.substring(ra.key,ra.keyEnd)}function aa(e,t){const n=ra.textEnd;return n===t?-1:(t=ra.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ra.key=t,n),la(e,t,n))}function la(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function ca(e,t,n){return da(e,t,n,!1),ca}function ua(e,t){return da(e,t,null,!0),ua}function ha(e,t){for(let n=function(e){return function(e){ra.key=0,ra.keyEnd=0,ra.value=0,ra.valueEnd=0,ra.textEnd=e.length}(e),aa(e,la(e,0,ra.textEnd))}(t);n>=0;n=aa(t,n))rt(e,oa(t),!0)}function da(e,t,n,i){const s=Zt(),r=Yt(),o=ln(2);if(r.firstUpdatePass&&fa(r,e,o,i),t!==hs&&Eo(s,o,t)){let a;null==n&&(a=function(){const e=$t.lFrame;return null===e?null:e.currentSanitizer}())&&(n=a),va(r,r.data[wn()+20],s,s[11],e,s[o+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=we(vi(e)))),e}(t,n),i,o)}}function pa(e,t){return t>=e.expandoStartIndex}function fa(e,t,n,i){const s=e.data;if(null===s[n+1]){const r=s[wn()+20],o=pa(e,n);wa(r,i)&&null===t&&!o&&(t=!1),t=function(e,t,n,i){const s=function(e){const t=$t.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(n=ma(n=ga(null,e,t,n,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(n=ga(s,e,t,n,i),null===r){let n=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==xs(i))return e[Cs(i)]}(e,t,i);void 0!==n&&Array.isArray(n)&&(n=ga(null,e,t,n[1],i),n=ma(n,t.attrs,i),function(e,t,n,i){e[Cs(n?t.classBindings:t.styleBindings)]=i}(e,t,i,n))}else r=function(e,t,n){let i=void 0;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=ma(i,e[r].hostAttrs,n);return ma(i,t.attrs,n)}(e,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),n}(s,r,t,i),function(e,t,n,i,s,r){let o=r?t.classBindings:t.styleBindings,a=Cs(o),l=xs(o);e[i]=n;let c,u=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||at(e,c)>0)&&(u=!0)}else c=n;if(s)if(0!==l){const t=Cs(e[a+1]);e[i+1]=ws(t,a),0!==t&&(e[t+1]=ks(e[t+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=ws(a,0),0!==a&&(e[a+1]=ks(e[a+1],i)),a=i;else e[i+1]=ws(l,0),0===a?a=i:e[l+1]=ks(e[l+1],i),l=i;u&&(e[i+1]=Ss(e[i+1])),ia(e,c,i,!0),ia(e,c,i,!1),function(e,t,n,i,s){const r=s?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&at(r,t)>=0&&(n[i+1]=Es(n[i+1]))}(t,c,e,i,r),o=ws(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,n,o,i)}}function ga(e,t,n,i,s){let r=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(r=t[a],i=ma(i,r.hostAttrs,s),r!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function ma(e,t,n){const i=n?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),rt(e,o,!!n||t[++r]))}return void 0===e?null:e}function va(e,t,n,i,s,r,o,a){if(3!==t.type)return;const l=e.data,c=l[a+1];ba(1==(1&c)?ya(l,t,n,s,xs(c),o):void 0)||(ba(r)||function(e){return 2==(2&e)}(c)&&(r=ya(l,null,n,s,a,o)),function(e,t,n,i,s){const r=Rt(e);if(t)s?r?e.addClass(n,i):n.classList.add(i):r?e.removeClass(n,i):n.classList.remove(i);else{const t=-1==i.indexOf("-")?void 0:2;null==s?r?e.removeStyle(n,i,t):n.style.removeProperty(i):r?e.setStyle(n,i,s,t):n.style.setProperty(i,s)}}(i,o,Lt(wn(),n),s,r))}function ya(e,t,n,i,s,r){const o=null===t;let a=void 0;for(;s>0;){const t=e[s],r=Array.isArray(t),l=r?t[1]:t,c=null===l;let u=n[s+1];u===hs&&(u=c?na:void 0);let h=c?ot(u,i):l===i?u:void 0;if(r&&!ba(h)&&(h=ot(t,i)),ba(h)&&(a=h,o))return a;const d=e[s+1];s=o?Cs(d):xs(d)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=ot(e,i))}return a}function ba(e){return void 0!==e}function wa(e,t){return 0!=(e.flags&(t?16:32))}function Ca(e,t=""){const n=Zt(),i=Yt(),s=e+20,r=i.firstCreatePass?Fs(i,n[6],e,3,null,null):i.data[s],o=n[s]=yr(t,n[11]);Ar(i,n,o,r),Xt(r,!1)}function Sa(e){return xa("",e,""),Sa}function xa(e,t,n){const i=Zt(),s=Do(i,e,t,n);return s!==hs&&fr(i,wn(),s),xa}function ka(e,t,n,i,s){const r=Zt(),o=function(e,t,n,i,s,r){const o=Io(e,on(),n,s);return ln(2),o?t+Hn(n)+i+Hn(s)+r:hs}(r,e,t,n,i,s);return o!==hs&&fr(r,wn(),o),ka}function Ea(e,t,n,i,s,r,o,a,l,c,u){const h=Zt(),d=function(e,t,n,i,s,r,o,a,l,c,u,h){const d=on();let p=To(e,d,n,s,o,l);return p=Eo(e,d+4,u)||p,ln(5),p?t+Hn(n)+i+Hn(s)+r+Hn(o)+a+Hn(l)+c+Hn(u)+h:hs}(h,e,t,n,i,s,r,o,a,l,c,u);return d!==hs&&fr(h,wn(),d),Ea}function Ia(e,t,n){const i=Zt();return Eo(i,an(),t)&&zs(Yt(),Sn(),i,e,t,i[11],n,!0),Ia}function _a(e,t){const n=zt(e)[1],i=n.data.length-1;xn(n,{directiveStart:i,directiveEnd:i+1})}function Ta(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const i=[e];for(;t;){let s=void 0;if(Ft(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(n){i.push(s);const t=e;t.inputs=Fa(e.inputs),t.declaredInputs=Fa(e.declaredInputs),t.outputs=Fa(e.outputs);const n=s.hostBindings;n&&Oa(e,n);const r=s.viewQuery,o=s.contentQueries;if(r&&Da(e,r),o&&Aa(e,o),ce(e.inputs,s.inputs),ce(e.declaredInputs,s.declaredInputs),ce(e.outputs,s.outputs),Ft(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}t.afterContentChecked=t.afterContentChecked||s.afterContentChecked,t.afterContentInit=e.afterContentInit||s.afterContentInit,t.afterViewChecked=e.afterViewChecked||s.afterViewChecked,t.afterViewInit=e.afterViewInit||s.afterViewInit,t.doCheck=e.doCheck||s.doCheck,t.onDestroy=e.onDestroy||s.onDestroy,t.onInit=e.onInit||s.onInit}const t=s.features;if(t)for(let i=0;i<t.length;i++){const s=t[i];s&&s.ngInherit&&s(e),s===Ta&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const s=e[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Rn(s.hostAttrs,n=Rn(n,s.hostAttrs))}}(i)}function Fa(e){return e===ut?{}:e===ht?[]:e}function Da(e,t){const n=e.viewQuery;e.viewQuery=n?(e,i)=>{t(e,i),n(e,i)}:t}function Aa(e,t){const n=e.contentQueries;e.contentQueries=n?(e,i,s)=>{t(e,i,s),n(e,i,s)}:t}function Oa(e,t){const n=e.hostBindings;e.hostBindings=n?(e,i)=>{t(e,i),n(e,i)}:t}class Ra{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Pa(e){e.type.prototype.ngOnChanges&&(e.setInput=Na,e.onChanges=function(){const e=La(this),t=e&&e.current;if(t){const n=e.previous;if(n===ut)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}})}function Na(e,t,n,i){const s=La(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ut,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[n],l=o[a];r[a]=new Ra(l&&l.currentValue,t,o===ut),e[i]=t}function La(e){return e.__ngSimpleChanges__||null}function Ma(e,t,n,i,s){if(e=ke(e),Array.isArray(e))for(let r=0;r<e.length;r++)Ma(e[r],t,n,i,s);else{const r=Yt(),o=Zt();let a=lo(e)?e:ke(e.provide),l=ro(e);const c=Jt(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(lo(e)||!e.multi){const i=new Fn(l,s,Ro),p=Ba(a,t,s?u:u+d,h);-1===p?(Yn(Kn(c,o),r,a),Va(r,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=65536),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=Ba(a,t,u+d,h),f=Ba(a,t,u,u+d),g=p>=0&&n[p],m=f>=0&&n[f];if(s&&!m||!s&&!g){Yn(Kn(c,o),r,a);const u=function(e,t,n,i,s){const r=new Fn(e,n,Ro);return r.multi=[],r.index=t,r.componentProviders=0,Ha(r,s,i&&!n),r}(s?ja:za,n.length,s,i,l);!s&&m&&(n[f].providerFactory=u),Va(r,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=65536),n.push(u),o.push(u)}else Va(r,e,p>-1?p:f,Ha(n[s?f:p],l,!s&&i));!s&&i&&m&&n[f].componentProviders++}}}function Va(e,t,n,i){const s=lo(t);if(s||t.useClass){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const o=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const e=o.indexOf(n);-1===e?o.push(n,[i,r]):o[e+1].push(i,r)}else o.push(n,r)}}}function Ha(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ba(e,t,n,i){for(let s=n;s<i;s++)if(t[s]===e)return s;return-1}function za(e,t,n,i){return Ua(this.multi,[])}function ja(e,t,n,i){const s=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=ti(n,n[1],this.providerFactory.index,i);r=t.slice(0,e),Ua(s,r);for(let n=e;n<t.length;n++)r.push(t[n])}else r=[],Ua(s,r);return r}function Ua(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ga(e,t=[]){return n=>{n.providersResolver=(n,i)=>function(e,t,n){const i=Yt();if(i.firstCreatePass){const s=Ft(e);Ma(n,i.data,i.blueprint,s,!0),Ma(t,i.data,i.blueprint,s,!1)}}(n,i?i(e):e,t)}}Pa.ngInherit=!0;class qa{}class Ka{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${we(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let $a=(()=>{class e{}return e.NULL=new Ka,e})(),Wa=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Za(e),e})();const Za=function(e){return qr(e,Jt(),Zt())};class Ya{}const Qa=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Ja=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Xa(),e})();const Xa=function(){const e=Zt(),t=Bt(Jt().index,e);return function(e){const t=e[11];if(Rt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(kt(t)?t:e)};let el=(()=>{class e{}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>null}),e})();class tl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const nl=new tl("9.1.13");class il{constructor(){}supports(e){return Co(e)}create(e){return new rl(e)}}const sl=(e,t)=>t;class rl{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sl}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,s=null;for(;t||n;){const r=!n||t&&t.currentIndex<cl(n,i,s)?t:n,o=cl(r,i,s),a=r.currentIndex;if(r===n)i--,n=n._nextRemoved;else if(t=t._next,null==r.previousIndex)i++;else{s||(s=[]);const e=o-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<s.length?s[n]:s[n]=0,r=i+n;t<=r&&r<e&&(s[n]=i+1)}s[r.previousIndex]=t-e}}o!==a&&e(r,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Co(e))throw new Error(`Error trying to diff '${we(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,s=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==s&&bo(s.trackById,i)?(r&&(s=this._verifyReinsertion(s,n,i,t)),bo(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,i,t),r=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[yo()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==s&&bo(s.trackById,i)?(r&&(s=this._verifyReinsertion(s,e,i,t)),bo(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,i,t),r=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(bo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(bo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):e=this._addAfter(new ol(t,n),s,i),e}_verifyReinsertion(e,t,n,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ll),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ll),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ol{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class al{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&bo(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ll{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new al,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cl(e,t,n){const i=e.previousIndex;if(null===i)return i;let s=0;return n&&i<n.length&&(s=n[i]),i+t+s}class ul{constructor(){}supports(e){return e instanceof Map||So(e)}create(){return new hl}}class hl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||So(e)))throw new Error(`Error trying to diff '${we(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,s=n._next;return i&&(i._next=s),s&&(s._prev=i),n._next=null,n._prev=null,n}const n=new dl(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){bo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class dl{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let pl=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new se]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e([new il])}),e})(),fl=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new se]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e([new ul])}),e})();const gl=[new ul],ml=new pl([new il]),vl=new fl(gl);let yl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>bl(e,Wa),e})();const bl=function(e,t){return Kr(e,t,Jt(),Zt())};let wl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Cl(e,Wa),e})();const Cl=function(e,t){return $r(e,t,Jt(),Zt())},Sl={};class xl extends $a{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ct(e);return new Il(t,this.ngModule)}}function kl(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const El=new Ve("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>zn});class Il extends qa{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(us).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return kl(this.componentDef.inputs)}get outputs(){return kl(this.componentDef.outputs)}create(e,t,n,i){const s=(i=i||this.ngModule)?function(e,t){return{get:(n,i,s)=>{const r=e.get(n,Sl,s);return r!==Sl||i===Sl?r:t.get(n,i,s)}}}(e,i.injector):e,r=s.get(Ya,Pt),o=s.get(el,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Rt(e))return e.selectRootElement(t,n===ct.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(a,n,this.componentDef.encapsulation):_s(l,r.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:zn,clean:cr,playerHandler:null,flags:0},p=Vs(0,-1,null,1,0,null,null,null,null,null),f=Ts(null,p,d,u,null,null,r,a,o,s);let g,m;fn(f,null);try{const e=function(e,t,n,i,s,r){const o=n[1];n[20]=e;const a=Fs(o,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(mo(a,l,!0),null!==e&&(Dn(s,e,l),null!==a.classes&&Hr(s,e,a.classes),null!==a.styles&&Vr(s,e,a.styles)));const c=i.createRenderer(e,t),u=Ts(n,Ms(t),null,t.onPush?64:16,n[20],a,i,c,void 0);return o.firstCreatePass&&(Yn(Kn(a,n),o,t.type),$s(o,a),Zs(a,n.length,1)),sr(n,u),n[20]=u}(c,this.componentDef,f,r,a);if(c)if(n)Dn(a,c,["ng-version",nl.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,s=2;for(;i<e.length;){let r=e[i];if("string"==typeof r)2===s?""!==r&&t.push(r,e[++i]):8===s&&n.push(r);else{if(!rs(s))break;s=r}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Dn(a,c,e),t&&t.length>0&&Hr(a,c,t.join(" "))}if(m=Vt(p,0),void 0!==t){const e=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}g=function(e,t,n,i,s){const r=n[1],o=function(e,t,n){const i=Jt();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ks(e,i,1),Ys(e,t,n));const s=ti(t,e,t.length-1,i);Qi(s,t);const r=Mt(i,t);return r&&Qi(r,t),s}(r,n,t);i.components.push(o),e[8]=o,s&&s.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,n.length-1);const a=Jt();if(r.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){Cn(a.index-20);const e=n[1];Us(e,t),Gs(e,n,t.hostVars),qs(t,o)}return o}(e,this.componentDef,f,d,[_a]),Ds(p,f,null)}finally{bn()}const v=new _l(this.componentType,g,qr(Wa,m,f),f,m);return n&&!h||(p.node.child=m),v}}class _l extends class{}{constructor(e,t,n,i,s){super(),this.location=n,this._rootLView=i,this._tNode=s,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new zr(i),function(e,t,n,i){let s=e.node;null==s&&(e.node=s=Hs(0,null,2,-1,null,null)),i[6]=s}(i[1],0,0,i),this.componentType=e}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const Tl=void 0;var Fl=["en",[["a","p"],["AM","PM"],Tl],[["AM","PM"],Tl,Tl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tl,"{1} 'at' {0}",Tl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let Dl={};function Al(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Rl(t);if(n)return n;const i=t.split("-")[0];if(n=Rl(i),n)return n;if("en"===i)return Fl;throw new Error(`Missing locale data for the locale "${e}".`)}function Ol(e){return Al(e)[Pl.PluralCase]}function Rl(e){return e in Dl||(Dl[e]=De.ng&&De.ng.common&&De.ng.common.locales&&De.ng.common.locales[e]),Dl[e]}const Pl=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Nl=["zero","one","two","few","many"],Ll=/\ufffd(\d+):?\d*\ufffd/gi,Ml=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function Vl(e,t,n,i=null){const s=[null,null],r=e.split(Ll);let o=0;for(let a=0;a<r.length;a++){const e=r[a];if(1&a){const t=parseInt(e,10);s.push(-1-t),o|=Hl(t)}else""!==e&&s.push(e)}return s.push(t<<2|(n?1:0)),n&&s.push(n,i),s[0]=o,s[1]=s.length-2,s}function Hl(e){return 1<<Math.min(e,31)}function Bl(e,t,n,i,s){const r=t.next;i||(i=n),i===n&&t!==n.child?(t.next=n.child,n.child=t):i!==n&&t!==i.next?(t.next=i.next,i.next=t):t.next=null,n!==s[6]&&(t.parent=n);let o=t.next;for(;o;)o.next===t&&(o.next=r),o=o.next;if(1===t.type)return Lr(e,s,t),t;Ar(e,s,Mt(t,s),t);const a=s[t.index];return 0!==t.type&&Et(a)&&Ar(e,s,a[7],t),t}function zl(e,t,n,i,s,r){const o=Jt();t[n+20]=s;const a=Fs(e,t[6],n,i,r,null);return o&&o.next===a&&(o.next=null),a}function jl(e,t,n,i){const s=i[11];let r=null,o=null;const a=[];for(let l=0;l<t.length;l++){const c=t[l];if("string"==typeof c){const e=yr(c,s),u=t[++l];o=r,r=zl(n,i,u,3,e,null),a.push(u),tn()}else if("number"==typeof c)switch(7&c){case 1:const s=c>>>17;let u;u=s===e?i[6]:Vt(n,s),o=Bl(n,r,u,o,i);break;case 0:const h=c>=0,d=(h?c:~c)>>>3;a.push(d),o=r,r=Vt(n,d),r&&Xt(r,h);break;case 5:o=r=Vt(n,c>>>3),Xt(r,!1);break;case 4:const p=t[++l],f=t[++l];Js(Vt(n,c>>>3),i,p,f,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case bs:const e=t[++l],u=t[++l],h=s.createComment(e);o=r,r=zl(n,i,u,5,h,null),a.push(u),Qi(h,i),r.activeCaseIndex=null,tn();break;case ys:const d=t[++l],p=t[++l];o=r,r=zl(n,i,p,3,s.createElement(d),d),a.push(p);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return tn(),a}function Ul(e,t,n,i){const s=Vt(e,n),r=Lt(n,t);r&&Rr(t[11],r);const o=Ht(t,n);if(Et(o)){const e=o;0!==s.type&&Rr(t[11],e[7])}i&&(s.flags|=64)}function Gl(e,t){!function(e,t,n,i){const s=Jt().index-20,r=[];for(let o=0;o<i.length;o+=2){const a=i[o],l=i[o+1].split(Ml);for(let i=0;i<l.length;i++){const o=l[i];if(1&i)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(Ll))t.firstCreatePass&&null===t.data[n+20]&&et(Vl(o,s,a),r);else{const n=Vt(t,s);3===n.type&&Js(n,e,a,o,null,null);const i=null!==n.inputs&&n.inputs[a];i&&pr(t,e,i,a,o)}}}t.firstCreatePass&&null===t.data[n+20]&&(t.data[n+20]=r)}(Zt(),Yt(),e,t)}let ql=0,Kl=0;function $l(e){return Eo(Zt(),an(),e)&&(ql|=1<<Kl),Kl++,$l}function Wl(e,t){let n=e.cases.indexOf(t);if(-1===n)switch(e.type){case 1:{const i=function(e,t){const n=Ol(t)(parseInt(e,10)),i=Nl[n];return void 0!==i?i:"other"}(t,Zl);n=e.cases.indexOf(i),-1===n&&"other"!==i&&(n=e.cases.indexOf("other"));break}case 0:n=e.cases.indexOf("other")}return n}let Zl="en-US";function Yl(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Zl=e.toLowerCase().replace(/_/g,"-"))}const Ql=new Map;class Jl extends Je{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xl(this);const n=xt(e),i=e[Ne]||null;i&&Yl(i),this._bootstrapComponents=jn(n.bootstrap),this._r3Injector=no(e,t,[{provide:Je,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],we(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=uo.THROW_IF_NOT_FOUND,n=ae.Default){return e===uo||e===Je||e===He?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Xl extends Xe{constructor(e){super(),this.moduleType=e,null!==xt(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${we(t)} vs ${we(t.name)}`)})(e,Ql.get(e),t),Ql.set(e,t)}let n=t.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(t=>e(t))}(e)}create(e){return new Jl(this.moduleType,e)}}function ec(e,t,n){const i=rn()+e,s=Zt();return s[i]===hs?xo(s,i,n?t.call(n):t()):ko(s,i)}function tc(e,t,n,i){return ac(Zt(),rn(),e,t,n,i)}function nc(e,t,n,i,s){return lc(Zt(),rn(),e,t,n,i,s)}function ic(e,t,n,i,s,r){return cc(Zt(),rn(),e,t,n,i,s,r)}function sc(e,t,n,i,s,r,o){return function(e,t,n,i,s,r,o,a,l){const c=t+n;return To(e,c,s,r,o,a)?xo(e,c+4,l?i.call(l,s,r,o,a):i(s,r,o,a)):oc(e,c+4)}(Zt(),rn(),e,t,n,i,s,r,o)}function rc(e,t,n,i,s,r,o,a,l){const c=rn()+e,u=Zt(),h=To(u,c,n,i,s,r);return Io(u,c+4,o,a)||h?xo(u,c+6,l?t.call(l,n,i,s,r,o,a):t(n,i,s,r,o,a)):ko(u,c+6)}function oc(e,t){const n=e[t];return n===hs?void 0:n}function ac(e,t,n,i,s,r){const o=t+n;return Eo(e,o,s)?xo(e,o+1,r?i.call(r,s):i(s)):oc(e,o+1)}function lc(e,t,n,i,s,r,o){const a=t+n;return Io(e,a,s,r)?xo(e,a+2,o?i.call(o,s,r):i(s,r)):oc(e,a+2)}function cc(e,t,n,i,s,r,o,a){const l=t+n;return _o(e,l,s,r,o)?xo(e,l+3,a?i.call(a,s,r,o):i(s,r,o)):oc(e,l+3)}function uc(e,t){const n=Yt();let i;const s=e+20;n.firstCreatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[s]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(s,i.onDestroy)):i=n.data[s];const r=i.factory||(i.factory=St(i.type)),o=Ke(Ro),a=Gn(!1),l=r();return Gn(a),Ke(o),function(e,t,n,i){const s=n+20;s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),t[s]=i}(n,Zt(),e,l),l}function hc(e,t,n,i){const s=Zt(),r=Ht(s,e);return fc(s,pc(s,e)?lc(s,rn(),t,r.transform,n,i,r):r.transform(n,i))}function dc(e,t,n,i,s){const r=Zt(),o=Ht(r,e);return fc(r,pc(r,e)?cc(r,rn(),t,o.transform,n,i,s,o):o.transform(n,i,s))}function pc(e,t){return e[1].data[t+20].pure}function fc(e,t){return wo.isWrapped(t)&&(t=wo.unwrap(t),e[on()]=hs),t}class gc extends E{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,s=e=>null,r=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(r=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(r=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,s,r);return e instanceof h&&e.add(o),o}}function mc(){return this._results[yo()]()}class vc{constructor(){this.dirty=!0,this._results=[],this.changes=new gc,this.length=0;const e=yo(),t=vc.prototype;t[e]||(t[e]=mc)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?(n===t&&(n=t.slice(0,i)),e(s,n)):n!==t&&n.push(s)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class yc{constructor(e){this.queryList=e,this.matches=null}clone(){return new yc(this.queryList)}setDirty(){this.queryList.setDirty()}}class bc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new bc(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Lc(e,t).matches&&this.queries[t].setDirty()}}class wc{constructor(e,t,n,i=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=i}}class Cc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,s=this.getByIndex(n).embeddedTView(e,i);s&&(s.indexInDeclarationView=n,null!==t?t.push(s):t=[s])}return null!==t?new Cc(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Sc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Sc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(e,t,xc(t,n[i]))}else{const n=this.metadata.predicate;n===yl?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ei(t,e,n,!1,!1))}}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Wa||i===wl||i===yl&&0===t.type)this.addMatch(t.index,-2);else{const n=ei(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function xc(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function kc(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?qr(Wa,e,t):0===e.type?Kr(yl,Wa,e,t):null}(t,e):-2===n?function(e,t,n){return n===Wa?qr(Wa,t,e):n===yl?Kr(yl,Wa,t,e):n===wl?$r(wl,Wa,t,e):void 0}(e,t,i):ti(e,e[1],n,t)}function Ec(e,t,n,i){const s=t[19].queries[i];if(null===s.matches){const i=e.data,r=n.matches,o=[];for(let e=0;e<r.length;e+=2){const s=r[e];o.push(s<0?null:kc(t,i[s],r[e+1],n.metadata.read))}s.matches=o}return s.matches}function Ic(e){const t=Zt(),n=Yt(),i=hn();dn(i+1);const s=Lc(n,i);if(e.dirty&&jt(t)===s.metadata.isStatic){if(null===s.matches)e.reset([]);else{const r=s.crossesNgTemplate?function e(t,n,i,s){const r=t.queries.getByIndex(i),o=r.matches;if(null!==o){const a=Ec(t,n,r,i);for(let t=0;t<o.length;t+=2){const i=o[t];if(i>0)s.push(a[t/2]);else{const r=o[t+1],a=n[-i];for(let t=10;t<a.length;t++){const n=a[t];n[17]===n[3]&&e(n[1],n,r,s)}if(null!==a[9]){const t=a[9];for(let n=0;n<t.length;n++){const i=t[n];e(i[1],i,r,s)}}}}}return s}(n,t,i,[]):Ec(n,t,s,i);e.reset(r),e.notifyOnChanges()}return!0}return!1}function _c(e,t,n){Fc(Yt(),Zt(),e,t,n,!0)}function Tc(e,t,n){Fc(Yt(),Zt(),e,t,n,!1)}function Fc(e,t,n,i,s,r){e.firstCreatePass&&(Nc(e,new wc(n,i,r,s),-1),r&&(e.staticViewQueries=!0)),Pc(e,t)}function Dc(e,t,n,i){Oc(Yt(),Zt(),t,n,i,!1,Jt(),e)}function Ac(e,t,n,i){Oc(Yt(),Zt(),t,n,i,!0,Jt(),e)}function Oc(e,t,n,i,s,r,o,a){e.firstCreatePass&&(Nc(e,new wc(n,i,r,s),o.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a),r&&(e.staticContentQueries=!0)),Pc(e,t)}function Rc(){return e=Zt(),t=hn(),e[19].queries[t].queryList;var e,t}function Pc(e,t){const n=new vc;!function(e,t,n,i){const s=ur(t);s.push(n),e.firstCreatePass&&hr(e).push(i,s.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new bc),t[19].queries.push(new yc(n))}function Nc(e,t,n){null===e.queries&&(e.queries=new Cc),e.queries.track(new Sc(t,n))}function Lc(e,t){return e.queries.getByIndex(t)}function Mc(e,t){return Kr(yl,Wa,e,t)}const Vc=new Ve("Application Initializer");let Hc=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();qo(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(We(Vc,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Bc=new Ve("AppId"),zc={provide:Bc,useFactory:function(){return`${jc()}${jc()}${jc()}`},deps:[]};function jc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uc=new Ve("Platform Initializer"),Gc=new Ve("Platform ID"),qc=new Ve("appBootstrapListener");let Kc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const $c=new Ve("LocaleId"),Wc=new Ve("DefaultCurrencyCode");class Zc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Yc=function(e){return new Xl(e)},Qc=Yc,Jc=function(e){return Promise.resolve(Yc(e))},Xc=function(e){const t=Yc(e),n=jn(xt(e).declarations).reduce((e,t)=>{const n=Ct(t);return n&&e.push(new Il(n)),e},[]);return new Zc(t,n)},eu=Xc,tu=function(e){return Promise.resolve(Xc(e))};let nu=(()=>{class e{constructor(){this.compileModuleSync=Qc,this.compileModuleAsync=Jc,this.compileModuleAndAllComponentsSync=eu,this.compileModuleAndAllComponentsAsync=tu}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const iu=new Ve("compilerOptions"),su=(()=>Promise.resolve(0))();function ru(e){"undefined"==typeof Zone?su.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ou{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gc(!1),this.onMicrotaskEmpty=new gc(!1),this.onStable=new gc(!1),this.onError=new gc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=De.requestAnimationFrame,t=De.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(De,()=>{e.lastRequestAnimationFrameId=-1,uu(e),cu(e)}),uu(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,i,s,r,o,a)=>{try{return hu(e),n.invokeTask(s,r,o,a)}finally{t&&"eventTask"===r.type&&t(),du(e)}},onInvoke:(t,n,i,s,r,o,a)=>{try{return hu(e),t.invoke(i,s,r,o,a)}finally{du(e)}},onHasTask:(t,n,i,s)=>{t.hasTask(i,s),n===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,uu(e),cu(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,n,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ou.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ou.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+i,e,lu,au,au);try{return s.runTask(r,t,n)}finally{s.cancelTask(r)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function au(){}const lu={};function cu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function uu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function hu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function du(e){e._nesting--,cu(e)}class pu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gc,this.onMicrotaskEmpty=new gc,this.onStable=new gc,this.onError=new gc}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let fu=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ou.assertNotInAngularZone(),ru(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ru(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),gu=(()=>{class e{constructor(){this._applications=new Map,yu.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return yu.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class mu{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let vu,yu=new mu,bu=function(e,t,n){const i=e.get(iu,[]).concat(t),s=new Xl(n);if(0===po.size)return Promise.resolve(s);const r=function(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}(i.map(e=>e.providers));if(0===r.length)return Promise.resolve(s);const o=function(){const e=De.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),a=uo.create({providers:r}).get(o.ResourceLoader);return function(e){const t=[],n=new Map;function i(e){let t=n.get(e);if(!t){const i=(e=>Promise.resolve(a.get(e)))(e);n.set(e,t=i.then(go))}return t}return po.forEach((e,n)=>{const s=[];e.templateUrl&&s.push(i(e.templateUrl).then(t=>{e.template=t}));const r=e.styleUrls,o=e.styles||(e.styles=[]),a=e.styles.length;r&&r.forEach((t,n)=>{o.push(""),s.push(i(t).then(i=>{o[a+n]=i,r.splice(r.indexOf(t),1),0==r.length&&(e.styleUrls=void 0)}))});const l=Promise.all(s).then(()=>function(e){fo.delete(e)}(n));t.push(l)}),po=new Map,Promise.all(t).then(()=>{})}().then(()=>s)};const wu=new Ve("AllowMultipleToken");class Cu{constructor(e,t){this.name=e,this.token=t}}function Su(e,t,n=[]){const i="Platform: "+t,s=new Ve(i);return(t=[])=>{let r=xu();if(!r||r.injector.get(wu,!1))if(e)e(n.concat(t).concat({provide:s,useValue:!0}));else{const e=n.concat(t).concat({provide:s,useValue:!0},{provide:Yr,useValue:"platform"});!function(e){if(vu&&!vu.destroyed&&!vu.injector.get(wu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vu=e.get(ku);const t=e.get(Uc,null);t&&t.forEach(e=>e())}(uo.create({providers:e,name:i}))}return function(e){const t=xu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function xu(){return vu&&!vu.destroyed?vu:null}let ku=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new pu:("zone.js"===e?void 0:e)||new ou({enableLongStackTrace:Si(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),i=[{provide:ou,useValue:n}];return n.run(()=>{const t=uo.create({providers:i,parent:this.injector,name:e.moduleType.name}),s=e.create(t),r=s.injector.get(ui,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.onDestroy(()=>_u(this._modules,s)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,n){try{const i=n();return qo(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(r,n,()=>{const e=s.injector.get(Hc);return e.runInitializers(),e.donePromise.then(()=>(Yl(s.injector.get($c,"en-US")||"en-US"),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const n=Eu({},t);return bu(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Iu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${we(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(We(uo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Eu(e,t){return Array.isArray(t)?t.reduce(Eu,e):Object.assign(Object.assign({},e),t)}let Iu=(()=>{class e{constructor(e,t,n,i,s,r){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Si(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ou.assertNotInAngularZone(),ru(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=$(o,a.pipe(e=>{return W()((t=ee,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,J);return i.source=e,i.subjectFactory=n,i})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof qa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Je),s=n.create(uo.NULL,[],t||n.selector,i);s.onDestroy(()=>{this._unloadComponent(s)});const r=s.injector.get(fu,null);return r&&s.injector.get(gu).registerApplication(s.location.nativeElement,r),this._loadComponent(s),Si()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;_u(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(qc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),_u(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(We(ou),We(Kc),We(uo),We(ui),We($a),We(Hc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function _u(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Tu{}class Fu{}const Du={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Au=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Du}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("zn8P")(t).then(e=>e[i]).then(e=>Ou(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),s="NgFactory";return void 0===i&&(i="default",s=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+s]).then(e=>Ou(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(We(nu),We(Fu,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Ou(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Ru=Su(null,"core",[{provide:Gc,useValue:"unknown"},{provide:ku,deps:[uo]},{provide:gu,deps:[]},{provide:Kc,deps:[]}]),Pu=[{provide:Iu,useClass:Iu,deps:[ou,Kc,uo,ui,$a,Hc]},{provide:El,deps:[ou],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Hc,useClass:Hc,deps:[[new se,Vc]]},{provide:nu,useClass:nu,deps:[]},zc,{provide:pl,useFactory:function(){return ml},deps:[]},{provide:fl,useFactory:function(){return vl},deps:[]},{provide:$c,useFactory:function(e){return Yl(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ie($c),new se,new oe]]},{provide:Wc,useValue:"USD"}];let Nu=(()=>{class e{constructor(e){}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(We(Iu))},providers:Pu}),e})(),Lu=null;function Mu(){return Lu}const Vu=new Ve("DocumentToken");let Hu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:Bu,token:e,providedIn:"platform"}),e})();function Bu(){return We(ju)}const zu=new Ve("Location Initialized");let ju=(()=>{class e extends Hu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Mu().getLocation(),this._history=Mu().getHistory()}getBaseHrefFromDOM(){return Mu().getBaseHref(this._doc)}onPopState(e){Mu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Mu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){Uu()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){Uu()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({factory:Gu,token:e,providedIn:"platform"}),e})();function Uu(){return!!window.history.pushState}function Gu(){return new ju(We(Vu))}function qu(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Ku(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function $u(e){return e&&"?"!==e[0]?"?"+e:e}let Wu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:Zu,token:e,providedIn:"root"}),e})();function Zu(e){const t=We(Vu).location;return new Qu(We(Hu),t&&t.origin||"")}const Yu=new Ve("appBaseHref");let Qu=(()=>{class e extends Wu{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return qu(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+$u(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const s=this.prepareExternalUrl(n+$u(i));this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,i){const s=this.prepareExternalUrl(n+$u(i));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(We(Hu),We(Yu,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Ju=(()=>{class e extends Wu{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=qu(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let s=this.prepareExternalUrl(n+$u(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,n,i){let s=this.prepareExternalUrl(n+$u(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(We(Hu),We(Yu,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Xu=(()=>{class e{constructor(e,t){this._subject=new gc,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Ku(th(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+$u(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,th(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$u(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+$u(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(We(Wu),We(Hu))},e.normalizeQueryParams=$u,e.joinWithSlash=qu,e.stripTrailingSlash=Ku,e.\u0275prov=ue({factory:eh,token:e,providedIn:"root"}),e})();function eh(){return new Xu(We(Wu),We(Hu))}function th(e){return e.replace(/\/index.html$/,"")}const nh=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),ih=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),sh=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),rh=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),oh=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function ah(e,t){return ph(Al(e)[Pl.DateFormat],t)}function lh(e,t){return ph(Al(e)[Pl.TimeFormat],t)}function ch(e,t){return ph(Al(e)[Pl.DateTimeFormat],t)}function uh(e,t){const n=Al(e),i=n[Pl.NumberSymbols][t];if(void 0===i){if(t===oh.CurrencyDecimal)return n[Pl.NumberSymbols][oh.Decimal];if(t===oh.CurrencyGroup)return n[Pl.NumberSymbols][oh.Group]}return i}const hh=Ol;function dh(e){if(!e[Pl.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Pl.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ph(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function fh(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const gh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mh={},vh=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,yh=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),bh=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),wh=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Ch(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Sh(e,t,n="-",i,s){let r="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,r=n));let o=String(e);for(;o.length<t;)o="0"+o;return i&&(o=o.substr(o.length-t)),r+o}function xh(e,t,n=0,i=!1,s=!1){return function(r,o){let a=function(e,t){switch(e){case bh.FullYear:return t.getFullYear();case bh.Month:return t.getMonth();case bh.Date:return t.getDate();case bh.Hours:return t.getHours();case bh.Minutes:return t.getMinutes();case bh.Seconds:return t.getSeconds();case bh.FractionalSeconds:return t.getMilliseconds();case bh.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,r);if((n>0||a>-n)&&(a+=n),e===bh.Hours)0===a&&-12===n&&(a=12);else if(e===bh.FractionalSeconds)return l=t,Sh(a,3).substr(0,l);var l;const c=uh(o,oh.MinusSign);return Sh(a,t,c,i,s)}}function kh(e,t,n=ih.Format,i=!1){return function(s,r){return function(e,t,n,i,s,r){switch(n){case wh.Months:return function(e,t,n){const i=Al(e),s=ph([i[Pl.MonthsFormat],i[Pl.MonthsStandalone]],t);return ph(s,n)}(t,s,i)[e.getMonth()];case wh.Days:return function(e,t,n){const i=Al(e),s=ph([i[Pl.DaysFormat],i[Pl.DaysStandalone]],t);return ph(s,n)}(t,s,i)[e.getDay()];case wh.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(r){const e=function(e){const t=Al(e);return dh(t),(t[Pl.ExtraData][2]||[]).map(e=>"string"==typeof e?fh(e):[fh(e[0]),fh(e[1])])}(t),n=function(e,t,n){const i=Al(e);dh(i);const s=ph([i[Pl.ExtraData][0],i[Pl.ExtraData][1]],t)||[];return ph(s,n)||[]}(t,s,i);let r;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:i,minutes:s}=e[0],{hours:l,minutes:c}=e[1];o>=i&&a>=s&&(o<l||o===l&&a<c)&&(r=n[t])}else{const{hours:i,minutes:s}=e;i===o&&s===a&&(r=n[t])}}),r)return r}return function(e,t,n){const i=Al(e),s=ph([i[Pl.DayPeriodsFormat],i[Pl.DayPeriodsStandalone]],t);return ph(s,n)}(t,s,i)[o<12?0:1];case wh.Eras:return function(e,t){return ph(Al(e)[Pl.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(s,r,e,t,n,i)}}function Eh(e){return function(t,n,i){const s=-1*i,r=uh(n,oh.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case yh.Short:return(s>=0?"+":"")+Sh(o,2,r)+Sh(Math.abs(s%60),2,r);case yh.ShortGMT:return"GMT"+(s>=0?"+":"")+Sh(o,1,r);case yh.Long:return"GMT"+(s>=0?"+":"")+Sh(o,2,r)+":"+Sh(Math.abs(s%60),2,r);case yh.Extended:return 0===i?"Z":(s>=0?"+":"")+Sh(o,2,r)+":"+Sh(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${e}"`)}}}function Ih(e,t=!1){return function(n,i){let s;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();s=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(n.getFullYear()),t=(r=n,new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))).getTime()-e.getTime();s=1+Math.round(t/6048e5)}var r;return Sh(s,e,uh(i,oh.MinusSign))}}const _h={};function Th(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Fh(e){return e instanceof Date&&!isNaN(e.valueOf())}class Dh{}let Ah=(()=>{class e extends Dh{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(hh(t||this.locale)(e)){case nh.Zero:return"zero";case nh.One:return"one";case nh.Two:return"two";case nh.Few:return"few";case nh.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(We($c))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Oh(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,s]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}let Rh=(()=>{class e{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Co(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+we(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Ro(pl),Ro(fl),Ro(Wa),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class Ph{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nh=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Si()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ph(null,this._ngForOf,-1,-1),null===i?void 0:i),s=new Lh(e,n);t.push(s)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const s=this._viewContainer.get(n);this._viewContainer.move(s,i);const r=new Lh(e,s);t.push(r)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ro(wl),Ro(yl),Ro(pl))},e.\u0275dir=bt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Lh{constructor(e,t){this.record=e,this.view=t}}let Mh=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Vh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Hh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Hh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ro(wl),Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Vh{constructor(){this.$implicit=null,this.ngIf=null}}function Hh(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${we(t)}'.`)}class Bh{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let zh=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),jh=(()=>{class e{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Bh(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Ro(wl),Ro(yl),Ro(zh,1))},e.\u0275dir=bt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Uh=(()=>{class e{constructor(e,t,n){n._addDefault(new Bh(e,t))}}return e.\u0275fac=function(t){return new(t||e)(Ro(wl),Ro(yl),Ro(zh,1))},e.\u0275dir=bt({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Gh=(()=>{class e{constructor(e,t,n){this._ngEl=e,this._differs=t,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[n,i]=e.split(".");null!=(t=null!=t&&i?`${t}${i}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(fl),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),qh=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(Ro(wl))},e.\u0275dir=bt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Pa]}),e})(),Kh=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",i,s){if(null==t||""===t||t!=t)return null;try{return function(e,t,n,i){let s=function(e){if(Fh(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,i]=e.split("-").map(e=>+e);return new Date(t,n-1,i)}let n;if(n=e.match(gh))return function(e){const t=new Date(0);let n=0,i=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-i,l=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,o,a,l,c),t}(n)}const t=new Date(e);if(!Fh(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const i=function(e){return Al(e)[Pl.LocaleId]}(t);if(mh[i]=mh[i]||{},mh[i][n])return mh[i][n];let s="";switch(n){case"shortDate":s=ah(t,rh.Short);break;case"mediumDate":s=ah(t,rh.Medium);break;case"longDate":s=ah(t,rh.Long);break;case"fullDate":s=ah(t,rh.Full);break;case"shortTime":s=lh(t,rh.Short);break;case"mediumTime":s=lh(t,rh.Medium);break;case"longTime":s=lh(t,rh.Long);break;case"fullTime":s=lh(t,rh.Full);break;case"short":const n=e(t,"shortTime"),i=e(t,"shortDate");s=Ch(ch(t,rh.Short),[n,i]);break;case"medium":const r=e(t,"mediumTime"),o=e(t,"mediumDate");s=Ch(ch(t,rh.Medium),[r,o]);break;case"long":const a=e(t,"longTime"),l=e(t,"longDate");s=Ch(ch(t,rh.Long),[a,l]);break;case"full":const c=e(t,"fullTime"),u=e(t,"fullDate");s=Ch(ch(t,rh.Full),[c,u])}return s&&(mh[i][n]=s),s}(n,t)||t;let r,o=[];for(;t;){if(r=vh.exec(t),!r){o.push(t);break}{o=o.concat(r.slice(1));const e=o.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();i&&(a=Th(i,a),s=function(e,t,n){const i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Th(t,i)-i))}(s,i));let l="";return o.forEach(e=>{const t=function(e){if(_h[e])return _h[e];let t;switch(e){case"G":case"GG":case"GGG":t=kh(wh.Eras,sh.Abbreviated);break;case"GGGG":t=kh(wh.Eras,sh.Wide);break;case"GGGGG":t=kh(wh.Eras,sh.Narrow);break;case"y":t=xh(bh.FullYear,1,0,!1,!0);break;case"yy":t=xh(bh.FullYear,2,0,!0,!0);break;case"yyy":t=xh(bh.FullYear,3,0,!1,!0);break;case"yyyy":t=xh(bh.FullYear,4,0,!1,!0);break;case"M":case"L":t=xh(bh.Month,1,1);break;case"MM":case"LL":t=xh(bh.Month,2,1);break;case"MMM":t=kh(wh.Months,sh.Abbreviated);break;case"MMMM":t=kh(wh.Months,sh.Wide);break;case"MMMMM":t=kh(wh.Months,sh.Narrow);break;case"LLL":t=kh(wh.Months,sh.Abbreviated,ih.Standalone);break;case"LLLL":t=kh(wh.Months,sh.Wide,ih.Standalone);break;case"LLLLL":t=kh(wh.Months,sh.Narrow,ih.Standalone);break;case"w":t=Ih(1);break;case"ww":t=Ih(2);break;case"W":t=Ih(1,!0);break;case"d":t=xh(bh.Date,1);break;case"dd":t=xh(bh.Date,2);break;case"E":case"EE":case"EEE":t=kh(wh.Days,sh.Abbreviated);break;case"EEEE":t=kh(wh.Days,sh.Wide);break;case"EEEEE":t=kh(wh.Days,sh.Narrow);break;case"EEEEEE":t=kh(wh.Days,sh.Short);break;case"a":case"aa":case"aaa":t=kh(wh.DayPeriods,sh.Abbreviated);break;case"aaaa":t=kh(wh.DayPeriods,sh.Wide);break;case"aaaaa":t=kh(wh.DayPeriods,sh.Narrow);break;case"b":case"bb":case"bbb":t=kh(wh.DayPeriods,sh.Abbreviated,ih.Standalone,!0);break;case"bbbb":t=kh(wh.DayPeriods,sh.Wide,ih.Standalone,!0);break;case"bbbbb":t=kh(wh.DayPeriods,sh.Narrow,ih.Standalone,!0);break;case"B":case"BB":case"BBB":t=kh(wh.DayPeriods,sh.Abbreviated,ih.Format,!0);break;case"BBBB":t=kh(wh.DayPeriods,sh.Wide,ih.Format,!0);break;case"BBBBB":t=kh(wh.DayPeriods,sh.Narrow,ih.Format,!0);break;case"h":t=xh(bh.Hours,1,-12);break;case"hh":t=xh(bh.Hours,2,-12);break;case"H":t=xh(bh.Hours,1);break;case"HH":t=xh(bh.Hours,2);break;case"m":t=xh(bh.Minutes,1);break;case"mm":t=xh(bh.Minutes,2);break;case"s":t=xh(bh.Seconds,1);break;case"ss":t=xh(bh.Seconds,2);break;case"S":t=xh(bh.FractionalSeconds,1);break;case"SS":t=xh(bh.FractionalSeconds,2);break;case"SSS":t=xh(bh.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Eh(yh.Short);break;case"ZZZZZ":t=Eh(yh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Eh(yh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Eh(yh.Long);break;default:return null}return _h[e]=t,t}(e);l+=t?t(s,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,n,s||this.locale,i)}catch(r){throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${we(e)}'`)}(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(Ro($c))},e.\u0275pipe=wt({name:"date",type:e,pure:!0}),e})(),$h=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:Dh,useClass:Ah}]}),e})(),Wh=(()=>{class e{}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new Zh(We(Vu),window,We(ui))}),e})();class Zh{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],i-s[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class Yh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Yh,Lu||(Lu=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Jh||(Jh=document.querySelector("base"),Jh)?Jh.getAttribute("href"):null;return null==t?null:(n=t,Qh||(Qh=document.createElement("a")),Qh.setAttribute("href",n),"/"===Qh.pathname.charAt(0)?Qh.pathname:"/"+Qh.pathname);var n}resetBaseElement(){Jh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Oh(document.cookie,e)}}let Qh,Jh=null;const Xh=new Ve("TRANSITION_ID"),ed=[{provide:Vc,useFactory:function(e,t,n){return()=>{n.get(Hc).donePromise.then(()=>{const n=Mu();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Xh,Vu,uo],multi:!0}];class td{static init(){!function(e){yu=e}(new td)}addToWindow(e){De.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(e=>{const t=De.getAllAngularTestabilities();let n=t.length,i=!1;const s=function(t){i=i||t,n--,0==n&&e(i)};t.forEach((function(e){e.whenStable(s)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?Mu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const nd=new Ve("EventManagerPlugins");let id=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(We(nd),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class sd{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=Mu().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let rd=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),od=(()=>{class e extends rd{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Mu().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const ad={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ld=/%COMP%/g;function cd(e,t,n){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?cd(e,s,n):(s=s.replace(ld,e),n.push(s))}return n}function ud(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let hd=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new dd(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ct.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new pd(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case ct.Native:case ct.ShadowDom:return new fd(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=cd(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(We(id),We(od),We(Bc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class dd{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ad[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const s=ad[i];s?e.setAttributeNS(s,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=ad[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&Qa.DashCase?e.style.setProperty(t,n,i&Qa.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Qa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ud(n)):this.eventManager.addEventListener(e,t,ud(n))}}class pd extends dd{constructor(e,t,n,i){super(e),this.component=n;const s=cd(i+"-"+n.id,n.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(ld,i+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(ld,e)}(i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class fd extends dd{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===ct.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=cd(i.id,i.styles,[]);for(let r=0;r<s.length;r++){const e=document.createElement("style");e.textContent=s[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gd=(()=>{class e extends sd{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const md=["alt","control","meta","shift"],vd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bd={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let wd=(()=>{class e extends sd{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const s=e.parseEventName(n),r=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mu().onAndCancel(t,s.domEventName,r))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(n.pop());let r="";if(md.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),r+=e+".")}),r+=s,0!=n.length||0===s.length)return null;const o={};return o.domEventName=i,o.fullKey=r,o}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&yd.hasOwnProperty(t)&&(t=yd[t]))}return vd[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),md.forEach(i=>{i!=n&&(0,bd[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return s=>{e.getEventFullKey(s)===t&&i.runGuarded(()=>n(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Cd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:function(){return We(Sd)},token:e,providedIn:"root"}),e})(),Sd=(()=>{class e extends Cd{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case qi.NONE:return t;case qi.HTML:return yi(t,"HTML")?vi(t):Ui(this._doc,String(t));case qi.STYLE:return yi(t,"Style")?vi(t):function(e){if(!(e=String(e).trim()))return"";const t=e.match($i);return t&&Ii(t[1])===t[1]||e.match(Ki)&&function(e){let t=!0,n=!0;for(let i=0;i<e.length;i++){const s=e.charAt(i);"'"===s&&n?t=!t:'"'===s&&t&&(n=!n)}return t&&n}(e)?e:(Si()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t);case qi.SCRIPT:if(yi(t,"Script"))return vi(t);throw new Error("unsafe value used in a script context");case qi.URL:return bi(t),yi(t,"URL")?vi(t):Ii(String(t));case qi.RESOURCE_URL:if(yi(t,"ResourceURL"))return vi(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new di(e)}bypassSecurityTrustStyle(e){return new pi(e)}bypassSecurityTrustScript(e){return new fi(e)}bypassSecurityTrustUrl(e){return new gi(e)}bypassSecurityTrustResourceUrl(e){return new mi(e)}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({factory:function(){return e=We(He),new Sd(e.get(Vu));var e},token:e,providedIn:"root"}),e})();const xd=Su(Ru,"browser",[{provide:Gc,useValue:"browser"},{provide:Uc,useValue:function(){Yh.makeCurrent(),td.init()},multi:!0},{provide:Vu,useFactory:function(){return function(e){At=e}(document),document},deps:[]}]),kd=[[],{provide:Yr,useValue:"root"},{provide:ui,useFactory:function(){return new ui},deps:[]},{provide:nd,useClass:gd,multi:!0,deps:[Vu,ou,Gc]},{provide:nd,useClass:wd,multi:!0,deps:[Vu]},[],{provide:hd,useClass:hd,deps:[id,od,Bc]},{provide:Ya,useExisting:hd},{provide:rd,useExisting:od},{provide:od,useClass:od,deps:[Vu]},{provide:fu,useClass:fu,deps:[ou]},{provide:id,useClass:id,deps:[nd,ou]},[]];let Ed=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Bc,useValue:t.appId},{provide:Xh,useExisting:Bc},ed]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(We(e,12))},providers:kd,imports:[$h,Nu]}),e})();"undefined"!=typeof window&&window;class Id{}function _d(e,t){return{type:7,name:e,definitions:t,options:{}}}function Td(e,t=null){return{type:4,styles:t,timings:e}}function Fd(e,t=null){return{type:2,steps:e,options:t}}function Dd(e){return{type:6,styles:e,offset:null}}function Ad(e,t,n){return{type:0,name:e,styles:t,options:n}}function Od(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function Rd(e){Promise.resolve(null).then(e)}class Pd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Rd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Nd{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const s=this.players.length;0==s?Rd(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==s&&this._onFinish()}),e.onDestroy(()=>{++n==s&&this._onDestroy()}),e.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Ld(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Md(e){switch(e.length){case 0:return new Pd;case 1:return e[0];default:return new Nd(e)}}function Vd(e,t,n,i,s={},r={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(e=>{const n=e.offset,i=n==l,u=i&&c||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,o),a){case"!":a=s[n];break;case"*":a=r[n];break;default:a=t.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),c=u,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function Hd(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&Bd(n,"start",e)));break;case"done":e.onDone(()=>i(n&&Bd(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&Bd(n,"destroy",e)))}}function Bd(e,t,n){const i=n.totalTime,s=zd(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),r=e._data;return null!=r&&(s._data=r),s}function zd(e,t,n,i,s="",r=0,o){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function jd(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function Ud(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Gd=(e,t)=>!1,qd=(e,t)=>!1,Kd=(e,t,n)=>[];const $d=Ld();($d||"undefined"!=typeof Element)&&(Gd=(e,t)=>e.contains(t),qd=(()=>{if($d||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):qd}})(),Kd=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let Wd=null,Zd=!1;function Yd(e){Wd||(Wd=("undefined"!=typeof document?document.body:null)||{},Zd=!!Wd.style&&"WebkitAppearance"in Wd.style);let t=!0;return Wd.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Wd.style,!t&&Zd)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Wd.style),t}const Qd=qd,Jd=Gd,Xd=Kd;function ep(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}let tp=(()=>{class e{validateStyleProperty(e){return Yd(e)}matchesElement(e,t){return Qd(e,t)}containsElement(e,t){return Jd(e,t)}query(e,t,n){return Xd(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,s,r=[],o){return new Pd(n,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),np=(()=>{class e{}return e.NOOP=new tp,e})();function ip(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:sp(parseFloat(t[1]),t[2])}function sp(e,t){switch(t){case"s":return 1e3*e;default:return e}}function rp(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,s=0,r="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=sp(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(s=sp(parseFloat(o),n[4]));const a=n[5];a&&(r=a)}else i=e;if(!n){let n=!1,r=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:s,easing:r}}(e,t,n)}function op(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function ap(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else op(e,n);return n}function lp(e,t,n){return n?t+":"+n+";":""}function cp(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=lp(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=lp(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function up(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const s=yp(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[s]),e.style[s]=t[i]}),Ld()&&cp(e))}function hp(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=yp(t);e.style[n]=""}),Ld()&&cp(e))}function dp(e){return Array.isArray(e)?1==e.length?e[0]:Fd(e):e}const pp=new RegExp("{{\\s*(.+?)\\s*}}","g");function fp(e){let t=[];if("string"==typeof e){let n;for(;n=pp.exec(e);)t.push(n[1]);pp.lastIndex=0}return t}function gp(e,t,n){const i=e.toString(),s=i.replace(pp,(e,i)=>{let s=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),s=""),s.toString()});return s==i?e:s}function mp(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const vp=/-+([a-z0-9])/g;function yp(e){return e.replace(vp,(...e)=>e[1].toUpperCase())}function bp(e,t){return 0===e||0===t}function wp(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let r=t[0],o=[];if(i.forEach(e=>{r.hasOwnProperty(e)||o.push(e),r[e]=n[e]}),o.length)for(var s=1;s<t.length;s++){let n=t[s];o.forEach((function(t){n[t]=Sp(e,t)}))}}return t}function Cp(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Sp(e,t){return window.getComputedStyle(e)[t]}function xp(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const s=i[1],r=i[2],o=i[3];t.push(Ip(s,o)),"<"!=r[0]||"*"==s&&"*"==o||t.push(Ip(o,s))}(e,n,t)):n.push(e),n}const kp=new Set(["true","1"]),Ep=new Set(["false","0"]);function Ip(e,t){const n=kp.has(e)||Ep.has(e),i=kp.has(t)||Ep.has(t);return(s,r)=>{let o="*"==e||e==s,a="*"==t||t==r;return!o&&n&&"boolean"==typeof s&&(o=s?kp.has(e):Ep.has(e)),!a&&i&&"boolean"==typeof r&&(a=r?kp.has(t):Ep.has(t)),o&&a}}const _p=new RegExp("s*:selfs*,?","g");function Tp(e,t,n){return new Fp(e).build(t,n)}class Fp{constructor(e){this._driver=e}build(e,t){const n=new Dp(t);return this._resetContextStyleTimingState(n),Cp(this,dp(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const s=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,s.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const s=this.visitTransition(e,t);n+=s.queryCount,i+=s.depCount,r.push(s)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:r,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const s=new Set,r=i||{};if(n.styles.forEach(e=>{if(Ap(e)){const t=e;Object.keys(t).forEach(e=>{fp(t[e]).forEach(e=>{r.hasOwnProperty(e)||s.add(e)})})}}),s.size){const n=mp(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=Cp(this,dp(e.animation),t);return{type:1,matchers:xp(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Op(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Cp(this,e,t)),options:Op(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const s=e.steps.map(e=>{t.currentTime=n;const s=Cp(this,e,t);return i=Math.max(i,t.currentTime),s});return t.currentTime=i,{type:3,steps:s,options:Op(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Rp(rp(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Rp(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||rp(i,t),Rp(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let s=e.styles?e.styles:Dd({});if(5==s.type)i=this.visitKeyframes(s,t);else{let s=e.styles,r=!1;if(!s){r=!0;const e={};n.easing&&(e.easing=n.easing),s=Dd(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(s,t);o.isEmptyStep=r,i=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,s=null;return n.forEach(e=>{if(Ap(e)){const t=e,n=t.easing;if(n&&(s=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:s,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],o=r[n];let a=!0;o&&(s!=i&&s>=o.startTime&&i<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${i}ms"`),a=!1),s=o.startTime),a&&(r[n]={startTime:s,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},s=fp(e);s.length&&s.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const s=[];let r=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Ap(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Ap(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,r=r||c<a,a=c,s.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,i)=>{const r=u>0?i==h?1:u*i:s[i],o=r*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=r,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:Cp(this,dp(e.animation),t),options:Op(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Op(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Op(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(_p,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,jd(t.collectedStyles,t.currentQuerySelector,{});const o=Cp(this,dp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:r,animation:o,originalSelector:e.selector,options:Op(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:rp(e.timings,t.errors,!0);return{type:12,animation:Cp(this,dp(e.animation),t),timings:n,options:null}}}class Dp{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ap(e){return!Array.isArray(e)&&"object"==typeof e}function Op(e){var t;return e?(e=op(e)).params&&(e.params=(t=e.params)?op(t):null):e={},e}function Rp(e,t,n){return{duration:e,delay:t,easing:n}}function Pp(e,t,n,i,s,r,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Np{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Lp=new RegExp(":enter","g"),Mp=new RegExp(":leave","g");function Vp(e,t,n,i,s,r={},o={},a,l,c=[]){return(new Hp).buildKeyframes(e,t,n,i,s,r,o,a,l,c)}class Hp{buildKeyframes(e,t,n,i,s,r,o,a,l,c=[]){l=l||new Np;const u=new zp(e,t,l,i,s,c,[]);u.options=a,u.currentTimeline.setStyles([r],null,u.errors,a),Cp(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[Pp(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,r=this._visitSubInstructions(n,i,i.options);s!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const s=null!=n.duration?ip(n.duration):null,r=null!=n.delay?ip(n.delay):null;return 0!==s&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,s,r);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),Cp(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Bp);const e=ip(s.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Cp(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ip(e.options.delay):0;e.steps.forEach(r=>{const o=t.createSubContext(e.options);s&&o.delayNextStep(s),Cp(this,r,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return rp(t.params?gp(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,s=n.duration,r=t.createSubContext().currentTimeline;r.easing=n.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*s),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ip(i.delay):0;s&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bp);let r=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{t.currentQueryIndex=i;const o=t.createSubContext(e.options,n);s&&o.delayNextStep(s),n===t.element&&(a=o.currentTimeline),Cp(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,s=e.timings,r=Math.abs(s.duration),o=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Cp(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const Bp={};class zp{constructor(e,t,n,i,s,r,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=s,this.errors=r,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new jp(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=ip(n.duration)),null!=n.delay&&(i.delay=ip(n.delay));const s=n.params;if(s){let e=i.params;e||(e=this.options.params={}),Object.keys(s).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=gp(s[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,s=new zp(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Bp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},s=new Up(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,s,r){let o=[];if(i&&o.push(this.element),e.length>0){e=(e=e.replace(Lp,"."+this._enterClassName)).replace(Mp,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),o.push(...t)}return s||0!=o.length||r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class jp{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const s=i&&i.params||{},r=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]="*"})):ap(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=gp(r[e],s,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((s,r)=>{const o=ap(s,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?e.add(n):"*"==i&&t.add(n)}),n||(o.offset=r/this.duration),i.push(o)});const s=e.size?mp(e.values()):[],r=t.size?mp(t.values()):[];if(n){const e=i[0],t=op(e);e.offset=0,t.offset=1,i=[e,t]}return Pp(this.element,i,s,r,this.duration,this.startTime,this.easing,!1)}}class Up extends jp{constructor(e,t,n,i,s,r,o=!1){super(e,t,r.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],r=n+t,o=t/r,a=ap(e[0],!1);a.offset=0,s.push(a);const l=ap(e[0],!1);l.offset=Gp(o),s.push(l);const c=e.length-1;for(let i=1;i<=c;i++){let o=ap(e[i],!1);o.offset=Gp((t+o.offset*n)/r),s.push(o)}n=r,t=0,i="",e=s}return Pp(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function Gp(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class qp{}class Kp extends qp{normalizePropertyName(e,t){return yp(e)}normalizeStyleValue(e,t,n,i){let s="";const r=n.toString().trim();if($p[t]&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return r+s}}const $p=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Wp(e,t,n,i,s,r,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:n,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Zp={};class Yp{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,s){return e.some(e=>e(t,n,i,s))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],s=this._stateStyles[e],r=i?i.buildStyles(t,n):{};return s?s.buildStyles(t,n):r}build(e,t,n,i,s,r,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||Zp,d=this.buildStyles(n,o&&o.params||Zp,u),p=a&&a.params||Zp,f=this.buildStyles(i,p,u),g=new Set,m=new Map,v=new Map,y="void"===i,b={params:Object.assign(Object.assign({},h),p)},w=c?[]:Vp(e,t,this.ast.animation,s,r,d,f,b,l,u);let C=0;if(w.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),u.length)return Wp(t,this._triggerName,n,i,y,d,f,[],[],m,v,C,u);w.forEach(e=>{const n=e.element,i=jd(m,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const s=jd(v,n,{});e.postStyleProps.forEach(e=>s[e]=!0),n!==t&&g.add(n)});const S=mp(g.values());return Wp(t,this._triggerName,n,i,y,d,f,w,S,m,v,C)}}class Qp{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=op(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const s=e;Object.keys(s).forEach(e=>{let r=s[e];r.length>1&&(r=gp(r,i,t)),n[e]=r})}}),n}}class Jp{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Qp(e.style,e.options&&e.options.params||{})}),Xp(this.states,"true","1"),Xp(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Yp(e,t,this.states))}),this.fallbackTransition=new Yp(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(s=>s.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Xp(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const ef=new Np;class tf{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=Tp(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,s=Vd(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],s=this._animations[e];let r;const o=new Map;if(s?(r=Vp(this._driver,t,s,"ng-enter","ng-leave",{},{},n,ef,i),r.forEach(e=>{const t=jd(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),r=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=Md(r.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,i){const s=zd(t,"","","");return Hd(this._getPlayer(e),n,s,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const nf=[],sf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class of{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=op(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const af=new of("void");class lf{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,gf(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(s=n)&&"done"!=s)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var s;const r=jd(this._elementListeners,e,[]),o={name:t,phase:n,callback:i};r.push(o);const a=jd(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(gf(e,"ng-trigger"),gf(e,"ng-trigger-"+t),a[t]=af),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(o);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const s=this._getTrigger(t),r=new uf(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(gf(e,"ng-trigger"),gf(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new of(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=af),"void"!==l.value&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let s=0;s<n.length;s++){const i=n[s];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,l.params)){const t=[],n=s.matchStyles(a.value,a.params,t),i=s.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{hp(e,n),up(e,i)})}return}const c=jd(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=s.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!i)return;u=s.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:r,isFallbackTransition:h}),h||(gf(e,"ng-animate-queued"),r.onStart(()=>{mf(e,"ng-animate-queued")})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(r);e>=0&&n.splice(e,1)}}),this.players.push(r),c.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,".ng-trigger",!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,i){const s=this._engine.statesByElement.get(e);if(s){const r=[];if(Object.keys(s).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",i);n&&r.push(n)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Md(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const s=this._triggers[i].fallbackTransition,r=this._engine.statesByElement.get(e)[i]||af,o=new of("void"),a=new uf(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:s,fromState:r,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==sf||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){gf(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const s=n.element,r=this._elementListeners.get(s);r&&r.forEach(t=>{if(t.name==n.triggerName){const i=zd(s,n.triggerName,n.fromState.value,n.toState.value);i._data=e,Hd(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class cf{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new lf(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let s=n;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const s=n[e[i]].namespaceId;if(s){const e=this._fetchNamespace(s);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(hf(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!hf(t))return;const s=t.__ng_removed;if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),gf(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),mf(e,"ng-animate-disabled"))}removeNode(e,t,n,i){if(hf(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,s){return hf(t)?this._fetchNamespace(e).listen(t,n,i,s):()=>{}}_buildInstruction(e,t,n,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Md(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=sf,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)gf(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Md(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new Np,i=[],s=new Map,r=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ff(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const n="ng-enter"+f++;p.set(t,n),e.forEach(e=>gf(e,n))});const g=[],m=new Set,v=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const e=this.collectedLeaveElements[D],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):v.add(e))}const y=new Map,b=ff(h,Array.from(m));b.forEach((e,t)=>{const n="ng-leave"+f++;y.set(t,n),e.forEach(e=>gf(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>mf(e,n))}),b.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>mf(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],C=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(e=>{const t=e.player,s=e.element;if(w.push(t),this.collectedEnterElements.length){const e=s.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,s),h=y.get(s),d=p.get(s),f=this._buildInstruction(e,n,d,h,c);if(f.errors&&f.errors.length)C.push(f);else{if(c)return t.onStart(()=>hp(s,f.fromStyles)),t.onDestroy(()=>up(s,f.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>hp(s,f.fromStyles)),t.onDestroy(()=>up(s,f.toStyles)),void i.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(s,f.timelines),r.push({instruction:f,player:t,element:s}),f.queriedElements.forEach(e=>jd(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=l.get(t);i||l.set(t,i=new Set),n.forEach(e=>i.add(e))})}});if(C.length){const e=[];C.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const S=new Map,x=new Map;r.forEach(e=>{const t=e.element;n.has(t)&&(x.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,S))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{jd(S,t,[]).push(e),e.destroy()})});const k=g.filter(e=>yf(e,a,l)),E=new Map;pf(E,this.driver,v,l,"*").forEach(e=>{yf(e,a,l)&&k.push(e)});const I=new Map;d.forEach((e,t)=>{pf(I,this.driver,new Set(e),a,"!")}),k.forEach(e=>{const t=E.get(e),n=I.get(e);E.set(e,Object.assign(Object.assign({},t),n))});const _=[],T=[],F={};r.forEach(e=>{const{element:t,player:r,instruction:o}=e;if(n.has(t)){if(c.has(t))return r.onDestroy(()=>up(t,o.toStyles)),r.disabled=!0,r.overrideTotalTime(o.totalTime),void i.push(r);let e=F;if(x.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=x.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>x.set(t,e))}const n=this._buildAnimation(r.namespaceId,o,S,s,I,E);if(r.setRealPlayer(n),e===F)_.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=Md(t)),i.push(r)}}else hp(t,o.fromStyles),r.onDestroy(()=>up(t,o.toStyles)),T.push(r),c.has(t)&&i.push(r)}),T.forEach(e=>{const t=s.get(e.element);if(t&&t.length){const n=Md(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let D=0;D<g.length;D++){const e=g[D],t=e.__ng_removed;if(mf(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,".ng-animating",!0);for(let e=0;e<i.length;e++){let t=o.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?vf(this,e,i):this.processLeaveNode(e)}return g.length=0,_.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),_}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,s){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!s||"void"==s;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&r.push(t)})}}return(n||i)&&(r=r.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),r}_beforeAnimationBuild(e,t,n){const i=t.element,s=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==i,l=jd(n,e,[]);this._getPreviousPlayers(e,a,s,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}hp(i,t.fromStyles)}_buildAnimation(e,t,n,i,s,r){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Pd(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return function e(t,n){for(let i=0;i<t.length;i++){const s=t[i];s instanceof Nd?e(s.players,n):n.push(s)}}(e,t),t}((n.get(h)||nf).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=s.get(h),m=r.get(h),v=Vd(0,this._normalizer,0,t.keyframes,g,m),y=this._buildPlayer(t,v,f);if(t.subTimeline&&i&&u.add(h),p){const t=new uf(e,o,h);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{jd(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>gf(e,"ng-animating"));const d=Md(h);return d.onDestroy(()=>{c.forEach(e=>mf(e,"ng-animating")),up(a,t.toStyles)}),u.forEach(e=>{jd(i,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Pd(e.duration,e.delay)}}class uf{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new Pd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Hd(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){jd(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function hf(e){return e&&1===e.nodeType}function df(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function pf(e,t,n,i,s){const r=[];n.forEach(e=>r.push(df(e)));const o=[];i.forEach((n,i)=>{const r={};n.forEach(e=>{const n=r[e]=t.computeStyle(i,e,s);n&&0!=n.length||(i.__ng_removed=rf,o.push(i))}),e.set(i,r)});let a=0;return n.forEach(e=>df(e,r[a++])),o}function ff(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),s=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let r=s.get(t);if(r)return r;const o=t.parentNode;return r=n.has(o)?o:i.has(o)?1:e(o),s.set(t,r),r}(e);1!==t&&n.get(t).push(e)}),n}function gf(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function mf(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function vf(e,t,n){Md(n).onDone(()=>e.processLeaveNode(t))}function yf(e,t,n){const i=n.get(e);if(!i)return!1;let s=t.get(e);return s?i.forEach(e=>s.add(e)):t.set(e,i),n.delete(e),!0}class bf{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new cf(e,t,n),this._timelineEngine=new tf(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,s){const r=e+"-"+i;let o=this._triggerCache[r];if(!o){const e=[],t=Tp(this._driver,s,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new Jp(e,t)}(i,t),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(t,i,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,s]=Ud(n);this._timelineEngine.command(e,t,s,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,s){if("@"==n.charAt(0)){const[e,i]=Ud(n);return this._timelineEngine.listen(e,t,i,s)}return this._transitionEngine.listen(e,t,n,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function wf(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=Sf(t[0]),t.length>1&&(i=Sf(t[t.length-1]))):t&&(n=Sf(t)),n||i?new Cf(e,n,i):null}let Cf=(()=>{class e{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&up(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(up(this._element,this._initialStyles),this._endStyles&&(up(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hp(this._element,this._endStyles),this._endStyles=null),up(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Sf(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const s=n[i];xf(s)&&(t=t||{},t[s]=e[s])}return t}function xf(e){return"display"===e||"position"===e}class kf{constructor(e,t,n,i,s,r,o){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=s,this._fillMode=r,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=Df(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),Ff(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Tf(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ef(this._element,this._name,"paused")}resume(){Ef(this._element,this._name,"running")}setPosition(e){const t=If(this._element,this._name);this._position=e*this._duration,Ff(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Tf(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=Df(e,"").split(","),i=_f(n,t);i>=0&&(n.splice(i,1),Ff(e,"",n.join(",")))}(this._element,this._name))}}function Ef(e,t,n){Ff(e,"PlayState",n,If(e,t))}function If(e,t){const n=Df(e,"");return n.indexOf(",")>0?_f(n.split(","),t):_f([n],t)}function _f(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Tf(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Ff(e,t,n,i){const s="animation"+t;if(null!=i){const t=e.style[s];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[s]=n}function Df(e,t){return e.style["animation"+t]}class Af{constructor(e,t,n,i,s,r,o,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=s,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=i+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new kf(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:Sp(this.element,n))})}this.currentSnapshot=e}}class Of extends Pd{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=ep(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Rf{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Yd(e)}matchesElement(e,t){return Qd(e,t)}containsElement(e,t){return Jd(e,t)}query(e,t,n){return Xd(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>ep(e));let i=`@keyframes ${t} {\n`,s="";n.forEach(e=>{s=" ";const t=parseFloat(e.offset);i+=`${s}${100*t}% {\n`,s+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${s}animation-timing-function: ${n};\n`));default:return void(i+=`${s}${t}: ${n};\n`)}}),i+=s+"}\n"}),i+="}\n";const r=document.createElement("style");return r.innerHTML=i,r}animate(e,t,n,i,s,r=[],o){o&&this._notifyFaultyScrubber();const a=r.filter(e=>e instanceof Af),l={};bp(n,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=wp(e,t,l));if(0==n)return new Of(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=wf(e,t),p=new Af(e,t,u,n,i,s,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Pf{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Sp(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Nf{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Lf().toString()),this._cssKeyframesDriver=new Rf}validateStyleProperty(e){return Yd(e)}matchesElement(e,t){return Qd(e,t)}containsElement(e,t){return Jd(e,t)}query(e,t,n){return Xd(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,s,r=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,s,r);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};s&&(a.easing=s);const l={},c=r.filter(e=>e instanceof Pf);bp(n,i)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=wf(e,t=wp(e,t=t.map(e=>ap(e,!1)),l));return new Pf(e,t,a,u)}}function Lf(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Mf=(()=>{class e extends Id{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ct.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?Fd(e):e;return Bf(this._renderer,null,t,"register",[n]),new Vf(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(We(Ya),We(Vu))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class Vf extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Hf(this._id,e,t||{},this._renderer)}}class Hf{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Bf(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function Bf(e,t,n,i,s){return e.setProperty(t,`@@${n}:${i}`,s)}let zf=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new jf("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(i,s,e,t.name,t)};return t.data.animation.forEach(r),new Uf(this,s,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(We(Ya),We(bf),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class jf{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Uf extends jf{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let s=t.substr(1),r="";return"@"!=s.charAt(0)&&([s,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,i,s,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let Gf=(()=>{class e extends bf{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(We(Vu),We(np),We(qp))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const qf=[{provide:np,useFactory:function(){return"function"==typeof Lf()?new Nf:new Rf}},{provide:new Ve("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Id,useClass:Mf},{provide:qp,useFactory:function(){return new Kp}},{provide:bf,useClass:Gf},{provide:Ya,useFactory:function(e,t,n){return new zf(e,t,n)},deps:[hd,bf,ou]}];let Kf=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:qf,imports:[Ed]}),e})();var $f=n("E21t");let Wf=new Ve("app.config");const Zf={appId:"2A108563-6752-4DC3-813E-6E77CCAB67AF",appTitle:"Artemis Migration",lobName:"Artemis",lob:"ArtemisMP",cacheTime:7200,region:"USA",businessEntity:"ARTEMIS",businessSubEntity:"Migration Programme",enablePing:$f.b,landingPageUrl:$f.a};class Yf extends E{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(e){super.next(this._value=e)}}let Qf=(()=>{class e{constructor(){let e=localStorage.getItem("currentUser");this._currentUserSubject=new Yf(null==e||null==e?e:JSON.parse(localStorage.getItem("currentUser"))),this.currentUserObservable=this._currentUserSubject.asObservable()}get currentUser(){return this._currentUserSubject.value}set currentUser(e){e?localStorage.setItem("currentUser",JSON.stringify(e)):localStorage.removeItem("currentUser"),this._currentUserSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Jf=(()=>{class e{transform(e){let t=e;if(e){let n=e.split(" ");if(n.length>0){const e=n.length;let i=n[e-1],s="";n.forEach((n,r)=>{if(e-1===r)return t=s?`${i}, ${s}`:""+i,t.toUpperCase();s=`${s} ${n}`})}}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=wt({name:"nameFormat",type:e,pure:!0}),e})();function Xf(e,t){if(1&e&&(Vo(0,"div",7),Vo(1,"ul",8),Vo(2,"li",9),Ca(3),uc(4,"nameFormat"),Ho(),Ho(),Ho()),2&e){const e=Yo();ms(3),xa(" ",function(e,t,n){const i=Zt(),s=Ht(i,4);return fc(i,pc(i,4)?ac(i,rn(),1,s.transform,n,s):s.transform(n))}(0,0,e.user)," ")}}let eg=(()=>{class e{constructor(e,t){this.userContextService=e,this.appConfig=t,this.user="Rajesh D"}get businessEntity(){return this.appConfig.businessEntity}get businessSubEntity(){return this.appConfig.businessSubEntity}get isLoggedIn(){return!0}ngOnInit(){}navigateToDiracHome(){window.open(this.appConfig.landingPageUrl,"_self")}logout(){return!0}get isPingDisabled(){return!this.appConfig.enablePing}}return e.\u0275fac=function(t){return new(t||e)(Ro(Qf),Ro(Wf))},e.\u0275cmp=pt({type:e,selectors:[["app-header"]],decls:10,vars:3,consts:[[1,"ar-header"],[1,"ar-header__left",3,"keypress","click"],["tabindex","0",1,"ar-header__logo"],["src","./../../../../assets/shell_logo.png","alt","shell logo"],["tabindex","0",1,"ar-header__title"],[1,"ar-header__subtitle"],["class","ar-header__right",4,"ngIf"],[1,"ar-header__right"],[1,"ar-header__info"],["tabindex","0",1,"ar-header__info-item"]],template:function(e,t){1&e&&(Vo(0,"header",0),Vo(1,"div",1),$o("keypress",(function(){return t.navigateToDiracHome()}))("click",(function(){return t.navigateToDiracHome()})),Vo(2,"span",2),Bo(3,"img",3),Ho(),Vo(4,"h1",4),Vo(5,"span"),Ca(6),Ho(),Vo(7,"span",5),Ca(8),Ho(),Ho(),Ho(),Ao(9,Xf,5,3,"div",6),Ho()),2&e&&(ms(6),Sa(t.businessEntity),ms(2),Sa(t.businessSubEntity),ms(1),Lo("ngIf",t.isLoggedIn))},directives:[Mh],pipes:[Jf],styles:[""]}),e})();function tg(...e){let t=e[e.length-1];return _(t)?(e.pop(),B(e,t)):K(e)}const ng=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),ig={};function sg(...e){let t=null,n=null;return _(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),K(e,n).lift(new rg(t))}class rg{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new og(e,this.resultSelector))}}class og extends L{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(ig),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(N(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,i,s){const r=this.values,o=this.toRespond?r[n]===ig?--this.toRespond:this.toRespond:0;r[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}const ag=new w(e=>e.complete());function lg(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):ag}function cg(e){return new w(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?z(n):lg()).subscribe(t)})}function ug(){return q(1)}function hg(e,t){return function(n){return n.lift(new dg(e,t))}}class dg{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new pg(e,this.predicate,this.thisArg))}}class pg extends f{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}const fg=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function gg(e){return function(t){return 0===e?lg():t.lift(new mg(e))}}class mg{constructor(e){if(this.total=e,this.total<0)throw new fg}call(e,t){return t.subscribe(new vg(e,this.total))}}class vg extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let s=0;s<n;s++){const s=t++%n;e.next(i[s])}}e.complete()}}function yg(e=Cg){return t=>t.lift(new bg(e))}class bg{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new wg(e,this.errorFactory))}}class wg extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Cg(){return new ng}function Sg(e=null){return t=>t.lift(new xg(e))}class xg{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new kg(e,this.defaultValue))}}class kg extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Eg(e,t){const n=arguments.length>=2;return i=>i.pipe(e?hg((t,n)=>e(t,n,i)):v,gg(1),n?Sg(t):yg(()=>new ng))}function Ig(e){return function(t){const n=new _g(e),i=t.lift(n);return n.caught=i}}class _g{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Tg(e,this.selector,this.caught))}}class Tg extends L{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new T(this,void 0,void 0);this.add(i);const s=N(this,n,void 0,void 0,i);s!==i&&this.add(s)}}}function Fg(e){return t=>0===e?lg():t.lift(new Dg(e))}class Dg{constructor(e){if(this.total=e,this.total<0)throw new fg}call(e,t){return t.subscribe(new Ag(e,this.total))}}class Ag extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function Og(e,t){const n=arguments.length>=2;return i=>i.pipe(e?hg((t,n)=>e(t,n,i)):v,Fg(1),n?Sg(t):yg(()=>new ng))}class Rg{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new Pg(e,this.predicate,this.thisArg,this.source))}}class Pg extends f{constructor(e,t,n,i){super(e),this.predicate=t,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ng(e,t){return"function"==typeof t?n=>n.pipe(Ng((n,i)=>z(e(n,i)).pipe(M((e,s)=>t(n,e,i,s))))):t=>t.lift(new Lg(e))}class Lg{constructor(e){this.project=e}call(e,t){return t.subscribe(new Mg(e,this.project))}}class Mg extends L{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}_innerSub(e,t,n){const i=this.innerSubscription;i&&i.unsubscribe();const s=new T(this,t,n),r=this.destination;r.add(s),this.innerSubscription=N(this,e,void 0,void 0,s),this.innerSubscription!==s&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,i,s){this.destination.next(t)}}function Vg(...e){return ug()(tg(...e))}function Hg(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Bg(e,t,n))}}class Bg{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new zg(e,this.accumulator,this.seed,this.hasSeed))}}class zg extends f{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}function jg(e,t){return j(e,t,1)}function Ug(){}function Gg(e,t,n){return function(i){return i.lift(new qg(e,t,n))}}class qg{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Kg(e,this.nextOrObserver,this.error,this.complete))}}class Kg extends f{constructor(e,t,n,s){super(e),this._tapNext=Ug,this._tapError=Ug,this._tapComplete=Ug,this._tapError=n||Ug,this._tapComplete=s||Ug,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Ug,this._tapError=t.error||Ug,this._tapComplete=t.complete||Ug)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class $g{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Wg(e,this.callback))}}class Wg extends f{constructor(e,t){super(e),this.add(new h(t))}}class Zg{constructor(e,t){this.id=e,this.url=t}}class Yg extends Zg{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qg extends Zg{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jg extends Zg{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xg extends Zg{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class em extends Zg{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tm extends Zg{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nm extends Zg{constructor(e,t,n,i,s){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class im extends Zg{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sm extends Zg{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rm{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class om{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class am{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lm{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cm{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class um{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hm{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let dm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Bo(0,"router-outlet")},directives:function(){return[vy]},encapsulation:2}),e})();class pm{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fm(e){return new pm(e)}function gm(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function mm(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const s={};for(let r=0;r<i.length;r++){const t=i[r],n=e[r];if(t.startsWith(":"))s[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:s}}class vm{constructor(e,t){this.routes=e,this.module=t}}function ym(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];bm(i,wm(t,i))}}function bm(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&ym(e.children,t)}function wm(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Cm(e){const t=e.children&&e.children.map(Cm),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=dm),n}function Sm(e,t){const n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;let s;for(let r=0;r<n.length;r++)if(s=n[r],!xm(e[s],t[s]))return!1;return!0}function xm(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function km(e){return Array.prototype.concat.apply([],e)}function Em(e){return e.length>0?e[e.length-1]:null}function Im(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function _m(e){return Ko(e)?e:qo(e)?z(Promise.resolve(e)):tg(e)}function Tm(e,t,n){return n?function(e,t){return Sm(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Om(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>xm(e[n],t[n]))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,s){if(n.segments.length>s.length)return!!Om(n.segments.slice(0,s.length),s)&&!i.hasChildren();if(n.segments.length===s.length){if(!Om(n.segments,s))return!1;for(const t in i.children){if(!n.children[t])return!1;if(!e(n.children[t],i.children[t]))return!1}return!0}{const e=s.slice(0,n.segments.length),r=s.slice(n.segments.length);return!!Om(n.segments,e)&&!!n.children.primary&&t(n.children.primary,i,r)}}(t,n,n.segments)}(e.root,t.root)}class Fm{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fm(this.queryParams)),this._queryParamMap}toString(){return Lm.serialize(this)}}class Dm{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Im(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mm(this)}}class Am{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fm(this.parameters)),this._parameterMap}toString(){return Um(this)}}function Om(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function Rm(e,t){let n=[];return Im(e.children,(e,i)=>{"primary"===i&&(n=n.concat(t(e,i)))}),Im(e.children,(e,i)=>{"primary"!==i&&(n=n.concat(t(e,i)))}),n}class Pm{}class Nm{parse(e){const t=new Wm(e);return new Fm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return Mm(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",i=[];return Im(t.children,(t,n)=>{"primary"!==n&&i.push(`${n}:${e(t,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=Rm(t,(n,i)=>"primary"===i?[e(t.children.primary,!1)]:[`${i}:${e(n,!1)}`]);return`${Mm(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${Hm(t)}=${Hm(e)}`).join("&"):`${Hm(t)}=${Hm(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Lm=new Nm;function Mm(e){return e.segments.map(e=>Um(e)).join("/")}function Vm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hm(e){return Vm(e).replace(/%3B/gi,";")}function Bm(e){return Vm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zm(e){return decodeURIComponent(e)}function jm(e){return zm(e.replace(/\+/g,"%20"))}function Um(e){return`${Bm(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Bm(e)}=${Bm(t[e])}`).join("")}`;var t}const Gm=/^[^\/()?;=#]+/;function qm(e){const t=e.match(Gm);return t?t[0]:""}const Km=/^[^=?&#]+/,$m=/^[^?&#]+/;class Wm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dm([],{}):new Dm([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Dm(e,t)),n}parseSegment(){const e=qm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Am(zm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qm(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=qm(this.remaining);e&&(n=e,this.capture(n))}e[zm(t)]=zm(n)}parseQueryParam(e){const t=function(e){const t=e.match(Km);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match($m);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=jm(t),s=jm(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=qm(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;n.indexOf(":")>-1?(s=n.substr(0,n.indexOf(":")),this.capture(s),this.capture(":")):e&&(s="primary");const r=this.parseChildren();t[s]=1===Object.keys(r).length?r.primary:new Dm([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Zm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ym(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ym(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Qm(e,this._root).map(e=>e.value)}}function Ym(e,t){if(e===t.value)return t;for(const n of t.children){const t=Ym(e,n);if(t)return t}return null}function Qm(e,t){if(e===t.value)return[t];for(const n of t.children){const i=Qm(e,n);if(i.length)return i.unshift(t),i}return[]}class Jm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xm(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class ev extends Zm{constructor(e,t){super(e),this.snapshot=t,ov(this,e)}toString(){return this.snapshot.toString()}}function tv(e,t){const n=function(e,t){const n=new sv([],{},{},"",{},"primary",t,null,e.root,-1,{});return new rv("",new Jm(n,[]))}(e,t),i=new Yf([new Am("",{})]),s=new Yf({}),r=new Yf({}),o=new Yf({}),a=new Yf(""),l=new nv(i,s,o,a,r,"primary",t,n.root);return l.snapshot=n.root,new ev(new Jm(l,[]),n)}class nv{constructor(e,t,n,i,s,r,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=r,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(M(e=>fm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(M(e=>fm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function iv(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class sv{constructor(e,t,n,i,s,r,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=r,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rv extends Zm{constructor(e,t){super(t),this.url=e,ov(this,t)}toString(){return av(this._root)}}function ov(e,t){t.value._routerState=e,t.children.forEach(t=>ov(e,t))}function av(e){const t=e.children.length>0?` { ${e.children.map(av).join(", ")} } `:"";return`${e.value}${t}`}function lv(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Sm(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Sm(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Sm(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Sm(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function cv(e,t){var n,i;return Sm(e.params,t.params)&&Om(n=e.url,i=t.url)&&n.every((e,t)=>Sm(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||cv(e.parent,t.parent))}function uv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function hv(e,t,n,i,s){let r={};return i&&Im(i,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Fm(n.root===e?t:function e(t,n,i){const s={};return Im(t.children,(t,r)=>{s[r]=t===n?i:e(t,n,i)}),new Dm(t.segments,s)}(n.root,e,t),r,s)}class dv{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&uv(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(i&&i!==Em(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pv{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function fv(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function gv(e,t,n){if(e||(e=new Dm([],{})),0===e.segments.length&&e.hasChildren())return mv(e,t,n);const i=function(e,t,n){let i=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(i>=n.length)return r;const t=e.segments[s],o=fv(n[i]),a=i<n.length-1?n[i+1]:null;if(s>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!wv(o,a,t))return r;i+=2}else{if(!wv(o,{},t))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(e,t,n),s=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new Dm(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new Dm(e.segments.slice(i.pathIndex),e.children),mv(t,0,s)}return i.match&&0===s.length?new Dm(e.segments,{}):i.match&&!e.hasChildren()?vv(e,t,n):i.match?mv(e,0,s):vv(e,t,n)}function mv(e,t,n){if(0===n.length)return new Dm(e.segments,{});{const i=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),s={};return Im(i,(n,i)=>{null!==n&&(s[i]=gv(e.children[i],t,n))}),Im(e.children,(e,t)=>{void 0===i[t]&&(s[t]=e)}),new Dm(e.segments,s)}}function vv(e,t,n){const i=e.segments.slice(0,t);let s=0;for(;s<n.length;){if("object"==typeof n[s]&&void 0!==n[s].outlets){const e=yv(n[s].outlets);return new Dm(i,e)}if(0===s&&uv(n[0])){i.push(new Am(e.segments[t].path,n[0])),s++;continue}const r=fv(n[s]),o=s<n.length-1?n[s+1]:null;r&&o&&uv(o)?(i.push(new Am(r,bv(o))),s+=2):(i.push(new Am(r,{})),s++)}return new Dm(i,{})}function yv(e){const t={};return Im(e,(e,n)=>{null!==e&&(t[n]=vv(new Dm([],{}),0,e))}),t}function bv(e){const t={};return Im(e,(e,n)=>t[n]=""+e),t}function wv(e,t,n){return e==n.path&&Sm(t,n.parameters)}class Cv{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),lv(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=Xm(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),Im(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else s&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=Xm(e),s=e.value.component?n.children:t;Im(i,(e,t)=>this.deactivateRouteAndItsChildren(e,s)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=Xm(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new um(e.value.snapshot))}),e.children.length&&this.forwardEvent(new lm(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,s=t?t.value:null;if(lv(i),i===s)if(i.component){const s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Sv(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),s=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=s,t.outlet&&t.outlet.activateWith(i,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Sv(e){lv(e.value),e.children.forEach(Sv)}function xv(e){return"function"==typeof e}function kv(e){return e instanceof Fm}class Ev{constructor(e){this.segmentGroup=e||null}}class Iv{constructor(e){this.urlTree=e}}function _v(e){return new w(t=>t.error(new Ev(e)))}function Tv(e){return new w(t=>t.error(new Iv(e)))}function Fv(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Dv{constructor(e,t,n,i,s){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Je)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(M(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ig(e=>{if(e instanceof Iv)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Ev)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(M(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Ig(e=>{if(e instanceof Ev)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new Dm([],{primary:e}):e;return new Fm(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(M(e=>new Dm([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return tg({});const n=[],i=[],s={};return Im(e,(e,r)=>{const o=t(r,e).pipe(M(e=>s[r]=e));"primary"===r?n.push(o):i.push(o)}),tg.apply(null,n.concat(i)).pipe(ug(),Eg(),M(()=>s))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,s,r){return tg(...n).pipe(M(o=>this.expandSegmentAgainstRoute(e,t,n,o,i,s,r).pipe(Ig(e=>{if(e instanceof Ev)return tg(null);throw e}))),ug(),Og(e=>!!e),Ig((e,n)=>{if(e instanceof ng||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,s))return tg(new Dm([],{}));throw new Ev(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,s,r,o){return Pv(i)!==r?_v(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,s,r):_v(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,s,r){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,s,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Tv(s):this.lineralizeSegments(n,s).pipe(j(n=>{const s=new Dm(n,{});return this.expandSegment(e,s,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,s,r){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Av(t,i,s);if(!o)return _v(t);const u=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Tv(u):this.lineralizeSegments(i,u).pipe(j(i=>this.expandSegment(e,t,n,i.concat(s.slice(l)),r,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(M(e=>(n._loadedConfig=e,new Dm(i,{})))):tg(new Dm(i,{}));const{matched:s,consumedSegments:r,lastChild:o}=Av(t,n,i);if(!s)return _v(t);const a=i.slice(o);return this.getChildConfig(e,n,i).pipe(j(e=>{const n=e.module,i=e.routes,{segmentGroup:s,slicedSegments:o}=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(n=>Rv(e,t,n)&&"primary"!==Pv(n))}(e,n,i)?{segmentGroup:Ov(new Dm(t,function(e,t){const n={};n.primary=t;for(const i of e)""===i.path&&"primary"!==Pv(i)&&(n[Pv(i)]=new Dm([],{}));return n}(i,new Dm(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>Rv(e,t,n))}(e,n,i)?{segmentGroup:Ov(new Dm(e.segments,function(e,t,n,i){const s={};for(const r of n)Rv(e,t,r)&&!i[Pv(r)]&&(s[Pv(r)]=new Dm([],{}));return Object.assign(Object.assign({},i),s)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,r,a,i);return 0===o.length&&s.hasChildren()?this.expandChildren(n,i,s).pipe(M(e=>new Dm(r,e))):0===i.length&&0===o.length?tg(new Dm(r,{})):this.expandSegment(n,s,i,o,"primary",!0).pipe(M(e=>new Dm(r.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?tg(new vm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?tg(t._loadedConfig):function(e,t,n){const i=t.canLoad;return i&&0!==i.length?z(i).pipe(M(i=>{const s=e.get(i);let r;if(function(e){return e&&xv(e.canLoad)}(s))r=s.canLoad(t,n);else{if(!xv(s))throw new Error("Invalid CanLoad guard");r=s(t,n)}return _m(r)})).pipe(ug(),(s=e=>!0===e,e=>e.lift(new Rg(s,void 0,e)))):tg(!0);var s}(e.injector,t,n).pipe(j(n=>n?this.configLoader.load(e.injector,t).pipe(M(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(gm(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):tg(new vm([],e))}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return tg(n);if(i.numberOfChildren>1||!i.children.primary)return Fv(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const s=this.createSegmentGroup(e,t.root,n,i);return new Fm(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Im(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);n[i]=t[s]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const s=this.createSegments(e,t.segments,n,i);let r={};return Im(t.children,(t,s)=>{r[s]=this.createSegmentGroup(e,t,n,i)}),new Dm(s,r)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function Av(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||mm)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ov(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Dm(e.segments.concat(t.segments),t.children)}return e}function Rv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Pv(e){return e.outlet||"primary"}class Nv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Lv{constructor(e,t){this.component=e,this.route=t}}function Mv(e,t,n){const i=e._root;return function e(t,n,i,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xm(n);return t.children.forEach(t=>{!function(t,n,i,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=n?n.value:null,l=i?i.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Om(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Om(e.url,t.url)||!Sm(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cv(e,t)||!Sm(e.queryParams,t.queryParams);case"paramsChange":default:return!cv(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Nv(s)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,n,o.component?l?l.children:null:i,s,r),c&&r.canDeactivateChecks.push(new Lv(l&&l.outlet&&l.outlet.component||null,a))}else a&&Hv(n,l,r),r.canActivateChecks.push(new Nv(s)),e(t,null,o.component?l?l.children:null:i,s,r)}(t,o[t.value.outlet],i,s.concat([t.value]),r),delete o[t.value.outlet]}),Im(o,(e,t)=>Hv(e,i.getContext(t),r)),r}(i,t?t._root:null,n,[i.value])}function Vv(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Hv(e,t,n){const i=Xm(e),s=e.value;Im(i,(e,i)=>{Hv(e,s.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Lv(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}const Bv=Symbol("INITIAL_VALUE");function zv(){return Ng(e=>sg(...e.map(e=>e.pipe(Fg(1),function(...e){const t=e[e.length-1];return _(t)?(e.pop(),n=>Vg(e,n,t)):t=>Vg(e,t)}(Bv)))).pipe(Hg((e,t)=>{let n=!1;return t.reduce((e,i,s)=>{if(e!==Bv)return e;if(i===Bv&&(n=!0),!n){if(!1===i)return i;if(s===t.length-1||kv(i))return i}return e},e)},Bv),hg(e=>e!==Bv),M(e=>kv(e)?e:!0===e),Fg(1)))}function jv(e,t){return null!==e&&t&&t(new cm(e)),tg(!0)}function Uv(e,t){return null!==e&&t&&t(new am(e)),tg(!0)}function Gv(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?tg(i.map(i=>cg(()=>{const s=Vv(i,t,n);let r;if(function(e){return e&&xv(e.canActivate)}(s))r=_m(s.canActivate(t,e));else{if(!xv(s))throw new Error("Invalid CanActivate guard");r=_m(s(t,e))}return r.pipe(Og())}))).pipe(zv()):tg(!0)}function qv(e,t,n){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>cg(()=>tg(t.guards.map(s=>{const r=Vv(s,t.node,n);let o;if(function(e){return e&&xv(e.canActivateChild)}(r))o=_m(r.canActivateChild(i,e));else{if(!xv(r))throw new Error("Invalid CanActivateChild guard");o=_m(r(i,e))}return o.pipe(Og())})).pipe(zv())));return tg(s).pipe(zv())}class Kv{}class $v{constructor(e,t,n,i,s,r){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=r}recognize(){try{const e=Yv(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new sv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Jm(n,t),s=new rv(this.url,i);return this.inheritParamsAndData(s._root),tg(s)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=iv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=Rm(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const r of e)try{return this.processSegmentAgainstRoute(r,t,n,i)}catch(s){if(!(s instanceof Kv))throw s}if(this.noLeftoversInUrl(t,n,i))return[];throw new Kv}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new Kv;if((e.outlet||"primary")!==i)throw new Kv;let s,r=[],o=[];if("**"===e.path){const r=n.length>0?Em(n).parameters:{};s=new sv(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xv(e),i,e.component,e,Wv(t),Zv(t)+n.length,ey(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Kv;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||mm)(n,e,t);if(!i)throw new Kv;const s={};Im(i.posParams,(e,t)=>{s[t]=e.path});const r=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:r}}(t,e,n);r=a.consumedSegments,o=n.slice(a.lastChild),s=new sv(r,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xv(e),i,e.component,e,Wv(t),Zv(t)+r.length,ey(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Yv(t,r,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Jm(s,e)]}if(0===a.length&&0===c.length)return[new Jm(s,[])];const u=this.processSegment(a,l,c,"primary");return[new Jm(s,u)]}}function Wv(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Zv(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Yv(e,t,n,i,s){if(n.length>0&&function(e,t,n){return n.some(n=>Qv(e,t,n)&&"primary"!==Jv(n))}(e,n,i)){const s=new Dm(t,function(e,t,n,i){const s={};s.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const r of n)if(""===r.path&&"primary"!==Jv(r)){const n=new Dm([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,s[Jv(r)]=n}return s}(e,t,i,new Dm(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Qv(e,t,n))}(e,n,i)){const r=new Dm(e.segments,function(e,t,n,i,s,r){const o={};for(const a of i)if(Qv(e,n,a)&&!s[Jv(a)]){const n=new Dm([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===r?e.segments.length:t.length,o[Jv(a)]=n}return Object.assign(Object.assign({},s),o)}(e,t,n,i,e.children,s));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}const r=new Dm(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:n}}function Qv(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Jv(e){return e.outlet||"primary"}function Xv(e){return e.data||{}}function ey(e){return e.resolve||{}}function ty(e,t,n,i){const s=Vv(e,t,i);return _m(s.resolve?s.resolve(t,n):s(t,n))}function ny(e){return function(t){return t.pipe(Ng(t=>{const n=e(t);return n?z(n).pipe(M(()=>t)):z([t])}))}}class iy{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const sy=new Ve("ROUTES");class ry{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(M(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new vm(km(i.injector.get(sy)).map(Cm),i)}))}loadModuleFactory(e){return"string"==typeof e?z(this.loader.load(e)):_m(e()).pipe(j(e=>e instanceof Xe?tg(e):z(this.compiler.compileModuleAsync(e))))}}class oy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ay(e){throw e}function ly(e,t,n){return t.parse("/")}function cy(e,t){return tg(null)}let uy=(()=>{class e{constructor(e,t,n,i,s,r,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=ay,this.malformedUriErrorHandler=ly,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cy,afterPreactivation:cy},this.urlHandlingStrategy=new oy,this.routeReuseStrategy=new iy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(Je),this.console=s.get(Kc);const l=s.get(ou);this.isNgZoneEnabled=l instanceof ou,this.resetConfig(a),this.currentUrlTree=new Fm(new Dm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ry(r,o,e=>this.triggerEvent(new rm(e)),e=>this.triggerEvent(new om(e))),this.routerState=tv(this.currentUrlTree,this.rootComponentType),this.transitions=new Yf({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(hg(e=>0!==e.id),M(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Ng(e=>{let n=!1,i=!1;return tg(e).pipe(Gg(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ng(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return tg(e).pipe(Ng(e=>{const n=this.transitions.getValue();return t.next(new Yg(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?ag:[e]}),Ng(e=>Promise.resolve(e)),(i=this.ngModule.injector,s=this.configLoader,r=this.urlSerializer,o=this.config,function(e){return e.pipe(Ng(e=>function(e,t,n,i,s){return new Dv(e,t,n,i,s).apply()}(i,s,r,e.extractedUrl,o).pipe(M(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),Gg(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,s){return function(r){return r.pipe(j(r=>function(e,t,n,i,s="emptyOnly",r="legacy"){return new $v(e,t,n,i,s,r).recognize()}(e,t,r.urlAfterRedirects,n(r.urlAfterRedirects),i,s).pipe(M(e=>Object.assign(Object.assign({},r),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Gg(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Gg(e=>{const n=new em(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,s,r,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:s,restoredState:r,extras:o}=e,a=new Yg(n,this.serializeUrl(i),s,r);t.next(a);const l=tv(i,this.rootComponentType).snapshot;return tg(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ag}),ny(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!o})}),Gg(e=>{const t=new tm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),M(e=>Object.assign(Object.assign({},e),{guards:Mv(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe(j(n=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=n;return 0===o.length&&0===r.length?tg(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return z(e).pipe(j(e=>function(e,t,n,i,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?tg(r.map(r=>{const o=Vv(r,t,s);let a;if(function(e){return e&&xv(e.canDeactivate)}(o))a=_m(o.canDeactivate(e,t,n,i));else{if(!xv(o))throw new Error("Invalid CanDeactivate guard");a=_m(o(e,t,n,i))}return a.pipe(Og())})).pipe(zv()):tg(!0)}(e.component,e.route,n,t,i)),Og(e=>!0!==e,!0))}(o,i,s,e).pipe(j(n=>n&&"boolean"==typeof n?function(e,t,n,i){return z(t).pipe(jg(t=>z([Uv(t.route.parent,i),jv(t.route,i),qv(e,t.path,n),Gv(e,t.route,n)]).pipe(ug(),Og(e=>!0!==e,!0))),Og(e=>!0!==e,!0))}(i,r,e,t):tg(n)),M(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Gg(e=>{if(kv(e.guardsResult)){const t=gm(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Gg(e=>{const t=new nm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),hg(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Jg(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),ny(e=>{if(e.guards.canActivateChecks.length)return tg(e).pipe(Gg(e=>{const t=new im(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(e){return e.pipe(j(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;return s.length?z(s).pipe(jg(e=>function(e,t,n,i){return function(e,t,n,i){const s=Object.keys(e);if(0===s.length)return tg({});if(1===s.length){const r=s[0];return ty(e[r],t,n,i).pipe(M(e=>({[r]:e})))}const r={};return z(s).pipe(j(s=>ty(e[s],t,n,i).pipe(M(e=>(r[s]=e,e))))).pipe(Eg(),M(()=>r))}(e._resolve,e,t,i).pipe(M(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),iv(e,n).resolve),null)))}(e.route,i,t,n)),function(e,t){return arguments.length>=2?function(n){return y(Hg(e,t),gg(1),Sg(t))(n)}:function(t){return y(Hg((t,n,i)=>e(t,n,i+1)),gg(1))(t)}}((e,t)=>e),M(t=>e)):tg(e)}))}),Gg(e=>{const t=new sm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,n}),ny(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!o})}),M(e=>{const t=function(e,t,n){const i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){const s=i.value;s._futureSnapshot=n.value;const r=function(t,n,i){return n.children.map(n=>{for(const s of i.children)if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s);return e(t,n)})}(t,n,i);return new Jm(s,r)}{const i=t.retrieve(n.value);if(i){const e=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,e),e}{const i=new nv(new Yf((s=n.value).url),new Yf(s.params),new Yf(s.queryParams),new Yf(s.fragment),new Yf(s.data),s.outlet,s.component,s),r=n.children.map(n=>e(t,n));return new Jm(i,r)}}var s}(e,t._root,n?n._root:void 0);return new ev(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Gg(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(r=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),M(e=>(new Cv(o,e.targetRouterState,e.currentRouterState,a).activate(r),e))),Gg({next(){n=!0},complete(){n=!0}}),(s=()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new Jg(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new $g(s))),Ig(n=>{if(i=!0,(s=n)&&s.ngNavigationCancelingError){const i=kv(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const s=new Jg(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(s),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new Xg(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(r){e.reject(r)}}var s;return ag}));var s,r,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ym(e),this.config=e.map(Cm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:s,preserveQueryParams:r,queryParamsHandling:o,preserveFragment:a}=t;Si()&&r&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:s;let u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}else u=r?this.currentUrlTree.queryParams:i||null;return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,i,s){if(0===n.length)return hv(t.root,t.root,t,i,s);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new dv(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return Im(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===s?(i.split("/").forEach((i,s)=>{0==s&&"."===i||(0==s&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new dv(n,t,i)}(n);if(r.toRoot())return hv(t.root,new Dm([],{}),t,i,s);const o=function(e,t,n){if(e.isAbsolute)return new pv(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new pv(n.snapshot._urlSegment,!0,0);const i=uv(e.commands[0])?0:1;return function(e,t,n){let i=e,s=t,r=n;for(;r>s;){if(r-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new pv(i,!1,s-r)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(r,t,e),a=o.processChildren?mv(o.segmentGroup,o.index,r.commands):gv(o.segmentGroup,o.index,r.commands);return hv(o.segmentGroup,a,t,i,s)}(l,this.currentUrlTree,e,u,c)}navigateByUrl(e,t={skipLocationChange:!1}){Si()&&this.isNgZoneEnabled&&!ou.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=kv(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(kv(e))return Tm(this.currentUrlTree,e,t);const n=this.parseUrl(e);return Tm(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Qg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,s){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o,a,l;s?(o=s.resolve,a=s.reject,l=s.promise):l=new Promise((e,t)=>{o=e,a=t});const c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const s=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(s,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e}),e})(),hy=(()=>{class e{constructor(e,t,n,i,s){this.router=e,this.route=t,this.commands=[],null==n&&i.setAttribute(s.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Si()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:py(this.skipLocationChange),replaceUrl:py(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:py(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:py(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Ro(uy),Ro(nv),Po("tabindex"),Ro(Ja),Ro(Wa))},e.\u0275dir=bt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&$o("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),e})(),dy=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Qg&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Si()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:py(this.skipLocationChange),replaceUrl:py(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:py(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:py(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Ro(uy),Ro(nv),Ro(Wu))},e.\u0275dir=bt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&$o("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Ia("href",t.href,Zi),Fo("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Pa]}),e})();function py(e){return""===e||!!e}let fy=(()=>{class e{constructor(e,t,n,i,s){this.router=e,this.element=t,this.renderer=n,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof Qg&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(uy),Ro(Wa),Ro(Ja),Ro(hy,8),Ro(dy,8))},e.\u0275dir=bt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(Dc(n,hy,!0),Dc(n,dy,!0)),2&e&&(Ic(i=Rc())&&(t.links=i),Ic(i=Rc())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Pa]}),e})();class gy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new my,this.attachRef=null}}class my{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new gy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let vy=(()=>{class e{constructor(e,t,n,i,s){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new gc,this.deactivateEvents=new gc,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,s=new yy(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Ro(my),Ro(wl),Ro($a),Po("name"),Ro(Wr))},e.\u0275dir=bt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class yy{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===nv?this.route:e===my?this.childContexts:this.parent.get(e,t)}}class by{}class wy{preload(e,t){return tg(null)}}let Cy=(()=>{class e{constructor(e,t,n,i,s){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=new ry(t,n,t=>e.triggerEvent(new rm(t)),t=>e.triggerEvent(new om(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(hg(e=>e instanceof Qg),jg(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Je);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return z(n).pipe(q(),M(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(j(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(We(uy),We(Tu),We(nu),We(uo),We(by))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Sy=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Yg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Qg&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hm&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new hm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e}),e})();const xy=new Ve("ROUTER_CONFIGURATION"),ky=new Ve("ROUTER_FORROOT_GUARD"),Ey=[Xu,{provide:Pm,useClass:Nm},{provide:uy,useFactory:function(e,t,n,i,s,r,o,a={},l,c){const u=new uy(null,e,t,n,i,s,r,km(o));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=Mu();u.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[Pm,my,Xu,uo,Tu,nu,sy,xy,[class{},new se],[class{},new se]]},my,{provide:nv,useFactory:function(e){return e.routerState.root},deps:[uy]},{provide:Tu,useClass:Au},Cy,wy,class{preload(e,t){return t().pipe(Ig(()=>tg(null)))}},{provide:xy,useValue:{enableTracing:!1}}];function Iy(){return new Cu("Router",uy)}let _y=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Ey,Ay(t),{provide:ky,useFactory:Dy,deps:[[uy,new se,new oe]]},{provide:xy,useValue:n||{}},{provide:Wu,useFactory:Fy,deps:[Hu,[new ie(Yu),new se],xy]},{provide:Sy,useFactory:Ty,deps:[uy,Wh,xy]},{provide:by,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:wy},{provide:Cu,multi:!0,useFactory:Iy},[Oy,{provide:Vc,multi:!0,useFactory:Ry,deps:[Oy]},{provide:Ny,useFactory:Py,deps:[Oy]},{provide:qc,multi:!0,useExisting:Ny}]]}}static forChild(t){return{ngModule:e,providers:[Ay(t)]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(We(ky,8),We(uy,8))}}),e})();function Ty(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Sy(e,t,n)}function Fy(e,t,n={}){return n.useHash?new Ju(e,t):new Qu(e,t)}function Dy(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ay(e){return[{provide:ho,multi:!0,useValue:e},{provide:sy,multi:!0,useValue:e}]}let Oy=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new E}appInitializer(){return this.injector.get(zu,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(uy),i=this.injector.get(xy);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?tg(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(xy),n=this.injector.get(Cy),i=this.injector.get(Sy),s=this.injector.get(uy),r=this.injector.get(Iu);e===r.components[0]&&(this.isLegacyEnabled(t)?s.initialNavigation():this.isLegacyDisabled(t)&&s.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),s.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(We(uo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Ry(e){return e.appInitializer.bind(e)}function Py(e){return e.bootstrapListener.bind(e)}const Ny=new Ve("Router Initializer");function Ly(e,t){1&e&&(Vo(0,"a",6),Bo(1,"i",7),Vo(2,"span",8),Ca(3,"Samples"),Ho(),Ho())}const My=function(e){return{"ar-aside--expanded":e}};let Vy=(()=>{class e{constructor(){this.isAsideExpanded=!1,this.logged=!1,this.isVisible=!1}ngOnInit(){this.isVisible=!0}toggleAside(){this.isAsideExpanded=!this.isAsideExpanded}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-aside"]],decls:10,vars:4,consts:[[1,"ar-aside",3,"ngClass"],[1,"ar-aside__list"],[1,"ar-aside__list-item","ar-aside__list-item--toggler",3,"click"],[1,"ar-aside__list-item-icn","fas","fa-bars"],["routerLink","/home","routerLinkActive","active","class","ar-aside__list-item",4,"ngIf"],[1,"ar-aside__copyright"],["routerLink","/home","routerLinkActive","active",1,"ar-aside__list-item"],[1,"ar-aside__list-item-icn","fas","fa-dice-d6"],[1,"ar-aside__list-item-txt"]],template:function(e,t){1&e&&(Vo(0,"div",0),Vo(1,"ul",1),Vo(2,"li"),Vo(3,"a",2),$o("click",(function(){return t.toggleAside()})),Bo(4,"i",3),Ho(),Ho(),Vo(5,"li"),Ao(6,Ly,4,0,"a",4),Ho(),Bo(7,"li"),Ho(),Vo(8,"p",5),Ca(9," \xa9 Shell 2020 "),Ho(),Ho()),2&e&&(Lo("ngClass",tc(2,My,t.isAsideExpanded)),ms(6),Lo("ngIf",t.isVisible))},directives:[Rh,Mh,dy,fy],styles:[""]}),e})();var Hy=function(e){return e.Success="Success",e.Error="Error",e.Info="Information",e.Warning="Warning",e}({});let By=(()=>{class e{constructor(){this.subject=new E}getAlert(){return this.subject.asObservable()}success(e){this.alert(Hy.Success,e)}error(e){this.alert(Hy.Error,e)}info(e){this.alert(Hy.Info,e)}warn(e){this.alert(Hy.Warning,e)}alert(e,t){this.subject.next({type:e,message:t})}clear(){this.subject.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function zy(e,t){if(1&e){const e=Go();Vo(0,"section",1),Vo(1,"span",2),$o("click",(function(){Qt(e);const n=t.$implicit;return Yo().removeAlert(n)})),Ho(),Vo(2,"span",3),Bo(3,"span",4),Ho(),Vo(4,"div",5),Vo(5,"h1",6),Ca(6),Ho(),Vo(7,"p",7),Ca(8),Ho(),Ho(),Ho()}if(2&e){const e=t.$implicit,n=Yo();Lo("ngClass",n.alertType(e)),ms(3),Lo("ngClass",n.alertIcon(e)),ms(3),Sa(e.type),ms(2),Sa(e.message)}}let jy=(()=>{class e{constructor(e){this.toastService=e,this.alerts=[],this.subscribeForAlerts()}subscribeForAlerts(){this.alertSubsription=this.toastService.getAlert().subscribe(e=>{this.alerts.push(e),setTimeout(()=>{this.removeAlert(e)},3e3)})}ngOnInit(){}ngOnDestroy(){this.alertSubsription.unsubscribe()}removeAlert(e){this.alerts=this.alerts.filter(t=>t!==e)}alertType(e){if(e)switch(e.type){case Hy.Success:return"ar-toast--success";case Hy.Error:return"ar-toast--error";case Hy.Info:return"ar-toast--info";case Hy.Warning:return"ar-toast--warning"}}alertIcon(e){if(e)switch(e.type){case Hy.Success:return"fas fa-check";case Hy.Error:return"far fa-times-circle";case Hy.Info:case Hy.Warning:return"fas fa-exclamation-circle"}}}return e.\u0275fac=function(t){return new(t||e)(Ro(By))},e.\u0275cmp=pt({type:e,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","ar-toast ar-toast--active","style","z-index: 1000;",3,"ngClass",4,"ngFor","ngForOf"],[1,"ar-toast","ar-toast--active",2,"z-index","1000",3,"ngClass"],[1,"ar-toast__close","fas","fa-times",3,"click"],[1,"ar-toast__icn"],[3,"ngClass"],["role","alert",1,"ar-toast__content"],[1,"ar-toast__title"],[1,"ar-toast__desc"]],template:function(e,t){1&e&&Ao(0,zy,9,4,"section",0),2&e&&Lo("ngForOf",t.alerts)},directives:[Nh,Rh],styles:[""]}),e})(),Uy=(()=>{class e{constructor(){this.title="Artemis"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"ar-main"],[1,"ar-body"],[1,"ar-body__content"]],template:function(e,t){1&e&&(Vo(0,"main",0),Bo(1,"app-header"),Vo(2,"section",1),Bo(3,"app-aside"),Vo(4,"section",2),Bo(5,"router-outlet"),Bo(6,"app-toast"),Ho(),Ho(),Ho())},directives:[eg,Vy,vy,jy],styles:[""]}),e})();const Gy=(e,t)=>n=>t(e(n)),qy=(e,t,n)=>e.addEventListener&&e.addEventListener(t,n),Ky=(e,t,n)=>e&&e.removeEventListener&&e.removeEventListener(t,n),$y=()=>{},Wy=e=>e.preventDefault(),Zy=/touch/;function Yy(e){return e.type.match(Zy)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var Qy=(()=>{class e{static supportPointerEvent(){return"undefined"!=typeof window&&window.PointerEvent}get document(){return this._element?this._element.ownerDocument:document}constructor({press:e=$y,drag:t=$y,release:n=$y,mouseOnly:i=!1}){this._pressHandler=Gy(Yy,e),this._dragHandler=Gy(Yy,t),this._releaseHandler=Gy(Yy,n),this._ignoreMouse=!1,this._mouseOnly=i,this._touchstart=e=>{1===e.touches.length&&this._pressHandler(e)},this._touchmove=e=>{1===e.touches.length&&this._dragHandler(e)},this._touchend=e=>{0===e.touches.length&&1===e.changedTouches.length&&(this._releaseHandler(e),this._ignoreMouse=!0,setTimeout(this._restoreMouse,2e3))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=e=>{const{which:t}=e;t&&t>1||this._ignoreMouse||(qy(this.document,"mousemove",this._mousemove),qy(this.document,"mouseup",this._mouseup),this._pressHandler(e))},this._mousemove=e=>{this._dragHandler(e)},this._mouseup=e=>{Ky(this.document,"mousemove",this._mousemove),Ky(this.document,"mouseup",this._mouseup),this._releaseHandler(e)},this._pointerdown=e=>{e.isPrimary&&0===e.button&&(qy(this.document,"pointermove",this._pointermove),qy(this.document,"pointerup",this._pointerup),qy(this.document,"pointercancel",this._pointerup),qy(this.document,"contextmenu",Wy),this._pressHandler(e))},this._pointermove=e=>{e.isPrimary&&this._dragHandler(e)},this._pointerup=e=>{e.isPrimary&&(Ky(this.document,"pointermove",this._pointermove),Ky(this.document,"pointerup",this._pointerup),Ky(this.document,"pointercancel",this._pointerup),Ky(this.document,"contextmenu",Wy),this._releaseHandler(e))}}bindTo(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}_bindToCurrent(){const e=this._element;this._usePointers()?qy(e,"pointerdown",this._pointerdown):(qy(e,"mousedown",this._mousedown),this._mouseOnly||(qy(e,"touchstart",this._touchstart),qy(e,"touchmove",this._touchmove),qy(e,"touchend",this._touchend)))}_unbindFromCurrent(){const e=this._element;if(this._usePointers())return Ky(e,"pointerdown",this._pointerdown),Ky(this.document,"pointermove",this._pointermove),Ky(this.document,"pointerup",this._pointerup),Ky(this.document,"contextmenu",Wy),void Ky(this.document,"pointercancel",this._pointerup);Ky(e,"mousedown",this._mousedown),this._mouseOnly||(Ky(e,"touchstart",this._touchstart),Ky(e,"touchmove",this._touchmove),Ky(e,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&e.supportPointerEvent()}update({press:e=$y,drag:t=$y,release:n=$y,mouseOnly:i=!1}){this._pressHandler=Gy(Yy,e),this._dragHandler=Gy(Yy,t),this._releaseHandler=Gy(Yy,n),this._mouseOnly=i}destroy(){this._unbindFromCurrent(),this._element=null}}return e.default=e,e})();class Jy extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class Xy extends Jy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let eb=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class tb extends eb{constructor(e,t=eb.now){super(e,()=>tb.delegate&&tb.delegate!==this?tb.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return tb.delegate&&tb.delegate!==this?tb.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const nb=new tb(Xy);class ib{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new sb(e,this.durationSelector))}}class sb extends L{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=N(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function rb(e){return!l(e)&&e-parseFloat(e)+1>=0}function ob(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function ab(e,t=nb){return n=()=>function(e=0,t,n){let i=-1;return rb(t)?i=Number(t)<1?1:Number(t):_(t)&&(n=t),_(n)||(n=nb),new w(t=>{const s=rb(e)?e:+e-n.now();return n.schedule(ob,s,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new ib(n))};var n}function lb(e,t,n,s){return i(n)&&(s=n,n=void 0),s?lb(e,t,n).pipe(M(e=>l(e)?s(...e):s(e))):new w(i=>{!function e(t,n,i,s,r){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,i,r),o=()=>e.removeEventListener(n,i,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,i),o=()=>e.off(n,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,i),o=()=>e.removeListener(n,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],n,i,s,r)}s.add(o)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)})}const cb=()=>"undefined"!=typeof document,ub=(e,t,n=!0)=>!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue),hb=(e,t,n=!0)=>e.some(e=>ub(e,t,n)),db=e=>e&&e.observers.length>0,pb=()=>{let e="";for(let t=0;t<32;t++){const n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e};let fb=(()=>{class e{constructor(e,t){this.element=e,this.ngZone=t,this.enableDrag=!0,this.kendoPress=new gc,this.kendoDrag=new gc,this.kendoRelease=new gc}ngOnInit(){this.toggleDraggable()}ngOnChanges(e){ub("enableDrag",e)&&this.toggleDraggable()}ngOnDestroy(){this.destroyDraggable()}toggleDraggable(){cb()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new Qy({drag:e=>this.kendoDrag.next(e),press:e=>this.kendoPress.next(e),release:e=>this.kendoRelease.next(e)}),this.ngZone.runOutsideAngular(()=>this.draggable.bindTo(this.element.nativeElement))))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[Pa]}),e})(),gb=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})(),mb=(()=>{class e{constructor(e,t,n){this.element=e,this.ngZone=t,this.renderer=n,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let t in e)e.hasOwnProperty(t)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,t,this.scope?e[t].bind(this.scope):e[t]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(ou),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),e})(),vb=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})();class yb{constructor(e){this.resizeBatchService=e,this.resize=new gc,this.acceptedSize=!1,this.state=0}acceptSize(e=this.measure()){this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}checkChanges(){cb()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:e,height:t}=this.measure();return e===this.lastWidth&&t===this.lastHeight?void 0:(this.lastWidth=e,this.lastHeight=t,this.acceptedSize=!1,this.resize.emit(),!0)}initSize(){const e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}measure(){let e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}const bb=e=>{const t=document.createElement("div");return t.style.cssText=e,t},wb="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class Cb extends yb{constructor(e,t,n){super(e),this.element=t,this.ngZone=n}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const e=this.parentElement=this.element.nativeElement.parentElement;"static"===getComputedStyle(e,null).getPropertyValue("position")&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const e=this.element.nativeElement;e.style.cssText=wb,e.setAttribute("dir","ltr"),this.expand=bb(wb),this.expandChild=bb("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=bb(wb);const t=bb("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}reset(){const e=this.expandChild;e.style.width="100000px",e.style.height="100000px";const t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;const n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=$(lb(this.shrink,"scroll"),lb(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const Sb="undefined"!=typeof ResizeObserver;class xb extends yb{constructor(e,t,n){super(e),this.element=t,this.ngZone=n}static supported(){return Sb}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let kb=(()=>{class e{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,t){this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=z(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(t=>t.instance===e))}cancel(e){const t=this.scheduled,n=t.length;for(let i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Eb=(()=>{class e{constructor(e,t,n){this.rateLimit=10,this.resize=new gc;const i=xb.supported()?xb:Cb;this.resizeService=new i(e,t,n),this.subscription=this.resizeService.resize.pipe(ab(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(kb),Ro(Wa),Ro(ou))},e.\u0275cmp=pt({type:e,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),Ib=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[kb]}),e})();class _b{}var Tb=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({});function Fb(e=0,t=nb){return(!rb(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=nb),new w(n=>(n.add(t.schedule(Db,e,{subscriber:n,counter:0,period:e})),n))}function Db(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}class Ab{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ob(e,this.resultSelector))}}class Ob extends f{constructor(e,t,n=Object.create(null)){super(e),this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:null,this.values=n}_next(e){const t=this.iterators;l(e)?t.push(new Pb(e)):t.push("function"==typeof e[A]?new Rb(e[A]()):new Nb(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let n=0;n<t;n++){let t=e[n];t.stillUnsubscribed?this.destination.add(t.subscribe(t,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,n=this.destination;for(let r=0;r<t;r++){let t=e[r];if("function"==typeof t.hasValue&&!t.hasValue())return}let i=!1;const s=[];for(let r=0;r<t;r++){let t=e[r],o=t.next();if(t.hasCompleted()&&(i=!0),o.done)return void n.complete();s.push(o.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),i&&n.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class Rb{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return e&&e.done}}class Pb{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[A](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Nb extends L{constructor(e,t,n){super(e),this.parent=t,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[A](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e,t,n,i,s){this.buffer.push(t),this.parent.checkIterators()}subscribe(e,t){return N(this,this.observable,this,t)}}class Lb{constructor(e){this.total=e}call(e,t){return t.subscribe(new Mb(e,this.total))}}class Mb extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let Vb=(()=>{class e{constructor(){this.changes=new E}notify(e){this.changes.next({rtl:e})}get(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Hb=(()=>{class e{get override(){return!1}ngOnChanges(e){this.register(e),Object.keys(e).some(t=>!e[t].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe((1,e=>e.lift(new Lb(1)))).subscribe(()=>this.register(this))}register(e){Object.keys(e).forEach(e=>this.service.register(e,this[e],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,features:[Pa]}),e})();const Bb=new Ve("Kendo UI Right-to-Left token"),zb=new Ve("Localization key prefix");let jb=(()=>{class e{constructor(e,t,n){this.prefix=e,this.messageService=t,this._rtl=n,this.changes=new Yf({rtl:this._rtl}),this.dictionary={},t&&(this.subscription=t.changes.pipe(M(({rtl:e})=>void 0!==e?e:this._rtl),Gg(e=>this._rtl=e)).subscribe(e=>{this.dictionary={},this.changes.next({rtl:e})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){const t=this.key(e);return this.dictionary[t]}register(e,t,n=!1){const i=this.key(e);let s=t;if(!n){if(this.dictionary.hasOwnProperty(i))return;s=this.defaultValue(i,t)}this.dictionary[i]=s}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,t){if(!this.messageService)return t;const n=this.messageService.get(e);return void 0===n?t:n}}return e.\u0275fac=function(t){return new(t||e)(We(zb),We(Vb,8),We(Bb,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Ub(e){return t=>t.lift(new Gb(e))}class Gb{constructor(e){this.notifier=e}call(e,t){const n=new qb(e),i=N(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class qb extends L{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,i,s){this.seenValue=!0,this.complete()}notifyComplete(){}}function Kb(e,t){return t?Ng(()=>e,t):Ng(()=>e)}function $b(e){return e instanceof Date&&!isNaN(+e)}function Wb(e,t){return new w(t?n=>t.schedule(Zb,0,{error:e,subscriber:n}):t=>t.error(e))}function Zb({error:e,subscriber:t}){t.error(e)}let Yb=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return tg(this.value);case"E":return Wb(this.error);case"C":return lg()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function Qb(e,t=nb){const n=$b(e)?+e-t.now():Math.abs(e);return e=>e.lift(new Jb(n,t))}class Jb{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Xb(e,this.delay,this.scheduler))}}class Xb extends f{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,i=e.scheduler,s=e.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(s);if(n.length>0){const t=Math.max(0,n[0].time-i.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Xb.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new ew(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Yb.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Yb.createComplete()),this.unsubscribe()}}class ew{constructor(e,t){this.time=e,this.notification=t}}class tw{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new nw(e,this.compare,this.keySelector))}}class nw extends f{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}const iw={leading:!0,trailing:!1};class sw{constructor(e,t,n,i){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=i}call(e,t){return t.subscribe(new rw(e,this.duration,this.scheduler,this.leading,this.trailing))}}class rw extends f{constructor(e,t,n,i,s){super(e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ow,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function ow(e){const{subscriber:t}=e;t.clearThrottle()}class aw{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new lw(e,this.dueTime,this.scheduler))}}class lw extends f{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function cw(e){e.debouncedNext()}class uw{constructor(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?dw:hw}call(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class hw extends f{constructor(e,t){super(e),this.bufferSize=t,this.buffer=[]}_next(e){const t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class dw extends f{constructor(e,t,n){super(e),this.bufferSize=t,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(e){const{bufferSize:t,startBufferEvery:n,buffers:i,count:s}=this;this.count++,s%n==0&&i.push([]);for(let r=i.length;r--;){const n=i[r];n.push(e),n.length===t&&(i.splice(r,1),this.destination.next(n))}}_complete(){const{buffers:e,destination:t}=this;for(;e.length>0;){let n=e.shift();n.length>0&&t.next(n)}super._complete()}}function pw(e,t){return new w(n=>{const i=e.length;if(0===i)return void n.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const l=z(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,o++),s[a]=e},error:e=>n.error(e),complete:()=>{r++,r!==i&&c||(o===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=s[n],e),{}):s),n.complete())}}))}})}const fw=new Ve("NgValueAccessor"),gw={provide:fw,useExisting:xe(()=>mw),multi:!0};let mw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(Ja),Ro(Wa))},e.\u0275dir=bt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&$o("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[Ga([gw])]}),e})();const vw={provide:fw,useExisting:xe(()=>bw),multi:!0},yw=new Ve("CompositionEventMode");let bw=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Mu()?Mu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(Ja),Ro(Wa),Ro(yw,8))},e.\u0275dir=bt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&$o("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[Ga([vw])]}),e})(),ww=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e}),e})(),Cw=(()=>{class e extends ww{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return Sw(t||e)},e.\u0275dir=bt({type:e,features:[Ta]}),e})();const Sw=oi(Cw);function xw(){throw new Error("unimplemented")}class kw extends ww{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return xw()}get asyncValidator(){return xw()}}class Ew{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Iw=(()=>{class e extends Ew{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(kw,2))},e.\u0275dir=bt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&ua("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ta]}),e})(),_w=(()=>{class e extends Ew{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(Cw,2))},e.\u0275dir=bt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&ua("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ta]}),e})();function Tw(e){return null==e||0===e.length}const Fw=new Ve("NgValidators"),Dw=new Ve("NgAsyncValidators"),Aw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ow{static min(e){return t=>{if(Tw(t.value)||Tw(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(Tw(t.value)||Tw(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return Tw(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return Tw(e.value)||Aw.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(Tw(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return Ow.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(Tw(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Rw);return 0==t.length?null:function(e){return Nw(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Rw);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return pw(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return pw(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return pw(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(M(e=>t(...e)))}return pw(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(Pw)).pipe(M(Nw))}}}function Rw(e){return null!=e}function Pw(e){const t=qo(e)?z(e):e;if(!Ko(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Nw(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Lw(e){return e.validate?t=>e.validate(t):e}function Mw(e){return e.validate?t=>e.validate(t):e}const Vw={provide:fw,useExisting:xe(()=>Hw),multi:!0};let Hw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(Ja),Ro(Wa))},e.\u0275dir=bt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&$o("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Ga([Vw])]}),e})();const Bw={provide:fw,useExisting:xe(()=>jw),multi:!0};let zw=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),jw=(()=>{class e{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(kw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(Ro(Ja),Ro(Wa),Ro(zw),Ro(uo))},e.\u0275dir=bt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&$o("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ga([Bw])]}),e})();const Uw={provide:fw,useExisting:xe(()=>Gw),multi:!0};let Gw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(Ja),Ro(Wa))},e.\u0275dir=bt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&$o("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Ga([Uw])]}),e})();const qw='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Kw='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',$w='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Ww{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+qw)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Kw}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${$w}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+qw)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Kw)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Zw={provide:fw,useExisting:xe(()=>Yw),multi:!0};let Yw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=bo}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Ro(Ja),Ro(Wa))},e.\u0275dir=bt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&$o("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ga([Zw])]}),e})();const Qw={provide:fw,useExisting:xe(()=>Jw),multi:!0};let Jw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=bo}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),s=this._getOptionValue(i.value);n.push(s)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Ro(Ja),Ro(Wa))},e.\u0275dir=bt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&$o("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ga([Qw])]}),e})();function Xw(e,t){return[...t.path,e]}function eC(e,t){e||nC(t,"Cannot find control with"),t.valueAccessor||nC(t,"No value accessor for form control with"),e.validator=Ow.compose([e.validator,t.validator]),e.asyncValidator=Ow.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&tC(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&tC(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function tC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function nC(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function iC(e){return null!=e?Ow.compose(e.map(Lw)):null}function sC(e){return null!=e?Ow.composeAsync(e.map(Mw)):null}function rC(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!bo(t,n.currentValue)}const oC=[mw,Gw,Hw,Yw,Jw,jw];function aC(e,t){if(!t)return null;Array.isArray(t)||nC(e,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,s=void 0;return t.forEach(t=>{var r;t.constructor===bw?n=t:(r=t,oC.some(e=>r.constructor===e)?(i&&nC(e,"More than one built-in value accessor matches form control with"),i=t):(s&&nC(e,"More than one custom value accessor matches form control with"),s=t))}),s||i||n||(nC(e,"No valid value accessor for form control with"),null)}function lC(e){const t=uC(e)?e.validators:e;return Array.isArray(t)?iC(t):t||null}function cC(e,t){const n=uC(t)?t.asyncValidators:e;return Array.isArray(n)?sC(n):n||null}function uC(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class hC{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=lC(e)}setAsyncValidators(e){this.asyncValidator=cC(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=Pw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof pC?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof fC&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new gc,this.statusChanges=new gc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class dC extends hC{constructor(e=null,t,n){super(lC(t),cC(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pC extends hC{constructor(e,t,n){super(lC(t),cC(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof dC?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,i)=>{t=t||this.contains(i)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class fC extends hC{constructor(e,t,n){super(lC(t),cC(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof dC?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const gC={provide:Cw,useExisting:xe(()=>vC)},mC=(()=>Promise.resolve(null))();let vC=(()=>{class e extends Cw{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new gc,this.form=new pC({},iC(e),sC(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){mC.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),eC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){mC.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this._directives,e)})}addFormGroup(e){mC.then(()=>{const t=this._findContainer(e.path),n=new pC({});(function(e,t){null==e&&nC(t,"Cannot find control with"),e.validator=Ow.compose([e.validator,t.validator]),e.asyncValidator=Ow.composeAsync([e.asyncValidator,t.asyncValidator])})(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){mC.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){mC.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Ro(Fw,10),Ro(Dw,10))},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&$o("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ga([gC]),Ta]}),e})(),yC=(()=>{class e extends Cw{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Xw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return iC(this._validators)}get asyncValidator(){return sC(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return bC(t||e)},e.\u0275dir=bt({type:e,features:[Ta]}),e})();const bC=oi(yC);class wC{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${qw}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Kw}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${$w}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Kw}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${$w}`)}}const CC={provide:Cw,useExisting:xe(()=>SC)};let SC=(()=>{class e extends yC{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof e||this._parent instanceof vC||wC.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(Ro(Cw,5),Ro(Fw,10),Ro(Dw,10))},e.\u0275dir=bt({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ga([CC]),Ta]}),e})();const xC={provide:kw,useExisting:xe(()=>EC)},kC=(()=>Promise.resolve(null))();let EC=(()=>{class e extends kw{constructor(e,t,n,i){super(),this.control=new dC,this._registered=!1,this.update=new gc,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=aC(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),rC(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Xw(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return iC(this._rawValidators)}get asyncValidator(){return sC(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof SC)&&this._parent instanceof yC?wC.formGroupNameException():this._parent instanceof SC||this._parent instanceof vC||wC.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||wC.missingNameException()}_updateValue(e){kC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;kC.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Ro(Cw,9),Ro(Fw,10),Ro(Dw,10),Ro(fw,10))},e.\u0275dir=bt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ga([xC]),Ta,Pa]}),e})(),IC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const _C=new Ve("NgModelWithFormControlWarning"),TC={provide:kw,useExisting:xe(()=>FC)};let FC=(()=>{class e extends kw{constructor(e,t,n,i){super(),this._ngModelWarningConfig=i,this.update=new gc,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=aC(this,n)}set isDisabled(e){Ww.disabledAttrWarning()}ngOnChanges(t){var n,i;this._isControlChanged(t)&&(eC(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),rC(t,this.viewModel)&&("formControl",n=e,this,i=this._ngModelWarningConfig,Si()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Ww.ngModelWarning("formControl"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return iC(this._rawValidators)}get asyncValidator(){return sC(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(Ro(Fw,10),Ro(Dw,10),Ro(fw,10),Ro(_C,8))},e.\u0275dir=bt({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ga([TC]),Ta,Pa]}),e._ngModelWarningSentOnce=!1,e})();const DC={provide:Fw,useExisting:xe(()=>AC),multi:!0};let AC=(()=>{class e{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?Ow.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&Fo("required",t.required?"":null)},inputs:{required:"required"},features:[Ga([DC])]}),e})();const OC={provide:Fw,useExisting:xe(()=>RC),multi:!0};let RC=(()=>{class e{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=Ow.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Fo("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ga([OC]),Pa]}),e})(),PC=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),NC=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let i=null,s=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new pC(n,{asyncValidators:s,updateOn:r,validators:i})}control(e,t,n){return new dC(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new fC(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof dC||e instanceof pC||e instanceof fC?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),LC=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[zw],imports:[PC]}),e})(),MC=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:_C,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[NC,zw],imports:[PC]}),e})();var VC,HC,BC=["vvjmBve=","DhLWzq==","rM5KAM8=","z21bCfO=","y29Kzq==","C2nYAxb0s2v5","CgfYC2u=","zffeyxy=","ChjVzhvJDhm=","DgLTzxn0yw1W","r2ffv0C=","B2jQzwn0","D3r2twO=","zgf0yq==","B2z1BvG=","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","swvIzwC=","uhjVz3jLC3mG","C2v0","D2fYBG==","BMfTzq==","zg9JC1vYBa==","A0LRreO=","z3jVDxbfBMq=","vfzMs1O=","zNvUy3rPB24=","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","ChjVzhvJDe5HBwu=","z3jVDxa=","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","BMLUAu4=","z2v0","BgvUz3rO","uhDTvg0=","wKnNs0S=","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","wNzfD2i=","B3LJz3C=","AKfdDMG=","zMLUza==","yufOzgq=","ChjVzhvJDenVzgvZ","tM8GBgLJzw5ZzsbMB3vUzc4k","ChvIBgLZAerHDgu=","C0v4EKy=","u2vLia==","BgLJzw5ZAw5Nrg9JC1vYBa==","CgfJA2fNzu5HBwu=","zxHWAxj5rgf0zq==","rgrushO=","CfLSqMi=","Dw5KzwzPBMvK","DMvYC2LVBG==","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG","AMfxD3G=","AgfZ","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","CMzsEvu=","Dg9mB2nHBgvtDhjPBMC=","txHWC0G=","CwvOAfG="];VC=BC,HC=415,function(e){for(;--e;)VC.push(VC.shift())}(++HC);var zC=function(e,t){var n=BC[e-=0];void 0===zC.uXIQOS&&(zC.BZzwkU=function(e){for(var t=function(e){for(var t,n,i=String(e).replace(/=+$/,""),s="",r=0,o=0;n=i.charAt(o++);~n&&(t=r%4?64*t+n:n,r++%4)?s+=String.fromCharCode(255&t>>(-2*r&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);return s}(e),n=[],i=0,s=t.length;i<s;i++)n+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(n)},zC.hCUrbZ={},zC.uXIQOS=!0);var i=zC.hCUrbZ[e];return void 0===i?(n=zC.BZzwkU(n),zC.hCUrbZ[e]=n):n=i,n},jC={data:"  {}  "},UC=new Map;function GC(e){return new Date(1e3*e)}const qC=e=>null!=e,KC=e=>null==e,$C=e=>Array.isArray(e),WC=e=>"function"==typeof e,ZC=e=>"string"==typeof e,YC=e=>!isNaN(e-parseFloat(e)),QC=e=>e&&e.getTime,JC=e=>qC(e.filters),XC=(e,t,n)=>i=>e(i)?t(i):n(i),eS=(...e)=>t=>e.reduceRight((e,t)=>t(e),t),tS=e=>{e.filters&&(e.filters=e.filters.map(e=>{const t=Object.assign({},e);return!JC(e)&&ZC(e.operator)&&(t.operator=(e=>({"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[e.toLowerCase()]||e))(e.operator)),JC(e)&&tS(t),t}))},nS=e=>(qC(e)&&(e=(e=>JC(e)?Object.assign({},e):{filters:$C(e)?e:[e],logic:"and"})(e),tS(e)),e),iS={},sS=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;iS[void 0]=e=>e;const rS=(e,t)=>{const n=e+t;if(iS[n])return iS[n];const i=[];return e.replace(sS,(e,t,n,s)=>{i.push(qC(t)?t:n||s)}),iS[n]=e=>{let n=e;for(let s=0;s<i.length;s++)if(n=n[i[s]],!qC(n)&&t)return n;return n},iS[n]},oS=e=>t=>[e,t],aS=()=>null,lS=e=>t=>qC(e(t)),cS=e=>t=>(e=>qC(e)&&$C(e)&&e.length>0)(e(t)),uS=(e,t)=>XC(e,t,aS),hS=(e,t)=>n=>e(n).map(t).join("~"),dS=eS(...[['"',""],[":","-"]].map(([e,t])=>n=>n.replace(new RegExp(e,"g"),t))),pS=e=>e.slice(0,e.indexOf(".")),fS=({field:e,dir:t="asc"})=>`${e}-${t}`,gS=rS("take"),mS=rS("aggregates"),vS=rS("skip"),yS=rS("group"),bS=rS("sort",!0),wS=hS(bS,fS),CS=hS(yS,fS),SS=hS(mS,({field:e,aggregate:t})=>`${e}-${t}`),xS=eS(e=>`datetime'${e}'`,pS,dS,JSON.stringify,e=>new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))),kS=eS(oS("page"),({skip:e,take:t})=>Math.floor((e||0)/t)+1),ES=eS(oS("pageSize"),gS),IS=eS(oS("group"),CS),_S=eS(oS("sort"),wS),TS=eS(oS("aggregate"),SS),FS=(uS(lS(vS),kS),uS(lS(gS),ES),uS(cS(yS),IS),uS(lS(mS),TS),eS(uS(cS(bS),_S),e=>Object.assign({},e,{sort:(bS(e)||[]).filter(({dir:e})=>!(e=>KC(e)||0===e.trim().length)(e))})),({field:e,operator:t,value:n})=>`${e}~${t}~${n}`),DS=(XC(e=>QC(e.value),eS(FS,({field:e,value:t,ignoreCase:n,operator:i})=>({value:xS(t),field:e,ignoreCase:n,operator:i})),FS),(e,t,n)=>(t[e]=n,t)),AS=e=>t=>{const n=t[e];return qC(n)?n:t[(i=e,i.replace(/(^[A-Z])/g,(e,t)=>t.toLowerCase()))];var i},OS=(AS("Member"),AS("AggregateMethodName"),AS("Value"),e=>t=>Object.keys(t).reduce(e.bind(null,t),{})),RS=OS((e,t,n)=>DS(n.toLowerCase(),t,e[n])),PS=OS((e,t,n)=>DS(n,t,RS(e[n]))),NS=(e,t)=>qC(e)?e:t,LS=eS(({field:e,hasSubgroups:t,value:n,aggregates:i,items:s})=>({aggregates:PS(i),field:e,items:t?s.map(LS):s,value:n}),e=>({aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:NS(e.Key,NS(e.key,e.value))})),MS=(e,t)=>KC(e)?e===t?0:-1:KC(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0,VS=(e,t)=>MS(t,e),HS=e=>{const t=rS(e.field,!0);return(n,i)=>("asc"===e.dir?MS:VS)(t(n),t(i))},BS=(e,t)=>0,zS=(e,t)=>(e.push(t),e),jS=e=>t=>(n,i,s)=>t(n,e(i,s)),US=e=>t=>(n,i)=>e(i)?t(n,i):n,GS=e=>qC(e.__value),qS=(e,t,n)=>{let i=t;for(let s=0,r=n.length;s<r;s++)if(i=e(i,n[s],s),GS(i)){i=i.__value;break}return i},KS=jS(e=>e),$S={or:{concat:(e,t)=>n=>e(n)||t(n),identity:()=>!1},and:{concat:(e,t)=>n=>e(n)&&t(n),identity:()=>!0}},WS={contains:(e,t)=>(e||"").indexOf(t)>=0,doesnotcontain:(e,t)=>-1===(e||"").indexOf(t),doesnotendwith:(e,t)=>(e||"").indexOf(t,(e||"").length-(t||"").length)<0,doesnotstartwith:(e,t)=>-1===(e||"").lastIndexOf(t,0),endswith:(e,t)=>(e||"").indexOf(t,(e||"").length-(t||"").length)>=0,eq:(e,t)=>e===t,gt:(e,t)=>e>t,gte:(e,t)=>e>=t,isempty:e=>""===e,isnotempty:e=>""!==e,isnotnull:e=>qC(e),isnull:e=>KC(e),lt:(e,t)=>e<t,lte:(e,t)=>e<=t,neq:(e,t)=>e!=t,startswith:(e,t)=>0===(e||"").lastIndexOf(t,0)},ZS=/^\/Date\((.*?)\)\/$/,YS=e=>{const t=$S[e.logic];return e.filters.filter(qC).map(e=>JC(e)?YS(e):(({field:e,ignoreCase:t,value:n,operator:i})=>{e=qC(e)?e:e=>e,t=!qC(t)||t;const s=((e,t,n)=>{if(!qC(t))return e;let i=e;if(ZC(t)){const s=ZS.exec(t);s?t=new Date(+s[1]):i=t=>{const i=e(t);return"string"==typeof i&&n?i.toLowerCase():YC(i)?i+"":i}}return QC(t)?e=>{const t=i(e);return QC(t)?t.getTime():t}:i})(WC(e)?e:rS(e,!0),n,t);n=((e,t)=>{if(null!=e&&ZC(e)){const n=ZS.exec(e);if(n)return new Date(+n[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&QC(e))return e.getTime();return e})(n,t);const r=WC(i)?i:WS[i];return e=>r(s(e),n,t)})(e)).reduce(t.concat,t.identity)},QS=e=>e&&0!==e.filters.length?YS(e):()=>!0,JS=e=>(e=$C(e)?e:[e]).map(e=>Object.assign({dir:"asc"},e)),XS=jS(e=>e),ex=(e,t=[],n=XS,i=e)=>{if(!(t=JS(t)).length)return e;const s=t[0],r=qS(n((e=>{const t=rS(e,!0);let n=0;return(i,s)=>{i[e]=i[e]||{};const r=t(s),o=(e=>(e=qC(e)&&e.getTime?e.getTime():e)+"")(r),a=i[e][o]||{__position:n++,aggregates:{},items:[],value:r};return a.items.push(s),i[e][o]=a,i}})(s.field)),{},e),o=[];return Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(n=>{const a=r[e][n];let l={},c=i;qC(s.aggregates)&&(c=((e,t)=>!qC(t)||JC(t)&&0===t.filters.length?e:e.filter(QS(nS(t))))(i,{field:s.field,ignoreCase:!1,operator:"eq",value:a.value}),l=((e,t=[],n=KS)=>{const i={};return t.length?((e={})=>(Object.keys(e).forEach(t=>{const n=e[t];Object.keys(n).forEach(e=>{n[e]=n[e].result()})}),e))(qS(n((e=>{const t=e.map(e=>{const t=rS(e.field,!0),n=(e.aggregate||"").toLowerCase(),i=rS(n,!0);return(s,r)=>{const o=s[e.field]||{},a=i(o)||{average:()=>{let e=0,t=0;return{calc:n=>{YC(n)?(e+=n,t++):e=n},result:()=>YC(e)?e/t:e}},count:()=>{let e=0;return{calc:()=>e++,result:()=>e}},max:()=>{let e=Number.NEGATIVE_INFINITY;return{calc:t=>{e=YC(e)||QC(e)?e:t,e<t&&(YC(t)||QC(t))&&(e=t)},result:()=>e}},min:()=>{let e=Number.POSITIVE_INFINITY;return{calc:t=>{e=YC(e)||QC(e)?e:t,e>t&&(YC(t)||QC(t))&&(e=t)},result:()=>e}},sum:()=>{let e=0;return{calc:t=>{t=qC(t)?t:0,e+=t},result:()=>e}}}[n]();return a.calc(t(r)),o[e.aggregate]=a,s[e.field]=o,s}});return(e,n)=>t.reduce((e,t)=>t(e,n),e)})(t)),i,e)):i})(c,s.aggregates)),o[a.__position]={aggregates:l,field:e,items:t.length>1?ex(a.items,t.slice(1),XS,c):a.items,value:a.value}})}),o},tx=(e,t,n,i)=>{if(n-t<2)return;const s=t+n>>>1;tx(e,t,s,i),tx(e,s,n,i),((e,t,n,i,s)=>{let r=n-t,o=i-n;const a=[];for(let h=0;h<r;h++)a.push(e[t+h]);let l=0,c=n,u=t;do{s(e[c],a[l])<0?(e[u++]=e[c++],o--):(e[u++]=a[l++],r--)}while(o>0&&r>0);for(;r;)e[u++]=a[l++],r--;for(;o;)e[u++]=e[c++],o--})(e,t,s,n,i)},nx=(e,t)=>{if(t.some(e=>qC(e.dir))){e=e.slice(0);const n=(e=>e.filter(e=>qC(e.dir)).map(e=>HS(e)).reduce((e,t)=>(n,i)=>e(n,i)||t(n,i),BS))(t);tx(e,0,e.length,n)}return e},ix=(e,t)=>{const{skip:n,take:i,filter:s,sort:r,group:o}=t,a=[...JS(o||[]),...r||[]];a.length&&(e=nx(e,a));const l=qC(s)&&US.length,c=qC(o)&&o.length;if(!l&&!c)return{data:i?e.slice(n,n+i):e,total:e.length};let u;const h=[];let d;var p;if(l?(d=QS(nS(s)),u=((e,t)=>{let n=0;for(let i=0,s=e.length;i<s;i++)t(e[i])&&n++;return n})(e,d),h.push(US(d))):u=e.length,qC(n)&&qC(i)&&(h.push((p=n,e=>(t,n)=>p--<=0?e(t,n):t)),h.push((e=>t=>(n,i)=>e-- >0?t(n,i):(e=>GS(e)?e:{__value:e,reduced:!0})(n))(i))),h.length){const t=eS(...h);return{data:c?ex(e,o,t,((e,t)=>t?e.filter(t):e)(e,d)):qS(t(zS),[],e),total:u}}return{data:c?ex(e,o):e,total:u}};function sx(e){return e.ownerDocument||e.document||e}var rx=e=>sx(e).defaultView,ox=e=>sx(e).documentElement;let ax=0;function lx(){if(!ax&&"undefined"!=typeof document){const e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),ax=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return ax}function cx(e){const t=rx(e),n=ox(e),i={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(i.width-=lx()),i}var ux=e=>{let t=e.offsetParent;for(;t&&"static"===t.style.position;)t=t.offsetParent;return t||ox(e)},hx=e=>{let t=e.getBoundingClientRect(),{left:n,top:i}=t;return t.height||t.width||(t=(e=>{const{display:t,left:n,position:i}=e.style;e.style.display="",e.style.left="-10000px",e.style.position="absolute";const s=e.getBoundingClientRect();return e.style.display=t,e.style.left=n,e.style.position=i,s})(e)),{top:i,left:n,height:t.height,width:t.width}},dx=(e,t)=>{const n=[];let i=e.parentNode;for(;i&&(n.push(i),i!==t);)i=i.parentNode;return n};function px(e){const t=ox(e),n=rx(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}var fx=e=>e===(e.ownerDocument||{}).body?px(e):{x:e.scrollLeft,y:e.scrollTop};const gx=function(e,t,n){let i=0;return e+t>n&&(i=n-(e+t)),e<0&&(i=-e),i},mx=function({offset:e,size:t,anchorSize:n,viewPortSize:i,anchorAlignPoint:s,elementAlignPoint:r,margin:o}){let a=0;const l=2*o;if(r!==s&&"center"!==r&&"middle"!==r&&"center"!==s&&"middle"!==s){const r="top"===s||"left"===s;e<0&&r?(a=t+n+l,e+a+t>i&&(a=0)):e>=0&&!r&&(e+t>i&&(a+=-(n+t+l)),e+a<0&&(a=0))}return a};var vx=e=>{const t=[];let n=e.parentNode.firstElementChild;for(;n;)n!==e&&t.push(n),n=n.nextElementSibling;return t};const yx=["container"];function bx(e,t){}const wx=["*"],Cx=(e,t)=>e||{height:0,left:t.left,top:t.top,width:0},Sx=()=>"undefined"!=typeof window,xx=/auto|scroll/,kx=e=>(e=>`${e.style.overflow}${e.style.overflowX}${e.style.overflowY}`)(e)||(e=>{const t=window.getComputedStyle(e);return`${t.overflow}${t.overflowX}${t.overflowY}`})(e);function Ex(e){let t,n=!1;return(...i)=>(n||(t=e(...i),n=!0),t)}const Ix=Ex(()=>{if(!cb()&&null!==document.body)return!1;const e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);const t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t}),_x=(e,t)=>e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e,Tx=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let Fx=(()=>{class e{addOffset(e,t){return{left:e.left+t.left,top:e.top+t.top}}addScroll(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}align(e){return(e=>{const{anchorRect:t,anchorAlign:n,elementRect:i,elementAlign:s,margin:r={}}=e,o=n.horizontal,a=n.vertical,l=s.horizontal,c=s.vertical;let u=r.horizontal||0,h=r.vertical||0,d=t.top,p=t.left;return"bottom"===a&&(d+=t.height),"center"!==a&&"middle"!==a||(d+=Math.round(t.height/2)),"bottom"===c&&(d-=i.height,h*=-1),"center"!==c&&"middle"!==c||(d-=Math.round(i.height/2),h*=-1),"right"===o&&(p+=t.width),"center"!==o&&"middle"!==o||(p+=Math.round(t.width/2)),"right"===l&&(p-=i.width,u*=-1),"center"!==l&&"middle"!==l||(p-=Math.round(i.width/2),u*=-1),{top:d+h,left:p+u}})(e)}boundingOffset(e){return(e=>{if(!e.getBoundingClientRect){const t=cx(e);return{bottom:t.height,left:0,right:t.width,top:0}}const{bottom:t,left:n,right:i,top:s}=e.getBoundingClientRect();return{bottom:t,left:n,right:i,top:s}})(this.nativeElement(e))}getFontStyles(e){const t=this.getWindow();if(!t||!e)return[];const n=t.getComputedStyle(this.nativeElement(e));return Tx.map(e=>({key:e,value:n[e]}))}getWindow(){return Sx()?window:null}hasOffsetParent(e){return!!e&&!!this.nativeElement(e).offsetParent}offset(e){return e?hx(this.nativeElement(e)):null}offsetAtPoint(e,t){if(!e)return null;const n=this.nativeElement(e),{left:i,top:s,transition:r}=n.style;n.style.transition="none",n.style.left=t.left+"px",n.style.top=t.top+"px";const o=hx(n);return n.style.left=i,n.style.top=s,n.style.transition=r,o}nativeElement(e){return e?e.nativeElement||e:null}position(e,t,n=1){return e&&t?((e,t,n=1)=>{const i=t?ux(t):null,{top:s,left:r,height:o,width:a}=((e,t)=>{const n=rx(e),i=n.getComputedStyle(e),s=hx(e),r=t||ux(e),o=e.ownerDocument;let a={top:0,left:0};if("fixed"!==i.position&&r!==o.body&&r!==o.documentElement){const e=n.getComputedStyle(r);a=hx(r),a.top+=parseInt(e.borderTopWidth,10),a.left+=parseInt(e.borderLeftWidth,10)}return{top:s.top-a.top,left:s.left-a.left,height:s.height,width:s.width}})(e,i),{x:l,y:c}=((e,t)=>e?fx(e):function(e){const t=ux(e);return t?fx(t):{x:0,y:0}}(t))(i,e),u=e.ownerDocument,h=i===u.body||i===u.documentElement?1:n;return{top:s+c*h,left:r+l*h,height:o,width:a}})(this.nativeElement(e),this.nativeElement(t),n):null}removeScroll(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}restrictToView(e){return(e=>{const{anchorRect:t,anchorAlign:n,elementRect:i,elementAlign:s,collisions:r,viewPort:o,margin:a={}}=e,{top:l,left:c,height:u,width:h}=i,{height:d,width:p}=o,f=a.horizontal||0,g=a.vertical||0;let m=0,v=0;const y="flip"===r.horizontal,b="flip"===r.vertical;"fit"===r.vertical&&(v+=gx(l,u,d)),"fit"===r.horizontal&&(m+=gx(c,h,p)),b&&(v+=mx({margin:g,offset:l,size:u,anchorSize:t.height,viewPortSize:d,anchorAlignPoint:n.vertical,elementAlignPoint:s.vertical})),y&&(m+=mx({margin:f,offset:c,size:h,anchorSize:t.width,viewPortSize:p,anchorAlignPoint:n.horizontal,elementAlignPoint:s.horizontal}));const w=y&&0!==m,C=b&&0!==v;return{flipped:w||C,flip:{horizontal:w,vertical:C},offset:{left:m,top:v}}})(e)}scrollPosition(e){return px(this.nativeElement(e))}scrollableParents(e){return(e=>{const t=[];if(!cb()||!Sx())return t;let n=e.parentElement;for(;n;)(xx.test(kx(n))||n.hasAttribute("data-scrollable"))&&t.push(n),n=n.parentElement;return t.push(window),t})(this.nativeElement(e))}stackingElementOffset(e){const t=this.getRelativeContextElement(e);return t?hx(t):null}stackingElementScroll(e){const t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!Ix())return null;let t=this.nativeElement(e).parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return cx(this.nativeElement(e))}zIndex(e,t){return((e,t)=>{if(!e||!cb()||!Sx())return null;const n=((e,t)=>{const n=dx(e);let i,s,r=t;for(;r&&(i=vx(r),s=n.reduce((e,t)=>e.concat(i.filter(e=>e===t)),[])[0],!s);)r=r.parentElement;return s})(e,t);if(!n)return null;const i=[e].concat(dx(e,n)).reduce((e,t)=>{const n=t.style.zIndex||window.getComputedStyle(t).zIndex,i=parseInt(n,10);return i>e?i:e},0);return i?i+1:null})(this.nativeElement(e),this.nativeElement(t))}zoomLevel(){return cb()&&Sx()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Dx=new Ve("Popup Document Scale");let Ax=(()=>{class e{constructor(e,t=1){this._dom=e,this.scale=t}alignElement(e){const{anchor:t,element:n,anchorAlign:i,elementAlign:s,margin:r,offset:o,positionMode:a}=e,l=this.scale||1,c="fixed"!==a&&this._dom.hasOffsetParent(n)?this.relativeRect(t,n,o,l):this.absoluteRect(t,n,o,l),u=_x(this._dom.offset(n),l);return this._dom.align({anchorAlign:i,anchorRect:c,elementAlign:s,elementRect:u,margin:r})}absoluteRect(e,t,n,i){const s=this.elementScrollPosition(e,t),r=Cx(this._dom.offset(e),n),o=2*i,a=this._dom.stackingElementScroll(t);1!==i&&a&&(a.x/=o,a.y/=o);const l=this._dom.stackingElementOffset(t);return 1!==i&&l&&(l.left/=o,l.top/=o),this._dom.removeScroll(this._dom.addScroll(((e,t)=>t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e)(_x(r,i),l),a),s)}elementScrollPosition(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}relativeRect(e,t,n,i){const s=Cx(this._dom.position(e,t,i),n);return _x(s,i)}}return e.\u0275fac=function(t){return new(t||e)(We(Fx),We(Dx,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Ox=(()=>{class e{constructor(e,t=1){this._dom=e,this.scale=t}positionElement(e){const{anchor:t,currentLocation:n,element:i,anchorAlign:s,elementAlign:r,collisions:o,margin:a}=e,l=this._dom,c=this.scale||1,u=l.offsetAtPoint(i,n),h=_x(u,c),d=_x(l.offset(t),c),p=Cx(d,n),f=e.viewPort||l.windowViewPort(i);f.width=f.width/c,f.height=f.height/c;const g=l.restrictToView({anchorAlign:s,anchorRect:p,collisions:o,elementAlign:r,elementRect:h,margin:a,viewPort:f}),m=l.addOffset(n,g.offset);return{flip:g.flip,flipped:g.flipped,offset:m}}}return e.\u0275fac=function(t){return new(t||e)(We(Fx),We(Dx,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Rx=(()=>{class e{constructor(e,t){this._dom=e,this._zone=t}subscribe(e){cb()&&this._zone.runOutsideAngular(()=>{this.subscription=lb(this._dom.getWindow(),"resize").pipe(ab(1e3/60)).subscribe(()=>e())})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return e.\u0275fac=function(t){return new(t||e)(We(Fx),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Px=(()=>{class e{constructor(e,t){this._dom=e,this._zone=t}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!cb()||!this.element)return;const t=this._dom.nativeElement(this.element),n=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const i=n.map(e=>lb(e,"scroll").pipe(ab(1e3/60)));this.subscription=$(...i).subscribe(i=>{const s=i.target,r=n.filter(e=>e===s).length>0,o=s===document,a=s===window;(r||o||a)&&e(this.isVisible(t,s))})})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isVisible(e,t){const n=this._dom.boundingOffset(e),i=this._dom.boundingOffset(t);return!(1<i.top-n.bottom||1<n.top-i.bottom||1<n.left-i.right||1<i.left-n.right)}}return e.\u0275fac=function(t){return new(t||e)(We(Fx),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Nx=function(){return{expand:e=>{const t="up"===e||"down"===e?"scaleY":"scaleX";let n;return n="down"===e?"top":"left"===e?"right":"right"===e?"left":"bottom",{start:{transform:t+"(0)",transformOrigin:n},end:{transform:t+"(1)"}}},slide:e=>{const t="left"===e||"right"===e?"translateX":"translateY";return{start:{transform:`${t}(${"right"===e||"down"===e?-100:100}%)`},end:{transform:t+"(0%)"}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})}}();let Lx=(()=>{class e{constructor(e){this.animationBuilder=e,this.start=new gc,this.end=new gc}play(e,t,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;const i=t.type||"slide",s=Nx[i];if(s){const i=s(this.getDirection(n,t));this.playStates(e,i,t)}else if(Si())throw new Error(`Unsupported animation type: "${i}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,t,n){this.stopPlayer();const i=n.duration||100,s=this.animationBuilder.build([Dd(t.start),Td(i+"ms ease-in",Dd(t.end))]),r=this.player=s.create(e);r.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),r.play()}getDirection(e,t){let n=t.direction||"down";return e.horizontal&&("left"===n?n="right":"right"===n&&(n="left")),e.vertical&&("down"===n?n="up":"up"===n&&(n="down")),n}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return e.\u0275fac=function(t){return new(t||e)(We(Id))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Mx={left:-1e4,top:0};let Vx=(()=>{class e{constructor(e,t,n,i,s,r,o,a,l){this.container=e,this._alignService=t,this.domService=n,this._positionService=i,this._resizeService=s,this._scrollableService=r,this.animationService=o,this._renderer=a,this._zone=l,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=Mx,this.anchorViewportLeave=new gc,this.close=new gc,this.open=new gc,this.positionChange=new gc,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(e.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=Mx,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.reposition(),this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=z(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",e.left+"px"),this.setContainerStyle("top",e.top+"px"),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}reposition(){if(!cb())return;const{flip:e,offset:t}=this.position();this.currentOffset&&!((e,t)=>{const{left:n,top:i}=e,{left:s,top:r}=t;return Math.abs(n-s)>=1||Math.abs(i-r)>=1})(this.currentOffset,t)||(this.currentOffset=t,db(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:t,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){const e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){const t=db(this.anchorViewportLeave);e||!t?this.reposition():t&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Ax),Ro(Fx),Ro(Ox),Ro(Rx),Ro(Px),Ro(Lx),Ro(Ja),Ro(ou))},e.\u0275cmp=pt({type:e,selectors:[["kendo-popup"]],viewQuery:function(e,t){var n;1&e&&(Tc(yx,!0),Tc(Eb,!0)),2&e&&(Ic(n=Rc())&&(t.contentContainer=n.first),Ic(n=Rc())&&(t.resizeSensor=n.first))},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[Ga([Ax,Lx,Fx,Ox,Rx,Px]),Pa],ngContentSelectors:wx,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,t){1&e&&(Jo(),Vo(0,"div",0,1),Xo(2),Ao(3,bx,0,0,"ng-template",2),Vo(4,"kendo-resize-sensor",3),$o("resize",(function(){return t.onResize()})),Ho(),Ho()),2&e&&(Lo("ngClass",t.popupClass),ms(3),Lo("ngTemplateOutlet",t.content)("ngIf",t.content),ms(1),Lo("rateLimit",100))},directives:[Rh,qh,Mh,Eb],encapsulation:2}),e})();const Hx=new Ve("Popup Container");let Bx=(()=>{class e{constructor(e,t,n,i){this.applicationRef=e,this.componentFactoryResolver=t,this.injector=n,this.container=i}get rootViewContainer(){const e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){const{component:t,nodes:n}=this.contentFrom(e.content),i=this.appendPopup(n,e.appendTo),s=i.instance;this.projectComponentInputs(i,e),i.changeDetectorRef.detectChanges(),t&&t.changeDetectorRef.detectChanges();const r=this.getComponentRootNode(i);return{close:()=>{var e;t&&t.destroy(),i.destroy(),(e=r)&&e.parentNode&&e.parentNode.removeChild(e)},content:t,popup:i,popupAnchorViewportLeave:s.anchorViewportLeave,popupClose:s.close,popupElement:r,popupOpen:s.open,popupPositionChange:s.positionChange}}appendPopup(e,t){const n=this.createComponent(Vx,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,t,n){const i=this.getComponentFactory(e);if(n)return n.createComponent(i,void 0,this.injector,t);{const e=i.create(this.injector,t);return this.applicationRef.attachView(e.hostView),e}}projectComponentInputs(e,t){return Object.getOwnPropertyNames(t).filter(e=>"content"!==e||t.content instanceof yl).map(n=>{e.instance[n]=t[n]}),e}contentFrom(e){if(!e||e instanceof yl)return{component:null,nodes:[[]]};const t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}}return e.\u0275fac=function(t){return new(t||e)(We(Iu),We($a),We(uo),We(Hx,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),zx=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[Bx],imports:[[$h,Ib]]}),e})();const jx=()=>"undefined"!=typeof window,Ux={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},Gx={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},qx={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},Kx={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},$x=(e,t,n)=>{for(let i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},Wx=jx()&&window.navigator?window.navigator.userAgent:null,Zx=Wx?(e=>{let t=null,n=[];for(let i in qx)if(qx.hasOwnProperty(i)&&(n=e.match(qx[i]),n)){t={},t[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t})(Wx):null,Yx=Wx?(e=>{let t,n=[];for(let i in Ux)if(Ux.hasOwnProperty(i)){if(n=e.match(Ux[i]),!n)continue;if("windows"===i&&"plugins"in window.navigator)return null;const s={};return s.device=i,s.browser=$x(e,Kx,"default"),s.name=$x(i,Gx),s[s.name]=!0,s.majorVersion=n[2],s.minorVersion=n[3]?n[3].replace("_","."):".0",t=s.minorVersion.replace(".","").substr(0,2),s.flatVersion=s.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),s.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,s.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||s.cordova,s}return null})(Wx):null,Qx=jx()&&"ontouchstart"in window,Jx=Zx&&!Zx.chrome&&window.MSPointerEvent,Xx=Zx&&!Zx.chrome&&window.PointerEvent,ek=Yx&&(Qx||Jx||Xx),tk=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,nk=function(){return{undefined:e=>e}}();function ik(e){return t=>t.lift(new sk(e))}class sk{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new rk(e,this.predicate))}}class rk extends f{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}const ok=["input"],ak=function(e,t){return{focus:e,blur:t}},lk=["content"],ck=["list"];function uk(e,t){}const hk=function(e,t){return{templateRef:e,$implicit:t}};function dk(e,t){if(1&e&&Ao(0,uk,0,0,"ng-template",9),2&e){const e=Yo(2);Lo("templateContext",nc(1,hk,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function pk(e,t){if(1&e&&(Vo(0,"strong"),Ca(1),Ho()),2&e){const e=Yo(2);ms(1),Sa(e.currentGroup)}}const fk=function(e){return{"k-virtual-item":e}},gk=function(e,t,n){return{"height.px":e,"minHeight.px":t,boxSizing:n}};function mk(e,t){if(1&e&&(Vo(0,"div",7),Ao(1,dk,1,4,void 0,5),Ao(2,pk,2,1,"ng-template",8),Ho()),2&e){const e=Yo();Lo("ngClass",tc(4,fk,e.virtual))("ngStyle",ic(6,gk,null==e.virtual?null:e.virtual.itemHeight,null==e.virtual?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),ms(1),Lo("ngIf",e.fixedGroupTemplate),ms(1),Lo("ngIf",!e.fixedGroupTemplate)}}function vk(e,t){}function yk(e,t){if(1&e&&Ao(0,vk,0,0,"ng-template",9),2&e){const e=Yo().$implicit,t=Yo(2);Lo("templateContext",nc(1,hk,t.template.templateRef,e))}}function bk(e,t){if(1&e&&Ca(0),2&e){const e=Yo().$implicit;Sa(Yo(2).getText(e))}}const wk=function(e,t){return{"k-virtual-item":e,"k-state-disabled":t}};function Ck(e,t){if(1&e&&(Vo(0,"li",11),Ao(1,yk,1,4,void 0,5),Ao(2,bk,1,1,"ng-template",8),Ho()),2&e){const e=t.$implicit,n=t.index,i=Yo(2);Lo("height",null==i.virtual?null:i.virtual.itemHeight)("index",n+i.startFrom)("multipleSelection",i.multipleSelection)("ngClass",nc(8,wk,i.virtual,i.isDisabled(n))),Fo("id",i.optionPrefix+"-"+i.getValue(e))("tabIndex",-1),ms(1),Lo("ngIf",i.template),ms(1),Lo("ngIf",!i.template)}}function Sk(e,t){1&e&&Ao(0,Ck,3,11,"ng-template",10),2&e&&Lo("ngForOf",Yo().data)}function xk(e,t){}function kk(e,t){if(1&e&&Ao(0,xk,0,0,"ng-template",9),2&e){const e=Yo(2).$implicit,t=Yo(2);Lo("templateContext",nc(1,hk,t.groupTemplate.templateRef,e.value))}}function Ek(e,t){if(1&e&&(Vo(0,"strong"),Ca(1),Ho()),2&e){const e=Yo(2).$implicit;ms(1),xa(" ",e.value,"")}}function Ik(e,t){if(1&e&&(Vo(0,"li",14),Ao(1,kk,1,4,void 0,5),Ao(2,Ek,2,1,"ng-template",8),Ho()),2&e){const e=Yo().$implicit,t=Yo(2);Lo("ngClass",tc(7,fk,t.virtual))("ngStyle",ic(9,gk,null==t.virtual?null:t.virtual.itemHeight,null==t.virtual?null:t.virtual.itemHeight,t.virtual?"border-box":"inherit")),Fo("group-index",e.index)("id",t.optionPrefix+"-"+t.getValue(e.value))("tabIndex",-1),ms(1),Lo("ngIf",t.groupTemplate),ms(1),Lo("ngIf",!t.groupTemplate)}}function _k(e,t){}function Tk(e,t){if(1&e&&Ao(0,_k,0,0,"ng-template",9),2&e){const e=Yo(2).$implicit,t=Yo(2);Lo("templateContext",nc(1,hk,t.template.templateRef,e.value))}}function Fk(e,t){if(1&e&&Ca(0),2&e){const e=Yo(2).$implicit;Sa(Yo(2).getText(e.value))}}function Dk(e,t){if(1&e&&(Vo(0,"li",11),Ao(1,Tk,1,4,void 0,5),Ao(2,Fk,1,1,"ng-template",8),Ho()),2&e){const e=Yo().$implicit,t=Yo(2);Lo("height",null==t.virtual?null:t.virtual.itemHeight)("index",e.offsetIndex)("multipleSelection",t.multipleSelection)("ngClass",nc(9,wk,t.virtual,t.isDisabled(e.offsetIndex))),Fo("absolute-index",e.index)("id",t.optionPrefix+"-"+t.getValue(e.value))("tabIndex",-1),ms(1),Lo("ngIf",t.template),ms(1),Lo("ngIf",!t.template)}}function Ak(e,t){if(1&e&&(Ao(0,Ik,3,13,"li",12),Ao(1,Dk,3,12,"li",13)),2&e){const e=t.$implicit;Lo("ngIf",e.header&&e.index>0),ms(1),Lo("ngIf",!e.header)}}function Ok(e,t){1&e&&Ao(0,Ak,2,2,"ng-template",10),2&e&&Lo("ngForOf",Yo().data)}function Rk(e,t){if(1&e&&(Vo(0,"div",15),Bo(1,"div"),Ho()),2&e){const e=Yo();ms(1),ca("height",e.scrollHeight,"px")}}const Pk=function(e,t){return{"k-virtual-content":e,"k-list-scroller":t}},Nk=function(e){return{"k-virtual-list":e}},Lk=["container"],Mk=["popupTemplate"],Vk=["optionsList"],Hk=["noDataText",$localize`:kendo.autocomplete.noDataText|The text displayed in the popup when there are no items␟4e9993e088a293543eb0c2801343518c115b6f20␟2690656529626907484:NO DATA FOUND`,"clearTitle",$localize`:kendo.autocomplete.clearTitle|The title of the clear button␟7cf49cc2d50eebd29f8d61564512383caaaac7a6␟4821453594854847070:clear`];function Bk(e,t){if(1&e){const e=Go();Vo(0,"span",8),$o("click",(function(t){return Qt(e),Yo().clearValue(t)}))("mousedown",(function(t){return Qt(e),t.preventDefault()})),Ho()}2&e&&Fo("title",Yo().clearTitle)}function zk(e,t){1&e&&Bo(0,"span",9)}function jk(e,t){}const Uk=function(e){return{templateRef:e}};function Gk(e,t){if(1&e&&Ao(0,jk,0,0,"ng-template",14),2&e){const e=Yo(2);Lo("templateContext",tc(1,Uk,e.headerTemplate.templateRef))}}function qk(e,t){}function Kk(e,t){if(1&e&&(Vo(0,"div"),Ca(1),Ho()),2&e){const e=Yo(3);ms(1),Sa(e.noDataText)}}function $k(e,t){if(1&e&&(Vo(0,"div",15),Ao(1,qk,0,0,"ng-template",16),Ao(2,Kk,2,1,"ng-template",6),Ho()),2&e){const e=Yo(2);ms(1),Lo("ngIf",e.noDataTemplate)("templateContext",tc(3,Uk,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),ms(1),Lo("ngIf",!e.noDataTemplate)}}function Wk(e,t){}function Zk(e,t){if(1&e&&Ao(0,Wk,0,0,"ng-template",14),2&e){const e=Yo(2);Lo("templateContext",tc(1,Uk,e.footerTemplate.templateRef))}}function Yk(e,t){if(1&e){const e=Go();Ao(0,Gk,1,3,void 0,10),Vo(1,"kendo-list",11,12),$o("pageChange",(function(t){return Qt(e),Yo().pageChange(t)})),Ho(),Ao(3,$k,3,5,"div",13),Ao(4,Zk,1,3,void 0,10)}if(2&e){const e=Yo();Lo("ngIf",e.headerTemplate),ms(1),Lo("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),ms(2),Lo("ngIf",0===e.data.length),ms(1),Lo("ngIf",e.footerTemplate)}}function Qk(e,t){if(1&e){const e=Go();Vo(0,"kendo-resize-sensor",17),$o("resize",(function(){return Qt(e),Yo().onResize()})),Ho()}}const Jk=["wrapper"];$localize`:kendo.combobox.noDataText|The text displayed in the popup when there are no items␟2b6e00c74a6d9c98c03a6274d0224e9bd457ff89␟7708502966028483300:NO DATA FOUND`,$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`;const Xk=["noDataText",$localize`:kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items␟4fc2f70c9c8cf7b18affd6b938105996d6ac3306␟8289552890585138350:NO DATA FOUND`];function eE(e,t){}function tE(e,t){if(1&e&&Ao(0,eE,0,0,"ng-template",10),2&e){const e=Yo();Lo("templateContext",nc(1,hk,e.valueTemplate.templateRef,e.dataItem))}}function nE(e,t){1&e&&Ca(0),2&e&&Sa(Yo().getText())}function iE(e,t){if(1&e){const e=Go();Vo(0,"span",14),$o("click",(function(t){return Qt(e),t.stopImmediatePropagation()})),Vo(1,"input",15),$o("ngModelChange",(function(t){return Qt(e),Yo(2).filterText=t}))("keydown",(function(t){return Qt(e),Yo(2).keydown(t)}))("input",(function(t){return Qt(e),Yo(2).handleFilter(t)}))("focus",(function(){return Qt(e),Yo(2).onFilterFocus()}))("blur",(function(){return Qt(e),Yo(2).blurFilterInput()})),Ho(),Bo(2,"span",16),Ho()}if(2&e){const e=Yo(2);ms(1),Lo("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction)("ngModel",e.filterText),Fo("aria-owns",e.ariaOwns)("aria-activedescendant",e.ariaActivedescendant)("aria-label",e.noDataLabel)}}const sE=function(e){return{"k-state-disabled":e}};function rE(e,t){if(1&e&&(Vo(0,"div",17),Ca(1),Ho()),2&e){const e=Yo(2);Lo("ngClass",tc(3,sE,e.isDisabledDefaultItem))("index",-1),ms(1),xa(" ",e.getDefaultItemText()," ")}}function oE(e,t){}function aE(e,t){if(1&e&&(Vo(0,"div",17),Ao(1,oE,0,0,"ng-template",10),Ho()),2&e){const e=Yo(2);Lo("ngClass",tc(3,sE,e.isDisabledDefaultItem))("index",-1),ms(1),Lo("templateContext",nc(5,hk,e.itemTemplate.templateRef,e.defaultItem))}}function lE(e,t){}function cE(e,t){if(1&e&&Ao(0,lE,0,0,"ng-template",10),2&e){const e=Yo(2);Lo("templateContext",tc(1,Uk,e.headerTemplate.templateRef))}}function uE(e,t){}function hE(e,t){if(1&e&&(Vo(0,"div"),Ca(1),Ho()),2&e){const e=Yo(3);ms(1),Sa(e.noDataText)}}function dE(e,t){if(1&e&&(Vo(0,"div",18),Ao(1,uE,0,0,"ng-template",19),Ao(2,hE,2,1,"ng-template",5),Ho()),2&e){const e=Yo(2);ms(1),Lo("ngIf",e.noDataTemplate)("templateContext",tc(3,Uk,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),ms(1),Lo("ngIf",!e.noDataTemplate)}}function pE(e,t){}function fE(e,t){if(1&e&&Ao(0,pE,0,0,"ng-template",10),2&e){const e=Yo(2);Lo("templateContext",tc(1,Uk,e.footerTemplate.templateRef))}}function gE(e,t){if(1&e){const e=Go();Ao(0,iE,3,6,"ng-template",5),Ao(1,rE,2,5,"ng-template",5),Ao(2,aE,2,8,"ng-template",5),Ao(3,cE,1,3,void 0,4),Vo(4,"kendo-list",11,12),$o("pageChange",(function(t){return Qt(e),Yo().pageChange(t)})),Ho(),Ao(6,dE,3,5,"div",13),Ao(7,fE,1,3,void 0,4)}if(2&e){const e=Yo();Lo("ngIf",e.filterable),ms(1),Lo("ngIf",e.defaultItem&&!e.itemTemplate),ms(1),Lo("ngIf",e.defaultItem&&e.itemTemplate),ms(1),Lo("ngIf",e.headerTemplate),ms(1),Lo("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),ms(2),Lo("ngIf",0===e.data.length),ms(1),Lo("ngIf",e.footerTemplate)}}function mE(e,t){if(1&e){const e=Go();Vo(0,"kendo-resize-sensor",20),$o("resize",(function(){return Qt(e),Yo().onResize()})),Ho()}}const vE=function(e,t){return{"k-dropdown-wrap":!0,"k-state-default":e,"k-state-disabled":t}};$localize`:kendo.multiselect.noDataText|The text displayed in the popup when there are no items␟3cc1323f79a5fe012960578e513f8a35b2af1e96␟1450213984397806503:NO DATA FOUND`,$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`;const yE=e=>null!=e,bE=()=>{let e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},wE=(e,t,n=!1)=>{if(yE(e))return n?t&&yE(e[t])?e[t]:e:t?e[t]:e},CE=(e,t,n)=>{if(!yE(e))return!1;let i=String(e);return n&&(i=i.toLowerCase()),0===i.indexOf(t)},SE=e=>e.className.includes("ng-untouched"),xE=e=>{};let kE=(()=>{class e{constructor(e,t){this.localization=e,this.valueChange=new gc,this.onBlur=new gc,this.onFocus=new gc,this.onClick=new gc,this.onNavigate=new gc,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=e.rtl?"rtl":"ltr",this.renderer=t}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get value(){return this.input.nativeElement.value}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngOnChanges(e){let t;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;const s=this.input.nativeElement.selectionStart,r=t.length===s;this.writeInputValue(this.suggestedText?(n=this.userInput).concat((i=this.suggestedText).substr(i.toLowerCase().indexOf(n.toLowerCase())+n.length)):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):r?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(s,s),this._previousValue=this.userInput}var n,i}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}writeInputValue(e){cb()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,t){if(cb()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(n){}}handleInput(e){const t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){[Tb.ArrowUp,Tb.ArrowDown,Tb.ArrowLeft,Tb.ArrowRight,Tb.Enter,Tb.Escape,Tb.Delete,Tb.Backspace,Tb.Home,Tb.End].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}focus(){cb()&&this.input.nativeElement.focus()}blur(){cb()&&this.input.nativeElement.blur()}setInputSize(){const e=e=>e?e.length:0,t=this.input.nativeElement,n=e(this.placeholder),i=e(this.value),s=Math.max(n,i,1);this.renderer.setAttribute(t,"size",s.toString())}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){var n;1&e&&_c(ok,!0),2&e&&Ic(n=Rc())&&(t.input=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-searchbar",t.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[Pa],decls:2,vars:21,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope","input","keydown"],["input",""]],template:function(e,t){1&e&&(Vo(0,"input",0,1),$o("input",(function(e){return t.handleInput(e)}))("keydown",(function(e){return t.handleKeydown(e)})),Ho()),2&e&&(function(e,t,n,i){const s=Yt(),r=ln(2);s.firstUpdatePass&&fa(s,null,r,!0);const o=Zt();if(n!==hs&&Eo(o,r,n)){const i=s.data[wn()+20];if(wa(i,!0)&&!pa(s,r)){let e=i.classesWithoutHost;null!==e&&(n=Ce(e,n||"")),Mo(s,i,o,n,!0)}else!function(e,t,n,i,s,r,o,a){s===hs&&(s=na);let l=0,c=0,u=0<s.length?s[0]:null,h=0<r.length?r[0]:null;for(;null!==u||null!==h;){const o=l<s.length?s[l+1]:void 0,d=c<r.length?r[c+1]:void 0;let p=null,f=void 0;u===h?(l+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(l+=2,p=u):(c+=2,p=h,f=d),null!==p&&va(e,t,n,i,p,f,!0,a),u=l<s.length?s[l]:null,h=c<r.length?r[c]:null}}(s,i,o,o[11],o[r+1],o[r+1]=function(e,t,n){if(null==n||""===n)return na;const i=[],s=vi(n);if(Array.isArray(s))for(let r=0;r<s.length;r++)e(i,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&e(i,r,s[r]);else"string"==typeof s&&t(i,s);return i}(e,t,n),0,r)}}(rt,ha,"k-input"),Lo("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",nc(18,ak,t.handleFocus,t.handleBlur))("scope",t),Fo("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.popupOpen)("aria-owns",t.listId)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-label",t.noDataLabel))},directives:[mb],encapsulation:2}),e})(),EE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),e})(),IE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""]]}),e})(),_E=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""]]}),e})(),TE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),e})(),FE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),e})(),DE=(()=>{class e{constructor(){this.onSelect=new gc,this.onChange=new gc,this.onFocus=new gc,this.total=0,this.selectedIndices=[]}getTotal(){return this.total}isSelected(e){return yE(this.selectedIndices.find(t=>t===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:yE(e)}))}add(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}unselect(e){if(!this.isSelected(e))return;const t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}change(e){const t=yE(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();var AE=function(e){return e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Enter=3]="Enter",e[e.Tab=4]="Tab",e[e.Esc=5]="Esc",e[e.Delete=6]="Delete",e[e.Backspace=7]="Backspace",e[e.Home=8]="Home",e[e.End=9]="End",e[e.Up=10]="Up",e[e.Down=11]="Down",e[e.Left=12]="Left",e[e.Right=13]="Right",e}({});let OE=(()=>{class e{constructor(){this.grouped=!1,this.groupIndices=[]}set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return yE(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(e=>!e.header):this.data).length:0}isGrouped(e){return yE(e)&&0!==e.length&&yE(e[0])&&(n=["aggregates","field","items","value"],!!yE(t=e[0])&&n.every(e=>t.hasOwnProperty(e)));var t,n}getGroupIndices(e){let t=[];for(let n=0;n<=e.length-1;n++)t[n]=(t[n-1]||0)+e[n].items.length;return t}filter(e){let t=[];if(this.isGrouped(this.data))for(let n=0;n<=this.groupIndices.length-1;n++){const i=this.data[n].items.filter(e);i&&(t=t.concat(i))}else t=this.data.filter(e);return t}indexOf(e,t=0){let n=t=>t===e;return this.grouped&&(n=t=>t.value===e),this.findIndex(n,t)}findIndex(e,t=0){let n=-1;if(this.grouped){const i=this._flatData.filter(e=>!e.header&&e.offsetIndex>=t);n=i.findIndex(e),n=i[n]?i[n].offsetIndex:-1}else{const i=this.data.slice(t).findIndex(e);n=-1!==i?i+t:-1}return n}closestGroup(e){for(let t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}find(e){const t=this.findIndex(e);return this.itemAt(t)}flatIndex(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;{const t=this._flatData.find(t=>!t.header&&t.offsetIndex===e);if(t)return t.index}return-1}itemAt(e){let t;if(0===this.itemsCount)return t;if(this.grouped){const n=this._flatData.find(t=>!t.header&&t.offsetIndex===e);n&&(t=n.value)}else t=this.data[e];return t}groupAt(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(t=>t.header&&t.index===e)}groupField(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}itemGroup(e){if(!e||0===this.itemsCount||!this.isGrouped)return;const t=this.groupField();return t?e[t]:void 0}flatten(e,t,n=0,i=0){let s=[];yE(t)&&s.push({header:!0,index:i+n,offsetIndex:i,value:t});for(let r=0;r<e.length;r++){let t=[];e[r].items?(t=this.flatten(e[r].items,e[r].value,n,r),n+=e[r].items.length):t.push({header:!1,index:i+n+r+1,offsetIndex:n+r,value:e[r]}),s=s.concat(t)}return s}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),RE=(()=>{class e{constructor(e){this.dataService=e,this.itemDisabled=null}isIndexDisabled(e){if(this.itemDisabled){const t=this.dataService.itemAt(e);if(yE(t))return this.itemDisabled({dataItem:t,index:e});if(yE(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){const t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(yE(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}return e.\u0275fac=function(t){return new(t||e)(We(OE))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class PE{constructor(e,t){this.index=e,this.originalEvent=t}}let NE=(()=>{class e{constructor(e,t){this.disabledItemsService=e,this.selectionService=t,this.open=new gc,this.close=new gc,this.enter=new gc,this.tab=new gc,this.esc=new gc,this.up=new gc,this.right=new gc,this.down=new gc,this.left=new gc,this.delete=new gc,this.backspace=new gc,this.home=new gc,this.end=new gc}process(e){const t=e.originalEvent.keyCode,n=e.originalEvent.altKey;let i,s=AE.Undefined;n&&t===Tb.ArrowDown?s=AE.Open:n&&t===Tb.ArrowUp?s=AE.Close:t===Tb.Enter?s=AE.Enter:t===Tb.Escape?s=AE.Esc:t===Tb.Tab?s=AE.Tab:t===Tb.ArrowUp?(i=this.next({current:e.current,start:e.min,end:e.max,step:-1}),s=AE.Up):t===Tb.ArrowLeft?(i=this.next({current:e.current,start:e.min,end:e.max,step:-1}),s=AE.Left):t===Tb.ArrowDown?(i=this.next({current:e.current,start:e.min,end:e.max,step:1}),s=AE.Down):t===Tb.ArrowRight?(i=this.next({current:e.current,start:e.min,end:e.max,step:1}),s=AE.Right):t===Tb.Home?(i=this.isDisabled(0)?e.current:0,s=AE.Home):t===Tb.End?(i=this.isDisabled(e.max)?e.current:e.max,s=AE.End):t===Tb.Delete?s=AE.Delete:t===Tb.Backspace&&(s=AE.Backspace);const r=new PE(i,e.originalEvent);return s!==AE.Undefined&&this[AE[s].toLowerCase()].emit(r),s}next(e){const{current:t,start:n,end:i,step:s}=e,r=yE(t)?this.clampIndex(t+s,n,i):n,o=this.firstFocusableIndex(r,n,i,s);return yE(o)?o:this.selectionService.isSelected(t)&&t>=n?t:this.firstFocusableIndex(r,n,i,-1*s)}clampIndex(e,t,n){return!yE(e)||e<t?t:e>n?n:e}firstFocusableIndex(e,t,n,i){for(;t<=e&&e<=n;){if(!this.isDisabled(e))return e;e+=i}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}return e.\u0275fac=function(t){return new(t||e)(We(RE),We(DE))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),LE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""]]}),e})();class ME{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class VE{}let HE=(()=>{class e{constructor(e){this.element=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa))},e.\u0275dir=bt({type:e,selectors:[["li","role","option"],["li","role","group"]]}),e})(),BE=(()=>{class e{constructor(e,t,n,i,s,r,o){this.dataService=e,this.wrapper=t,this.selectionService=n,this.disabledItemsService=i,this.cdr=s,this.zone=r,this.renderer=o,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new gc,this.pageChange=new gc,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=$(this.selectionService.onSelect.pipe(M(e=>e.indices[0])),this.selectionService.onFocus).pipe(Ng(e=>this.zone.onStable.pipe(Fg(1),M(()=>e)))).subscribe(this.scrollToItem.bind(this))}set data(e){this._data=e[0]&&e[0].header?e.slice(0):e}get data(){return this._data}set items(e){this._items=e}get items(){return this._items}get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}ngOnChanges(e){ub("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.scrollSubscription=lb(this.content.nativeElement,"scroll").pipe(ab(100),Gg(this.prefetchData.bind(this)),Gg(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})})}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}firstVisibleItem(){const e=this.content.nativeElement,t=e.getBoundingClientRect(),n=Array.prototype.slice.call(e.querySelectorAll(".k-state-disabled"));n.forEach(e=>this.renderer.setStyle(e,"pointer-events","auto"));const i=document.elementFromPoint(t.left+1,t.top+1);return n.forEach(e=>this.renderer.setStyle(e,"pointer-events","none")),i}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const e=this.firstVisibleItem();if(e){let t;"group"===e.getAttribute("role")?(t=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(t).value):(t=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(t)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,n=Math.trunc(t/this.virtual.itemHeight),i=t>this.lastScrollTop,s=this.lastLoaded-this.pageSize+e>=n-(this.pageSize-(this.lastLoaded-this.startFrom));i&&n+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(n),!i&&s&&this.changePage(n-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let t=this.pageSize+e;t>this.virtual.total&&(e--,t=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=t,this.pageChange.emit({skip:e,take:this.pageSize})})}index(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}getText(e){return wE(e,this.textField)}getValue(e){return wE(e,this.valueField)}isDisabled(e){return yE(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}scrollToItem(e){let t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0),this.virtual&&t>-1)return void this.scrollToIndex(t);const n=this.items.toArray();yE(n[t])&&-1!==t&&this.scroll(n[t].element)}scrollToIndex(e){let t=this.content.nativeElement,n=t.scrollTop;const i=e*this.virtual.itemHeight,s=t.clientHeight,r=i+this.virtual.itemHeight;n>i?n=i:r>n+s&&(n=r-s),t.scrollTop=n}scroll(e){if(!e)return;const t=e.nativeElement;let n=this.content.nativeElement,i=t.offsetTop,s=n.scrollTop,r=n.clientHeight,o=i+t.offsetHeight;s>i?s=i:o>s+r&&(s=o-r),n.scrollTop=s}positionItems(){this.items.forEach((e,t)=>{this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${(t+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(e){return!yE(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}}return e.\u0275fac=function(t){return new(t||e)(Ro(OE),Ro(Wa),Ro(DE),Ro(RE),Ro(Wr),Ro(ou),Ro(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-list"]],viewQuery:function(e,t){var n;1&e&&(Tc(lk,!0),Tc(ck,!0),Tc(HE,!0)),2&e&&(Ic(n=Rc())&&(t.content=n.first),Ic(n=Rc())&&(t.list=n.first),Ic(n=Rc())&&(t.items=n))},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange"},features:[Pa],decls:8,vars:15,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",1,"k-list","k-reset",3,"ngClass"],["list",""],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","presentation",1,"k-height-container"]],template:function(e,t){1&e&&(Ao(0,mk,3,10,"div",0),Vo(1,"div",1,2),Vo(3,"ul",3,4),Ao(5,Sk,1,1,void 0,5),Ao(6,Ok,1,1,void 0,5),Ho(),Ao(7,Rk,2,2,"div",6),Ho()),2&e&&(Lo("ngIf",t.dataService.grouped),ms(1),ca("max-height",t.height,"px"),Lo("ngClass",nc(10,Pk,t.virtual,!t.virtual)),ms(2),Lo("ngClass",tc(13,Nk,t.virtual)),Fo("id",t.id)("aria-hidden",!t.show),ms(2),Lo("ngIf",!t.dataService.grouped&&t.show),ms(1),Lo("ngIf",t.dataService.grouped),ms(1),Lo("ngIf",t.virtual))},directives:function(){return[Mh,Rh,Gh,ZE,Nh,HE,YE]},encapsulation:2}),e})();const zE={pageSize:50,itemHeight:28},jE=e=>!0===e?zE:e?Object.assign({pageSize:zE.pageSize},e):null,UE={multi:!0,provide:fw,useExisting:xe(()=>GE)};let GE=(()=>{class e{constructor(e,t,n,i,s,r,o,a,l,c){this.localization=e,this.dataService=t,this.popupService=n,this.selectionService=i,this.navigationService=s,this.disabledItemsService=r,this._zone=o,this.cdr=a,this.renderer=l,this.highlightFirst=!0,this.focusableId="k-"+bE(),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new gc,this.filterChange=new gc,this.open=new gc,this.close=new gc,this.onFocus=new gc,this.onBlur=new gc,this.widgetClasses=!0,this.listBoxId=bE(),this.optionPrefix=bE(),this.onChangeCallback=xE,this.onTouchedCallback=xE,this.popupMouseDownHandler=e=>e.preventDefault(),this._popupSettings={animate:!0},this._open=!1,this._value="",this.valueChangeSubject=new E,this._isFocused=!1,this.direction=e.rtl?"rtl":"ltr",this.wrapper=c.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}get width(){let e=0;cb()&&(e=this.wrapper.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return yE(e)?e+"px":"auto"}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get suggestion(){if(!this.text||!this.suggestedText)return void(this.suggestedText=void 0);const e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}toggle(e){Promise.resolve(null).then(()=>{const t=yE(e)?e:!this._open;this._toggle(t)})}get isOpen(){return this._open}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!yE(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+wE(e,this.valueField)}get noDataLabel(){if(0===this.data.length)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=wE(this.dataService.itemAt(0),this.valueField))}get data(){const e=this.virtual;if(e){const t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}set value(e){this.verifySettings(e),this._value=e||"",this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||""}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=jE(e)}get virtual(){return this._virtualSettings}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-state-focused"),this._isFocused=e}get isDisabled(){return this.disabled}get dir(){return this.direction}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize})}reset(){this.value=""}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:n}=this.width;e.style.minWidth=t,e.style.width=n}}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}verifySettings(e){if(Si()&&yE(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(e,t=0){let n;n=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,this.disabledItemsService.isIndexDisabled(n)?n+1<this.dataService.itemsCount?this.search(e,n+1):this.selectionService.focus(-1):(this.selectionService.focus(n),this.suggest&&(this.suggestedText=wE(this.dataService.itemAt(n),this.valueField)))}navigate(e){this.isOpen&&this.selectionService.focus(e)}handleNavigate(e){const t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(t))return;const n=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});n!==AE.Undefined&&n!==AE.Backspace&&n!==AE.Delete&&n!==AE.Home&&n!==AE.End&&n!==AE.Left&&n!==AE.Right&&(n===AE.Enter&&this.isOpen||n!==AE.Enter)&&e.preventDefault()}handleEnter(e){const t=this.selectionService.focused;let n;if(this.isOpen&&e.originalEvent.preventDefault(),t>=0)n=wE(this.dataService.itemAt(t),this.valueField);else{const e=this.suggest&&this.suggestedText&&this.data.length&&wE(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();n=this.isOpen&&e?this.suggestedText:this.searchbar.value}this.change(n)}handleEscape(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(e){const t=yE(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}handleFocus(){this.isFocused=!0,db(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})}handleBlur(){const e=this.filterable?this.selectionService.focused:-1;let t,n;this.searchbar.input.nativeElement.scrollLeft=0,-1!==e?(t=this.dataService.itemAt(e),n=wE(t,this.valueField,!0)||""):n=this.searchbar.value;const i=n===this.searchbar.value,s=n.toLowerCase()===this.searchbar.value.toLowerCase();!i&&s&&this.selectionService.resetSelection([]),this.isFocused=!1;const r=this.value!==this.text;db(this.onBlur)||db(this.close)||SE(this.wrapper)||r?this._zone.run(()=>{r&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}pageChange(e){this.virtual.skip=e.skip}change(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}subscribeEvents(){cb()&&(this.valueChangeSubscription=this.valueChangeSubject.subscribe(e=>{const t=this.value!==e;this.value=e,this.text=e,t&&this.emitChange(e)}),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=$(this.navigationService.up,this.navigationService.down).subscribe(e=>this.navigate(e.index)),this.closeSubscription=this.navigationService.close.subscribe(()=>this.togglePopup(!1)),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}unsubscribeEvents(){cb()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())}handleItemChange(e){const t=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!yE(t))return;let n=wE(this.dataService.itemAt(t),this.valueField);this.change(n)}handleItemFocus(e){const t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=wE(this.dataService.itemAt(t),this.valueField))}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:e,vertical:"top"},anchorAlign:{horizontal:e,vertical:"bottom"}});const t=this.popupRef.popupElement,{min:n,max:i}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=n,t.style.width=i,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new ME;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}firstFocusableIndex(e){const t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let n=wE(t.value,this.valueField);return n=yE(n)?n.toString().toLowerCase():"",n.startsWith(e.toLowerCase())}:t=>{let n=wE(t,this.valueField);return n=yE(n)?n.toString().toLowerCase():"",n.startsWith(e.toLowerCase())}}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(OE),Ro(Bx),Ro(DE),Ro(NE),Ro(RE),Ro(ou),Ro(Wr),Ro(Ja),Ro(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,n){var i;1&e&&(Dc(n,EE,!0),Dc(n,IE,!0),Dc(n,_E,!0),Dc(n,LE,!0),Dc(n,TE,!0),Dc(n,FE,!0)),2&e&&(Ic(i=Rc())&&(t.template=i.first),Ic(i=Rc())&&(t.headerTemplate=i.first),Ic(i=Rc())&&(t.footerTemplate=i.first),Ic(i=Rc())&&(t.noDataTemplate=i.first),Ic(i=Rc())&&(t.groupTemplate=i.first),Ic(i=Rc())&&(t.fixedGroupTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(Tc(Lk,!0,wl),Tc(Mk,!0),Tc(kE,!0),Tc(Vk,!0)),2&e&&(Ic(n=Rc())&&(t.container=n.first),Ic(n=Rc())&&(t.popupTemplate=n.first),Ic(n=Rc())&&(t.searchbar=n.first),Ic(n=Rc())&&(t.optionsList=n.first))},hostVars:9,hostBindings:function(e,t){2&e&&(Fo("dir",t.dir),ua("k-widget",t.widgetClasses)("k-autocomplete",t.widgetClasses)("k-header",t.widgetClasses)("k-state-disabled",t.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[Ga([UE,OE,DE,NE,RE,jb,{provide:zb,useValue:"kendo.autocomplete"},{provide:VE,useExisting:xe(()=>e)},{provide:_b,useExisting:xe(()=>e)}]),Pa],decls:11,vars:15,consts:[["kendoAutoCompleteLocalizedMessages","",6,"noDataText","clearTitle"],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,Hk),jo(),Vo(2,"kendo-searchbar",1,2),$o("onNavigate",(function(e){return t.handleNavigate(e)}))("valueChange",(function(e){return t.searchBarChange(e)}))("onBlur",(function(){return t.handleBlur()}))("onFocus",(function(){return t.handleFocus()})),Ho(),Ao(4,Bk,1,1,"span",3),Ao(5,zk,1,0,"span",4),Ao(6,Yk,5,14,"ng-template",null,5,Mc),Ao(8,Qk,1,0,"ng-template",6),Uo(9,null,7)),2&e&&(ms(2),Lo("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),ms(2),Lo("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),ms(1),Lo("ngIf",t.loading),ms(3),Lo("ngIf",t.isOpen))},directives:function(){return[XE,kE,Mh,BE,ZE,Eb]},encapsulation:2}),e})();const qE=new Ve("dropdowns-touch-enabled");let KE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListValueTemplate",""]]}),e})();const $E={multi:!0,provide:fw,useExisting:xe(()=>WE)};let WE=(()=>{class e{constructor(e,t,n,i,s,r,o,a,l,c,u){this.localization=e,this.popupService=t,this.selectionService=n,this.navigationService=i,this.disabledItemsService=s,this.dataService=r,this._zone=o,this.renderer=a,this.hostElement=l,this.cdr=c,this.touchEnabled=u,this.focusableId="k-"+bE(),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new gc,this.filterChange=new gc,this.selectionChange=new gc,this.open=new gc,this.close=new gc,this.onFocus=new gc,this.onBlur=new gc,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=bE(),this.optionPrefix=bE(),this.filterText="",this._isFocused=!1,this.onTouchedCallback=e=>{},this.onChangeCallback=e=>{},this.word="",this.last="",this.filterFocused=new gc,this.filterBlurred=new gc,this.wrapperFocused=new gc,this.wrapperBlurred=new gc,this.selectionSubscription=new h,this._open=!1,this._popupSettings={animate:!0},this.direction=e.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}get width(){const e=cb()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return yE(e)?e+"px":"auto"}get widgetTabIndex(){if(this.disabled)return;const e=Number(this.tabIndex);return isNaN(e)?0:e}get ariaExpanded(){return this.isOpen}get ariaOwns(){if(this.isOpen)return this.listBoxId}get ariaActivedescendant(){if(yE(this.dataItem))return this.optionPrefix+"-"+wE(this.dataItem,this.valueField)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const e=this.virtual;if(e){const t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data}set value(e){yE(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set virtual(e){this._virtualSettings=jE(e)}get virtual(){return this._virtualSettings}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return yE(this._valuePrimitive)?this._valuePrimitive:!yE(this.valueField)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}blurComponent(){this.wrapperBlurred.emit()}blurFilterInput(){this.filterBlurred.emit()}focusComponent(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,db(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}))}keydown(e){const t=yE(this.defaultItem)?-1:0;let n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,i=0;if(this.disabled||this.readonly)return;if(this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===Tb.Home||e.keyCode===Tb.End))return;const s=yE(this.selectionService.selected[0]),r=yE(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);s&&!r||(e.keyCode===Tb.ArrowDown||e.keyCode===Tb.ArrowRight?i=-1:e.keyCode!==Tb.ArrowUp&&e.keyCode!==Tb.ArrowLeft||(i=1));const o=e,a=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:o});a===AE.Undefined||a===AE.Tab||a===AE.Backspace||a===AE.Delete||(a===AE.Left||a===AE.Right)&&this.filterable||a===AE.Enter||o.preventDefault()}keypress(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}click(e){e.preventDefault(),this.focus(),this.togglePopup(!this.isOpen)}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:n}=this.width;e.style.minWidth=t,e.style.width=n}}get dir(){return this.direction}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e}get isFocused(){return this._isFocused}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages(),this.assignAriaDescribedBy()}isEmpty(){const e=this.value;return!(0===e||!1===e||e||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),ub("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),hb(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}toggle(e){Promise.resolve(null).then(()=>{const t=yE(e)?e:!this._open;this._toggle(t)})}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new ME;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}get isOpen(){return this._open}reset(){this.value=void 0}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return wE(this.defaultItem,this.textField)}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const t=this.popupRef.popupElement,{min:n,max:i}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=n,t.style.width=i,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=this.prop(this.textField,this.valuePrimitive)(e),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const t=!yE(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}onSelectionChange({dataItem:e}){this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy()}subscribeEvents(){cb()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(hg(e=>this.isOpen),M(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add($(this.selectionService.onSelect.pipe(hg(e=>!this.isOpen)),this.selectionService.onChange).pipe(M(this.itemFromEvent.bind(this)),Gg(e=>this.togglePopup(!1))).subscribe(({dataItem:e,value:t,newSelection:n})=>{n&&this.onSelectionChange({dataItem:e});const i=!yE(e)&&this._previousDataItem,s=t!==this.prop(this.valueField,this.valuePrimitive)(this.value);i?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):s&&(this.value=this.valuePrimitive?t:e,this._previousDataItem=e,this.emitChange(this.value)),this.clearFilter()})),this.navigationSubscription=$(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(ik(()=>this.filterable)),this.navigationService.right.pipe(ik(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(hg(e=>!isNaN(e.index))).subscribe(e=>this.selectionService.select(e.index)),this.openSubscription=this.navigationService.open.subscribe(()=>this.togglePopup(!0)),this.closeSubscription=this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()}),this.enterSubscription=this.navigationService.enter.pipe(Gg(e=>e.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(jg(()=>Fb(10).pipe(Fg(1),Ub(this.wrapperFocused)))).subscribe(()=>{this.wrapperBlurred.emit()}),this._zone.runOutsideAngular(()=>{this.componentBlurredSubscription=$(this.wrapperBlurred.pipe(jg(()=>Fb(10).pipe(Fg(1),Ub(this.filterFocused)))),this.navigationService.tab).pipe(Gg(e=>e instanceof PE&&this.focus()),hg(()=>this.isFocused)).subscribe(()=>this.componentBlur())}))}unsubscribeEvents(){cb()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}itemFromEvent(e){const t=e.indices[0];let n=this.dataService.itemAt(t);n=yE(n)?n:this.currentOrDefault(t);const i=this.prop(this.valueField,this.valuePrimitive)(n);return{dataItem:n,index:t,newSelection:e.newSelection,value:i}}currentOrDefault(e){return yE(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}firstFocusableIndex(e){const t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){yE(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if(Si()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&yE(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&yE(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!yE(this.valueField)!=!yE(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}componentBlur(){this.isFocused=!1;const e=this.prop(this.valueField,this.valuePrimitive),t=yE(this.selectionService.selected[0])&&e(this.value)!==e(this.dataService.itemAt(this.selectionService.selected[0]));t||db(this.close)||db(this.onBlur)||db(this.filterChange)||SE(this.hostElement.nativeElement)?this._zone.run(()=>{t&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):this.togglePopup(!1)}onMouseDown(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}onKeyPress(e){if(0===e.which||e.keyCode===Tb.Enter)return;let t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let e=this.dataService.filter(e=>yE(e)&&!e.header&&!this.disabledItemsService.isItemDisabled(e)).map(e=>this.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:this.dataService.indexOf(e)});const t=((e,t)=>{for(let n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0})(this.word,this.last);let n,i,s,r=e.length,o=!isNaN(this.selectionService.selected[0]),a=o?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(s={item:this.defaultItem,itemIndex:-1},r+=1,a+=1),a+=t&&o?1:0,e=((e,t,n)=>{let i=e;return n&&(i=[n].concat(i)),i.slice(t).concat(i.slice(0,t))})(e,a,s),i=0;i<r;i++){n=wE(e[i].item,this.textField);const s=Boolean(t&&CE(n,this.last,this.ignoreCase)),r=Boolean(CE(n,this.word,this.ignoreCase));if(s||r){i=e[i].itemIndex;break}}i!==r&&this.navigate(i)}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}navigate(e){this.selectionService.select(e)}prop(e,t){return n=>{return yE(n)?t?e&&yE(i=n)&&"object"==typeof i?n[e]:n:n[e]:null;var i}}findDataItem({primitive:e,valueField:t,value:n}){const i={dataItem:null,index:-1},s=this.prop(t,e);let r;r=this.dataService.grouped?e=>s(e.value)===s(n):e=>s(e)===s(n);const o=this.dataService.findIndex(r);return i.dataItem=this.dataService.itemAt(o),i.index=o,i}setState(){const e=this.value,t=this.valueField,n=this.textField,i=this.valuePrimitive;if(this.defaultItem){const n=this.prop(t,i)(this.defaultItem),s=this.prop(t,i)(e);if(!yE(e)||s===n)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const s=this.findDataItem({primitive:i,valueField:t,value:e}),r=!(i&&n);s.dataItem?(this.updateState({dataItem:s.dataItem,confirm:!0}),this.resetSelection(s.index)):yE(e)&&r?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(e){this.filterChange.emit(e.target.value)}pageChange(e){this.virtual.skip=e.skip}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}assignAriaDescribedBy(){const e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=bE();const t=`${this.valueLabelId} ${e}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Bx),Ro(DE),Ro(NE),Ro(RE),Ro(OE),Ro(ou),Ro(Ja),Ro(Wa),Ro(Wr),Ro(qE,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,n){var i;1&e&&(Dc(n,EE,!0),Dc(n,TE,!0),Dc(n,FE,!0),Dc(n,KE,!0),Dc(n,IE,!0),Dc(n,_E,!0),Dc(n,LE,!0)),2&e&&(Ic(i=Rc())&&(t.itemTemplate=i.first),Ic(i=Rc())&&(t.groupTemplate=i.first),Ic(i=Rc())&&(t.fixedGroupTemplate=i.first),Ic(i=Rc())&&(t.valueTemplate=i.first),Ic(i=Rc())&&(t.headerTemplate=i.first),Ic(i=Rc())&&(t.footerTemplate=i.first),Ic(i=Rc())&&(t.noDataTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(Tc(Lk,!0,wl),Tc(Mk,!0),_c(Jk,!0),Tc(Vk,!0)),2&e&&(Ic(n=Rc())&&(t.container=n.first),Ic(n=Rc())&&(t.popupTemplate=n.first),Ic(n=Rc())&&(t.wrapper=n.first),Ic(n=Rc())&&(t.optionsList=n.first))},hostVars:7,hostBindings:function(e,t){2&e&&(Fo("dir",t.dir),ua("k-widget",t.widgetClasses)("k-dropdown",t.widgetClasses)("k-header",t.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",valuePrimitive:"valuePrimitive",tabIndex:"tabIndex",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[Ga([$E,OE,DE,NE,RE,jb,{provide:zb,useValue:"kendo.dropdownlist"},{provide:VE,useExisting:xe(()=>e)},{provide:_b,useExisting:xe(()=>e)}]),Pa],decls:14,vars:24,consts:[["kendoDropDownListLocalizedMessages","",6,"noDataText"],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","kendoEventsOutsideAngular","scope","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],["unselectable","on",1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,Xk),jo(),Vo(2,"span",1,2),$o("keydown",(function(e){return t.keydown(e)}))("keypress",(function(e){return t.keypress(e)}))("click",(function(e){return t.click(e)})),Vo(4,"span",3),Ao(5,tE,1,4,void 0,4),Ao(6,nE,1,1,"ng-template",5),Ho(),Vo(7,"span",6),Bo(8,"span",7),Ho(),Ao(9,gE,8,17,"ng-template",null,8,Mc),Ho(),Ao(11,mE,1,0,"ng-template",5),Uo(12,null,9)),2&e&&(ms(2),Lo("id",t.focusableId)("ngClass",nc(18,vE,!t.disabled,t.disabled))("kendoEventsOutsideAngular",nc(21,ak,t.focusComponent,t.blurComponent))("scope",t),Fo("dir",t.direction)("readonly",t.readonly)("tabindex",t.widgetTabIndex)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("aria-activedescendant",t.ariaActivedescendant)("aria-label",t.noDataLabel),ms(2),Lo("id",t.valueLabelId),ms(1),Lo("ngIf",t.valueTemplate),ms(1),Lo("ngIf",!t.valueTemplate),ms(2),Lo("ngClass",t.buttonClasses),ms(3),Lo("ngIf",t.isOpen))},directives:function(){return[XE,Rh,mb,Mh,ZE,BE,bw,rI,Iw,EC,YE,Eb]},encapsulation:2}),e})(),ZE=(()=>{class e{constructor(e){this.viewContainerRef=e}set templateContext(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}return e.\u0275fac=function(t){return new(t||e)(Ro(wl))},e.\u0275dir=bt({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e})(),YE=(()=>{class e{constructor(e){this.multipleSelection=!1,this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}}return e.\u0275fac=function(t){return new(t||e)(Ro(DE))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&$o("click",(function(e){return t.onClick(e)})),2&e&&(Fo("index",t.index),ca("height",t.height,"px")("min-height",t.height,"px"),ua("k-state-focused",t.focusedClassName)("k-state-selected",t.selectedClassName))},inputs:{multipleSelection:"multipleSelection",index:"index",height:"height"}}),e})(),QE=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return JE(t||e)},e.\u0275dir=bt({type:e,inputs:{noDataText:"noDataText",clearTitle:"clearTitle"},features:[Ta]}),e})();const JE=oi(QE);let XE=(()=>{class e extends QE{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""]],features:[Ga([{provide:QE,useExisting:xe(()=>e)}]),Ta]}),e})(),eI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),tI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,LC,zx,Ib,eI,vb],$h,LC,zx,Ib,eI,vb]}),e})(),nI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[tI],eI]}),e})();const iI=ek;let sI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:qE,useValue:iI}],imports:[[tI],eI]}),e})(),rI=(()=>{class e{constructor(e,t){this.element=e,this.zone=t}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[Pa]}),e})(),oI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[tI],eI]}),e})();const aI=ek;let lI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:qE,useValue:aI}],imports:[[tI],eI]}),e})(),cI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[nI,sI,oI,lI]}),e})();const uI=()=>"undefined"!=typeof window,hI={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},dI={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},pI={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},fI={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},gI=(e,t,n)=>{for(let i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},mI=uI()&&window.navigator?window.navigator.userAgent:null,vI=mI?(e=>{let t=null,n=[];for(let i in pI)if(pI.hasOwnProperty(i)&&(n=e.match(pI[i]),n)){t={},t[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t})(mI):null,yI=mI?(e=>{let t,n=[];for(let i in hI)if(hI.hasOwnProperty(i)){if(n=e.match(hI[i]),!n)continue;if("windows"===i&&"plugins"in window.navigator)return null;const s={};return s.device=i,s.browser=gI(e,fI,"default"),s.name=gI(i,dI),s[s.name]=!0,s.majorVersion=n[2],s.minorVersion=n[3].replace("_","."),t=s.minorVersion.replace(".","").substr(0,2),s.flatVersion=s.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),s.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,s.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||s.cordova,s}return null})(mI):null;function bI(e){return"string"==typeof e}uI()&&window,vI&&!vI.chrome&&window,vI&&!vI.chrome&&window;const wI=/\{(\d+)}?\}/g;class CI{constructor({name:e,message:t}){if(!e||!t)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=t}formatMessage(...e){const t=SI(e),n=this.message.replace(wI,(function(e,n){return t[parseInt(n,10)]}));return`${this.name}: ${n}`}error(...e){return new Error(this.formatMessage(e))}}const SI=function(e){return e.reduce((e,t)=>e.concat(t),[])},xI=(kI={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(kI).reduce((function(e,t){return e[t]=new CI({name:t,message:kI[t]}),e}),{}));var kI;const EI={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function II(e){let t;return t=bI(e)?_I(e):e,t}function _I(e){if(EI[e])return EI[e];if(EI.supplemental.likelySubtags){const t=e.split("-"),n=t[0],i=t.slice(1),s=function(e,t){const n=EI.supplemental.likelySubtags;for(let i=0;i<t.length;i++){let s=n[e+"-"+t[i]];if(s)return s}if(n[e])return n[e]}(n,i),r=s?function(e,t){const n=e.split("-"),i=n[0],s=n[1],r=n[2];return EI[e]||-1!==t.indexOf(r)&&EI[i+"-"+r]||-1!==t.indexOf(s)&&EI[i+"-"+s]||EI[i]}(s,i):null;if(r)return r}throw xI.NoLocale.error(e)}function TI(e){if(e.territory)return e.territory;const t=e.identity;let n;return n=t&&t.territory?t.territory:function(e,t){const n=EI.supplemental.likelySubtags;let i=e.split("-");if(n){const t=n[e]||n[i[0]];t&&(i=t.split("-"))}if(t)for(let r=i.length-1;r>=1;r--){const e=i[r];e!==t.variant&&e!==t.script||i.splice(r,1)}const s=i.length;if(s>1)return i[s-1].toUpperCase()}(e.name,t),e.territory=n,n}function FI(e,t="en"){const n=_I(t).calendar.dateFields;if(!n)throw xI.NoDateFieldNames.error();const i=n[e.type]||{};return i[e.nameType]||i.wide}function DI(e,t){const{type:n,nameType:i,standAlone:s,lower:r}=t,o=(r?"lower-":"")+i,a=II(e).calendar[n][s?"stand-alone":"format"];let l=a[o];var c;return!l&&r&&(l=a[o]=(c=a[i],Array.isArray(c)?function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].toLowerCase());return t}(c):function(e){const t={};for(let n in e)t[n]=e[n].toLowerCase();return t}(c))),l}function AI(e){const t=e.split("-"),n=parseInt(t[0],10),i=parseInt(t[1],10)-1,s=parseInt(t[2],10);return new Date(n,i,s)}const{NoCurrency:OI,NoCurrencyDisplay:RI,NoSupplementalCurrency:PI,NoCurrencyRegion:NI,NoValidCurrency:LI}=xI,MI="symbol",VI={"001":"USD",150:"EUR"};function HI(e,t,n){const i=II(e).numbers.currencies;if(!i){if(n)throw OI.error();return}const s=i[t];if(s)return s;if(n)throw RI.error()}function BI(e,t){return t.length-e.length}function zI(e,t){const n=II(e),i=n.numbers;if(!i.localeCurrency){const e=function(e,t=!0){if(VI[e])return VI[e];const n=EI.supplemental.currencyData;if(!n){if(t)throw PI.error();return}const i=n.region[e];if(i)return function(e){let t,n,i,s;for(let r=0;r<e.length;r++){const o=e[r],a=Object.keys(o)[0],l=o[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!i){const e=AI(l._from),i=AI(l._to);(!n||n.to<i||n.from<e)&&(t=a,n={from:e,to:i})}}else{const e=AI(l._from);(!s||s<e)&&(i=a,s=e)}}return i||t}(i);if(t)throw NI.error(e)}(TI(n),t);if(!e&&t)throw LI.error(n.name);i.localeCurrency=e}return i.localeCurrency}const jI=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:UI,NoFirstDay:GI}=xI;function qI(e){const t=II(e);if(!isNaN(t.firstDay))return t.firstDay;const n=EI.supplemental.weekData;if(!n)throw UI.error();const i=n.firstDay[TI(t)]||n.firstDay["001"];if(!i)throw GI.error();return t.firstDay=jI.indexOf(i),t.firstDay}function KI(e){return II(e).numbers.symbols}function $I(e,t={}){return t.currency||(t.currency=zI(e,!0)),function(e,t){const{value:n,currency:i,currencyDisplay:s=MI}=t;if("code"===s)return i;const r=HI(e,i,!0);let o;return o=s===MI?r["symbol-alt-narrow"]||r[MI]:void 0===typeof n||1!==n?r["displayName-count-other"]:r["displayName-count-one"],o}(e,t)}function WI(e,t,n,i,s){const r=s.numbers.symbols,o=e.indexOf(r.decimal),a=i.groupSize.slice();let l=a.shift(),c=-1!==o?o:n+1,u=e.substring(t,c),h=e;const d=u.length;if(d>=l){let n=d,i=[];for(;n>-1;){let e=u.substring(n-l,n);e&&i.push(e),n-=l;let t=a.shift();if(l=void 0!==t?t:l,0===l){e=u.substring(0,n),e&&i.push(e);break}}u=i.reverse().join(r.group),h=e.substring(0,t)+u+e.substring(c)}return h}function ZI(e){return"currency"===e||"accounting"===e}function YI(e,t=2,n=!1){const i=t-String(e).length;let s=e;if(i>0){const t=new Array(i+1).join("0");s=n?e+t:t+e}return s}function QI(e,t){let n=e,i=t||0;return n=n.toString().split("e"),n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+i:i))),n=n.toString().split("e"),n=Number(n[0]+"e"+(n[1]?Number(n[1])-i:-i)),n.toFixed(Math.min(i,20))}const JI=/0+$/,XI=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,e_=/(\.(?:[0-9]*[1-9])?)0+$/g,t_=/\.$/,n_=/\,/g;function i_(e,t,n){let i;return i=-1===e&&-1!==t?t:-1!==e&&-1===t?e:n?Math.min(e,t):Math.max(e,t),i}const s_=/^(n|c|p|e|a)(\d*)$/i;function r_(e){let t;return t=bI(e)?function(e){const t=s_.exec(e);if(t){const e={style:"decimal"};let n=t[1].toLowerCase();return"c"===n?e.style="currency":"a"===n?e.style="accounting":"p"===n?e.style="percent":"e"===n&&(e.style="scientific"),t[2]&&(e.minimumFractionDigits=e.maximumFractionDigits=parseInt(t[2],10)),e}}(e):e,t}function o_(e,t="n",n="en"){if(null==e)return"";if(!isFinite(e))return String(e);const i=_I(n),s=r_(t);let r;return r=s?function(e,t,n){const i=n.numbers.symbols,{style:s}=t,r=ZI(s);if("scientific"===s)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(".",i.decimal);let o,a=e;r&&(t.value=a,o=$I(n,t)),"percent"===s&&(a*=100,o=i.percentSign);const{minimumFractionDigits:l,maximumFractionDigits:c}=function(e){let{minimumFractionDigits:t,maximumFractionDigits:n,style:i}=e;const s=ZI(i);let r;return s&&(r=function(e){let t=2,n=2;const i=((EI.supplemental.currencyData||{}).fractions||{})[e];return i&&i._digits&&(n=t=parseInt(i._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:n}}(e.currency)),void 0===t&&(t=s?r.minimumFractionDigits:0),void 0===n&&(n="percent"===i?Math.max(t,0):s?Math.max(t,r.maximumFractionDigits):Math.max(t,3)),{minimumFractionDigits:t,maximumFractionDigits:n}}(t);a=QI(a,c);const u=a<0,h=a.split(".");let d=h[0],p=YI(h[1]?h[1].replace(JI,""):"",l,!0);u&&(d=d.substring(1)),t.minimumIntegerDigits&&(d=YI(d,t.minimumIntegerDigits));let f,g=!1!==t.useGrouping?WI(d,0,d.length,t,n):d;if(p&&(g+=i.decimal+p),r&&"name"===t.currencyDisplay)f=function(e,t){const n=e.numbers.currency;let i=1!==t?n["unitPattern-count-other"]:n["unitPattern-count-one"];return t<0&&(i=i.replace("n","-n")),i}(n,e);else{const e=t.patterns;f=u?e[1]||"-"+e[0]:e[0]}return"n"!==f||u?function(e,t,n){let i="";for(let s=0,r=t.length;s<r;s++){let r=t.charAt(s);i+="n"===r?e:"$"===r||"%"===r?n:r}return i}(g,f,o):g}(e,Object.assign({},i.numbers[s.style||"decimal"],s),i):function(e,t,n){const i={negative:e<0,number:Math.abs(e),format:t};return function(e){let{number:t,format:n}=e;if(n=n.split(";"),e.negative&&n[1])n=n[1],e.hasNegativeFormat=!0;else if(0===t){const t=n[2];n=t||n[0],t&&function(e){return-1===e.indexOf("#")&&-1===e.indexOf("0")}(t)&&(e.constant=t)}else n=n[0];e.format=n}(i),i.constant?i.constant:(function(e){let t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){const n=e.literals=[];e.format=t.replace(XI,(function(e){const t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");return n.push(i),"__??__"}))}}(i),function(e,t){const n=e.format;-1!==n.indexOf("%")&&(e.style="percent",e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==n.indexOf("$")&&(e.style="currency",e.symbol=$I(t))}(i,n),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(n_,""))}(i),function(e){let{number:t,format:n}=e,i=n.indexOf(".");if(-1!==i){const s=n.lastIndexOf("0")-i,r=n.lastIndexOf("#")-i,o=s>-1,a=r>-1;let l=t.toString().split("e");l=l[1]?QI(t,Math.abs(l[1])):l[0],l=l.split(".")[1]||"";let c=l.length,u=-1;o||a?o&&s>r?c=s:r>s&&(a&&c>r?c=r:o&&c<s&&(c=s),u=o?s:0):(e.format=n.substring(0,i)+n.substring(i+1),i=-1,c=0),c>-1&&(t=QI(t,c),u>-1&&(t=function(e,t){let n;return n=0===t?e_:new RegExp(`(\\.[0-9]{${t}}[1-9]*)0+$`,"g"),e.replace(n,"$1").replace(t_,"")}(t,u)))}else t=QI(t);e.negative&&-1*t>=0&&(e.negative=!1),e.number=t,e.decimalIndex=i}(i),function(e){const t=e.format;let n=t.indexOf("#"),i=t.indexOf("0"),s=i_(n,i,!0);n=t.lastIndexOf("#"),i=t.lastIndexOf("0");let r=i_(n,i);s===t.length&&(r=s),e.start=s,e.end=r,e.lastZeroIndex=i}(i),function(e,t){let n=e.number;return-1!==e.start&&(n=function(e,t){const{start:n,end:i,negative:s,format:r,decimalIndex:o,lastZeroIndex:a,hasNegativeFormat:l,hasGroup:c}=e;let u=e.number;const h=u.toString().split("."),d=r.length,p=h[0],f=h[1]||"",g=p.length;let m="";u=r.substring(0,n),s&&!l&&(u+="-");for(let v=n;v<d;v++){let e=r.charAt(v);if(-1===o){if(i-v<g){u+=p;break}}else if(-1!==a&&a<v&&(m=""),o-v<=g&&o-v>-1&&(u+=p,v=o),o===v){u+=(f?t.numbers.symbols.decimal:"")+f,v+=i-o+1;continue}"0"===e?(u+=e,m=e):"#"===e&&(u+=m)}return c&&(u=WI(u,n+(s&&!l?1:0),Math.max(i,g+n),t.numbers.decimal,t)),i>=n&&(u+=r.substring(i+1)),u}(e,t),n=function(e,t,n){let i=e;if("currency"===t||"percent"===t){i="";for(let t=0,s=e.length;t<s;t++){let s=e.charAt(t);i+="$"===s||"%"===s?n:s}}return i}(n,e.style,e.symbol),n=function(e,t){let n=e;if(t){const e=t.length;for(let i=0;i<e;i++)n=n.replace("__??__",t[i])}return n}(n,e.literals)),n}(i,n))}(e,t,i),r}function a_(e){return"number"==typeof e}const l_=/[eE][\-+]?[0-9]+/,c_=/\u00A0/g;function u_(e,t){if(t.length>1){const n=(t[1]||"").replace("$","").split("n");if(e.indexOf(n[0])>-1&&e.indexOf(n[1])>-1)return e.replace(n[0],"").replace(n[1],"")}}function h_(e,t="en",n={}){if(!e&&0!==e)return null;if(a_(e))return e;const i=_I(t),s=i.numbers.symbols;let r,o=e.toString();if(l_.test(o))return o=parseFloat(o.replace(s.decimal,".")),isNaN(o)?null:o;const a=o.indexOf("-");if(a>0)return null;let l=a>-1;const{negative:c,number:u}=function(e,t,n){const i=r_(n)||{};let s,r=ZI(i.style),o=e;const a=i.currency||zI(t,r);if(a){const e=function(e,t,n=!0){const i=HI(e,t,n);if(i){if(!i.displays){const e=[t];for(let t in i)e.push(i[t]);e.sort(BI),i.displays=e}return i.displays}}(t,a,r);if(e)for(let t=0;t<e.length;t++){let n=e[t];if(o.includes(n)){o=o.replace(n,""),r=!0;break}}if(r){const e=u_(o,t.numbers.currency.patterns)||u_(o,t.numbers.accounting.patterns);e&&(s=!0,o=e)}}return{number:o,negative:s}}(o,i,n);return o=u,l=void 0!==c?c:l,("percent"===n.style||o.indexOf(s.percentSign)>-1)&&(o=o.replace(s.percentSign,""),r=!0),o=o.replace("-","").replace(c_," ").split(s.group.replace(c_," ")).join("").replace(s.decimal,"."),o=parseFloat(o),isNaN(o)?o=null:l&&(o*=-1),o&&r&&(o/=100),o}const d_=/\{(\d+)}/g;function p_(e){const t=arguments;return e.replace(d_,(e,n)=>t[parseInt(n,10)+1])}const f_=[2,1,5,3,4],g_={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},m_={numeric:1,"2-digit":2,short:3,long:4,narrow:5},v_=/[hHmsSzZoOvVxX]/,y_=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],b_={e:"c",E:"c",M:"L",Q:"q"},w_={},C_={};function S_(e){return w_[e]||(w_[e]=new RegExp(e+"+")),w_[e]}function x_(e){const t=[];let n=e.charAt(0),i=n;for(let s=1;s<e.length;s++){let r=e.charAt(s);r===i?n+=r:(t.push(n),n=i=r)}return t.push(n),t}function k_(e,t){const n=e.length;let i,s,r=-Number.MAX_VALUE;for(let o in t){const a=[];let l=o.replace("v","z"),c=0;for(let t=0;t<n;t++){const n=e[t];let i=(S_(n[0]).exec(l)||[])[0];if(i){if(l=l.replace(i,""),i.length!==n.length){let e=Math.max(Math.min(f_[i.length]-f_[n.length],2),-2);c-=g_[e]}}else c-=120;if(a.push(i),c<r)break}l.length&&(c-=20*x_(l).length),c>r&&(r=c,i=a,s=t[o])}s=s.replace("v","z");for(let o=0;o<n;o++){const t=i[o];if(t&&t!==e[o]){const t=i[o][0];s=s.replace(S_(t),e[o]),b_[t]&&(s=s.replace(S_(b_[t]),e[o]))}}return s}function E_(e,t){const n=t.calendar;let i;if(bI(e))i=n.patterns[e]?n.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;let s=e.skeleton;s||(e.datetime?i=p_(n.dateTimeFormats[e.datetime],n.timeFormats[e.datetime],n.dateFormats[e.datetime]):e.date?i=n.dateFormats[e.date]:e.time?i=n.timeFormats[e.time]:s=function(e){let t=[];for(let n=0;n<y_.length;n++){let i=y_[n],s=e[i.key];if(s){let n=i.specifier||i.getSpecifier(e);t.push(n.repeat(m_[s]))}}return t.join("")}(e)),s&&(i=function(e,t){const n=t.calendar.dateTimeFormats.availableFormats;if(n[e])return n[e];if(C_[t.name]&&C_[t.name][e])return C_[t.name][e];const i=e.search(v_);let s;if(i>0){const r=e.substr(0,i),o=e.substr(i);s=p_(t.calendar.dateTimeFormats.short,n[o]||k_(x_(o),n),n[r]||k_(x_(r),n))}else s=k_(x_(e),n);return function(e,t,n){C_[n]||(C_[n]={}),C_[n][e]=t}(e,s,t.name),s}(s,t))}return i||(i=n.patterns.d),i}function I_(e){let t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function __(e,t,n,i,s){return DI(e,{type:t,nameType:I_(n),standAlone:i,lower:s})}function T_(e){return"function"==typeof e}function F_(e){return Boolean(e)&&T_(e.getTime)&&T_(e.getMonth)}const D_={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},A_=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function O_(e,t,n,i){return t<=2?YI(e+1,t):__(n,"months",t,i)[e]}function R_(e,t,n,i){const s=Math.floor(e.getMonth()/3);return t<3?s+1:__(n,"quarters",t,i)[s]}function P_(e,t,n){const{shortHours:i,optionalMinutes:s,separator:r,localizedName:o,zZeroOffset:a}=n,l=e.getTimezoneOffset()/60;if(0===l&&a)return"Z";const c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),h=u[1]||0;let d=c+(i?u[0]:YI(u[0],2));return!h&&s||(d+=(r?":":"")+YI(h,2)),o&&(d=p_(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,d)),d}function N_(e,t,n,i){let s;return s=t<3?function(e,t,n){const i=qI(n);let s;return s=e<i?7-i+e:e-i,s+1}(e.getDay(),0,n):__(n,"days",t,i)[e.getDay()],s}const L_=function(){var e={d:function(e,t){return YI(e.getDate(),t)},E:function(e,t,n){return __(n,"days",t)[e.getDay()]},M:function(e,t,n){return O_(e.getMonth(),t,n,!1)},L:function(e,t,n){return O_(e.getMonth(),t,n,!0)},y:function(e,t){let n=e.getFullYear();return 2===t&&(n%=100),YI(n,t)},h:function(e,t){return YI(e.getHours()%12||12,t)},H:function(e,t){return YI(e.getHours(),t)},k:function(e,t){return YI(e.getHours()||24,t)},K:function(e,t){return YI(e.getHours()%12,t)},m:function(e,t){return YI(e.getMinutes(),t)},s:function(e,t){return YI(e.getSeconds(),t)},S:function(e,t){let n;return n=0!==e.getMilliseconds()?String(e.getMilliseconds()/1e3).split(".")[1].substr(0,t):YI("",t),n},a:function(e,t,n){return __(n,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},z:function(e,t,n){return P_(e,n,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Z:function(e,t,n){return P_(e,n,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},x:function(e,t,n){return P_(e,n,{optionalMinutes:1===t,separator:3===t||5===t})},X:function(e,t,n){return P_(e,n,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},G:function(e,t,n){let i=e.getFullYear()>=0?1:0;return __(n,"eras",t)[i]}};return e.e=N_,e.c=function(e,t,n){return N_(e,t,n,!0)},e.q=function(e,t,n){return R_(e,t,n,!0)},e.Q=R_,e}();function M_(e,t,n="en"){if(!F_(e))return null==e?"":e;const i=_I(n);return E_(t,i).replace(A_,(function(t){let n,s=t.length;return n=t.includes("'")||t.includes('"')?t.slice(1,s-1):L_[t[0]](e,s,i),n}))}function V_(e,t,n){const i=e.getTimezoneOffset(),s=new Date(e.getTime()+6e4*(t-n)),r=s.getTimezoneOffset();return new Date(s.getTime()+6e4*(r-i))}const H_=/([+|\-]\d{1,2})(:?)(\d{2})?/,B_=/^\/Date\((.*?)\)\/$/,z_=/[+-]\d*/,j_={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},U_=/\d+/,G_=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],q_=["G","g","F","Y","y","M","m","D","d","y","T","t"];function K_(e,t,n){return!(e>=t&&e<=n)}function $_(e,t){let{format:n,idx:i}=t,s=0;for(;n[i]===e;)s++,i++;return s>0&&(i-=1),t.idx=i,s}function W_(e,t){let n=e?j_[e]||new RegExp("^\\d{1,"+e+"}"):U_,i=t.value.substr(t.valueIdx,e).match(n);return i?(i=i[0],t.valueIdx+=i.length,parseInt(i,10)):null}function Z_(e,t,n){let i,s,r,o=0,a=e.length,l=0,c=0;for(;o<a;o++)i=e[o],s=i.length,r=t.value.substr(t.valueIdx,s),n&&(r=r.toLowerCase()),r===i&&s>l&&(l=s,c=o);return l?(t.valueIdx+=l,c+1):null}function Y_(e){let t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function Q_(e,t,n){const{shortHours:i,noSeparator:s,optionalMinutes:r,localizedName:o,zLiteral:a}=n;if(e.UTC=!0,a&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(o&&!Z_(function(e){const{gmtFormat:t,gmtZeroFormat:n}=e;if(!t)throw xI.NoGMTInfo.error();return[t.replace("{0}","").toLowerCase(),n.replace("{0}","").toLowerCase()]}(t.calendar),e,!0))return!0;const l=H_.exec(e.value.substr(e.valueIdx,6));if(!l)return!o;const c=l[1],u=l[3],h=parseInt(c,10),d=l[2];let p=parseInt(u,10);return!!(isNaN(h)||!i&&3!==c.length||!r&&isNaN(p)||s&&d)||(isNaN(p)&&(p=null),!!(K_(h,-12,13)||p&&K_(p,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=h,void(e.minutesOffset=p)))}function J_(e,t,n){const i=$_(e,t),s=__(n,"months",i,"L"===e,!0),r=i<3?W_(2,t):Z_(s,t,!0);if(null===r||K_(r,1,12))return!0;t.month=r-1}function X_(e,t,n){const i=$_(e,t),s=__(n,"days",i,"c"===e,!0);let r=i<3?W_(1,t):Z_(s,t,!0);if(!r&&0!==r||K_(r,1,7))return!0}const eT=function(){return{d:function(e){$_("d",e);const t=W_(2,e);if(null===t||K_(t,1,31))return!0;null===e.day&&(e.day=t)},E:function(e,t){if(null===Z_(__(t,"days",$_("E",e),!1,!0),e,!0))return!0},M:function(e,t){return J_("M",e,t)},L:function(e,t){return J_("L",e,t)},y:function(e){const t=$_("y",e);let n=W_(1===t?void 0:t,e);if(null===n)return!0;if(2===t){const e=(new Date).getFullYear();n=e-e%100+n,n>2029&&(n-=100)}e.year=n},h:function(e){$_("h",e);let t=W_(2,e);if(12===t&&(t=0),null===t||K_(t,0,11))return!0;e.hours=t},K:function(e){$_("K",e);let t=W_(2,e);if(null===t||K_(t,0,11))return!0;e.hours=t},a:function(e,t){let n=__(t,"dayPeriods",$_("a",e),!1,!0);const i=Z_([n.pm],e,!0);if(!i&&!Z_([n.am],e,!0))return!0;e.pmHour=i},H:function(e){$_("H",e);const t=W_(2,e);if(null===t||K_(t,0,23))return!0;e.hours=t},k:function(e){$_("k",e);let t=W_(2,e);if(null===t||K_(t,1,24))return!0;e.hours=24===t?0:t},m:function(e){$_("m",e);const t=W_(2,e);if(null===t||K_(t,0,59))return!0;e.minutes=t},s:function(e){$_("s",e);const t=W_(2,e);if(null===t||K_(t,0,59))return!0;e.seconds=t},S:function(e){const t=$_("S",e),n=e.value.substr(e.valueIdx,t);let i=null;if(isNaN(parseInt(n,10))||(i=parseFloat("0."+n,10),i=QI(i,3),i*=1e3,e.valueIdx+=t),null===i||K_(i,0,999))return!0;e.milliseconds=i},z:function(e,t){const n=$_("z",e)<4,i=Q_(e,t,{shortHours:n,optionalMinutes:n,localizedName:!0});if(i)return i},Z:function(e,t){const n=$_("Z",e),i=Q_(e,t,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(i)return i},x:function(e,t){const n=$_("x",e),i=Q_(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(i)return i},X:function(e,t){const n=$_("X",e),i=Q_(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(i)return i},G:function(e,t){const n=__(t,"eras",$_("G",e),!1,!0);if(null===Z_([n[0],n[1]],e,!0))return!0},e:function(e,t){return X_("e",e,t)},c:function(e,t){return X_("c",e,t)}}}();function tT(e,t,n){let i=E_(t,n).split("");const s={format:i,idx:0,value:e,valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=i.length;let o=!1;for(;s.idx<r;s.idx++){let e=i[s.idx];if(o)"'"===e&&(o=!1),Y_(s);else if(eT[e]){if(eT[e](s,n))return null}else if("'"===e)o=!0,Y_(s);else if(!Y_(s))return null}return s.valueIdx<e.length?null:function(e){let{year:t,month:n,day:i,hours:s,minutes:r,seconds:o,milliseconds:a,pmHour:l,UTC:c,hoursOffset:u,minutesOffset:h}=e;const d=null!==s||null!==r||o||null,p=new Date;let f;return null===t&&null===n&&null===i&&d?(t=p.getFullYear(),n=p.getMonth(),i=p.getDate()):(null===t&&(t=p.getFullYear()),null===i&&(i=1)),l&&s<12&&(s+=12),c?(u&&(s+=-u),h&&(r+=-h*(u<0?-1:1)),f=new Date(Date.UTC(t,n,i,s,r,o,a))):(f=new Date(t,n,i,s,r,o,a),function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(f,s)),t<100&&f.setFullYear(t),f.getDate()!==i&&void 0===c?null:f}(s)||null}function nT(e,t,n="en"){if(!e)return null;if(F_(e))return e;let i=String(e).trim(),s=function(e){if(e&&0===e.indexOf("/D")){let t=B_.exec(e);if(t){t=t[1];let e=z_.exec(t.substring(1));return t=new Date(parseInt(t,10)),e&&(e=function(e){const t="-"===e.substr(0,1)?-1:1;let n=e.substring(1);return n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10),t*n}(e[0]),t=V_(t,t.getTimezoneOffset(),0),t=V_(t,0,-1*e)),t}}}(i);if(s)return s;const r=_I(n);let o=t||function(e){const t=[],n=e.patterns,i=q_.length;for(let s=0;s<i;s++)t.push(n[q_[s]]);return t.concat(G_)}(r.calendar);o=Array.isArray(o)?o:[o];const a=o.length;for(let l=0;l<a;l++)if(s=tT(i,o[l],r),s)return s;return s}const iT={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}};function sT(e,t){const n=e[e.length-1];n&&"literal"===n.type?n.pattern+=t:e.push({type:"literal",pattern:t})}function rT(e){return"h"===e||"K"===e}function oT(e,t="en"){const n=E_(e,_I(t)),i=[];let s=A_.lastIndex=0,r=A_.exec(n);for(;r;){let e=r[0];if(s<r.index&&sT(i,n.substring(s,r.index)),e.startsWith('"')||e.startsWith("'"))sT(i,e);else{const t=e[0],n=D_[t],s={type:n,pattern:e};"hour"===n&&(s.hour12=rT(e));const r=iT[n];if(r){const n=a_(r.minLength)?r.minLength:r.minLength[t],i=e.length;i>=n&&(s.names={type:r.type,nameType:I_(i),standAlone:r.standAlone===t})}i.push(s)}s=A_.lastIndex,r=A_.exec(n)}return s<n.length&&sT(i,n.substring(s)),i}const aT=/\{(\d+)(:[^\}]+)?\}/g;function lT(e,t,n){if(t){if(F_(e))return M_(e,t,n);if(a_(e))return o_(e,t,n)}return null!=e?e:""}function cT(e,t,n){return e.replace(aT,(function(e,i,s){return lT(t[parseInt(i,10)],s?s.substring(1):"",n)}))}let uT=(()=>{class e{constructor(){this.changes=new gc}notify(){this.changes.emit()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const hT="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",dT={NoCurrency:`Solution: ${hT}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${hT}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${hT}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${hT}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${hT}#toc-no-first-day`,NoGMTInfo:`Solution: ${hT}#toc-no-gmt-info`,NoLocale:`Solution: ${hT}#toc-no-locale`,NoValidCurrency:`Solution: ${hT}#toc-no-valid-currency`,NoWeekData:`Solution: ${hT}#toc-no-week-data`};function pT(e){return function(...t){try{return e.apply(null,t)}catch(n){throw n.message=function(e){const t=e.message,n=dT[Object.keys(dT).filter(e=>0===t.indexOf(e))[0]];return n?`${t} ${n}`:t}(n),n}}}const fT=pT(DI),gT=pT(FI),mT=pT(qI),vT=pT(cT),yT=pT(M_),bT=pT(o_),wT=pT(KI),CT=pT(nT),ST=pT(h_),xT=pT(oT),kT=pT(lT),ET=/_/g;let IT=(()=>{class e extends uT{constructor(e){super(),this.localeId=e}get localeId(){return this.locale}set localeId(e){const t=e.replace(ET,"-");t!==this.locale&&(this.locale=t,this.notify())}format(e,...t){return vT(e,t,this.localeId)}toString(e,t,n){return kT(e,t,n||this.localeId)}formatDate(e,t,n){return yT(e,t,n||this.localeId)}parseDate(e,t,n){return CT(e,t,n||this.localeId)}parseNumber(e,t,n){return ST(e,n||this.localeId,t)}formatNumber(e,t,n){return bT(e,t,n||this.localeId)}dateFieldName(e,t){return gT(e,t||this.localeId)}dateFormatNames(e,t){return fT(t||this.localeId,e)}splitDateFormat(e,t){return xT(e,t||this.localeId)}numberSymbols(e){return wT(e||this.localeId)}firstDay(e){return mT(e||this.localeId)}}return e.\u0275fac=function(t){return new(t||e)(We($c))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),_T=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:uT,useClass:IT}]}),e})(),TT=(()=>{class e{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,t){this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=z(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(t=>t.instance===e))}cancel(e){const t=this.scheduled,n=t.length;for(let i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),FT=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[TT]}),e})();$localize`:kendo.slider.increment|The title of the **Increase** button of the Slider.␟0fa71630d40c425b9c366afd7f6c3cecc5bef59d␟8302125540024939132:increment`,$localize`:kendo.slider.decrement|The title of the **Decrease** button of the Slider.␟042c26f68d78afd6834ea46a5f7533850fe8c800␟652458644240352212:decrement`,$localize`:kendo.slider.dragHandle|The title of the drag handle of the Slider.␟481eb98e9cd8ef8e8b22051796441901e883763d␟9117416417579607469:Drag`,$localize`:kendo.switch.on|The **On** label of the Switch.␟155f0a38198ffbf0429c5dbf9765e74f246a8617␟818154782831456441:ON`,$localize`:kendo.switch.off|The **Off** label of the Switch.␟79df1a6d2b35c32b2948e3cee56dd3ffe28127bc␟759820891948194060:OFF`;const DT=["numericInput"],AT=["numericWrap"],OT=["increment",$localize`:kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox␟0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5␟4467784268438010275:Increase value`,"decrement",$localize`:kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox␟df4751834075bf970c77d0da2c960b4e19a6b0dd␟3960022057994897997:Decrease value`],RT=function(e,t){return{mouseup:e,mouseleave:t}},PT=function(e){return{mousedown:e}};function NT(e,t){if(1&e&&(Vo(0,"span",6),Vo(1,"span",7),Bo(2,"span",8),Ho(),Vo(3,"span",9),Bo(4,"span",10),Ho(),Ho()),2&e){const e=Yo();Lo("kendoEventsOutsideAngular",nc(11,RT,e.releaseArrow,e.releaseArrow)),ms(1),ua("k-state-active",e.arrowDirection===e.ArrowDirection.Up),Lo("kendoEventsOutsideAngular",tc(14,PT,e.increasePress))("title",e.incrementTitle),Fo("aria-label",e.incrementTitle),ms(2),ua("k-state-active",e.arrowDirection===e.ArrowDirection.Down),Lo("kendoEventsOutsideAngular",tc(16,PT,e.decreasePress))("title",e.decrementTitle),Fo("aria-label",e.decrementTitle)}}const LT=function(e,t){return{mousewheel:e,DOMMouseScroll:t}},MT=function(e,t,n,i,s){return{dragenter:e,keydown:t,input:n,focus:i,blur:s}},VT=e=>(String(e).split(".")[1]||"").length,HT=(e,t)=>{const n=Math.min(t,20);return parseFloat(e.toFixed(n))};var BT=function(e){return e[e.backspace=8]="backspace",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.shift=16]="shift",e[e.ctrl=17]="ctrl",e[e.alt=18]="alt",e[e.space=32]="space",e[e.page_up=33]="page_up",e[e.page_down=34]="page_down",e[e.end=35]="end",e[e.home=36]="home",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e[e.delete=46]="delete",e[e.numpad_dot=110]="numpad_dot",e}({});const zT=(e,t,n=!0)=>e.some(e=>((e,t,n=!0)=>t[e]&&(!t[e].isFirstChange()||!n)&&t[e].previousValue!==t[e].currentValue)(e,t,n)),jT=e=>e.observers.length>0;function UT(e,t,...n){if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,n)}const GT=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);let qT=(()=>{class e{constructor(e,t){this.renderer=e,this.inputElement=t,this.onFocus=new gc,this.onBlur=new gc,this.onValueChange=new gc,this.listeners=[]}get hostClass(){return!0}set value(e){this.inputElement&&(this.inputElement.nativeElement.value=null==e?"":e,this.onValueChange.emit())}get value(){return this.inputElement.nativeElement.value}get id(){return this.inputElement.nativeElement.id}set id(e){this.renderer.setAttribute(this.inputElement.nativeElement,"id",e)}ngAfterViewInit(){const e=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(e,"focus",()=>this.onFocus.emit()),this.renderer.listen(e,"blur",()=>this.onBlur.emit())]}ngOnDestroy(){this.listeners.forEach(e=>e())}}return e.\u0275fac=function(t){return new(t||e)(Ro(Ja),Ro(Wa))},e.\u0275dir=bt({type:e,selectors:[["input","kendoTextBox",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-textbox",t.hostClass)},inputs:{value:"value"}}),e})();const KT=/[eE][\-+]?[0-9]+/,$T=e=>e>=0?Math.floor(e):Math.ceil(e),WT=e=>{},ZT=e=>!isNaN(e)&&null!==e;function YT(e,t){const n=t-String(e).length;let i=e;if(n>0){const t=new Array(n+1).join("0");i=parseFloat(e+t)}return i}var QT=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({});const JT=["min","max","step","decimals"],XT={decimals:null,max:null,min:null,step:1};let eF=(()=>{class e{constructor(e,t,n,i,s,r,o){this.intl=e,this.renderer=t,this.localizationService=n,this.injector=i,this.ngZone=s,this.changeDetector=r,this.hostElement=o,this.focusableId=`k-${GT()}${GT()}-${GT()}-${GT()}-${GT()}-${GT()}${GT()}${GT()}`,this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.value=null,this.valueChange=new gc,this.onFocus=new gc,this.onBlur=new gc,this.ArrowDirection=QT,this.arrowDirection=QT.None,this.inputValue="",this.minValidateFn=WT,this.maxValidateFn=WT,this._format="n2",this.increasePress=e=>{this.arrowPress(QT.Up,e)},this.decreasePress=e=>{this.arrowPress(QT.Down,e)},this.releaseArrow=()=>{clearTimeout(this.spinTimeout),this.arrowDirection!==QT.None&&(this.arrowDirection=QT.None,this.changeDetector.detectChanges())},this.handleInput=()=>{const e=this.numericInput.nativeElement;let{selectionStart:t,selectionEnd:n,value:i}=e;if(this.pressedKey===BT.numpad_dot&&(i=this.replaceNumpadDotValue()),!this.isValid(i))return e.value=this.inputValue,void this.setSelection(t-1,n-1);const s=this.intl.parseNumber(i);let r=this.restrictDecimals(s);if(this.autoCorrect){const e=this.limitInputValue(r);r=e.value,t=e.selectionStart,n=e.selectionEnd}s!==r||this.hasTrailingZeros(i)||!this.focused?(this.setInputValue(r),this.setSelection(t,n)):this.inputValue=i,this.updateValue(r),this.previousSelection=null},this.handleDragEnter=()=>{this.focused||this.isDisabled||this.setInputValue(this.value,!0)},this.handleFocus=()=>{this.focused||(this.focused=!0,this.isDisabled||(this.setInputValue(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.setSelection(0,this.inputValue.length)},0)}))),jT(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})},this.handleBlur=()=>{var e;this.focused=!1,this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),(jT(this.onBlur)||(e=this.control)&&(!e.touched||e.control&&"blur"===e.control.updateOn))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},this.handleKeyDown=e=>{if(this.isDisabled)return;let t;e.keyCode===BT.down?t=-1:e.keyCode===BT.up&&(t=1),t&&this.step&&(e.preventDefault(),this.addStep(t));const n=this.numericInput.nativeElement;this.previousSelection={end:n.selectionEnd,start:n.selectionStart},this.pressedKey=e.keyCode},this.handleWheel=e=>{if(this.focused&&!this.isDisabled){e.preventDefault();const t=(e=>{let t=0;return e.wheelDelta?(t=e.wheelDelta/120,t=t>0?Math.ceil(t):Math.floor(t)):e.detail&&(t=Math.round(-e.detail/3)),t})(e);this.addStep(t)}},this.ngChange=e=>{},this.ngTouched=()=>{},this.direction=n.rtl?"rtl":"ltr"}get format(){const e=this._format;return null!=e?e:"n2"}set format(e){this._format=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get widgetClasses(){return!0}ngOnInit(){this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(kw,null)}ngOnChanges(e){var t,n;zT(JT,e,!1)&&this.parseOptions(JT.filter(t=>e[t])),this.verifySettings(),zT(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(n=this.min,e=>null!==e.value&&e.value<n?{minError:{minValue:n,value:e.value}}:null):WT,this.maxValidateFn=this.rangeValidation?(t=this.max,e=>null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null):WT),zT(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,zT(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}writeValue(e){this.verifyValue(e);let t=this.restrictModelValue(e);this.value=t,this.setInputValue()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.disabled=e}focus(){UT(this.numericInput,"focus")}blur(){UT(this.numericInput,"blur")}notifyValueChange(){this.setInputValue()}get incrementTitle(){return this.localizationService.get("increment")}get decrementTitle(){return this.localizationService.get("decrement")}get decimalSeparator(){return this.intl.numberSymbols().decimal}get elementValue(){return this.numericInput.nativeElement.value}set elementValue(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}get focused(){return this.isFocused}get hasDecimals(){return null!==this.decimals&&this.decimals>=0}set focused(e){if(this.isFocused!==e&&this.numericWrap){const t=this.numericWrap.nativeElement,n=this.numericInput.nativeElement;e?(this.renderer.addClass(t,"k-state-focused"),this.isDisabled||this.renderer.removeClass(n,"k-formatted-value")):(this.renderer.removeClass(t,"k-state-focused"),this.renderer.addClass(n,"k-formatted-value")),this.isFocused=e}}get isDisabled(){return this.disabled||this.readonly}arrowPress(e,t){t.preventDefault(),this.isDisabled||(yI||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}updateValue(e){var t,n;(t=this.value)===(n=e)||null===t&&void 0===n||void 0===t&&null===n||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}replaceNumpadDotValue(){let e=this.inputValue||"";if(this.previousSelection){const t=this.numericInput.nativeElement,{selectionStart:n,selectionEnd:i}=t,{start:s,end:r}=this.previousSelection;t.value=e=e.substring(0,s)+this.decimalSeparator+e.substring(r),this.setSelection(n,i)}return e}isValid(e){return this.numericRegex||(this.numericRegex=(e=>{const{autoCorrect:t,decimals:n,min:i}=e;let s,r=e.separator;return"."===r&&(r="\\"+r),s=0===n?"\\d*":`(?:(?:\\d+(${r}\\d*)?)|(?:${r}\\d*))?`,new RegExp(`^${t&&null!==i&&i>=0?"":"-?"}${s}$`)})({autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator})),this.numericRegex.test(e)}spin(e,t){clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout(()=>{this.spin(e,50)},t),this.addStep(e)}addStep(e){let t=((e,t)=>{const n=((e,t)=>Math.max(VT(e),VT(t)))(e,t);return HT(e+t,n)})(this.value||0,this.step*e);t=this.limitValue(t),t=this.restrictDecimals(t),this.setInputValue(t),this.updateValue(t)}setSelection(e,t){this.focused&&UT(this.numericInput,"setSelectionRange",e,t)}limitValue(e){let t=e;return this.isInRange(e)||(ZT(this.max)&&e>this.max&&(t=this.max),ZT(this.min)&&e<this.min&&(t=this.min)),t}limitInputValue(e){let{selectionStart:t,selectionEnd:n,value:i}=this.numericInput.nativeElement,s=e,r=!1;if(!this.isInRange(e)){const o=i.length-String(this.inputValue).length,{min:a,max:l}=this,c=ZT(l),u=ZT(a);let h,d,p=e;if(0===t&&this.inputValue.substr(1)===i)return{selectionEnd:n,selectionStart:t,value:null};if(c&&e>l?e>0?d=!0:h=l:u&&e<a&&(e>0?h=a:d=!0),h){const t=this.tryPadValue(e,h);t&&$T(e)!==$T(h)&&(p=t,r=!0)}else d&&this.inputValue&&t!==i.length&&(p=parseFloat(i.substr(0,t)+i.substr(t+o)));s=this.limitValue(p),r=(r||s!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+o>0}return{selectionEnd:r?String(s).length:n,selectionStart:t,value:s}}tryPadValue(e,t){const n=String(Math.floor(t)).length,i=YT(e,n),s=YT(e,n+1);let r;return this.isInRange(i)?r=i:this.isInRange(s)&&(r=s),r}isInRange(e){return!ZT(e)||(!ZT(this.min)||this.min<=e)&&(!ZT(this.max)||e<=this.max)}restrictModelValue(e){let t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}restrictDecimals(e,t){let n=e;if(e&&this.hasDecimals){const i=this.decimals,s=String(e);if(t||KT.test(s))n=HT(e,i);else{const e=s.split(".");let t=e[1];t&&t.length>i&&(t=t.substr(0,i),n=parseFloat(`${e[0]}.${t}`))}}return n}formatInputValue(e){return String(e).replace(".",this.decimalSeparator)}formatValue(e,t){let n;return n=null!==e&&(e=>void 0!==e)(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):"",n}setInputValue(e=this.value,t=this.focused){const n=this.formatValue(e,t);this.elementValue=n,this.inputValue=n}verifySettings(){if(Si()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}verifyValue(e){if(Si()&&e&&"number"!=typeof e)throw new Error(`The NumericTextBox component requires value of type Number and ${JSON.stringify(e)} was set.`)}parseOptions(e){for(let t=0;t<e.length;t++){const n=e[t],i=this[n];if("string"==typeof i){const e=parseFloat(i),t=!isNaN(e);if(Si()&&!t&&""!==i)throw new Error(`The NumericTextBox component requires value of type Number or a String representing a number for the ${n} property and ${JSON.stringify(i)} was set.`);this[n]=t?e:XT[n]}}}intlChange(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}hasTrailingZeros(e){if(this.hasDecimals&&this.focused){const t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}}return e.\u0275fac=function(t){return new(t||e)(Ro(uT),Ro(Ja),Ro(jb),Ro(uo),Ro(ou),Ro(Wr),Ro(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-numerictextbox"]],viewQuery:function(e,t){var n;1&e&&(Tc(DT,!0),Tc(AT,!0)),2&e&&(Ic(n=Rc())&&(t.numericInput=n.first),Ic(n=Rc())&&(t.numericWrap=n.first))},hostVars:5,hostBindings:function(e,t){2&e&&(Fo("dir",t.direction),ua("k-widget",t.widgetClasses)("k-numerictextbox",t.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[Ga([jb,{provide:zb,useValue:"kendo.numerictextbox"},{provide:fw,useExisting:xe(()=>e),multi:!0},{provide:Fw,useExisting:xe(()=>e),multi:!0}]),Pa],decls:7,vars:23,consts:[["kendoNumericTextBoxLocalizedMessages","",6,"increment","decrement"],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],[1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,OT),jo(),Vo(2,"span",1,2),Bo(4,"input",3,4),Ao(6,NT,5,18,"span",5),Ho()),2&e&&(ms(2),ua("k-state-disabled",t.disabled),Lo("kendoEventsOutsideAngular",nc(14,LT,t.handleWheel,t.handleWheel)),ms(2),Lo("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",function(e,t,n,i,s,r,o,a){const l=rn()+17,c=Zt(),u=To(c,l,n,i,s,r);return Eo(c,l+4,o)||u?xo(c,l+5,t(n,i,s,r,o)):ko(c,l+5)}(0,MT,t.handleDragEnter,t.handleKeyDown,t.handleInput,t.handleFocus,t.handleBlur)),Fo("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder),ms(2),Lo("ngIf",t.spinners))},directives:function(){return[cF,rF,Mh]},encapsulation:2}),e})(),tF=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return nF(t||e)},e.\u0275dir=bt({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[Ta]}),e})();const nF=oi(tF);let iF=(()=>{class e extends tF{constructor(e){super(),this.service=e}get override(){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-numerictextbox-messages"]],features:[Ga([{provide:tF,useExisting:xe(()=>e)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),sF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:uT,useClass:IT}],imports:[[$h]]}),e})(),rF=(()=>{class e{constructor(e,t,n){this.element=e,this.ngZone=t,this.renderer=n,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let t in e)e.hasOwnProperty(t)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,t,e[t]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(ou),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"]}}),e})(),oF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),aF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:uT,useClass:IT}],imports:[[$h,sF,oF,FT]]}),e})(),lF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:uT,useClass:IT}],imports:[[$h,oF,FT]]}),e})(),cF=(()=>{class e extends tF{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[Ga([{provide:tF,useExisting:xe(()=>e)}]),Ta]}),e})(),uF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:uT,useClass:IT}],imports:[[$h,oF]]}),e})(),hF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:uT,useClass:IT}],imports:[[$h,oF]]}),e})(),dF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})(),pF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:uT,useClass:IT}],imports:[[$h],dF,aF,lF,uF,hF]}),e})();const fF=e=>e?new Date(e.getTime()):null,gF=(e,t)=>{const n=fF(e);return 0===t&&23===n.getHours()&&n.setHours(n.getHours()+2),n},mF=(e,t)=>{const n=fF(e);return n.setDate(n.getDate()+t),gF(n,e.getHours())},vF=(e,t,n,i=0,s=0,r=0,o=0)=>{const a=new Date(e,t,n,i,s,r,o);return e>-1&&e<100&&a.setFullYear(a.getFullYear()-1900),gF(a,i)},yF=e=>vF(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),bF=(e,t)=>!e&&!t||e&&t&&e.getTime()===t.getTime(),wF=e=>{const t=vF(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return mF(t,-1)},CF=(e,t)=>{const n=fF(e),i=(12+(n.getMonth()+t)%12)%12;return n.setMonth(n.getMonth()+t),((e,t)=>e.getMonth()!==t?wF(CF(e,-1)):e)(gF(n,e.getHours()),i)},SF=(e,t)=>{const n=e.getMonth(),i=vF(t,n,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getMonth()===n?i:wF(CF(i,-1))},xF=(e,t)=>gF(SF(e,e.getFullYear()+t),e.getHours()),kF=(e,t)=>xF(e,10*t),EF=(e,t)=>xF(e,100*t),IF=(e,t)=>SF(e,t(e.getFullYear())),_F=e=>IF(e,e=>e-e%100),TF=e=>IF(e,e=>e-e%100+90),FF=e=>IF(e,e=>e-e%10),DF=(e,t)=>(_F(t).getFullYear()-_F(e).getFullYear())/100,AF=e=>IF(e,e=>e-e%10+9),OF=(e,t)=>(FF(t).getFullYear()-FF(e).getFullYear())/10,RF=(e,t)=>mF(e,7*t),PF=e=>vF(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());var NF=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({});const LF=(e,t,n=NF.Forward)=>{const i=fF(e),s=(t-i.getDay()+7*n)%7;return i.setDate(i.getDate()+s),gF(i,e.getHours())},MF=(e,t)=>12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),VF=(e,t)=>{const n=e.getDate(),i=vF(e.getFullYear(),t,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getDate()===n?i:wF(CF(i,-1))},HF=e=>VF(e,0),BF=e=>VF(e,11),zF=(e,t)=>t.getFullYear()-e.getFullYear();var jF=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({});const UF=(e,t)=>{const n=vF(e.getFullYear(),0,1,-6),i=((e,t)=>t!==jF.Monday?mF(((e,t)=>LF(e,t,NF.Backward))(e,t),4):mF(e,4-(e.getDay()||7)))(e,t).getTime()-n.getTime(),s=Math.floor(i/864e5);return 1+Math.floor(s/7)},GF=(e,t=jF.Monday)=>{e=yF(e);const n=mF(e,-7),i=mF(e,7),s=UF(e,t);return 0===s?UF(n,t)+1:53===s&&UF(i,t)>1?1:s};class qF extends Xy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}class KF extends tb{}const $F=new KF(qF);class WF extends f{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(WF.dispatch,this.delay,new ZF(e,this.destination)))}_next(e){this.scheduleMessage(Yb.createNext(e))}_error(e){this.scheduleMessage(Yb.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Yb.createComplete()),this.unsubscribe()}}class ZF{constructor(e,t){this.notification=e,this.destination=t}}class YF extends E{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new QF(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,s=n.length;let r;if(this.closed)throw new S;if(this.isStopped||this.hasError?r=h.EMPTY:(this.observers.push(e),r=new x(this,e)),i&&e.add(e=new WF(e,i)),t)for(let o=0;o<s&&!e.closed;o++)e.next(n[o]);else for(let o=0;o<s&&!e.closed;o++)e.next(n[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),r}_getNow(){return(this.scheduler||$F).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,s=i.length;let r=0;for(;r<s&&!(e-i[r].time<n);)r++;return s>t&&(r=Math.max(r,s-t)),r>0&&i.splice(0,r),i}}class QF{constructor(e,t){this.time=e,this.value=t}}class JF extends Xy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class XF extends tb{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,s=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<s&&(e=t.shift()));if(this.active=!1,n){for(;++i<s&&(e=t.shift());)e.unsubscribe();throw n}}}const eD=new XF(JF);class tD{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new nD(e,this.predicate,this.inclusive))}}class nD extends f{constructor(e,t,n){super(e),this.predicate=t,this.inclusive=n,this.index=0}_next(e){const t=this.destination;let n;try{n=this.predicate(e,this.index++)}catch(i){return void t.error(i)}this.nextOrComplete(e,n)}nextOrComplete(e,t){const n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}const iD=["*"],sD=["list"];function rD(e,t){if(1&e&&Ca(0),2&e){const e=Yo().$implicit;Sa(Yo().service.navigationTitle(e))}}function oD(e,t){}const aD=function(e,t,n){return{$implicit:e,activeView:t,date:n}};function lD(e,t){if(1&e&&(Vo(0,"li"),Vo(1,"span"),Ao(2,rD,1,1,"ng-template",5),Ao(3,oD,0,0,"ng-template",6),Ho(),Ho()),2&e){const e=t.$implicit,n=t.index,i=Yo();Fo("data-date-index",n),ms(1),ua("k-calendar-navigation-marker",i.service.isRangeStart(e)),ms(1),Lo("ngIf",!i.templateRef),ms(1),Lo("ngIf",i.templateRef)("ngTemplateOutlet",i.templateRef)("ngTemplateOutletContext",ic(7,aD,i.service.navigationTitle(e),i.activeViewValue,e))}}const cD=function(e){return{click:e}};function uD(e,t){if(1&e&&(Vo(0,"th"),Ca(1),Ho()),2&e){const e=t.$implicit;ca("width",Yo(2).colWidth,"%"),ms(1),Sa(e)}}function hD(e,t){if(1&e&&(Vo(0,"table",6),Vo(1,"thead"),Vo(2,"tr"),Ao(3,uD,2,3,"th",7),Ho(),Ho(),Ho()),2&e){const e=Yo();ms(3),Lo("ngForOf",e.weekNames)}}function dD(e,t){1&e&&Bo(0,"col")}function pD(e,t){if(1&e){const e=Go();Vo(0,"tbody",8),$o("change",(function(t){return Qt(e),Yo().handleDateChange(t)})),Ho()}if(2&e){const e=t.$implicit,n=Yo();Lo("activeView",n.activeView)("isActive",n.isActive)("min",n.min)("max",n.max)("cellUID",n.cellUID)("focusedDate",n.focusedDate)("selectedDate",n.value)("weekNumber",n.weekNumber)("templateRef",n.cellTemplateRef)("weekNumberTemplateRef",n.weekNumberTemplateRef)("viewDate",e)}}const fD=["today",$localize`:kendo.calendar.today|The label for the today button in the calendar header␟2df64767cd895a8fabe3e18b94b5b6b6f9e2e3f0␟826701167553276328:TODAY`];function gD(e,t){if(1&e){const e=Go();Vo(0,"kendo-calendar-navigation",4),$o("valueChange",(function(t){return Qt(e),Yo().handleNavigation(t)}))("pageChange",(function(){return Qt(e),Yo().onPageChange()})),Ho()}if(2&e){const e=Yo();Lo("activeView",e.activeViewEnum)("focusedDate",e.focusedDate)("min",e.min)("max",e.max)("templateRef",null==e.navigationItemTemplate?null:e.navigationItemTemplate.templateRef)}}const mD=["dateInput"],vD=["wrap"],yD=["increment",$localize`:kendo.dateinput.increment|The label for the **Increment** button in the DateInput␟a55944f9de69e7cc86b91200fe96f980a947d704␟589112377451589685:Increase value`,"decrement",$localize`:kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput␟0eded761107e6dad120997006a7f915bade9b15c␟6980524091606682769:Decrease value`];function bD(e,t){if(1&e){const e=Go();Vo(0,"span",6),$o("mousedown",(function(t){return Qt(e),t.preventDefault()})),Vo(1,"span",7),$o("mousedown",(function(){Qt(e);const t=Yo();return t.arrowDirection=t.arrow.Up}))("mouseleave",(function(){Qt(e);const t=Yo();return t.arrowDirection=t.arrow.None}))("click",(function(){return Qt(e),Yo().handleButtonClick(1)})),Bo(2,"span",8),Ho(),Vo(3,"span",9),$o("click",(function(){return Qt(e),Yo().handleButtonClick(-1)}))("mousedown",(function(){Qt(e);const t=Yo();return t.arrowDirection=t.arrow.Down}))("mouseleave",(function(){Qt(e);const t=Yo();return t.arrowDirection=t.arrow.None})),Bo(4,"span",10),Ho(),Ho()}if(2&e){const e=Yo();ms(1),ua("k-state-active",e.arrowDirection===e.arrow.Up),Lo("title",e.localization.get("increment")),Fo("aria-label",e.localization.get("increment")),ms(2),ua("k-state-active",e.arrowDirection===e.arrow.Down),Lo("title",e.localization.get("decrement")),Fo("aria-label",e.localization.get("decrement"))}}const wD=function(e,t,n,i,s,r,o){return{click:e,focus:t,mousedown:n,touchstart:i,dragstart:s,drop:r,blur:o}},CD=["container"],SD=["popupTemplate"],xD=["wrapper"],kD=["today",$localize`:kendo.datepicker.today|The label for the today button in the calendar header␟91a84f2d4871dbe7e90d84865d4a4d83c8ae041e␟1910980355989755624:TODAY`,"toggle",$localize`:kendo.datepicker.toggle|The label for the toggle button in the datepicker component␟f6c28c2d80dbe993c4b33f4dc4010364f41cc2ae␟4817467473728423164:Toggle calendar`];function ED(e,t){}const ID=function(e){return{keydown:e}};function _D(e,t){if(1&e){const e=Go();Vo(0,"kendo-calendar",9,10),$o("valueChange",(function(t){Qt(e);const n=Yo();return n.handleChange(n.mergeTime(t))})),Bo(2,"kendo-calendar-messages",11),Ho(),Ao(3,ED,0,0,"ng-template")}if(2&e){const e=Yo();Lo("min",e.min)("max",e.max)("navigation",e.navigation)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("cellTemplate",e.cellTemplate)("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("weekNumberTemplate",e.weekNumberTemplate)("headerTitleTemplate",e.headerTitleTemplate)("navigationItemTemplate",e.navigationItemTemplate)("focusedDate",e.focusedDate)("value",e.value)("kendoEventsOutsideAngular",tc(21,ID,e.handleKeydown))("scope",e)("disabledDates",e.disabledDates),ms(2),Lo("today",e.localization.get("today"))}}const TD=function(e,t){return{click:e,mousedown:t}};function FD(e,t){1&e&&Ca(0),2&e&&Sa(Yo().title)}function DD(e,t){}$localize`:kendo.timepicker.accept|The Accept button text in the timepicker component␟4c3bf42192220c7611c09ece1c5de14855139dd0␟7519663530416240229:Set`,$localize`:kendo.timepicker.acceptLabel|The label for the Accept button in the timepicker component␟93c2a9c3aa49f56e452c0aecbaabe3bb33fa4222␟4355879331538595758:Set time`,$localize`:kendo.timepicker.cancel|The Cancel button text in the timepicker component␟132eefca16bd41d489b4647724b91e93793603aa␟1086687567255473060:Cancel`,$localize`:kendo.timepicker.cancelLabel|The label for the Cancel button in the timepicker component␟2cf6f4ca4470810944b4016c9b6f87943d3390ab␟83621966901491941:Cancel changes`,$localize`:kendo.timepicker.now|The Now button text in the timepicker component␟bbc99bb74ae75a503bd813aad0c7253d3553e923␟5912507758515138116:Now`,$localize`:kendo.timepicker.nowLabel|The label for the Now button in the timepicker component␟df1a696f318275aa934e27850920889d494c2740␟371982627910576599:Select now`,$localize`:kendo.timepicker.toggle|The label for the toggle button in the timepicker component␟f2c196786ed2d3ecb2369750c36aac9a4053fb30␟6938407659294495526:Toggle time list`,$localize`:kendo.datetimepicker.dateTab|The Date tab text in the datetimepicker popup header␟5bb17f81ae8dbc109499ce3792afffa6b7cef855␟3360129034450596425:Date`,$localize`:kendo.datetimepicker.dateTabLabel|The label for the Date tab in the datetimepicker popup header␟2a400c9e364a4c6d83ac39b5513c962805db54b2␟1810540079817643910:Date tab`,$localize`:kendo.datetimepicker.timeTab|The Time tab text in the datetimepicker popup header␟e9b2b760a6916040e7520a9a2926d65de175944d␟3807284594201983607:Time`,$localize`:kendo.datetimepicker.timeTabLabel|The label for the Time tab in the datetimepicker popup header␟13bf7e3a1036140119732c6d5952f7a20c22999e␟2577682127494513393:Time tab`,$localize`:kendo.datetimepicker.toggle|The label for the toggle button in the datetimepicker component␟60296a83f0d3e3d07aaba87c4f8e91b0aca3c22a␟3159207801887264026:Toggle popup`,$localize`:kendo.datetimepicker.accept|The Accept button text in the datetimepicker component␟4359b59db7ded88e106ada877e744c71b188f8f9␟3915774704336012538:Set`,$localize`:kendo.datetimepicker.acceptLabel|The label for the Accept button in the datetimepicker component␟cbea4571cca81ad9767a6b29f0287d1f3f6372dc␟4770689705864890748:Set`,$localize`:kendo.datetimepicker.cancel|The Cancel button text in the datetimepicker component␟17ab795d6f7527dd962a309759ca58cb4edd7e52␟5100781969600382158:Cancel`,$localize`:kendo.datetimepicker.cancelLabel|The label for the Cancel button in the datetimepicker component␟ba26795ab9f4c21d66b17549ba854a96fcdac1f9␟3535986227615756275:Cancel`,$localize`:kendo.datetimepicker.now|The Now button text in the timepicker component␟7172e7e9a1741f6b63439ec89e498c995cb23b0d␟5497093725885127701:NOW`,$localize`:kendo.datetimepicker.nowLabel|The label for the Now button in the timepicker component␟52d90641b26b1ce4c011cadf0437ce36c1dac1d5␟5046379108717037514:Select now`,$localize`:kendo.datetimepicker.today|The label for the today button in the calendar header␟7ee30b9ae5918cc544fbd87a4135694397aeefaf␟7904626229769721311:TODAY`,$localize`:kendo.multiviewcalendar.today|The label for the today button in the calendar header␟063d99483243b27bc8282abfb5f2c76877e1112e␟3892034896682737327:TODAY`,$localize`:kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar␟e783e2af4828224b846fa92148ea1cc52b21bb13␟9101635325676663492:Navigate to previous view`,$localize`:kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar␟3e3a529a242f39d22f841c3bd8045ec75b696b7a␟3994336778698343633:Navigate to next view`;const AD=["kendoCalendarView",""];function OD(e,t){1&e&&(Vo(0,"td",3),Ca(1,"\xa0"),Ho())}function RD(e,t){if(1&e&&(Vo(0,"tr",4),Vo(1,"th",5),Ca(2),Ho(),Ho()),2&e){const e=Yo();ms(1),Lo("colSpan",e.colSpan),ms(1),Sa(e.title)}}function PD(e,t){if(1&e&&(Vo(0,"th"),Ca(1),Ho()),2&e){const e=t.$implicit;ms(1),Sa(e)}}function ND(e,t){if(1&e&&(Vo(0,"tr",4),Ao(1,PD,2,1,"th",6),Ho()),2&e){const e=Yo();ms(1),Lo("ngForOf",e.weekNames)}}function LD(e,t){if(1&e&&Ca(0),2&e){const e=Yo(3).$implicit,t=Yo();xa(" ",t.getWeekNumber(t.firstDate(e))," ")}}function MD(e,t){}const VD=function(e,t){return{$implicit:e,cellContext:t}};function HD(e,t){if(1&e&&(Vo(0,"td",10),Ao(1,LD,1,1,"ng-template",7),Ao(2,MD,0,0,"ng-template",11),Ho()),2&e){const e=Yo(2).$implicit,t=Yo();ms(1),Lo("ngIf",!t.weekNumberTemplateRef),ms(1),Lo("ngIf",t.weekNumberTemplateRef)("ngTemplateOutlet",t.weekNumberTemplateRef)("ngTemplateOutletContext",nc(4,VD,t.firstDate(e),t.getWeekNumberContext(e)))}}function BD(e,t){if(1&e&&Ao(0,HD,3,7,"td",9),2&e){const e=Yo().$implicit,t=Yo(),n=Oo(1);Lo("ngIf",t.firstDate(e))("ngIfElse",n)}}function zD(e,t){1&e&&Ca(0),2&e&&Sa(Yo(2).$implicit.formattedValue)}function jD(e,t){}function UD(e,t){if(1&e&&Ao(0,jD,0,0,"ng-template",16),2&e){const e=Yo(2).$implicit;Lo("ngTemplateOutlet",Yo(2).templateRef)("ngTemplateOutletContext",nc(2,VD,e.value,e))}}function GD(e,t){if(1&e&&(Vo(0,"td",13),Vo(1,"span",14),Ao(2,zD,1,1,"ng-template",7),Ao(3,UD,1,5,void 0,15),Ho(),Ho()),2&e){const e=Yo(),t=e.$implicit,n=e.index,i=Yo().index,s=Yo();Lo("ngClass",s.getStyles(t))("title",t.title),Fo("id",t.id)("data-cell-index",s.tableCellIndex(i,n))("aria-selected",t.isSelected||t.isRangeStart||t.isRangeMid||t.isRangeEnd)("aria-disabled",t.isDisabled),ms(2),Lo("ngIf",!s.templateRef),ms(1),Lo("ngIf",s.templateRef)}}function qD(e,t){if(1&e&&(zo(0),Ao(1,GD,4,8,"td",12),jo()),2&e){const e=t.$implicit;Yo(2);const n=Oo(1);ms(1),Lo("ngIf",e)("ngIfElse",n)}}function KD(e,t){if(1&e&&(Vo(0,"tr",4),Ao(1,BD,1,2,"ng-template",7),Ao(2,qD,2,2,"ng-container",8),Ho()),2&e){const e=t.$implicit,n=Yo();ms(1),Lo("ngIf",n.weekNumber),ms(1),Lo("kForOf",e)}}$localize`:kendo.timeselector.accept|The Accept button text in the timeselector component␟801811aa1609e3f173c86baa82cee037f75a215f␟5362895271044573681:Set`,$localize`:kendo.timeselector.acceptLabel|The label for the Accept button in the timeselector component␟b4b1e5ac55f0330f6c4e32b866ae4339ad969978␟3417396278000787211:Set time`,$localize`:kendo.timeselector.cancel|The Cancel button text in the timeselector component␟3004d7704ffa6202a3b3925fcea490e486203a3e␟1890188482755567622:Cancel`,$localize`:kendo.timeselector.cancelLabel|The label for the Cancel button in the timeselector component␟08dfbdfffd662371a6ff4c0b6ed82b9faa48143b␟5738120209397145846:Cancel changes`,$localize`:kendo.timeselector.now|The Now button text in the timeselector component␟98cba1ae36a7bbe15e1bac1837e07922ec109e7d␟1926162752852226109:Now`,$localize`:kendo.timeselector.nowLabel|The label for the Now button in the timeselector component␟08e6a8a51d970609e138950fdd89c5cf201869f3␟7789175884909488647:Select now`;var $D=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e}({});const WD={start:null,end:null},ZD=new Date(1900,0,1),YD=new Date(2099,11,31),QD=e=>null!=e,JD=(e,t)=>{const n=fF(e);return n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n},XD=(e,t,n=1)=>{const i=[];for(let s=e;s<t;s+=n)i.push(s);return i},eA=(e,t,n)=>!e||!(t&&t>e||n&&n<e),tA=(e,t)=>!QD(e)||!QD(t)||e<=t,nA=(e,t,n)=>e?t&&e<t?fF(t):n&&e>n?fF(n):e:e,iA=()=>yF(new Date),sA=e=>{},rA=(e,t)=>e.slice(t).concat(e.slice(0,t)),oA=e=>(t,n="",i={})=>{const s=document.createElement(e);return s.className=n,Object.keys(i).map(e=>s.style[e]=i[e]),"string"==typeof t?s.innerHTML=t||"":(t||[]).forEach(e=>e&&s.appendChild(e)),s},aA=(e,t)=>void 0!==e[t],lA=(e,t)=>e[t]&&null!=e[t].currentValue,cA=(e,t)=>{const{start:n,end:i}=t||WD;return!(!n||!i)&&n<e&&e<i},uA=[[]],hA={[$D.Left]:e=>kF(e,-1),[$D.Up]:e=>kF(e,-5),[$D.Right]:e=>kF(e,1),[$D.Down]:e=>kF(e,5),[$D.PrevView]:e=>EF(e,-1),[$D.NextView]:e=>EF(e,1),[$D.FirstInView]:e=>_F(e),[$D.LastInView]:e=>TF(e)};let dA=(()=>{class e{addToDate(e,t){return EF(e,t)}datesList(e,t){return XD(0,t).map(t=>EF(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:i,max:s,min:r,selectedDate:o,selectionRange:a=WD,viewDate:l}=e;if(!l)return uA;const c=XD(0,5),u=_F(l),h=TF(l),d=eA(o,r,s),p=iA();return XD(0,2).map(e=>{const l=kF(u,5*e);return c.map(e=>{const c=this.normalize(kF(l,e),r,s);if(!this.isInRange(c,r,s))return null;const f=this.isEqual(c,a.start),g=this.isEqual(c,a.end),m=!f&&!g&&cA(c,a);return{formattedValue:this.value(c),id:`${t}${c.getTime()}`,isFocused:this.isEqual(c,n),isSelected:i&&d&&this.isEqual(c,o),isWeekend:!1,isRangeStart:f,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&this.isEqual(c,h),isRangeSplitStart:m&&this.isEqual(c,u),isToday:this.isEqual(c,p),title:this.cellTitle(c),value:c}})})}isEqual(e,t){return!(!e||!t)&&FF(e).getFullYear()===FF(t).getFullYear()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+99}isInRange(e,t,n){const i=FF(e).getFullYear(),s=!t||FF(t).getFullYear()<=i,r=!n||i<=FF(n).getFullYear();return s&&r}beginningOfPeriod(e){if(!e)return e;const t=FF(_F(e));return vF(t.getFullYear(),0,1)}isRangeStart(e){return e.getFullYear()%1e3==0}move(e,t){const n=hA[t];return n?n(e):e}cellTitle(e){return FF(e).getFullYear().toString()}navigationTitle(e){return e?_F(e).getFullYear().toString():""}title(e){return e?`${_F(e).getFullYear()} - ${TF(e).getFullYear()}`:""}rowLength(e){return 5}skip(e,t){return DF(t,e)}total(e,t){return DF(e,t)+1}value(e){return e?FF(e).getFullYear().toString():""}viewDate(e,t,n=1){const i=this.total(e,t);return i<n?EF(e,-1*(n-i)):e}normalize(e,t,n){return e<t&&this.isEqual(e,t)?fF(t):e>n&&this.isEqual(e,n)?fF(n):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const pA=[[]],fA={[$D.Left]:e=>xF(e,-1),[$D.Up]:e=>xF(e,-5),[$D.Right]:e=>xF(e,1),[$D.Down]:e=>xF(e,5),[$D.PrevView]:e=>kF(e,-1),[$D.NextView]:e=>kF(e,1),[$D.FirstInView]:e=>FF(e),[$D.LastInView]:e=>AF(e)};let gA=(()=>{class e{addToDate(e,t){return kF(e,t)}datesList(e,t){return XD(0,t).map(t=>kF(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:i,max:s,min:r,selectedDate:o,selectionRange:a=WD,viewDate:l}=e;if(!l)return pA;const c=XD(0,5),u=FF(l),h=AF(l),d=eA(o,r,s),p=iA();return XD(0,2).map(e=>{const l=xF(u,5*e);return c.map(e=>{const c=this.normalize(xF(l,e),r,s);if(!this.isInRange(c,r,s))return null;const f=this.isEqual(c,a.start),g=this.isEqual(c,a.end),m=!f&&!g&&cA(c,a);return{formattedValue:this.value(c),id:`${t}${c.getTime()}`,isFocused:this.isEqual(c,n),isSelected:i&&d&&this.isEqual(c,o),isWeekend:!1,isRangeStart:f,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&this.isEqual(c,h),isRangeSplitStart:m&&this.isEqual(c,u),isToday:this.isEqual(c,p),title:this.cellTitle(c),value:c}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+9}isInRange(e,t,n){const i=e.getFullYear(),s=!t||t.getFullYear()<=i,r=!n||i<=n.getFullYear();return s&&r}beginningOfPeriod(e){if(!e)return e;const t=FF(e);return vF(t.getFullYear(),0,1)}isRangeStart(e){return e.getFullYear()%100==0}move(e,t){const n=fA[t];return n?n(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?FF(e).getFullYear().toString():""}title(e){return e?`${FF(e).getFullYear()} - ${AF(e).getFullYear()}`:""}rowLength(e){return 5}skip(e,t){return OF(t,e)}total(e,t){return OF(e,t)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,t,n=1){const i=this.total(e,t);return i<n?kF(e,-1*(n-i)):e}normalize(e,t,n){return e<t&&this.isEqual(e,t)?fF(t):e>n&&this.isEqual(e,n)?fF(n):e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const mA=[[]],vA={[$D.Left]:e=>mF(e,-1),[$D.Up]:e=>RF(e,-1),[$D.Right]:e=>mF(e,1),[$D.Down]:e=>RF(e,1),[$D.PrevView]:e=>CF(e,-1),[$D.NextView]:e=>CF(e,1),[$D.FirstInView]:e=>PF(e),[$D.LastInView]:e=>wF(e)};let yA=(()=>{class e{constructor(e){this._intlService=e}addToDate(e,t){return CF(e,t)}datesList(e,t){return XD(0,t).map(t=>CF(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:i,max:s,min:r,selectedDate:o,selectionRange:a=WD,viewDate:l,isDateDisabled:c=(()=>!1)}=e;if(!l)return mA;const u=PF(l),h=yF(u),d=wF(l),p=yF(d),f=eA(o,r,s),g=LF(u,this._intlService.firstDay(),-1),m=XD(0,7),v=iA();return XD(0,6).map(e=>{const l=mF(g,7*e);return m.map(e=>{const g=this.normalize(mF(l,e),r,s),m=yF(g);if(m<h||m>p||g<r||g>s)return null;const y=this.isEqual(g,a.start),b=this.isEqual(g,a.end),w=!y&&!b&&cA(g,a);return{formattedValue:this.value(g),id:`${t}${g.getTime()}`,isFocused:this.isEqual(g,n),isSelected:i&&f&&this.isEqual(g,o),isWeekend:this.isWeekend(g),isRangeStart:y,isRangeMid:w,isRangeEnd:b,isRangeSplitStart:w&&this.isEqual(g,u),isRangeSplitEnd:w&&this.isEqual(g,d),isToday:this.isEqual(g,v),title:this.cellTitle(g),value:g,isDisabled:c(g)}})})}isEqual(e,t){return!(!e||!t)&&yF(e).getTime()===yF(t).getTime()}isInArray(e,t){if(0===t.length)return!1;const n=this.beginningOfPeriod(t[0]),i=this.beginningOfPeriod(CF(t[t.length-1],1));return n<=e&&e<i}isInRange(e,t,n){const i=yF(e),s=!t||yF(t)<=i,r=!n||i<=yF(n);return s&&r}beginningOfPeriod(e){return e?vF(e.getFullYear(),e.getMonth(),1):e}isRangeStart(e){return!e.getMonth()}move(e,t){const n=vA[t];return n?n(e):e}cellTitle(e){return this._intlService.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return`${this.wideMonthNames()[e.getMonth()]} ${e.getFullYear()}`}rowLength(e){return 7+(e?1:0)}skip(e,t){return MF(t,e)}total(e,t){return MF(e,t)+1}value(e){return e?e.getDate().toString():""}viewDate(e,t,n=1){const i=this.total(e,t);return i<n?CF(e,-1*(n-i)):e}isWeekend(e){const{start:t,end:n}=this._intlService.weekendRange(),i=e.getDay();return n<t?i<=n||t<=i:t<=i&&i<=n}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,n){return e<t&&this.isEqual(e,t)?fF(t):e>n&&this.isEqual(e,n)?fF(n):e}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}return e.\u0275fac=function(t){return new(t||e)(We(uT))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const bA=[[]],wA={[$D.Left]:e=>CF(e,-1),[$D.Up]:e=>{return CF(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t},[$D.Right]:e=>CF(e,1),[$D.Down]:e=>{return CF(e,(t=e.getMonth())<7?5:t<10?7:2);var t},[$D.PrevView]:e=>xF(e,-1),[$D.NextView]:e=>xF(e,1),[$D.FirstInView]:e=>HF(e),[$D.LastInView]:e=>BF(e)};let CA=(()=>{class e{constructor(e){this._intlService=e}addToDate(e,t){return xF(e,t)}datesList(e,t){return XD(0,t).map(t=>xF(e,t))}data(e){const{cellUID:t,focusedDate:n,isActiveView:i,max:s,min:r,selectedDate:o,selectionRange:a=WD,viewDate:l}=e;if(!l)return bA;const c=this.abbrMonthNames(),u=eA(o,r,s),h=HF(l),d=BF(l),p=h.getFullYear(),f=XD(0,5),g=iA();return XD(0,3).map(e=>{const l=CF(h,5*e);return f.map(e=>{const f=this.normalize(CF(l,e),r,s),m=p<f.getFullYear();if(!this.isInRange(f,r,s)||m)return null;const v=this.isEqual(f,a.start),y=this.isEqual(f,a.end),b=!v&&!y&&cA(f,a);return{formattedValue:c[f.getMonth()],id:`${t}${f.getTime()}`,isFocused:this.isEqual(f,n),isSelected:i&&u&&this.isEqual(f,o),isWeekend:!1,isRangeStart:v,isRangeMid:b,isRangeEnd:y,isRangeSplitEnd:b&&this.isEqual(f,d),isRangeSplitStart:b&&this.isEqual(f,h),isToday:this.isEqual(f,g),title:this.cellTitle(f),value:f}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}isInArray(e,t){if(!t.length)return!1;const n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()}isInRange(e,t,n){const i=vF(e.getFullYear(),e.getMonth(),1),s=!t||vF(t.getFullYear(),t.getMonth(),1)<=i,r=!n||i<=vF(n.getFullYear(),n.getMonth(),1);return s&&r}beginningOfPeriod(e){return e?vF(e.getFullYear(),0,1):e}isRangeStart(e){return e.getFullYear()%10==0}move(e,t){const n=wA[t];return n?n(e):e}cellTitle(e){return`${e.getFullYear()} ${this.value(e)}`}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(e){return 5}skip(e,t){return zF(t,e)}total(e,t){return zF(e,t)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,t,n=1){const i=this.total(e,t);return i<n?xF(e,-1*(n-i)):e}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,n){return e<t&&this.isEqual(e,t)?fF(t):e>n&&this.isEqual(e,n)?fF(n):e}}return e.\u0275fac=function(t){return new(t||e)(We(uT))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();var SA=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({});const xA={[SA.month]:yA,[SA.year]:CA,[SA.decade]:gA,[SA.century]:dA};let kA=(()=>{class e{constructor(e){this.injector=e,this.viewChanged=new gc,this.bottom=SA.month,this.top=SA.century}configure(e,t){this.bottom=e,this.top=t}service(e){const t=xA[e];return t?this.injector.get(t):null}moveDown(e){this.move(e,-1)}moveUp(e){this.move(e,1)}moveToBottom(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,t){const n=this.clamp(((e,t)=>{const n=SA[SA[e+t]];return void 0!==n?n:e})(e,t));n!==e&&this.viewChanged.emit({view:n})}}return e.\u0275fac=function(t){return new(t||e)(We(uo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const EA=e=>e&&(!e.touched||e.control&&"blur"===e.control.updateOn),IA=e=>e.preventDefault(),_A=e=>null!=e,TA=oA("div"),FA=oA("ul"),DA=oA("li"),AA=oA("td"),OA=oA("th"),RA=oA("tr"),PA=oA("tbody"),NA=oA("thead"),LA=oA("table"),MA=(e,t)=>new Array(e).fill("1").map(t),VA=e=>TA(e,"k-content k-scrollable"),HA=(()=>{let e;return()=>cb?(e||(e=TA([VA([FA([DA("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),e):null})(),BA=({cells:e,rows:t},n,i)=>{let s;return()=>cb?(s||(s=((e,t,n)=>TA([TA('\n            <span class="k-button k-bare k-title">March 2017</span>\n            <span class="k-today">TODAY</span>\n        ',"k-calendar-header"),n?LA([NA([RA([OA("MO")])])],"k-calendar-weekdays"):null,VA([e,e])],t,{left:"-10000px",position:"absolute"}))(((e,t=1)=>LA([PA([RA([OA("1")])].concat(MA(e,()=>RA(MA(t,e=>AA(`<span class="k-link">${e}</span>`))))))]))(t,e),n,i)),s):null},zA=e=>e.querySelector(".k-scrollable"),jA=e=>(zA(e).classList.add("k-scrollable-horizontal"),e),UA=BA({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),GA=BA({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),qA=BA({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),KA=e=>parseFloat(window.getComputedStyle(e).height)||e.offsetHeight,$A=e=>{const t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},WA=e=>e.querySelector("tbody");let ZA=(()=>{class e{ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e){cb()&&(this.hostContainer=e,this.batch(UA(),e=>{const t=WA(e);this.calendarHeight=KA(e),this.monthViewHeight=KA(t),this.headerHeight=KA(t.children[0]),this.scrollableContentHeight=KA(zA(e))}),this.batch(jA(UA()),e=>{const t=WA(e);this.calendarWidth=$A(e),this.monthViewWidth=$A(t),this.scrollableContentWidth=$A(zA(e))}),this.batch(GA(),e=>{this.yearViewHeight=KA(WA(e)),this.scrollableYearContentHeight=KA(zA(e))}),this.batch(jA(GA()),e=>{this.yearViewWidth=$A(WA(e))}),this.batch(qA(),e=>{this.decadeViewHeight=KA(WA(e)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(jA(qA()),e=>{this.decadeViewWidth=$A(WA(e)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(HA(),e=>{this.navigationItemHeight=KA(e.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,t){const n="height"===t?"ViewHeight":"ViewWidth";switch(e){case SA.month:return this["month"+n];case SA.year:return this["year"+n];case SA.decade:return this["decade"+n];case SA.century:return this["century"+n];default:return 1}}batch(e,t){if(!_A(this.hostContainer))return;const n=this.hostContainer.cloneNode();document.body.appendChild(n);try{t(n.appendChild(e))}catch(i){throw i}finally{document.body.removeChild(n)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class YA{constructor(e=0,t,n){this.total=e,this.rowHeight=t,this.detailRowHeight=n,this.offsets=[],this.heights=[];let i=0;for(let s=0;s<e;s++)this.offsets.push(i),i+=t,this.heights.push(t)}height(e){return this.heights[e]}expandDetail(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}collapseDetail(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}index(e){if(e<0)return;const t=this.offsets.reduce((t,n,i)=>void 0!==t?t:n===e?i:n>e?i-1:void 0,void 0);return void 0===t?this.total-1:t}offset(e){return this.offsets[e]}totalHeight(){return this.heights.reduce((e,t)=>e+t,0)}updateRowHeight(e,t){this.heights[e]+=t,this.offsets=((e,t,n)=>[...e.slice(0,t+1),...e.slice(t+1).map(e=>e+n)])(this.offsets,e,t)}}const QA=e=>Math.max(e,0);class JA{constructor(e){this.offset=e}}class XA{constructor(e){this.skip=e}}class eO{constructor(e){this.scrollObservable=e,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}create(e,t,n,i,s=0,r=0,o="vertical"){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScroll=0,this.topOffset=s,this.bottomOffset=r,this.direction=o;const a=new YF(2),l=this.rowsForHeight(s),c=QA(t-l);return a.next(new JA(this.rowOffset(c))),l&&a.next(new XA(c)),this.subscription=w.create(e=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(t=>this.onScroll(t,e))}).subscribe(e=>a.next(e)),a}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:e,scrollTop:t,offsetHeight:n,offsetWidth:i},s){const r="vertical"===this.direction?t:e,o="vertical"===this.direction?n:i;if(this.lastScroll===r)return;const a=this.lastScroll>=r;this.lastScroll=r;const l=this.rowHeightService.index(QA(r-this.topOffset)),c=this.rowHeightService.index(QA(r+o-this.bottomOffset));if(!a&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=l,s.next(new JA(this.rowOffset(l))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new XA(this.firstLoaded))),a&&l<=this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=QA(l-e),s.next(new JA(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new XA(this.firstLoaded))}}rowOffset(e){return this.rowHeightService.offset(e)+this.topOffset}rowsForHeight(e){return Math.ceil(e/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const tO=new Ve("dateinputs-scroll-service-factory");function nO(e){return new eO(e)}var iO=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({});const sO={[iO.Forward]:e=>t=>t+e,[iO.Backward]:e=>t=>t-e},rO={[iO.Forward]:e=>t=>Math.min(t,e),[iO.Backward]:e=>t=>Math.max(t,e)},oO={[iO.Forward]:e=>t=>t<e,[iO.Backward]:e=>t=>t>e};let aO=(()=>{class e{constructor(e,t,n,i){this.container=t,this.renderer=n,this.zone=i,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new gc,this.pageChange=new gc,this.scrollChange=new gc,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new E,this.scroller=e(this.dispatcher)}get totalVertexLength(){const e=this.totalSize+"px";return"vertical"===this.direction?{height:e}:{width:e}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}get wrapperClasses(){return!0}get horizontalClass(){return"horizontal"===this.direction}ngOnChanges(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe(M(e=>e.target)).subscribe(e=>{this.dispatcher.next(e),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(e){return this.container.nativeElement[e]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService.index(e)}itemOffset(e){return this.rowHeightService.offset(e)}isIndexVisible(e){if(!this.rowHeightService)return!1;const t=this.containerScrollPosition,n=t+this.containerOffsetSize,i=this.rowHeightService.offset(e),s=i+this.rowHeightService.height(e);return i>=t&&s<=n}isListScrolled(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}scrollTo(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}scrollToIndex(e){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(e))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(e){this.animationSubscription&&this.animationSubscription.unsubscribe();const t=this.rowHeightService.offset(e),n=this.getContainerScrollDirection(t),{start:i,end:s}=this.scrollRange(t,n);if(i===s)return;const r=this.scrollStep(i,s),o=sO[n](r),a=rO[n](s),l=oO[n](o(s));this.zone.runOutsideAngular(()=>{this.animationSubscription=sg(tg(i),Fb(0,eD)).pipe(M(e=>e[0]),Hg(o),function(e,t=!1){return n=>n.lift(new tD(e,t))}(l),M(a)).subscribe(e=>this.scrollTo(e))})}scrollRange(e,t){const n=this.containerScrollPosition;if(parseInt(e,10)===parseInt(n,10))return{start:e,end:e};const i=this.containerMaxScroll(),s=t===iO.Backward?1:-1,r=(o=this.maxScrollDifference,Math.min(Math.abs(e-n),o));var o;const a=Math.min(e,i);return{start:Math.min(Math.max(a+s*r,0),i),end:a}}scrollStep(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}scroll$(){return cb()?lb(this.container.nativeElement,"scroll"):ag}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(e=>{e instanceof XA?this.pageChange.emit(e):this.scrollChange.emit(e)})}createRowHeightService(){return new YA(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(e){return e<this.containerScrollPosition?iO.Backward:iO.Forward}}return e.\u0275fac=function(t){return new(t||e)(Ro(tO),Ro(Wa),Ro(Ja),Ro(ou))},e.\u0275cmp=pt({type:e,selectors:[["kendo-virtualization"]],hostVars:6,hostBindings:function(e,t){2&e&&ua("k-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[Ga([{provide:tO,useValue:nO}]),Pa],ngContentSelectors:iD,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(Jo(),Xo(0),Bo(1,"div",0)),2&e&&(ms(1),ua("k-scrollable-horizontal-placeholder","horizontal"===t.direction),Lo("ngStyle",t.totalVertexLength))},directives:[Gh],encapsulation:2}),e})();const lO=(e,t,n)=>{for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},cO=(e,t)=>{for(;e&&!t(e);)e=e.parentNode;return e};let uO=(()=>{class e{constructor(e,t,n,i,s){this.bus=e,this.dom=t,this.intl=n,this.cdr=i,this.renderer=s,this.min=new Date(ZD),this.max=new Date(YD),this.focusedDate=new Date,this.valueChange=new gc,this.pageChange=new gc,this.dates=[],this.take=30,this.indexToScroll=-1}get getComponentClass(){return!0}ngOnInit(){this.dom.ensureHeights();const e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=SA[this.activeView];const t=nA(this.focusedDate,this.min,this.max),n=this.service.total(this.min,this.max),i=this.total&&this.total!==n;this.skip=this.service.skip(t,this.min),this.total=n,!i&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||i)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,n=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",n),this.renderer.setStyle(t,"-ms-transform",n)}handleDateChange(e){const t=lO(e.target,e=>e.hasAttribute("data-date-index"),this.list.nativeElement);if(t){const e=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(fF(this.dates[e]))}}getTake(e){return Math.min(this.total-e,this.take)}intlChange(){this.activeView===SA.month&&this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Ro(kA),Ro(ZA),Ro(uT),Ro(Wr),Ro(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){var n;1&e&&(Tc(aO,!0),_c(sD,!0)),2&e&&(Ic(n=Rc())&&(t.virtualization=n.first),Ic(n=Rc())&&(t.list=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-calendar-navigation",t.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[Pa],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Bo(0,"span",0),Vo(1,"kendo-virtualization",1),$o("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)})),Vo(2,"ul",2,3),Ao(4,lD,4,11,"li",4),Ho(),Ho()),2&e&&(ms(1),Lo("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),ms(1),Lo("kendoEventsOutsideAngular",tc(10,cD,t.handleDateChange))("scope",t),ms(2),Lo("kForOf",t.dates))},directives:function(){return[aO,mb,KO,Mh,qh]},encapsulation:2,changeDetection:0}),e})(),hO=(()=>{class e{constructor(e,t,n,i,s){this.bus=e,this.cdr=t,this.intl=n,this.dom=i,this.renderer=s,this.isActive=!0,this.min=new Date(ZD),this.max=new Date(YD),this.activeDateChange=new gc,this.valueChange=new gc,this.pageChange=new gc,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentClass(){return!0}get getComponentMonthClass(){return this.activeView===SA.month}get getComponentYearClass(){return this.activeView===SA.year}get getComponentDecadeClass(){return this.activeView===SA.decade}get getComponentCenturyClass(){return this.activeView===SA.century}ngOnInit(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength(this.weekNumber)).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=aA(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;const t=aA(e,"activeView"),n=this.focusedDate,i=nA(this.service.viewDate(n,this.max,this.minViewsToRender),this.min,this.max),s=this.service.total(this.min,this.max),r=this.total&&this.total!==s||!this.service.isInArray(n,this.dates);var o,a;this.skip=this.service.skip(i,this.min),this.total=s,this.animateToIndex=!t,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),r&&(this.dates=this.service.datesList(i,this.getTake(this.skip))),a=n,(o=this.activeDate)&&a&&o.getFullYear()===a.getFullYear()&&o.getMonth()===a.getMonth()||(this.activeDate=fF(n));const l=aA(e,"focusedDate")||t;(r||l||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(n,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,n=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",n),this.renderer.setStyle(t,"-ms-transform",n)}setActiveDate(e){const t=this.service.addToDate(this.min,e);bF(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}handleDateChange(e){this.valueChange.emit(e)}isMonthView(){return this.activeView===SA.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===SA.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(e){return Math.min(this.total-e,this.take)}getWeekNames(){const e=rA(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}intlChange(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Ro(kA),Ro(Wr),Ro(uT),Ro(ZA),Ro(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){var n;1&e&&(Tc(aO,!0),_c(sD,!0)),2&e&&(Ic(n=Rc())&&(t.virtualization=n.first),Ic(n=Rc())&&(t.list=n.first))},hostVars:10,hostBindings:function(e,t){2&e&&ua("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",value:"value"},outputs:{activeDateChange:"activeDateChange",valueChange:"valueChange",pageChange:"pageChange"},features:[Pa],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","today"],["class","k-calendar-weekdays","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],["list",""],[4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change",4,"kFor","kForOf"],[1,"k-calendar-weekdays",2,"table-layout","auto"],[3,"width",4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change"]],template:function(e,t){1&e&&(Vo(0,"kendo-calendar-header",0),$o("today",(function(e){return t.handleDateChange(e)})),Ho(),Ao(1,hD,4,1,"table",1),Vo(2,"kendo-virtualization",2),$o("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)}))("activeIndexChange",(function(e){return t.setActiveDate(e)})),Vo(3,"table",null,3),Vo(5,"colgroup"),Ao(6,dD,1,0,"col",4),Ho(),Ao(7,pD,1,11,"tbody",5),Ho(),Ho()),2&e&&(Lo("currentDate",t.activeDate)("min",t.min)("max",t.max)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),ms(1),Lo("ngIf",t.isMonthView()),ms(1),Lo("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),ms(4),Lo("ngForOf",t.cols),ms(1),Lo("kForOf",t.dates))},directives:function(){return[$O,Mh,aO,Nh,KO,ZO]},encapsulation:2,changeDetection:0}),e})();const dO={33:$D.PrevView,34:$D.NextView,35:$D.LastInView,36:$D.FirstInView,37:$D.Left,38:$D.Up,39:$D.Right,40:$D.Down,"meta+38":$D.UpperView,"meta+40":$D.LowerView};let pO=(()=>{class e{constructor(e){this.bus=e}action(e){return dO[`${e.ctrlKey||e.metaKey?"meta+":""}${e.keyCode}`]}move(e,t,n){const i=this.bus.service(n);return i?t===$D.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n),e):t===$D.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n),e):i.move(e,t):e}}return e.\u0275fac=function(t){return new(t||e)(We(kA))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),fO=(()=>{class e{constructor(e,t){this.dom=e,this.zone=t}configure(e){const t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(e=>t=>Math.floor(t/e))(t),this.powerByMagnitude=(e=>t=>t*e)(t)}sync(e,t){this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular(()=>{let n,i;this.navSubscription=e.scroll$().subscribe(e=>{i?i=!1:(n=!0,this.scrollSiblingOf(e.target))}),this.viewSubscription=t.scroll$().subscribe(e=>{n?n=!1:(i=!0,this.scrollSiblingOf(e.target))})}))}scrollSiblingOf(e){const t=this.siblingComponent(e),n=this.calculateScroll(t,e.scrollTop);t.scrollTo(n)}siblingComponent(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}calculateScroll(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(We(ZA),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),gO=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarCellTemplate",""]]}),e})(),mO=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),e})(),vO=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarYearCellTemplate",""]]}),e})(),yO=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),e})(),bO=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),e})(),wO=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),e})(),CO=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),e})(),SO=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),e})(),xO=(()=>{class e{constructor(){this.onFocus=new gc,this.onBlur=new gc,this.sameDateSelected=new gc,this.dateCompletenessChange=new gc}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const kO=e=>t=>e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null,EO=e=>t=>e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null,IO=()=>!1;let _O=(()=>{class e{constructor(){this.changes=new E,this.isDateDisabled=IO}initialize(e){if("function"==typeof e)this.isDateDisabled=t=>e(yF(t));else if(t=e,Array.isArray(t)&&t.length>0&&t.every(e=>"number"==typeof e)){const t=new Set(e);this.isDateDisabled=e=>t.has(e.getDay())}else if((e=>Array.isArray(e)&&e.length>0&&e.every(e=>e instanceof Date))(e)){const t=new Set(e.map(e=>yF(e).getTime()));this.isDateDisabled=e=>t.has(yF(e).getTime())}else this.isDateDisabled=IO,this.notifyInvalidInput(e);var t;this.notifyServiceChange()}notifyInvalidInput(e){if(_A(e)&&Si())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}notifyServiceChange(){this.changes.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const TO=e=>e?e.virtualization:null,FO={multi:!0,provide:fw,useExisting:xe(()=>OO)},DO={multi:!0,provide:Fw,useExisting:xe(()=>OO)},AO={provide:_b,useExisting:xe(()=>OO)};let OO=(()=>{class e{constructor(e,t,n,i,s,r,o,a,l,c,u){this.bus=e,this.dom=t,this.element=n,this.navigator=i,this.renderer=s,this.cdr=r,this.ngZone=o,this.injector=a,this.scrollSyncService=l,this.disabledDatesService=c,this.pickerService=u,this.id=pb(),this.rangeValidation=!1,this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=SA[SA.month],this.bottomView=SA[SA.month],this.topView=SA[SA.century],this.weekNumber=!1,this.activeViewChange=new gc,this.activeViewDateChange=new gc,this.valueChange=new gc,this.isActive=!1,this.cellUID=pb(),this._min=new Date(ZD),this._max=new Date(YD),this._focusedDate=iA(),this.onControlChange=sA,this.onControlTouched=sA,this.onValidatorChange=sA,this.minValidateFn=sA,this.maxValidateFn=sA,this.syncNavigation=!0,this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,this.setClasses(n.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}set focusedDate(e){this._focusedDate=e||iA(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(ZD)}get min(){return this._min}set max(e){this._max=e||new Date(YD)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=fF(e)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}get activeViewEnum(){const e=SA[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return SA[this.bottomView]}get topViewEnum(){return SA[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}ngOnInit(){this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:e})=>{this.activeView=SA[e],this.emitEvent(this.activeViewChange,this.activeView),this.scrollSyncService.configure(e),this.detectChanges()}),this.control=this.injector.get(kw,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum);const t=lA(e,"value")&&!lA(e,"focusedDate"),n=nA(fF(t?this.value:this.focusedDate),this.min,this.max);this.focusedDate=bF(this.focusedDate,n)?this.focusedDate:n,e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?kO(this.min):sA,this.maxValidateFn=this.rangeValidation?EO(this.max):sA,this.onValidatorChange())}ngAfterViewInit(){this.setAriaActivedescendant()}ngAfterViewChecked(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(TO(this.navigationView),TO(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.destroyed=!0}onResize(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}containsElement(e){return Boolean(cO(e,e=>e===this.element.nativeElement))}handleNavigation(e){if(this.disabled)return;const t=e?new Date(fF(e).setDate(1)):this.focusedDate;this.focusedDate=nA(t,this.min,this.max),this.detectChanges()}onPageChange(){ou.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=z(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleDateChange(e){const t=this.bus.canMoveDown(this.activeViewEnum),n=!t&&bF(e,this.value);this.focusedDate=fF(e)||this.focusedDate,this.disabled||(n?this.emitSameDate():t?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(e)||this.ngZone.run(()=>{this.value=fF(e),this.onControlChange(fF(e)),this.valueChange.emit(fF(e)),this.cdr.markForCheck()}))}writeValue(e){this.verifyValue(e),this.focusedDate=nA(fF(e)||this.focusedDate,this.min,this.max),this.value=fF(e),this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case SA.month:return this.monthCellTemplate||this.cellTemplate;case SA.year:return this.yearCellTemplate;case SA.decade:return this.decadeCellTemplate;case SA.century:return this.centuryCellTemplate;default:return null}}emitEvent(e,t){db(e)&&this.ngZone.run(()=>{e.emit(t)})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-infinite")}verifyChanges(){if(Si()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if(Si()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json for possible resolution.")}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",IA),this.renderer.listen(e,"click",this.handleClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit()}handleBlur(e){this.isActive=!1,!this.pickerService&&EA(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):(this.emitBlur(e),this.detectChanges())}handleFocus(){this.isActive=!0,ou.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleClick(){this.isActive||(this.monthView.isScrolled()&&(this.focusedDate=fF(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(e){const t=-1!==[Tb.ArrowUp,Tb.ArrowRight,Tb.ArrowDown,Tb.ArrowLeft].indexOf(e.keyCode);if(_A(this.pickerService)&&t&&e.altKey)return;const n=nA(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);bF(this.focusedDate,n)||(this.focusedDate=n,this.detectChanges(),e.preventDefault()),e.keyCode===Tb.Enter&&this.handleDateChange(this.focusedDate)}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){if(!_A(this.element))return;const e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(kA),Ro(ZA),Ro(Wa),Ro(pO),Ro(Ja),Ro(Wr),Ro(ou),Ro(uo),Ro(fO),Ro(_O),Ro(xO,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar"]],contentQueries:function(e,t,n){var i;1&e&&(Ac(n,gO,!0),Ac(n,mO,!0),Ac(n,vO,!0),Ac(n,yO,!0),Ac(n,bO,!0),Ac(n,wO,!0),Ac(n,CO,!0),Ac(n,SO,!0)),2&e&&(Ic(i=Rc())&&(t.cellTemplate=i.first),Ic(i=Rc())&&(t.monthCellTemplate=i.first),Ic(i=Rc())&&(t.yearCellTemplate=i.first),Ic(i=Rc())&&(t.decadeCellTemplate=i.first),Ic(i=Rc())&&(t.centuryCellTemplate=i.first),Ic(i=Rc())&&(t.weekNumberTemplate=i.first),Ic(i=Rc())&&(t.headerTitleTemplate=i.first),Ic(i=Rc())&&(t.navigationItemTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(Tc(uO,!0),Tc(hO,!0)),2&e&&(Ic(n=Rc())&&(t.navigationView=n.first),Ic(n=Rc())&&(t.monthView=n.first))},hostVars:8,hostBindings:function(e,t){2&e&&(Fo("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled),ua("k-week-number",t.weekNumber)("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[Ga([kA,FO,DO,AO,jb,_O,{provide:zb,useValue:"kendo.calendar"},pO,fO]),Pa],decls:5,vars:12,consts:[["kendoCalendarLocalizedMessages","",6,"today"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","value","valueChange","activeDateChange","pageChange"],[3,"resize"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"]],template:function(e,t){if(1&e&&(zo(0,0),Gl(1,fD),jo(),Ao(2,gD,1,5,"kendo-calendar-navigation",1),Vo(3,"kendo-calendar-viewlist",2),$o("valueChange",(function(e){return t.handleDateChange(e)}))("activeDateChange",(function(e){return t.emitEvent(t.activeViewDateChange,e)}))("pageChange",(function(){return t.onPageChange()})),Ho(),Vo(4,"kendo-resize-sensor",3),$o("resize",(function(){return t.onResize()})),Ho()),2&e){var n;const e=null==(n=t.activeCellTemplate())?null:n.templateRef;ms(2),Lo("ngIf",t.navigation),ms(1),Lo("activeView",t.activeViewEnum)("isActive",t.isActive)("cellTemplateRef",e)("headerTitleTemplateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("value",t.value)}},directives:function(){return[eR,Mh,hO,Eb,uO]},encapsulation:2,changeDetection:0}),e})();const RO=()=>(e,t)=>!_A(e.value)&&t?{incompleteDate:!0}:null;var PO=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({});const NO=/year|month|<day>/,LO=/hour|minute|second|millisecond/,MO=/d|M|H|h|m|s/,VO=e=>e.replace(/^0*/,"");class HO{constructor(){this.symbols=""}}class BO{constructor(e,t,n,i){if(this.intl=e,this.formatPlaceholder=t,this.format=n,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=yF(new Date),this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),i)this.value=fF(i);else{this.value=yF(new Date);const e=this.dateFormatString(this.value,this.format).symbols;for(let t=0;t<e.length;t++)this.setExisting(e[t],!1)}}hasValue(){return this.intl.splitDateFormat(this.format).reduce((e,t)=>e||"literal"!==t.type&&"dayperiod"!==t.type&&this.getExisting(t.pattern[0]),!1)}getDateObject(){for(let e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return fF(this.value)}getTextAndFormat(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}getExisting(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}setExisting(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;default:return}}modifyPart(e,t){let n=fF(this.value);switch(e){case"y":n.setFullYear(n.getFullYear()+t);break;case"M":n=CF(this.value,t);break;case"d":case"E":n.setDate(n.getDate()+t);break;case"h":case"H":n.setHours(n.getHours()+t);break;case"m":n.setMinutes(n.getMinutes()+t);break;case"s":n.setSeconds(n.getSeconds()+t);break;case"a":n.setHours(n.getHours()+12*t)}n.getFullYear()>0&&(this.setExisting(e,!0),this.value=n)}parsePart(e,t,n){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};let i=this.intl.formatDate(this.value,this.format),s=this.dateFormatString(this.value,this.format),r=s.symbols,o=!1,a="",l="",c="";for(let m=0;m<i.length;m++)r[m]===e?(l+=this.getExisting(e)?i[m]:"0",o=!0):o?c+=i[m]:a+=i[m];let u=l.length-3,h=null;const d=this.matchMonth(t),p=this.matchDayPeriod(t,e),f="0"===t,g=(this.leadingZero||{})[e]||0;f?0!==parseInt(n?t:l+t,10)||this.isAbbrMonth(s.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(let m=Math.max(0,u);m<=l.length;m++){let i=n?t:l.substring(m)+t,r=parseInt(i,10);if(h=this.intl.parseDate(a+i+c,this.format),!h&&!isNaN(r)&&!isNaN(parseInt(t,10))){if("M"===e&&!d){const e=r-1;e>-1&&e<12&&(h=fF(this.value),h.setMonth(e),h.getMonth()!==e&&(h=wF(CF(h,-1))))}"y"===e&&(h=vF(parseInt(i,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&h.getDate()!==this.value.getDate()&&(h=wF(CF(h,-1))))}if(h){const n=this.partPattern(s.partMap,e).pattern,r=this.intl.parseDate(`${a}${this.peek(i,n)}${c}`,this.format),o=this.patternLength(n)||n.length,l=g+(VO(i)||t).length>=o,u=null===r||l;return this.value=h,this.setExisting(e,!0),{value:this.value,switchToNext:u}}}return d&&(h=this.intl.parseDate(a+d+c,this.format),h)?(this.value=h,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):p&&(h=this.intl.parseDate(a+p+c,this.format),h)?(this.value=h,{value:this.value,switchToNext:!0}):(f&&this.setExisting(e,!1),{value:null,switchToNext:!1})}resetLeadingZero(){const e=null!==this.leadingZero;return this.setLeadingZero(null),e}setLeadingZero(e){this.leadingZero=e}incrementLeadingZero(e){const t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}isAbbrMonth(e,t){const n=this.partPattern(e,t);return"month"===n.type&&n.names}partPattern(e,t){return e.filter(e=>-1!==e.pattern.indexOf(t))[0]}peek(e,t){const n=VO(e)+"0";return(e=>new Array(Math.max(e,0)).fill("0").join(""))(t.length-n.length)+n}matchMonth(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(let t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];const e=parseInt(this.typedMonthPart,10);if(e>=1&&e<=12&&e.toString()===this.typedMonthPart)return this.monthNames[e-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(e,t){const n=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}allFormatedMonths(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}allDayPeriods(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}patternLength(e){return"y"===e[0]?4:MO.test(e)?2:0}dateFormatString(e,t){const n=this.intl.splitDateFormat(t),i=[],s=[];for(let o=0;o<n.length;o++){let t=this.intl.formatDate(e,{pattern:n[o].pattern}).length;for(;t>0;)i.push(this.symbols[n[o].pattern[0]]||"_"),s.push(n[o]),t--}const r=new HO;return r.symbols=i.join(""),r.partMap=s,r}merge(e,t){let n="",i="",s=t.symbols;for(let r=s.length-1;r>=0;r--)if(-1===this.knownParts.indexOf(s[r])||this.getExisting(s[r]))n=e[r]+n,i=s[r]+i;else{const e=s[r];for(;r>=0&&e===s[r];)r--;for(r++,n=this.leadingZero&&this.leadingZero[e]?"0"+n:this.dateFieldName(t.partMap[r])+n;i.length<n.length;)i=s[r]+i}return[n,i]}dateFieldName(e){const t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}}let zO=(()=>{class e{constructor(e,t,n,i,s,r,o,a){this.cdr=e,this.intl=t,this.renderer=n,this.element=i,this.ngZone=s,this.injector=r,this.localization=o,this.pickerService=a,this.focusableId="k-"+pb(),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="spinbutton",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.rangeValidation=!0,this.autoCorrect=!1,this.incompleteDateValidation=!1,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new gc,this.valueUpdate=new gc,this.onFocus=new gc,this.onBlur=new gc,this.arrow=PO,this.arrowDirection=PO.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.isDateIncomplete=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidator=sA,this.maxValidator=sA,this.incompleteValidator=sA,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=sA,this.onControlTouched=sA,this.onValidatorChange=sA,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set value(e){this.verifyValue(e),this.autoCorrect&&!eA(e,this.min,this.max)||(this._value=fF(e),this.valueUpdate.emit(fF(e)))}get value(){return this._value}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(e){if(this._active=e,this.wrap&&!_A(this.pickerService)){const t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}isEmpty(){return!this.currentValue||!String(this.currentValue).trim()}containsElement(e){return Boolean(cO(e,e=>e===this.element.nativeElement))}ngOnChanges(e){this.verifyRange(),(e.min||e.max||e.rangeValidation||e.incompleteDateValidation)&&(this.minValidator=this.rangeValidation?kO(this.min):sA,this.maxValidator=this.rangeValidation?EO(this.max):sA,this.incompleteValidator=this.incompleteDateValidation?RO():sA,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());const t=this.kendoDate&&bF(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(e=>e())}validate(e){return this.minValidator(e)||this.maxValidator(e)||this.incompleteValidator(e,this.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}ngOnInit(){this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.ngControl=this.injector.get(kw,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular(()=>{this.bindEvents()}))}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}writeValue(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=fF(e),this.updateElementValue(this.isActive)}triggerChange(){const e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=fF(e),this.notify())}notify(){this.ngZone.run(()=>{this.onControlChange(fF(this.value)),this.valueChange.emit(fF(this.value))})}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}focus(){const e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}blur(){const e=this.inputElement;e&&e.blur()}handleButtonClick(e){this.arrowDirection=PO.None,this.modifyDateSegmentValue(e)}modifyDateSegmentValue(e){const t=this.caret(),n=this.currentFormat[t[0]];this.kendoDate.modifyPart(n,e*((this.steps||{})[this.symbolsMap[n]]||1)),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(n),this.updateIncompleteValidationStatus()}switchDateSegment(e){const t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;const n=this.currentFormat[t[0]];let i=t[0]+e;for(;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===n||"_"===this.currentFormat[i]);)i+=e;if("_"===this.currentFormat[i])return!1;let s=i;for(;s>=0&&s<this.currentFormat.length&&this.currentFormat[s]===this.currentFormat[i];)s+=e;return i>s&&(s+1!==t[0]||i+1!==t[1])?(this.caret(s+1,i+1),this.resetSegmentValue=!0,!0):i<s&&(i!==t[0]||s!==t[1])&&(this.caret(i,s),this.resetSegmentValue=!0,!0)}selectDateSegment(e){let t=-1,n=0;for(let i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===e&&(n=i+1,-1===t&&(t=i));t<0&&(t=0),this.caret(0,0),this.caret(t,n)}handleClick(){if(this.hasMousedown=!1,this.isActive){const e=this.inputElement.selectionStart!==this.inputElement.selectionEnd,t=_A(this.placeholder)&&!this.kendoDate.hasValue()&&!this.focusedPriorToMousedown,n=!e&&t?0:this.caret()[0];this.selectNearestSegment(n)}}handleDragAndDrop(e){e.preventDefault()}handleMousedown(){this.hasMousedown=!0,this.focusedPriorToMousedown=this.isActive}handleFocus(e){this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,db(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(e)}):this.emitFocus(e)}handleBlur(e){this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),db(this.onBlur)||EA(this.ngControl)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):this.emitBlur(e)}getKendoDate(e){const{leadingZero:t}=this.kendoDate||{}||null,n=new BO(this.intl,this.formatPlaceholder,this.format,e);return n.setLeadingZero(this.isActive?t:null),n}dateSymbolMap(){return this.intl.splitDateFormat(this.format).reduce((e,t)=>(e[t.pattern[0]]=t.type,e),{})}updateElementValue(e){const t=this.caret()[0],n=this.kendoDate.getTextAndFormat(),i=!this.isActive&&_A(this.placeholder)&&!this.kendoDate.hasValue(),s=this.inputElement;this.currentFormat=n[1],this.currentValue=i?"":n[0],this.renderer.setProperty(s,"value",this.currentValue),s.placeholder!==this.placeholder&&this.renderer.setProperty(s,"placeholder",this.placeholder),e&&this.selectNearestSegment(t)}caret(e,t=e){const n=void 0!==e;let i=[e,e];const s=this.inputElement;if(!n||!this.disabled&&!this.readonly){try{void 0!==s.selectionStart&&(n&&(cb()&&document.activeElement!==s&&s.focus(),s.setSelectionRange(e,t)),i=[s.selectionStart,s.selectionEnd])}catch(r){i=[]}return i}}selectNearestSegment(e){for(let t=e,n=e-1;t<this.currentFormat.length||n>=0;t++,n--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}}verifyRange(){if(Si()&&!tA(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}verifyValue(e){if(Si()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}putDateInRange(){const e=this.kendoDate.getDateObject(),t=nA(e,this.min,this.max);this.autoCorrect&&!bF(e,t)&&(this.kendoDate=this.getKendoDate(t))}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.format).reduce(({date:e,time:t},n)=>({date:e||NO.test(n.type),time:t||LO.test(n.type)}),{date:!1,time:!1})}intlChange(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}updateOnPaste(){const e=this.intl.parseDate(this.inputValue,this.format)||this.value,t=+e!=+this.value;this.writeValue(e),t&&this.notify()}bindEvents(){const e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}handleMouseWheel(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}handlePaste(){this.paste=!0}handleKeydown(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==Tb.Tab)if(e.keyCode!==Tb.Backspace){switch(e.keyCode){case Tb.ArrowDown:this.modifyDateSegmentValue(-1);break;case Tb.ArrowUp:this.modifyDateSegmentValue(1);break;case Tb.ArrowRight:this.switchDateSegment(1);break;case Tb.ArrowLeft:this.switchDateSegment(-1);break;case Tb.Home:this.selectNearestSegment(0);break;case Tb.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}handleInput(){if(this.disabled||this.readonly)return;if(this.paste)return this.updateOnPaste(),void(this.paste=!1);const e=((e,t,n,i)=>{const s=i+e.length-n.length,r=e[s],o=e.substring(0,i+e.length-n.length),a=n.substring(0,i),l=[];if(o===a&&i>0)return l.push([t[i-1],a[i-1]]),l;if(0===o.indexOf(a)&&(0===a.length||t[a.length-1]!==t[a.length])){let e="";1===a.length&&l.push([t[0],a[0]]);for(let n=a.length;n<o.length;n++)t[n]!==e&&"_"!==t[n]&&(e=t[n],l.push([e,""]));return l}if(0===a.indexOf(o)||"_"===t[i-1]){let e=t[0];for(let n=Math.max(0,o.length-1);n<t.length;n++)if("_"!==t[n]){e=t[n];break}return[[e,a[i-1]]]}return" "===a[a.length-1]||a[a.length-1]===r&&"_"===t[s]?[[t[i-1],"_"]]:[[t[i-1],a[i-1]]]})(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1];let n=!1;if(!t){let t;for(let s=0;s<e.length;s++)t=this.kendoDate.parsePart(e[s][0],e[s][1],this.resetSegmentValue),n=t.switchToNext;const i=this.kendoDate.getDateObject();this.value&&i&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(JD(this.value,i)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.updateIncompleteValidationStatus(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(n||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}emitFocus(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}emitBlur(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}updateIncompleteValidationStatus(){const e=this.isDateIncomplete;this.isDateIncomplete=this.kendoDate.hasValue()&&null===this.value,e!==this.isDateIncomplete&&this.incompleteDateValidation&&(_A(this.ngControl)&&!_A(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())):_A(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wr),Ro(uT),Ro(Ja),Ro(Wa),Ro(ou),Ro(uo),Ro(jb),Ro(xO,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){var n;1&e&&(_c(mD,!0),Tc(vD,!0)),2&e&&(Ic(n=Rc())&&(t.dateInput=n.first),Ic(n=Rc())&&(t.wrap=n.first))},hostVars:6,hostBindings:function(e,t){2&e&&ua("k-widget",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",format:"format",placeholder:"placeholder",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",incompleteDateValidation:"incompleteDateValidation",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder",steps:"steps",max:"max",min:"min"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[Ga([{provide:fw,useExisting:xe(()=>e),multi:!0},{provide:Fw,useExisting:xe(()=>e),multi:!0},{provide:zb,useValue:"kendo.dateinput"},{provide:_b,useExisting:xe(()=>e)},jb]),Pa],decls:7,vars:21,consts:[["kendoDateInputLocalizedMessages","",6,"increment","decrement"],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,yD),jo(),Vo(2,"span",1,2),Bo(4,"input",3,4),Ao(6,bD,5,8,"span",5),Ho()),2&e&&(ms(4),Lo("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",function(e,t,n,i,s,r,o,a,l,c){const u=rn()+13,h=Zt();let d=To(h,u,n,i,s,r);return _o(h,u+4,o,a,l)||d?xo(h,u+7,t(n,i,s,r,o,a,l)):ko(h,u+7)}(0,wD,t.handleClick,t.handleFocus,t.handleMousedown,t.handleMousedown,t.handleDragAndDrop,t.handleDragAndDrop,t.handleBlur))("scope",t),Fo("role",t.role)("aria-readonly",t.ariaReadOnly)("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup),ms(2),Lo("ngIf",t.spinners))},directives:function(){return[oR,mb,Mh]},encapsulation:2,changeDetection:0}),e})();class jO{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const UO=new Ve("dateinputs-touch-enabled");let GO=(()=>{class e{constructor(e,t,n,i,s,r,o,a,l,c){this.zone=e,this.localization=t,this.cdr=n,this.popupService=i,this.element=s,this.renderer=r,this.injector=o,this.pickerService=a,this.disabledDatesService=l,this.touchEnabled=c,this.focusableId="k-"+pb(),this.activeView=SA[SA.month],this.bottomView=SA[SA.month],this.topView=SA[SA.century],this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.navigation=!0,this.min=fF(ZD),this.max=fF(YD),this.incompleteDateValidation=!1,this.focusedDate=null,this.format="d",this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new gc,this.onFocus=new gc,this.onBlur=new gc,this.open=new gc,this.close=new gc,this.wrapperClasses=!0,this.popupUID=pb(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=sA,this.onControlTouched=sA,this.onValidatorChange=sA,this.minValidateFn=sA,this.maxValidateFn=sA,this.disabledDatesValidateFn=sA,this.incompleteValidator=sA,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set value(e){this.verifyValue(e),this._value=fF(e)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}get disabledClass(){return this.disabled}get inputRole(){return this.readOnlyInput?"listbox":"spinbutton"}get isActive(){return this._active}set isActive(e){if(this._active=e,!this.wrapper)return;const t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}get show(){return this._show}set show(e){e&&(this.disabled||this.readonly)||(e||this._show&&db(this.close)?this.zone.run(()=>{this.togglePopup(e)}):this.togglePopup(e))}isEmpty(){return!this.value&&this.input.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(kw,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()}))}ngOnChanges(e){var t;this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?kO(this.min):sA,this.maxValidateFn=this.rangeValidation?EO(this.max):sA,this.disabledDatesValidateFn=this.disabledDatesValidation?(t=this.disabledDatesService.isDateDisabled,e=>t&&e.value&&t(e.value)?{disabledDate:!0}:null):sA,this.incompleteValidator=this.incompleteDateValidation?RO():sA,this.onValidatorChange())}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(e){this.verifyValue(e),this.value=fF(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.input&&this.input.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}focus(){this.input.focus()}blur(){(this.calendar||this.input).blur()}toggle(e){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this._toggle(void 0===e?!this.show:e)})}handleIconClick(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleMousedown(e){e.preventDefault()}handleChange(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(fF(e)),this.valueChange.emit(fF(e))}handleInputChange(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}get popupClasses(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}get input(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}mergeTime(e){return this.value&&e?JD(e,this.value):e}handleKeydown(e){const{altKey:t,keyCode:n}=e;n===Tb.Escape&&(this.show=!1),t&&(n!==Tb.ArrowDown||this.show||(this.show=!0),n===Tb.ArrowUp&&(this.show=!1)),n===Tb.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}togglePopup(e){const t=new jO;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}_toggle(e){if(e!==this._show)if(this._show=e,e){const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:e},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:e},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()}focusInput(){this.touchEnabled||this.input.focus()}toggleFocus(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}verifySettings(){if(Si()&&!tA(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}verifyValue(e){if(Si()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}bindEvents(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),"undefined"!=typeof window&&(this.windowBlurSubscription=lb(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,db(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){this.isOpen&&(this.show=!1)}handleBlur(e){const t=e&&(e.relatedTarget||document.activeElement);t&&(this.input.containsElement(t)||this.calendar&&this.calendar.containsElement(t))||(db(this.onBlur)||this.show&&db(this.close)||EA(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}}return e.\u0275fac=function(t){return new(t||e)(Ro(ou),Ro(jb),Ro(Wr),Ro(Bx),Ro(Wa),Ro(Ja),Ro(uo),Ro(xO),Ro(_O),Ro(UO,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,n){var i;1&e&&(Dc(n,gO,!0),Dc(n,mO,!0),Dc(n,vO,!0),Dc(n,yO,!0),Dc(n,bO,!0),Dc(n,wO,!0),Dc(n,CO,!0),Dc(n,SO,!0)),2&e&&(Ic(i=Rc())&&(t.cellTemplate=i.first),Ic(i=Rc())&&(t.monthCellTemplate=i.first),Ic(i=Rc())&&(t.yearCellTemplate=i.first),Ic(i=Rc())&&(t.decadeCellTemplate=i.first),Ic(i=Rc())&&(t.centuryCellTemplate=i.first),Ic(i=Rc())&&(t.weekNumberTemplate=i.first),Ic(i=Rc())&&(t.headerTitleTemplate=i.first),Ic(i=Rc())&&(t.navigationItemTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(Tc(CD,!0,wl),Tc(SD,!0),Tc(xD,!0)),2&e&&(Ic(n=Rc())&&(t.container=n.first),Ic(n=Rc())&&(t.popupTemplate=n.first),Ic(n=Rc())&&(t.wrapper=n.first))},hostVars:6,hostBindings:function(e,t){2&e&&ua("k-widget",t.wrapperClasses)("k-datepicker",t.wrapperClasses)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",focusedDate:"focusedDate",format:"format",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[Ga([{provide:fw,useExisting:xe(()=>e),multi:!0},{provide:Fw,useExisting:xe(()=>e),multi:!0},{provide:_b,useExisting:xe(()=>e)},jb,xO,_O,{provide:zb,useValue:"kendo.datepicker"}]),Pa],decls:12,vars:25,consts:[["kendoDatePickerLocalizedMessages","",6,"today","toggle"],[1,"k-picker-wrap"],["wrapper",""],[3,"role","focusableId","hasPopup","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","format","formatPlaceholder","placeholder","min","max","incompleteDateValidation","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"min","max","navigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,kD),jo(),Vo(2,"span",1,2),Vo(4,"kendo-dateinput",3,4),$o("valueChange",(function(e){return t.handleInputChange(e)})),Ho(),Vo(6,"span",5),Bo(7,"span",6),Ho(),Ho(),Uo(8,null,7),Ao(10,_D,4,23,"ng-template",null,8,Mc)),2&e&&(ms(2),ua("k-state-disabled",t.disabled),ms(2),Lo("role",t.inputRole)("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("ariaReadOnly",t.readonly)("tabindex",t.tabindex)("title",t.title)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("incompleteDateValidation",t.incompleteDateValidation)("value",t.value),ms(2),Lo("kendoEventsOutsideAngular",nc(22,TD,t.handleIconClick,t.handleMousedown))("scope",t),Fo("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")))},directives:function(){return[uR,zO,mb,OO,tR]},encapsulation:2,changeDetection:0}),e})();class qO{constructor(e,t,n,i){this.$implicit=e,this.kForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let KO=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._differ=null}set kForTemplate(e){e&&(this._template=e)}ngOnChanges(e){if("kForOf"in e){const i=e.kForOf.currentValue;if(this._differ||!i)return;try{this._differ=this._differs.find(i).create(this.kForTrackBy)}catch(n){throw new Error(`Cannot find a differ supporting object '${i}' of type '${t=i,t.name||typeof t}'.`)}}var t}ngDoCheck(){if(this._differ){const e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}_applyChanges(e){if(!cb())return;const t=this._viewContainer.length,n=this.kForOf.length,i={};e.forEachOperation((e,t,n)=>{null!==n&&(i[n]=e.item)});for(let s=t;s<n;s++)this._viewContainer.createEmbeddedView(this._template,new qO(null,this.kForOf,-1,-1),s);for(let s=this._viewContainer.length;s>n;s--)this._viewContainer.remove(s-1);for(let s=0;s<this._viewContainer.length;s++){const e=this._viewContainer.get(s);e.context.index=s,e.context.count=length,e.context.$implicit=i[s]||null}}}return e.\u0275fac=function(t){return new(t||e)(Ro(wl),Ro(yl),Ro(pl))},e.\u0275dir=bt({type:e,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[Pa]}),e})(),$O=(()=>{class e{constructor(e,t,n,i,s){this.bus=e,this.cdr=t,this.localization=n,this.intl=i,this.disabledDatesService=s,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(ZD),this.max=new Date(YD),this.rangeLength=1,this.today=new gc,this.subscriptions=new h}get getComponentClass(){return!0}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(e){this.bus.service(this.activeView)&&(this.activeViewValue=SA[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.today.emit(nA(iA(),this.min,this.max)))}handleNavigation(){this.navigate&&this.bus.moveUp(this.activeView)}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const e=this.bus.service(this.activeView),t=this.rangeLength-1,n=e.title(this.currentDate),i=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(i,this.min,this.max)?n:`${n} - ${e.title(i)}`}setTodayAvailability(){const e=iA(),t=eA(e,yF(this.min),yF(this.max)),n=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!n,this.cdr.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(Ro(kA),Ro(Wr),Ro(jb),Ro(uT),Ro(_O))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-header"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-calendar-header",t.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{today:"today"},features:[Pa],decls:5,vars:21,consts:[[1,"k-button","k-bare","k-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-today",3,"kendoEventsOutsideAngular","scope"]],template:function(e,t){1&e&&(Vo(0,"span",0),Ao(1,FD,1,1,"ng-template",1),Ao(2,DD,0,0,"ng-template",2),Ho(),Vo(3,"span",3),Ca(4),Ho()),2&e&&(ua("k-state-disabled",!t.navigate),Lo("kendoEventsOutsideAngular",tc(13,cD,t.handleNavigation))("scope",t),ms(1),Lo("ngIf",!t.templateRef),ms(1),Lo("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",ic(15,aD,t.title,t.activeViewValue,t.currentDate)),ms(1),ua("k-state-disabled",!t.todayAvailable),Lo("kendoEventsOutsideAngular",tc(19,cD,t.handleTodayClick))("scope",t),ms(1),xa(" ",t.todayMessage," "))},directives:[mb,Mh,qh],encapsulation:2}),e})(),WO=(()=>{class e{constructor(e){this.intl=e}getWeekNames(e=!1){const t=rA(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}}return e.\u0275fac=function(t){return new(t||e)(We(uT))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),ZO=(()=>{class e{constructor(e,t,n,i,s,r,o,a){this.bus=e,this.intl=t,this.cdr=n,this.weekService=i,this.element=s,this.zone=r,this.renderer=o,this.disabledDatesService=a,this.direction="vertical",this.isActive=!0,this.change=new gc,this.cellEnter=new gc,this.cellLeave=new gc,this.weekNames=[],this.colSpan=0,this.subscriptions=new h,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}get weekNumber(){return this.showWeekNumbers&&this.activeView===SA.month}set weekNumber(e){this.showWeekNumbers=e}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.service=this.bus.service(this.activeView),this.service&&(this.isHorizontal()&&0===this.weekNames.length&&(e.weekNumber||e.direction)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.colSpan=this.service.rowLength(this.weekNumber),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(e=>e())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===SA.month}firstDate(e){const t=this.firstWeekDateContext(e);return t?t.value:null}getWeekNumber(e){return this.weekNumber?GF(e,this.intl.firstDay()):null}getWeekNumberContext(e){const t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;const n=GF(t.value,this.intl.firstDay()).toString();return{formattedValue:n,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:n,value:fF(t.value)}}getStyles(e){const{isRangeEnd:t,isRangeStart:n}=e;return i={"k-range-end":t,"k-range-mid":e.isRangeMid,"k-range-split-end":e.isRangeSplitEnd,"k-range-split-start":e.isRangeSplitStart,"k-range-start":n,"k-state-active":"start"===this.activeRangeEnd&&n||"end"===this.activeRangeEnd&&t,"k-state-focused":this.isActive&&e.isFocused,"k-state-selected":e.isSelected||n||t,"k-today":e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled},Object.keys(i).reduce((e,t)=>i[t]?e.concat(t):e,[]).join(" ");var i}tableCellIndex(e,t){return`${e}:${t}`}firstWeekDateContext(e){if(!this.weekNumber)return null;let t=0,n=e[t];for(;!n&&t<e.length;)n=e[++t];return n}updateData(){const e=this.selectedDate||iA(),t=JD(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDate:this.selectedDate,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled})}intlChange(){this.updateData(),this.isHorizontal()&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}clickHandler(e){const t=this.closestCell(e);if(t){const e=t.getAttribute("data-cell-index"),n=this.cellByIndex(e);n.isDisabled||this.change.emit(n.value)}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(e){const t=this.closestCell(e);if(t){const e=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==e&&this.emitCellLeave();const n=this.cellByIndex(e).value;this.cellEnter.emit(n),this.currentCellIndex=e}else this.currentCellIndex&&this.emitCellLeave()}closestCell(e){return lO(e.target,e=>e.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}cellByIndex(e){const[t,n]=e.split(":");return this.data[t][n]}}return e.\u0275fac=function(t){return new(t||e)(Ro(kA),Ro(uT),Ro(Wr),Ro(WO),Ro(Wa),Ro(ou),Ro(Ja),Ro(_O))},e.\u0275cmp=pt({type:e,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",selectedDate:"selectedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{change:"change",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[Pa],attrs:AD,decls:5,vars:3,consts:[["emptyCell",""],["role","row",4,"ngIf"],["role","row",4,"kFor","kForOf"],[1,"k-empty"],["role","row"],["scope","col",3,"colSpan"],[4,"ngFor","ngForOf"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt",4,"ngIf","ngIfElse"],[1,"k-alt"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ao(0,OD,2,0,"ng-template",null,0,Mc),Ao(2,RD,3,2,"tr",1),Ao(3,ND,2,1,"tr",1),Ao(4,KD,3,2,"tr",2)),2&e&&(ms(2),Lo("ngIf",!t.isHorizontal()),ms(1),Lo("ngIf",t.isMonthView()&&t.isHorizontal()),ms(1),Lo("kForOf",t.data))},directives:[Mh,KO,Nh,qh,Rh],encapsulation:2}),e})(),YO=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,vb]]}),e})(),QO=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),JO=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return XO(t||e)},e.\u0275dir=bt({type:e,inputs:{today:"today"},features:[Ta]}),e})();const XO=oi(JO);let eR=(()=>{class e extends JO{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[Ga([{provide:JO,useExisting:xe(()=>e)}]),Ta]}),e})(),tR=(()=>{class e extends JO{constructor(e){super(),this.service=e}get override(){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-messages"]],features:[Ga([{provide:JO,useExisting:xe(()=>e)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),nR=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})(),iR=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[ZA,dA,gA,yA,CA,WO],imports:[[$h,YO,_T,QO,nR,vb,Ib],YO,QO]}),e})(),sR=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return rR(t||e)},e.\u0275dir=bt({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[Ta]}),e})();const rR=oi(sR);let oR=(()=>{class e extends sR{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[Ga([{provide:sR,useExisting:xe(()=>e)}]),Ta]}),e})(),aR=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,_T,vb]]}),e})(),lR=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return cR(t||e)},e.\u0275dir=bt({type:e,inputs:{today:"today",toggle:"toggle"},features:[Ta]}),e})();const cR=oi(lR);let uR=(()=>{class e extends lR{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[Ga([{provide:lR,useExisting:xe(()=>e)}]),Ta]}),e})(),hR=(()=>{class e extends lR{constructor(e){super(),this.service=e}get override(){return!0}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-datepicker-messages"]],features:[Ga([{provide:lR,useExisting:xe(()=>e)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const dR=ek;let pR=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:UO,useValue:dR}],imports:[[$h,aR,iR,_T,zx,QO,vb],QO]}),e})();$localize`:kendo.floatinglabel.optional|The text for the optional segment of a FloatingLabel component␟d6b1dd6fb7530bd600b430042425d10b22163d1f␟356911862062553631:Optional`;const fR=["*"],gR=["optional",$localize`:kendo.label.optional|The text for the optional segment of a Label component␟a1cd4a8f359a22151d7e73f2887fbb2967cd389a␟3476218486854814180:Optional`];function mR(e,t){if(1&e&&(Vo(0,"span",3),Ca(1),Ho()),2&e){const e=Yo();ms(1),xa("(",e.textFor("optional"),")")}}let vR=(()=>{class e{constructor(e,t,n){this.label=e,this.renderer=t,this.zone=n,this.labelClass=!0,this.handleClick=()=>{const e=this.getFocusableComponent();e&&((e=>e.wrapper&&"KENDO-UPLOAD"===e.wrapper.tagName)(e)&&e.fileSelect.nativeElement.click(),e.focus&&e.focus(),((e,t)=>(e=>e instanceof HTMLInputElement&&/^(checkbox|radio)$/.test(e.type)&&!e.hidden)(e)&&!((e,t)=>e.parentElement===t||t.hasAttribute("for"))(e,t))(e,this.label.nativeElement)&&e.click())}}get labelFor(){if("string"==typeof this.for)return this.for;if(!cb())return null;const e=this.getFocusableComponent()||{};return e.focusableId||e.id||null}ngAfterViewInit(){this.setAriaLabelledby(),this.zone.runOutsideAngular(()=>this.clickListener=this.renderer.listen(this.label.nativeElement,"click",this.handleClick))}ngOnDestroy(){this.clickListener&&this.clickListener()}setAriaLabelledby(){if(!cb())return;const e=this.getFocusableComponent();if(e&&e.focusableId){const t=(e=>{if(!e)return null;let t=e;for(;t.parentElement;)t=t.parentElement;return t})(this.label.nativeElement).querySelector("#"+e.focusableId);if(!t)return;const n=this.label.nativeElement,i=n.id||"k-"+pb();n.getAttribute("id")||this.renderer.setAttribute(n,"id",i),this.renderer.setAttribute(t,"aria-labelledby",i)}}getFocusableComponent(){const e=this.for;return e&&void 0!==e.focus?e:null}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Ja),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["label","for",""]],hostVars:3,hostBindings:function(e,t){2&e&&(Fo("for",t.labelFor),ua("k-label",t.labelClass))},inputs:{for:"for"}}),e})(),yR=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return bR(t||e)},e.\u0275dir=bt({type:e,inputs:{optional:"optional"},features:[Ta]}),e})();const bR=oi(yR);let wR=(()=>{class e extends yR{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoLabelLocalizedMessages",""],["","kendoFloatingLabelLocalizedMessages",""]],features:[Ga([{provide:yR,useExisting:xe(()=>e)}]),Ta]}),e})(),CR=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),SR=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,CR],CR]}),e})(),xR=(()=>{class e{constructor(e,t,n){this.elementRef=e,this.renderer=t,this.localization=n,this.subscriptions=new h,this.direction=n.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}ngAfterContentInit(){if(this.for)return void(this.control=this.for);const e=this.elementRef.nativeElement.querySelector("kendo-label > input, kendo-label > textarea, kendo-label > select");if(e)return e.hasAttribute("id")||this.renderer.setAttribute(e,"id","k-"+pb()),void(this.control=e);this.control=this.kendoInput}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}))}ngAfterViewInit(){this.labelDirective.setAriaLabelledby()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}textFor(e){return this.localization.get(e)}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Ja),Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-label"]],contentQueries:function(e,t,n){var i;1&e&&Ac(n,_b,!0),2&e&&Ic(i=Rc())&&(t.kendoInput=i.first)},viewQuery:function(e,t){var n;1&e&&_c(vR,!0),2&e&&Ic(n=Rc())&&(t.labelDirective=n.first)},hostVars:1,hostBindings:function(e,t){2&e&&Fo("dir",t.direction)},inputs:{text:"text",for:"for",optional:"optional"},exportAs:["kendoLabel"],features:[Ga([jb,{provide:zb,useValue:"kendo.label"}])],ngContentSelectors:fR,decls:6,vars:5,consts:[["kendoLabelLocalizedMessages","",6,"optional"],[3,"for"],["class","k-label-optional",4,"ngIf"],[1,"k-label-optional"]],template:function(e,t){1&e&&(Jo(),zo(0,0),Gl(1,gR),jo(),Vo(2,"label",1),Ca(3),Ao(4,mR,2,1,"span",2),Ho(),Xo(5)),2&e&&(ms(2),ua("k-label-empty",!t.text),Lo("for",t.control),ms(1),xa(" ",t.text,""),ms(1),Lo("ngIf",t.optional))},directives:[wR,vR,Mh],encapsulation:2}),e})(),kR=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,CR],SR,CR]}),e})(),ER=(()=>{class e{constructor(){this.buttonLookChange=new Yf("default"),this.buttonClicked=new E,this.buttonClicked$=this.buttonClicked.asObservable()}click(e){this.buttonClicked.next(e)}setButtonLook(e){this.buttonLookChange.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),IR=(()=>{class e{constructor(e,t,n,i,s){this.service=n,this.ngZone=s,this.toggleable=!1,this.primary=!1,this.look="default",this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this.tabIndex=0,this.selectedChange=new gc,this.domEvents=[],this.direction=i.rtl?"rtl":"ltr",this.localizationChangeSubscription=i.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr"),this.element=e.nativeElement,this.renderer=t}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}get selected(){return this._selected||!1}set selected(e){this._selected=e}set icon(e){e?this.iconSetter(e,()=>{this.isIcon=!0,this.addIcon("k-icon k-i-"+e)}):(this.isIcon=!1,this.updateIconNode())}set iconClass(e){e?this.iconSetter(e,()=>{this.isIconClass=!0,this.addIcon(e)}):(this.isIconClass=!1,this.updateIconNode())}set imageUrl(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}set disabled(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}get classButton(){return!0}get classDisabled(){return this.isDisabled}get classPrimary(){return this.primary}get isFlat(){return"flat"===this.look}get isBare(){return"bare"===this.look}get isOutline(){return"outline"===this.look}get classActive(){return this.selected}ngOnInit(){this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(hg(e=>"default"!==e)).subscribe(e=>this.look=e)),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.ngZone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this)))})}ngOnChanges(e){(ub("togglable",e)||ub("toggleable",e))&&this.toggleAriaCheckbox(this.toggleable)}ngAfterViewChecked(){this.setIconTextClasses()}ngOnDestroy(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach(e=>e())}focus(){cb()&&this.element.focus()}blur(){cb()&&this.element.blur()}setAttribute(e,t){this.renderer.setAttribute(this.element,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.element,e)}setSelected(e){const t=this.selected!==e;this.selected=e,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),t&&db(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(e)})}toggleAriaCheckbox(e){cb()&&(e?(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.selected.toString())):(this.removeAttribute("role"),this.removeAttribute("aria-checked")))}hasText(){return!!cb()&&String(this.element.textContent).trim().length>0}addImgIcon(e){let t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):cb()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}addIcon(e){let t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):cb()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}prependChild(e){this.defer(()=>{this.renderer&&e!==this.element.firstChild&&this.renderer.insertBefore(this.element,e,this.element.firstChild)})}defer(e){this.ngZone.runOutsideAngular(()=>{this.deferTimeout=setTimeout(e,0)})}iconSetter(e,t){e&&t(e),this.setIconTextClasses()}removeImageNode(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}removeIconNode(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}updateIconNode(){this.isIcon||this.isIconClass||this.removeIconNode()}setIconTextClasses(){const e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}toggleClass(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}_onButtonClick(){this.toggleable&&(!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.service||this.setSelected(!this.selected))}}return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Ja),Ro(ER,8),Ro(jb),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["button","kendoButton",""]],hostVars:15,hostBindings:function(e,t){2&e&&(Fo("dir",t.direction),ua("k-button",t.classButton)("k-state-disabled",t.classDisabled)("k-primary",t.classPrimary)("k-flat",t.isFlat)("k-bare",t.isBare)("k-outline",t.isOutline)("k-state-active",t.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",tabIndex:"tabIndex",togglable:"togglable",selected:"selected",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},exportAs:["kendoButton"],features:[Ga([jb,{provide:zb,useValue:"kendo.button"}]),Pa]}),e})();class _R{}function TR(e){return void 0!==e}const FR=Math.PI/180,DR=Number.MAX_VALUE,AR=-Number.MAX_VALUE;function OR(e){return e*FR}function RR(e,t){const n=(i=t)?Math.pow(10,i):1;var i;return Math.round(e*n)/n}var PR=(()=>{class e extends _R{constructor(e=0,t=0,n=0,i=0,s=0,r=0){super(),this.a=e,this.b=t,this.c=n,this.d=i,this.e=s,this.f=r}multiplyCopy(t){return new e(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}invert(){const{a:t,b:n,c:i,d:s,e:r,f:o}=this,a=t*s-n*i;return 0===a?null:new e(s/a,-n/a,-i/a,t/a,(i*o-s*r)/a,(n*r-t*o)/a)}clone(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}round(e){return this.a=RR(this.a,e),this.b=RR(this.b,e),this.c=RR(this.c,e),this.d=RR(this.d,e),this.e=RR(this.e,e),this.f=RR(this.f,e),this}toArray(e){const t=[this.a,this.b,this.c,this.d,this.e,this.f];if(TR(e))for(let n=0;n<t.length;n++)t[n]=RR(t[n],e);return t}toString(e,t=","){return this.toArray(e).join(t)}static translate(t,n){return new e(1,0,0,1,t,n)}static unit(){return new e(1,0,0,1,0,0)}static rotate(t,n,i){const s=new e;return s.a=Math.cos(OR(t)),s.b=Math.sin(OR(t)),s.c=-s.b,s.d=s.a,s.e=n-n*s.a+i*s.b||0,s.f=i-i*s.a-n*s.b||0,s}static scale(t,n){return new e(t,0,0,n,0,0)}}return e.IDENTITY=e.unit(),e})(),NR=class extends _R{observers(){return this._observers=this._observers||[],this._observers}addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this}removeObserver(e){const t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this}trigger(e,t){const n=this._observers;if(n&&!this._suspended)for(let i=0;i<n.length;i++){let s=n[i];s[e]&&s[e](t)}return this}optionsChange(e={}){e.element=this,this.trigger("optionsChange",e)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function LR(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function MR(e){return function(){return this[e]}}var VR=(e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++){let i=t[n],s=i.charAt(0).toUpperCase()+i.substring(1,i.length);e["set"+s]=LR(i),e["get"+s]=MR(i)}}(n.prototype,t),n};function HR(e){return e&&"function"==typeof e.matrix?e.matrix():e}class BR extends(VR(NR,["x","y"])){constructor(e,t){super(),this.x=e||0,this.y=t||0}equals(e){return e&&e.x===this.x&&e.y===this.y}clone(){return new BR(this.x,this.y)}rotate(e,t){const n=BR.create(t)||BR.ZERO;return this.transform(PR.rotate(e,n.x,n.y))}translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}translateWith(e){return this.translate(e.x,e.y)}move(e,t){return this.x=this.y=0,this.translate(e,t)}scale(e,t=e){return this.x*=e,this.y*=t,this.geometryChange(),this}scaleCopy(e,t){return this.clone().scale(e,t)}transform(e){const t=HR(e),{x:n,y:i}=this;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this.geometryChange(),this}transformCopy(e){const t=this.clone();return e&&t.transform(e),t}distanceTo(e){const t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}round(e){return this.x=RR(this.x,e),this.y=RR(this.y,e),this.geometryChange(),this}toArray(e){const t=TR(e);return[t?RR(this.x,e):this.x,t?RR(this.y,e):this.y]}toString(e,t=" "){let{x:n,y:i}=this;return TR(e)&&(n=RR(n,e),i=RR(i,e)),n+t+i}static create(e,t){if(TR(e))return e instanceof BR?e:1===arguments.length&&2===e.length?new BR(e[0],e[1]):new BR(e,t)}static min(){let e=DR,t=DR;for(let n=0;n<arguments.length;n++){let i=arguments[n];e=Math.min(i.x,e),t=Math.min(i.y,t)}return new BR(e,t)}static max(){let e=AR,t=AR;for(let n=0;n<arguments.length;n++){const i=arguments[n];e=Math.max(i.x,e),t=Math.max(i.y,t)}return new BR(e,t)}static minPoint(){return new BR(AR,AR)}static maxPoint(){return new BR(DR,DR)}static get ZERO(){return new BR(0,0)}}var zR=BR;class jR extends(VR(NR,["width","height"])){constructor(e,t){super(),this.width=e||0,this.height=t||0}equals(e){return e&&e.width===this.width&&e.height===this.height}clone(){return new jR(this.width,this.height)}toArray(e){const t=TR(e);return[t?RR(this.width,e):this.width,t?RR(this.height,e):this.height]}static create(e,t){if(TR(e))return e instanceof jR?e:1===arguments.length&&2===e.length?new jR(e[0],e[1]):new jR(e,t)}static get ZERO(){return new jR(0,0)}}var UR=jR;class GR extends NR{constructor(e=new zR,t=new UR,n=0){super(),this.setOrigin(e),this.setSize(t),this.setCornerRadius(n)}clone(){return new GR(this.origin.clone(),this.size.clone())}equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}setOrigin(e){return this._observerField("origin",zR.create(e)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(e){return this._observerField("size",UR.create(e)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(e){const t=this.topLeft().transformCopy(e),n=this.topRight().transformCopy(e),i=this.bottomRight().transformCopy(e),s=this.bottomLeft().transformCopy(e);return GR.fromPoints(t,n,i,s)}transformCopy(e){return GR.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}expand(e,t=e){return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}expandCopy(e,t){return this.clone().expand(e,t)}containsPoint(e){const t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}_isOnPath(e,t){const n=this.expandCopy(t,t),i=this.expandCopy(-t,-t);return n.containsPoint(e)&&!i.containsPoint(e)}static fromPoints(){const e=zR.min.apply(null,arguments),t=zR.max.apply(null,arguments),n=new UR(t.x-e.x,t.y-e.y);return new GR(e,n)}static union(e,t){return GR.fromPoints(zR.min(e.topLeft(),t.topLeft()),zR.max(e.bottomRight(),t.bottomRight()))}static intersect(e,t){const n={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},i={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(n.left<=i.right&&i.left<=n.right&&n.top<=i.bottom&&i.top<=n.bottom)return GR.fromPoints(new zR(Math.max(n.left,i.left),Math.max(n.top,i.top)),new zR(Math.min(n.right,i.right),Math.min(n.bottom,i.bottom)))}}var qR=GR;class KR extends NR{constructor(e=PR.unit()){super(),this._matrix=e}clone(){return new KR(this._matrix.clone())}equals(e){return e&&e._matrix.equals(this._matrix)}translate(e,t){return this._matrix=this._matrix.multiplyCopy(PR.translate(e,t)),this._optionsChange(),this}scale(e,t=e,n=null){let i=n;return i&&(i=zR.create(i),this._matrix=this._matrix.multiplyCopy(PR.translate(i.x,i.y))),this._matrix=this._matrix.multiplyCopy(PR.scale(e,t)),i&&(this._matrix=this._matrix.multiplyCopy(PR.translate(-i.x,-i.y))),this._optionsChange(),this}rotate(e,t){const n=zR.create(t)||zR.ZERO;return this._matrix=this._matrix.multiplyCopy(PR.rotate(e,n.x,n.y)),this._optionsChange(),this}multiply(e){const t=HR(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}var $R=KR;function WR(e){return null===e?null:e instanceof $R?e:new $R(e)}let ZR;Math,VR(NR,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),Math,VR(NR,["radius"]),"undefined"!=typeof document&&(ZR=document.createElement("div"),ZR.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");const YR={}.toString;class QR extends NR{constructor(e,t=""){super(),this.prefix=t;for(let n in e){let t=e[n];t=this._wrap(t,n),this[n]=t}}get(e){const t=e.split(".");let n=this;for(;t.length&&n;)n=n[t.shift()];return n}set(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}_set(e,t){const n=e.indexOf(".")>=0;let i=this,s=e;if(n){const e=s.split(".");let t=this.prefix;for(;e.length>1;){s=e.shift(),t+=s+".";let n=i[s];n||(n=new QR({},t),n.addObserver(this),i[s]=n),i=n}s=e[0]}i._clear(s),i[s]=t}_clear(e){const t=this[e];t&&t.removeObserver&&t.removeObserver(this)}_wrap(e,t){const n=YR.call(e);let i=e;return null!==i&&TR(i)&&"[object Object]"===n&&(e instanceof QR||e instanceof _R||(i=new QR(i,this.prefix+t+".")),i.addObserver(this)),i}}var JR=QR;let XR=1;function eP(){return"kdef"+XR++}function tP(e){return""===e||null===e||"none"===e||"transparent"===e||!TR(e)}var nP=class extends NR{get nodeType(){return"Rect"}constructor(e){super(),this._initOptions(e)}_initOptions(e={}){const{clip:t,transform:n}=e;n&&(e.transform=WR(n)),t&&!t.id&&(t.id=eP()),this.options=new JR(e),this.options.addObserver(this)}transform(e){if(!TR(e))return this.options.get("transform");this.options.set("transform",WR(e))}parentTransform(){let e,t=this;for(;t.parent;){t=t.parent;let n=t.transform();n&&(e=n.matrix().multiplyCopy(e||PR.unit()))}if(e)return WR(e)}currentTransform(e=this.parentTransform()){const t=HR(this.transform());let n,i=HR(e);if(n=t&&i?i.multiplyCopy(t):t||i,n)return WR(n)}visible(e){return TR(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}clip(e){const t=this.options;return TR(e)?(e&&!e.id&&(e.id=eP()),t.set("clip",e),this):t.get("clip")}opacity(e){return TR(e)?(this.options.set("opacity",e),this):function(e,t){return TR(e)?e:1}(this.options.get("opacity"))}clippedBBox(e){const t=this._clippedBBox(e);if(t){const n=this.clip();return n?qR.intersect(t,n.bbox(e)):t}}containsPoint(e,t){if(this.visible()){const n=this.currentTransform(t);let i=e;return n&&(i=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(i)||this._isOnPath&&this._hasStroke()&&this._isOnPath(i)}return!1}_hasFill(){const e=this.options.fill;return e&&!tP(e.color)}_hasStroke(){const e=this.options.stroke;return e&&e.width>0&&!tP(e.color)}_clippedBBox(e){return this.bbox(e)}},iP=e=>class extends e{fill(e,t){const n=this.options;if(TR(e)){if(e&&"Gradient"!==e.nodeType){const i={color:e};TR(t)&&(i.opacity=t),n.set("fill",i)}else n.set("fill",e);return this}return n.get("fill")}stroke(e,t,n){return TR(e)?(this.options.set("stroke.color",e),TR(t)&&this.options.set("stroke.width",t),TR(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}};function sP(e){const t="_"+e;return function(e){return TR(e)?(this._observerField(t,zR.create(e)),this.geometryChange(),this):this[t]}}var rP=(e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=sP(t[n])}(n.prototype,t),n};iP(rP(nP,["position"]));const oP=[].push,aP=[].pop,lP=[].splice,cP=[].shift,uP=[].slice,hP=[].unshift;var dP=class extends NR{constructor(e=[]){super(),this.length=0,this._splice(0,e.length,e)}elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}push(){const e=arguments,t=oP.apply(this,e);return this._add(e),t}slice(){return uP.call(this)}pop(){const e=this.length,t=aP.apply(this);return e&&this._remove([t]),t}splice(e,t){const n=uP.call(arguments,2),i=this._splice(e,t,n);return this._change(),i}shift(){const e=this.length,t=cP.apply(this);return e&&this._remove([t]),t}unshift(){const e=arguments,t=hP.apply(this,e);return this._add(e),t}indexOf(e){const t=this.length;for(let n=0;n<t;n++)if(this[n]===e)return n;return-1}_splice(e,t,n){const i=lP.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i}_add(e){this._setObserver(e),this._change()}_remove(e){this._clearObserver(e),this._change()}_setObserver(e){for(let t=0;t<e.length;t++)e[t].addObserver(this)}_clearObserver(e){for(let t=0;t<e.length;t++)e[t].removeObserver(this)}_change(){}};const pP=PR.IDENTITY.toString();var fP=e=>class extends e{bbox(e){const t=HR(this.currentTransform(e)),n=t?t.toString():pP;let i;this._bboxCache&&this._matrixHash===n?i=this._bboxCache.clone():(i=this._bbox(t),this._bboxCache=i?i.clone():null,this._matrixHash=n);const s=this.options.get("stroke.width");return s&&i&&i.expand(s/2),i}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function gP(e){const t="_"+e;return function(e){return TR(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}rP(NR,["anchor","controlIn","controlOut"]),iP(fP(nP)),iP(fP(nP));var mP=(e,t=["geometry"])=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=gP(t[n])}(n.prototype,t),n};mP(nP,["rect"]);var vP=class extends dP{_change(){this.optionsChange({field:"stops"})}};function yP(e){return function(t){return TR(t)?(this.options.set(e,t),this):this.options.get(e)}}const bP=["offset","color","opacity"];class wP extends(((e,t)=>{const n=class extends e{};return function(e,t){for(let n=0;n<t.length;n++)e[t[n]]=yP(t[n])}(n.prototype,t),n})(NR,bP)){constructor(e,t,n){super(),this.options=new JR({offset:e,color:t,opacity:TR(n)?n:1}),this.options.addObserver(this)}static create(e){if(TR(e)){let t;return t=e instanceof wP?e:e.length>1?new wP(e[0],e[1],e[2]):new wP(e.offset,e.color,e.opacity),t}}}var CP=wP,SP=class extends NR{get nodeType(){return"Gradient"}constructor(e={}){super(),this.stops=new vP(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=eP()}userSpace(e){return TR(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}_createStops(e=[]){const t=[];for(let n=0;n<e.length;n++)t.push(CP.create(e[n]));return t}addStop(e,t,n){this.stops.push(new CP(e,t,n))}removeStop(e){const t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}geometryChange(){this.optionsChange()}};function xP(e,t){let n="";if(null!=e)if(Array.isArray(e))for(let i=0;i<e.length;++i)n+=t(e[i],i);else"object"==typeof e&&Object.keys(e).forEach((i,s)=>{n+=t(e[i],i,s)});return n}rP(SP,["start","end"]),iP(fP(mP(nP))),"undefined"!=typeof Element&&Element.prototype&&Element,"undefined"!=typeof window&&window.kendo&&window,rP(SP,["center"]),JSON;const kP=({logic:e,criteria:t})=>`\n<customFilters ${"and"===e?'and="1"':""}>\n${xP(t,e=>{let t=TP.customOperator(e);return`<customFilter ${t?`operator="${t}"`:""} val="${TP.customValue(e)}"/>`})}\n</customFilters>`,EP=({type:e})=>`<dynamicFilter type="${TP.dynamicFilterType(e)}" />`,IP=({type:e,value:t})=>`<top10 percent="${/percent$/i.test(e)?1:0}"\n       top="${/^top/i.test(e)?1:0}"\n       val="${t}" />`,_P=({blanks:e,values:t})=>`<filters ${e?'blank="1"':""}>\n    ${xP(t,e=>`\n      <filter val="${e}" />`)}\n  </filters>`;function TP(e){return(({ref:e,columns:t,generators:n})=>`\n<autoFilter ref="${e}">\n  ${xP(t,e=>`\n    <filterColumn colId="${e.index}">\n      ${n[e.filter](e)}\n    </filterColumn>\n  `)}\n</autoFilter>`)({ref:e.ref,columns:e.columns,generators:{custom:kP,dynamic:EP,top:IP,value:_P}})}TP.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},TP.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},TP.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e};const FP=["lockedHeader"],DP=["header"],AP=["ariaRoot"],OP=["footer"],RP=["groupPanelEmpty",$localize`:kendo.grid.groupPanelEmpty|The label visible in the Grid group panel when it is empty␟30bcb3a2fbc22fcab6ca805e74b90adb8ba1ae96␟1430663748859427158:Drag a column header and drop it here to group by that column`,"noRecords",$localize`:kendo.grid.noRecords|The label visible in the Grid when there are no records␟ff9cfd4bf3e40305db251f2b6961796c0550b4b0␟1243399825085142134:No records available.`,"pagerFirstPage",$localize`:kendo.grid.pagerFirstPage|The label for the first page button in Grid pager␟b405dfc5ee42415daa08d54847d3010de1821111␟5647145449685906398:Go to the first page`,"pagerPreviousPage",$localize`:kendo.grid.pagerPreviousPage|The label for the previous page button in Grid pager␟47aa4fe05f5a2577d3336971d7c44ce48802b860␟6745088753482690847:Go to the previous page`,"pagerNextPage",$localize`:kendo.grid.pagerNextPage|The label for the next page button in Grid pager␟90031133fca899b4e491d9fc51128c1a184afb30␟5510985262435270859:Go to the next page`,"pagerLastPage",$localize`:kendo.grid.pagerLastPage|The label for the last page button in Grid pager␟fe84f2ea868286ce03e50b6e55558c16d675c753␟4539768510520419313:Go to the last page`,"pagerPage",$localize`:kendo.grid.pagerPage|The label before the current page number in the Grid pager␟89c1f616c25bb610824cd8a26473a03921df48bd␟5228228287003939680:Page`,"pagerOf",$localize`:kendo.grid.pagerOf|The label before the total pages number in the Grid pager␟0c9abe48f5d4bd2cb51846712e41864fc64aad6a␟7004642096327889102:of`,"pagerItems",$localize`:kendo.grid.pagerItems|The label after the total pages number in the Grid pager␟7c1704d11bfb77340485acd891439c2b6c6616ca␟700193548223931835:items`,"pagerPageNumberInputTitle",$localize`:kendo.grid.pagerPageNumberInputTitle|The label for the pager input in the Grid pager␟f8bad8f2c7345e4fe531480e3034f7d3e954d383␟2090461908134774363:Page Number`,"pagerItemsPerPage",$localize`:kendo.grid.pagerItemsPerPage|The label for the page size chooser in the Grid pager␟3331fe7ec45f299afaa4c1e08ea25c493eda9144␟8838594644885628398:items per page`,"filter",$localize`:kendo.grid.filter|The label of the filter cell or icon␟21a04b7b090dac60e0449cb6e435b7e879173c75␟7977992299945497789:Filter`,"filterEqOperator",$localize`:kendo.grid.filterEqOperator|The text of the equal filter operator␟8b31e1604d10a2f8709dcb1ed5c237e33cffc135␟4328959145426393682:Is equal to`,"filterNotEqOperator",$localize`:kendo.grid.filterNotEqOperator|The text of the not equal filter operator␟d46e14d35d89d2fadf5c852abf5557643510a013␟8497658332767349737:Is not equal to`,"filterIsNullOperator",$localize`:kendo.grid.filterIsNullOperator|The text of the is null filter operator␟078c50eb1fe8b2b43fcc40c5e7f4493152310c2f␟1298299704757177797:Is null`,"filterIsNotNullOperator",$localize`:kendo.grid.filterIsNotNullOperator|The text of the is not null filter operator␟70b39eeaf2674907b2e59b414baf17e032b464dc␟8362279767336741540:Is not null`,"filterIsEmptyOperator",$localize`:kendo.grid.filterIsEmptyOperator|The text of the is empty filter operator␟a4e77e444b4e9b63851ac818e20136212b06c750␟4762263229995523226:Is empty`,"filterIsNotEmptyOperator",$localize`:kendo.grid.filterIsNotEmptyOperator|The text of the is not empty filter operator␟dee7553c341248e90aef4a8e7438c52e667e68be␟8245213618709258015:Is not empty`,"filterStartsWithOperator",$localize`:kendo.grid.filterStartsWithOperator|The text of the starts with filter operator␟da43b363b636156e3ccdbb64a0788bdeab51e992␟6087783423599420507:Starts with`,"filterContainsOperator",$localize`:kendo.grid.filterContainsOperator|The text of the contains filter operator␟5b568a46d2e34ebde7dd53a7e599cbbb7dc6bae1␟3831180413287131758:Contains`,"filterNotContainsOperator",$localize`:kendo.grid.filterNotContainsOperator|The text of the does not contain filter operator␟be06aa4fde7fa722c9de5a45f241ff595071d718␟7331253838216904826:Does not contain`,"filterEndsWithOperator",$localize`:kendo.grid.filterEndsWithOperator|The text of the ends with filter operator␟a54b2ecffb41f0603ceedc7ea5a40b7d130e2fa1␟3662435311670509156:Ends with`,"filterGteOperator",$localize`:kendo.grid.filterGteOperator|The text of the greater than or equal filter operator␟68471603db771d0304d02fe086da9701c16911c3␟4542824413455511831:Is greater than or equal to`,"filterGtOperator",$localize`:kendo.grid.filterGtOperator|The text of the greater than filter operator␟ae68acc0e18252a348bdfb32112996d81e5305de␟1527483349261806183:Is greater than`,"filterLteOperator",$localize`:kendo.grid.filterLteOperator|The text of the less than or equal filter operator␟e48d50a6422c616a00b95025adc5283aff4fa8cb␟4840714404733417604:Is less than or equal to`,"filterLtOperator",$localize`:kendo.grid.filterLtOperator|The text of the less than filter operator␟c4d58f0e509cb7e37014715dd91546a724210d70␟498627126459578706:Is less than`,"filterIsTrue",$localize`:kendo.grid.filterIsTrue|The text of the IsTrue boolean filter option␟d5f1e9028bc60c30e8f8e0f9cfeb872512446cea␟2361673238316312251:Is True`,"filterIsFalse",$localize`:kendo.grid.filterIsFalse|The text of the IsFalse boolean filter option␟6d34731320e2536fd78f4a9e08f0b8dcd01edf3d␟7759366406135608407:Is False`,"filterBooleanAll",$localize`:kendo.grid.filterBooleanAll|The text of the (All) boolean filter option␟4da1456a62bafe2614ed2bc05a2c790a64a4dd0b␟9215343856736761875:(All)`,"filterAfterOrEqualOperator",$localize`:kendo.grid.filterAfterOrEqualOperator|The text of the after or equal date filter operator␟d7dac1bbc2372d578a9d2bca099de766043aed7e␟1964413288176201979:Is after or equal to`,"filterAfterOperator",$localize`:kendo.grid.filterAfterOperator|The text of the after date filter operator␟bff777df0d0831cc02679227422fab4ef2763fa9␟3078502182807244703:Is after`,"filterBeforeOperator",$localize`:kendo.grid.filterBeforeOperator|The text of the before date filter operator␟35ef5cf367670f15432c9f8761bc85fbdb2b1830␟3348865631071358219:Is before`,"filterBeforeOrEqualOperator",$localize`:kendo.grid.filterBeforeOrEqualOperator|The text of the before or equal date filter operator␟27a6b29ffbc1eb498de8d7af20051461a2e842ec␟6582064037090631388:Is before or equal to`,"filterFilterButton",$localize`:kendo.grid.filterFilterButton|The text of the filter button␟4f1c08d0b056646cdb668da669e2e15825adfe4d␟5185263258022896121:Filter`,"filterClearButton",$localize`:kendo.grid.filterClearButton|The text of the clear filter button␟06e4e4dadede6f91f261cdbb7fb174246a135238␟3031209415830321799:Clear`,"filterAndLogic",$localize`:kendo.grid.filterAndLogic|The text of the And filter logic␟f73fbcc2f813d469e4a34491950ca01ea1ac8f60␟512662285155477884:And`,"filterOrLogic",$localize`:kendo.grid.filterOrLogic|The text of the Or filter logic␟04e64780de0fc1c3a9986997e0808ec53a5f2a63␟1964926727342405367:Or`,"loading",$localize`:kendo.grid.loading|The loading text␟781c049cc69efc30bc8053af9ace3cb4b04bd438␟5425510787229531767:Loading`,"columns",$localize`:kendo.grid.columns|The text shown in the column menu for the columns item␟9b841399fbb3d81f2401f98b4f4763834b72a1e5␟5332162737795508854:Columns`,"lock",$localize`:kendo.grid.lock|The text shown in the column menu for the lock item␟f356cae509dec3dc1b7156326b9a0328a79c62a8␟5849203148124173556:Lock`,"unlock",$localize`:kendo.grid.unlock|The text shown in the column menu for the unlock item␟f33355540003068372e39ba7f3def794869ea9f8␟6968586378603932789:Unlock`,"setColumnPosition",$localize`:kendo.grid.setColumnPosition|The text shown in the column menu for the set column position item␟e5b09fd8ecea276841b1018a376a43d5f26cf187␟4152513791950180353:Set Column Position`,"stick",$localize`:kendo.grid.stick|The text shown in the column menu for the stick item␟31d7229bfb18a112e19a6e8040d7d2e261293dca␟2051035907018784050:Stick`,"unstick",$localize`:kendo.grid.unstick|The text shown in the column menu for the unstick item␟01d4c7e75b7fadc09544cf2277208d39b4eef86a␟7237321134369658080:Unstick`,"sortable",$localize`:kendo.grid.sortable|The label of the sort icon␟a692ba271be066ce379f942ff67094e1ea989f4c␟3824304972336788145:Sortable`,"sortAscending",$localize`:kendo.grid.sortAscending|The text shown in the column menu for the sort ascending item␟96beffd8446c5455f3bbdc313c946db32df7dcc2␟6297762560864270240:Sort Ascending`,"sortDescending",$localize`:kendo.grid.sortDescending|The text shown in the column menu for the sort descending item␟208d0538d4c2537a1cbf456941e34a2884053d52␟5605073536641230977:Sort Descending`,"sortedAscending",$localize`:kendo.grid.sortedAscending|The status announcement when a column is sorted ascending␟947c64329461efd9f8a9aa2c51acbbd099170aa5␟6275944032047713540:Sorted Ascending`,"sortedDescending",$localize`:kendo.grid.sortedDescending|The status announcement when a column is sorted descending␟092a688d1b2b6d873bdc29beaaf43c3f45336581␟8155280769473236383:Sorted Descending`,"sortedDefault",$localize`:kendo.grid.sortedDefault|The status announcement when a column is no longer sorted␟66e99ea340974022c07c52a6f668f5573e7edab0␟5229177293891232538:Not Sorted`,"columnsApply",$localize`:kendo.grid.columnsApply|The text shown in the column menu or column chooser for the columns apply button␟04600bd6e362cf9da9f7f9c4666eab2c88eb6a90␟34213208292862969:Apply`,"columnsReset",$localize`:kendo.grid.columnsReset|The text shown in the column menu or column chooser for the columns reset button␟94d3b472d99994a5cca9930afd4cf0ac2774c382␟4465838259914958827:Reset`,"detailExpand",$localize`:kendo.grid.detailExpand|The title of the expand icon of detail rows.␟ad6629bb6e79235623cfce486ef48087dbe96fb5␟6952757249912226136:Expand Details`,"detailCollapse",$localize`:kendo.grid.detailCollapse|The title of the collapse icon of detail rows.␟ace0c0a58fbb211e8678efb3bd6ac9bb587144c3␟6065477639036399169:Collapse Details`,"filterDateToday",$localize`:kendo.grid.filterDateToday|The text of the Today button of the Date filter.␟745058f85d92ee5228977277195262978828c4c8␟1656723147090613075:TODAY`,"filterDateToggle",$localize`:kendo.grid.filterDateToggle|The title of the Toggle button of the Date filter.␟2c916ea2cbd37665e512219650c37dc17b9ef0c0␟15438307630389352:Toggle Calendar`,"filterNumericDecrement",$localize`:kendo.grid.filterNumericDecrement|The title of the Decrement button of the Numeric filter.␟7f991d698abebb2e50570f9aef14126ae931c513␟534533728304192410:Decrement`,"filterNumericIncrement",$localize`:kendo.grid.filterNumericIncrement|The title of the Increment button of the Numeric filter.␟25bc8b86968819d3f687aa6dde652800bd4b6b2a␟5462143714591662391:Increment`,"selectionCheckboxLabel",$localize`:kendo.grid.selectionCheckboxLabel|The labels of the checkbox column checkboxes.␟be92546944c9cb75e92f8b968456d82a101fc35b␟8181603152758207780:Select Row`,"selectAllCheckboxLabel",$localize`:kendo.grid.selectAllCheckboxLabel|The label of the checkbox column select all checkbox.␟20fbea69eff950cbfcf690203ca6104e8346fa48␟6136285170059274319:Select All Rows`,"pagerLabel",$localize`:kendo.grid.pagerLabel|The label for the Grid pager␟03a0df03d11d80b3aeca50cf4827096a51a853fc␟941504587982751782:${"\ufffd0\ufffd"}:INTERPOLATION:`,"filterInputLabel",$localize`:kendo.grid.filterInputLabel|The label of the filter row and menu inputs␟491dbf44b1ca040395b94229d00d4109af48e64c␟3836147469421132954:${"\ufffd0\ufffd"}:INTERPOLATION:`,"filterMenuTitle",$localize`:kendo.grid.filterMenuTitle|The title of the filter menu icon␟04e8a1bee6d2dd6edfc921e890fae44a01ceb18c␟7968307322474586314:${"\ufffd0\ufffd"}:INTERPOLATION:`,"filterMenuOperatorsDropDownLabel",$localize`:kendo.grid.filterMenuOperatorsDropDownLabel|The label of the filter menu operators dropdown␟884eac0bb5b4a01ea36fea20ffa29c6dfe1987e0␟1505989735336544615:${"\ufffd0\ufffd"}:INTERPOLATION:`,"filterMenuLogicDropDownLabel",$localize`:kendo.grid.filterMenuLogicDropDownLabel|The label of the filter menu logic dropdown␟c9ba4917588987b943dc414dc6ca108392d8cb40␟7212349983175276206:${"\ufffd0\ufffd"}:INTERPOLATION:`,"columnMenu",$localize`:kendo.grid.columnMenu|The title of the column menu icon␟28d8b294e285a6c34641eb1c7982870b412ef106␟8738132440639204439:${"\ufffd0\ufffd"}:INTERPOLATION:`];function PP(e,t){1&e&&Bo(0,"kendo-grid-toolbar",9)}function NP(e,t){if(1&e){const e=Go();Vo(0,"kendo-pager",10),$o("pageChange",(function(t){return Qt(e),Yo().notifyPageChange("pager",t)})),Ho()}if(2&e){const e=Yo();Lo("tabindex",e.navigable?"0":"-1")("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("options",e.pageable),Fo("role",e.navigable?"navigation":void 0)}}function LP(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-group-panel",11),$o("change",(function(t){return Qt(e),Yo().groupChange.emit(t)})),Ho()}if(2&e){const e=Yo();Lo("text",e.groupableEmptyText)("groups",e.group)}}function MP(e,t){if(1&e&&(Vo(0,"div",23,24),Vo(2,"table",25),Bo(3,"colgroup",20),Bo(4,"thead",26),Ho(),Ho()),2&e){const e=Yo(3);ca("width",e.lockedWidth,"px"),ms(2),ca("width",e.lockedWidth,"px"),Lo("locked",!0),ms(1),Lo("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),ms(1),Lo("resizable",e.resizable)("scrollable",!0)("columns",e.lockedColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("groups",e.group)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate)("tabIndex",e.navigable?"-1":"0")}}function VP(e,t){if(1&e&&(Vo(0,"div",27),Bo(1,"div"),Ho()),2&e){const e=Yo(3);ms(1),ca("width",e.columnsContainer.unlockedWidth,"px")}}const HP=function(){return[]};function BP(e,t){if(1&e&&(Vo(0,"div",15),Ao(1,MP,5,24,"div",16),Vo(2,"div",17,18),Vo(4,"table",19),Bo(5,"colgroup",20),Bo(6,"thead",21),Ho(),Ao(7,VP,2,2,"div",22),Ho(),Ho()),2&e){const e=Yo(2);ca("padding",e.headerPadding),ms(1),Lo("ngIf",e.isLocked),ms(1),Lo("kendoGridResizableContainer",e.lockedLeafColumns.length)("lockedWidth",e.lockedWidth+e.scrollbarWidth+2),ms(2),ca("width",e.nonLockedWidth,"px"),Lo("virtualColumns",e.virtualColumns),ms(1),Lo("columns",e.headerLeafColumns)("groups",e.isLocked?ec(29,HP):e.group)("detailTemplate",e.detailTemplate),ms(1),Lo("resizable",e.resizable)("scrollable",!0)("columns",e.headerColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("groups",e.isLocked?ec(30,HP):e.group)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("lockedColumnsCount",e.lockedLeafColumns.length)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate)("tabIndex",e.navigable?"-1":"0"),ms(1),Lo("ngIf",e.virtualColumns)}}function zP(e,t){if(1&e&&(Vo(0,"div",35),Vo(1,"table",25),Bo(2,"colgroup",33),Bo(3,"tfoot",36),Ho(),Ho()),2&e){const e=Yo(3);ca("width",e.lockedWidth,"px"),ms(1),ca("width",e.lockedWidth,"px"),Lo("locked",!0),ms(1),Lo("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),ms(1),Lo("scrollable",!0)("groups",e.group)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate)("logicalRowIndex",e.ariaRowCount)}}function jP(e,t){if(1&e&&(Vo(0,"div",28),Ao(1,zP,4,13,"div",29),Vo(2,"div",30,31),Vo(4,"table",32),Bo(5,"colgroup",33),Bo(6,"tfoot",34),Ho(),Ho(),Ho()),2&e){const e=Yo(2);ca("padding",e.headerPadding),ms(1),Lo("ngIf",e.lockedLeafColumns.length),ms(1),Lo("kendoGridResizableContainer",e.lockedLeafColumns.length)("lockedWidth",e.lockedWidth+e.scrollbarWidth+3),ms(2),ca("width",e.nonLockedWidth,"px"),ms(1),Lo("columns",e.nonLockedLeafColumns)("groups",e.isLocked?ec(16,HP):e.group)("detailTemplate",e.detailTemplate),ms(1),Lo("logicalRowIndex",e.ariaRowCount)("scrollable",!0)("groups",e.isLocked?ec(17,HP):e.group)("columns",e.nonLockedLeafColumns)("lockedColumnsCount",e.lockedLeafColumns.length)("detailTemplate",e.detailTemplate)}}function UP(e,t){if(1&e){const e=Go();Ao(0,BP,8,31,"div",12),Vo(1,"kendo-grid-list",13),$o("pageChange",(function(t){return Qt(e),Yo().notifyPageChange("list",t)}))("scrollBottom",(function(){return Qt(e),Yo().notifyScrollBottom()}))("contentScroll",(function(t){return Qt(e),Yo().contentScroll.emit(t)})),Ho(),Ao(2,jP,7,18,"div",14)}if(2&e){const e=Yo();Lo("ngIf",!e.hideHeader),ms(1),Lo("data",e.view)("rowHeight",e.rowHeight)("detailRowHeight",e.detailRowHeight)("total",e.totalCount)("take",e.pageSize)("groups",e.group)("groupable",e.groupable)("skip",e.skip)("trackBy",e.trackBy)("columns",e.columnsContainer)("selectable",e.selectable)("filterable",e.filterable)("detailTemplate",e.detailTemplate)("noRecordsTemplate",e.noRecordsTemplate)("rowClass",e.rowClass)("rowSticky",e.rowSticky)("loading",e.loading)("isVirtual",e.isVirtual)("virtualColumns",e.virtualColumns)("enableDrag",e.marqueeSelection),ms(1),Lo("ngIf",e.showFooter)}}function GP(e,t){if(1&e&&Bo(0,"thead",41),2&e){const e=Yo(2);Lo("resizable",e.resizable)("scrollable",!1)("columns",e.visibleColumns)("totalColumnLevels",e.totalColumnLevels)("groups",e.group)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sort",e.sort)("sortable",e.sortable)("filter",e.filter)("filterable",e.filterable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("detailTemplate",e.detailTemplate)("tabIndex",e.navigable?"-1":"0")}}function qP(e,t){if(1&e&&Bo(0,"tfoot",42),2&e){const e=Yo(2);Lo("scrollable",!1)("logicalRowIndex",e.ariaRowCount)("groups",e.group)("columns",e.leafColumns)("detailTemplate",e.detailTemplate)}}function KP(e,t){1&e&&Bo(0,"div",43)}function $P(e,t){if(1&e&&(Vo(0,"table"),Bo(1,"colgroup",33),Ao(2,GP,1,15,"thead",37),Bo(3,"tbody",38),Ao(4,qP,1,5,"tfoot",39),Ho(),Ao(5,KP,1,0,"div",40)),2&e){const e=Yo();ca("table-layout",e.resizable?"fixed":null),ms(1),Lo("columns",e.leafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),ms(1),Lo("ngIf",!e.hideHeader),ms(1),Lo("groups",e.group)("data",e.view)("skip",e.skip)("columns",e.leafColumns)("selectable",e.selectable)("filterable",e.filterable)("noRecordsTemplate",e.noRecordsTemplate)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showGroupFooters)("trackBy",e.trackBy)("rowClass",e.rowClass)("enableDrag",e.marqueeSelection),ms(1),Lo("ngIf",e.showFooter),ms(1),Lo("ngIf",e.loading)}}function WP(e,t){if(1&e){const e=Go();Vo(0,"kendo-pager",44),$o("pageChange",(function(t){return Qt(e),Yo().notifyPageChange("pager",t)})),Ho()}if(2&e){const e=Yo();Lo("tabindex",e.navigable?"0":"-1")("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("options",e.pageable),Fo("role",e.navigable?"navigation":void 0)}}function ZP(e,t){1&e&&Bo(0,"kendo-grid-toolbar",45)}const YP=["container"],QP=["lockedContainer"],JP=["lockedTable"],XP=["table"],eN=function(e,t,n,i){return{keydown:e,scroll:t,mousewheel:n,DOMMouseScroll:i}};function tN(e,t){if(1&e&&(Vo(0,"div",12,13),Vo(2,"div",3),Vo(3,"table",14,15),Bo(5,"colgroup",6),Bo(6,"tbody",16),Ho(),Bo(7,"kendo-resize-sensor"),Ho(),Vo(8,"div",9),Bo(9,"div"),Ho(),Ho()),2&e){const e=Yo();ca("width",e.lockedWidth,"px"),Lo("kendoEventsOutsideAngular",sc(25,eN,e.lockedKeydown,e.lockedScroll,e.lockedMousewheel,e.lockedMousewheel))("scope",e),ms(3),ca("width",e.lockedWidth,"px"),Lo("locked",!0),ms(2),Lo("groups",e.groups)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate),ms(1),Lo("groups",e.groups)("isLocked",!0)("data",e.data)("noRecordsText","")("columns",e.lockedLeafColumns)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showFooter)("skip",e.skip)("selectable",e.selectable)("trackBy",e.trackBy)("filterable",e.filterable)("rowClass",e.rowClass),ms(3),ca("height",e.totalHeight,"px")}}function nN(e,t){1&e&&Bo(0,"kendo-resize-sensor")}function iN(e,t){1&e&&Bo(0,"kendo-resize-sensor")}function sN(e,t){if(1&e&&(Vo(0,"div",17),Bo(1,"div"),Ho()),2&e){const e=Yo();ms(1),ca("width",e.totalWidth,"px")}}function rN(e,t){1&e&&Bo(0,"div",18)}const oN=["kendoGridFilterRow",""];function aN(e,t){1&e&&Bo(0,"td",3),2&e&&ua("k-group-cell",!0)}function lN(e,t){1&e&&Bo(0,"td",3),2&e&&ua("k-hierarchy-cell",!0)}function cN(e,t){if(1&e&&Bo(0,"td",4),2&e){const e=t.$implicit,n=t.index,i=Yo();ua("k-grid-header-sticky",e.sticky),Lo("ngStyle",e.sticky?i.addStickyStyles(e):null)("column",e)("filter",i.filter)("logicalRowIndex",i.logicalRowIndex)("logicalColIndex",i.lockedColumnsCount+n),Fo("aria-label",i.filterLabel(e))}}const uN=["kendoGridFilterCell",""];function hN(e,t){if(1&e&&(zo(0),Uo(1,3),jo()),2&e){const e=Yo(2);ms(1),Lo("column",e.column)("filter",e.filter)}}function dN(e,t){}function pN(e,t){if(1&e&&Ao(0,dN,0,0,"ng-template",5),2&e){const e=Yo(3);Lo("ngTemplateOutlet",e.column.filterCellTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function fN(e,t){if(1&e&&(zo(0),Ao(1,pN,1,2,void 0,4),jo()),2&e){const e=Yo(2);ms(1),Lo("ngIf",e.column.filterCellTemplateRef)}}function gN(e,t){1&e&&(zo(0,1),Ao(1,hN,2,2,"ng-container",2),Ao(2,fN,2,1,"ng-container",2),jo()),2&e&&(Lo("ngSwitch",Yo().hasTemplate),ms(1),Lo("ngSwitchCase",!1),ms(1),Lo("ngSwitchCase",!0))}const mN=["*"],vN=["dropdown"],yN=function(){return{width:"auto"}};function bN(e,t){if(1&e){const e=Go();Vo(0,"kendo-dropdownlist",3,4),$o("valueChange",(function(t){return Qt(e),Yo().onChange(t)}))("keydown",(function(t){return Qt(e),Yo().dropdownKeydown(t)})),Ho()}if(2&e){const e=Yo();Lo("data",e.operators)("value",e.value)("valuePrimitive",!0)("popupSettings",ec(4,yN))}}const wN=function(e){return{"k-clear-button-visible":e}},CN=["kendoGridColGroup",""];function SN(e,t){1&e&&Bo(0,"col"),2&e&&ua("k-group-col",!0)}function xN(e,t){1&e&&Bo(0,"col"),2&e&&ua("k-hierarchy-col",!0)}function kN(e,t){1&e&&Bo(0,"col"),2&e&&ca("width",t.$implicit.width,"px")}function EN(e,t){if(1&e&&(Ao(0,SN,1,2,"col",1),Ao(1,xN,1,2,"col",2),Ao(2,kN,1,2,"col",3)),2&e){const e=Yo();Lo("ngForOf",e.groups),ms(1),Lo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),ms(1),Lo("ngForOf",e.columnsToRender)("ngForTrackBy",e.trackBy)}}const IN=["kendoGridLoading",""];function _N(e,t){if(1&e){const e=Go();Vo(0,"div",4),$o("focusin",(function(t){return Qt(e),Yo().onInnerFocusIn(t,"start")})),Ho()}2&e&&(Lo("tabindex",Yo().focusTrapTabIndex),Fo("aria-hidden",!0))}function TN(e,t){if(1&e&&Uo(0,5),2&e){const e=Yo();Lo("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function FN(e,t){1&e&&Bo(0,"kendo-pager-prev-buttons")}function DN(e,t){1&e&&Bo(0,"kendo-pager-numeric-buttons",8),2&e&&Lo("buttonCount",Yo(2).settings.buttonCount)}function AN(e,t){1&e&&Bo(0,"kendo-pager-input")}function ON(e,t){1&e&&Bo(0,"kendo-pager-next-buttons")}function RN(e,t){1&e&&Bo(0,"kendo-pager-info")}function PN(e,t){1&e&&Bo(0,"kendo-pager-page-sizes",9,10),2&e&&Lo("pageSizes",Yo(2).settings.pageSizes)}function NN(e,t){if(1&e&&(zo(0),Ao(1,FN,1,0,"kendo-pager-prev-buttons",2),Ao(2,DN,1,1,"kendo-pager-numeric-buttons",6),Ao(3,AN,1,0,"kendo-pager-input",2),Ao(4,ON,1,0,"kendo-pager-next-buttons",2),Ao(5,RN,1,0,"kendo-pager-info",2),Ao(6,PN,2,1,"kendo-pager-page-sizes",7),jo()),2&e){const e=Yo();ms(1),Lo("ngIf",e.settings.previousNext),ms(1),Lo("ngIf","numeric"===e.settings.type),ms(1),Lo("ngIf","input"===e.settings.type),ms(1),Lo("ngIf",e.settings.previousNext),ms(1),Lo("ngIf",e.settings.info),ms(1),Lo("ngIf",e.settings.pageSizes)}}function LN(e,t){if(1&e){const e=Go();Vo(0,"div",4),$o("focusin",(function(t){return Qt(e),Yo().onInnerFocusIn(t,"end")})),Ho()}2&e&&(Lo("tabindex",Yo().focusTrapTabIndex),Fo("aria-hidden",!0))}function MN(e,t){if(1&e){const e=Go();Vo(0,"kendo-resize-sensor",11),$o("resize",(function(){return Qt(e),Yo().resizeHandler()})),Ho()}}const VN=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-first":!0}},HN=function(){return{"k-icon":!0,"k-i-seek-w":!0}},BN=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"":!0}},zN=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},jN=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},UN=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-last":!0}},GN=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function qN(e,t){if(1&e&&(Vo(0,"option",7),Ca(1,"... "),Ho()),2&e){const e=Yo();Fo("aria-label",e.pageLabel(e.start-1))}}const KN=function(e){return{"k-link":!0,"k-state-selected":e}};function $N(e,t){if(1&e&&(Vo(0,"option",8),Ca(1),Ho()),2&e){const e=t.$implicit,n=Yo();Lo("value",e.toString())("ngClass",tc(5,KN,n.currentPage==e)),Fo("aria-label",n.pageLabel(e))("aria-current",n.currentPage==e?"page":void 0),ms(1),xa(" ",e," ")}}function WN(e,t){if(1&e&&(Vo(0,"option",9),Ca(1,"... "),Ho()),2&e){const e=Yo();Fo("aria-label",e.pageLabel(e.end+1))}}function ZN(e,t){if(1&e){const e=Go();Vo(0,"li"),Vo(1,"span",10),$o("click",(function(){Qt(e);const t=Yo();return t.changePage(t.start-2)}))("keydown.enter",(function(){Qt(e);const t=Yo();return t.changePage(t.start-2)})),Ca(2,"..."),Ho(),Ho()}if(2&e){const e=Yo();ms(1),Fo("aria-label",e.pageLabel(e.start-1))}}const YN=function(e){return{"k-link":!0,"k-state-selected":e,"k-pager-nav":!0}};function QN(e,t){if(1&e){const e=Go();Vo(0,"li"),Vo(1,"span",11),$o("click",(function(){Qt(e);const n=t.$implicit;return Yo().changePage(n-1)}))("keydown.enter",(function(){Qt(e);const n=t.$implicit;return Yo().changePage(n-1)})),Ca(2),Ho(),Ho()}if(2&e){const e=t.$implicit,n=Yo();ms(1),Lo("ngClass",tc(3,YN,n.currentPage==e)),Fo("aria-label",n.pageLabel(e)),ms(1),xa(" ",e," ")}}function JN(e,t){if(1&e){const e=Go();Vo(0,"li"),Vo(1,"span",10),$o("click",(function(){Qt(e);const t=Yo();return t.changePage(t.end)}))("keydown.enter",(function(){Qt(e);const t=Yo();return t.changePage(t.end)})),Ca(2,"..."),Ho(),Ho()}if(2&e){const e=Yo();ms(1),Fo("aria-label",e.pageLabel(e.end+1))}}const XN=function(){return{"k-pager-numbers":!0,"k-reset":!0}},eL=function(){return{"k-pager-input":!0,"k-label":!0}},tL=function(e,t){return{keydown:e,focusout:t}},nL=["kendoGridGroupHeader",""];function iL(e,t){1&e&&Bo(0,"td",4)}function sL(e,t){if(1&e&&Ao(0,iL,1,0,"td",3),2&e){const e=Yo();Lo("ngForOf",e.prefixGroupCell(e.item))}}function rL(e,t){if(1&e&&(Ca(0),uc(1,"valueOf")),2&e){const e=Yo(3);ka(" ",e.groupTitle(e.item),": ",dc(1,2,e.item.data,"value",e.formatForGroup(e.item))," ")}}function oL(e,t){}const aL=function(e,t){return{"k-i-collapse":e,"k-i-expand":t}},lL=function(e,t,n,i,s,r,o,a){return{templateRef:e,group:t,aggregates:n,value:i,field:s,index:r,expanded:o,$implicit:a}};function cL(e,t){if(1&e){const e=Go();Vo(0,"a",7),$o("click",(function(){Qt(e);const t=Yo(2);return t.toggleGroup(t.item)})),Ho(),Ao(1,rL,2,6,"ng-template",0),Ao(2,oL,0,0,"ng-template",8)}if(2&e){const e=Yo(2);Lo("ngClass",nc(3,aL,e.isExpanded,!e.isExpanded)),ms(1),Lo("ngIf",!e.groupHeaderTemplate(e.item)),ms(1),Lo("templateContext",function(e,t,n,i,s,r,o,a,l,c,u){const h=rn()+6,d=Zt(),p=To(d,h,n,i,s,r);return To(d,h+4,o,a,l,c)||p?xo(d,h+8,t(n,i,s,r,o,a,l,c)):ko(d,h+8)}(0,lL,e.groupHeaderTemplate(e.item),e.item.data,null==e.item.data?null:e.item.data.aggregates,null==e.item.data?null:e.item.data.value,null==e.item.data?null:e.item.data.field,e.item.index,e.isExpanded,e.item.data))}}function uL(e,t){if(1&e&&(Vo(0,"td",5),Vo(1,"p",6),Ao(2,cL,3,15,"ng-template",0),Ho(),Ho()),2&e){const e=Yo();Lo("logicalRowIndex",e.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",e.skipGroupDecoration)("groupItem",e.item)("colSpan",e.logicalColSpan()),Fo("colspan",e.groupSpan(e.item))("role",e.ariaRole())("aria-expanded",e.isExpanded),ms(2),Lo("ngIf",!e.skipGroupDecoration)}}const hL=function(e,t,n,i,s,r){return{group:e,aggregates:t,value:n,field:i,index:s,$implicit:r}};function dL(e,t){if(1&e&&Uo(0,12),2&e){const e=Yo().$implicit,t=Yo(2);Lo("ngTemplateOutlet",e.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",rc(2,hL,t.item.data,null==t.item.data?null:t.item.data.aggregates,null==t.item.data?null:t.item.data.value,null==t.item.data?null:t.item.data.field,t.item.index,t.item.data))}}function pL(e,t){if(1&e&&(Vo(0,"td",10),Ao(1,dL,1,9,"ng-container",11),Ho()),2&e){const e=t.$implicit,n=t.index,i=Yo(2);Lo("logicalRowIndex",i.logicalRowIndex)("logicalColIndex",n+1)("logicalSlaveCell",!1)("groupItem",i.item)("colSpan",1),ms(1),Lo("ngIf",e.groupHeaderColumnTemplateRef)}}function fL(e,t){if(1&e&&(zo(0),Ao(1,pL,2,6,"td",9),jo()),2&e){const e=Yo();ms(1),Lo("ngForOf",e.groupHeaderColumns)}}const gL=function(){return{lastTarget:!0}};function mL(e,t){if(1&e&&(Vo(0,"div",3),Ca(1),Ho()),2&e){const e=Yo();Lo("context",ec(2,gL)),ms(1),xa(" ",e.text," ")}}const vL=function(e){return{field:e}},yL=function(e,t){return{field:e,type:"groupIndicator",hint:t}};function bL(e,t){if(1&e){const e=Go();Vo(0,"div",3),Vo(1,"div",4),$o("directionChange",(function(t){return Qt(e),Yo().directionChange(t)}))("remove",(function(t){return Qt(e),Yo().remove(t)})),Ho(),Ho()}if(2&e){const e=t.$implicit,n=t.index,i=Yo();Lo("context",tc(5,vL,e.field)),ms(1),Lo("enableDrag",!0)("context",nc(7,yL,e.field,i.groupTitles[n]))("group",e)("groupTitle",i.groupTitles[n])}}function wL(e,t){1&e&&(Vo(0,"div",3),Ca(1,"\xa0"),Ho()),2&e&&Lo("context",ec(1,gL))}const CL=["kendoGroupIndicator",""],SL=["anchor"],xL=["template"];function kL(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-filter-menu-container",4),$o("close",(function(){return Qt(e),Yo().close()}))("keydown.escape",(function(){return Qt(e),Yo().close()}))("keydown.enter",(function(t){return Qt(e),t.stopImmediatePropagation()})),Ho()}if(2&e){const e=Yo();Lo("column",e.column)("filter",e.filter)}}const EL=function(e){return{"k-grid-filter":!0,"k-state-active":e}},IL=function(e,t){return{service:e,column:t}};function _L(e,t){if(1&e&&Uo(0,5),2&e){const e=Yo(),t=Oo(6);Lo("ngTemplateOutlet",e.column.columnMenuTemplateRef||e.columnMenuTemplate||t)("ngTemplateOutletContext",nc(2,IL,e.service,e.column))}}function TL(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-sort",10,11),2&e){const e=Oo(1),t=Yo(2);Lo("kendoGridColumnMenuItem",e)("service",t.service)}}function FL(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-lock",10,12),2&e){const e=Oo(1),t=Yo(2);Lo("kendoGridColumnMenuItem",e)("service",t.service)}}function DL(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-stick",10,13),2&e){const e=Oo(1),t=Yo(2);Lo("kendoGridColumnMenuItem",e)("service",t.service)}}function AL(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-position",14,15),2&e){const e=Oo(1),t=Yo(2);Lo("showLock",t.hasLock)("showStick",t.hasStick)("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedPosition)}}function OL(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-chooser",16,17),2&e){const e=Oo(1),t=Yo(2);Lo("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedColumns)}}function RL(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-filter",16,18),2&e){const e=Oo(1),t=Yo(2);Lo("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedFilter)}}function PL(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-columnmenu-container",6),$o("keydown.escape",(function(){return Qt(e),Yo().close()}))("keydown.enter",(function(t){return Qt(e),t.stopImmediatePropagation()})),Ao(1,TL,2,2,"kendo-grid-columnmenu-sort",7),Ao(2,FL,2,2,"kendo-grid-columnmenu-lock",7),Ao(3,DL,2,2,"kendo-grid-columnmenu-stick",7),Ao(4,AL,2,5,"kendo-grid-columnmenu-position",8),Ao(5,OL,2,3,"kendo-grid-columnmenu-chooser",9),Ao(6,RL,2,3,"kendo-grid-columnmenu-filter",9),Ho()}if(2&e){const e=Yo();ms(1),Lo("ngIf",e.hasSort),ms(1),Lo("ngIf",e.hasLock&&!e.hasPosition),ms(1),Lo("ngIf",e.hasStick&&!e.hasPosition),ms(1),Lo("ngIf",e.hasPosition),ms(1),Lo("ngIf",e.hasColumnChooser),ms(1),Lo("ngIf",e.hasFilter)}}const NL=function(e){return{"k-state-active":e}},LL=["kendoGridHeader",""];function ML(e,t){1&e&&Bo(0,"th",7)}function VL(e,t){1&e&&Bo(0,"th",8),2&e&&Lo("logicalRowIndex",Yo().index)("logicalColIndex",0)}function HL(e,t){if(1&e&&Bo(0,"kendo-grid-filter-menu",16),2&e){const e=Yo(3).$implicit,t=Yo(3);Lo("column",e)("filter",t.filter)("tabIndex",t.tabIndex)}}function BL(e,t){if(1&e&&Bo(0,"kendo-grid-column-menu",17),2&e){const e=Yo(3).$implicit,t=Yo(3);Lo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)("tabIndex",t.tabIndex)}}function zL(e,t){}function jL(e,t){1&e&&Ca(0),2&e&&Sa(Yo(3).$implicit.displayTitle)}const UL=function(e,t,n,i){return{templateRef:e,columnIndex:t,column:n,$implicit:i}};function GL(e,t){if(1&e&&(Ao(0,HL,1,3,"kendo-grid-filter-menu",13),Ao(1,BL,1,8,"kendo-grid-column-menu",14),Ao(2,zL,0,0,"ng-template",15),Ao(3,jL,1,1,"ng-template",0)),2&e){const e=Yo(2).$implicit,t=Yo(3);Lo("ngIf",t.showFilterMenu&&t.isFilterable(e)),ms(1),Lo("ngIf",t.showColumnMenu(e)),ms(1),Lo("templateContext",sc(4,UL,e.headerTemplateRef,e.leafIndex,e,e)),ms(1),Lo("ngIf",!e.headerTemplateRef)}}function qL(e,t){}function KL(e,t){if(1&e&&(Vo(0,"span",24),Ca(1),Ho()),2&e){const e=Yo(3).$implicit;ms(1),Sa(e.displayTitle)}}function $L(e,t){if(1&e&&(Vo(0,"span",25),Ca(1),Ho()),2&e){const e=Yo(3).$implicit,t=Yo(3);ms(1),Sa(t.sortOrder(e.field))}}function WL(e,t){if(1&e&&Bo(0,"kendo-grid-filter-menu",16),2&e){const e=Yo(3).$implicit,t=Yo(3);Lo("column",e)("filter",t.filter)("tabIndex",t.tabIndex)}}function ZL(e,t){if(1&e&&Bo(0,"kendo-grid-column-menu",17),2&e){const e=Yo(3).$implicit,t=Yo(3);Lo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)("tabIndex",t.tabIndex)}}function YL(e,t){if(1&e){const e=Go();Vo(0,"span",18),Vo(1,"span",19,20),$o("click",(function(t){Qt(e);const n=Oo(2),i=Yo(2).$implicit;return Yo(3).onSortClick(i,t,n)})),Ao(3,qL,0,0,"ng-template",15),Ao(4,KL,2,1,"ng-template",0),Bo(5,"span",21),Ao(6,$L,2,1,"span",22),Ho(),Bo(7,"span",23),Ao(8,WL,1,3,"kendo-grid-filter-menu",13),Ao(9,ZL,1,8,"kendo-grid-column-menu",14),Ho()}if(2&e){const e=Yo(2).$implicit,t=Yo(3);ms(3),Lo("templateContext",sc(8,UL,e.headerTemplateRef,e.leafIndex,e,e)),ms(1),Lo("ngIf",!e.headerTemplateRef),ms(1),Lo("ngClass",t.sortIcon(e.field)),Fo("aria-label",t.sortableLabel),ms(1),Lo("ngIf",t.showSortNumbering(e)),ms(1),Lo("innerHtml",t.sortStatus(e),Wi),ms(1),Lo("ngIf",t.showFilterMenu&&t.isFilterable(e)),ms(1),Lo("ngIf",t.showColumnMenu(e))}}function QL(e,t){if(1&e&&Bo(0,"input",26),2&e){const e=Yo(5);Fo("id",e.selectAllCheckboxId())("aria-label",e.selectAllCheckboxLabel)}}function JL(e,t){if(1&e&&Bo(0,"span",27),2&e){const e=Yo(2).$implicit,t=Yo(3);Lo("column",e)("columns",t.columns)}}const XL=function(e,t,n,i){return{field:e,type:"column",column:t,hint:n,lastColumn:i}};function eM(e,t){if(1&e){const e=Go();Vo(0,"th",11),$o("keydown",(function(t){Qt(e);const n=Yo().$implicit;return Yo(3).onHeaderKeydown(n,t)})),Ao(1,GL,4,9,"ng-template",0),Ao(2,YL,10,13,"ng-template",0),Ao(3,QL,1,2,"ng-template",0),Ao(4,JL,1,2,"span",12),Ho()}if(2&e){const e=Yo(),t=e.$implicit,n=e.index,i=e.last,s=Yo().index,r=Yo(2);ua("k-filterable",r.showFilterMenu&&r.isFilterable(t)||r.showColumnMenu(t))("k-first",r.isFirstOnRow(t,n))("k-grid-header-sticky",t.sticky),Lo("logicalRowIndex",s)("logicalColIndex",r.logicalColumnIndex(t))("headerLabelText",t.title||t.field)("colSpan",t.colspan)("rowSpan",t.rowspan(r.totalColumnLevels))("enableDrag",r.shouldActivate(t))("context",sc(22,XL,t.field,t,t.title||t.field,i&&0===n))("ngClass",t.headerClass)("ngStyle",t.sticky?r.addStickyStyles(t):t.headerStyle),Fo("aria-sort",r.sortState(t))("rowspan",t.rowspan(r.totalColumnLevels))("colspan",t.colspan),ms(1),Lo("ngIf",!r.isSortable(t)),ms(1),Lo("ngIf",r.isSortable(t)),ms(1),Lo("ngIf",r.isCheckboxColumn(t)&&!t.headerTemplateRef&&t.showSelectAll),ms(1),Lo("ngIf",r.resizable)}}function tM(e,t){if(1&e&&Bo(0,"kendo-grid-column-menu",30),2&e){const e=Yo(2).$implicit,t=Yo(3);Lo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)}}function nM(e,t){}function iM(e,t){1&e&&Ca(0),2&e&&Sa(Yo(2).$implicit.displayTitle)}function sM(e,t){if(1&e&&Bo(0,"span",27),2&e){const e=Yo(2).$implicit,t=Yo(3);Lo("column",e)("columns",t.columns)}}const rM=function(e,t,n){return{type:"columnGroup",column:e,hint:t,lastColumn:n}};function oM(e,t){if(1&e&&(Vo(0,"th",28),Ao(1,tM,1,4,"kendo-grid-column-menu",29),Ao(2,nM,0,0,"ng-template",15),Ao(3,iM,1,1,"ng-template",0),Ao(4,sM,1,2,"span",12),Ho()),2&e){const e=Yo(),t=e.$implicit,n=e.index,i=e.last,s=Yo().index,r=Yo(2);ua("k-first",r.isFirstOnRow(t,n))("k-filterable",r.showColumnMenu(t))("k-grid-content-sticky",t.sticky),Lo("logicalRowIndex",s)("logicalColIndex",r.logicalColumnIndex(t))("rowSpan",t.rowspan(r.totalColumnLevels))("colSpan",t.colspan)("headerLabelText",t.title||t.field)("enableDrag",r.shouldActivate(t))("context",ic(21,rM,t,t.title,i&&0===n))("ngClass",t.headerClass)("ngStyle",t.headerStyle),Fo("rowspan",t.rowspan(r.totalColumnLevels))("colspan",t.colspan),ms(1),Lo("ngIf",r.showColumnMenu(t)),ms(1),Lo("templateContext",sc(25,UL,t.headerTemplateRef,r.lockedColumnsCount+n,t,t)),ms(1),Lo("ngIf",!t.headerTemplateRef),ms(1),Lo("ngIf",r.resizable)}}function aM(e,t){if(1&e&&(Ao(0,eM,5,27,"th",9),Ao(1,oM,5,30,"th",10)),2&e){const e=t.$implicit,n=Yo(3);Lo("ngIf",!n.isColumnGroupComponent(e)),ms(1),Lo("ngIf",n.isColumnGroupComponent(e))}}function lM(e,t){if(1&e&&(Vo(0,"tr",3),Ao(1,ML,1,0,"th",4),Ao(2,VL,1,2,"th",5),Ao(3,aM,2,2,"ng-template",6),Ho()),2&e){const e=t.index,n=Yo(2);Lo("logicalRowIndex",e)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount),ms(1),Lo("ngForOf",n.groups),ms(1),Lo("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),ms(1),Lo("ngForOf",n.columnsForLevel(e))("ngForTrackBy",n.trackByIndex)}}function cM(e,t){if(1&e&&Bo(0,"tr",31),2&e){const e=Yo(2);Lo("columns",e.leafColumns)("filter",e.filter)("groups",e.groups)("detailTemplate",e.detailTemplate)("lockedColumnsCount",e.lockedColumnsCount)("logicalRowIndex",e.totalColumnLevels+1)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount)}}function uM(e,t){if(1&e&&(Ao(0,lM,4,8,"tr",1),Ao(1,cM,1,9,"tr",2)),2&e){const e=Yo();Lo("ngForOf",e.columnLevels),ms(1),Lo("ngIf",e.showFilterRow)}}const hM=["resetButton"],dM=["filterButton"];function pM(e,t){if(1&e&&(zo(0),Uo(1,9),jo()),2&e){const e=Yo();ms(1),Lo("filterService",e.childService)("column",e.column)("filter",e.childFilter)("menuTabbingService",e.menuTabbingService)}}function fM(e,t){}function gM(e,t){if(1&e&&Ao(0,fM,0,0,"ng-template",11),2&e){const e=Yo(2);Lo("ngTemplateOutlet",e.column.filterMenuTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function mM(e,t){if(1&e&&(zo(0),Ao(1,gM,1,2,void 0,10),jo()),2&e){const e=Yo();ms(1),Lo("ngIf",e.column.filterMenuTemplateRef)}}function vM(e,t){if(1&e){const e=Go();Vo(0,"kendo-dropdownlist",3),$o("valueChange",(function(t){return Qt(e),Yo().logicChange(t)})),Ho()}if(2&e){const e=Yo();Lo("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function yM(e,t){if(1&e&&Bo(0,"kendo-grid-string-filter-menu-input",4),2&e){const e=Yo();Lo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("menuTabbingService",e.menuTabbingService)}}function bM(e,t){if(1&e){const e=Go();Vo(0,"kendo-dropdownlist",3),$o("valueChange",(function(t){return Qt(e),Yo().logicChange(t)})),Ho()}if(2&e){const e=Yo();Lo("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function wM(e,t){if(1&e&&Bo(0,"kendo-grid-numeric-filter-menu-input",4),2&e){const e=Yo();Lo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("format",e.format)("decimals",e.decimals)("spinners",e.spinners)("min",e.min)("max",e.max)("step",e.step)("menuTabbingService",e.menuTabbingService)}}function CM(e,t){if(1&e){const e=Go();Vo(0,"kendo-dropdownlist",3),$o("valueChange",(function(t){return Qt(e),Yo().logicChange(t)})),Ho()}if(2&e){const e=Yo();Lo("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function SM(e,t){if(1&e&&Bo(0,"kendo-grid-date-filter-menu-input",4),2&e){const e=Yo();Lo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("format",e.format)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.min)("max",e.max)("weekNumber",e.weekNumber)("menuTabbingService",e.menuTabbingService)}}function xM(e,t){if(1&e){const e=Go();Vo(0,"li"),Vo(1,"input",2,3),$o("change",(function(){Qt(e);const n=t.$implicit,i=Oo(2);return Yo().onChange(n.value,i)}))("keydown.shift.tab",(function(t){return Qt(e),Yo().onShiftTab(t)})),Ho(),Vo(3,"label",4),Ca(4),Ho(),Ho()}if(2&e){const e=t.$implicit,n=Yo();ms(1),Lo("columnLabel",n.columnLabel)("name",n.idPrefix)("checked",n.isSelected(e.value)),Fo("id",n.radioId(e.value)),ms(2),Fo("for",n.radioId(e.value)),ms(1),Sa(e.text)}}const kM=["applyButton"];function EM(e,t){if(1&e&&(Vo(0,"label",3),Bo(1,"input",4),Vo(2,"span",5),Ca(3),Ho(),Ho()),2&e){const e=t.$implicit,n=t.index,i=Yo();ms(1),Lo("checked",!e.hidden)("disabled",i.isDisabled(e)),Fo("data-index",n),ms(2),Sa(e.displayTitle)}}function IM(e,t){if(1&e){const e=Go();Vo(0,"div",6),Vo(1,"button",7),$o("click",(function(){return Qt(e),Yo().cancelChanges()})),Ca(2),Ho(),Vo(3,"button",8,9),$o("keydown.tab",(function(t){return Qt(e),Yo().onTab(t)}))("click",(function(){return Qt(e),Yo().applyChanges()})),Ca(5),Ho(),Ho()}if(2&e){const e=Yo();Lo("ngClass",e.actionsClass),ms(2),Sa(e.resetText),ms(3),Sa(e.applyText)}}function _M(e,t){if(1&e){const e=Go();Vo(0,"span",4),Ca(1),Ho(),Vo(2,"kendo-grid-columnlist",5),$o("apply",(function(t){return Qt(e),Yo().onApply(t)}))("columnChange",(function(t){return Qt(e),Yo().onChange(t)})),Ho()}if(2&e){const e=Yo();ms(1),Sa(e.localization.get("columns")),ms(1),Lo("columns",e.columns)("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("autoSync",e.autoSync)("allowHideAll",e.allowHideAll)}}function TM(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-columnlist",2),$o("apply",(function(t){return Qt(e),Yo().onApply(t)})),Ho()}if(2&e){const e=Yo();Lo("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)("service",e.service)}}function FM(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-filter-menu-container",2),$o("keydown.shift.tab",(function(t){return Qt(e),t.stopImmediatePropagation()}))("close",(function(){return Qt(e),Yo().close()})),Ho()}if(2&e){const e=Yo();Lo("column",e.service.column)("menuTabbingService",e.service.menuTabbingService)("filter",e.service.filter)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)}}function DM(e,t){1&e&&Bo(0,"span",3),2&e&&Lo("ngClass",Yo().iconClass)}function AM(e,t){if(1&e&&(Vo(0,"div",4),Uo(1,5),Bo(2,"div"),Ho()),2&e){const e=Yo();Lo("@state",e.contentState),ms(1),Lo("ngTemplateOutlet",e.contentTemplate.templateRef)}}function OM(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-columnmenu-lock",3),$o("keydown.tab",(function(t){Qt(e);const n=Yo(2);return n.onTab(t,!n.showStick)})),Ho()}2&e&&Lo("service",Yo(2).service)}function RM(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-columnmenu-stick",3),$o("keydown.tab",(function(t){return Qt(e),Yo(2).onTab(t,!0)})),Ho()}2&e&&Lo("service",Yo(2).service)}function PM(e,t){if(1&e&&(Ao(0,OM,1,1,"kendo-grid-columnmenu-lock",2),Ao(1,RM,1,1,"kendo-grid-columnmenu-stick",2)),2&e){const e=Yo();Lo("ngIf",e.showLock),ms(1),Lo("ngIf",e.showStick)}}const NM=["kendoGridTableBody",""];function LM(e,t){1&e&&Bo(0,"td",8)}function MM(e,t){1&e&&Ao(0,LM,1,0,"td",7),2&e&&Lo("ngForOf",Yo(2).groups)}function VM(e,t){1&e&&Bo(0,"td",9),2&e&&Lo("logicalRowIndex",Yo(2).addRowLogicalIndex())("logicalColIndex",0)}function HM(e,t){if(1&e&&Bo(0,"td",10),2&e){const e=t.$implicit,n=t.index,i=Yo(2);ca("left",e.sticky?"0":void 0),ua("k-grid-content-sticky",e.sticky),Lo("rowIndex",-1)("columnIndex",i.lockedColumnsCount+n)("isNew",!0)("column",e)("dataItem",i.newDataItem)("ngClass",e.cssClass)("ngStyle",e.sticky?i.addStickyColumnStyles(e):e.style)("logicalRowIndex",i.addRowLogicalIndex())("logicalColIndex",i.logicalColIndex(e))("colSpan",e.colspan),Fo("colspan",e.colspan)}}function BM(e,t){if(1&e&&(Vo(0,"tr",4),Ao(1,MM,1,1,"ng-template",0),Ao(2,VM,1,2,"td",5),Ao(3,HM,1,15,"td",6),Ho()),2&e){const e=Yo();Lo("logicalRowIndex",e.addRowLogicalIndex())("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount),ms(1),Lo("ngIf",!e.skipGroupDecoration),ms(1),Lo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),ms(1),Lo("ngForOf",e.columns)("ngForTrackBy",e.trackByColumns)}}function zM(e,t){}function jM(e,t){if(1&e&&(zo(0),Ca(1),jo()),2&e){const e=Yo(2);ms(1),xa(" ",e.noRecordsText," ")}}const UM=function(e){return{templateRef:e}};function GM(e,t){if(1&e&&(Vo(0,"tr",11),Vo(1,"td"),Ao(2,zM,0,0,"ng-template",12),Ao(3,jM,2,1,"ng-container",13),Ho(),Ho()),2&e){const e=Yo();ms(1),Fo("colspan",e.colSpan),ms(1),Lo("ngIf",null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef)("templateContext",tc(4,UM,null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef)),ms(1),Lo("ngIf",!(null!=e.noRecordsTemplate&&e.noRecordsTemplate.templateRef))}}function qM(e,t){if(1&e&&Bo(0,"tr",18),2&e){const e=Yo(),t=e.$implicit,n=e.index,i=Yo();Lo("columns",i.columns)("groups",i.groups)("item",t)("hasDetails",null==i.detailTemplate?null:i.detailTemplate.templateRef)("skipGroupDecoration",i.skipGroupDecoration)("hasGroupHeaderColumn",i.hasGroupHeaderColumn)("groupHeaderColumns",i.groupHeaderColumns)("rowIndex",n+1)("totalColumnsCount",i.totalColumnsCount)("logicalRowIndex",i.logicalRowIndex(n))("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.groupHeaderSlaveCellsCount)}}function KM(e,t){1&e&&Bo(0,"td",8)}function $M(e,t){1&e&&Ao(0,KM,1,0,"td",7),2&e&&Lo("ngForOf",Yo(3).groups)}function WM(e,t){if(1&e){const e=Go();Vo(0,"a",24),$o("click",(function(){Qt(e);const t=Yo(3).$implicit;return Yo().toggleRow(t.index,t.data)})),Ho()}if(2&e){const e=Yo(3).$implicit,t=Yo();Lo("ngClass",t.detailButtonStyles(e)),Fo("title",t.detailButtonTitle(e))}}function ZM(e,t){if(1&e&&(Vo(0,"td",22),Ao(1,WM,1,2,"a",23),Ho()),2&e){const e=Yo(2),t=e.index,n=e.$implicit,i=Yo();Lo("logicalRowIndex",i.logicalRowIndex(t))("logicalColIndex",0)("dataRowIndex",n.index)("dataItem",n.data)("detailExpandCell",!0),ms(1),Lo("ngIf",i.detailTemplate.showIf(n.data,n.index))}}function YM(e,t){if(1&e&&Bo(0,"td",25),2&e){const e=t.$implicit,n=t.index,i=Yo(2),s=i.$implicit,r=i.index,o=Yo();ua("k-grid-content-sticky",e.sticky)("k-touch-action-none",o.isSelectable()&&o.selectable.drag)("k-touch-action-auto",!(o.isSelectable()&&o.selectable.drag))("k-grid-edit-cell",o.isEditingCell(s.index,e))("k-state-selected",o.isSelectable&&o.cellSelectionService.isCellSelected(s,e)),Lo("rowIndex",s.index)("columnIndex",o.lockedColumnsCount+n)("column",e)("dataItem",s.data)("logicalRowIndex",o.logicalRowIndex(r))("logicalColIndex",o.logicalColIndex(e))("dataRowIndex",s.index)("dataItem",s.data)("colIndex",n)("colSpan",e.colspan)("ngClass",e.cssClass)("ngStyle",e.sticky?o.addStickyColumnStyles(e):e.style),Fo("data-kendo-grid-column-index",o.lockedColumnsCount+n)("aria-selected",o.isSelectable()?o.isAriaSelected(s,e):void 0)("colspan",e.colspan)}}const QM=function(e,t){return{dataItem:e,index:t}};function JM(e,t){if(1&e&&(Vo(0,"tr",19),Ao(1,$M,1,1,"ng-template",0),Ao(2,ZM,2,6,"td",20),Ao(3,YM,1,25,"td",21),Ho()),2&e){const e=Yo(),t=e.$implicit,n=e.index,i=Yo();ua("k-grid-row-sticky",!!i.rowSticky&&i.rowSticky(nc(22,QM,t.data,t.index)))("k-alt",i.isOdd(t))("k-master-row",null==i.detailTemplate?null:i.detailTemplate.templateRef)("k-grid-edit-row",i.isEditingRow(t.index))("k-state-selected",i.isSelectable()&&i.isRowSelected(t)),Lo("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",i.logicalRowIndex(n))("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount)("ngClass",i.rowClass(nc(25,QM,t.data,t.index))),Fo("data-kendo-grid-item-index",t.index),ms(1),Lo("ngIf",!i.skipGroupDecoration),ms(1),Lo("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),ms(1),Lo("ngForOf",i.columns)("ngForTrackBy",i.trackByColumns)}}function XM(e,t){1&e&&Bo(0,"td",31)}function eV(e,t){}const tV=function(e,t,n){return{dataItem:e,rowIndex:t,$implicit:n}};function nV(e,t){if(1&e&&(Vo(0,"tr",26),Ao(1,XM,1,0,"td",27),Bo(2,"td",28),Vo(3,"td",29),Ao(4,eV,0,0,"ng-template",30),Ho(),Ho()),2&e){const e=Yo(),t=e.$implicit,n=e.index,i=Yo();ua("k-alt",i.isOdd(t)),Lo("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",i.logicalRowIndex(n)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),ms(1),Lo("ngForOf",i.groups),ms(2),Lo("logicalRowIndex",i.logicalRowIndex(n)+1)("logicalColIndex",0)("dataRowIndex",t.index)("dataItem",t.data)("colIndex",0)("colSpan",i.allColumnsSpan+1),Fo("colspan",i.columnsSpan),ms(1),Lo("ngTemplateOutlet",i.detailTemplate.templateRef)("ngTemplateOutletContext",ic(17,tV,t.data,t.index,t.data))}}function iV(e,t){1&e&&Bo(0,"td",31)}function sV(e,t){1&e&&Ao(0,iV,1,0,"td",27),2&e&&Lo("ngForOf",Yo(3).groups)}function rV(e,t){if(1&e&&Bo(0,"td",9),2&e){const e=Yo(2).index;Lo("logicalRowIndex",Yo().logicalRowIndex(e))("logicalColIndex",0)}}function oV(e,t){}const aV=function(e,t,n,i,s,r){return{templateRef:e,group:t,field:n,column:i,aggregates:s,$implicit:r}};function lV(e,t){if(1&e&&(Vo(0,"td",34),Ao(1,oV,0,0,"ng-template",35),Ho()),2&e){const e=t.$implicit,n=Yo(2),i=n.index,s=n.$implicit,r=Yo();Lo("logicalRowIndex",r.logicalRowIndex(i))("logicalColIndex",r.logicalColIndex(e)),Fo("data-skip",r.skipGroupDecoration),ms(1),Lo("templateContext",rc(4,aV,e.groupFooterTemplateRef,s.data,e.field,e,null==s.data?null:s.data.aggregates,null==s.data?null:s.data.aggregates))}}function cV(e,t){if(1&e&&(Vo(0,"tr",32),Ao(1,sV,1,1,"ng-template",0),Ao(2,rV,1,2,"td",5),Ao(3,lV,2,11,"td",33),Ho()),2&e){const e=Yo().index,t=Yo();Lo("logicalRowIndex",t.logicalRowIndex(e))("logicalSlaveRow",t.lockedColumnsCount>0)("logicalCellsCount",t.columns.length)("logicalSlaveCellsCount",t.unlockedColumnsCount),ms(1),Lo("ngIf",!t.skipGroupDecoration),ms(1),Lo("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),ms(1),Lo("ngForOf",t.footerColumns)("ngForTrackBy",t.trackByColumns)}}function uV(e,t){if(1&e&&(Ao(0,qM,1,13,"tr",14),Ao(1,JM,4,28,"tr",15),Ao(2,nV,5,21,"tr",16),Ao(3,cV,4,8,"tr",17)),2&e){const e=t.$implicit,n=Yo();Lo("ngIf",n.isGroup(e)&&n.isParentGroupExpanded(e)&&n.showGroupHeader(e)),ms(1),Lo("ngIf",n.isDataItem(e)&&(!e.group||n.isDataItemInExpandedGroup(e))),ms(1),Lo("ngIf",n.isDataItem(e)&&(!e.group||n.isDataItemInExpandedGroup(e))&&(null==n.detailTemplate?null:n.detailTemplate.templateRef)&&n.detailTemplate.showIf(e.data,e.index)&&n.isExpanded(e)),ms(1),Lo("ngIf",n.isFooter(e)&&e.group&&(n.isFooterItemInExpandedGroup(e)||n.showGroupFooters&&n.isParentGroupExpanded(e.group))&&!e.data.hideFooter)}}function hV(e,t){if(1&e){const e=Go();Vo(0,"kendo-resize-sensor",36),$o("resize",(function(){return Qt(e),Yo().resizeHandler()})),Ho()}}const dV=["kendoGridCell",""];function pV(e,t){}function fV(e,t){if(1&e&&(Ca(0),uc(1,"valueOf")),2&e){const e=t.$implicit;xa(" ",dc(1,1,Yo(3).dataItem,e.field,e.format)," ")}}function gV(e,t){1&e&&Ao(0,fV,2,5,"ng-template",4),2&e&&Lo("ngForOf",Yo(2).childColumns)}function mV(e,t){if(1&e&&(Ca(0),uc(1,"valueOf")),2&e){const e=Yo(2);Sa(dc(1,1,e.dataItem,e.column.field,e.column.format))}}function vV(e,t){if(1&e&&Bo(0,"input",5),2&e){const e=Yo(2);Lo("kendoGridSelectionCheckbox",e.rowIndex),Fo("id",e.selectionCheckboxId)("aria-label",e.selectionCheckboxLabel)}}function yV(e,t){if(1&e&&(zo(0),Ao(1,pV,0,0,"ng-template",2),Ao(2,gV,1,1,"ng-template",3),Ao(3,mV,2,5,"ng-template",3),Ao(4,vV,1,3,"ng-template",3),jo()),2&e){const e=Yo();ms(1),Lo("ngIf",e.column.templateRef)("ngTemplateOutlet",e.column.templateRef)("ngTemplateOutletContext",e.templateContext),ms(1),Lo("ngIf",e.isSpanColumn),ms(1),Lo("ngIf",e.isBoundColumn),ms(1),Lo("ngIf",e.isCheckboxColumn&&!e.isNew)}}function bV(e,t){}function wV(e,t){if(1&e&&Ao(0,bV,0,0,"ng-template",8),2&e){const e=Yo(2);Lo("ngTemplateOutlet",e.column.editTemplateRef)("ngTemplateOutletContext",e.editTemplateContext)}}function CV(e,t){if(1&e&&Bo(0,"kendo-numerictextbox",12),2&e){const e=Yo(3);Lo("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function SV(e,t){if(1&e&&Bo(0,"kendo-datepicker",12),2&e){const e=Yo(3);Lo("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function xV(e,t){if(1&e&&Bo(0,"input",13),2&e){const e=Yo(3);Lo("formControl",e.formGroup.get(e.column.field))}}function kV(e,t){if(1&e&&Bo(0,"input",14),2&e){const e=Yo(3);Lo("formControl",e.formGroup.get(e.column.field))}}function EV(e,t){1&e&&(zo(0,0),Ao(1,CV,1,2,"kendo-numerictextbox",9),Ao(2,SV,1,2,"kendo-datepicker",9),Ao(3,xV,1,1,"input",10),Ao(4,kV,1,1,"input",11),jo()),2&e&&(Lo("ngSwitch",Yo(2).column.editor),ms(1),Lo("ngSwitchCase","numeric"),ms(1),Lo("ngSwitchCase","date"),ms(1),Lo("ngSwitchCase","boolean"))}function IV(e,t){if(1&e&&(zo(0),Ao(1,wV,1,2,void 0,6),Ao(2,EV,5,4,"ng-container",7),jo()),2&e){const e=Yo();ms(1),Lo("ngIf",e.column.editTemplateRef),ms(1),Lo("ngIf",!e.column.editTemplateRef)}}const _V=["kendoGridFooter",""];function TV(e,t){1&e&&Bo(0,"td",5),2&e&&ua("k-group-cell",!0)}function FV(e,t){1&e&&Bo(0,"td",5),2&e&&ua("k-hierarchy-cell",!0)}function DV(e,t){}function AV(e,t){if(1&e&&(Vo(0,"td",6),Ao(1,DV,0,0,"ng-template",7),Ho()),2&e){const e=t.$implicit,n=t.index,i=Yo(2);ua("k-grid-footer-sticky",e.sticky),Lo("logicalRowIndex",i.logicalRowIndex)("logicalColIndex",i.logicalColumnIndex(e))("ngClass",e.footerClass)("ngStyle",e.sticky?i.addStickyStyles(e):e.footerStyle),ms(1),Lo("templateContext",sc(7,UL,e.footerTemplateRef,i.lockedColumnsCount+n,e,e))}}function OV(e,t){if(1&e&&(Vo(0,"tr",1),Ao(1,TV,1,2,"td",2),Ao(2,FV,1,2,"td",3),Ao(3,AV,2,12,"td",4),Ho()),2&e){const e=Yo();ua("k-footer-template",!0),Lo("logicalRowIndex",e.logicalRowIndex)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.columns.length-e.lockedColumnsCount),ms(1),Lo("ngForOf",e.groups),ms(1),Lo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),ms(1),Lo("ngForOf",e.columnsToRender)}}function RV(e,t){}function PV(e,t){if(1&e&&Ao(0,RV,0,0,"ng-template",1),2&e){const e=Yo();Lo("ngTemplateOutlet",e.toolbarTemplateRef)("ngTemplateOutletContext",e.context)}}const NV=/^\s*$/,LV=e=>null!=e,MV=e=>null==e,VV=e=>Array.isArray(e),HV=e=>!!e,BV=e=>MV(e)||NV.test(e),zV=e=>$(tg(e),e.changes),jV=()=>"undefined"==typeof document,UV=e=>"string"==typeof e,GV=e=>"number"==typeof e&&!isNaN(e),qV=e=>UV(e)&&!BV(e)&&e.startsWith("{0:")?e.slice(3,e.length-1):e,KV=e=>(...t)=>!e.apply(null,t),$V=(...e)=>t=>e.reduce((e,n)=>e||n(t),!1),WV=(...e)=>t=>e.reduce((e,n)=>e&&n(t),!0),ZV=YV();function YV(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype;for(let n=0;n<e.length;++n){const i=e[n];if("entries"!==i&&"size"!==i&&t[i]===t.entries)return i}}const QV="undefined"!=typeof window?window:{},JV=QV.requestAnimationFrame||QV.msRequestAnimationFrame||(e=>setTimeout(e,1e3/60)),XV=QV.cancelAnimationFrame||QV.msCancelRequestAnimationFrame||clearTimeout,eH=(e,t,n)=>e.replace(new RegExp(`{\\s*${t}\\s*}`,"g"),n);let tH=(()=>{let e=class{constructor(){this.cellClick=new gc,this.cellMousedown=new gc,this.cellMouseup=new gc,this.click=new gc,this.keydown=new gc,this.focus=new gc,this.focusIn=new gc,this.focusOut=new gc,this.windowBlur=new gc}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),nH=(()=>{let e=class{constructor(){this.changes=new gc}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const iH=new Ve("focus-root-initial-active-state");let sH=(()=>{let e=class{constructor(e=!1){this.active=e,this.groups=new Set}registerGroup(e){this.active&&this.groups.add(e)}unregisterGroup(e){this.active&&this.groups.delete(e)}activate(){this.active&&this.groups.forEach(e=>e.activate())}deactivate(){this.active&&this.groups.forEach(e=>e.deactivate())}};return e.\u0275fac=function(t){return new(t||e)(We(iH,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const rH=/^(?:a|input|select|option|textarea|button|object)$/i,oH={},aH=e=>String(e).trim().split(" "),lH=(e,t)=>{const n=aH(t);return Boolean(aH(e.className).find(e=>n.indexOf(e)>=0))},cH=e=>t=>lH(t,e),uH=e=>(oH[e]||(oH[e]=t=>String(t.nodeName).toLowerCase()===e.toLowerCase()),oH[e]),hH=(e,t)=>{for(;e&&!t(e);)e=e.parentNode;return e},dH=(e,t,n)=>{for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},pH=e=>{const t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility},fH=e=>{if(!e.tagName)return!1;const t=e.tagName.toLowerCase(),n=Boolean(e.getAttribute("tabIndex"));return!e.disabled&&rH.test(t)||n},gH=(e,t=!0)=>{if(!fH(e))return!1;const n=!t||pH(e),i="true"===e.getAttribute("aria-hidden"),s=e.getAttribute("tabIndex");return n&&!i&&"-1"!==s},mH=(e,t,n=!0)=>{if(e){if(n&&t(e))return e;for(e=e.firstChild;e;){if(1===e.nodeType){const n=mH(e,t);if(n)return n}e=e.nextSibling}}},vH=(e,t=!0)=>mH(e,e=>gH(e,t),!1),yH=uH("button"),bH=uH("input"),wH=/(button|checkbox|color|file|radio|reset|submit)/i;class CH{constructor(e,t){this.renderer=t,this.element=e.nativeElement,this.focusable=((e,t=!0)=>mH(this.element,e=>gH(e,t)))(0,!1)||this.element}get enabled(){return this.focusable&&!this.focusable.disabled}get visible(){return this.focusable&&pH(this.focusable)}isNavigable(){return this.canFocus()&&!(e=this.element).disabled&&(yH(e)||(e=>bH(e)&&wH.test(e.type))(e));var e}toggle(e){this.renderer.setAttribute(this.focusable,"tabIndex",e?"0":"-1")}focus(){this.focusable&&this.focusable.focus()}canFocus(){return this.visible&&this.enabled}hasFocus(){return document.activeElement!==this.element&&hH(document.activeElement,e=>e===this.element)}}const SH=new Ve("grid-cell-context");let xH=(()=>{let e=class{constructor(e,t,n){this.cellContext=e,this.hostElement=t,this.renderer=n,this.active=!0,this._enabled=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}set enabled(e){(e=""===e||Boolean(e))!==this.enabled&&(this._enabled=e,this.element&&this.element.toggle(this.active&&e))}get enabled(){return this._enabled}ngAfterViewInit(){this.element||(this.element=new CH(this.hostElement,this.renderer)),this.group&&this.element&&this.toggle(this.group.isActive)}ngOnDestroy(){this.group&&this.group.unregisterElement(this)}toggle(e){this.element&&e!==this.active&&(this.element.toggle(this.enabled&&e),this.active=e)}canFocus(){return this.enabled&&this.element&&this.element.canFocus()}isNavigable(){return this.enabled&&this.element&&this.element.isNavigable()}focus(){this.enabled&&this.element&&this.element.focus()}hasFocus(){return this.enabled&&this.element&&this.element.hasFocus()}registerElement(e){this.element=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(SH,12),Ro(Wa),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]],inputs:{enabled:["kendoGridFocusable","enabled"]}}),e})();class kH{constructor(e){this.navigationService=e}focus(){this.navigationService.focusCell()}toggle(e){this.navigationService.toggle(e)}canFocus(){return!0}hasFocus(){return this.navigationService.hasFocus()}isNavigable(){return!1}}class EH{constructor(e){this.model=e,this.changes=new E,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}get row(){return this.model.findRow(this.activeRow)}get cell(){const e=this.row;if(e)return this.model.findCell(this.activeCol,e)}get dataRowIndex(){const e=this.row;return e?e.dataRowIndex:-1}reset(e=this.activeRow,t=this.activeCol,n=!0){this.activate(e,t,n)&&(this.virtualRow=e,this.virtualCol=t)}activate(e,t,n){if(!n&&this.isActiveRange(e,t))return!1;const i=this.activeCol,s=this.activeRow;return this.activeCol=t,this.activeRow=e,this.changes.next({colIndex:t,prevColIndex:i,prevRowIndex:s,rowIndex:e}),!0}isActiveRange(e,t){if(this.activeRow!==e)return!1;const n=this.cell,{start:i,end:s}=this.model.cellRange(n);return!Boolean(n)||i<=t&&t<=s}assume(e=this.activeRow,t=this.activeCol){this.virtualRow=e,this.virtualCol=t,this.activeCol=t,this.activeRow=e}announce(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}activateVirtualCell(e){const t=this.model.rowRange(e),n=this.model.cellRange(e),i=this.activeCol,s=this.activeRow;if(t.start<=s&&s<=t.end&&n.start<=i&&i<=n.end)return this.activeRow=e.rowIndex,this.activeCol=e.colIndex,!0}isActive(e,t){return this.activeCol===t&&this.activeRow===e}moveUp(e=1){return this.offsetRow(-e)}moveDown(e=1){return this.offsetRow(e)}moveLeft(e=1){return this.offsetCol(-e)}moveRight(e=1){return this.offsetCol(e)}lastCellIndex(e){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||e&&e.groupItem?0:1)}offsetCol(e){const t=this.model.findRow(this.virtualRow),n=this.lastCellIndex(t),i=this.virtualCol;this.virtualCol=Math.max(0,Math.min(i+e,n));let s=this.virtualCol,r=this.virtualRow,o=this.model.findCell(this.virtualCol,t);if(!o&&this.metadata.virtualColumns)return this.activate(r,s);if(o.colSpan>1&&o.colIndex<=i&&i<o.colIndex+o.colSpan){s=e>0?Math.min(o.colIndex+o.colSpan,n):Math.max(0,o.colIndex+e);const r=this.model.findCell(s,t);o!==r?(o=r,this.virtualCol=o.colIndex):this.virtualCol=i}return this.activate(o.rowIndex,o.colIndex)}offsetRow(e){let t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){const n=this.metadata.maxLogicalRowIndex;let i=Math.max(0,Math.min(this.activeRow+e,n));this.metadata.hasDetailTemplate&&!this.model.findRow(i)&&(i=e>0?i+1:i-1,i=Math.max(0,Math.min(i,n))),this.metadata.hasDetailTemplate&&i===n&&this.model.lastRow.index!==n&&i--;const s=this.model.findRow(i);if(s){let n=this.model.findCell(this.virtualCol,s);n.rowIndex<=this.virtualRow&&e>0&&n.rowSpan>1&&(n=this.model.findCell(this.virtualCol,this.model.findRow(n.rowIndex+n.rowSpan-1+e))),i=n.rowIndex,t=n.colIndex}return this.virtualRow=i,this.activate(i,t)}const n=this.model.findRow(this.virtualRow+e)||this.model.nextRow(this.virtualRow,e);if(!n)return!1;let i=this.model.findCell(this.virtualCol,n);return i&&i.rowIndex<=this.virtualRow&&e>0&&i.rowSpan>1&&(i=this.model.findCell(this.virtualCol,this.model.findRow(i.rowIndex+i.rowSpan-1+e))),!i&&this.metadata.virtualColumns?this.activate(this.virtualRow+e,this.virtualCol):(this.virtualRow=i.rowIndex,this.activate(this.virtualRow,i.colIndex))}}class IH{constructor(){this.count=0,this.items={}}get first(){if(this.count>0){let e;return this.forEach(t=>(e=t,!0)),e}}get last(){if(this.count>0){const e=Object.keys(this.items);return this.items[e[e.length-1]]}}removeItem(e){this.items[e]&&(delete this.items[e],this.count--)}setItem(e,t){this.items[e]||this.count++,this.items[e]=t}getItem(e){return this.items[e]}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}forEach(e){for(let t in this.items)if(this.items.hasOwnProperty(t)&&e(this.items[t]))return this.items[t]}find(e){return this.forEach(e)}}class _H{constructor(){this.rows=new IH}get firstRow(){return this.rows.first}get lastRow(){return this.rows.last}registerCell(e){const t=this.rows.getItem(e.logicalRowIndex);if(!t)return;const n=e.logicalColIndex,i={uid:e.uid,colIndex:n,rowIndex:t.index,colSpan:e.colSpan,rowSpan:e.rowSpan,detailExpandCell:e.detailExpandCell,dataItem:t.dataItem,dataRowIndex:t.dataRowIndex,focusGroup:e.focusGroup};return t.cells.setItem(n,i),e.groupItem&&(t.groupItem=e.groupItem),i}unregisterCell(e,t,n){const i=this.rows.getItem(t);if(i){const t=i.cells.getItem(e);t&&t.uid===n.uid&&i.cells.removeItem(e)}}registerRow(e){const t={uid:e.uid,index:e.logicalRowIndex,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,cells:new IH};this.rows.setItem(e.logicalRowIndex,t)}updateRow(e){const t=this.rows.getItem(e.logicalRowIndex);t&&Object.assign(t,{dataItem:e.dataItem,dataRowIndex:e.dataRowIndex})}unregisterRow(e,t){const n=this.rows.getItem(e);n&&n.uid===t.uid&&this.rows.removeItem(e)}cellRange(e){return e?{start:e.colIndex,end:e.colIndex+(e.colSpan||1)-1}:{}}rowRange(e){return e?{start:e.rowIndex,end:e.rowIndex+(e.rowSpan||1)-1}:{}}nextRow(e,t){const n=this.rows.toArray(),i=this.rows.getItem(e),s=n.indexOf(i);return n[s+t]}findRow(e){return this.rows.getItem(e)}findCell(e,t){if(!t)return;const n=t.index;let i=t.cells.getItem(e),s=n;for(;!i&&t;)t=this.rows.getItem(s),i=this.rowCell(e,t),s--;return i&&n<=t.index+(i.rowSpan||1)-1?i:void 0}rowCell(e,t){if(!t||!t.cells.count)return;const n=t.cells.first;let i,s=e;for(;!i&&s>=n.colIndex;)i=t.cells.getItem(s),s--;return i&&e<=i.colIndex+(i.colSpan||1)-1?i:void 0}}class TH{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class FH extends TH{constructor(e){super(),this.action="cellClose",Object.assign(this,e)}}const DH=e=>-1===e||void 0===e;let AH=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new gc,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new E,this.changed=this.changedSource.asObservable().pipe(Ng(()=>this.ngZone.onStable.asObservable().pipe(Fg(1))))}editRow(e,t){this.editedIndices.push({index:e,group:t}),this.onChanged()}addRow(e){this.newItemGroup={group:e},this.onChanged()}editCell(e,t,n){DH(e)||!1===t.editable||!t.editTemplate&&!t.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,n),this.column=t,this.onChanged()))}isEditing(){return this.editedIndices.length>0}isEditingCell(){return this.isEditing()&&void 0!==this.column}get hasNewItem(){return LV(this.newItemGroup)}get newDataItem(){return this.hasNewItem?this.newItemGroup.group.value:{}}close(e){DH(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter((e=>t=>t.index!==e)(e)),delete this.column,this.onChanged())}closeCell(e){if(this.column&&!this.closingCell)return this.ngZone.run(()=>{const{index:t,group:n}=this.editedIndices[0],i=new FH({column:this.column,formGroup:n,originalEvent:e,rowIndex:t});return this.closingCell=!0,this.changes.emit(i),this.closingCell=!1,i.isDefaultPrevented()||this.cancelCell(),i.isDefaultPrevented()})}cancelCell(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}shouldCloseCell(){return this.column&&!this.keepEditCell}preventCellClose(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.keepCellTimeout),this.keepEditCell=!0,this.keepCellTimeout=window.setTimeout(()=>{this.keepEditCell=!1},0)})}context(e){return DH(e)?this.newItemGroup:this.findByIndex(e)}columnContext(e,t){return DH(e)?this.newItemGroup:this.column&&t!==this.column?void 0:this.findByIndex(e)}isEdited(e){return!(!DH(e)||!LV(this.newItemGroup))||!this.column&&LV(this.findByIndex(e))}hasEdited(e){return LV(this.context(e))}isEditedColumn(e,t){return!(!this.column||this.column!==t)&&LV(this.findByIndex(e))}beginEdit(e){this.changes.emit({action:"edit",rowIndex:e})}beginAdd(){this.changes.emit({action:"add"})}endEdit(e){const{group:t}=this.context(e);this.changes.emit({action:"cancel",rowIndex:e,formGroup:t,isNew:DH(e)})}save(e){const{group:t}=this.context(e);this.changes.emit({action:"save",rowIndex:e,formGroup:t,isNew:DH(e)})}remove(e){this.changes.emit({action:"remove",rowIndex:e})}findByIndex(e){return this.editedIndices.find((e=>t=>t.index===e)(e))}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}};return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const OH=e=>LV(e)?{group:e.data,groupIndex:e.index,parentGroup:OH(e.parentGroup)}:null;let RH=(()=>{let e=class{constructor(){this.changes=new E,this.rowState=new Set}reset(){this.rowState.clear()}ngOnDestroy(){this.reset()}isExpanded(e){return this.userCallback?this.userCallback(e):!this.rowState.has(e.groupIndex)}isInExpandedGroup(e){let t=!0;for(;e&&t;)t=this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:OH(e.parentGroup)}),e=e.parentGroup;return t}toggleRow(e){const t=OH(e.parentGroup),n=!this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:t});this.changes.next({group:e.data,expand:n,groupIndex:e.index,parentGroup:t}),this.userCallback||(n?this.rowState.delete(e.index):this.rowState.add(e.index))}expandChildren(e){this.rowState.forEach(t=>((e,t)=>t!==e&&e.startsWith(t))(t,e)&&this.rowState.delete(t))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),PH=(()=>{class e{constructor(){this.changes=new E,this.pageChange=new E}get currentPage(){return this.skip/this.pageSize}notifyChanges(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.changes.next(e)}changePage(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}changePageSize(e){this.pageChange.next({skip:0,take:e})}nextPage(){const e=this.currentPage+1;e*this.pageSize<this.total&&this.changePage(e)}prevPage(){const e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class NH extends TH{constructor(e){super(),Object.assign(this,e)}}class LH extends TH{constructor(e){super(),Object.assign(this,e)}}let MH=(()=>{let e=class{constructor(){this.changes=new E,this.rowState=new Set}ngOnDestroy(){this.rowState.clear()}isExpanded(e,t){return this.userCallback?this.userCallback({index:e,dataItem:t}):this.rowState.has(e)}toggleRow(e,t){this.isExpanded(e,t)?this.collapseRow(e,t):this.expandRow(e,t)}expandRow(e,t){this.emitEvent({dataItem:t,index:e,expand:!0})||this.userCallback||this.rowState.add(e)}collapseRow(e,t){this.emitEvent({dataItem:t,index:e,expand:!1})||this.userCallback||this.rowState.delete(e)}emitEvent(e){const t=new(e.expand?LH:NH)(e);return this.changes.next(t),t.isDefaultPrevented()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),VH=(()=>{let e=class{constructor(){this.requests=new E}scrollTo(e){this.requests.next(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const HH=(e,t)=>hH(e,uH("kendo-grid"))===t,BH=uH("th"),zH=uH("td"),jH=uH(".k-grid-footer td"),UH=e=>zH(e)||BH(e)||jH(e),GH=(e,t)=>{const n=((e,t)=>{let n=hH(e,UH);for(;n&&!HH(n,t);)n=hH(n.parentElement,UH);return n})(e,t),i=hH(n,uH("tr"));if(n&&i){let e=i.getAttribute("aria-rowindex");e=e?parseInt(e,10)-1:null;let t=n.getAttribute("aria-colindex");if(t=t?parseInt(t,10)-1:null,null!==e&&null!==t)return{colIndex:t,rowIndex:e,element:n}}},qH=e=>(e=>e===Tb.ArrowLeft||e===Tb.ArrowRight||e===Tb.ArrowUp||e===Tb.ArrowDown)(e)||e===Tb.PageUp||e===Tb.PageDown||e===Tb.Home||e===Tb.End,KH=uH("input");class $H{constructor(e,t){this.firstItemIndex=e,this.lastItemIndex=t}containsRow(e){return e<0||e>=this.firstItemIndex&&e<=this.lastItemIndex}intersects(e,t){return e<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=e&&e<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}let WH=(()=>{let e=class{constructor(e,t,n,i,s,r,o,a,l,c,u){this.zone=e,this.domEvents=t,this.pagerContextService=n,this.scrollRequestService=i,this.groupsService=s,this.detailsService=r,this.focusRoot=o,this.editService=a,this.cd=l,this.localization=c,this.focusableParent=u,this.cellKeydown=new gc,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new _H,this.cursor=new EH(this.model),this.changes=this.cursor.changes}set metadata(e){this.meta=e,this.cursor.metadata=e}get metadata(){return this.meta}get enabled(){return this.alive}get activeCell(){if(0!==this.mode)return this.cursor.cell}get activeRow(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}get activeDataRow(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}init(e){this.alive=!0,this.focusRoot.active=!0,this.metadata=e;const t=(...e)=>t=>this.zone.isStable?z([!0]).pipe(M(()=>t)):this.zone.onStable.pipe(Fg(1),M(()=>t),...e),n=t();if(this.subs=new h,this.subs.add(this.cursor.changes.subscribe(e=>this.onCursorChanges(e))),this.subs.add(this.domEvents.focus.pipe(Ng(n)).subscribe(e=>this.navigateTo(e.target))),this.subs.add(this.domEvents.focusOut.pipe(hg(()=>0!==this.mode),Ng(t(Ub(this.domEvents.focus)))).subscribe(e=>this.onFocusOut(e))),this.subs.add(this.domEvents.windowBlur.pipe(hg(()=>0!==this.mode)).subscribe(()=>this.onWindowBlur())),this.subs.add(this.editService.changes.pipe(hg(e=>"edit"!==e.action&&2===this.mode),hg(e=>"cellClose"===e.action&&!e.prevented),Ng(n)).subscribe(()=>this.leaveCell())),this.subs.add(this.pagerContextService.pageChange.subscribe(()=>this.cursor.reset(0,0))),this.subs.add(this.domEvents.keydown.subscribe(e=>this.onKeydown(e))),this.subs.add(this.domEvents.keydown.pipe(hg(e=>e.keyCode===Tb.Tab&&2===this.mode),Kb(this.domEvents.focusOut.pipe(Ub(Fb(0).pipe(Fg(1)))))).subscribe(()=>this.onTabout())),this.focusableParent){const e=new kH(this);this.focusableParent.registerElement(e)}this.deactivateElements()}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.alive=!1}registerCell(e){if(e.logicalRowIndex!==this.pendingRowIndex){const t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}registerCellOnCurrentRow(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}unregisterCell(e,t,n){this.model.unregisterCell(e,t,n)}registerRow(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}updateRow(e){this.model.updateRow(e)}unregisterRow(e,t){this.model.unregisterRow(e,t);const n=this.model.lastRow;if(n&&0===this.mode){const e=this.needsViewport()?this.viewport.lastItemIndex:n.index;this.activeRowIndex>e&&this.cursor.reset(0,0)}}isCellFocusable(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}isCellFocused(e){return 1===this.mode&&this.isCellFocusable(e)}navigateTo(e){if(!this.alive)return;const t=GH(e,this.meta.gridElement.nativeElement);if(!t)return;const n=this.mode,i=((e,t,n=!1)=>{if(!hH(t,t=>t===e))return!1;const i=hH(t,e=>e===t);return i&&(n||i!==e)})(t.element,document.activeElement),s=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(i)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!s){this.mode=1,this.deactivateElements();const e=this.cursor.isActive(t.rowIndex,t.colIndex);1===n&&e||this.cursor.reset(t.rowIndex,t.colIndex)}}tryFocus(e){this.activateElements();const t=vH(e);if(t){const e=GH(t,this.meta.gridElement.nativeElement);e&&(this.cursor.reset(e.rowIndex,e.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}needsViewport(){return this.meta&&this.meta.isVirtual}setViewport(e,t){if(this.viewport=new $H(e,t),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const n=this.activeDataRow,i=n-t;e-n>0?this.cursor.reset(e+this.meta.headerRows):i>0&&this.cursor.reset(t-this.meta.headerRows)}}setColumnViewport(e,t){this.columnViewport=new $H(e,t)}focusCell(e,t){return this.mode=1,this.cursor.reset(e,t),this.activeCell}focusCellByElement(e){const t=GH(e,this.meta.gridElement.nativeElement);if(t)return this.focusCell(t.rowIndex,t.colIndex)}focusNextCell(e=!0){return this.focusAdjacentCell(!0,e)}focusPrevCell(e=!0){return this.focusAdjacentCell(!1,e)}toggle(e){this.active=e,this.cursor.announce()}hasFocus(){return 1===this.mode||2===this.mode}autoFocusCell(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}focusAdjacentCell(e,t){this.focusCell();let n=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!n&&(n=e?this.cursor.moveDown(1):this.cursor.moveUp(1),n)){const t=this.cursor.row,n=e?0:this.cursor.lastCellIndex(t);this.cursor.reset(t.index,n)}return n?this.activeCell:(this.mode=0,this.cursor.announce(),null)}enterCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup,n=t&&t.canFocus();this.mode=n?2:1,this.cursor.announce(),n&&(this.activateRow(),t.focus())}leaveCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}activateElements(){this.focusRoot.activate()}deactivateElements(){this.focusRoot.deactivate()}activateRow(){this.cursor.row.cells.forEach(e=>e.focusGroup&&e.focusGroup.activate())}moveCursorFwd(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}moveCursorBwd(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}onCursorKeydown(e){let t=!1;const n=e.ctrlKey||e.metaKey,i=n?5:1;if(!this.onCellKeydown(e))return;const s=this.cursor.row;switch(e.keyCode){case Tb.ArrowDown:t=this.cursor.moveDown(i);break;case Tb.ArrowUp:t=this.cursor.moveUp(i);break;case Tb.ArrowRight:t=this.moveCursorFwd();break;case Tb.ArrowLeft:t=this.moveCursorBwd();break;case Tb.PageDown:if(this.metadata.isVirtual&&this.viewport){let e=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&e++,e=Math.min(this.meta.maxLogicalRowIndex,e),this.cursor.reset(e),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.nextPage()),t=!0);break;case Tb.PageUp:if(this.metadata.isVirtual&&this.viewport){let e=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(e),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.prevPage()),t=!0);break;case Tb.Home:this.cursor.reset(n?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:s.index,0,!1),t=!0;break;case Tb.End:if(n)if(this.meta.isVirtual){let e=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&e--,this.cursor.reset(e,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{const e=this.cursor.lastCellIndex(s),t=this.model.findCell(e,s);t?this.cursor.reset(t.rowIndex,t.colIndex):this.cursor.reset(s.index,e)}t=!0;break;case Tb.Enter:case Tb.F2:const o=s.groupItem;o?this.zone.run(()=>this.groupsService.toggleRow(o)):this.cursor.cell.detailExpandCell?this.zone.run(()=>this.detailsService.toggleRow(s.dataRowIndex,s.dataItem)):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(t=!0));break;default:e.ctrlKey||e.altKey||1!==(r=e.key).length||!r.match(/\S/)||this.enterCell()}var r;t&&e.preventDefault()}onContentKeydown(e){if(!this.onCellKeydown(e))return;const t=!e.defaultPrevented&&e.keyCode===Tb.Enter&&(n=e.srcElement)&&KH(n)&&"text"===n.type.toLowerCase();var n;e.keyCode===Tb.Escape||e.keyCode===Tb.F2||t?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):qH(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}onCellKeydown(e){if(this.editService.isEditingCell()){const t=e.keyCode===Tb.Enter,n=e.keyCode===Tb.Escape,i=qH(e.keyCode);if(t)this.editService.closeCell(e);else if(n)this.editService.cancelCell(),this.cd.detectChanges();else if(i)return!1}return this.cellKeydown.emit(e),!0}onCursorChanges(e){this.activeRowIndex=e.rowIndex;const t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&e.rowIndex>=this.meta.headerRows&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){const t=this.activeCell,{start:n,end:i}=this.model.cellRange(t);t||(this.virtualCell=!0),(!t&&0!==this.mode||t&&!this.columnViewport.intersects(n,i))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}onFocusOut(e){this.mode=pH(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}onWindowBlur(){this.mode=0,this.deactivateElements(),this.cursor.announce()}onKeydown(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}onTabout(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}};return e.\u0275fac=function(t){return new(t||e)(We(ou),We(tH),We(PH),We(VH),We(RH),We(MH),We(sH),We(AH),We(Wr),We(jb),We(xH,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),ZH=(()=>{let e=class{constructor(e,t,n){this.domEvents=e,this.localDataChangesService=t,this.navigationService=n,this.changes=new gc,this.lastSelectionStartIndex=0,this.currentSelection=[],this.selectAllChecked=!1,this.active=!1,this.dragging=!1,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const e=this.settings.selectable,t="object"==typeof e&&LV(e)&&"multiple"===e.mode&&!1!==e.enabled&&!e.checkboxOnly&&e.drag;return this.active&&t}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const t=this.getIterator();this._selectAllState=!0;let n=t.next();for(;!n.done;){if(n.value&&"data"===n.value.type){const t={dataItem:n.value.data,index:n.value.index};e.rowSelected(t)?this.currentSelection[n.value.index]=t:this._selectAllState=void 0}n=t.next()}0===this.currentSelection.length&&(this._selectAllState=!1)}}isSelected(e){if(this.settings&&this.active)return this.options.enabled&&LV(this.currentSelection[e])}handleClick(e,t){if(this.dragging)return void(this.dragging=!1);let n;const i=t.ctrlKey||t.metaKey;"single"===this.options.mode&&i&&this.isSelected(e.index)?n=this.toggle(e):"multiple"===this.options.mode&&(i&&!t.shiftKey?n=this.toggle(e):t.shiftKey&&(n=this.addAllTo(e,i))),LV(n)||(n=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(n.selectedRows.length||n.deselectedRows.length)&&(n.ctrlKey=i,n.shiftKey=t.shiftKey,this.changes.emit(n))}toggle(e){let t=[],n=[];this.lastSelectionStartIndex=e.index;const i={dataItem:e.data,index:e.index};return this.isSelected(e.index)?n.push(i):t.push(i),{deselectedRows:n,selectedRows:t}}toggleByIndex(e){const t=this.getIterator();this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);let n=t.next();for(;!n.done;){if(n.value&&"data"===n.value.type&&n.value.index===e){const t={data:n.value.data,index:n.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(t):this.select(t)}n=t.next()}}select(e){let t=[],n=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)||n.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach(n=>{n.index!==e.index&&t.push(n)}),{deselectedRows:t,selectedRows:n}}deselect(e){const t=this.getIterator();let n=t.next();for(;!n.done;){if(n.value&&"data"===n.value.type&&n.value.data===e){const e={dataItem:n.value.data,index:n.value.index};this.isSelected(e.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[e],selectedRows:[]})}n=t.next()}}addAllTo(e,t){let n=[],i=[];const s=Math.min(this.lastSelectionStartIndex,e.index),r=Math.max(this.lastSelectionStartIndex,e.index),o=this.getIterator();let a=o.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const e=a.value.index,o={dataItem:a.value.data,index:e};(e<s||e>r)&&this.isSelected(e)&&!t&&i.push(o),e>=s&&e<=r&&!this.isSelected(e)&&n.push(o)}a=o.next()}return{deselectedRows:i,selectedRows:n}}updateAll(e){this.selectAllChecked=e;let t=[],n=[];const i=this.getIterator();let s=i.next();for(;!s.done;){if(s.value&&"data"===s.value.type){const i=s.value.index,r={dataItem:s.value.data,index:i};this.isSelected(i)&&!e&&n.push(r),!this.isSelected(i)&&e&&t.push(r)}s=i.next()}(t.length||n.length)&&this.changes.emit({ctrlKey:!0,deselectedRows:n,selectedRows:t,shiftKey:!0})}selectRange(e,t){let n=[],i=[];const s=Math.min(e,t),r=Math.max(e,t),o=this.getIterator();let a=o.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const e=a.value.index,t={dataItem:a.value.data,index:e};(e<s||e>r)&&this.isSelected(e)&&i.push(t),e>=s&&e<=r&&!this.isSelected(e)&&n.push(t)}a=o.next()}return{deselectedRows:i,selectedRows:n}}get selectAllState(){return this._selectAllState}get selected(){return this.currentSelection.map(e=>e.index).filter(e=>"number"==typeof e)}get options(){const e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return LV(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}targetArgs(){return{index:this.mouseDownEventArgs.rowIndex,dataItem:this.mouseDownEventArgs.dataItem}}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,!this.options.enabled||this.options.mode&&"multiple"!==this.options.mode||this.options.checkboxOnly||!e.originalEvent.shiftKey||this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&LV(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[ZV]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}};return e.\u0275fac=function(t){return new(t||e)(We(tH),We(nH),We(WH))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),YH=(()=>{let e=class{constructor(e,t,n){this.domEvents=e,this.localDataChangesService=t,this.navigationService=n,this.changes=new gc,this.mouseUpEvent=new gc,this.currentSelection=[],this.active=!1,this.dragging=!1,this.dragSelectDeselect=!1,this.lastSelectionItem={itemKey:0,columnKey:0},this.lastSelectionItemRowIndex=0,this.lastSelectionItemColIndex=0,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const e=this.settings.selectable,t="object"==typeof e&&LV(e)&&"multiple"===e.mode&&e.cell&&!1!==e.enabled&&e.drag;return this.active&&t}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const t=this.getIterator();let n=t.next();for(;!n.done;){if(n.value&&"data"===n.value.type){const t={dataItem:n.value.data,index:n.value.index};e.columns.forEach(n=>{const i=e.cellSelected(t,n,n.leafIndex);i.selected&&this.currentSelection.push(i.item)})}n=t.next()}}}isCellSelected(e,t){if(this.settings&&this.active){const n=this.settings.cellSelected({dataItem:e.data,index:e.index},t,t.leafIndex);return this.options.enabled&&n.selected}return!1}handleClick(e,t){if(this.dragging)return void(this.dragging=!1);let n;const i=t.ctrlKey||t.metaKey;if("single"===this.options.mode&&i&&this.isCellSelected(e,e.column))n=this.toggle(e);else if("multiple"===this.options.mode)if(i&&!t.shiftKey)n=this.toggle(e);else if(t.shiftKey){const t=Math.min(this.lastSelectionItemRowIndex,e.index),i=Math.min(this.lastSelectionItemColIndex,e.column.leafIndex),s=Math.max(this.lastSelectionItemRowIndex,e.index),r=Math.max(this.lastSelectionItemColIndex,e.column.leafIndex);n=this.selectRange(t,i,s,r)}LV(n)||(n=this.select(e),this.currentSelection=[this.lastSelectionItem]),(n.selectedCells.length||n.deselectedCells.length)&&(n.ctrlKey=i,n.shiftKey=t.shiftKey,this.changes.emit(n))}toggle(e){let t=[],n=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)?n.push(this.lastSelectionItem):t.push(this.lastSelectionItem),{deselectedCells:n,selectedCells:t}}select(e){const t=[],n=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)||t.push(this.lastSelectionItem),this.currentSelection.forEach(e=>{e.itemKey===this.lastSelectionItem.itemKey&&e.columnKey===this.lastSelectionItem.columnKey||n.push(e)}),{deselectedCells:n,selectedCells:t}}deselect(e){const t=this.getIterator();let n,i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type&&i.value.data===e){n={dataItem:i.value.data,index:i.value.index};break}i=t.next()}if(n){const e=this.currentSelection.filter(e=>{const t=this.settings.cellSelected(n,null,null).item;return e.itemKey===t.itemKey});e.length&&this.changes.emit({ctrlKey:!1,deselectedCells:e,selectedCells:[]})}}selectRange(e,t,n,i){const s=[],r=[],o=Math.min(e,n),a=Math.min(t,i),l=Math.max(e,n),c=Math.max(t,i),u=this.getIterator();let h=u.next();for(;!h.done;){if(h.value&&"data"===h.value.type){const e=h.value.index,t={dataItem:h.value.data,index:e};this.settings.columns.forEach(n=>{const{item:i}=this.settings.cellSelected(t,n,n.leafIndex),u=this.isCellSelected(h.value,n),d=o<=e&&e<=l&&a<=n.leafIndex&&n.leafIndex<=c;!d&&u&&r.push(i),d&&!u&&s.push(i)})}h=u.next()}return{deselectedCells:r,selectedCells:s}}get options(){const e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return LV(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem,column:e.column},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,!this.options.enabled||this.options.mode&&"multiple"!==this.options.mode||this.options.checkboxOnly||!e.originalEvent.shiftKey||this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&LV(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[ZV]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}};return e.\u0275fac=function(t){return new(t||e)(We(tH),We(nH),We(WH))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const QH={topLeft:{x:2,y:2},topRight:{x:-2,y:2},bottomLeft:{x:2,y:-2},bottomRight:{x:-2,y:-2}};let JH=(()=>{let e=class{constructor(e,t,n,i){this.draggable=e,this.selection=t,this.cellSelection=n,this.domEvents=i,this.selectionStarted=!1}get webkitUserSelection(){return this.cellSelection.enableMarquee||this.selection.enableMarquee?"none":null}get userSelection(){return this.cellSelection.enableMarquee||this.selection.enableMarquee}ngOnInit(){this.subscriptions=this.draggable.kendoPress.subscribe(this.start.bind(this)),this.subscriptions.add(this.draggable.kendoDrag.subscribe(this.moveMarquee.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.clean()}start(e){e.originalEvent.target.classList.contains("k-checkbox")?this.pressArgs=null:(this.pressArgs=e,this.pressTarget=null)}moveMarquee(e){this.pressTarget||(this.pressTarget=this.cellSelection.active?this.cellSelection.mouseDownEventArgs:this.selection.mouseDownEventArgs);const t=this.pressArgs;if(!t)return;if(!this.selectionStarted){if(!(Math.sqrt(Math.pow(e.pageX-t.pageX,2)+Math.pow(e.pageY-t.pageY,2))>5))return;this.selectionStarted=!0,this.dragEndSubscription=$(this.domEvents.cellMouseup.pipe(Fg(1)),this.draggable.kendoRelease.pipe(Qb(1),Fg(1))).subscribe(this.endSelection.bind(this))}this.initMarquee();const n=this.marqueeElement,i=this.getMarqueeQuadrant(e.pageX,e.pageY,t.pageX,t.pageY);let s=Math.min(e.pageX,t.pageX),r=Math.min(e.pageY,t.pageY);const o=Math.abs(e.pageX-t.pageX),a=Math.abs(e.pageY-t.pageY);i&&(s+=QH[i].x,r+=QH[i].y),n.style.left=s+"px",n.style.top=r+"px",n.style.width=o+"px",n.style.height=a+"px"}endSelection(e){"mouseup"!==e.type&&"touchend"!==e.type||(this.cellSelection.active?(this.cellSelection.dragging=!0,this.cellSelection.changes.emit(this.cellSelection.selectRange(this.pressTarget.rowIndex,this.pressTarget.column.leafIndex,e.rowIndex,e.column.leafIndex))):this.selection.active&&(this.selection.dragging=!0,this.selection.changes.emit(this.selection.selectRange(this.pressTarget.rowIndex,e.rowIndex)))),this.clean()}clean(){this.marqueeElement&&(document.body.removeChild(this.marqueeElement),this.marqueeElement=null),this.dragEndSubscription&&this.dragEndSubscription.unsubscribe(),this.dragEndSubscription=null,this.pressTarget=null,this.pressArgs=null,this.selectionStarted=!1,this.cellSelection.active?this.cellSelection.dragging=!1:this.selection.dragging=!1}initMarquee(){this.marqueeElement||(this.marqueeElement=(()=>{const e=document.createElement("div");e.className="k-marquee";const t=document.createElement("div");return t.className="k-marquee-color",e.appendChild(t),e})(),document.body.appendChild(this.marqueeElement))}getMarqueeQuadrant(e,t,n,i){const s=e<n,r=e>n,o=t<i,a=t>i;return s&&o?"topLeft":s&&a?"bottomLeft":r&&o?"topRight":r&&a?"bottomRight":null}};return e.\u0275fac=function(t){return new(t||e)(Ro(fb),Ro(ZH),Ro(YH),Ro(tH))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSelectionMarquee",""]],hostVars:4,hostBindings:function(e,t){2&e&&(ca("-webkit-user-select",t.webkitUserSelection),ua("user-select-none",t.userSelection))}}),e})();class XH extends gc{constructor(e,t=!1){super(t),this.ngZone=e}subscribe(e,t,n){let i,s=e=>null,r=()=>null;return e&&"object"==typeof e?(i=t=>{this.ngZone.run(()=>e.next(t))},e.error&&(s=t=>{this.ngZone.run(()=>e.error(t))}),e.complete&&(r=()=>{this.ngZone.run(()=>e.complete())})):(i=t=>{this.ngZone.run(()=>e(t))},t&&(s=e=>{this.ngZone.run(()=>t(e))}),n&&(r=()=>{this.ngZone.run(()=>n())})),super.subscribe(i,s,r)}}const eB={name:"@progress/kendo-angular-grid",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1627453156,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let tB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridCellTemplate",""]]}),e})(),nB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),e})(),iB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),e})(),sB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridEditTemplate",""]]}),e})(),rB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridGroupFooterTemplate",""]]}),e})(),oB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridHeaderTemplate",""]]}),e})(),aB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridFooterTemplate",""]]}),e})(),lB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridColumnMenuTemplate",""]]}),e})();const cB=e=>e.isSpanColumn,uB=e=>e.isCheckboxColumn;let hB=(()=>{class e{constructor(e){if(this.parent=e,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.sticky=!1,this.lockable=!0,this.stickable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new vc,this.columnMenuTemplates=new vc,e&&!(t=e).isColumnGroup&&!cB(t))throw new Error("Columns can be nested only inside ColumnGroupComponent");var t}set width(e){this._width=parseInt(e,10)}get width(){return this._width}get level(){return this.parent&&cB(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}get isLocked(){return this.parent?this.parent.isLocked:this.locked}get colspan(){return 1}rowspan(e){return this.level<e?e-this.level+1:1}get headerTemplateRef(){const e=this.headerTemplates.first;return e?e.templateRef:void 0}get footerTemplateRef(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}get columnMenuTemplateRef(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get displayTitle(){return this.title}get isVisible(){return!this.hidden&&this.matchesMedia}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,contentQueries:function(e,t,n){var i;1&e&&(Dc(n,aB,!0),Dc(n,oB,!1),Dc(n,lB,!1)),2&e&&(Ic(i=Rc())&&(t.footerTemplate=i.first),Ic(i=Rc())&&(t.headerTemplates=i),Ic(i=Rc())&&(t.columnMenuTemplates=i))},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",sticky:"sticky",lockable:"lockable",stickable:"stickable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",footerClass:"footerClass"}}),e})(),dB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridFilterCellTemplate",""]]}),e})(),pB=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridFilterMenuTemplate",""]]}),e})();var fB;function gB(e){return LV(e.field)}let mB=(()=>{let e=fB=class extends hB{constructor(e){super(e),this.sortable=!0,this.groupable=!0,this.editor="text",this.filter="text",this.filterable=!0,this.editable=!0}get templateRef(){return this.template?this.template.templateRef:void 0}get groupHeaderTemplateRef(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}get groupHeaderColumnTemplateRef(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}get groupFooterTemplateRef(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}get editTemplateRef(){return this.editTemplate?this.editTemplate.templateRef:void 0}get filterCellTemplateRef(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}get filterMenuTemplateRef(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}get displayTitle(){return void 0===this.title?this.field:this.title}};return e.\u0275fac=function(t){return new(t||e)(Ro(hB,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column"]],contentQueries:function(e,t,n){var i;1&e&&(Dc(n,tB,!0),Dc(n,nB,!0),Dc(n,iB,!0),Dc(n,rB,!0),Dc(n,sB,!0),Dc(n,dB,!0),Dc(n,pB,!0)),2&e&&(Ic(i=Rc())&&(t.template=i.first),Ic(i=Rc())&&(t.groupHeaderTemplate=i.first),Ic(i=Rc())&&(t.groupHeaderColumnTemplate=i.first),Ic(i=Rc())&&(t.groupFooterTemplate=i.first),Ic(i=Rc())&&(t.editTemplate=i.first),Ic(i=Rc())&&(t.filterCellTemplate=i.first),Ic(i=Rc())&&(t.filterMenuTemplate=i.first))},inputs:{sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",field:"field",format:"format"},features:[Ga([{provide:hB,useExisting:xe(()=>fB)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var vB;function yB(e){return e.isSpanColumn}let bB=(()=>{let e=vB=class extends hB{constructor(e){if(super(e),this.isSpanColumn=!0,this.template=new vc,this.editTemplate=new vc,this.childColumns=new vc,this.includeInChooser=!1,this._editable=!0,this._locked=!1,e&&e.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn")}set editable(e){this._editable=e}get editable(){return LV(this.editTemplateRef)&&this._editable}set width(e){}get width(){return this.childColumns.reduce((e,t)=>e+t.width,0)}get leafIndex(){return this.childColumns.first.leafIndex}get templateRef(){const e=this.template.first;return e?e.templateRef:void 0}get editTemplateRef(){const e=this.editTemplate.first;return e?e.templateRef:void 0}get colspan(){return this.childColumns.filter(e=>e.isVisible).length}set locked(e){this._locked=e}get locked(){return this._locked||this.childColumns.some(e=>e.locked)}get childrenArray(){return this.childColumns.toArray()}get hasChildren(){return this.childColumns.length>0}};return e.\u0275fac=function(t){return new(t||e)(Ro(hB,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,t,n){var i;1&e&&(Dc(n,tB,!1),Dc(n,sB,!1),Dc(n,mB,!1)),2&e&&(Ic(i=Rc())&&(t.template=i),Ic(i=Rc())&&(t.editTemplate=i),Ic(i=Rc())&&(t.childColumns=i))},inputs:{editable:"editable",locked:"locked"},features:[Ga([{provide:hB,useExisting:xe(()=>vB)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const wB=e=>e.reduce((e,t)=>e.concat(yB(t)?t.childrenArray:[t]),[]),CB=e=>e.reduce((e,t)=>e.concat(yB(t)?[t].concat(t.childrenArray):[t]),[]),SB=e=>wB(e).filter(e=>e.isVisible),xB=e=>t=>(t||[]).reduce((t,n)=>t+(n[e]||0),0),kB=xB("width"),EB=xB("colspan"),IB=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),_B=e=>e.reduce((e,t)=>(t.isColumnGroup?e=e.concat(_B((e=>e.children.filter(t=>t!==e))(t))):t.isSpanColumn?e=e.concat(t.childrenArray):e.push(t),e),[]).filter(e=>e.isVisible),TB=(e,...t)=>_B(t).some(e),FB=e=>nx(e,[{field:"orderIndex",dir:"asc"}]),DB=e=>HV(e.parent)&&yB(e.parent);var AB;function OB(e){return e.isColumnGroup}let RB=(()=>{let e=AB=class extends hB{constructor(e){if(super(e),this.parent=e,this.includeInChooser=!1,this.isColumnGroup=!0,this.minResizableWidth=10,e&&e.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent")}rowspan(){return 1}get colspan(){return this.children&&1!==this.children.length?EB(this.children.filter(e=>e!==this&&e.isVisible)):1}get leafIndex(){return this.children?(this.firstChild||{}).leafIndex:-1}get childrenArray(){return this.children.filter(e=>e!==this)}get hasChildren(){return Boolean(this.firstChild)}get firstChild(){return this.children.find(e=>e!==this)}};return e.\u0275fac=function(t){return new(t||e)(Ro(hB,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,t,n){var i;1&e&&Dc(n,hB,!1),2&e&&Ic(i=Rc())&&(t.children=i)},features:[Ga([{provide:hB,useExisting:xe(()=>AB)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),PB=(()=>{let e=class{constructor(e){this.templateRef=e,this._condition=()=>!0}set showIf(e){if("function"!=typeof e)throw new Error(`showIf must be a function, but received ${JSON.stringify(e)}.`);this._condition=e}get showIf(){return this._condition}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:["kendoGridDetailTemplateShowIf","showIf"]}}),e})();const NB=()=>cb()&&document.createElement;let LB,MB=null,VB=null,HB=(()=>{let e=class{constructor(e,t){this.zone=e,this.changeDetector=t,this.changes=new gc,"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.subscriptions=lb(window,"resize").pipe(ab(100)).subscribe(()=>{LB!==window.devicePixelRatio&&e.run(()=>{MB=null,this.changes.emit(),this.changeDetector.markForCheck()})})})}ngOnDestroy(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}get scrollbarWidth(){return function(){if(null===MB&&NB()){LB=window.devicePixelRatio||1;const e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),MB=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return MB}()}get rtlScrollLeft(){return function(){if(null===VB&&NB()){const e=document.createElement("div");e.style.cssText="overflow:scroll;zoom:1;clear:both;display:block;width:100px;visibility:hidden;position:absolute;left:-10000px;direction:rtl;",e.innerHTML="<div style='width:200px;height:1px;'</div>",document.body.appendChild(e);const t=e.scrollLeft;e.scrollLeft=-1,VB=e.scrollLeft<0?e.scrollLeft:t,document.body.removeChild(e)}return VB}()}};return e.\u0275fac=function(t){return new(t||e)(We(ou),We(Wr))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const BB=e=>void 0!==e.items&&void 0!==e.field,zB=e=>e.reduce((e,t)=>BB(t)?e.concat(zB(t.items)):e.concat([t]),[]),jB=(e,{footers:t,level:n,dataIndex:i,parentGroupIndex:s,groupIndex:r,parentGroup:o})=>{const a=e[0];return LV(a)&&BB(a)?(void 0!==(l=a).offset&&void 0!==l.skipHeader&&(r=LV(a.offset)?a.offset:r),new KB(e,t,n,i,s,r,o)):new qB(e,i,s,o);var l};class UB{constructor(e,t=0){this.arr=e,this.idx=t,this.arr=e||[]}[ZV](){return this}next(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}class GB{constructor(e,t=0,n=(e=>e)){this.dataIndex=t,this.resultMap=n,this._innerIterator=e[ZV]?e[ZV]():new UB(e)}[ZV](){return this}next(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}class qB extends GB{constructor(e,t,n,i){super(e,t,(e,t)=>({done:e.done,value:{data:e.value,groupIndex:n,index:t,type:"data",group:i}}))}get index(){return this.dataIndex}}class KB{constructor(e,t=!1,n=0,i=0,s="",r=0,o){this.arr=e,this.outputFooters=t,this.level=n,this.dataIndex=i,this.parentIndex=s,this.groupIndex=r,this.parentGroup=o,this.currentGroupIndex="",this.arr=e||[],this._iterator=new GB(this.arr,this.dataIndex)}[ZV](){return this}nextGroupItem(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex=`${(e=this.parentIndex)?e+"_":e}${this.groupIndex++}`,{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}):(this.current=null,{done:!0,value:void 0});var e}footerItem(){if(this.current){const e=this.current;return this.current=null,{done:!1,value:{data:e,groupIndex:this.currentGroupIndex,level:this.level,type:"footer",group:{data:e,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}}}return this.current=null,{done:!0,value:void 0}}innerIterator(e){return this._innerIterator||(this._innerIterator=jB(e.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex,parentGroup:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}})),this._innerIterator}nextDataItem(e){const t=this.innerIterator(e).next();return LV(t.value)&&!t.done&&"data"===t.value.type&&(this.dataIndex=t.value.index+1),t.done?void 0:t}next(){return LV(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}get index(){return this.dataIndex+1}}class $B{constructor(e,t=0,n=!1){this.source=e,this.skip=t,this.groupFooters=n,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}isGridDataResult(e){return void 0!==e.total&&void 0!==e.data}get total(){return this.isObject?this.source.total:this.source.length}get data(){return this.isObject?this.source.data:this.source}map(e){return this.data.map(e)}filter(e){return this.data.filter(e)}reduce(e,t){return this.data.reduce(e,t)}forEach(e){this.data.forEach(e)}some(e){return this.data.some(e)}[ZV](){return jB(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}toString(){return this.data.toString()}}class WB{constructor(e){this.accessor=e}get total(){return this.accessor().total}get length(){return this.accessor().data.length}get first(){return this.accessor().data[0]}get last(){return this.accessor().data[this.length-1]}at(e){return((e,t)=>{const n=e[0];return LV(n)&&BB(n)?zB(e)[t]:e[t]})(this.accessor().data,e)}map(e){return this.accessor().map(e)}filter(e){return this.accessor().filter(e)}reduce(e,t){return this.accessor().reduce(e,t)}forEach(e){this.accessor().forEach(e)}some(e){return this.accessor().some(e)}[ZV](){return this.accessor()[ZV]()}toString(){return this.accessor().toString()}}let ZB=(()=>{class e{constructor(e,t){this.grid=e,this.cd=t,this.selectedKeys=[],this.selectedKeysChange=new gc,this.init()}init(){LV(this.grid.rowSelected)||(this.grid.rowSelected=e=>this.selectedKeys.indexOf(this.getItemKey(e))>=0),LV(this.grid.cellSelected)||(this.grid.cellSelected=(e,t,n)=>{const i=this.getSelectionItem(e,t,n);return{selected:this.selectedKeys.some(e=>e.columnKey===i.columnKey&&e.itemKey===i.itemKey),item:i}}),this.selectionChangeSubscription=this.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}destroy(){this.selectionChangeSubscription.unsubscribe()}reset(){this.selectedKeys=[]}getItemKey(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}getSelectionItem(e,t,n){const i={};return i.itemKey=this.getItemKey(e),LV(t)||LV(n)?(this.columnKey&&("string"==typeof this.columnKey&&(i.columnKey=e.dataItem[this.columnKey]),"function"==typeof this.columnKey&&(i.columnKey=this.columnKey(t,n))),{itemKey:i.itemKey,columnKey:i.columnKey?i.columnKey:n}):i}onSelectionChange(e){e.selectedRows?(e.deselectedRows.forEach(e=>{const t=this.getItemKey(e),n=this.selectedKeys.indexOf(t);n>=0&&this.selectedKeys.splice(n,1)}),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedRows.forEach(e=>{const t=this.getItemKey(e);this.selectedKeys.indexOf(t)<0&&this.selectedKeys.push(t)})):(e.deselectedCells.forEach(e=>{const t=this.getCellSelectionItemIndex(e);t>=0&&this.selectedKeys.splice(t,1)}),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedCells.forEach(e=>{this.getCellSelectionItemIndex(e)<0&&this.selectedKeys.push(e)})),this.cd.markForCheck(),this.selectedKeysChange.emit(this.selectedKeys)}getCellSelectionItemIndex(e){return this.selectedKeys.findIndex(t=>t.itemKey===e.itemKey&&t.columnKey===e.columnKey)}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{selectedKeys:"selectedKeys",selectionKey:["kendoGridSelectBy","selectionKey"],columnKey:"columnKey"},outputs:{selectedKeysChange:"selectedKeysChange"}}),e})();class YB{constructor(e){this.columns=e,this.allColumns=new vc,this.leafColumns=new vc,this.lockedColumns=new vc,this.nonLockedColumns=new vc,this.lockedLeafColumns=new vc,this.nonLockedLeafColumns=new vc,this.totalLevels=0,this.changes=new gc,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}refresh(){const e=this.totalLevels,t=new Array,n=new Array,i=new Array,s=new Array,r=new Array,o=new Array,a=new Array,l=new Array,c=new Array;let u=!1,h=!1,d=!1,p=0,f=0;this.totalLevels=0,this.columns().forEach(e=>{const g=!0===e.isLocked?n:i,m=!0===e.isLocked?s:r,v=!0===e.isLocked?l:c;OB(e)||(g.push(e),t.push(e),a.push.apply(a,SB([e])),v.push.apply(v,SB([e])),u=u||TB(e=>Boolean(e.groupHeaderColumnTemplateRef),e),h=h||TB(e=>Boolean(e.groupFooterTemplateRef),e),d=d||TB(e=>Boolean(e.footerTemplateRef),e),e.isLocked||(p+=e.width||0),e.isSpanColumn?e.childColumns.forEach(e=>{e.leafIndex=f++}):e.leafIndex=f++),m.push(e),o.push(e),this.totalLevels=e.level>this.totalLevels?e.level:this.totalLevels}),this.hasGroupHeaderColumn=u,this.hasGroupFooter=h,this.hasFooter=d,this.leafColumnsToRender=a,this.lockedColumnsToRender=l,this.nonLockedColumnsToRender=c,this.unlockedWidth=p;const g=((...e)=>{let t=!1;for(let n=0;n<e.length;n++){const[i,s]=e[n];t=t||i.length!==s.length,i.reset(s)}return t})([this.leafColumns,t],[this.lockedLeafColumns,n],[this.nonLockedLeafColumns,i],[this.lockedColumns,s],[this.allColumns,o],[this.nonLockedColumns,r])||e!==this.totalLevels;return g&&this.changes.emit(),g}}const QB=(e,t)=>{e.forEach(e=>{t(e),e.isColumnGroup&&e.hasChildren&&QB(e.childrenArray,t)})},JB=(e,t)=>{FB(e).forEach(e=>{t(e),e.isColumnGroup&&e.hasChildren&&JB(e.childrenArray,t)})},XB=(e,t)=>{const n=[];return FB(e).forEach(e=>{if(t(e))if(e.isColumnGroup){const i=XB(e.childrenArray,t);i.length&&n.push(e,...i)}else e.isSpanColumn&&!XB(e.childrenArray,t).length||n.push(e)}),n};class ez{constructor(e){this.columns=e}static empty(){return new ez(new vc)}forEach(e){QB(this.columns,e)}filter(e){const t=[];return QB(this.columns,n=>{e(n)&&t.push(n)}),t}filterHierarchy(e){return XB(this.columns.toArray(),e)}filterSort(e){const t=[];return JB(this.columns.toArray(),n=>{e(n)&&t.push(n)}),t}toArray(){const e=[];return QB(this.columns,t=>{e.push(t)}),e}rootColumns(){return this.columns.toArray()}totalColumnLevels(){let e=0;return this.forEach(t=>{e=Math.max(t.level,e)}),e}}let tz=(()=>{class e{constructor(){this._columnList=ez.empty}get columns(){return wB(this._columnList().toArray()).filter(gB)}registerColumnsContainer(e){this._columnList=e}formatForGroup(e){const t=this.columnForGroup(e);return t?t.format:""}isGroupable(e){const[t]=this.columns.filter(t=>t.field===e);return!t||t.groupable}groupTitle(e){const t=this.columnForGroup(e);return t?t.title||t.field:this.groupField(e)}groupHeaderTemplate(e){const t=this.columnForGroup(e);return t?t.groupHeaderTemplateRef||t.groupHeaderColumnTemplateRef:void 0}groupField(e){return e.data?e.data.field:e.field}columnForGroup(e){const t=this.groupField(e),[n]=this.columns.filter(e=>e.field===t);return n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),nz=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new gc}notify(){this.subscription&&!this.subscription.closed||(this.subscription=this.ngZone.onStable.asObservable().pipe(Fg(1)).subscribe(()=>this.changes.emit()))}};return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),iz=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridNoRecordsTemplate",""]]}),e})();const sz=e=>t=>t.forEach(t=>t.style.height=e),rz=(e,t)=>{const n=document.activeElement,i=((e,t)=>{const n=[];for(let i=0,s=e.length;i<s&&t[i];i++)n.push([e[i],t[i]]);return n})(e.rows,t.rows);i.filter(([e,t])=>e.style.height||t.style.height).forEach(sz(""));const s=(e=>e.map(([e,t])=>{const n=e.offsetHeight,i=t.offsetHeight;return n<i?i:n}))(i);[e,t].forEach(e=>e.style.display="none"),i.forEach((e=>(t,n)=>sz(e[n]+1+"px")(t))(s)),[e,t].forEach(e=>e.style.display=""),document.activeElement!==n&&(e.contains(n)||t.contains(n))&&n.focus()};let oz=(()=>{let e=class{constructor(){this.isColumnMenu=!1,this.isPopupOpen=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),az=(()=>{let e=class{constructor(e){this.changes=new E,this.menuTabbingService=e}filter(e){this.changes.next(e)}};return e.\u0275fac=function(t){return new(t||e)(We(oz,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),lz=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoPagerTemplate",""]]}),e})(),cz=(()=>{let e=class{constructor(){this.savePDF=new gc,this.drawPDF=new gc,this.exportClick=new gc,this.dataChanged=new gc}save(e){this.emitEvent(this.savePDF,e)}draw(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}emitEvent(e,t){if(0===e.observers.length){if(Si())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-grid-pdf> component.")}else e.emit(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class uz extends TH{}let hz=(()=>{let e=class{constructor(){this.scroll=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const dz=e=>window.matchMedia(e).matches;let pz=(()=>{let e=class{constructor(){this.matchMedia=dz}matchesMedia(e){return!e||this.matchMedia((e=>({xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]||e))(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),fz=(()=>{let e=class{constructor(){this.saveToExcel=new gc,this.exportClick=new gc}save(e){if(0===this.saveToExcel.observers.length){if(Si())throw new Error("Saving excel requires including the ExcelModule and adding the <kendo-grid-excel> component.")}else this.saveToExcel.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),gz=(()=>{let e=class{constructor(e){this.templateRef=e,this._position="top"}set position(e){this._position=e}get position(){return this._position}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),e})(),mz=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new E,this.elements=[],this.subscriptions=new h,this.headerSubscription=new h,this.bodySubscription=new h,this.subscriptions.add(this.changes.subscribe(e=>this.scrollLeft(e)))}registerEmitter(e,t){this.unregister(t),this.elements.push({element:e,sourceType:t}),"body"!==t&&"header"!==t||this.ngZone.runOutsideAngular(()=>{const n=lb(e,"scroll").pipe(M(({target:{scrollLeft:e}})=>({scrollLeft:e,sourceType:t}))),i=n.pipe(function(e,t){return t=>t.lift(new tw(e,void 0))}((e,t)=>e.scrollLeft===t.scrollLeft),hg(e=>!this.source||this.source===e.sourceType),Gg(e=>this.source=e.sourceType)).subscribe(e=>this.changes.next(e));i.add(n.pipe(hg(e=>this.source&&this.source!==e.sourceType)).subscribe(()=>this.source=void 0)),"body"===t?this.bodySubscription.add(i):this.headerSubscription.add(i)})}destroy(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}scrollLeft({scrollLeft:e,sourceType:t}){this.ngZone.runOutsideAngular(()=>{this.elements.filter(e=>t!==e.sourceType).forEach(({element:t})=>t.scrollLeft=e)})}unregister(e){const t=this.elements.findIndex(t=>t.sourceType===e);t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new h):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new h),this.elements.splice(t,1))}};return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),vz=(()=>{let e=class{constructor(){this.resizeSubscription=new h(()=>{}),this.dispatcher=new E,this.changes=this.dispatcher.asObservable().pipe(function(e,t=nb,n=iw){return i=>i.lift(new sw(e,t,n.leading,n.trailing))}(100))}connect(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}destroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const yz=e=>e.parent?yz(e.parent):!!e.locked,bz=(e,t)=>Object.assign({columns:_B([e]),locked:yz(e)},t);let wz=(()=>{let e=class{constructor(){this.changes=new gc,this.tables=[],this.batch=null}start(e){this.trackColumns(e);const t=(this.column.isColumnGroup?[e]:[]).concat(_B([e]));this.changes.emit({columns:t,locked:yz(this.column),type:"start"})}resizeColumns(e){const t=bz(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}resizeTable(e,t){const n=bz(e,{delta:t,type:"resizeTable"});this.changes.emit(n)}resizedColumn(e){this.resizedColumns.push(e)}end(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}registerTable(e){return this.tables.push(e),()=>{this.tables.splice(this.tables.indexOf(e),1)}}measureColumns(e){null!==this.batch?this.batch.push(...e):this.autoFitBatch(e,()=>this.end())}autoFit(...e){const t=e.filter(e=>!e.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>{if(t.length<e.length){const t=e.filter(e=>e.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>this.end())}else this.end()})}trackColumns(e){this.resizedColumns=[],this.column=e}autoFitStart(e){if(this.batch=[],this.resizedColumns=[],0===e.length)return;const t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}autoFitBatch(e,t){const n=e.length>0&&e[0].column.isLocked;(function(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),K(e,void 0).lift(new Ab(t))})(...this.tables.filter(e=>e.locked===n).map(t=>t.autoFit(e))).pipe(Fg(1)).subscribe(i=>{this.changes.emit({columns:e.map(e=>e.column),type:"autoFitComplete",widths:i,locked:n}),t&&t()}),this.batch=null}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Cz=e=>!0===e||"string"==typeof e&&e.indexOf("row")>-1;class Sz extends TH{constructor(e){super(),this.originalEvent=e}}let xz=(()=>{let e=class{constructor(e,t,n,i,s){this.popupService=e,this.renderer=t,this.ngZone=n,this.localization=s,this.onClose=new E,this.scrollSubscription=i.changes.subscribe(()=>this.destroy())}open(e,t,n,i="k-grid-filter-popup"){const s=LV(n)&&this.popupRef===n;if(this.destroy(),!s){const n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:n},popupAlign:{vertical:"top",horizontal:n},anchor:e,popupClass:i,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}destroy(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}ngOnDestroy(){this.destroy(),this.scrollSubscription.unsubscribe()}detachClose(){this.removeClick&&this.removeClick()}attachClose(e){this.detachClose(),this.ngZone.runOutsideAngular(()=>this.removeClick=this.renderer.listen("document","click",t=>{if(!((e,t)=>{for(;e;){if(t(e))return!0;e=e.parentNode}return!1})(t.target,t=>this.popupRef.popupElement===t||t===e)){const e=new Sz(t);this.onClose.next(e),e.isDefaultPrevented()||this.destroy()}}))}};return e.\u0275fac=function(t){return new(t||e)(We(Bx),We(Ja),We(ou),We(mz),We(jb))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const kz=e=>{let t=!1;return()=>(t||(document.body.appendChild(e),t=!0),e)},Ez=e=>{const{clientTop:t,clientLeft:n}=(e=>e.ownerDocument.documentElement)(e),{pageYOffset:i,pageXOffset:s}=(e=>e.ownerDocument.defaultView)(e),{top:r,left:o}=e.getBoundingClientRect();return{top:r+i-t,left:o+s-n}},Iz=(e,t)=>0!=(4&t.compareDocumentPosition(e)),_z=(e,t)=>e===t||0!=(16&t.compareDocumentPosition(e)),Tz=(e,t)=>{const n=Ez(e),{offsetWidth:i,offsetHeight:s}=e;return{left:n.left+(t?0:i),top:n.top,height:s}};let Fz=(()=>{let e=class{constructor(){this.changes=new gc,this.register=[],this.lastTarget=null}add(e){this.register.push(e)}remove(e){this.register=this.register.filter(t=>t!==e)}notifyDrag(e,t,n){const i=this.targetFor(t);this.lastTarget!==i&&(this.changes.next({draggable:e,mouseEvent:n,target:this.lastTarget,type:"leave"}),i&&this.changes.next({draggable:e,mouseEvent:n,target:i,type:"enter"}),this.lastTarget=i)}notifyDrop(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}targetFor(e){const t=_z.bind(null,e);return this.register.find(({element:{nativeElement:e}})=>t(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Dz=(e,t)=>{const n=e.querySelector(".k-icon");n.className=n.className.replace(/(plus|cancel)/,t?"plus":"cancel")},Az=(e,t=null)=>{const n=e.querySelectorAll(".k-icon")[1],i=null==t?"":t?"k-i-lock":"k-i-unlock";n.className=n.className.replace(/(k-i-unlock|k-i-lock)/,"")+" "+i};let Oz=(()=>{let e=class{constructor(e){this.santizer=e}create(e){var t;this.dom=document.createElement("div"),(t=this.dom).className="k-header k-drag-clue",t.style.position="absolute",t.style.zIndex="20000";const n=this.santizer.sanitize(qi.HTML,e);this.dom.innerHTML=`\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            ${n}\n        `}attach(){return kz(this.dom)}remove(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout(()=>document.body.removeChild(e)),this.dom=null)}show(){this.dom.style.display=""}hide(){this.dom.style.display="none"}enable(){Dz(this.dom,!0)}disable(){Dz(this.dom,!1)}removeLock(){Az(this.dom)}toggleLock(e){Az(this.dom,e)}move(e){this.dom.style.top=e.pageY+"px",this.dom.style.left=e.pageX+"px"}};return e.\u0275fac=function(t){return new(t||e)(We(Cd))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Rz=(()=>{let e=class{create(){this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide()}attach(){return kz(this.dom)}remove(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}hide(){this.dom.style.display="none"}position({left:e,top:t,height:n}){this.dom.style.display="block",this.dom.style.height=n+"px",this.dom.style.top=t+"px",this.dom.style.left=e-this.dom.offsetWidth/2+"px"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Pz=(()=>{let e=class{constructor(){this.changes=new gc}reorder(e){this.changes.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class Nz extends TH{constructor({column:e,newIndex:t,oldIndex:n}){super(),this.column=e,this.newIndex=t,this.oldIndex=n}}class Lz{constructor(e,t,n,i,s,r,o,a){this.dataRows=e,this.headerRows=t,this.isVirtual=n,this.hasPager=i,this.hasDetailTemplate=s,this.gridElement=r,this.virtualColumns=o,this.columns=a}get maxLogicalRowIndex(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}let Mz=0,Vz=(()=>{let e=class{constructor(){this.prefix="k-grid"+Mz++}cellId(e,t){return`${this.prefix}-r${e}c${t}`}selectionCheckboxId(e){return`${this.prefix}-checkbox${e}`}selectAllCheckboxId(){return this.prefix+"-select-all"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Hz={left:"0px",right:"0px"};let Bz=(()=>{let e=class{constructor(){this.visibilityChange=new gc,this.lockedChange=new gc,this.stickyChange=new gc,this.columnRangeChange=new gc,this.columnsContainer=new YB(()=>[])}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get isLocked(){return this.lockedLeafColumns.length>0}get totalLevels(){return this.columnsContainer.totalLevels}get leafNamedColumns(){const e=wB(this.list().filterSort(e=>!e.isColumnGroup)).filter(e=>e.matchesMedia&&e.displayTitle);return nx(e,[{field:"locked",dir:"desc"}])}get unlockedRootCount(){return this.list().rootColumns().filter(e=>!e.locked&&e.isVisible).length}stickyColumnsStyles(e){if(this.stickyColumns||(this.stickyColumns=this.list().rootColumns().filter(e=>e.sticky&&!e.locked&&e.isVisible)),0===this.stickyColumns.length)return Hz;const t=this.stickyColumns.reduce((t,n)=>(n.leafIndex<e.leafIndex?t.left+=n.width:n.leafIndex>e.leafIndex&&(t.right+=n.width),t),{left:0,right:0});return{left:t.left+"px",right:t.right+"px"}}init(e,t){this.columnsContainer=e,this.list=t,this.stickyColumns=null}changeVisibility(e){this.stickyColumns=null,this.visibilityChange.emit(e)}changeLocked(e){this.stickyColumns=null,this.lockedChange.emit(e)}changeStuck(e){this.stickyColumns=null,this.stickyChange.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),zz=(()=>{class e{constructor(){this.changes=new E}sort(e){this.changes.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class jz{constructor(e){this.columns=e}}class Uz{constructor(e){this.columns=e}}function Gz(e,t){return"data"===t.type&&t.isEditing?t.data:e}class qz{constructor(e){this.columns=e}}const Kz=(e,t)=>hH(e,cH("k-grid-edit-cell"))&&hH(e,uH("kendo-grid"))===t,$z={};let Wz=(()=>{let e=class{constructor(e,t,n,i,s,r,o,a,l,c,u,h,d,p,f,g,m,v,y,b,w,C,S,x,k){var E,I,_;this.supportService=e,this.selectionService=t,this.cellSelectionService=n,this.wrapper=i,this.groupInfoService=s,this.groupsService=r,this.changeNotification=o,this.detailsService=a,this.editService=l,this.filterService=c,this.pdfService=u,this.responsiveService=h,this.renderer=d,this.excelService=p,this.ngZone=f,this.scrollSyncService=g,this.domEvents=m,this.columnResizingService=v,this.changeDetectorRef=y,this.columnReorderService=b,this.columnInfoService=w,this.navigationService=C,this.sortService=S,this.scrollRequestService=x,this.data=[],this.scrollable="scrollable",this.selectable=!1,this.trackBy=Gz,this.virtualColumns=!1,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.navigable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.loading=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new gc,this.pageChange=new gc,this.groupChange=new XH(this.ngZone),this.sortChange=new gc,this.selectionChange=new gc,this.dataStateChange=new gc,this.groupExpand=new gc,this.groupCollapse=new gc,this.detailExpand=new gc,this.detailCollapse=new gc,this.edit=new gc,this.cancel=new gc,this.save=new gc,this.remove=new gc,this.add=new gc,this.cellClose=new gc,this.cellClick=new XH(this.ngZone),this.pdfExport=new gc,this.excelExport=new gc,this.columnResize=new XH(this.ngZone),this.columnReorder=new gc,this.columnVisibilityChange=new gc,this.columnLockedChange=new gc,this.columnStickyChange=new gc,this.scrollBottom=new gc,this.contentScroll=new gc,this.columns=new vc,this.footer=new vc,this.selectionDirective=!1,this.columnsContainer=new YB(()=>this.columnList.filterHierarchy(e=>(e.matchesMedia=this.matchesMedia(e),e.isVisible))),this.view=new WB(()=>new $B(this.data,this.skip,this.hasGroupFooters)),this.shouldGenerateColumns=!0,this._sort=new Array,this._group=new Array,this._skip=0,this.cachedWindowWidth=0,this._rowSelected=null,this._cellSelected=null,this.rtl=!1,this._rowClass=()=>null,function(e){if(UC[zC("0x6")](e[zC("0x20")])&&zC("0xb")!==zC("0xa"))return UC[zC("0x2b")](e[zC("0x20")]);var t,n,i,s=e[zC("0x3")]?" v"+e[zC("0x3")]:"",r=e[zC("0x20")]+s,o=JSON[zC("0x12")](jC[zC("0x19")]),a=!o[zC("0x11")]&&!o[zC("0x15")],l=o[zC("0x11")]&&typeof KendoLicensing===zC("0x2"),c=function(e,t){var n=e[zC("0x14")];if(!(n&&n[zC("0x2c")]||zC("0x38")!=zC("0x38")))return null;var i=new Set(t);return n[zC("0x33")]((function(e){if(zC("0x13")!==zC("0x22"))return i[zC("0x6")](e[zC("0x10")])}))}(o,e[zC("0x35")]);if(a||l?zC("0x2e")!==zC("0x1c")&&(t={type:0,packageName:r,docsUrl:e[zC("0x3a")]}):zC("0x34")!==zC("0x1")&&(c?zC("0x24")!==zC("0x32")&&c[zC("0x7")]<e[zC("0x37")]&&zC("0x30")==zC("0x30")&&(t={type:2,packageName:r,publishDate:GC(e[zC("0x37")]),expiryDate:GC(c[zC("0x7")]),docsUrl:e[zC("0x3a")]}):zC("0x2a")==zC("0x2a")&&(t={type:1,packageName:r,docsUrl:e[zC("0x3a")]})),t&&typeof console===zC("0x17")&&zC("0x0")!==zC("0x8")){var u=zC("0x1d")+e[zC("0x27")],h=typeof console[zC("0x28")]===zC("0x25");h?zC("0xc")!=zC("0xc")||console[zC("0x28")](u):zC("0x18")==zC("0x18")&&console[zC("0x1f")](u),console[zC("0x1f")]((n=t,i=zC("0x4")+n[zC("0x3b")]+"\n",2===n[zC("0xd")]?zC("0x16")!==zC("0x1a")&&(i+=zC("0x26")+n[zC("0x3c")][zC("0x9")]()+zC("0x2f")+n[zC("0x37")][zC("0x9")]()+".\n"):0===n[zC("0xd")]?zC("0x2d")==zC("0x2d")&&(i+=zC("0x36")):1===n[zC("0xd")]&&(zC("0xe")===zC("0xf")||(i+=zC("0x29"))),i+(zC("0x39")+n[zC("0x21")]+zC("0x1b")))),h&&(zC("0x5")===zC("0x31")||console[zC("0x23")]())}var d=!t;UC[zC("0x1e")](e[zC("0x20")],d)}(eB),this.localizationSubscription=k.changes.subscribe(({rtl:e})=>{this.rtl=e,this.direction=this.rtl?"rtl":"ltr"}),this.groupInfoService.registerColumnsContainer(()=>this.columnList),this.columnInfoService.init(this.columnsContainer,()=>this.columnList),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe(e=>{this.columnVisibilityChange.emit(new jz(e))}),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe(e=>{this.columnLockedChange.emit(new Uz(e))}),this.columnStickyChangeSubscription=this.columnInfoService.stickyChange.subscribe(e=>{this.columnStickyChange.emit(new qz(e))}),this.groupExpandCollapseSubscription=(E=this.groupExpand,I=this.groupCollapse,_=({group:e,groupIndex:t,parentGroup:n})=>({group:e,groupIndex:t,parentGroup:n}),r.changes.pipe(hg(({group:e})=>LV(e))).subscribe(e=>e.expand?E.emit(_(e)):I.emit(_(e)))),this.detailsServiceSubscription=((e,t,n,i)=>e.changes.pipe(hg(({dataItem:e})=>LV(e))).subscribe(e=>e.expand?t.emit(e):n.emit(e)))(a,this.detailExpand,this.detailCollapse),this.filterSubscription=this.filterService.changes.subscribe(e=>{this.filterChange.emit(e)}),this.sortSubscription=this.sortService.changes.subscribe(e=>{this.sortChange.emit(e)}),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new ez(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}get skip(){return this._skip}set skip(e){e>=0&&(this._skip=e)}set sort(e){VV(e)&&(this._sort=e)}get sort(){return this._sort}set group(e){VV(e)&&(this._group=e)}get group(){return this._group}get showTopToolbar(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}get showBottomToolbar(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}get isLocked(){return this.lockedLeafColumns.length>0}get showTopPager(){return!this.isVirtual&&!1!==this.pageable&&["top","both"].indexOf(this.pageable.position)>-1}get showBottomPager(){return!this.isVirtual&&!1!==this.pageable&&"top"!==this.pageable.position}get hasPager(){return this.showTopPager||this.showBottomPager}get showGroupPanel(){return this.groupable&&!1!==this.groupable.enabled}get groupableEmptyText(){return this.groupable.emptyText}get marqueeSelection(){return this.selectionService.enableMarquee||this.cellSelectionService.enableMarquee}set navigatable(e){this.navigable=e}get navigatable(){return this.navigable}set rowClass(e){if(Si&&"function"!=typeof e)throw new Error(`rowClass must be a function, but received ${JSON.stringify(e)}.`);this._rowClass=e}get rowClass(){return this._rowClass}set rowSticky(e){if(Si&&LV(e)&&"function"!=typeof e)throw new Error(`rowSticky must be a function, but received ${JSON.stringify(e)}.`);LV(e)&&(this._rowSticky=e)}get rowSticky(){return this._rowSticky}set rowSelected(e){if(Si&&"function"!=typeof e)throw new Error(`rowSelected must be a function, but received ${JSON.stringify(e)}.`);this._rowSelected=e}get rowSelected(){return this._rowSelected}set cellSelected(e){if(Si&&"function"!=typeof e)throw new Error(`cellSelected must be a function, but received ${JSON.stringify(e)}.`);this._cellSelected=e}get cellSelected(){return this._cellSelected}get activeCell(){return this.navigationService.activeCell}get activeRow(){return this.navigationService.activeRow}get dir(){return this.direction}get hostClasses(){return!0}get lockedClasses(){return this.lockedLeafColumns.length>0}get virtualClasses(){return this.isVirtual}get noScrollbarClass(){return 0===this.scrollbarWidth}get detailTemplate(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0}set detailTemplate(e){this._customDetailTemplate=e}get noRecordsTemplate(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0}set noRecordsTemplate(e){this._customNoRecordsTemplate=e}get pagerTemplate(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0}set pagerTemplate(e){this._customPagerTemplate=e}get toolbarTemplate(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0}set toolbarTemplate(e){this._customToolbarTemplate=e}get scrollbarWidth(){return this.supportService.scrollbarWidth}get headerPadding(){if(jV())return"";const e=Math.max(0,this.scrollbarWidth-1)+"px";return`0 ${this.rtl?0:e} 0 ${this.rtl?e:0}`}get hasGroupFooters(){return this.columnsContainer.hasGroupFooter}get showFooter(){return this.columnsContainer.hasFooter}get showGroupFooters(){return this.groupable&&this.groupable.showFooter}get ariaRowCount(){return this.totalColumnLevels+1+this.view.total}get ariaColCount(){return this.columnsContainer.leafColumnsToRender.length}get isVirtual(){return"virtual"===this.scrollable}get isScrollable(){return"none"!==this.scrollable}get visibleColumns(){return this.columnsContainer.allColumns}get lockedColumns(){return this.columnsContainer.lockedColumns}get nonLockedColumns(){return this.columnsContainer.nonLockedColumns}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get stickyColumns(){return this.columns.filter(e=>e.sticky)}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get leafColumns(){return this.columnsContainer.leafColumns}get totalColumnLevels(){return this.columnsContainer.totalLevels}get headerColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}get headerLeafColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}get lockedWidth(){const e=32*this.group.length;return wB(this.lockedLeafColumns.toArray()).reduce((e,t)=>e+(t.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((e,t)=>e+(t.width||0),0):this.columnsContainer.unlockedWidth}get selectableSettings(){if(this.selectionService)return this.selectionService.options}get columnMenuTemplate(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get totalCount(){return this.isVirtual||!LV(this.pageSize)?this.view.total:this.pageSize}expandRow(e){this.toggleDetailRowLegacy(e,!0)}collapseRow(e){this.toggleDetailRowLegacy(e,!1)}expandGroup(e){this.toggleGroupRowLegacy(e,!0)}collapseGroup(e){this.toggleGroupRowLegacy(e,!1)}resetGroupsState(){this.groupsService.reset()}expandGroupChildren(e){this.groupsService.expandChildren(e)}onDataChange(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),LV(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}ngOnChanges(e){ub("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&hb(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),hb(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),ub("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),ub("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",this.height+"px"),ub("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(Fg(1))),hb(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:Boolean(this.filterable),sort:Boolean(this.sortable)},this.columnMenu)),ub("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(Fg(1)).subscribe(()=>this.attachScrollSync()),ub("selectable",e)&&this.shouldResetSelection(e.selectable)&&(this.defaultSelection?this.defaultSelection.reset():this.selectionDirective&&this.selectionDirective.reset()),ub("groupable",e,!0)&&(this.groupable=e.groupable.currentValue)}ngAfterViewInit(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}ngAfterContentChecked(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}ngAfterContentInit(){this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new ez(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe(()=>this.verifySettings())}ngOnInit(){this.navigable&&this.navigationService.init(this.navigationMetadata())}ngOnDestroy(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.columnStickyChangeSubscription&&this.columnStickyChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}attachScrollSync(){jV()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=zV(this.footer).subscribe(e=>e.map(e=>e.nativeElement).filter(LV).forEach(e=>this.scrollSyncService.registerEmitter(e,"footer")))))}editRow(e,t,n){if(this.editService.editRow(e,t),LV(n)&&n.skipFocus)return;const i=`tr[data-kendo-grid-item-index="${e}"]`,s=n&&n.columnIndex,r=isNaN(s)?i:`${i} td[data-kendo-grid-column-index="${s}"]`;this.focusEditElement(r)}closeRow(e){this.editService.close(e)}addRow(e){if(!(e instanceof pC)){const n=Object.keys(e).reduce((t=e,(e,n)=>(e[n]=new dC(t[n]),e)),{});e=new pC(n)}var t;this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}editCell(e,t,n){const i=this.columnInstance(t);this.editService.editCell(e,i,n),this.focusEditElement(".k-grid-edit-cell")}closeCell(){return!this.editService.closeCell()}cancelCell(){this.editService.cancelCell()}isEditing(){return this.editService.isEditing()}isEditingCell(){return this.editService.isEditingCell()}saveAsPDF(){this.pdfService.save(this)}drawPDF(){const e=(()=>{let e,t;const n=new Promise((i,s)=>{e=e=>(i(e),n),t=e=>(s(e),n)});return n.resolve=e,n.reject=t,n})();return this.pdfService.draw(this,e),e}saveAsExcel(){this.excelService.save(this)}autoFitColumn(e){this.columnResizingService.autoFit(e)}autoFitColumns(e=this.columns){let t;t=e instanceof vc?e.toArray():e,this.columnResizingService.autoFit(...t)}notifyPageChange(e,t){("list"!==e||this.isVirtual)&&this.pageChange.emit(t)}notifyScrollBottom(){"none"!==this.scrollable&&db(this.scrollBottom)&&this.ngZone.run(()=>this.scrollBottom.emit({sender:this}))}focusEditElement(e){this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.focusElementSubscription=this.ngZone.onStable.asObservable().pipe(Fg(1)).subscribe(()=>{const t=this.wrapper.nativeElement;!this.setEditFocus(t.querySelector(e))&&this.isLocked&&this.setEditFocus(t.querySelector(".k-grid-content "+e)),this.focusElementSubscription=null})})}focus(){return this.assertNavigable(),this.navigationService.focusCell()}focusCell(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}focusNextCell(e=!0){return this.assertNavigable(),this.navigationService.focusNextCell(e)}focusPrevCell(e=!0){return this.assertNavigable(),this.navigationService.focusPrevCell(e)}scrollTo(e){this.scrollRequestService.scrollTo(e)}reorderColumn(e,t,n={before:!1}){let i=FB(this.allColumnsForLevel(e.level))[t];i&&(i.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(yB(i)&&!n.before&&(i=i.childColumns.last),this.reorder({before:n.before,source:e,target:i})))}set isDetailExpanded(e){this.detailsService.userCallback=e}get isDetailExpanded(){return this.detailsService.userCallback}set isGroupExpanded(e){this.groupsService.userCallback=e,this.groupable=LV(e)}get isGroupExpanded(){return this.groupsService.userCallback}reorder({target:e,source:t,before:n,changeContainer:i}){this.ngZone.run(()=>{const s=FB(this.allColumnsForLevel(t.level));let r=s.indexOf(e);e.parent&&e.parent.isSpanColumn&&(r=s.indexOf(e.parent),n&&(e=e.parent));let o=s.indexOf(t);i&&(n&&0<r&&o<r?r--:!n&&o>r&&r++);const a=new Nz({column:t,oldIndex:o,newIndex:r});this.columnReorder.emit(a),a.isDefaultPrevented()||(i&&this.columnLockedChange.emit(new Uz([t])),this.updateColumnIndices({columnsForLevel:s,source:t,target:e,before:n}),t.locked!==e.locked&&(t.locked=e.locked),this.columnsContainer.refresh(),this.changeDetectorRef.markForCheck())})}updateColumnIndices({columnsForLevel:e,source:t,target:n,before:i}){const s=CB(e),r=s.indexOf(t);let o=0,a=0,l=1;t.isSpanColumn&&(l+=t.childColumns.length);let c=0;for(;c<s.length;){let e=s[c];if(e===n)o=i?a:a+1,a=i?a+l:a,e.orderIndex=a,o===a+1&&(a+=l);else{if(e===t){c+=l;continue}e.orderIndex=a}a++,c++}for(c=r;c<r+l;c++)s[c].orderIndex=o++;this.updateIndicesForLevel(t.level+1)}updateIndicesForLevel(e){const t=this.allColumnsForLevel(e-1),n=[];FB(t).forEach(e=>{e.isColumnGroup&&n.push(...e.childrenArray.sort((e,t)=>e.orderIndex-t.orderIndex))}),CB(n).map((e,t)=>e.orderIndex=t),e<this.columnList.totalColumnLevels()&&this.updateIndicesForLevel(e+1)}allColumnsForLevel(e){return this.columnList.toArray().filter(t=>t.level===e)}initSelectionService(){if(!this.selectable)return this.selectionService.ngOnDestroy(),void this.cellSelectionService.ngOnDestroy();this.selectionDirective||LV(this.defaultSelection)||(this.defaultSelection=new ZB(this,this.changeDetectorRef));const e=this.selectable.cell,t=e?this.cellSelectionService:this.selectionService,n=e?this.selectionService:this.cellSelectionService;n.active&&(n.ngOnDestroy(),t.addSubscriptions(),n.active=!1),t.active=!0,t.init({cellSelected:e?this.cellSelected:void 0,rowSelected:e?void 0:this.rowSelected,selectable:this.selectable,view:this.view,columns:e?this.columnList.toArray():void 0}),this.selectionDirective||this.selectableSettings.enabled||this.defaultSelection.reset(),this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=e?this.cellSelectionService.changes.subscribe(e=>{this.ngZone.run(()=>this.selectionChange.emit(e))}):this.selectionService.changes.subscribe(e=>{this.ngZone.run(()=>this.selectionChange.emit(e))})}setEditFocus(e){if(e)return this.navigationService.tryFocus(e)}columnInstance(e){let t;if(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter(t=>t.field===e)[0]:e,!t&&Si())throw new Error("Invalid column "+e);return t}verifySettings(){if(Si()){const e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock,t=this.stickyColumns.length||this.columnMenu&&this.columnMenu.stick;if(e&&this.detailTemplate)throw new Error("Having both detail template and locked columns is not supported.");if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length)throw new Error("There should be at least one non-locked column");if((e||this.virtualColumns)&&wB(this.columnList.toArray()).filter(e=>!e.width&&!OB(e)).length)throw new Error((e?"Locked":"Virtual")+" columns feature requires all columns to have set width.");if(e&&!this.isScrollable)throw new Error("Locked columns are only supported when scrolling is enabled.");if(this.columnList.filter(OB).filter(e=>!e.hasChildren).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter(e=>e.locked&&e.parent&&!e.parent.isLocked).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual)throw new Error("Row height and detail row height settings require virtual scrolling mode to be enabled.");if(t&&wB(this.columnList.toArray()).filter(e=>!e.width&&!OB(e)).length)throw new Error("Sticky columns feature requires all columns to have set width.");if(t&&!this.isScrollable)throw new Error("Sticky columns are only supported when scrolling is enabled.");if(t&&this.virtualColumns)throw new Error("Having both sticky columns and column virtualization is not supported.");if(this.rowSticky&&"virtual"===this.scrollable)throw new Error('Having both sticky rows and row virtualization (scrollable="virtual") is not supported.');if(this.rowSticky&&this.groupable)throw new Error("Having both sticky rows and grouping is not supported.");wB(this.columnList.toArray()).filter(gB).filter(({field:e})=>{return!(!BV(t=e)&&IB.test(t)&&"."!==t[0]&&"."!==t[t.length-1]);var t}).forEach(({field:e})=>console.warn(`\n                Grid column field name '${e}' does not look like a valid JavaScript identifier.\n                Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n                Please use only valid identifier names to ensure error-free operation.\n            `))}}autoGenerateColumns(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map(e=>{let t=new mB;return t.field=e,t}))}attachStateChangesEmitter(){this.stateChangeSubscription=$(this.pageChange.pipe(M(e=>({filter:this.filter,group:this.group,skip:e.skip,sort:this.sort,take:e.take}))),this.sortChange.pipe(M(e=>({filter:this.filter,group:this.group,skip:this.skip,sort:e,take:this.pageSize}))),this.groupChange.pipe(M(e=>({filter:this.filter,group:e,skip:this.skip,sort:this.sort,take:this.pageSize}))),this.filterChange.pipe(M(e=>({filter:e,group:this.group,skip:0,sort:this.sort,take:this.pageSize})))).subscribe(e=>{this.closeCell(),this.cancelCell(),this.dataStateChange.emit(e)})}attachEditHandlers(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(e){const{action:t,rowIndex:n,formGroup:i}=e;let s=this.view.at(n-this.skip);switch("add"===t||s||(s=i.value),this.closeCell(),Object.assign(e,{dataItem:s,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}attachDomEventHandlers(){this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.cellClick.emit(Object.assign({sender:this},e))})}attachElementEventHandlers(){if(jV())return;const e=this.wrapper.nativeElement,t=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular(()=>{const n=this.resizeCheck.bind(this),i=this.renderer.listen("window","resize",n),s=this.renderer.listen("window","orientationchange",n),r=this.renderer.listen("document","click",e=>{const t=document.activeElement;!this.editService.shouldCloseCell()||hH(e.target,cH("k-animation-container k-grid-ignore-click"))||t&&(hH(t,cH("k-animation-container"))||Kz(t,this.wrapper.nativeElement))||this.editService.closeCell(e)}),o=this.renderer.listen("window","blur",e=>{const t=document.activeElement;!t||uH("input")(t)&&"file"===t.type&&Kz(t,this.wrapper.nativeElement)||this.editService.closeCell(e),this.domEvents.windowBlur.emit(e)}),a=this.renderer.listen(e,"click",e=>{this.domEvents.click.emit(e)}),l=this.renderer.listen(e,"keydown",e=>{this.domEvents.keydown.emit(e)});let c=!1;const u=this.renderer.listen(t,"focusin",e=>{this.domEvents.focus.emit(e),c||(this.domEvents.focusIn.emit(e),c=!0)}),h=this.renderer.listen(t,"focusout",e=>{const n=e.relatedTarget||document.activeElement;!hH(n,e=>e===t)&&(this.domEvents.focusOut.emit(e),c=!1)});this.detachElementEventHandlers=()=>{i(),s(),r(),o(),a(),l(),u(),h()}})}matchesMedia(e){return this.responsiveService.matchesMedia(e.media)}resizeCheck(){if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;let e=!1;this.columnList.filterHierarchy(t=>{const n=this.matchesMedia(t);return t.matchesMedia!==n&&(e=!0,t.matchesMedia=n),t.isVisible}),e&&this.ngZone.run(()=>{this.changeDetectorRef.markForCheck()})}}emitPDFExportEvent(){const e=new uz;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}syncHeaderHeight(e){return e.pipe(hg(()=>LV(this.lockedHeader))).subscribe(()=>rz(this.lockedHeader.nativeElement.children[0],this.header.nativeElement.children[0]))}columnsContainerChange(){this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(hg(()=>this.lockedColumns.length>0),Ng(()=>this.ngZone.onStable.asObservable().pipe(Fg(1)))))}handleColumnResize(){const e=this.columnResizingService.changes;this.columnResizingSubscription=e.pipe(Gg(e=>{"start"===e.type?this.renderer.addClass(this.wrapper.nativeElement,"k-grid-column-resizing"):"end"===e.type&&this.renderer.removeClass(this.wrapper.nativeElement,"k-grid-column-resizing")}),hg(e=>"start"===e.type),Ng(()=>e.pipe(Ub(e.pipe(hg(e=>"triggerAutoFit"===e.type))),hg(e=>"end"===e.type)))).subscribe(this.notifyResize.bind(this))}notifyResize(e){const t=e.resizedColumns.filter(e=>HV(e.column.resizable)&&!e.column.isColumnGroup).map(e=>({column:e.column,newWidth:e.column.width,oldWidth:e.oldWidth}));this.columnResize.emit(t)}assertNavigable(){if(Si()&&!this.navigable)throw new Error('The Grid should be configured as [navigable]="true" to control focus')}navigationMetadata(){const e=this.isVirtual,t=e?this.view.total:this.pageSize,n=this.editService.hasNewItem?1:0,i=Cz(this.filterable)?1:0;return new Lz(t,this.totalColumnLevels+1+i+n,e,this.hasPager,LV(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}updateNavigationMetadata(){this.navigationService.metadata=this.navigationMetadata()}applyAutoSize(){const e=this.columns.filter(e=>this.autoSize?!1!==e.autoSize:e.autoSize);e.length>0&&this.ngZone.onStable.pipe(Fg(1)).subscribe(t=>this.autoFitColumns(e))}onColumnRangeChange(e){const t=this.viewportColumns=[],n=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1);for(let i=0;i<n.length;i++){let e=n[i];for(;e.parent;)e=e.parent;const s=[e];for(;s.length;)e=s.shift(),t.push(e),e.isColumnGroup&&s.unshift.apply(s,e.childrenArray);const r=t[t.length-1];for(e=n[i];e!==r&&i<n.length;)i++,e=n[i]}if(e.start>0){const i=n[0];let s=e.offset,r=t[0],o=0;for(;r!==i;)s-=r.isColumnGroup?0:r.width,o++,r=t[o];if(s>0){const e=this.columnsContainer.totalLevels;let n;for(let i=0;i<=e;i++){const r=i<e?new RB(n):new hB(n);n=r,r.title="\xa0",r.width=s,t.unshift(r)}}}this.leafViewportColumns=t.filter(e=>!e.isColumnGroup)}toggleDetailRowLegacy(e,t){const n="function"==typeof this.isDetailExpanded;if(Si()&&n)throw new Error("The expandRow and collapseRow methods should not be called when using the kendoGridDetailsExpandBy directive or the isDetailExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Si()&&n||this.detailsService.isExpanded(e,null)!==t&&this.detailsService.toggleRow(e,null)}toggleGroupRowLegacy(e,t){const n="function"==typeof this.isGroupExpanded;if(Si()&&n)throw new Error("The expandGroup and collapseGroup methods should not be called when using the kendoGridExpandGroupBy directive or the isGroupExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Si()&&n||this.groupsService.isExpanded({groupIndex:e})!==t&&this.groupsService.toggleRow({index:e})}shouldResetSelection(e){const t=e.previousValue;if(!t)return!1;const n=e.currentValue;return!n||!1===n.enabled||t.cell!==n.cell}};return e.\u0275fac=function(t){return new(t||e)(Ro(HB),Ro(ZH),Ro(YH),Ro(Wa),Ro(tz),Ro(RH),Ro(nz),Ro(MH),Ro(AH),Ro(az),Ro(cz),Ro(pz),Ro(Ja),Ro(fz),Ro(ou),Ro(mz),Ro(tH),Ro(wz),Ro(Wr),Ro(Pz),Ro(Bz),Ro(WH),Ro(zz),Ro(VH),Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid"]],contentQueries:function(e,t,n){var i;1&e&&(Dc(n,hB,!1),Dc(n,PB,!1),Dc(n,iz,!1),Dc(n,lz,!1),Dc(n,gz,!1),Dc(n,lB,!1)),2&e&&(Ic(i=Rc())&&(t.columns=i),Ic(i=Rc())&&(t.detailTemplateChildren=i),Ic(i=Rc())&&(t.noRecordsTemplateChildren=i),Ic(i=Rc())&&(t.pagerTemplateChildren=i),Ic(i=Rc())&&(t.toolbarTemplateChildren=i),Ic(i=Rc())&&(t.columnMenuTemplates=i))},viewQuery:function(e,t){var n;1&e&&(Tc(FP,!0),Tc(DP,!0),_c(AP,!0),Tc(OP,!0)),2&e&&(Ic(n=Rc())&&(t.lockedHeader=n.first),Ic(n=Rc())&&(t.header=n.first),Ic(n=Rc())&&(t.ariaRoot=n.first),Ic(n=Rc())&&(t.footer=n))},hostVars:11,hostBindings:function(e,t){2&e&&(Fo("dir",t.dir),ua("k-widget",t.hostClasses)("k-grid",t.hostClasses)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{data:"data",scrollable:"scrollable",selectable:"selectable",trackBy:"trackBy",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",navigable:"navigable",autoSize:"autoSize",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",skip:"skip",sort:"sort",group:"group",navigatable:"navigatable",rowClass:"rowClass",rowSticky:"rowSticky",rowSelected:"rowSelected",cellSelected:"cellSelected",isDetailExpanded:"isDetailExpanded",isGroupExpanded:"isGroupExpanded",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",filter:"filter"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",columnStickyChange:"columnStickyChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[Ga([HB,jb,Bz,ZH,YH,MH,RH,tz,nz,AH,cz,hz,{provide:SH,useValue:$z},{provide:zb,useValue:"kendo.grid"},az,pz,PH,fz,mz,vz,nH,tH,wz,xz,Fz,Oz,Rz,Pz,WH,sH,Vz,VH,zz]),Pa],decls:11,vars:15,consts:[["kendoGridLocalizedMessages","",6,"groupPanelEmpty","noRecords","pagerFirstPage","pagerPreviousPage","pagerNextPage","pagerLastPage","pagerPage","pagerOf","pagerItems","pagerPageNumberInputTitle","pagerItemsPerPage","filter","filterEqOperator","filterNotEqOperator","filterIsNullOperator","filterIsNotNullOperator","filterIsEmptyOperator","filterIsNotEmptyOperator","filterStartsWithOperator","filterContainsOperator","filterNotContainsOperator","filterEndsWithOperator","filterGteOperator","filterGtOperator","filterLteOperator","filterLtOperator","filterIsTrue","filterIsFalse","filterBooleanAll","filterAfterOrEqualOperator","filterAfterOperator","filterBeforeOperator","filterBeforeOrEqualOperator","filterFilterButton","filterClearButton","filterAndLogic","filterOrLogic","loading","columns","lock","unlock","setColumnPosition","stick","unstick","sortable","sortAscending","sortDescending","sortedAscending","sortedDescending","sortedDefault","columnsApply","columnsReset","detailExpand","detailCollapse","filterDateToday","filterDateToggle","filterNumericDecrement","filterNumericIncrement","selectionCheckboxLabel","selectAllCheckboxLabel","pagerLabel","filterInputLabel","filterMenuTitle","filterMenuOperatorsDropDownLabel","filterMenuLogicDropDownLabel","columnMenu"],["class","k-toolbar k-grid-toolbar","position","top",4,"ngIf"],["class","k-grid-pager-top",3,"tabindex","template","pageSize","total","skip","options","pageChange",4,"ngIf"],[3,"text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root"],["ariaRoot",""],[3,"ngIf"],[3,"tabindex","template","pageSize","total","skip","options","pageChange",4,"ngIf"],["class","k-toolbar k-grid-toolbar k-grid-toolbar-bottom","position","bottom",4,"ngIf"],["position","top",1,"k-toolbar","k-grid-toolbar"],[1,"k-grid-pager-top",3,"tabindex","template","pageSize","total","skip","options","pageChange"],[3,"text","groups","change"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],["kendoDraggable","","kendoGridSelectionMarquee","",3,"data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","rowClass","rowSticky","loading","isVirtual","virtualColumns","enableDrag","pageChange","scrollBottom","contentScroll"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["header",""],["role","presentation",3,"virtualColumns"],["kendoGridColGroup","","role","presentation",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","presentation",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","detailTemplate","tabIndex"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["lockedHeader",""],["role","presentation",3,"locked"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","detailTemplate","tabIndex"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["footer",""],["role","presentation"],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridFooter","",3,"logicalRowIndex","scrollable","groups","columns","lockedColumnsCount","detailTemplate"],[1,"k-grid-footer-locked"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate","logicalRowIndex"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex",4,"ngIf"],["kendoGridTableBody","","kendoDraggable","","kendoGridSelectionMarquee","",3,"groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass","enableDrag"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate"],["kendoGridLoading",""],[3,"tabindex","template","pageSize","total","skip","options","pageChange"],["position","bottom",1,"k-toolbar","k-grid-toolbar","k-grid-toolbar-bottom"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,RP),jo(),Ao(2,PP,1,0,"kendo-grid-toolbar",1),Ao(3,NP,1,7,"kendo-pager",2),Ao(4,LP,1,2,"kendo-grid-group-panel",3),Vo(5,"div",4,5),Ao(7,UP,3,22,"ng-template",6),Ao(8,$P,6,20,"ng-template",6),Ho(),Ao(9,WP,1,7,"kendo-pager",7),Ao(10,ZP,1,0,"kendo-grid-toolbar",8)),2&e&&($l("Page navigation, page {currentPage} of {totalPages}")("{columnName} Filter")("{columnName} Filter Menu")("{columnName} Filter Operators")("{columnName} Filter Logic")("{columnName} Column Menu"),function(e){if(Kl){const e=Yt(),t=e.data[21];let n,i=null;Array.isArray(t)?n=t:(n=t.update,i=t.icus);const s=on()-Kl-1,r=Zt();!function e(t,n,i,s,r,o,a=!1){let l=!1;for(let c=0;c<t.length;c++){const u=t[c],h=t[++c];if(a||u&s){let a="";for(let u=c+1;u<=c+h;u++){const c=t[u];if("string"==typeof c)a+=c;else if("number"==typeof c)if(c<0)a+=Hn(o[i-c]);else{const h=c>>>2;let d,p,f;switch(3&c){case 1:const c=t[++u],g=t[++u];zs(r,Vt(r,h),o,c,a,o[11],g,!1);break;case 0:fr(o,h,a);break;case 2:if(d=t[++u],p=n[d],f=Vt(r,h),null!==f.activeCaseIndex){const e=p.remove[f.activeCaseIndex];for(let t=0;t<e.length;t++){const i=e[t];switch(7&i){case 3:Ul(r,o,i>>>3,!1);break;case 6:const s=Vt(r,e[t+1]>>>3).activeCaseIndex;null!==s&&et(n[i>>>3].remove[s],e)}}}const m=Wl(p,a);f.activeCaseIndex=-1!==m?m:null,m>-1&&(jl(-1,p.create[m],r,o),l=!0);break;case 3:d=t[++u],p=n[d],f=Vt(r,h),null!==f.activeCaseIndex&&e(p.update[f.activeCaseIndex],n,i,s,r,o,l)}}}}c+=h}}(n,i,s,ql,e,r),ql=0,Kl=0}}(),ms(2),Lo("ngIf",t.showTopToolbar),ms(1),Lo("ngIf",t.showTopPager),ms(1),Lo("ngIf",t.showGroupPanel),ms(1),Fo("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount),ms(2),Lo("ngIf",t.isScrollable),ms(1),Lo("ngIf",!t.isScrollable),ms(1),Lo("ngIf",t.showBottomPager),ms(1),Lo("ngIf",t.showBottomToolbar))},directives:function(){return[dj,Mh,kq,VU,XU,aj,fb,JH,Zj,cU,$j,SG,Cq,dq,Wj]},styles:["   .k-grid .k-grid-aria-root {\n            display: flex;\n            flex-direction: column;\n            flex: 1 1 auto;\n            overflow: hidden;\n        }\n\n        .k-grid .k-filter-row td {\n            white-space: nowrap;\n        }"],encapsulation:2}),e})();class Zz{constructor(e=0,t,n){this.total=e,this.rowHeight=t,this.detailRowHeight=n,this.offsets=[],this.heights=[];let i=0;for(let s=0;s<e;s++)this.offsets.push(i),i+=t,this.heights.push(t)}height(e){return this.heights[e]}expandDetail(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}collapseDetail(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}isExpanded(e){return this.height(e)>this.rowHeight}index(e){if(e<0)return;const t=this.offsets.reduce((t,n,i)=>void 0!==t?t:n===e?i:n>e?i-1:void 0,void 0);return void 0===t?this.total-1:t}offset(e){return this.offsets[e]}totalHeight(){return this.heights.reduce((e,t)=>e+t,0)}updateRowHeight(e,t){this.total>0&&(this.heights[e]+=t,this.offsets=((e,t,n)=>[...e.slice(0,t+1),...e.slice(t+1).map(e=>e+n)])(this.offsets,e,t))}}class Yz{constructor(e){this.offset=e}}class Qz{constructor(e,t){this.skip=e,this.take=t}}class Jz{}class Xz{constructor(e){this.scrollObservable=e,this.firstLoaded=0}create(e,t,n,i){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScrollTop=0;const s=new Yf(new Yz(this.rowHeightService.offset(t)));return this.subscription=w.create(e=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(t=>this.onScroll(t,e))}).subscribe(e=>s.next(e)),s}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollTop:e,offsetHeight:t,scrollHeight:n,clientHeight:i},s){if(this.lastScrollTop===e)return;const r=this.lastScrollTop>=e;this.lastScrollTop=e;let o=this.rowHeightService.index(e),a=this.rowHeightService.offset(o);const l=this.rowHeightService.index(e+t);if(!r)if(l>=this.lastLoaded&&this.lastLoaded<this.total){const e=o+this.take-this.total;e>0&&(o-=e,a=this.rowHeightService.offset(o)),this.firstLoaded=o,s.next(new Yz(a));let t=this.firstLoaded+this.take;this.lastLoaded=Math.min(t,this.total),t=t>this.total?this.total-this.firstLoaded:this.take,s.next(new Qz(this.firstLoaded,this.take))}else n-i-e<2&&s.next(new Jz);if(r&&o<this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=Math.max(o-e,0),s.next(new Yz(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new Qz(this.firstLoaded,this.take))}}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}const ej=(e,t,n)=>{for(let i=0,s=0;i<t.length;i++){const r=n(t[i]);if(s<=e&&e<=s+r-1)return t[i];s+=r}},tj=(e,t)=>ej(e,t,e=>e.hasAttribute("data-kendo-grid-item-index")?1:0),nj={},ij=new Ve("grid-scroll-service-factory");function sj(e){return new Xz(e)}const rj=e=>{const t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},oj=e=>e?e.nativeElement:null;let aj=(()=>{let e=class{constructor(e,t,n,i,s,r,o,a,l,c,u,h,d,p,f,g,m,v){this.changeNotification=n,this.suspendService=i,this.groupsService=s,this.ngZone=r,this.renderer=o,this.scrollSyncService=a,this.resizeService=l,this.editService=c,this.supportService=u,this.navigationService=h,this.localization=p,this.columnResizingService=f,this.changeDetector=g,this.pdfService=m,this.columnInfo=v,this.groups=[],this.skip=0,this.columns=new YB(()=>[]),this.selectable=!1,this.groupable=!1,this.trackBy=Gz,this.contentScroll=new gc,this.pageChange=new gc,this.scrollBottom=new gc,this.columnsStartIdx=0,this.resizeSensors=new vc,this.dispatcher=new E,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=e(this.dispatcher),this.subscriptions=t.changes.subscribe(e=>this.detailExpand(e)).add(d.requests.subscribe(e=>this.scrollTo(e)))}get hostClass(){return!0}get hostRole(){return"presentation"}get showFooter(){return this.groupable&&this.groupable.showFooter}get totalWidth(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}get lockedLeafColumns(){return this.columns.lockedLeafColumns}get nonLockedLeafColumns(){return this.columns.nonLockedLeafColumns}get nonLockedColumnsToRender(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}get leafColumns(){return this.columns.leafColumnsToRender}get lockedWidth(){const e=32*this.groups.length;return wB(this.lockedLeafColumns.toArray()).reduce((e,t)=>e+(t.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return kB(wB(this.nonLockedColumnsToRender.toArray()))}get isLocked(){return this.lockedLeafColumns.length>0}ngOnInit(){this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add($(this.columns.changes,this.resizeService.changes).subscribe(()=>{this.virtualColumns&&this.ngZone.run(()=>{this.updateViewportColumns(),this.changeDetector.markForCheck()})})),this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnChanges(e){e.skip&&e.skip.firstChange&&e.skip.currentValue>0&&this.handleInitialScrollToSkip(),ub("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),hb(["total","take"],e)&&this.init(),this.rebind=!1}ngDoCheck(){!this.virtualColumns||this.viewportColumns&&!this.viewportWidthChange()||this.updateViewportColumns()}ngAfterViewInit(){this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService()}ngAfterViewChecked(){const e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}syncRowsHeight(){this.lockedContainer&&rz(this.lockedTable.nativeElement,this.table.nativeElement)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}init(){this.suspendService.scroll||(this.rowHeightService=new Zz(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),jV()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}lockedScroll(){if(!this.suspendService.scroll){const e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}lockedMousewheel(e){if(!e.ctrlKey){((e,t)=>{const n=rj(e),i=t.scrollTop;0===i&&0<n||t.scrollHeight<=t.offsetHeight+i&&n<0||event.preventDefault()})(e,this.container.nativeElement);const t=rj(e);this.container.nativeElement.scrollTop-=t}}lockedKeydown(e){if(e.keyCode===Tb.PageDown||e.keyCode===Tb.PageUp){const t=this.container.nativeElement;t.scrollTop+=t.offsetHeight*(e.keyCode===Tb.PageDown?1:-1)*.8,e.preventDefault()}}detailExpand({index:e,expand:t}){t?this.rowHeightService.expandDetail(e):this.rowHeightService.collapseDetail(e),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}attachContainerScroll(){jV()||(this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(lb(this.container.nativeElement,"scroll").pipe(M(e=>e.target),hg(()=>!this.suspendService.scroll),Gg(e=>{this.onContainerScroll(e),this.resetNavigationViewport(),this.virtualColumns&&this.handleColumnScroll();const t=this.navigationService.viewport||nj,n=this.navigationService.columnViewport||nj;this.contentScroll.emit({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,startRow:t.firstItemIndex,endRow:t.lastItemIndex,startColumn:n.firstItemIndex,endColumn:n.lastItemIndex})})).subscribe(this.dispatcher))}),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}createScroller(){this.cleanupScroller();const e=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=e.pipe(hg(e=>e instanceof Qz),hg(()=>{const e=this.skipScroll;return this.skipScroll=!1,!e}),Gg(()=>this.rebind=!0)).subscribe(e=>this.ngZone.run(()=>this.pageChange.emit(e))),this.scrollerSubscription.add(e.pipe(hg(e=>e instanceof Yz)).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(e.pipe(hg(e=>e instanceof Jz)).subscribe(()=>this.scrollBottom.emit()))}scroll({offset:e=0}){var t,n;this.isVirtual&&[oj(this.table),oj(this.lockedTable)].filter(LV).forEach((t=this.renderer,n=e,e=>t.setStyle(e,"transform",`translateY(${n}px)`))),this.resetNavigationViewport()}onContainerScroll({scrollTop:e}){this.containerScrollTop=e,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=e)}handleInitialScrollToSkip(){const e=this.changeNotification.changes.pipe(hg(()=>this.isVirtual&&this.skip>0&&this.total>0)).subscribe(t=>{this.scrollTo({row:this.skip}),e.unsubscribe()})}handleRowSync(){const e=()=>LV(this.lockedContainer);return $(this.changeNotification.changes,this.groupsService.changes.pipe(hg(e),Kb((()=>this.ngZone.onStable.asObservable().pipe(Fg(1)))())),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(hg(e=>"end"===e.type)),this.supportService.changes).pipe(Gg(()=>this.resetNavigationViewport()),hg(e)).subscribe(()=>{const e=this.container.nativeElement.scrollTop,t=this.container.nativeElement.scrollLeft;this.syncRowsHeight(),this.syncContainerHeight(),this.lockedContainer.nativeElement.scrollTop=this.container.nativeElement.scrollTop=e,this.container.nativeElement.scrollLeft=t,this.resizeSensors.forEach(e=>e.acceptSize())})}handleRowNavigationLocked(){return this.navigationService.changes.pipe(hg(()=>LV(this.lockedContainer)),Qb(10)).subscribe(e=>{if(this.lockedLeafColumns.length<=e.prevColIndex&&e.colIndex<this.lockedLeafColumns.length){const t=this.navigationService.activeCell;t&&t.colIndex+t.colSpan<e.prevColIndex&&(this.container.nativeElement.scrollLeft=0)}})}scrollToVirtualRow(e){LV(this.detailTemplate)&&(e=Math.floor(e/2));const t=this.rowHeightService.offset(e);this.container.nativeElement.scrollTop=t,this.resetNavigationViewport()}scrollTo({row:e,column:t}){if(GV(e))if(this.isVirtual)this.scrollToVirtualRow(e);else{const t=tj(e,this.table.nativeElement.rows);t&&(this.container.nativeElement.scrollTop=t.offsetTop)}if(GV(t))if(t-=this.lockedLeafColumns.length,this.virtualColumns){const e=this.columns.leafColumnsToRender;let n=0;for(let i=0;i<t;i++)n+=e[i].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(n+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&t>0?32:0)))}else if(0===t&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{const e=tj(0,this.table.nativeElement.rows);if(e){const n=ej(t,e.cells,e=>lH(e,"k-hierarchy-cell k-detail-cell k-group-cell")?0:parseInt(e.getAttribute("colSpan"),10)||1);n&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(n))}}}resetNavigationViewport(){if(!this.container||!this.navigationService.enabled||!this.navigationService.needsViewport()||0===this.data.length)return;const{scrollTop:e,offsetHeight:t}=this.container.nativeElement,n=e+t,i=this.rowHeightService.index(e);let s=this.rowHeightService.index(n);const r=this.rowHeightService.offset(s);s>0&&r+this.rowHeight>n&&s--;let o=i,a=s;if(LV(this.detailTemplate)){o*=2,a*=2,this.rowHeightService.offset(i)+this.rowHeight<e&&o++;const t=r+this.rowHeightService.height(s)>n;this.rowHeightService.isExpanded(s)&&!t&&a++}this.navigationService.setViewport(o,a)}cleanupScroller(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}initResizeService(){this.resizeService.connect($(...this.resizeSensors.map(e=>e.resize)))}syncContainerHeight(){var e;[oj(this.lockedContainer)].filter(LV).map(e=>{e.style.height="";let t=this.container.nativeElement.offsetHeight;return((e,t)=>this.table.nativeElement.offsetWidth>this.container.nativeElement.clientWidth)()&&(t-=this.supportService.scrollbarWidth),{el:e,height:t}}).forEach((e=this.renderer,({el:t,height:n})=>e.setStyle(t,"height",n+"px")))}updateViewportColumns(e){const t=this.columns.nonLockedLeafColumns.toArray();let{startIdx:n,endIdx:i,offset:s}=e||this.calculateViewportColumns();const r=Math.max(0,n-1),o=Math.min(i+1,t.length-1);if(r<n)for(let l=n-1;l>=r;l--)s-=t[l].width;let a=t.slice(r,o+1);if(this.viewportColumnsWidth=a.reduce((e,t)=>e+t.width,0),r>0){const e=new hB;e.width=s,a.unshift(e)}this.viewportColumns=new vc,this.viewportColumns.reset(a),this.columnsStartIdx=r,this.columnsEndIdx=o,this.columnInfo.columnRangeChange.emit({start:r,end:o,offset:s}),e||this.updateColumnViewport(n,i)}handleColumnScroll(){const e=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==e){this.scrollLeft=e;const t=this.calculateViewportColumns();this.updateColumnViewport(t.startIdx,t.endIdx),(t.startIdx<this.columnsStartIdx||this.columnsEndIdx<t.endIdx)&&(XV(this.columnUpdateFrame),this.columnUpdateFrame=JV(()=>{this.ngZone.run(()=>{this.updateViewportColumns(t),this.changeDetector.markForCheck()})}))}}updateColumnViewport(e,t){const n=this.lockedLeafColumns.length,i=this.nonLockedLeafColumns.toArray(),s=n+e+(this.detailTemplate&&e>0?1:0);let r=n+t+(this.detailTemplate?1:0);for(let o=0;o<i.length;o++){const e=i[o];e.isSpanColumn&&(r+=e.childColumns.length)}this.navigationService.setColumnViewport(s,r)}calculateViewportColumns(){const{scrollLeft:e,clientWidth:t}=this.container.nativeElement,n=this.columns.nonLockedLeafColumns.toArray(),i=this.normalizeScrollLeft(e),s=i+t;let r,o,a=0,l=0,c=0;for(o=0;o<n.length;o++){const e=n[o];if(l+=e.width||0,void 0===r&&l>i&&(r=o,c=l-(e.width||0)),l>=s){a=o;break}}return!a&&o>0&&(a=n.length-1),{startIdx:r,endIdx:a,offset:c}}viewportWidthChange(){return this.viewportColumns.toArray().reduce((e,t)=>e+t.width,0)!==this.viewportColumnsWidth}normalizeScrollLeft(e){return this.rtl?function(e,t,n){let i=e;return n<0?i=-e:n>0&&(i=t.scrollWidth-t.offsetWidth-e),i}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}elementScrollLeft(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}};return e.\u0275fac=function(t){return new(t||e)(Ro(ij),Ro(MH),Ro(nz),Ro(hz),Ro(RH),Ro(ou),Ro(Ja),Ro(mz),Ro(vz),Ro(AH),Ro(HB),Ro(WH),Ro(VH),Ro(jb),Ro(wz),Ro(Wr),Ro(cz),Ro(Bz))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-list"]],viewQuery:function(e,t){var n;1&e&&(_c(YP,!0),Tc(QP,!0),Tc(JP,!0),_c(XP,!0),Tc(Eb,!0)),2&e&&(Ic(n=Rc())&&(t.container=n.first),Ic(n=Rc())&&(t.lockedContainer=n.first),Ic(n=Rc())&&(t.lockedTable=n.first),Ic(n=Rc())&&(t.table=n.first),Ic(n=Rc())&&(t.resizeSensors=n))},hostVars:3,hostBindings:function(e,t){2&e&&(Fo("role",t.hostRole),ua("k-grid-container",t.hostClass))},inputs:{groups:"groups",skip:"skip",columns:"columns",selectable:"selectable",groupable:"groupable",trackBy:"trackBy",data:"data",total:"total",rowHeight:"rowHeight",stickyRowHeight:"stickyRowHeight",detailRowHeight:"detailRowHeight",take:"take",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",filterable:"filterable",rowClass:"rowClass",rowSticky:"rowSticky",loading:"loading",virtualColumns:"virtualColumns",isVirtual:"isVirtual"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[Ga([{provide:ij,useValue:sj}]),Pa],decls:14,vars:33,consts:[["class","k-grid-content-locked","role","presentation",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["container",""],["role","presentation",1,"k-grid-table-wrap"],["role","presentation",1,"k-grid-table",3,"virtualColumns"],["table",""],["kendoGridColGroup","","role","presentation",3,"groups","columns","detailTemplate"],["kendoGridTableBody","","role","presentation",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","skip","selectable","trackBy","filterable","rowClass","rowSticky","virtualColumns"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["role","presentation",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["lockedContainer",""],["role","presentation",1,"k-grid-table",3,"locked"],["lockedTable",""],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass"],["role","presentation",1,"k-width-container"],["kendoGridLoading",""]],template:function(e,t){1&e&&(Ao(0,tN,10,30,"div",0),Vo(1,"div",1,2),Vo(3,"div",3),Vo(4,"table",4,5),Bo(6,"colgroup",6),Bo(7,"tbody",7),Ho(),Ao(8,nN,1,0,"kendo-resize-sensor",8),Ho(),Ao(9,iN,1,0,"kendo-resize-sensor",8),Vo(10,"div",9),Bo(11,"div"),Ho(),Ao(12,sN,2,2,"div",10),Ho(),Ao(13,rN,1,0,"div",11)),2&e&&(Lo("ngIf",t.isLocked),ms(1),Lo("kendoGridResizableContainer",t.lockedLeafColumns.length)("lockedWidth",t.lockedWidth+1),ms(3),ca("width",t.nonLockedWidth,"px"),Lo("virtualColumns",t.virtualColumns),ms(2),Lo("groups",t.isLocked?ec(32,HP):t.groups)("columns",t.nonLockedColumnsToRender)("detailTemplate",t.detailTemplate),ms(1),Lo("skipGroupDecoration",t.isLocked)("data",t.data)("groups",t.groups)("showGroupFooters",t.showFooter)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("rowSticky",t.rowSticky)("virtualColumns",t.virtualColumns),ms(1),Lo("ngIf",t.isLocked),ms(1),Lo("ngIf",t.isLocked||t.virtualColumns),ms(2),ca("height",t.totalHeight,"px"),ms(1),Lo("ngIf",t.virtualColumns),ms(1),Lo("ngIf",t.loading))},directives:function(){return[Mh,Zj,cU,$j,dq,mb,Eb,Wj]},encapsulation:2}),e})(),lj=(()=>{let e=class{constructor(e,t,n){this.grid=e,this.changeDetector=t,this.localDataChangesService=n,this.state={skip:0},this.originalData=[],n&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(this.rebind.bind(this)))}set skip(e){LV(e)||(e=0),this.grid.skip=this.state.skip=e}set sort(e){this.grid.sort=this.state.sort=e}set filter(e){this.grid.filter=this.state.filter=e}set pageSize(e){this.grid.pageSize=this.state.take=e}set group(e){this.grid.group=this.state.group=e}set data(e){this.originalData=e||[],this.localDataChangesService&&(this.localDataChangesService.data=e),this.dataChanged=!0}ngOnInit(){this.applyState(this.state),this.stateChangeSubscription=this.grid.dataStateChange.subscribe(this.onStateChange.bind(this))}ngOnDestroy(){this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.dataChangedSubscription&&this.dataChangedSubscription.unsubscribe()}ngOnChanges(e){hb(["pageSize","skip","sort","group","filter"],e)&&this.rebind()}ngDoCheck(){this.dataChanged&&this.updateGridData()}onStateChange(e){this.applyState(e),this.rebind()}rebind(){this.data=this.originalData,this.updateGridData(),this.notifyDataChange()}notifyDataChange(){this.grid.onDataChange(),this.changeDetector&&this.changeDetector.markForCheck()}process(e){return ix(this.originalData,e)}applyState({skip:e,take:t,sort:n,group:i,filter:s}){this.skip=e,this.pageSize=t,this.sort=n,this.group=i,this.filter=s}updateGridData(){this.grid.data=this.process(this.state),this.dataChanged=!1}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wz),Ro(Wr),Ro(nH))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridBinding",""]],inputs:{skip:"skip",sort:"sort",filter:"filter",pageSize:"pageSize",group:"group",data:["kendoGridBinding","data"]},features:[Pa]}),e})(),cj=(()=>{let e=class extends ZB{constructor(e,t){super(e,t),this.grid=e}ngOnInit(){!1===this.grid.selectable&&(this.grid.selectable=!0),this.grid.selectionDirective=this}ngOnDestroy(){super.destroy()}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wz),Ro(Wr))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSelectBy",""]],features:[Ta]}),e})(),uj=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return Iq(t||e)},e.\u0275dir=bt({type:e,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerLabel:"pagerLabel",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",filter:"filter",filterInputLabel:"filterInputLabel",filterMenuTitle:"filterMenuTitle",filterMenuOperatorsDropDownLabel:"filterMenuOperatorsDropDownLabel",filterMenuLogicDropDownLabel:"filterMenuLogicDropDownLabel",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",columnMenu:"columnMenu",setColumnPosition:"setColumnPosition",columns:"columns",lock:"lock",unlock:"unlock",stick:"stick",unstick:"unstick",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse",filterDateToday:"filterDateToday",filterDateToggle:"filterDateToggle",filterNumericDecrement:"filterNumericDecrement",filterNumericIncrement:"filterNumericIncrement",selectionCheckboxLabel:"selectionCheckboxLabel",selectAllCheckboxLabel:"selectAllCheckboxLabel"},features:[Ta]}),e})();var hj;let dj=(()=>{let e=hj=class extends uj{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridLocalizedMessages",""]],features:[Ga([{provide:uj,useExisting:xe(()=>hj)}]),Ta]}),e})(),pj=(()=>{let e=class{constructor(e,t){this.localization=e,this.columnInfoService=t,this.columns=[],this.groups=[],this.filterRowClass=!0}addStickyStyles(e){return this.columnInfoService.stickyColumnsStyles(e)}filterLabel(e){const t=this.localization.get("filterInputLabel")||"";return eH(t,"columnName",e.title||e.field)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Bz))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",groups:"groups",filter:"filter",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:oN,decls:3,vars:3,consts:[["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"k-grid-header-sticky","ngStyle","column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"ngStyle","column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&(Ao(0,aN,1,2,"td",0),Ao(1,lN,1,2,"td",1),Ao(2,cN,1,8,"td",2)),2&e&&(Lo("ngForOf",t.groups),ms(1),Lo("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),ms(1),Lo("ngForOf",t.columns))},directives:function(){return[Nh,Mh,gj,Xj,Gh]},encapsulation:2}),e})();const fj=e=>{if(e)return JC(e)?{filters:fj(e.filters),logic:e.logic}:Array.isArray(e)?e.map(fj):(e=>(e=>{const t={};if(Object.assign(t,e),e.constructor!==Object){const n=e.constructor.prototype;Object.getOwnPropertyNames(n).forEach(i=>{"constructor"!==i&&n.hasOwnProperty(i)&&(t[i]=e[i])})}return t})(e))(e)};let gj=(()=>{let e=class{constructor(){this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=fj(e)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}get hasTemplate(){return LV(this.column.filterCellTemplateRef)}get isFilterable(){return LV(this.column)&&!BV(this.column.field)&&this.column.filterable}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:uN,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ao(0,gN,3,3,"ng-template",0),2&e&&Lo("ngIf",t.isFilterable)},directives:function(){return[Mh,zh,jh,RU,qh]},encapsulation:2}),e})();const mj=(e=>t=>Object.keys(e).reduce((n,i)=>(n[e[i]]=t.get(i),n),{}))({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"}),vj=e=>e.map(e=>e.toJSON());let yj=(()=>{class e{constructor(e,t){this.operator=e,this.localization=t,this.messages=mj(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}get text(){return this._text}set text(e){this._text=BV(e)?this.messages[this.operator]:e}toJSON(){return{text:this.text,value:this.operator}}refreshText(){const e=this._text===this.messages[this.operator];this.messages=mj(this.localization),e&&(this._text=this.messages[this.operator])}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{text:"text"}}),e})();const bj=(e,t,n,i)=>LV(t)&&LV(t.filters)&&t.filters.length>e?t.filters[e]:((e,t,n)=>((t=t||{filters:[],logic:"and"}).filters[e]=n,n))(e,t,{field:n,operator:i}),wj=e=>[{text:e.get("filterAndLogic"),value:"and"},{text:e.get("filterOrLogic"),value:"or"}],Cj=e=>LV(e.filters)?e.filters.reduce((e,t)=>e.concat(JC(t)?Cj(t):[t]),[]):[],Sj=(e,t)=>{LV(e)&&LV(e.filters)&&(e.filters=e.filters.filter(e=>JC(e)?(Sj(e,t),e.filters.length):e.field!==t))},xj=(e,t)=>Cj(e||{}).filter(e=>e.field===t),kj=(e,t)=>(Sj(e,t),e),Ej=e=>t=>Object.keys(e).map(n=>({text:t.get(n),value:e[n]}));let Ij=(()=>{class e{constructor(e){this.filterService=e,this.operatorList=new vc}get hostClasses(){return!0}get operators(){return this._operators.length?this._operators:this.defaultOperators}set operators(e){this._operators=e}ngAfterContentInit(){this.operationListSubscription=zV(this.operatorList).pipe(M(e=>e.toArray()),M(vj)).subscribe(e=>{this.operators=e})}ngOnDestroy(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}filterByField(e){return((e,t)=>{let[n]=xj(e,t);return n})(this.filter,e)}filtersByField(e){return xj(this.filter,e)}removeFilter(e){return kj(this.filter,e)}updateFilter(e){const t=this.filter||{filters:[],logic:"and"};let[n]=Cj(t).filter(t=>t.field===e.field);return LV(n)?Object.assign(n,e):t.filters.push(e),t}applyFilter(e){this.filterService.filter(e)}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,contentQueries:function(e,t,n){var i;1&e&&Dc(n,yj,!1),2&e&&Ic(i=Rc())&&(t.operatorList=i)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)}}),e})();const _j=Ej({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let Tj=(()=>{class e extends Ij{constructor(e,t){super(e),this.localization=t,this.operator="eq",this.step=1,this.spinners=!0,this.defaultOperators=_j(this.localization)}set format(e){this._format=e}get format(){return BV(this._format)?this.columnFormat:this._format}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!BV(this.column.format)?qV(this.column.format):"n2"}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=_j(this.localization),this.operatorList.length&&(this.operators=vj(this.operatorList.toArray()))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[Ta]}),e})(),Fj=(()=>{let e=class extends Tj{constructor(e,t){super(e,t),this.localization=t,this.filterDelay=500,this.showOperators=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return eH(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Ro(az),Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Ta],decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Vo(1,"kendo-numerictextbox",1),Bo(2,"kendo-numerictextbox-messages",2),Ho(),Ho()),2&e&&(Lo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),ms(1),Lo("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),ms(1),Lo("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},directives:function(){return[Nj,eF,xH,Dj,iF]},encapsulation:2}),e})(),Dj=(()=>{let e=class{constructor(e,t,n,i){this.element=n,this.renderer=i,this.change=new gc,this.composing=!1,this.filterDelay=500,this.changeRequests=new E,this.accessor=e[0],t.runOutsideAngular(()=>{const e=i.listen(n.nativeElement,"compositionstart",()=>this.composing=!0),t=i.listen(n.nativeElement,"compositionend",()=>this.composing=!1);this.unsubscribeEvents=()=>{e(),t()}})}set value(e){this.accessor.writeValue(e)}set disabled(e){this.accessor.setDisabledState(e)}ngAfterViewInit(){this.addAriaAttributes(),this.accessor.registerOnChange(e=>this.filterDelay>0?this.changeRequests.next(e):this.change.emit(e)),this.subscribeChanges()}ngOnChanges(e){ub("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.unsubscribeChanges(),this.unsubscribeEvents()}subscribeChanges(){this.changeRequestsSubscription=this.changeRequests.pipe(function(e,t=nb){return n=>n.lift(new aw(e,t))}(this.filterDelay),hg(()=>!this.composing)).subscribe(e=>this.change.emit(e))}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}addAriaAttributes(){const e=this.columnLabel;if(this.kendoInput&&this.kendoInput.focusableId&&cb()){const t=this.element.nativeElement.querySelector("#"+this.kendoInput.focusableId);this.renderer.setAttribute(t,"aria-label",e)}else this.renderer.setAttribute(this.element.nativeElement,"aria-label",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(fw,2),Ro(ou),Ro(Wa),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterInput",""]],contentQueries:function(e,t,n){var i;1&e&&Ac(n,_b,!0),2&e&&Ic(i=Rc())&&(t.kendoInput=i.first)},inputs:{filterDelay:"filterDelay",value:"value",columnLabel:"columnLabel"},features:[Pa]}),e})();const Aj=new Set(["isnull","isnotnull","isempty","isnotempty"]),Oj=e=>Aj.has(e);let Rj=(()=>{class e extends Ij{constructor(e){super(e),this.operators=[]}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){const e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator}set currentOperator(e){this._operator=e;const t=Oj(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!MV(e)&&LV(this.currentFilter)&&this.onChange(this.currentFilter.value)}get defaultOperator(){return BV(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator}set defaultOperator(e){this._defaultOperator=e}set filterInputDisabled(e){this.input&&(this.input.disabled=e)}ngAfterContentInit(){LV(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=Oj(this.currentOperator))}ngOnDestroy(){super.ngOnDestroy(),this.changeSubscription&&this.changeSubscription.unsubscribe()}onChange(e){BV(e)&&!this.filterByField(this.column.field)||this.filterChange(BV(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onClear(){this.onChange(null),this.filterInputDisabled=Oj(this.defaultOperator)}applyNoValueFilter(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}ngOnChanges(e){ub("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=Oj(this.currentOperator))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,contentQueries:function(e,t,n){var i;1&e&&Dc(n,Dj,!0),2&e&&Ic(i=Rc())&&(t.input=i.first)},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[Ta,Pa]}),e})();const Pj=["isnull","isnotnull","isempty","isnotempty"];let Nj=(()=>{let e=class extends Rj{constructor(e){super(e),this.showOperators=!0}get hostClasses(){return!0}get overrideBaseClasses(){return!1}get showButton(){const e=this.currentFilter;return LV(e)&&(!BV(e.value)||Pj.indexOf(String(e.operator))>=0)}filterChange(e){this.applyFilter(e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(az))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&ua("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[Ta],ngContentSelectors:mN,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,t){1&e&&(Jo(),Xo(0),Vo(1,"kendo-grid-filter-cell-operators",0),$o("clear",(function(){return t.onClear()}))("valueChange",(function(e){return t.currentOperator=e})),Ho()),2&e&&(ms(1),Lo("showOperators",t.showOperators)("operators",t.operators)("showButton",t.showButton)("value",t.currentOperator))},directives:function(){return[Hj]},encapsulation:2}),e})();const Lj=Ej({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let Mj=(()=>{class e extends Ij{constructor(e,t){super(e),this.localization=t,this.operator="contains"}get currentFilter(){return this.filterByField((this.column||{}).field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=Lj(this.localization),this.operatorList.length&&(this.operators=vj(this.operatorList.toArray()))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{operator:"operator",column:"column",filter:"filter"},features:[Ta]}),e})(),Vj=(()=>{let e=class extends Mj{constructor(e,t){super(e,t),this.filterDelay=500,this.showOperators=!0}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return eH(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Ro(az),Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Ta],decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",1,"k-textbox",3,"columnLabel","filterDelay","ngModel"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Bo(1,"input",1),Ho()),2&e&&(Lo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),ms(1),Lo("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[Nj,bw,xH,Dj,Iw,EC],encapsulation:2}),e})(),Hj=(()=>{let e=class{constructor(e){this.localization=e,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new gc,this.clear=new gc}get hostClasses(){return!0}onChange(e){this.valueChange.emit(e)}clearClick(){return this.clear.emit(),!1}clearKeydown(e){e.keyCode!==Tb.Enter&&e.keyCode!==Tb.Space||this.clear.emit()}dropdownKeydown(e){e.defaultPrevented||e.keyCode!==Tb.Enter||this.dropdown.isOpen||(this.dropdown.toggle(!0),e.preventDefault())}ngOnInit(){this.localization.changes.subscribe(()=>this.clearText=this.localization.get("filterClearButton"))}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,t){var n;1&e&&Tc(vN,!0),2&e&&Ic(n=Rc())&&(t.dropdown=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoGridFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoGridFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoGridFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,t){1&e&&(Ao(0,bN,2,5,"kendo-dropdownlist",0),Vo(1,"button",1),$o("click",(function(){return t.clearClick()}))("keydown",(function(e){return t.clearKeydown(e)})),Bo(2,"span",2),Ho()),2&e&&(Lo("ngIf",t.showOperators),ms(1),Lo("ngClass",tc(3,wN,t.showButton))("title",t.clearText))},directives:[Mh,xH,Rh,WE],encapsulation:2}),e})();const Bj=Ej({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let zj=(()=>{let e=class extends Ij{constructor(e,t,n){super(e),this.localization=n,this.showOperators=!0,this.defaultOperators=Bj(this.localization),this.column=t}set valueField(e){this._valueField=e}get valueField(){return this._valueField?this._valueField:this.column.field}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:"contains"}};return e.\u0275fac=function(t){return new(t||e)(Ro(az),Ro(mB),Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[Ta],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Bo(1,"kendo-autocomplete",1),Ho()),2&e&&(Lo("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),ms(1),Lo("data",t.data)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[Nj,GE,Dj],encapsulation:2}),e})(),jj=(()=>{class e extends Ij{constructor(e,t){super(e),this.localization=t,this.operator="eq",this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}get hostClasses(){return!0}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[Ta]}),e})(),Uj=(()=>{let e=class extends jj{constructor(e,t,n){super(e,t),this.cd=n}localizationChange(){super.localizationChange(),this.cd.markForCheck()}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return eH(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Ro(az),Ro(jb),Ro(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-boolean-filter-cell"]],features:[Ta],decls:2,vars:11,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","kendoGridFocusable","","textField","text","valueField","value",3,"columnLabel","defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Bo(1,"kendo-dropdownlist",1),Ho()),2&e&&(Lo("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),ms(1),Lo("columnLabel",t.columnLabel)("defaultItem",t.defaultItem)("data",t.items)("popupSettings",ec(10,yN))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[Nj,WE,Dj,xH],encapsulation:2}),e})();const Gj=Ej({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let qj=(()=>{class e extends Ij{constructor(e,t){super(e),this.localization=t,this.operator="gte",this.activeView="month",this.bottomView="month",this.topView="century",this.weekNumber=!1,this.defaultOperators=Gj(this.localization)}get currentFilter(){return this.filterByField(this.column.field)}set format(e){this._format=e}get format(){return BV(this._format)?this.columnFormat:this._format}get columnFormat(){return this.column&&!BV(this.column.format)?qV(this.column.format):"d"}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=Gj(this.localization),this.operatorList.length&&(this.operators=vj(this.operatorList.toArray()))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[Ta]}),e})(),Kj=(()=>{let e=class extends qj{constructor(e,t){super(e,t),this.localization=t,this.showOperators=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return eH(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Ro(az),Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[Ta],decls:3,vars:18,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","","kendoGridFocusable","",3,"columnLabel","value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"],[3,"toggle","today"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Vo(1,"kendo-datepicker",1),Bo(2,"kendo-datepicker-messages",2),Ho(),Ho()),2&e&&(Lo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),ms(1),Lo("columnLabel",t.columnLabel)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),ms(1),Lo("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},directives:[Nj,GO,Dj,xH,hR],encapsulation:2}),e})(),$j=(()=>{let e=class{constructor(){this.columns=[],this.groups=[]}get columnsToRender(){return SB(this.columns)}trackBy(e,t){return e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate"},attrs:CN,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&Ao(0,EN,3,4,"ng-template",0),2&e&&Lo("ngIf",!0)},directives:[Mh,Nh],encapsulation:2}),e})(),Wj=(()=>{let e=class{constructor(e){this.localization=e,this.hostClass=!0}get loadingText(){return this.localization.get("loading")}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-loading-mask",t.hostClass)},attrs:IN,decls:4,vars:1,consts:[[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&(Vo(0,"span",0),Ca(1),Ho(),Bo(2,"div",1),Bo(3,"div",2)),2&e&&(ms(1),Sa(t.loadingText))},encapsulation:2}),e})(),Zj=(()=>{let e=class{constructor(e,t,n,i){this.el=e,this.renderer=t,this.resizeService=n,this.grid=i,this.enabled=!1}set lockedWidth(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}set kendoGridResizableContainer(e){const t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}attachResize(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}resize(){if(this.grid&&this.grid.wrapper){const e=Math.max(this.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&e>0?e+"px":"")}}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Ja),Ro(vz),Ro(Wz,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),e})(),Yj=(()=>{let e=class{constructor(e){this.viewContainerRef=e}set templateContext(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}ngOnDestroy(){this.removeView()}removeView(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}};return e.\u0275fac=function(t){return new(t||e)(Ro(wl))},e.\u0275dir=bt({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e})(),Qj=(()=>{let e=class{constructor(e){this.root=e,this.active=!0,this.children=[],this.root.registerGroup(this)}get focusableChildren(){return this.children.filter(e=>e.canFocus())}get isActive(){return this.active}ngOnDestroy(){this.root.unregisterGroup(this)}registerElement(e){this.unregisterElement(e),this.children.push(e)}unregisterElement(e){this.children=this.children.filter(t=>t!==e)}isNavigable(){const e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}canFocus(){return this.focusableChildren.length>0}focus(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}activate(){this.toggleState(!0)}deactivate(){this.toggleState(!1)}hasFocus(){return this.children.reduce((e,t)=>e||t.hasFocus(),!1)}toggleState(e){this.active!==e&&(this.active=e,this.children.forEach(t=>t.toggle(e)))}};return e.\u0275fac=function(t){return new(t||e)(We(sH))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Jj=0,Xj=(()=>{let e=class{constructor(e,t,n,i,s,r,o,a){this.focusGroup=e,this.element=t,this.columnInfoService=n,this.idService=i,this.navigationService=s,this.renderer=r,this.zone=o,this.cellContext=a,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=Jj++}get id(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}get ariaColIndex(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}ngOnInit(){this.navigationService.enabled&&(this.navigationChange=this.navigationService.changes.subscribe(e=>this.onNavigationChange(e)))}ngDoCheck(){this.navigationService.enabled&&-1!==this.logicalColIndex&&(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}ngOnChanges(e){if(!this.navigationService.enabled)return;const t=Object.keys(e);if(1===t.length&&"groupItem"===t[0]||-1===this.logicalColIndex)return;const n=e.logicalColIndex,i=e.logicalRowIndex,s=n&&!n.isFirstChange()?n.previousValue:this.logicalColIndex,r=i&&!i.isFirstChange()?i.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(s,r,this),this.registerChanges(),this.updateElement()}ngOnDestroy(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}onNavigationChange(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}updateElement(){const e=this.element.nativeElement;this.renderer.setAttribute(e,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?(this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask(()=>this.isFocused()&&e.focus()),this.renderer.addClass(e,"k-state-focused")),this.headerLabelText&&e.setAttribute("aria-label","")):(this.renderer.removeClass(e,"k-state-focused"),this.headerLabelText&&e.setAttribute("aria-label",this.headerLabelText))}microtask(e){this.zone.runOutsideAngular(()=>Promise.resolve(null).then(e))}registerChanges(){this.logicalSlaveCell||this.navigationService.registerCell(this)}registerNoChanges(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}isFocusable(){return this.navigationService.isCellFocusable(this)}isFocused(){return this.navigationService.isCellFocused(this)}};return e.\u0275fac=function(t){return new(t||e)(Ro(Qj),Ro(Wa),Ro(Bz),Ro(Vz),Ro(WH),Ro(Ja),Ro(ou),Ro(SH,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&Fo("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",detailExpandCell:"detailExpandCell",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",colIndex:"colIndex",groupItem:"groupItem",dataItem:"dataItem",headerLabelText:"headerLabelText"},features:[Ga([{provide:Qj,deps:[sH],useClass:Qj}]),Pa]}),e})(),eU=0,tU=(()=>{let e=class{constructor(e,t){this.idService=e,this.navigation=t,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=eU++}get hostRole(){return this.logicalSlaveRow?"presentation":"row"}get ariaRowIndex(){return this.logicalRowIndex+1}get ariaOwns(){if(!this.navigation.enabled||this.logicalSlaveRow||0===this.logicalSlaveCellsCount)return;const e=[],t=this.logicalCellsCount+this.logicalSlaveCellsCount;for(let n=this.logicalCellsCount;n<t;n++)e.push(this.idService.cellId(this.logicalRowIndex,n));return e.join(" ")}ngOnChanges(e){if(!this.navigation.enabled||this.logicalSlaveRow)return;const t=e.logicalRowIndex;if(t||e.logicalSlaveRow){const e=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(e,this),this.navigation.registerRow(this)}else hb(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}ngOnDestroy(){this.navigation.unregisterRow(this.logicalRowIndex,this)}};return e.\u0275fac=function(t){return new(t||e)(Ro(Vz),Ro(WH))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridLogicalRow",""]],hostVars:3,hostBindings:function(e,t){2&e&&Fo("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("aria-owns",t.ariaOwns)},inputs:{logicalSlaveRow:"logicalSlaveRow",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",logicalRowIndex:"logicalRowIndex",logicalCellsCount:"logicalCellsCount",dataItem:"dataItem"},features:[Pa]}),e})();const nU=/\{\d+:?/;let iU=(()=>{let e=class{constructor(e){this.intlService=e}transform(e,t,n){if(!BV(t)){const i=function(e){if(nk[e])return nk[e];const t=function(e){const t=[];return e.replace(tk,(function(e,n,i,s){t.push(void 0!==n?n:i||s)})),t}(e);return nk[e]=function(e){let n=e;for(let i=0;i<t.length&&n;i++)n=n[t[i]];return n},nk[e]}(t)(e);return BV(n)?i:this.formatValue(n,i)}return e}formatValue(e,t){const n=this.intlService;return UV(e)&&e.match(nU)?n.format(e,t):n.toString(t,e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(uT))},e.\u0275pipe=wt({name:"valueOf",type:e,pure:!1}),e})();const sU=({columns:e})=>Math.max(1,(e=>e.filter(e=>HV(e.resizable)&&e.isVisible))(e).length),rU=e=>t=>t.querySelector(e),oU=(e,t="td")=>n=>n.querySelectorAll(t+":not(.k-group-cell):not(.k-hierarchy-cell)")[e],aU=e=>e.offsetWidth,lU=(...e)=>t=>e.reduce((e,t)=>e?t(e):0,t);let cU=(()=>{let e=class{constructor(e,t,n,i,s){this.element=e,this.renderer=t,this.service=n,this.zone=i,this.cdr=s,this.locked=!1,this.firstResize=!1}get minWidth(){return this.firstResize?0:null}ngOnInit(){const e=this.service.changes.pipe(hg(e=>this.locked===e.locked));this.subscription=e.pipe(hg(e=>"start"===e.type),Gg(this.initState.bind(this)),M(sU),Ng(t=>e.pipe(hg(e=>"resizeTable"===e.type),M(e=>e.delta),function(e,t=null){return function(n){return n.lift(new uw(e,t))}}(t)))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}initState(){this.firstResize=!0,this.virtualColumns&&!this.locked||(this.originalWidth=aU(this.element.nativeElement))}resize(e){if(!this.virtualColumns||this.locked){const t=e.reduce((e,t)=>e+t,0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}autoFitObservable(e){return w.create(t=>{this.zone.runOutsideAngular(()=>{this.renderer.addClass(this.element.nativeElement,"k-autofitting"),this.cdr.detectChanges();const n=e.map(this.measureColumn.bind(this));this.renderer.removeClass(this.element.nativeElement,"k-autofitting"),t.next(n)})})}measureColumn(e){const t=this.element.nativeElement,n=lU((i=e.level,e=>e.querySelectorAll("thead>tr")[i]),oU(e.headerIndex,"th"),aU)(t);var i;let s=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(s=lU(rU("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),oU(e.index),aU)(t));const r=lU(rU("tfoot>tr"),oU(e.index),aU)(t);return Math.max(n,s,r)}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Ja),Ro(wz),Ro(ou),Ro(Wr))},e.\u0275dir=bt({type:e,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&ca("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),e})(),uU=(()=>{let e=class{static exports(){return[mB,bB,RB,aB,PB,xH]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h],gb,vb]}),e})();var hU,dU,pU,fU,gU,mU,vU,yU,bU,wU,CU,SU,xU,kU,EU,IU,_U,TU;const FU=[Hj,(()=>{let e=hU=class extends yj{constructor(e){super("contains",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-contains-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>hU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=dU=class extends yj{constructor(e){super("doesnotcontain",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-not-contains-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>dU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=pU=class extends yj{constructor(e){super("endswith",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-endswith-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>pU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=fU=class extends yj{constructor(e){super("eq",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-eq-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>fU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=gU=class extends yj{constructor(e){super("isempty",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isempty-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>gU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=mU=class extends yj{constructor(e){super("isnotempty",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnotempty-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>mU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=vU=class extends yj{constructor(e){super("isnotnull",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnotnull-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>vU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=yU=class extends yj{constructor(e){super("isnull",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnull-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>yU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=bU=class extends yj{constructor(e){super("neq",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-neq-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>bU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=wU=class extends yj{constructor(e){super("startswith",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-startswith-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>wU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=CU=class extends yj{constructor(e){super("gt",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-gt-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>CU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=SU=class extends yj{constructor(e){super("gte",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-gte-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>SU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=xU=class extends yj{constructor(e){super("lt",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-lt-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>xU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=kU=class extends yj{constructor(e){super("lte",e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-lte-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>kU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=EU=class extends yj{constructor(e){super("after",e)}toJSON(){return{text:this.text,value:"gt"}}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-after-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>EU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=IU=class extends yj{constructor(e){super("after-eq",e)}toJSON(){return{text:this.text,value:"gte"}}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-after-eq-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>IU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=_U=class extends yj{constructor(e){super("before-eq",e)}toJSON(){return{text:this.text,value:"lte"}}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-before-eq-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>_U)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=TU=class extends yj{constructor(e){super("before",e)}toJSON(){return{text:this.text,value:"lt"}}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-before-operator"]],features:[Ga([{provide:yj,useExisting:xe(()=>TU)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()],DU=[$h,MC,LC,oI,nI,pF,pR,zx,uU];let AU=(()=>{let e=class{static exports(){return[...FU]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...DU],$h,MC,LC,oI,nI,pF,pR,zx,uU]}),e})(),OU=(()=>{class e{constructor(e,t){this.host=e,this.resolver=t}ngOnInit(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}ngOnChanges(e){hb(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}initComponent({column:e,filter:t}){const n=this.component.instance;n.column=e,n.filter=t}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{column:"column",filter:"filter"},features:[Pa]}),e})(),RU=(()=>{let e=class extends OU{constructor(e,t){super(e,t)}componentType(){return BV(this.column.filter)?Vj:{boolean:Uj,date:Kj,numeric:Fj,text:Vj}[this.column.filter]}};return e.\u0275fac=function(t){return new(t||e)(Ro(wl),Ro($a))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterCellHost",""]],features:[Ta]}),e})(),PU=(()=>{let e=class{static exports(){return[pj,gj,dB,Hj,Vj,Fj,zj,Uj,Kj,AU.exports()]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[AU],AU]}),e})(),NU=(()=>{let e=class{constructor(e,t){this.host=e,this.renderer=t}ngAfterViewInit(){this.renderer.addClass(this.host.numericInput.nativeElement,"k-pager-nav")}};return e.\u0275fac=function(t){return new(t||e)(Ro(eF),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridPagerInput",""]]}),e})(),LU=(()=>{let e=class{constructor(e,t){this.host=e,this.renderer=t,this.keydownHandler=e=>{e.keyCode===Tb.Escape&&this.host.isOpen&&(e.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){const e=this.host.wrapper.nativeElement;this.renderer.addClass(e,"k-pager-nav"),e.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}};return e.\u0275fac=function(t){return new(t||e)(Ro(WE),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridPagerDropDown",""]]}),e})();const MU=e=>(({buttonCount:e=10,info:t=!0,type:n="numeric",pageSizes:i=!1,previousNext:s=!0,responsive:r=!0,position:o="bottom"})=>({buttonCount:e,info:t,pageSizes:!0===i?[5,10,20]:i,previousNext:s,type:n,responsive:r,position:o}))(!0===e?{}:e);let VU=(()=>{let e=class{constructor(e,t,n,i,s,r,o,a,l){this.pagerContext=e,this.navigationService=t,this.element=n,this.renderer=i,this.zone=s,this.localizationService=r,this.cellContext=o,this.focusRoot=a,this.focusGroup=l,this.total=0,this.skip=1,this.pageChange=new gc,this.pagerWrapClass=!0,this.gridPagerClass=!0,this.widgetClass=!0,this.settings=MU({}),this.subscriptions=new h,this._templateContext={},this._isFocused=!1,this.resizeHandler=()=>{const e=this.element.nativeElement;if(this.template||!e)return;const t=e.offsetWidth;t<600?(this.renderer.removeClass(e,"k-pager-md"),this.renderer.addClass(e,"k-pager-sm")):t>=600&&t<768?(this.renderer.addClass(e,"k-pager-md"),this.renderer.removeClass(e,"k-pager-sm")):this.clearResponsiveClasses()}}set options(e){this.settings=MU(e)}get isFocused(){return this._isFocused}get pagerAriaLabel(){return this.navigationService.enabled?this.pagerLabel:void 0}get pagerLabel(){const e=this.localizationService.get("pagerLabel")||"";return eH(eH(e,"currentPage",this.currentPage.toString()),"totalPages",this.totalPages.toString())}get focusTrapTabIndex(){return this.focusGroup.isActive?"0":"-1"}onFocusIn(e){this.navigationService.enabled&&(e.target===this.element.nativeElement?(this._isFocused=!0,this.focusRoot.deactivate()):this.focusRoot.activate())}onFocusOut(){this.navigationService.enabled&&(this._isFocused=!1)}onEscape(){this.navigationService.enabled&&(this.focusRoot.deactivate(),this.element.nativeElement.focus())}onEnter(e){this.navigationService.enabled&&e.target===this.element.nativeElement&&(this.focusRoot.activate(),this.focusFirstElement())}navigateToPreviousPage(e){this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.prevPage()}navigateToNextPage(e){this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.nextPage()}navigateToFirstPage(e){this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.changePage(0)}navigateToLastPage(e){this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.changePage(this.totalPages-1)}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get templateContext(){const e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}ngOnInit(){this.subscriptions.add(this.pagerContext.pageChange.subscribe(this.changePage.bind(this))),this.navigationService.enabled&&this.focusRoot.deactivate()}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){hb(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total}),e.template&&(e.template.currentValue?this.clearResponsiveClasses():this.resizeHandler()),e.options&&(this.settings.responsive?this.resizeHandler():this.clearResponsiveClasses())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}changePage(e){this.pageChange.emit(e)}onInnerFocusIn(e,t){this.zone.onStable.pipe(Fg(1)).subscribe(()=>{"start"===t?e.relatedTarget===this.element.nativeElement?this.focusFirstElement():this.focusLastElement():this.focusFirstElement()})}clearResponsiveClasses(){const e=this.element.nativeElement;this.renderer.removeClass(e,"k-pager-sm"),this.renderer.removeClass(e,"k-pager-md")}shouldTriggerPageChange(e,t){return this.navigationService.enabled&&e===this.element.nativeElement&&t}focusFirstElement(){const e=vH(this.element.nativeElement,!0);e&&e.focus()}focusLastElement(){const e=((e,t=!0)=>((e,t,n=!0)=>{let i=null;return mH(e,e=>(t(e)&&(i=e),!1),n),i})(this.element.nativeElement,e=>gH(e,t),!1))(0,!0);e&&e.focus()}updateCellContext(){this.cellContext&&(this.cellContext.focusGroup=this.focusGroup)}};return e.\u0275fac=function(t){return new(t||e)(Ro(PH),Ro(WH),Ro(Wa),Ro(Ja),Ro(ou),Ro(jb),Ro(SH,8),Ro(sH),Ro(Qj))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager"]],hostVars:9,hostBindings:function(e,t){1&e&&$o("focusin",(function(e){return t.onFocusIn(e)}))("focusout",(function(){return t.onFocusOut()}))("keydown.escape",(function(){return t.onEscape()}))("keydown.enter",(function(e){return t.onEnter(e)}))("keydown.arrowleft",(function(e){return t.navigateToPreviousPage(e)}))("keydown.pageup",(function(e){return t.navigateToPreviousPage(e)}))("keydown.arrowright",(function(e){return t.navigateToNextPage(e)}))("keydown.pagedown",(function(e){return t.navigateToNextPage(e)}))("keydown.home",(function(e){return t.navigateToFirstPage(e)}))("keydown.end",(function(e){return t.navigateToLastPage(e)})),2&e&&(Fo("aria-label",t.pagerAriaLabel),ua("k-pager-wrap",t.pagerWrapClass)("k-grid-pager",t.gridPagerClass)("k-widget",t.widgetClass)("k-state-focused",t.isFocused))},inputs:{total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[Ga([{provide:iH,useValue:!0},{provide:sH,deps:[iH],useClass:sH},{provide:Qj,deps:[sH],useClass:Qj}]),Pa],decls:5,vars:5,consts:[["class","k-sr-only",3,"tabindex","focusin",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"resize",4,"ngIf"],[1,"k-sr-only",3,"tabindex","focusin"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"],["pageSizes",""],[3,"resize"]],template:function(e,t){1&e&&(Ao(0,_N,1,2,"div",0),Ao(1,TN,1,2,"ng-container",1),Ao(2,NN,7,6,"ng-container",2),Ao(3,LN,1,2,"div",0),Ao(4,MN,1,0,"kendo-resize-sensor",3)),2&e&&(Lo("ngIf",t.navigationService.enabled),ms(1),Lo("ngIf",null==t.template?null:t.template.templateRef),ms(1),Lo("ngIf",!(null!=t.template&&t.template.templateRef)),ms(1),Lo("ngIf",t.navigationService.enabled),ms(1),Lo("ngIf",t.settings.responsive))},directives:function(){return[Mh,qh,BU,jU,UU,zU,GU,qU,Eb]},encapsulation:2}),e})(),HU=(()=>{class e{constructor(e,t,n){this.localization=e,this.pagerContext=t,this.cd=n,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}textFor(e){return this.localization.get(e)}changePage(e){return this.pagerContext.changePage(e),!1}ngOnInit(){this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e}),e})(),BU=(()=>{let e=class extends HU{constructor(e,t,n,i){super(e,t,n),this.navigationService=i}get disabled(){return 1===this.currentPage||!this.total}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(PH),Ro(Wr),Ro(WH))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-prev-buttons"]],features:[Ta],decls:4,vars:16,consts:[[3,"kendoGridFocusable","title","ngClass","click","keydown.enter"],[3,"ngClass"]],template:function(e,t){1&e&&(Vo(0,"span",0),$o("click",(function(){return 1!==t.currentPage&&t.changePage(0)}))("keydown.enter",(function(){return 1!==t.currentPage&&t.changePage(0)})),Bo(1,"span",1),Ho(),Vo(2,"span",0),$o("click",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)}))("keydown.enter",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)})),Bo(3,"span",1),Ho()),2&e&&(Lo("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerFirstPage"))("ngClass",tc(10,VN,t.disabled)),ms(1),Lo("ngClass",ec(12,HN)),Fo("aria-label",t.textFor("pagerFirstPage")),ms(1),Lo("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerPreviousPage"))("ngClass",tc(13,BN,t.disabled)),ms(1),Lo("ngClass",ec(15,zN)),Fo("aria-label",t.textFor("pagerPreviousPage")))},directives:[xH,Rh],encapsulation:2,changeDetection:0}),e})(),zU=(()=>{let e=class extends HU{constructor(e,t,n,i){super(e,t,n),this.navigationService=i}get disabled(){return this.currentPage===this.totalPages||!this.total}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(PH),Ro(Wr),Ro(WH))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-next-buttons"]],features:[Ta],decls:4,vars:16,consts:[["tabindex","0",3,"kendoGridFocusable","title","ngClass","click","keydown.enter"],[3,"ngClass"]],template:function(e,t){1&e&&(Vo(0,"span",0),$o("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)}))("keydown.enter",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)})),Bo(1,"span",1),Ho(),Vo(2,"span",0),$o("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)}))("keydown.enter",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)})),Bo(3,"span",1),Ho()),2&e&&(Lo("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerNextPage"))("ngClass",tc(10,BN,t.disabled)),ms(1),Lo("ngClass",ec(12,jN)),Fo("aria-label",t.textFor("pagerNextPage")),ms(1),Lo("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerLastPage"))("ngClass",tc(13,UN,t.disabled)),ms(1),Lo("ngClass",ec(15,GN)),Fo("aria-label",t.textFor("pagerLastPage")))},directives:[xH,Rh],encapsulation:2,changeDetection:0}),e})(),jU=(()=>{let e=class extends HU{constructor(e,t,n){super(e,n,t),this.pagerContext=n,this.numbersWrapClass=!0}get buttons(){let e=[];for(let t=this.start;t<=this.end;t++)e.push(t);return e}get end(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}get start(){const e=this.currentPage,t=this.buttonCount;if(e>t){const n=e%t;return 0===n?e-t+1:e-n+1}return 1}pageLabel(e){const t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}onSelectChange(e){const t=e.target,n=Number(t.value);Number.isNaN(n)?this.changePage("previousButtons"===t.value?this.start-2:this.end):this.changePage(n-1)}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Wr),Ro(PH))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-numeric-buttons"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-pager-numbers-wrap",t.numbersWrapClass)},inputs:{buttonCount:"buttonCount"},features:[Ta],decls:8,vars:9,consts:[["kendoGridFocusable","","tabindex","0",1,"k-dropdown","k-pager-nav",3,"value","change"],["class","k-link","value","previousButtons",4,"ngIf"],[3,"value","ngClass",4,"ngFor","ngForOf"],["value","nextButtons","class","k-link",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["value","previousButtons",1,"k-link"],[3,"value","ngClass"],["value","nextButtons",1,"k-link"],["kendoGridFocusable","","tabindex","0",1,"k-link","k-pager-nav",3,"click","keydown.enter"],["kendoGridFocusable","","tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(e,t){1&e&&(Vo(0,"select",0),$o("change",(function(e){return t.onSelectChange(e)})),Ao(1,qN,2,1,"option",1),Ao(2,$N,2,7,"option",2),Ao(3,WN,2,1,"option",3),Ho(),Vo(4,"ul",4),Ao(5,ZN,3,1,"li",5),Ao(6,QN,3,5,"li",6),Ao(7,JN,3,1,"li",5),Ho()),2&e&&(Lo("value",t.currentPage.toString()),ms(1),Lo("ngIf",t.start>1),ms(1),Lo("ngForOf",t.buttons),ms(1),Lo("ngIf",t.end<t.totalPages),ms(1),Lo("ngClass",ec(8,XN)),ms(1),Lo("ngIf",t.start>1),ms(1),Lo("ngForOf",t.buttons),ms(1),Lo("ngIf",t.end<t.totalPages))},directives:[xH,Mh,Nh,Rh],encapsulation:2,changeDetection:0}),e})(),UU=(()=>{let e=class extends HU{constructor(e,t,n,i,s){super(e,t,s),this.pagerContext=t,this.zone=n,this.navigationService=i,this.handleKeyDown=e=>{let t=this.numericInput.value||this.current;e.keyCode===Tb.Enter&&(e.preventDefault(),t!==this.current&&this.zone.run(()=>{this.changePage(t-1)}))},this.handleBlur=()=>{const e=this.numericInput.value;e?e!==this.current&&this.zone.run(()=>{this.changePage(e-1)}):this.numericInput.writeValue(this.current)}}get current(){return this.hasPages?this.currentPage:0}get hasPages(){return 0!==this.totalPages}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(PH),Ro(ou),Ro(WH),Ro(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-input"]],viewQuery:function(e,t){var n;1&e&&Tc(eF,!0),2&e&&Ic(n=Rc())&&(t.numericInput=n.first)},features:[Ta],decls:4,vars:18,consts:[[3,"ngClass"],["kendoGridPagerInput","","tabindex","0","format","n0",3,"kendoGridFocusable","spinners","decimals","disabled","value","min","max","autoCorrect","title","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&(Vo(0,"span",0),Ca(1),Bo(2,"kendo-numerictextbox",1),Ca(3),Ho()),2&e&&(Lo("ngClass",ec(14,eL)),ms(1),xa(" ",t.textFor("pagerPage")," "),ms(1),Lo("kendoGridFocusable",t.hasPages)("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("autoCorrect",!0)("title",t.textFor("pagerPageNumberInputTitle"))("kendoEventsOutsideAngular",nc(15,tL,t.handleKeyDown,t.handleBlur)),ms(1),ka(" ",t.textFor("pagerOf")," ",t.totalPages," "))},directives:[Rh,eF,NU,xH,mb],encapsulation:2}),e})(),GU=(()=>{let e=class extends HU{constructor(e,t,n){super(e,n,t),this.pagerContext=n}get maxItems(){return Math.min(this.currentPage*this.pageSize,this.total)}get currentPageText(){return this.total?(this.currentPage-1)*this.pageSize+1:0}get classes(){return!0}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize=n,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Wr),Ro(PH))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&ua("k-pager-info",t.classes)("k-label",t.classes)},features:[Ta],decls:1,vars:5,template:function(e,t){1&e&&Ca(0),2&e&&Ea("",t.currentPageText," - ",t.maxItems," ",t.textFor("pagerOf")," ",t.total," ",t.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),e})(),qU=(()=>{let e=class extends HU{constructor(e,t,n,i){super(e,n,t),this.pagerContext=n,this.navigationService=i,this._pageSizes=[]}get pageSizes(){return this._pageSizes}set pageSizes(e){let t=[];e.forEach(e=>{t.push("number"==typeof e?{text:e.toString(),value:e}:e)}),this.pageSize&&!t.some(e=>e.value===this.pageSize)&&(t=[{text:this.pageSize.toString(),value:this.pageSize},...t]),this._pageSizes=t}get classes(){return!0}get showInitialPageSize(){return 0===this.pageSizes.filter(e=>"number"==typeof e.value?e.value===Number(this.pageSize):this.total===Number(this.pageSize)).length}pageSizeChange(e){this.pageSize="number"==typeof e?e:this.total,this.pagerContext.changePageSize(this.pageSize)}getValue(e){return"number"==typeof e.value?e.value:this.total}onChanges({total:e,skip:t,pageSize:n}){this.total=e,this.skip=t,this.pageSize="number"==typeof n?n:this.total,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Wr),Ro(PH),Ro(WH))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&ua("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[Ta],decls:3,vars:5,consts:[["kendoGridPagerDropDown","","tabindex","0","kendoGridFocusable","","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange"],["dropdownlist",""],[3,"for","text"]],template:function(e,t){if(1&e&&(Vo(0,"kendo-dropdownlist",0,1),$o("valueChange",(function(e){return t.pageSizeChange(e)})),Ho(),Bo(2,"kendo-label",2)),2&e){const e=Oo(1);Lo("data",t.pageSizes)("valuePrimitive",!0)("value",t.pageSize),ms(2),Lo("for",e)("text",t.textFor("pagerItemsPerPage"))}},directives:[WE,LU,xH,xR],encapsulation:2,changeDetection:0}),e})();const KU=[$h,pF,kR,cI,Ib,uU];let $U=(()=>{let e=class{static exports(){return[VU,BU,zU,jU,UU,GU,qU,lz,LU,NU]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...KU]]}),e})(),WU=(()=>{let e=class{constructor(e,t){this.groupsService=e,this.groupInfoService=t,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.isExpanded=!1}get groupItemClass(){return!0}ngDoCheck(){const e={group:this.item.data,groupIndex:this.item.index,parentGroup:OH(this.item.parentGroup)};this.isExpanded=this.groupsService.isExpanded(e)}prefixGroupCell(e){return new Array(e.level)}toggleGroup(e){return this.groupsService.toggleRow(e),!1}groupSpan(e){const t=(this.groups||[]).length,n=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return t+1+n-e.level;let i=EB(this.columns);return this.skipGroupDecoration?i:t+i+n-e.level}logicalColSpan(){return this.skipGroupDecoration?1:this.totalColumnsCount}ariaRole(){return this.skipGroupDecoration?"presentation":"gridcell"}formatForGroup(e){return this.groupInfoService.formatForGroup(e)}groupTitle(e){return this.groupInfoService.groupTitle(e)}groupHeaderTemplate(e){return this.groupInfoService.groupHeaderTemplate(e)}};return e.\u0275fac=function(t){return new(t||e)(Ro(RH),Ro(tz))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridGroupHeader",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grouping-row",t.groupItemClass)},inputs:{skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",groups:"groups",rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns"},attrs:nL,decls:3,vars:3,consts:[[3,"ngIf"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],[4,"ngIf"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",1,"k-icon",3,"ngClass","click"],[3,"templateContext"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ao(0,sL,1,1,"ng-template",0),Ao(1,uL,3,9,"td",1),Ao(2,fL,2,1,"ng-container",2)),2&e&&(Lo("ngIf",!t.skipGroupDecoration),ms(1),Lo("ngIf",!(t.skipGroupDecoration&&t.hasGroupHeaderColumn)),ms(1),Lo("ngIf",t.hasGroupHeaderColumn))},directives:[Mh,Nh,Xj,Rh,Yj,qh],pipes:[iU],encapsulation:2}),e})(),ZU=(()=>{let e=class{constructor(e,t){this.element=e,this.service=t,this.context={},this.enter=new gc,this.leave=new gc,this.drop=new gc,this.subscriptions=new h}ngOnInit(){this.service.add(this);const e=this.service.changes.pipe(hg(({target:e})=>e===this));this.subscriptions.add(e.pipe(hg(({type:e})=>"leave"===e)).subscribe(e=>{this.leave.next(this.eventArgs(e))})),this.subscriptions.add(e.pipe(hg(({type:e})=>"enter"===e)).subscribe(e=>{this.enter.next(this.eventArgs(e))})),this.subscriptions.add(e.pipe(hg(({type:e})=>"drop"===e)).subscribe(e=>{this.drop.next(this.eventArgs(e))}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}eventArgs(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Fz))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),e})();const YU=({field:e})=>BV(e),QU=({groups:e,field:t})=>e.some(e=>e.field===t),JU=$V(({target:e,field:t})=>e.field===t,WV(({target:e})=>e.lastTarget,({groups:e,field:t})=>e.map(e=>e.field).indexOf(t)===e.length-1));let XU=(()=>{let e=class{constructor(e,t,n,i,s){this.hint=e,this.cue=t,this.groupInfoService=n,this.localization=i,this.cd=s,this.change=new gc,this.groups=[],this.dropTargets=new vc,this.groupTitles=[],this.subscription=new h}get groupHeaderClass(){return!0}set text(e){this.emptyText=e}get text(){return this.emptyText?this.emptyText:this.localization.get("groupPanelEmpty")}ngAfterViewInit(){this.subscription.add(zV(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngOnInit(){this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngDoCheck(){const e=this.groups.map(e=>this.groupInfoService.groupTitle(e));(e.length!==this.groupTitles.length||e.some((e,t)=>e!==this.groupTitles[t]))&&(this.groupTitles=e,this.cd.markForCheck())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe()}directionChange(e){const t=this.groups.findIndex(t=>t.field===e.field),n=[...this.groups.slice(0,t),e,...this.groups.slice(t+1)];this.change.emit(n)}insert(e,t){const n=this.groups.filter(t=>t.field!==e);(n.length||0===this.groups.length)&&this.change.emit([...n.slice(0,t),{field:e},...n.slice(t)])}remove(e){this.change.emit(this.groups.filter(t=>t.field!==e.field))}canDrop(e,t){var n;return!("groupIndicator"===e.type?JU:$V(YU,QU,(n=this.groupInfoService,({field:e})=>!n.isGroupable(e))))({field:e.field,groups:this.groups,target:t})}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new h;const e=this.dropTargets.reduce((e,t)=>$(e,t.enter),z([])),t=this.dropTargets.reduce((e,t)=>$(e,t.leave),z([])),n=this.dropTargets.reduce((e,t)=>$(e,t.drop),z([]));this.targetSubscription.add(e.pipe(Gg(e=>this.hint.removeLock()),hg(({draggable:e,target:t})=>this.canDrop(e.context,t.context)),Gg(this.enter.bind(this)),Kb(n.pipe(Ub(t.pipe(Gg(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}enter({draggable:e,target:t}){this.hint.enable();let n=t.context.lastTarget||Iz(e.element.nativeElement,t.element.nativeElement);this.localization.rtl&&(n=!n),this.cue.position(Tz(t.element.nativeElement,n))}leave(){this.hint.disable(),this.cue.hide()}drop({target:e,draggable:t}){const n=t.context.field,i=this.dropTargets.toArray().indexOf(e);this.insert(n,i)}};return e.\u0275fac=function(t){return new(t||e)(Ro(Oz),Ro(Rz),Ro(tz),Ro(jb),Ro(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,t){var n;1&e&&Tc(ZU,!0),2&e&&Ic(n=Rc())&&(t.dropTargets=n)},hostVars:4,hostBindings:function(e,t){2&e&&ua("k-grouping-header",t.groupHeaderClass)("k-grouping-header-flex",t.groupHeaderClass)},inputs:{groups:"groups",text:"text"},outputs:{change:"change"},decls:3,vars:3,consts:[[3,"ngIf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngFor","ngForOf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngIf"],["kendoDropTarget","",1,"k-indicator-container",3,"context"],["kendoDraggableColumn","","kendoGroupIndicator","","kendoDraggable","",3,"enableDrag","context","group","groupTitle","directionChange","remove"]],template:function(e,t){1&e&&(Ao(0,mL,2,3,"ng-template",0),Ao(1,bL,2,10,"div",1),Ao(2,wL,2,2,"div",2)),2&e&&(Lo("ngIf",0===t.groups.length),ms(1),Lo("ngForOf",t.groups),ms(1),Lo("ngIf",0!==t.groups.length))},directives:function(){return[Mh,Nh,ZU,oG,eG,fb]},encapsulation:2,changeDetection:0}),e})(),eG=(()=>{let e=class{constructor(){this.directionChange=new gc,this.remove=new gc}get groupIndicatorClass(){return!0}get dir(){return this.group.dir?this.group.dir:"asc"}toggleDirection(){return this.directionChange.emit({dir:"asc"===this.dir?"desc":"asc",field:this.group.field}),!1}removeDescriptor(){return this.remove.emit({dir:this.group.dir,field:this.group.field}),!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGroupIndicator",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-group-indicator",t.groupIndicatorClass)},inputs:{group:"group",groupTitle:"groupTitle"},outputs:{directionChange:"directionChange",remove:"remove"},attrs:CL,decls:5,vars:5,consts:[["href","#","tabindex","-1",1,"k-link",3,"click"],[1,"k-icon"],["tabindex","-1",1,"k-button","k-button-icon","k-bare",3,"click"],[1,"k-icon","k-i-group-delete"]],template:function(e,t){1&e&&(Vo(0,"a",0),$o("click",(function(){return t.toggleDirection()})),Bo(1,"span",1),Ca(2),Ho(),Vo(3,"a",2),$o("click",(function(){return t.removeDescriptor()})),Bo(4,"span",3),Ho()),2&e&&(ms(1),ua("k-i-sort-asc-sm","asc"===t.dir)("k-i-sort-desc-sm","desc"===t.dir),ms(1),xa(" ",t.groupTitle,""))},encapsulation:2,changeDetection:0}),e})();const tG=e=>t=>new RegExp(`(^| )${e}( |$)`).test(t.className),nG=$V(tG("k-i-group-delete"),tG("k-button-icon")),iG=$V(tG("k-i-sort-asc-sm"),tG("k-i-sort-desc-sm")),sG=WV(KV(nG),KV(iG),KV(gH),KV(uH("label"))),rG=({clientX:e,clientY:t})=>document.elementFromPoint(e,t);let oG=(()=>{let e=class{constructor(e,t,n,i,s,r,o,a){this.draggable=e,this.element=t,this.zone=n,this.service=i,this.hint=s,this.cue=r,this.nav=o,this.renderer=a,this.context={},this.drag=new gc,this.subscriptions=new h}set enableDrag(e){this.enabled=e,this.updateTouchAction()}get hostClass(){return this.enabled}ngOnInit(){this.subscriptions.add(this.zone.runOutsideAngular(()=>{return this.draggable.kendoPress.pipe(hg(e=>this.enabled),hg(({originalEvent:{target:e}})=>e===this.element.nativeElement||sG(e)),Gg(e=>{const t=e.originalEvent;e.isTouch||t.preventDefault(),this.nav.navigateTo(t.target)}),Ng((e=this.draggable.kendoRelease,t=>tg(t).pipe(Qb(150),Ub(e)))),Gg(e=>{this.hint.create(this.context.hint),this.cue.create()}),Ng(e=>this.draggable.kendoDrag.pipe(Gg(e=>{e.isTouch&&e.originalEvent.preventDefault()}),Gg(this.hint.attach()),Gg(this.cue.attach()),Ub(this.draggable.kendoRelease),M(t=>({move:t,down:e})))),Gg(this.performDrag.bind(this)),Kb(this.draggable.kendoRelease)).subscribe(this.drop.bind(this));var e}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}drop(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}performDrag({move:e}){this.hint.move(e);const t=this.elementUnderCursor(e);t&&this.service.notifyDrag(this,t,e),this.drag.emit({draggable:this,mouseEvent:e})}elementUnderCursor(e){this.hint.hide();let t=rG(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=((e,t)=>{e.style.display="none";const n=t();return e.style.display="block",n})(t,rG.bind(this,e))),this.hint.show(),t}updateTouchAction(){this.element&&(this.enabled?this.renderer.addClass(this.element.nativeElement,"k-touch-action-none"):this.renderer.removeClass(this.element.nativeElement,"k-touch-action-none"))}};return e.\u0275fac=function(t){return new(t||e)(Ro(fb,1),Ro(Wa),Ro(ou),Ro(Fz),Ro(Oz),Ro(Rz),Ro(WH),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),e})(),aG=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),lG=(()=>{let e=class{static exports(){return[nB,iB,rB]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,uU,aG]]}),e})();const cG={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},uG=(...e)=>Object.assign({},cG,...e),hG=(e,t)=>!1!==e.filter&&t.field&&t.filterable,dG=(e,t)=>!1!==e.sort&&t.field&&t.sortable,pG=(e,t)=>e.lock&&t.lockable&&!(t.parent&&!t.parent.isSpanColumn),fG=e=>!1!==e.columnChooser;let gG=(()=>{let e=class{constructor(e,t,n,i){this.filterService=e,this.popupService=t,this.localization=n,this.navigationService=i,this.tabIndex="-1"}get hasFilters(){return xj(this.filter,(this.column||{}).field).length>0}get filterLabel(){const e=this.localization.get("filterMenuTitle")||"";return eH(e,"columnName",this.column.title||this.column.field)}toggle(e,t){return this.popupRef=this.popupService.open(e,t,this.popupRef),this.popupRef||(this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()),!1}close(){this.popupService.destroy(),this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}};return e.\u0275fac=function(t){return new(t||e)(Ro(az),Ro(xz),Ro(jb),Ro(WH))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu"]],viewQuery:function(e,t){var n;1&e&&(_c(SL,!0),_c(xL,!0,yl)),2&e&&(Ic(n=Rc())&&(t.anchor=n.first),Ic(n=Rc())&&(t.template=n.first))},inputs:{tabIndex:"tabIndex",column:"column",filter:"filter"},decls:5,vars:5,consts:[["href","#",3,"ngClass","tabindex","click","keydown.enter"],["anchor",""],[1,"k-icon","k-i-filter"],["template",""],[3,"column","filter","close","keydown.escape","keydown.enter"]],template:function(e,t){if(1&e){const e=Go();Vo(0,"a",0,1),$o("click",(function(){Qt(e);const n=Oo(1),i=Oo(4);return t.toggle(n,i)}))("keydown.enter",(function(e){return e.stopImmediatePropagation()})),Bo(2,"span",2),Ho(),Ao(3,kL,1,2,"ng-template",null,3,Mc)}2&e&&(Lo("ngClass",tc(3,EL,t.hasFilters))("tabindex",t.tabIndex),Fo("title",t.filterLabel))},directives:function(){return[Rh,OG]},encapsulation:2}),e})(),mG=(()=>{let e=class{constructor(e){this.closeMenu=new gc,this.menuTabbingService=e}close(){this.closeMenu.emit()}};return e.\u0275fac=function(t){return new(t||e)(We(oz))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),vG=(()=>{let e=class{constructor(e,t,n,i){this.popupService=e,this.localization=t,this.service=n,this.navigationService=i,this.standalone=!0,this.settings={},this.sortable=!0,this.tabIndex="-1",this.expandedFilter=!1,this.expandedColumns=!1,this.expandedPosition=!1,this.closeSubscription=n.closeMenu.subscribe(this.close.bind(this))}get isActive(){return this.hasFilter&&xj(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find(e=>e.field===this.column.field)}get hasFilter(){return hG(this.settings,this.column)}get hasSort(){return dG(this.settings,this.column)}get hasColumnChooser(){return fG(this.settings)}get hasLock(){return pG(this.settings,this.column)}get hasStick(){return e=this.column,this.settings.stick&&e.stickable&&!(e.parent&&!e.parent.isSpanColumn);var e}get hasPosition(){return e=this.column,this.settings.setColumnPosition&&(e.stickable||e.lockable)&&!(e.parent&&!e.parent.isSpanColumn);var e}ngOnChanges(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}ngOnDestroy(){this.close(),this.closeSubscription.unsubscribe()}toggle(e,t,n){e&&(e.preventDefault(),e.stopImmediatePropagation()),this.expandedFilter=this.getExpandedState(this.settings.filter),this.expandedColumns=this.getExpandedState(this.settings.columnChooser),this.expandedPosition=this.getExpandedState(this.settings.setColumnPosition),this.popupRef=this.popupService.open(t,n,this.popupRef,"k-grid-columnmenu-popup"),this.popupRef||(this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus())}close(){this.popupService.destroy(),this.popupRef=null,this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}get columnMenuTitle(){const e=this.localization.get("columnMenu")||"";return eH(e,"columnName",this.column.title||this.column.field)}getExpandedState(e){return"object"==typeof e&&e.expanded}};return e.\u0275fac=function(t){return new(t||e)(Ro(xz),Ro(jb),Ro(mG),Ro(WH))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-menu"]],viewQuery:function(e,t){var n;1&e&&(_c(SL,!0),_c(xL,!0,yl)),2&e&&(Ic(n=Rc())&&(t.anchor=n.first),Ic(n=Rc())&&(t.template=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",tabIndex:"tabIndex",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[Ga([mG,oz]),Pa],decls:7,vars:5,consts:[["href","#",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","tabindex","click","keydown.enter"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"keydown.escape","keydown.enter"],[3,"kendoGridColumnMenuItem","service",4,"ngIf"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"kendoGridColumnMenuItem","service"],["sortItem",""],["lockItem",""],["stickItem",""],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded"],["positionItem",""],[3,"kendoGridColumnMenuItem","service","expanded"],["chooserItem",""],["filterItem",""]],template:function(e,t){if(1&e){const e=Go();Vo(0,"a",0,1),$o("click",(function(n){Qt(e);const i=Oo(1),s=Oo(4);return t.toggle(n,i,s)}))("keydown.enter",(function(e){return e.stopImmediatePropagation()})),Bo(2,"span",2),Ho(),Ao(3,_L,1,5,"ng-template",null,3,Mc),Ao(5,PL,7,6,"ng-template",null,4,Mc)}2&e&&(Lo("ngClass",tc(3,NL,t.isActive))("tabindex",t.tabIndex),Fo("title",t.columnMenuTitle))},directives:function(){return[Rh,qh,nq,Mh,JG,tq,XG,iq,eq,WG,ZG]},encapsulation:2}),e})();const yG=(...e)=>Object.assign.apply(null,[{}].concat(e)),bG=(e,t)=>e.parent===t.parent||DB(t)&&bG(e,t.parent),wG=({draggable:e,target:t})=>!1!==e.context.column.lockable||e.context.column.isLocked===t.context.column.isLocked,CG=WV(({draggable:e})=>["column","columnGroup"].indexOf(e.context.type)>=0,({draggable:e})=>e.context.column.reorderable,({draggable:e})=>!DB(e.context.column),({draggable:e,target:t})=>e.element.nativeElement!==t.element.nativeElement,({draggable:e,target:t})=>bG(e.context.column,t.context.column),KV(({draggable:e})=>!HV(e.context.column.locked)&&(({parent:e})=>!HV(e))(e.context.column)&&e.context.lastColumn),wG);let SG=(()=>{let e=class{constructor(e,t,n,i,s,r,o,a,l){this.popupService=e,this.hint=t,this.cue=n,this.reorderService=i,this.idService=s,this.sortService=r,this.localization=o,this.columnInfoService=a,this.cd=l,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.sortedFields={},this.dropTargets=new vc,this.subscription=new h}get headerClass(){return!this.scrollable}get sortableLabel(){return this.localization.get("sortable")}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}sortColumn(e){this.sortService.sort(this.toggleSort(e))}onSortClick(e,t,n){const i=t.target;e.headerTemplateRef&&i!==n&&Boolean(dH(i,fH,n))||this.sortColumn(e)}onHeaderKeydown(e,t){if(t.keyCode===Tb.ArrowDown&&t.altKey&&this.showFilterMenu){t.preventDefault(),t.stopImmediatePropagation();const n=this.filterMenus.find(t=>t.column===e);n.toggle(n.anchor.nativeElement,n.template)}if(t.keyCode===Tb.ArrowDown&&t.altKey&&this.showColumnMenu(e)){t.preventDefault(),t.stopImmediatePropagation();const n=this.columnMenus.find(t=>t.column===e);n.toggle(null,n.anchor.nativeElement,n.template)}this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===Tb.Enter&&LV(e.field)&&this.sortService.sort(this.toggleSort(e))}showSortNumbering(e){const{showIndexes:t}=uG(this.sortable);return t&&this.sort&&this.sort.filter(({dir:e})=>LV(e)).length>1&&this.sortOrder(e.field)>0}sortOrder(e){return this.sort.filter(({dir:e})=>LV(e)).findIndex(t=>t.field===e)+1}sortIcon(e){const t=this.sortDescriptor(e);return{"k-icon":LV(t.dir),"k-i-sort-desc-sm":"desc"===t.dir,"k-i-sort-asc-sm":"asc"===t.dir}}sortState(e){if(!this.isSortable(e))return;const t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}sortStatus(e){if(!this.sortedFields[e.field]||!this.isSortable(e))return;let t="sortedDefault";const n=this.sortDescriptor(e.field);return"asc"===n.dir?t="sortedAscending":"desc"===n.dir&&(t="sortedDescending"),this.localization.get(t)}toggleSort(e){const{allowUnsort:t,mode:n,initialDirection:i}=uG(this.sortable,e.sortable),s=this.toggleDirection(e.field,t,i);return"single"===n?[s]:[...this.sort.filter(t=>t.field!==e.field),s]}ngAfterViewInit(){this.subscription.add(zV(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){this._leafColumns=SB(this.columns||[]).filter(e=>!OB(e))}ngOnChanges(e){const t=e.sort;t&&!t.isFirstChange()&&t.currentValue.forEach(e=>{this.sortedFields[e.field]=!0})}ngOnInit(){this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}selectAllCheckboxId(){return this.idService.selectAllCheckboxId()}get selectAllCheckboxLabel(){return this.localization.get("selectAllCheckboxLabel")}isFirstOnRow(e,t){const n=e=>e&&(this.columnsForLevel(e.level).indexOf(e)>0||n(e.parent));return 0===t&&!this.groups.length&&!this.detailTemplate&&n(e.parent)}logicalColumnIndex(e){const t=e.leafIndex;return LV(t)?t+(LV(this.detailTemplate)?1:0):-1}get showFilterMenu(){return!this.columnMenu&&"string"==typeof(e=this.filterable)&&e.indexOf("menu")>-1;var e}get showFilterRow(){return Cz(this.filterable)}showColumnMenu(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||((e,t)=>fG(e)||pG(e,t)||dG(e,t)||hG(e,t))(this.columnMenu,e))}isFilterable(e){return!BV(e.field)&&!0===e.filterable}canDrop(e,t){return this.reorderable&&CG({draggable:e,target:t})}shouldActivate(e){const t=this.reorderable&&e.reorderable;return!(!t&&!gB(e))&&(this.groupable&&gB(e)&&!1!==e.groupable||t)}isSortable(e){return!BV(e.field)&&HV(this.sortable)&&HV(e.sortable)}isCheckboxColumn(e){return uB(e)&&!e.templateRef}trackByIndex(e,t){return e}addStickyStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}toggleDirection(e,t,n){const i=this.sortDescriptor(e),[s,r]=(e=>"asc"===e?["asc","desc"]:["desc","asc"])(n);let o=s;return i.dir===s?o=r:i.dir===r&&t&&(o=void 0),{dir:o,field:e}}columnsForLevel(e){const t=this.columns?this.columns.filter(t=>t.level===e):[];return FB(SB(t))}isColumnGroupComponent(e){return OB(e)}get columnLevels(){return new Array((this.totalColumnLevels||0)+1)}sortDescriptor(e){return this.sort.find(t=>t.field===e)||{field:e}}get leafColumns(){return this._leafColumns}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new h;const e=$(...this.dropTargets.map(e=>e.enter)),t=$(...this.dropTargets.map(e=>e.leave)),n=$(...this.dropTargets.map(e=>e.drop));this.targetSubscription.add(e.pipe(Gg(({target:e,draggable:t})=>{if("groupIndicator"===t.context.type)return;const n=HV(e.context.column.isLocked),i=HV(t.context.column.isLocked);(this.lockedColumnsCount>0||n||i)&&this.hint.toggleLock(n)}),hg(({draggable:e,target:t})=>this.canDrop(e,t)),Ng(this.trackMove.bind(this,t,n)),M(e=>yG(e,{before:this.calculateBefore(e),changeContainer:e.changeContainer})),M(this.normalizeTarget.bind(this)),Gg(this.enter.bind(this)),Ng(e=>n.pipe(M(()=>e),Ub(t.pipe(Gg(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}normalizeTarget(e){let t=e.target;const n=t.context.column.parent;if(n&&n.isSpanColumn){const i=this.dropTargets.toArray(),s=i.find(e=>e.context.column.parent===n),r=i.indexOf(s);t=i[r+(e.before?0:n.childColumns.length-1)]}return yG(e,{target:t})}trackMove(e,t,n){const i=n.target.context.column,s=this.columnsForLevel(i.level),r=s.indexOf(i),o=n.draggable.context.column.isLocked!==i.isLocked;return o&&(i.locked?r===s.length-1:0===r)?n.draggable.drag.pipe(Ub(e),Ub(t),M(({mouseEvent:e})=>yG({changeContainer:!0},n,{mouseEvent:e}))):tg(yG({changeContainer:o},n))}calculateBefore({draggable:e,target:t,mouseEvent:n,changeContainer:i=!1}){const s=t.element.nativeElement;let r=!1;if(i){const{left:e}=Ez(s);r=e+s.offsetWidth/2>n.pageX,this.localization.rtl&&(r=!r)}else r=Iz(e.element.nativeElement,s);return r}enter({target:e,before:t}){this.hint.enable(),this.localization.rtl&&(t=!t),this.cue.position(Tz(e.element.nativeElement,t))}leave(){this.hint.disable(),this.cue.hide()}drop({draggable:e,target:t,before:n,changeContainer:i}){this.reorderService.reorder({before:n,changeContainer:i,source:e.context.column,target:t.context.column})}};return e.\u0275fac=function(t){return new(t||e)(Ro(xz),Ro(Oz),Ro(Rz),Ro(Pz),Ro(Vz),Ro(zz),Ro(jb),Ro(Bz),Ro(Wr))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,t){var n;1&e&&(Tc(ZU,!0),Tc(gG,!0),Tc(vG,!0)),2&e&&(Ic(n=Rc())&&(t.dropTargets=n),Ic(n=Rc())&&(t.filterMenus=n),Ic(n=Rc())&&(t.columnMenus=n))},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grid-header",t.headerClass)},inputs:{columns:"columns",groups:"groups",sort:"sort",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",totalColumnsCount:"totalColumnsCount",totalColumnLevels:"totalColumnLevels",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",filter:"filter",columnMenuTemplate:"columnMenuTemplate",tabIndex:"tabIndex"},features:[Pa],attrs:LL,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-group-cell k-header","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header","role","presentation","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header"],["role","presentation","kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-header",3,"logicalRowIndex","logicalColIndex"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","k-filterable","k-first","k-grid-header-sticky","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","k-first","k-filterable","k-grid-content-sticky","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle","keydown"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[3,"column","filter","tabIndex",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex",4,"ngIf"],[3,"templateContext"],[3,"column","filter","tabIndex"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex"],[1,"k-cell-inner"],[1,"k-link",3,"click"],["link",""],[3,"ngClass"],["class","k-sort-order",4,"ngIf"],["role","status",1,"k-sort-status",2,"position","absolute","left","-10000px",3,"innerHtml"],[1,"k-column-title"],[1,"k-sort-order"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"]],template:function(e,t){1&e&&Ao(0,uM,2,2,"ng-template",0),2&e&&Lo("ngIf",!0)},directives:function(){return[Mh,Nh,tU,Xj,ZU,fb,oG,Rh,Gh,Yj,gG,vG,TG,xH,_G,pj]},styles:[".k-column-resizer[_ngcontent-%COMP%] {\n            cursor: col-resize;\n            display: block;\n            height: 1000%;\n            position: absolute;\n            top: 0;\n            width: .5em;\n        }"]}),e})();const xG=e=>e.nativeElement.parentElement.offsetWidth,kG=e=>wB(e).filter(e=>!e.isColumnGroup),EG=({originalEvent:e})=>{e.stopPropagation(),e.preventDefault()},IG=e=>!(!e.parent||!e.parent.isSpanColumn);let _G=(()=>{let e=class{constructor(e,t,n,i,s,r){this.draggable=e,this.element=t,this.service=n,this.zone=i,this.cdr=s,this.localization=r,this.columns=[],this.subscriptions=new h,this.rtl=!1}get visible(){return this.column.resizable?"block":"none"}get leftStyle(){return HV(this.rtl)?0:null}get rightStyle(){return HV(this.rtl)?null:0}autoFit(){const e=kG(this.columns),t=_B([this.column]).filter(e=>HV(e.resizable)),n=t.map(t=>{const n=IG(t),i=!!n&&t.parent.childColumns.last===t,s=((e,t)=>{let n=0,i=0,s=0;for(;n<t.length;){const r=t[n],o=IG(r);if(r===e)break;i--<=0&&o&&(i=r.parent.childColumns.length-1,s+=i),n++}return n-s})(t,e);return{column:t,headerIndex:this.columnsForLevel(t.level).indexOf(t),index:s,isLastInSpan:i,isParentSpan:n,level:t.level}});t.forEach(e=>e.width=0),this.service.measureColumns(n)}ngOnInit(){const e=this.service.changes.pipe(hg(()=>this.column.resizable),hg(e=>LV(e.columns.find(e=>e===this.column))));this.subscriptions.add(e.pipe(hg(e=>"start"===e.type)).subscribe(this.initState.bind(this))),this.subscriptions.add(e.pipe(hg(e=>"resizeColumn"===e.type)).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(hg(e=>"start"===e.type),hg(this.shouldUpdate.bind(this)),Fg(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular(()=>{return this.draggable.kendoPress.pipe(Gg(EG),Gg(()=>this.service.start(this.column)),Ng((e=this.draggable.kendoRelease,t=>tg(t).pipe(Qb(150),Ub(e)))),Ng(((e,t)=>n=>t.kendoDrag.pipe(Ub(t.kendoRelease.pipe(Gg(()=>e.end()))),M(({pageX:e})=>({originalX:n.pageX,pageX:e}))))(this.service,this.draggable))).subscribe(({pageX:e,originalX:t})=>{this.service.resizeColumns((e-t)/(this.column.resizeStartWidth||this.column.width)*100)});var e})),this.subscriptions.add(e.pipe(hg(e=>"autoFitComplete"===e.type)).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(e.pipe(hg(e=>"triggerAutoFit"===e.type)).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}shouldUpdate(){return!kG(this.columns).map(e=>e.width).some(MV)}initColumnWidth(){this.column.width=xG(this.element)}initState(){this.column.resizeStartWidth=xG(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}resize({deltaPercent:e}){let t=((e,t)=>{const n=t<0?-1:1;return Math.ceil(Math.abs(t)/100*e)*n})(this.column.resizeStartWidth,e);HV(this.rtl)&&(t*=-1);const n=Math.max(this.column.resizeStartWidth+t,this.column.minResizableWidth),i=n>this.column.minResizableWidth?t:this.column.minResizableWidth-this.column.resizeStartWidth;this.updateWidth(this.column,n),this.service.resizeTable(this.column,i)}sizeToFit({columns:e,widths:t}){const n=e.indexOf(this.column),i=Math.max(...t.map(e=>e[n]))+1,s=i-this.column.resizeStartWidth;this.updateWidth(this.column,i),this.service.resizeTable(this.column,s)}updateWidth(e,t){e.width=t,this.cdr.markForCheck()}columnsForLevel(e){return SB(this.columns?this.columns.filter(t=>t.level===e):[])}};return e.\u0275fac=function(t){return new(t||e)(Ro(fb,1),Ro(Wa),Ro(wz),Ro(ou),Ro(Wr),Ro(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&$o("dblclick",(function(){return t.autoFit()})),2&e&&ca("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),e})(),TG=(()=>{let e=class{constructor(e,t,n,i){this.selectionService=e,this.el=t,this.renderer=n,this.ngZone=i,this.selectAllChange=new gc,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this))})}ngAfterContentChecked(){this.setState()}ngOnChanges(){this.stateSet=!0}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){const e=!(!(()=>{if(!cb())return;const e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/");return t>0||n>0})()||void 0!==this.selectionService.selectAllState)||this.el.nativeElement.checked,t=this.selectionService.options;this.selectAllChange.emit(e?"checked":"unchecked"),t.enabled&&"multiple"===t.mode&&this.ngZone.run(()=>{this.selectionService.updateAll(e)})}setState(){const e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,t=this.el.nativeElement;this.renderer.setProperty(t,"indeterminate",!LV(e)),this.renderer.setProperty(t,"checked",!!LV(e)&&e)}stateToBool(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}};return e.\u0275fac=function(t){return new(t||e)(Ro(ZH),Ro(Wa),Ro(Ja),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&Fo("type",t.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[Pa]}),e})();const FG=({value:e,operator:t})=>!BV(e)||(e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e)(t),DG=(e,t,n)=>e.reduce((e,i)=>e||(i.filters?DG(i.filters,t,i):i.field===t?n:e),void 0),AG=(e,t,n="and")=>{const i=DG((e||{}).filters||[],t);return LV(i)?i.logic:n};let OG=(()=>{let e=class{constructor(e,t,n,i,s){this.parentService=e,this.childService=t,this.localization=n,this.cd=i,this.close=new gc,this.actionsClass="k-action-buttons k-button-group",this._templateContext={},this.menuTabbingService=s}get filter(){return this._filter}set filter(e){this._filter=fj(e)}get childFilter(){return LV(this._childFilter)||(this._childFilter={filters:xj(this.filter,(this.column||{}).field),logic:AG(this.filter,(this.column||{}).field)}),this._childFilter}ngOnInit(){this.subscription=this.childService.changes.subscribe(e=>this._childFilter=e),this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngAfterViewChecked(){(!this.menuTabbingService.isColumnMenu||this.isLast&&this.isExpanded)&&(this.menuTabbingService.lastFocusable=this.disabled?this.resetButton.nativeElement:this.filterButton.nativeElement)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.menuTabbingService.lastFocusable=void 0}get disabled(){return!this.childFilter.filters.some(FG)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}get hasTemplate(){return LV(this.column)&&LV(this.column.filterMenuTemplateRef)}submit(){const e=(e=>(e.filters=e.filters.filter(FG),e))(this.childFilter);if(e.filters.length){const t=this.filter||{filters:[],logic:"and"};kj(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}reset(){const e=this.filter||{filters:[],logic:"and"};kj(e,this.column.field),this.parentService.filter(e),this.close.emit()}onTab(e,t){!this.menuTabbingService.firstFocusable||this.menuTabbingService.isColumnMenu&&!this.isLast||(e.preventDefault(),"reset"===t?this.disabled?this.menuTabbingService.firstFocusable.focus():this.filterButton.nativeElement.focus():this.menuTabbingService.firstFocusable.focus())}get clearText(){return this.localization.get("filterClearButton")}get filterText(){return this.localization.get("filterFilterButton")}};return e.\u0275fac=function(t){return new(t||e)(Ro(az,4),Ro(az),Ro(jb),Ro(Wr),Ro(oz))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu-container"]],viewQuery:function(e,t){var n;1&e&&(Tc(hM,!0),Tc(dM,!0)),2&e&&(Ic(n=Rc())&&(t.resetButton=n.first),Ic(n=Rc())&&(t.filterButton=n.first))},inputs:{actionsClass:"actionsClass",menuTabbingService:"menuTabbingService",filter:"filter",column:"column",isLast:"isLast",isExpanded:"isExpanded"},outputs:{close:"close"},features:[Ga([az,oz])],decls:12,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button",3,"keydown.tab"],["resetButton",""],["type","submit",1,"k-button","k-primary",3,"disabled","keydown.tab"],["filterButton",""],["kendoFilterMenuHost","",3,"filterService","column","filter","menuTabbingService"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Vo(0,"form",0),$o("submit",(function(){return t.submit()}))("reset",(function(){return t.reset()})),Vo(1,"div",1),zo(2,2),Ao(3,pM,2,4,"ng-container",3),Ao(4,mM,2,1,"ng-container",3),jo(),Vo(5,"div",4),Vo(6,"button",5,6),$o("keydown.tab",(function(e){return t.onTab(e,"reset")})),Ca(8),Ho(),Vo(9,"button",7,8),$o("keydown.tab",(function(e){return t.onTab(e,"filter")})),Ca(11),Ho(),Ho(),Ho(),Ho()),2&e&&(ms(2),Lo("ngSwitch",t.hasTemplate),ms(1),Lo("ngSwitchCase",!1),ms(1),Lo("ngSwitchCase",!0),ms(1),Lo("ngClass",t.actionsClass),ms(3),Sa(t.clearText),ms(1),Lo("disabled",t.disabled),ms(2),Sa(t.filterText))},directives:function(){return[IC,_w,vC,zh,jh,Rh,zG,Mh,qh]},encapsulation:2}),e})(),RG=(()=>{let e=class extends Rj{constructor(e){super(null),this.localizationService=e}get hostClasses(){return!1}ngAfterViewInit(){this.isFirstDropDown&&this.filterService&&this.filterService.menuTabbingService&&(this.filterService.menuTabbingService.firstFocusable=this.firstOperatorDropDown,this.firstOperatorDropDown.focus())}operatorChange(e){this.currentOperator=e}filterChange(e){this.applyFilter(e)}get currentFilter(){return this._currentFilter}set currentFilter(e){this._currentFilter=e}updateFilter(e){return Object.assign(this.currentFilter,e),this.filter}onChange(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onShiftTab(e){e.stopImmediatePropagation(),this.menuTabbingService&&this.menuTabbingService.isColumnMenu||!this.isFirstDropDown||!this.filterService.menuTabbingService.lastFocusable||(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get filterMenuDropDownLabel(){const e=this.localizationService.get("filterMenuOperatorsDropDownLabel")||"";return eH(e,"columnName",this.column?this.column.title||this.column.field:"")}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu-input-wrapper"]],viewQuery:function(e,t){var n;1&e&&Tc(WE,!0),2&e&&Ic(n=Rc())&&(t.firstOperatorDropDown=n.first)},inputs:{currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},features:[Ta],ngContentSelectors:mN,decls:2,vars:4,consts:[["kendoFilterMenuDropDown","","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","value","valuePrimitive","valueChange","keydown.shift.tab"]],template:function(e,t){1&e&&(Jo(),Vo(0,"kendo-dropdownlist",0),$o("valueChange",(function(e){return t.operatorChange(e)}))("keydown.shift.tab",(function(e){return t.onShiftTab(e)})),Ho(),Xo(1)),2&e&&Lo("filterMenuDropDownLabel",t.filterMenuDropDownLabel)("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},directives:function(){return[WE,UG]},encapsulation:2}),e})(),PG=(()=>{let e=class{constructor(e){this.localizationService=e,this.operators=[]}get columnLabel(){const e=this.localizationService.get("filterInputLabel")||"";return eH(e,"columnName",this.column?this.column.title||this.column.field:"")}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},decls:2,vars:11,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",1,"k-textbox",3,"columnLabel","filterDelay","ngModel"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-menu-input-wrapper",0),Bo(1,"input",1),Ho()),2&e&&(Lo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),ms(1),Lo("columnLabel",t.columnLabel)("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[RG,bw,Dj,Iw,EC],encapsulation:2}),e})(),NG=(()=>{let e=class extends Mj{constructor(e){super(null,e),this.logicOperators=wj(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return bj(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return bj(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return eH(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=wj(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ta],decls:3,vars:9,consts:[[3,"currentFilter","operators","filterService","column","filter","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService"]],template:function(e,t){1&e&&(Bo(0,"kendo-grid-string-filter-menu-input",0),Ao(1,vM,1,4,"kendo-dropdownlist",1),Ao(2,yM,1,6,"kendo-grid-string-filter-menu-input",2)),2&e&&(Lo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("isFirstDropDown",!0)("menuTabbingService",t.menuTabbingService),ms(1),Lo("ngIf",t.extra),ms(1),Lo("ngIf",t.extra))},directives:function(){return[PG,Mh,WE,UG]},encapsulation:2}),e})(),LG=(()=>{let e=class extends Tj{constructor(e){super(null,e),this.logicOperators=wj(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return bj(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return bj(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return eH(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=wj(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ta],decls:3,vars:15,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService","isFirstDropDown"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService"]],template:function(e,t){1&e&&(Bo(0,"kendo-grid-numeric-filter-menu-input",0),Ao(1,bM,1,4,"kendo-dropdownlist",1),Ao(2,wM,1,12,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(Lo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step)("menuTabbingService",t.menuTabbingService)("isFirstDropDown",!0),ms(1),Lo("ngIf",t.extra),ms(1),Lo("ngIf",t.extra))},directives:function(){return[MG,Mh,WE,UG]},encapsulation:2}),e})(),MG=(()=>{let e=class{constructor(e){this.localization=e,this.operators=[],this.step=1,this.spinners=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return eH(e,"columnName",this.column?this.column.title||this.column.field:"")}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:3,vars:20,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-menu-input-wrapper",0),Vo(1,"kendo-numerictextbox",1),Bo(2,"kendo-numerictextbox-messages",2),Ho(),Ho()),2&e&&(Lo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),ms(1),Lo("columnLabel",t.columnLabel)("filterDelay",0)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),ms(1),Lo("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},directives:[RG,eF,Dj,iF],encapsulation:2}),e})(),VG=(()=>{let e=class extends qj{constructor(e){super(null,e),this.logicOperators=wj(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return bj(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return bj(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return eH(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=wj(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ta],decls:3,vars:18,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService"]],template:function(e,t){1&e&&(Bo(0,"kendo-grid-date-filter-menu-input",0),Ao(1,CM,1,4,"kendo-dropdownlist",1),Ao(2,SM,1,15,"kendo-grid-date-filter-menu-input",2)),2&e&&(Lo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber)("isFirstDropDown",!0)("menuTabbingService",t.menuTabbingService),ms(1),Lo("ngIf",t.extra),ms(1),Lo("ngIf",t.extra))},directives:function(){return[jG,Mh,WE,UG]},encapsulation:2}),e})(),HG=(()=>{let e=class{constructor(e,t){this.hostElement=e,this.renderer=t}ngAfterViewInit(){this.radioButtonEl=this.hostElement.nativeElement,this.renderer.setAttribute(this.hostElement.nativeElement,"aria-label",this.columnLabel)}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterMenuRadioButton",""]],inputs:{columnLabel:"columnLabel"}}),e})(),BG=(()=>{let e=class extends jj{constructor(e){super(null,e),this.filter={filters:[],logic:"and"},this.idPrefix=pb()}get hostClasses(){return!1}ngAfterViewInit(){this.filterService.menuTabbingService.firstFocusable=this.radioButtons.first.radioButtonEl,this.radioButtons.first.radioButtonEl.focus()}radioId(e){return`${this.idPrefix}_${e}`}onChange(e,t){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e})),this.filterService.menuTabbingService.firstFocusable=t}isSelected(e){return this.filtersByField(this.column.field).some(({value:t})=>t===e)}onShiftTab(e){this.menuTabbingService&&this.menuTabbingService.isColumnMenu||!this.filterService.menuTabbingService.lastFocusable||(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return eH(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-boolean-filter-menu"]],viewQuery:function(e,t){var n;1&e&&Tc(HG,!0),2&e&&Ic(n=Rc())&&(t.radioButtons=n)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ta],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio","kendoFilterMenuRadioButton","",1,"k-radio",3,"columnLabel","name","checked","change","keydown.shift.tab"],["input",""],[1,"k-radio-label"]],template:function(e,t){1&e&&(Vo(0,"ul",0),Ao(1,xM,5,6,"li",1),Ho()),2&e&&(ms(1),Lo("ngForOf",t.items))},directives:[Nh,HG],encapsulation:2}),e})(),zG=(()=>{let e=class extends OU{constructor(e,t){super(e,t)}componentType(){return LV(this.column)&&!BV(this.column.filter)?{boolean:BG,date:VG,numeric:LG,text:NG}[this.column.filter]:NG}initComponent(e){super.initComponent(e),this.component.instance.filterService=this.filterService,this.component.instance.menuTabbingService=this.menuTabbingService}};return e.\u0275fac=function(t){return new(t||e)(Ro(wl),Ro($a))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ta]}),e})(),jG=(()=>{let e=class{constructor(e,t){this.popupService=e,this.localizationService=t,this.operators=[]}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}open(e){this.subscription=this.popupService.onClose.pipe(hg(()=>e.isActive)).subscribe(e=>e.preventDefault())}messageFor(e){return this.localizationService.get(e)}get columnLabel(){const e=this.localizationService.get("filterInputLabel")||"";return eH(e,"columnName",this.column?this.column.title||this.column.field:"")}};return e.\u0275fac=function(t){return new(t||e)(Ro(xz),Ro(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",menuTabbingService:"menuTabbingService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",isFirstDropDown:"isFirstDropDown"},decls:4,vars:22,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""],[3,"toggle","today"]],template:function(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-filter-menu-input-wrapper",0),Vo(1,"kendo-datepicker",1,2),$o("open",(function(){Qt(e);const n=Oo(2);return t.open(n)})),Bo(3,"kendo-datepicker-messages",3),Ho(),Ho()}2&e&&(Lo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),ms(1),Lo("columnLabel",t.columnLabel)("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber),ms(2),Lo("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},directives:[RG,GO,Dj,hR],encapsulation:2}),e})(),UG=(()=>{let e=class{constructor(e){this.host=e,this.keydownHandler=e=>{e.keyCode===Tb.Escape&&this.host.isOpen&&(e.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){const e=this.host.wrapper.nativeElement;e.setAttribute("aria-label",this.filterMenuDropDownLabel),e.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}};return e.\u0275fac=function(t){return new(t||e)(Ro(WE))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterMenuDropDown",""]],inputs:{filterMenuDropDownLabel:"filterMenuDropDownLabel"}}),e})(),GG=(()=>{let e=class{static exports(){return[NG,pB,LG,VG,BG,UG,HG,AU.exports()]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[AU],AU]}),e})(),qG=(()=>{let e=class{constructor(e,t,n){this.element=e,this.ngZone=t,this.renderer=n,this.reset=new gc,this.apply=new gc,this.columnChange=new gc,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}get className(){return!0}set columns(e){this._columns=e.filter(e=>!1!==e.includeInChooser),this.allColumns=e,this.updateColumnState()}get columns(){return this._columns}isDisabled(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find(t=>t!==e&&!t.hidden))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}ngOnInit(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubscriptions=this.renderer.listen(this.element.nativeElement,"click",e=>{if(lH(e.target,"k-checkbox"))if(this.autoSync){const t=parseInt(e.target.getAttribute("data-index"),10),n=this.columns[t],i=!e.target.checked;Boolean(n.hidden)!==i&&this.ngZone.run(()=>{n.hidden=i,this.columnChange.emit([n])})}else this.updateDisabled()})})}ngOnChanges(e){this.service&&(e.isLast&&this.isLast&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement),e.isExpanded&&this.isExpanded&&this.isLast&&this.applyButton&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement))}ngOnDestroy(){this.domSubscriptions&&this.domSubscriptions()}cancelChanges(){this.forEachCheckBox((e,t)=>{e.checked=!this.columns[t].hidden}),this.updateDisabled(),this.reset.emit()}applyChanges(){const e=[];this.forEachCheckBox((t,n)=>{const i=this.columns[n],s=!t.checked;Boolean(i.hidden)!==s&&(i.hidden=s,e.push(i))}),this.updateDisabled(),this.apply.emit(e)}onTab(e){this.isLast&&(e.preventDefault(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}forEachCheckBox(e){const t=this.element.nativeElement.getElementsByClassName("k-checkbox"),n=t.length;for(let i=0;i<n;i++)e(t[i],i)}updateDisabled(){if(this.allowHideAll&&!this.hasLocked)return;const e=[];if(this.forEachCheckBox((t,n)=>{t.checked&&e.push({checkbox:t,index:n}),t.disabled=!1}),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){const t=this.columns,n=e.filter(e=>!t[e.index].locked);1===n.length&&(n[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}updateColumnState(){this.hasLocked=this.allColumns.filter(e=>e.locked&&(!e.hidden||!1!==e.includeInChooser)).length>0,this.hasVisibleLocked=this.allColumns.filter(e=>e.locked&&!e.hidden).length>0,this.unlockedCount=this.columns.filter(e=>!e.locked&&!e.hidden).length;const e=this.allColumns.filter(e=>!1===e.includeInChooser&&!e.hidden);e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter(e=>!e.locked).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(ou),Ro(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnlist"]],viewQuery:function(e,t){var n;1&e&&Tc(kM,!0),2&e&&Ic(n=Rc())&&(t.applyButton=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-column-list-wrapper",t.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText",isLast:"isLast",isExpanded:"isExpanded",service:"service"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},features:[Pa],decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"keydown.tab","click"],["applyButton",""]],template:function(e,t){1&e&&(Vo(0,"div",0),Ao(1,EM,4,4,"label",1),Ho(),Ao(2,IM,6,3,"div",2)),2&e&&(ms(1),Lo("ngForOf",t.columns),ms(1),Lo("ngIf",!t.autoSync))},directives:[Nh,Mh,Rh],encapsulation:2}),e})(),KG=(()=>{let e=class{constructor(e,t,n,i,s,r){this.localization=e,this.columnInfoService=t,this.popupService=n,this.ngZone=i,this.renderer=s,this.changeDetector=r,this.autoSync=!1,this.allowHideAll=!0}get columns(){return this.columnInfoService.leafNamedColumns}ngOnDestroy(){this.close()}toggle(e,t){if(this.popupRef)this.close();else{const n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:n},popupAlign:{vertical:"top",horizontal:n}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular(()=>this.closeClick=this.renderer.listen("document","click",({target:t})=>{hH(t,t=>t===this.popupRef.popupElement||t===e)||this.close()}))}}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onChange(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}close(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}detachClose(){this.closeClick&&(this.closeClick(),this.closeClick=null)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Bz),Ro(Bx),Ro(ou),Ro(Ja),Ro(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,t){if(1&e){const e=Go();Vo(0,"button",0,1),$o("click",(function(){Qt(e);const n=Oo(1),i=Oo(4);return t.toggle(n,i)})),Bo(2,"span",2),Ho(),Ao(3,_M,3,6,"ng-template",null,3,Mc)}2&e&&Fo("title",t.localization.get("columns"))},directives:[qG],encapsulation:2}),e})(),$G=(()=>{class e{constructor(){this.hostClass=!0}ngOnInit(){if(Si()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}close(){this.service.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,hostVars:2,hostBindings:function(e,t){2&e&&ua("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"}}),e})(),WG=(()=>{let e=class extends $G{constructor(e,t,n,i){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=n,this.hostElement=i,this.expand=new gc,this.collapse=new gc,this.expanded=!1,this.isLast=!1,this.actionsClass="k-columnmenu-actions"}get columns(){return this.columnInfoService.leafNamedColumns}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Bz),Ro(Wr),Ro(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[Ta],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","isLast","isExpanded","service","apply"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),$o("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ao(1,TM,1,9,"ng-template",1),Ho()),2&e&&Lo("text",t.localization.get("columns"))("expanded",t.expanded)},directives:function(){return[QG,YG,qG]},encapsulation:2}),e})(),ZG=(()=>{let e=class extends $G{constructor(e,t){super(),this.localization=e,this.hostElement=t,this.expand=new gc,this.collapse=new gc,this.expanded=!1,this.isLast=!1,this.actionsClass="k-columnmenu-actions"}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[Ta],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"column","menuTabbingService","filter","actionsClass","isLast","isExpanded","keydown.shift.tab","close"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),$o("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ao(1,FM,1,6,"ng-template",1),Ho()),2&e&&Lo("text",t.localization.get("filter"))("expanded",t.expanded)},directives:function(){return[QG,YG,OG]},encapsulation:2}),e})(),YG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Ro(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),e})(),QG=(()=>{let e=class{constructor(){this.itemClick=new gc,this.expand=new gc,this.collapse=new gc,this.contentState="collapsed"}get iconClass(){return"k-i-"+this.icon}ngOnChanges(e){e.expanded&&this.updateContentState()}onClick(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}updateContentState(){this.contentState=this.expanded?"expanded":"collapsed"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,t,n){var i;1&e&&Dc(n,YG,!0),2&e&&Ic(i=Rc())&&(t.contentTemplate=i.first)},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[Pa],decls:4,vars:8,consts:[["role","button",1,"k-columnmenu-item",3,"click","keydown.enter"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Vo(0,"div",0),$o("click",(function(e){return t.onClick(e)}))("keydown.enter",(function(e){return t.onClick(e)})),Ao(1,DM,1,1,"span",1),Ca(2),Ho(),Ao(3,AM,3,2,"div",2)),2&e&&(ua("k-state-selected",t.selected)("k-state-disabled",t.disabled),Fo("aria-expanded",t.expanded),ms(1),Lo("ngIf",t.icon),ms(1),xa(" ",t.text," "),ms(1),Lo("ngIf",t.contentTemplate))},directives:[Mh,Rh,qh],encapsulation:2,data:{animation:[_d("state",[Ad("collapsed",Dd({display:"none"})),Ad("expanded",Dd({display:"block"})),Od("collapsed => expanded",[Dd({height:"0px",display:"block"}),Td("100ms ease-in",Dd({height:"*"}))]),Od("expanded => collapsed",[Dd({height:"*"}),Td("100ms ease-in",Dd({height:"0px"}))])])]}}),e})(),JG=(()=>{let e=class extends $G{constructor(e,t,n){super(),this.localization=e,this.sortService=t,this.renderer=n}get sortedAsc(){const e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}get sortedDesc(){const e=this.descriptor;return e&&"desc"===e.dir}toggleSort(e){const t=this.service.column.field,{mode:n,allowUnsort:i}=uG(this.service.sortable),s=this.descriptor,r="multiple"===n?this.service.sort.filter(e=>e.field!==t):[];if(s&&s.dir===e){if(!i)return}else r.push({field:t,dir:e});this.sortService.sort(r),this.close()}get descriptor(){return[].concat(this.service.sort||[]).find(e=>e.field===this.service.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(zz),Ro(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-sort"]],features:[Ta],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),$o("itemClick",(function(){return t.toggleSort("asc")})),Ho(),Vo(1,"kendo-grid-columnmenu-item",1),$o("itemClick",(function(){return t.toggleSort("desc")})),Ho()),2&e&&(Lo("text",t.localization.get("sortAscending"))("selected",t.sortedAsc),ms(1),Lo("text",t.localization.get("sortDescending"))("selected",t.sortedDesc))},directives:[QG],encapsulation:2}),e})(),XG=(()=>{let e=class extends $G{constructor(e,t,n){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=n}get text(){return this.localization.get(this.locked?"unlock":"lock")}get icon(){return this.locked?"unlock":"lock"}get disabled(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let t=this.service.column;for(;t.parent;)t=t.parent;const n=[t],i=[];for(;n.length;){const t=n.shift();t.locked=e,i.push(t),t.hasChildren&&n.push(...t.childrenArray)}this.columnInfoService.changeLocked(i)}get locked(){return this.service.column.locked}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Bz),Ro(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-lock"]],features:[Ta],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),$o("itemClick",(function(){return t.toggleColumn()})),Ho()),2&e&&Lo("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[QG],encapsulation:2}),e})(),eq=(()=>{let e=class extends $G{constructor(e,t){super(),this.localization=e,this.hostElement=t,this.expand=new gc,this.collapse=new gc,this.expanded=!1,this.actionsClass="k-columnmenu-actions",this._isLast=!1}set isLast(e){this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem(),this._isLast=e}get isLast(){return this._isLast}onTab(e,t){this.isLast&&t&&(e.preventDefault(),e.stopImmediatePropagation(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.collapse.emit()}onExpand(){this.expanded=!0,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.expand.emit()}getLastFocusableItem(){const e=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item");return e[this.expanded?e.length-1:0]}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-position"]],inputs:{expanded:"expanded",isLast:"isLast",showLock:"showLock",showStick:"showStick"},outputs:{expand:"expand",collapse:"collapse"},features:[Ta],decls:2,vars:2,consts:[["icon","set-column-position",3,"text","expanded","keydown.tab","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"service","keydown.tab",4,"ngIf"],[3,"service","keydown.tab"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),$o("keydown.tab",(function(e){return t.onTab(e,!t.expanded)}))("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ao(1,PM,2,2,"ng-template",1),Ho()),2&e&&Lo("text",t.localization.get("setColumnPosition"))("expanded",t.expanded)},directives:function(){return[QG,YG,Mh,XG,iq]},encapsulation:2}),e})(),tq=(()=>{let e=class{constructor(e,t,n){this.hostElement=e,this.renderer=t,this.ngZone=n,this._isFirst=!1,this._isLast=!1,this.subs=new h,this.onTab=e=>{if(e.keyCode===Tb.Tab&&(this.isFirst&&e.shiftKey&&e.target===this.columnMenuItems[0]&&(e.preventDefault(),this.menuItemComponent.service.menuTabbingService.lastFocusable.focus()),this.isLast&&!e.shiftKey)){const t=this.getLastColumnMenuItem(),n=this.menuItemComponent.expanded;t!==e.target||n||(e.preventDefault(),this.menuItemComponent.service.menuTabbingService.firstFocusable.focus())}}}set isFirst(e){if(e){const e=this.columnMenuItems[0];this.menuItemComponent.service.menuTabbingService.firstFocusable=e,this.ngZone.runOutsideAngular(()=>{const t=this.renderer.listen(e,"keydown",this.onTab);this.subs.add(t)})}this._isFirst=e}get isFirst(){return this._isFirst}set isLast(e){if(this.columnMenuItems){if(e){const e=this.getLastColumnMenuItem();this.menuItemComponent.service.menuTabbingService.lastFocusable=e,this.ngZone.runOutsideAngular(()=>{const t=this.renderer.listen(e,"keydown",this.onTab);this.subs.add(t)}),this.isExpandableItem()&&(this.menuItemComponent.isLast=!0)}this._isLast=e}}get isLast(){return this._isLast}ngAfterViewInit(){this.columnMenuItems=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item"),[].slice.apply(this.columnMenuItems).forEach(e=>this.renderer.setAttribute(e,"tabindex","0")),this.menuItemComponent instanceof ZG&&(this.menuItemComponent.service.menuTabbingService.isColumnMenu=!0)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}getLastColumnMenuItem(){return 1===this.columnMenuItems.length?this.columnMenuItems[0]:this.columnMenuItems[1]}isExpandableItem(){return this.menuItemComponent instanceof ZG||this.menuItemComponent instanceof WG||this.menuItemComponent instanceof eq}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wa),Ro(Ja),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridColumnMenuItem",""]],inputs:{menuItemComponent:["kendoGridColumnMenuItem","menuItemComponent"]}}),e})(),nq=(()=>{let e=class{constructor(e,t){this.service=e,this.ngZone=t}ngAfterContentInit(){this.columnMenuItems.length&&(this.columnMenuItems.first.isFirst=!0,this.columnMenuItems.last.isLast=!0,this.ngZone.onStable.pipe(Fg(1)).subscribe(()=>this.service.menuTabbingService.firstFocusable.focus()))}};return e.\u0275fac=function(t){return new(t||e)(Ro(mG),Ro(ou))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-container"]],contentQueries:function(e,t,n){var i;1&e&&Dc(n,tq,!0),2&e&&Ic(i=Rc())&&(t.columnMenuItems=i)},ngContentSelectors:mN,decls:1,vars:0,template:function(e,t){1&e&&(Jo(),Xo(0))},encapsulation:2}),e})(),iq=(()=>{let e=class extends $G{constructor(e,t,n){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=n}get text(){return this.localization.get(this.sticky?"unstick":"stick")}get icon(){return this.sticky?"unstick":"stick"}get disabled(){return!this.sticky&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.sticky),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let t=this.service.column;for(;t.parent;)t=t.parent;const n=[t],i=[];for(;n.length;){const t=n.shift();t.sticky=e,i.push(t),t.hasChildren&&n.push(...t.childrenArray)}this.columnInfoService.changeStuck(i)}get sticky(){return this.service.column.sticky}};return e.\u0275fac=function(t){return new(t||e)(Ro(jb),Ro(Bz),Ro(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-stick"]],features:[Ta],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),$o("itemClick",(function(){return t.toggleColumn()})),Ho()),2&e&&Lo("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[QG],encapsulation:2}),e})(),sq=(()=>{let e=class{static exports(){return[KG,ZG,QG,YG,JG,XG,iq,eq,WG,lB,nq,tq,vG]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,GG]]}),e})();const rq=[$h,lG,PU,GG,uU,aG,sq];let oq=(()=>{let e=class{static exports(){return[oB,TG]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...rq]]}),e})();var aq;let lq=(()=>{let e=aq=class extends hB{constructor(e){super(e),this.parent=e}get templateRef(){return this.template?this.template.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Ro(hB,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,t,n){var i;1&e&&Dc(n,tB,!0),2&e&&Ic(i=Rc())&&(t.template=i.first)},features:[Ga([{provide:hB,useExisting:xe(()=>aq)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var cq;let uq=(()=>{let e=cq=class extends hB{constructor(e){super(e),this.parent=e,this.isCheckboxColumn=!0}get templateRef(){return this.template?this.template.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Ro(hB,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,t,n){var i;1&e&&Dc(n,tB,!0),2&e&&Ic(i=Rc())&&(t.template=i.first)},inputs:{showSelectAll:"showSelectAll"},features:[Ga([{provide:hB,useExisting:xe(()=>cq)}]),Ta],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),hq=(()=>{let e=class{constructor(e,t,n,i){this.selectionService=e,this.el=t,this.renderer=n,this.ngZone=i,this.type="checkbox",this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this)),this.destroyKeyDown=this.renderer.listen(this.el.nativeElement,"keydown",this.onKeyDown.bind(this))})}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}onClick(){this.selectionService.options.enabled&&this.ngZone.run(()=>{const e=this.selectionService.toggleByIndex(this.itemIndex);e.ctrlKey=!0,e.shiftKey=!1,this.selectionService.changes.emit(e)})}onKeyDown(e){e.keyCode===Tb.Enter&&this.onClick()}setCheckedState(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}};return e.\u0275fac=function(t){return new(t||e)(Ro(ZH),Ro(Wa),Ro(Ja),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&Fo("type",t.type)},inputs:{itemIndex:["kendoGridSelectionCheckbox","itemIndex"]}}),e})(),dq=(()=>{let e=class{constructor(e,t,n,i,s,r,o,a,l,c,u,h,d){this.detailsService=e,this.groupsService=t,this.changeNotification=n,this.editService=i,this.localization=s,this.ngZone=r,this.renderer=o,this.element=a,this.domEvents=l,this.selectionService=c,this.cellSelectionService=u,this.columnInfoService=h,this.navigationService=d,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=Gz,this.rowClass=()=>null,this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe(e=>this.cellKeydownHandler(e)),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}get newDataItem(){return this.editService.newDataItem}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length}isAriaSelected(e,t){return this.cellSelectionService.isCellSelected(e,t)||this.isRowSelected(e)?"true":"false"}toggleRow(e,t){return this.detailsService.toggleRow(e,t),!1}isExpanded(e){return this.detailsService.isExpanded(e.index,e.data)}detailButtonStyles(e){return this.isExpanded(e)?"k-i-minus":"k-i-plus"}detailButtonTitle(e){const t=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.localization.get(t)}isGroup(e){return"group"===e.type}isDataItem(e){return!this.isGroup(e)&&!this.isFooter(e)}isFooter(e){return"footer"===e.type}isFooterItemInExpandedGroup(e){return this.isInExpandedGroup({data:e.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}isDataItemInExpandedGroup(e){return this.isInExpandedGroup({data:e.group.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}isInExpandedGroup(e){return this.groupsService.isInExpandedGroup(e)}isParentGroupExpanded(e){return this.groupsService.isInExpandedGroup(e.parentGroup)}isOdd(e){return e.index%2!=0}isSelectable(){return this.selectable&&!1!==this.selectable.enabled}isRowSelected(e){return this.selectionService.isSelected(e.index)}trackByWrapper(e,t){return"data"===t.type&&(t.isEditing=this.editService.hasEdited(t.index)),this.trackBy(e,t)}trackByColumns(e,t){return this.virtualColumns?e:t}ngDoCheck(){this.groupHeaderColumns=this.hasGroupHeaderColumn?SB(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}ngAfterViewChecked(){this.rowSticky&&this.applyStickyRowsStyling()}ngOnChanges(e){ub("columns",e,!1)&&this.changeNotification.notify()}logicalRowIndex(e){let t=this.skip+e;this.hasDetailTemplate&&(t*=2);const n=1+t,i=this.editService.hasNewItem?1:0,s=Cz(this.filterable)?1:0;return n+(this.columnInfoService.totalLevels+s+i)}addRowLogicalIndex(){return this.columnInfoService.totalLevels+1+(Cz(this.filterable)?1:0)}logicalColIndex(e){return LV(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const e=this.clickHandler.bind(this),t=this.renderer.listen(this.element.nativeElement,"mousedown",e),n=this.renderer.listen(this.element.nativeElement,"mouseup",e),i=this.renderer.listen(this.element.nativeElement,"click",e),s=this.renderer.listen(this.element.nativeElement,"contextmenu",e),r=this.renderer.listen(this.element.nativeElement,"touchstart",e),o=this.renderer.listen(this.element.nativeElement,"touchend",e);this.clickSubscription=()=>{t(),n(),i(),s()},this.touchSubscription=()=>{r(),o()}});let e=this.localization.get("noRecords");this.localization.changes.subscribe(()=>{this.noRecordsText===e&&(this.noRecordsText=this.localization.get("noRecords"),e=this.noRecordsText)})}ngOnDestroy(){this.clickSubscription&&this.clickSubscription(),this.touchSubscription&&this.touchSubscription(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}isEditingCell(e,t){return this.editService.isEditing()&&this.editService.isEditedColumn(e,t)}isEditingRow(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}get hasGroupHeaderColumn(){return this.columnsContainer.hasGroupHeaderColumn}get columnsContainer(){return this.columnInfoService.columnsContainer}get columnsSpan(){return EB(this.columns)}get allColumnsSpan(){return EB(this.allColumns||this.columns)}get colSpan(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}get footerColumns(){return this.isLocked?this.columnsContainer.lockedColumnsToRender:this.columnsContainer.nonLockedColumnsToRender}showGroupHeader(e){return!e.data.skipHeader}addStickyColumnStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}resizeHandler(){this.applyStickyRowsStyling()}get hasDetailTemplate(){return LV(this.detailTemplate)}clickHandler(e){const t=this.element.nativeElement,n=this.eventTarget(e);let i,s,r,o,a=n;do{i=hH(a,uH("td")),s=hH(i,uH("tr")),r=hH(s,uH("tbody")),a=r,o=dH(a,cH("k-grid"),t)}while(r&&r!==t&&!o);if(i&&!lH(i,"k-hierarchy-cell k-detail-cell k-group-cell")&&!lH(s,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&r===t&&!o&&(this.editService.preventCellClose(),!(n!==i&&gH(n,!1)||uH("label")(n)||lH(n,"k-icon")||dH(n,cH("k-widget k-grid-ignore-click"),i)))){const t=this.cellClickArgs(i,s,e);"mousedown"===e.type||"touchstart"===e.type?this.domEvents.cellMousedown.emit(t):"mouseup"===e.type||"touchend"===e.type?this.domEvents.cellMouseup.emit(t):!t.isEditedColumn&&this.editService.closeCell(e)||("click"===e.type?this.clickTimeout=setTimeout(()=>{this.emitCellClick(t)},0):this.emitCellClick(t))}}emitCellClick(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}cellKeydownHandler(e){e.keyCode===Tb.Enter&&this.clickHandler(e)}cellClickArgs(e,t,n){const i=((e,t)=>{let n=0;for(let i=0;i<t.length;i++){if(t[i]===e)return n;lH(t[i],"k-hierarchy-cell k-group-cell")||n++}})(e,t.cells),s=this.columns.toArray()[i],r=this.lockedColumnsCount+i;let o=t.getAttribute("data-kendo-grid-item-index");return o=o?parseInt(o,10):-1,{column:s,columnIndex:r,dataItem:-1===o?this.editService.newDataItem:this.data.at(o-this.skip),isEditedColumn:this.editService.isEditedColumn(o,s),isEditedRow:this.editService.isEdited(o),originalEvent:n,rowIndex:o,type:"keydown"===n.type?"click":n.type}}eventTarget(e){if("touchend"===e.type){const t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}return e.target}applyStickyRowsStyling(){const e=(t=this.element.nativeElement.querySelectorAll(".k-grid-row-sticky"),[].slice.call(t));var t;if(e.length){let t=0;const n=[];e.forEach(e=>{const i=e.getBoundingClientRect().height;n.push({accumulatedHeight:t,rowHeight:i}),t+=i}),e.forEach((e,i)=>{this.renderer.setStyle(e,"top",n[i].accumulatedHeight+"px"),this.renderer.setStyle(e,"bottom",t-n[i].accumulatedHeight-n[i].rowHeight+"px")})}}};return e.\u0275fac=function(t){return new(t||e)(Ro(MH),Ro(RH),Ro(nz),Ro(AH),Ro(jb),Ro(ou),Ro(Ja),Ro(Wa),Ro(tH),Ro(ZH),Ro(YH),Ro(Bz),Ro(WH))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridTableBody",""]],inputs:{columns:"columns",groups:"groups",skip:"skip",noRecordsText:"noRecordsText",isLocked:"isLocked",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",trackBy:"trackBy",rowClass:"rowClass",allColumns:"allColumns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",selectable:"selectable",filterable:"filterable",virtualColumns:"virtualColumns",rowSticky:"rowSticky"},features:[Pa],attrs:NM,decls:4,vars:5,consts:[[3,"ngIf"],["class","k-grid-norecords",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],[3,"resize",4,"ngIf"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","k-grid-content-sticky","ngClass","left","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],[1,"k-grid-norecords"],[3,"ngIf","templateContext"],[4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","k-grid-row-sticky","ngClass","k-alt","k-master-row","k-grid-edit-row","k-state-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","k-grid-content-sticky","k-touch-action-none","k-touch-action-auto","ngClass","k-grid-edit-cell","ngStyle","k-state-selected",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["class","k-icon","href","#","tabindex","-1",3,"ngClass","click",4,"ngIf"],["href","#","tabindex","-1",1,"k-icon",3,"ngClass","click"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex"],[3,"templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Ao(0,BM,4,8,"ng-template",0),Ao(1,GM,4,6,"tr",1),Ao(2,uV,4,4,"ng-template",2),Ao(3,hV,1,0,"kendo-resize-sensor",3)),2&e&&(Lo("ngIf",t.editService.hasNewItem),ms(1),Lo("ngIf",0===(null==t.data?null:t.data.length)||null==t.data),ms(1),Lo("ngForOf",t.data)("ngForTrackBy",t.trackByWrapper),ms(1),Lo("ngIf",t.rowSticky))},directives:function(){return[Mh,Nh,tU,Xj,pq,Rh,Gh,Yj,WU,qh,Eb]},encapsulation:2}),e})(),pq=(()=>{let e=class{constructor(e,t,n,i){this.editService=e,this.idService=t,this.localizationService=n,this.cellContext=i,this.isNew=!1,this._templateContext={},this._editTemplateContext={}}get commandCellClass(){return this.isCommand(this.column)}set rowIndex(e){this._rowIndex=e,this.updateCellContext()}get rowIndex(){return this._rowIndex}get isEdited(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;const e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}get formGroup(){return this.editService.context(this.rowIndex).group}get templateContext(){return this._templateContext}get editTemplateContext(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}get format(){if(gB(this.column)&&!BV(this.column.format))return qV(this.column.format)}get isBoundColumn(){return this.column.field&&!this.column.templateRef}get isCheckboxColumn(){return uB(this.column)&&!this.column.templateRef}get selectionCheckboxId(){return this.idService.selectionCheckboxId(this.rowIndex)}get selectionCheckboxLabel(){return this.localizationService.get("selectionCheckboxLabel")}get isSpanColumn(){return cB(this.column)&&!this.column.templateRef}get childColumns(){return SB([this.column])}get isColumnEditable(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){this.updateTemplateContext()}ngAfterContentChecked(){this.updateTemplateContext()}isCommand(e){return e instanceof lq}isFieldEditable(e,t){return!!LV(e)&&(!!LV(t.editTemplate)||LV(e.group)&&LV(e.group.get(t.field)))}updateCellContext(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}updateTemplateContext(){if(!this.column.templateRef)return;const e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}};return e.\u0275fac=function(t){return new(t||e)(Ro(AH),Ro(Vz),Ro(jb),Ro(SH,8))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-command-cell",t.commandCellClass)},inputs:{isNew:"isNew",rowIndex:"rowIndex",column:"column",columnIndex:"columnIndex",dataItem:"dataItem"},features:[Pa],attrs:dV,decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"k-checkbox",3,"kendoGridSelectionCheckbox"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","class","k-checkbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",1,"k-checkbox",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox",3,"formControl"]],template:function(e,t){1&e&&(zo(0,0),Ao(1,yV,5,6,"ng-container",1),Ao(2,IV,3,2,"ng-container",1),jo()),2&e&&(Lo("ngSwitch",t.isEdited),ms(1),Lo("ngSwitchCase",!1),ms(1),Lo("ngSwitchCase",!0))},directives:[zh,jh,Mh,qh,Nh,xH,hq,Uh,eF,Iw,FC,GO,mw,bw],pipes:[iU],encapsulation:2}),e})(),fq=(()=>{let e=class extends IR{constructor(e,t,n,i,s,r){super(n,i,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Ro(AH),Ro(SH),Ro(Wa),Ro(Ja),Ro(jb),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&$o("click",(function(e){return t.onClick(e)})),2&e&&(ca("display",t.visible),ua("k-grid-edit-command",t.commandClass))},features:[Ta]}),e})(),gq=(()=>{let e=class extends IR{constructor(e,t,n,i,s,r){super(n,i,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Ro(AH),Ro(SH),Ro(Wa),Ro(Ja),Ro(jb),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&$o("click",(function(e){return t.onClick(e)})),2&e&&(ca("display",t.visible),ua("k-grid-cancel-command",t.commandClass))},features:[Ta]}),e})(),mq=(()=>{let e=class extends IR{constructor(e,t,n,i,s,r){super(n,i,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Ro(AH),Ro(SH),Ro(Wa),Ro(Ja),Ro(jb),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&$o("click",(function(e){return t.onClick(e)})),2&e&&(ca("display",t.visible),ua("k-grid-save-command",t.commandClass))},features:[Ta]}),e})(),vq=(()=>{let e=class extends IR{constructor(e,t,n,i,s,r){super(n,i,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.remove(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Ro(AH),Ro(SH),Ro(Wa),Ro(Ja),Ro(jb),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&$o("click",(function(e){return t.onClick(e)})),2&e&&(ca("display",t.visible),ua("k-grid-remove-command",t.commandClass))},features:[Ta]}),e})(),yq=(()=>{let e=class extends IR{constructor(e,t,n,i,s){super(t,n,null,i,s),this.editService=e}onClick(e){e.preventDefault(),this.editService.beginAdd()}get commandClass(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Ro(AH),Ro(Wa),Ro(Ja),Ro(jb),Ro(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&$o("click",(function(e){return t.onClick(e)})),2&e&&ua("k-grid-add-command",t.commandClass)},features:[Ta]}),e})();const bq=[$h,MC,LC,uU,lG,uF,pR,Ib];let wq=(()=>{let e=class{static exports(){return[lq,uq,hq,tB,iz,sB,fq,gq,mq,vq,yq]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...bq]]}),e})(),Cq=(()=>{let e=class{constructor(e){this.columnInfoService=e,this.columns=[],this.groups=[],this.lockedColumnsCount=0,this.logicalRowIndex=0}get footerClass(){return!this.scrollable}get columnsToRender(){return SB(this.columns||[])}logicalColumnIndex(e){const t=e.leafIndex;return LV(t)?t+(LV(this.detailTemplate)?1:0):-1}addStickyStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}};return e.\u0275fac=function(t){return new(t||e)(Ro(Bz))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFooter",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grid-footer",t.footerClass)},inputs:{columns:"columns",groups:"groups",lockedColumnsCount:"lockedColumnsCount",logicalRowIndex:"logicalRowIndex",detailTemplate:"detailTemplate",scrollable:"scrollable"},attrs:_V,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridLogicalCell","","role","columnfooter","aria-selected","false",3,"logicalRowIndex","logicalColIndex","k-grid-footer-sticky","ngClass","ngStyle",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridLogicalCell","","role","columnfooter","aria-selected","false",3,"logicalRowIndex","logicalColIndex","ngClass","ngStyle"],[3,"templateContext"]],template:function(e,t){1&e&&Ao(0,OV,4,9,"ng-template",0),2&e&&Lo("ngIf",!0)},directives:[Mh,tU,Nh,Xj,Rh,Gh,Yj],encapsulation:2}),e})();const Sq=[$h,uU];let xq=(()=>{let e=class{static exports(){return[]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...Sq]]}),e})(),kq=(()=>{let e=class{constructor(e){this.grid=e,this.context={}}set position(e){this.context.position=e}get toolbarTemplateRef(){return this.grid.toolbarTemplate?this.grid.toolbarTemplate.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Ro(Wz))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-toolbar"]],inputs:{position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ao(0,PV,1,2,void 0,0),2&e&&Lo("ngIf",t.toolbarTemplateRef)},directives:[Mh,qh],encapsulation:2}),e})(),Eq=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,lG,uU,wq,oq,xq,$U,PU,GG,Ib,sq]]}),e})();const Iq=oi(uj);class _q{}class Tq{}class Fq{}class Dq{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Dq?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Dq;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Dq?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===s.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Aq{encodeKey(e){return Oq(e)}encodeValue(e){return Oq(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function Oq(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Rq{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Aq,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[s,r]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],o=n.get(s)||[];o.push(r),n.set(s,o)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Rq({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function Pq(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function Nq(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Lq(e){return"undefined"!=typeof FormData&&e instanceof FormData}class Mq{constructor(e,t,n,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,s=i):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.params&&(this.params=s.params)),this.headers||(this.headers=new Dq),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new Rq,this.urlWithParams=t}serializeBody(){return null===this.body?null:Pq(this.body)||Nq(this.body)||Lq(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rq?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lq(this.body)?null:Nq(this.body)?this.body.type||null:Pq(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rq?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,r=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new Mq(t,n,s,{params:l,headers:a,reportProgress:o,responseType:i,withCredentials:r})}}const Vq=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class Hq{constructor(e,t=200,n="OK"){this.headers=e.headers||new Dq,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Bq extends Hq{constructor(e={}){super(e),this.type=Vq.ResponseHeader}clone(e={}){return new Bq({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zq extends Hq{constructor(e={}){super(e),this.type=Vq.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zq({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jq extends Hq{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Uq(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Gq=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof Mq)i=e;else{let s=void 0;s=n.headers instanceof Dq?n.headers:new Dq(n.headers);let r=void 0;n.params&&(r=n.params instanceof Rq?n.params:new Rq({fromObject:n.params})),i=new Mq(e,t,void 0!==n.body?n.body:null,{headers:s,params:r,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=tg(i).pipe(jg(e=>this.handler.handle(e)));if(e instanceof Mq||"events"===n.observe)return s;const r=s.pipe(hg(e=>e instanceof zq));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return r.pipe(M(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return r.pipe(M(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return r.pipe(M(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return r.pipe(M(e=>e.body))}case"response":return r;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new Rq).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,Uq(n,t))}post(e,t,n={}){return this.request("POST",e,Uq(n,t))}put(e,t,n={}){return this.request("PUT",e,Uq(n,t))}}return e.\u0275fac=function(t){return new(t||e)(We(Tq))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class qq{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Kq=new Ve("HTTP_INTERCEPTORS");let $q=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Wq=/^\)\]\}',?\n/;class Zq{}let Yq=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Qq=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let s=null;const r=()=>{if(null!==s)return s;const t=1223===n.status?204:n.status,i=n.statusText||"OK",r=new Dq(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return s=new Bq({headers:r,status:t,statusText:i,url:o}),s},o=()=>{let{headers:i,status:s,statusText:o,url:a}=r(),l=null;204!==s&&(l=void 0===n.response?n.responseText:n.response),0===s&&(s=l?200:0);let c=s>=200&&s<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(Wq,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new zq({body:l,headers:i,status:s,statusText:o,url:a||void 0})),t.complete()):t.error(new jq({error:l,headers:i,status:s,statusText:o,url:a||void 0}))},a=e=>{const{url:i}=r(),s=new jq({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(s)};let l=!1;const c=i=>{l||(t.next(r()),l=!0);let s={type:Vq.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(s.total=i.total),"text"===e.responseType&&n.responseText&&(s.partialText=n.responseText),t.next(s)},u=e=>{let n={type:Vq.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",u)),n.send(i),t.next({type:Vq.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(We(Zq))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Jq=new Ve("XSRF_COOKIE_NAME"),Xq=new Ve("XSRF_HEADER_NAME");class eK{}let tK=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Oh(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(We(Vu),We(Gc),We(Jq))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),nK=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(eK),We(Xq))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),iK=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(Kq,[]);this.chain=e.reduceRight((e,t)=>new qq(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(Fq),We(uo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),sK=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:nK,useClass:$q}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Jq,useValue:t.cookieName}:[],t.headerName?{provide:Xq,useValue:t.headerName}:[]]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[nK,{provide:Kq,useExisting:nK,multi:!0},{provide:eK,useClass:tK},{provide:Jq,useValue:"XSRF-TOKEN"},{provide:Xq,useValue:"X-XSRF-TOKEN"}]}),e})(),rK=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[Gq,{provide:Tq,useClass:iK},Qq,{provide:Fq,useExisting:Qq},Yq,{provide:Zq,useExisting:Yq}],imports:[[sK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),oK=(()=>{class e{constructor(e){this.http=e,this.samples=[],this.sampleUpdate=new E}getSamples(){this.http.get("http://localhost:3000/api/samples").subscribe(e=>{this.samples=e.samples,this.sampleUpdate.next([...this.samples])})}addSamples(e){this.http.post("http://localhost:3000/api/samples",e).subscribe(t=>{console.log(t.message),this.samples.push(e),this.sampleUpdate.next([...this.samples])})}saveSiteComments(e){return this.http.post("http://localhost:3000/api/samples",e)}getSamplesUpdated(){return this.sampleUpdate.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(We(Gq))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),aK=(()=>{class e{constructor(){}getStatusIcon(e,t=!1){switch(e){case"Installed":return t?"status-completed":"fa fa-check-circle check-circle--green";case"Build in Progress":return t?"status-progress":"fa fa-play-circle";case"Operational":return t?"status-paused":"fa fa-clock"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function lK(e,t){1&e&&(Vo(0,"span"),Ca(1,"There are No Samples uploaded yet"),Ho())}function cK(e,t){if(1&e&&Ao(0,lK,2,0,"span",27),2&e){const e=Yo();Lo("ngIf",!e.loading&&0===e.sampleData.length)}}function uK(e,t){if(1&e){const e=Go();Vo(0,"input",28),$o("input",(function(t){return Qt(e),Yo().onFilter(t.target.value)})),Ho()}}function hK(e,t){if(1&e){const e=Go();Vo(0,"input",29),$o("selectAllChange",(function(t){return Qt(e),Yo().onSelectAllChange(t)})),Ho(),Bo(1,"label",30)}2&e&&Lo("state",Yo().selectAllState)}function dK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ArtemisID),ms(1),Sa(e.ArtemisID)}}function pK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.MergedAssetTag),ms(1),Sa(e.MergedAssetTag)}}function fK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.MergedLocation),ms(1),Sa(e.MergedLocation)}}function gK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ConfirmedBusiness),ms(1),Sa(e.ConfirmedBusiness)}}function mK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsCustBusiness),ms(1),xa(" ",e.tsCustBusiness,"")}}function vK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptCOrganisation),ms(1),xa(" ",e.AptCOrganisation,"")}}function yK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFOwningBusiness),ms(1),xa(" ",e.eMRFOwningBusiness,"")}}function bK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFOperatingBusiness),ms(1),xa(" ",e.eMRFOperatingBusiness,"")}}function wK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.SnowOperatingBusiness),ms(1),xa(" ",e.SnowOperatingBusiness,"")}}function CK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AppContactName),ms(1),xa(" ",e.AppContactName,"")}}function SK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AppContactName),ms(1),xa(" ",e.AppContactName,"")}}function xK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AppContactName),ms(1),xa(" ",e.AppContactName,"")}}function kK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AppContactName),ms(1),xa(" ",e.AppContactName,"")}}function EK(e,t){if(1&e&&(Vo(0,"span",31),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AppContactName),ms(1),xa(" ",e.AppContactName,"")}}function IK(e,t){if(1&e&&(Vo(0,"div",32),Vo(1,"div",33),Bo(2,"span",34),Ho(),Vo(3,"span"),Ca(4),Ho(),Ho()),2&e){const e=t.$implicit,n=Yo();ms(1),Lo("ngClass",n.getIconBackground(e)),ms(1),Lo("ngClass",n.getStatusIcon(e)),ms(2),xa("",e.installStatus," ")}}function _K(e,t){1&e&&Bo(0,"i",44)}const TK=function(e,t){return{editEnabled:e,editDisabled:t}},FK=function(){return{color:"#0575D1","font-style":"italic"}},DK=function(){return{}};function AK(e,t){if(1&e&&(Vo(0,"span",35),Vo(1,"div",36),Ao(2,_K,1,0,"i",37),Ho(),Vo(3,"p",38),Ca(4),Ho(),Vo(5,"div"),Ca(6,"\xa0"),Ho(),Vo(7,"div",39),Ca(8),Ho(),Vo(9,"div",40),Ca(10),uc(11,"date"),Ho(),Bo(12,"br"),Ho(),Vo(13,"span",41),Vo(14,"div",42),Ca(15),Ho(),Vo(16,"div",43),Ca(17),uc(18,"date"),Ho(),Bo(19,"br"),Ho()),2&e){const e=t.dataItem,n=Yo();ms(1),Lo("ngClass",nc(14,TK,!n.isDone,n.isDone)),ms(1),Lo("ngIf",n.canEditTeamComments),ms(1),Lo("ngStyle",null==e.ContactComment?ec(17,FK):ec(18,DK)),ms(1),xa(" ",e.ContactComment?e.ContactComment:"Add Comment here"," "),ms(4),xa(" Last edited by ",e.UpdatedBy," "),ms(2),xa(" ",hc(11,8,e.LastUpdatedDate,"dd/MM/yyyy h:mm a")," "),ms(5),xa("Added by ",e.UpdatedBy,""),ms(2),Sa(hc(18,11,e.AddedDate,"dd/MM/yyyy h:mm a"))}}function OK(e,t){if(1&e&&(Vo(0,"div",39),Ca(1),Ho()),2&e){const e=Yo().dataItem;ms(1),xa(" Last edited by ",e.UpdatedBy," ")}}const RK=function(e,t){return{saveDisabled:e,save:t}};function PK(e,t){if(1&e){const e=Go();Vo(0,"span",35),Vo(1,"textarea",45,46),Ca(3),Ho(),Bo(4,"br"),Vo(5,"div"),Ca(6,"\xa0"),Ho(),Vo(7,"div",47),Ca(8),Ho(),Vo(9,"button",48),$o("click",(function(){Qt(e);const n=t.column,i=t.formGroup,s=Yo(),r=Oo(7);return s.saveClicked(i.get(n.field).value,"siteComments",r)})),Ca(10,"Save"),Ho(),Vo(11,"button",49),$o("click",(function(){Qt(e);const t=Yo(),n=Oo(7);return t.cancelChanges(n)})),Ca(12,"Cancel"),Ho(),Bo(13,"br"),Vo(14,"div"),Ca(15,"\xa0"),Ho(),Ao(16,OK,2,1,"div",50),Vo(17,"div",40),Ca(18),uc(19,"date"),Ho(),Bo(20,"br"),Ho(),Vo(21,"span",41),Vo(22,"div",42),Ca(23),Ho(),Vo(24,"div",43),Ca(25),uc(26,"date"),Ho(),Bo(27,"br"),Ho()}if(2&e){const e=t.dataItem,n=t.column,i=t.formGroup,s=Yo();ms(1),Lo("formControl",i.get(n.field))("maxlength",s.commentsMaxLength),ms(2),Sa(e.ContactComment?e.ContactComment:""),ms(5),ka(" (",null==i.get(n.field).value?null:i.get(n.field).value.length,"/",s.commentsMaxLength,") "),ms(1),Lo("ngClass",nc(17,RK,0==(null==i.get(n.field).value?null:i.get(n.field).value.trim().length)||null==e.ContactComment&&!((null==i.get(n.field).value?null:i.get(n.field).value.trim().length)>0),(null==i.get(n.field).value?null:i.get(n.field).value.trim().length)>0))("disabled",null==i.get(n.field).value||0==(null==i.get(n.field).value?null:i.get(n.field).value.trim().length)||e.ContactComment==i.get(n.field).value),ms(7),Lo("ngIf",null!=e.ContactComment),ms(2),xa(" ",hc(19,11,e.LastUpdatedDate,"dd/MM/yyyy h:mm a")," "),ms(5),xa("Added by ",e.UpdatedBy,""),ms(2),Sa(hc(26,14,e.AddedDate,"dd/MM/yyyy h:mm a"))}}function NK(e,t){1&e&&Bo(0,"div",51)}const LK=function(){return{allowUnsort:!0,mode:"single"}},MK=function(){return{enabled:!0,checkboxOnly:!0}},VK=function(){return{filter:!0}};let HK=(()=>{class e{constructor(e,t,n,i){this.sampleService=e,this.utiltiyService=t,this.toastService=n,this.formBuilder=i,this.loading=!0,this.isSelected=!1,this.isDone=!1,this.commentsMaxLength=450,this.mySelection=[],this.samples=[],this.sampleData=[],this.selectAllState="unchecked",this.state={skip:0,take:30},this.sort=[{field:"id",dir:"desc"}],this.gridDimension={height:"calc(100vh - 140px)",width:"calc(100vw - 140px)"}}ngOnInit(){this.loadItems()}loadItems(){this.loading=!0,this.sampleService.getSamples(),this.sampleSub=this.sampleService.getSamplesUpdated().subscribe(e=>{e.length>0?(this.samples=e,this.gridData=ix(this.samples,this.state),this.loading=!1,this.gridView=e,null!=this.inpValue&&this.onFilter(this.inpValue)):(this.loading=!1,this.sampleData.length=0)})}get canEditTeamComments(){return!0}dataStateChange(e){this.state=e,this.gridData=ix(this.samples,e)}sortChange(e){this.sort=e}onSelectAllChange(e){this.isSelected=!0,"checked"===e?(this.mySelection=this.gridView.map(e=>e.ArtemisID),this.selectAllState="checked"):(this.mySelection=[],this.selectAllState="unchecked")}selectedCallback(e){return e.dataItem.ArtemisID}onSelectedKeysChange(e){this.isSelected=!0,this.sampleData.filter(e=>e.artemisId==this.mySelection[0]);const t=this.mySelection.length;0===t?(this.selectAllState="unchecked",this.isSelected=!1):this.selectAllState=t>0&&t<this.gridView.length?"indeterminate":"checked"}isEditable(e,t){return["siteComments","teamComments","actionItems","timeLimit"].indexOf(e)>-1&&!this.isDone}userCanEdit(e){switch(e){case"siteComments":return this.canEditTeamComments;default:return!1}}createFormGroup(e){var t,n,i,s,r,o,a,l,c,u,h,d,p;return this.formBuilder.group({ArtemisID:e.ArtemisID,BusinessAppName:e.BusinessAppName,siteComments:e.ContactComment,siteCommentsLastUpdatedOn:null===(n=null===(t=e.ContactComment)||void 0===t?void 0:t.lastUpdated)||void 0===n?void 0:n.updatedOn,teamComments:null===(i=e.teamComments)||void 0===i?void 0:i.data,teamCommentsLastUpdatedOn:null===(r=null===(s=e.teamComments)||void 0===s?void 0:s.lastUpdated)||void 0===r?void 0:r.updatedOn,actionItems:null===(o=e.actionItems)||void 0===o?void 0:o.data,actionItemsLastUpdatedOn:null===(l=null===(a=e.actionItems)||void 0===a?void 0:a.lastUpdated)||void 0===l?void 0:l.updatedOn,timeLimit:null===(c=e.timeLimit)||void 0===c?void 0:c.data,timeLimitLastUpdatedOn:null===(h=null===(u=e.timeLimit)||void 0===u?void 0:u.lastUpdated)||void 0===h?void 0:h.updatedOn,status:this.isDone,statusLastUpdatedOn:null===(p=null===(d=e.status)||void 0===d?void 0:d.lastUpdated)||void 0===p?void 0:p.updatedOn})}cancelChanges(e){e.cancelCell()}cellClickHandler({sender:e,rowIndex:t,column:n,columnIndex:i,dataItem:s,isEdited:r}){this.isEditable(n.field,s)&&this.userCanEdit(n.field)&&(this.formGroup=this.createFormGroup(s),e.editCell(t,i,this.formGroup)),r||"BusinessAppName"!=n.field||e.editCell(t,i,this.createFormGroup(s))}cellCloseHandler(e){const{formGroup:t}=e;t.valid&&t.dirty&&this.samples.filter(e=>{var n,i,s,r;e.ArtemisID===(null===(i=null===(n=null==t?void 0:t.controls)||void 0===n?void 0:n.ArtemisID)||void 0===i?void 0:i.value)&&(e.BusinessAppName=null===(r=null===(s=null==t?void 0:t.controls)||void 0===s?void 0:s.BusinessAppName)||void 0===r?void 0:r.value)})}saveClicked(e,t,n){var i,s,r,o,a,l;switch(this.loading=!0,this.commentsDTO=new _q,this.commentsDTO.ArtemisID=null===(r=null===(s=null===(i=this.formGroup)||void 0===i?void 0:i.controls)||void 0===s?void 0:s.ArtemisID)||void 0===r?void 0:r.value,t){case"siteComments":this.commentsDTO.ContactComment=null===(l=null===(a=null===(o=this.formGroup)||void 0===o?void 0:o.controls)||void 0===a?void 0:a.siteComments)||void 0===l?void 0:l.value,this.commentsDTO.UpdatedBy="Rajesh D",this.commentsDTO.LastUpdatedDate=new Date,this.sampleService.saveSiteComments(this.commentsDTO).subscribe(e=>{this.loading=!1,this.samples.filter(e=>{e.ArtemisID===this.commentsDTO.ArtemisID&&(e.ContactComment=this.commentsDTO.ContactComment,e.lastUpdated=this.commentsDTO.LastUpdatedDate,e.LastUpdatedDate=this.commentsDTO.LastUpdatedDate,e.user=this.commentsDTO.UpdatedBy)}),n.cancelCell(),this.loadItems(),this.toastService.success("Comments saved successfully.")},e=>{this.loading=!1})}}onFilter(e){this.inpValue=e,this.gridView=ix(this.samples,{filter:{logic:"or",filters:[{field:"ArtemisID",operator:"contains",value:e},{field:"id",operator:"contains",value:e},{field:"BusinessAppName",operator:"contains",value:e},{field:"CorrelationID",operator:"contains",value:e},{field:"installStatus",operator:"contains",value:e},{field:"ServerName",operator:"contains",value:e},{field:"AppContactName",operator:"contains",value:e}]}}).data,this.dataBinding.skip=0}getStatusIcon(e){return this.utiltiyService.getStatusIcon(e.installStatus)}getIconBackground(e){return this.utiltiyService.getStatusIcon(e.installStatus,!0)}ngOnDestroy(){this.sampleSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ro(oK),Ro(aK),Ro(By),Ro(NC))},e.\u0275cmp=pt({type:e,selectors:[["app-home"]],viewQuery:function(e,t){var n;1&e&&Tc(lj,!0),2&e&&Ic(n=Rc())&&(t.dataBinding=n.first)},decls:46,vars:36,consts:[[1,"ar-section"],[1,"ar-section__header"],[1,"ar-section__title"],[1,"ar-section__content","p-b-4"],["id","kgrid_home_project",1,"ar-kgrid"],["filterable","'menu'","id","home_grid",3,"data","pageSize","skip","filter","pageable","resizable","sortable","sort","navigable","kendoGridBinding","selectable","selectedKeys","kendoGridSelectBy","columnMenu","dataStateChange","sortChange","cellClick","cellClose","selectedKeysChange"],["grid",""],["kendoGridNoRecordsTemplate",""],["kendoGridToolbarTemplate",""],["showSelectAll","true","width","80px"],["kendoGridHeaderTemplate",""],["field","ArtemisID","title","Artemis ID","width","150px ",3,"filterable"],["kendoGridCellTemplate",""],["field","MergedAssetTag","title","Merged Asset Tag","width","200px ",3,"filterable"],["field","MergedLocation","title","Merged Location","width","150px ",3,"filterable"],["field","ConfirmedBusiness","title","Confirmed Business","width","200px ",3,"filterable"],["field","tsCustBusiness","title","ts Cust Business","width","150px",3,"filterable"],["field","AptCOrganisation","title","AptC Organisation","width","250px",3,"filterable"],["field","eMRFOwningBusiness","title","eMRF Owning Business","width","200px",3,"filterable"],["field","eMRFOperatingBusiness","title","eMRF Operating Business","width","250px",3,"filterable"],["field","SnowOperatingBusiness","title","Snow Operating Business","width","250px",3,"filterable"],["field","AppContactName","title","App Contact Name","width","150px",3,"filterable"],["field","installStatus","title","Install Status","width","100px",3,"filterable"],["field","siteComments","title","Add Comments",3,"width","sortable","columnMenu"],["kendoGridCellTemplate","","class","ar-kgrid__cell-lnk"],["kendoGridEditTemplate","","class","ar-kgrid__cell-lnk"],["aria-label","Loading page","class","k-i-loading",4,"ngIf"],[4,"ngIf"],["placeholder","Search in all columns...","kendoTextBox","",1,"ar-kinput",3,"input"],["id","selectAllCheckboxId","kendoGridSelectAllCheckbox","",1,"k-checkbox",3,"state","selectAllChange"],["for","selectAllCheckboxId",1,"k-checkbox-label"],[3,"title"],[2,"display","flex","align-items","center"],[1,"status",3,"ngClass"],["aria-hidden","true",1,"status-icon",3,"ngClass"],[1,"comments"],[3,"ngClass"],["class","fas fa-edit editIcon",4,"ngIf"],[1,"line-break",3,"ngStyle"],[1,"by",2,"color","#b8b8b8"],[1,"on",2,"color","#b8b8b8"],[1,"audit"],[1,"by"],[1,"on"],[1,"fas","fa-edit","editIcon"],["name","siteComments","required","",1,"k-textbox",3,"formControl","maxlength"],["input",""],[1,"charCount"],[3,"ngClass","disabled","click"],[1,"cancel",3,"click"],["class","by","style","color: #b8b8b8",4,"ngIf"],["aria-label","Loading page",1,"k-i-loading"]],template:function(e,t){1&e&&(Vo(0,"section",0),Vo(1,"header",1),Vo(2,"h1",2),Ca(3,"Samples"),Ho(),Ho(),Vo(4,"section",3),Vo(5,"div",4),Vo(6,"kendo-grid",5,6),$o("dataStateChange",(function(e){return t.dataStateChange(e)}))("sortChange",(function(e){return t.sortChange(e)}))("cellClick",(function(e){return t.cellClickHandler(e)}))("cellClose",(function(e){return t.cellCloseHandler(e)}))("selectedKeysChange",(function(e){return t.onSelectedKeysChange(e)})),Ao(8,cK,1,1,"ng-template",7),Ao(9,uK,1,0,"ng-template",8),Vo(10,"kendo-grid-checkbox-column",9),Ao(11,hK,2,1,"ng-template",10),Ho(),Vo(12,"kendo-grid-column",11),Ao(13,dK,2,2,"ng-template",12),Ho(),Vo(14,"kendo-grid-column",13),Ao(15,pK,2,2,"ng-template",12),Ho(),Vo(16,"kendo-grid-column",14),Ao(17,fK,2,2,"ng-template",12),Ho(),Vo(18,"kendo-grid-column",15),Ao(19,gK,2,2,"ng-template",12),Ho(),Vo(20,"kendo-grid-column",16),Ao(21,mK,2,2,"ng-template",12),Ho(),Vo(22,"kendo-grid-column",17),Ao(23,vK,2,2,"ng-template",12),Ho(),Vo(24,"kendo-grid-column",18),Ao(25,yK,2,2,"ng-template",12),Ho(),Vo(26,"kendo-grid-column",19),Ao(27,bK,2,2,"ng-template",12),Ho(),Vo(28,"kendo-grid-column",20),Ao(29,wK,2,2,"ng-template",12),Ho(),Vo(30,"kendo-grid-column",21),Ao(31,CK,2,2,"ng-template",12),Ho(),Vo(32,"kendo-grid-column",21),Ao(33,SK,2,2,"ng-template",12),Ho(),Vo(34,"kendo-grid-column",21),Ao(35,xK,2,2,"ng-template",12),Ho(),Vo(36,"kendo-grid-column",21),Ao(37,kK,2,2,"ng-template",12),Ho(),Vo(38,"kendo-grid-column",21),Ao(39,EK,2,2,"ng-template",12),Ho(),Vo(40,"kendo-grid-column",22),Ao(41,IK,5,3,"ng-template",12),Ho(),Vo(42,"kendo-grid-column",23),Ao(43,AK,20,19,"ng-template",24),Ao(44,PK,28,20,"ng-template",25),Ho(),Ho(),Ho(),Ho(),Ao(45,NK,1,0,"div",26),Ho()),2&e&&(ms(6),Lo("data",t.gridData)("pageSize",t.state.take)("skip",t.state.skip)("filter",t.state.filter)("pageable",!0)("resizable",!0)("sortable",ec(33,LK))("sort",t.sort)("navigable",!0)("kendoGridBinding",t.gridView)("selectable",ec(34,MK))("selectedKeys",t.mySelection)("kendoGridSelectBy",t.selectedCallback)("columnMenu",ec(35,VK)),ms(6),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("filterable",!0),ms(2),Lo("width",400)("sortable",!1)("columnMenu",!1),ms(3),Lo("ngIf",t.loading))},directives:[Wz,lj,cj,iz,gz,uq,oB,mB,tB,sB,Mh,qT,TG,Rh,Gh,bw,AC,Iw,FC,RC],pipes:[Kh],styles:["textarea[_ngcontent-%COMP%]{height:15em!important;width:100%!important;background-color:#fff!important;box-shadow:0 0 4px rgba(0,0,0,.15)!important;border-radius:4px!important;padding:10px!important}td[_ngcontent-%COMP%]{vertical-align:top!important}.changes[_ngcontent-%COMP%]{display:block;margin-bottom:10%}.view-all[_ngcontent-%COMP%]{text-transform:uppercase;color:#0575d1}.comments[_ngcontent-%COMP%]{padding:10px}.audit[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]{display:block;background-color:#f4f8f9!important}.audit[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#b8b8b8}.by[_ngcontent-%COMP%]{float:left}.by[_ngcontent-%COMP%], .on[_ngcontent-%COMP%]{font-size:11px}.on[_ngcontent-%COMP%]{float:right}.save[_ngcontent-%COMP%]{background:#0575d1;border-radius:3px;width:57px;height:30px;border:none;cursor:pointer}.save[_ngcontent-%COMP%], .saveDisabled[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;padding:.5em;margin-right:.5em}.saveDisabled[_ngcontent-%COMP%]{background:grey;border-radius:3px}.cancel[_ngcontent-%COMP%]{border:1px solid #0575d1;color:#0575d1;border-radius:3px;text-transform:uppercase;padding:.5em;background:none;cursor:pointer}.status[_ngcontent-%COMP%]{display:flex}.status[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #0575d1!important;margin-right:1em}.status-details[_ngcontent-%COMP%]{margin-top:10px;font-size:.66em}.not-done[_ngcontent-%COMP%]{font-size:13px;color:#c4c4c4}.done[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#424342}.visualise[_ngcontent-%COMP%]{margin-right:25px}.visualise-damage[_ngcontent-%COMP%]{width:calc(33.33333% - 8.33333px)}.visualise-area[_ngcontent-%COMP%], .visualise-unit[_ngcontent-%COMP%]{width:calc(8.33333% - 2.08333px)}.visualise-corrosion[_ngcontent-%COMP%], .visualise-equipment[_ngcontent-%COMP%]{width:calc(16.66667% - 4.16667px)}.ar-kstatus[_ngcontent-%COMP%]{color:#909090;font-style:italic}.simulation-head[_ngcontent-%COMP%]{font-size:20px;font-weight:100}.simulation-details[_ngcontent-%COMP%]{background-color:#fff;margin-top:20px;padding:20px 25px;min-height:calc(100% - 50px)}.simulation-days[_ngcontent-%COMP%]{width:100px}.simulation-title[_ngcontent-%COMP%]{width:250px}.simulation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .simulation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:7.5px 30px;text-align:center;border-bottom:1px solid #dadada;color:#666}.w-50[_ngcontent-%COMP%]{width:50%}.m-r-150[_ngcontent-%COMP%]{margin-right:150px}.p-t-custom--3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:3px}.editIcon[_ngcontent-%COMP%]{float:right;font-size:16px}.editEnabled[_ngcontent-%COMP%]{color:#0575d1}.editDisabled[_ngcontent-%COMP%]{color:#c4c4c4}.charCount[_ngcontent-%COMP%]{font-size:11px;float:right}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase!important}.text-expand[_ngcontent-%COMP%]{color:#0575d1}.underline-on-hover[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.vce-pmessage[_ngcontent-%COMP%]{font-family:Arial;font-style:normal;font-size:16px;line-height:23px;color:#000}.collapser[_ngcontent-%COMP%]{color:#0575d1;cursor:pointer;font-size:14px;float:right}.container[_ngcontent-%COMP%]{height:100px;overflow:hidden}.show[_ngcontent-%COMP%]{height:auto;overflow:visible}.k-grid-content[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]{background-color:#fff;outline:thin solid #edebe9}.k-grid-content[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]{background-color:#fff}.k-grid-content[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]:hover, .k-grid-content[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]:hover{background-color:transparent}.k-grid-content-locked[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]{background-color:#fff;outline:thin solid #edebe9}.k-grid-content-locked[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]{background-color:#fff}.k-grid-content-locked[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]:hover, .k-grid-content-locked[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]:hover{background-color:transparent}.k-grid-toolbar[_ngcontent-%COMP%]{padding:10px 20px;background-color:#f4f8f9}.k-i-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;font-size:47px;background-color:transparent;color:#eadf46}.ar-kinput[_ngcontent-%COMP%]{width:250px;height:40px;padding:5px;border-radius:4px;background:#fff;border:1px solid #dadada;box-sizing:border-box}[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c4c4;font-style:italic;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#c4c4c4;font-style:italic;opacity:1}.ar-kgrid__cell-link[_ngcontent-%COMP%]{color:#0575d1;cursor:pointer}.status[_ngcontent-%COMP%]{text-align:center;position:relative;display:inline-block;margin-right:5px;width:15px;height:15px;border-radius:100%;vertical-align:middle}.status-icon[_ngcontent-%COMP%]{color:transparent;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.status-icon.fa[_ngcontent-%COMP%]{font-size:14px}.status-errored[_ngcontent-%COMP%]   .fa-times-circle[_ngcontent-%COMP%]{color:#db4437}.status-progress[_ngcontent-%COMP%]   .fa-play-circle[_ngcontent-%COMP%]{color:#0575d1}.status-paused[_ngcontent-%COMP%]   .fa-clock[_ngcontent-%COMP%]{color:#ca7a14}.status-completed[_ngcontent-%COMP%]   .fa-check-circle[_ngcontent-%COMP%]{color:#23a43b}.status-aborted[_ngcontent-%COMP%]   .fa-stop-circle[_ngcontent-%COMP%], .status-unknown[_ngcontent-%COMP%]   .fa-question-circle[_ngcontent-%COMP%]{color:#4d4d4d}"]}),e})();const BK=[{path:"",component:HK},{path:"home",component:HK},{path:"**",redirectTo:"home"}];let zK=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[_y.forRoot(BK)],_y]}),e})(),jK=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,zK,Kf,LC,_y]]}),e})();function UK(e,t,n,i){return new(n||(n=Promise))((function(s,r){function o(e){try{l(i.next(e))}catch(t){r(t)}}function a(e){try{l(i.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((i=i.apply(e,t||[])).next())}))}class GK{call(e,t){return t.subscribe(new qK(e))}}class qK extends L{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let n=0;n<t&&!this.hasFirst;n++){let t=e[n],i=N(this,t,t,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}notifyNext(e,t,n,i,s){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==n){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}const KK=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();class $K{constructor(e,t,n,i){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=i}call(e,t){return t.subscribe(new WK(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class WK extends L{constructor(e,t,n,i,s){super(e),this.absoluteTimeout=t,this.waitFor=n,this.withObservable=i,this.scheduler=s,this.action=null,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add(N(e,t))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(WK.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var ZK=n("gfpf");class YK{}class QK{}function JK(e){const t=e.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function XK(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class e${}let t$=(()=>{class e{getHashFragmentParams(e){let t=e||window.location.hash;if(t=decodeURIComponent(t),0!==t.indexOf("#"))return{};const n=t.indexOf("?");return t=t.substr(n>-1?n+1:1),this.parseQueryString(t)}parseQueryString(e){const t={};let n,i,s,r,o,a,l;if(null===e)return t;n=e.split("&");for(let c=0;c<n.length;c++)i=n[c],s=i.indexOf("="),-1===s?(r=i,o=null):(r=i.substr(0,s),o=i.substr(s+1)),a=decodeURIComponent(r),l=decodeURIComponent(o),"/"===a.substr(0,1)&&(a=a.substr(1)),t[a]=l;return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class n${constructor(e){this.type=e}}class i$ extends n${constructor(e,t=null){super(e),this.info=t}}class s$ extends n${constructor(e,t=null){super(e),this.info=t}}class r$ extends n${constructor(e,t,n=null){super(e),this.reason=t,this.params=n}}class o${constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.openUri=e=>{location.href=e},e&&Object.assign(this,e)}}class a${encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}class l${}let c$=(()=>{class e extends o${constructor(e,t,n,i,s,r,o,a){super(),this.ngZone=e,this.http=t,this.config=s,this.urlHelper=r,this.logger=o,this.crypto=a,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new E,this.discoveryDocumentLoadedSubject=new E,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.debug("angular-oauth2-oidc v8-beta"),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),i&&(this.tokenValidationHandler=i),s&&this.configure(s);try{n?this.setStorage(n):"undefined"!=typeof sessionStorage&&this.setStorage(sessionStorage)}catch(l){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",l)}this.setupRefreshTimer()}configure(e){Object.assign(this,new o$,e),this.config=Object.assign({},new o$,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(hg(e=>"token_received"===e.type)).subscribe(e=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},t,n=!0){let i=!0;this.events.pipe(Gg(e=>{"token_received"===e.type?i=!0:"logout"===e.type&&(i=!1)}),hg(e=>"token_expires"===e.type)).subscribe(s=>{null!=t&&"any"!==t&&s.info!==t||!i||this.refreshInternal(e,n).catch(e=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,t){return"code"===this.responseType?this.refreshToken():this.silentRefresh(e,t)}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(t=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return this.loadDiscoveryDocumentAndTryLogin(e).then(e=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initImplicitFlow(),!1))}debug(...e){this.showDebugInformation&&this.logger.debug.apply(console,e)}validateUrlFromDiscoveryDocument(e){const t=[],n=this.validateUrlForHttps(e),i=this.validateUrlAgainstIssuer(e);return n||t.push("https for all urls required. Also for urls received by discovery."),i||t.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),t}validateUrlForHttps(e){if(!e)return!0;const t=e.toLowerCase();return!1===this.requireHttps||!(!t.match(/^http:\/\/localhost($|[:\/])/)&&!t.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps)||t.startsWith("https://")}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){"undefined"!=typeof window?(this.hasValidIdToken()&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.events.pipe(hg(e=>"token_received"===e.type)).subscribe(e=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})):this.debug("timer not supported on this plattform")}setupExpirationTimers(){const e=this.getIdTokenExpiration()||Number.MAX_VALUE,t=(this.getAccessTokenExpiration()||Number.MAX_VALUE)<=e;this.hasValidAccessToken()&&t&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&!t&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const e=this.getAccessTokenExpiration(),t=this.getAccessTokenStoredAt(),n=this.calcTimeout(t,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=tg(new s$("token_expires","access_token")).pipe(Qb(n)).subscribe(e=>{this.ngZone.run(()=>{this.eventsSubject.next(e)})})})}setupIdTokenTimer(){const e=this.getIdTokenExpiration(),t=this.getIdTokenStoredAt(),n=this.calcTimeout(t,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=tg(new s$("token_expires","id_token")).pipe(Qb(n)).subscribe(e=>{this.ngZone.run(()=>{this.eventsSubject.next(e)})})})}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}calcTimeout(e,t){const n=Date.now();return Math.max(0,(t-e)*this.timeoutFactor-(n-e))}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((t,n)=>{e||((e=this.issuer||"").endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),this.validateUrlForHttps(e)?this.http.get(e).subscribe(e=>{if(!this.validateDiscoveryDocument(e))return this.eventsSubject.next(new r$("discovery_document_validation_error",null)),void n("discovery_document_validation_error");this.loginUrl=e.authorization_endpoint,this.logoutUrl=e.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=e.grant_types_supported,this.issuer=e.issuer,this.tokenEndpoint=e.token_endpoint,this.userinfoEndpoint=e.userinfo_endpoint,this.jwksUri=e.jwks_uri,this.sessionCheckIFrameUrl=e.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(e),this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(n=>{const i=new i$("discovery_document_loaded",{discoveryDocument:e,jwks:n});this.eventsSubject.next(i),t(i)}).catch(e=>{this.eventsSubject.next(new r$("discovery_document_load_error",e)),n(e)})},e=>{this.logger.error("error loading discovery document",e),this.eventsSubject.next(new r$("discovery_document_load_error",e)),n(e)}):n("issuer must use https, or config value for property requireHttps must allow http")})}loadJwks(){return new Promise((e,t)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(t=>{this.jwks=t,this.eventsSubject.next(new i$("discovery_document_loaded")),e(t)},e=>{this.logger.error("error loading jwks",e),this.eventsSubject.next(new r$("jwks_load_error",e)),t(e)}):e(null)})}validateDiscoveryDocument(e){let t;return this.skipIssuerCheck||e.issuer===this.issuer?(t=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),t.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),t.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.token_endpoint),t.length>0&&this.logger.error("error validating token_endpoint in discovery document",t),t=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),t.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.jwks_uri),t.length>0?(this.logger.error("error validating jwks_uri in discovery document",t),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,t,n=new Dq){return this.fetchTokenUsingPasswordFlow(e,t,n).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((e,t)=>{const n=(new Dq).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:n}).subscribe(n=>{this.debug("userinfo received",n);const i=this.getIdentityClaims()||{};this.skipSubjectCheck||!this.oidc||i.sub&&n.sub===i.sub?(n=Object.assign({},i,n),this._storage.setItem("id_token_claims_obj",JSON.stringify(n)),this.eventsSubject.next(new i$("user_profile_loaded")),e(n)):t("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false")},e=>{this.logger.error("error loading user info",e),this.eventsSubject.next(new r$("user_profile_load_error",e)),t(e)})})}fetchTokenUsingPasswordFlow(e,t,n=new Dq){if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((i,s)=>{let r=new Rq({encoder:new a$}).set("grant_type","password").set("scope",this.scope).set("username",e).set("password",t);if(this.useHttpBasicAuth){const e=btoa(`${this.clientId}:${this.dummyClientSecret}`);n=n.set("Authorization","Basic "+e)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const e of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(e,this.customQueryParams[e]);n=n.set("Content-Type","application/x-www-form-urlencoded"),this.http.post(this.tokenEndpoint,r,{headers:n}).subscribe(e=>{this.debug("tokenResponse",e),this.storeAccessTokenResponse(e.access_token,e.refresh_token,e.expires_in,e.scope),this.eventsSubject.next(new i$("token_received")),i(e)},e=>{this.logger.error("Error performing password flow",e),this.eventsSubject.next(new r$("token_error",e)),s(e)})})}refreshToken(){if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((e,t)=>{let n=(new Rq).set("grant_type","refresh_token").set("client_id",this.clientId).set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token"));if(this.dummyClientSecret&&(n=n.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const s of Object.getOwnPropertyNames(this.customQueryParams))n=n.set(s,this.customQueryParams[s]);const i=(new Dq).set("Content-Type","application/x-www-form-urlencoded");this.http.post(this.tokenEndpoint,n,{headers:i}).pipe(Ng(e=>e.id_token?z(this.processIdToken(e.id_token,e.access_token,!0)).pipe(Gg(e=>this.storeIdToken(e)),M(t=>e)):tg(e))).subscribe(t=>{this.debug("refresh tokenResponse",t),this.storeAccessTokenResponse(t.access_token,t.refresh_token,t.expires_in,t.scope),this.eventsSubject.next(new i$("token_received")),this.eventsSubject.next(new i$("token_refreshed")),e(t)},e=>{this.logger.error("Error performing password flow",e),this.eventsSubject.next(new r$("token_refresh_error",e)),t(e)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{const t=this.processMessageEventMessage(e);this.tryLogin({customHashFragment:t,preventClearHashAfterLogin:!0,onLoginError:e=>{this.eventsSubject.next(new r$("silent_refresh_error",e))},onTokenReceived:()=>{this.eventsSubject.next(new i$("silently_refreshed"))}}).catch(e=>this.debug("tryLogin during silent refresh failed",e))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},t=!0){const n=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");if("undefined"==typeof document)throw new Error("silent refresh is not supported on this platform");const i=document.getElementById(this.silentRefreshIFrameName);i&&document.body.removeChild(i),this.silentRefreshSubject=n.sub;const s=document.createElement("iframe");return s.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,t,e).then(e=>{s.setAttribute("src",e),this.silentRefreshShowIFrame||(s.style.display="none"),document.body.appendChild(s)}),function(...e){if(1===e.length){if(!l(e[0]))return e[0];e=e[0]}return K(e,void 0).lift(new GK)}([this.events.pipe(hg(e=>e instanceof r$),Og()),this.events.pipe(hg(e=>"silently_refreshed"===e.type),Og()),tg(new r$("silent_refresh_timeout",null)).pipe(Qb(this.silentRefreshTimeout))]).pipe(Gg(e=>{"silent_refresh_timeout"===e.type&&this.eventsSubject.next(e)}),M(e=>{if(e instanceof r$)throw e;return e})).toPromise()}initImplicitFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(t=>new Promise((n,i)=>{let s=window.open(t,"_blank",this.calculatePopupFeatures(e));const r=()=>{window.removeEventListener("message",o),s.close(),s=null},o=e=>{const t=this.processMessageEventMessage(e);this.tryLogin({customHashFragment:t,preventClearHashAfterLogin:!0}).then(()=>{r(),n()},e=>{r(),i(e)})};window.addEventListener("message",o)}))}calculatePopupFeatures(e){const t=e.height||470,n=e.width||500,i=screen.width/2-n/2;return`location=no,toolbar=no,width=${n},height=${t},top=${screen.height/2-t/2},left=${i}`}processMessageEventMessage(e){let t="#";if(this.silentRefreshMessagePrefix&&(t+=this.silentRefreshMessagePrefix),!e||!e.data||"string"!=typeof e.data)return;const n=e.data;return n.startsWith(t)?"#"+n.substr(t.length):void 0}canPerformSessionCheck(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?"undefined"!=typeof document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{const t=e.origin.toLowerCase(),n=this.issuer.toLowerCase();switch(this.debug("sessionCheckEventListener"),n.startsWith(t)||this.debug("sessionCheckEventListener","wrong origin",t,"expected",n),e.data){case"unchanged":this.handleSessionUnchanged();break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged")}handleSessionChange(){this.eventsSubject.next(new s$("session_changed")),this.stopSessionCheckTimer(),this.silentRefreshRedirectUri?(this.silentRefresh().catch(e=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new s$("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(hg(e=>"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type),Og()).subscribe(e=>{"silently_refreshed"!==e.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new s$("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new s$("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const e=document.getElementById(this.sessionCheckIFrameName);e&&document.body.removeChild(e);const t=document.createElement("iframe");t.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),t.setAttribute("src",this.sessionCheckIFrameUrl),t.style.display="none",document.body.appendChild(t),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const e=document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const t=this.getSessionState();t||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+t,this.issuer)}createLoginUrl(e="",t="",n="",i=!1,s={}){return UK(this,void 0,void 0,(function*(){let r;r=n||this.redirectUri;const o=yield this.createAndSaveNonce();if(e=e?o+this.config.nonceStateSeparator+e:o,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.responseType=this.config.responseType?this.config.responseType:this.oidc&&this.requestAccessToken?"id_token token":this.oidc&&!this.requestAccessToken?"id_token":"token";const a=this.loginUrl.indexOf("?")>-1?"&":"?";let l=this.scope;this.oidc&&!l.match(/(^|\s)openid($|\s)/)&&(l="openid "+l);let c=this.loginUrl+a+"response_type="+encodeURIComponent(this.responseType)+"&client_id="+encodeURIComponent(this.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(r)+"&scope="+encodeURIComponent(l);if("code"===this.responseType&&!this.disablePKCE){const[e,t]=yield this.createChallangeVerifierPairForPKCE();this._storage.setItem("PKCI_verifier",t),c+="&code_challenge="+e,c+="&code_challenge_method=S256"}t&&(c+="&login_hint="+encodeURIComponent(t)),this.resource&&(c+="&resource="+encodeURIComponent(this.resource)),this.oidc&&(c+="&nonce="+encodeURIComponent(o)),i&&(c+="&prompt=none");for(const e of Object.keys(s))c+="&"+encodeURIComponent(e)+"="+encodeURIComponent(s[e]);if(this.customQueryParams)for(const e of Object.getOwnPropertyNames(this.customQueryParams))c+="&"+e+"="+encodeURIComponent(this.customQueryParams[e]);return c}))}initImplicitFlowInternal(e="",t=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use https, or config value for property requireHttps must allow http");let n={},i=null;"string"==typeof t?i=t:"object"==typeof t&&(n=t),this.createLoginUrl(e,i,null,!1,n).then(this.config.openUri).catch(e=>{console.error("Error in initImplicitFlow",e),this.inImplicitFlow=!1})}initImplicitFlow(e="",t=""){""!==this.loginUrl?this.initImplicitFlowInternal(e,t):this.events.pipe(hg(e=>"discovery_document_loaded"===e.type)).subscribe(n=>this.initImplicitFlowInternal(e,t))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){const t=this;if(e.onTokenReceived){const n={idClaims:t.getIdentityClaims(),idToken:t.getIdToken(),accessToken:t.getAccessToken(),state:t.state};e.onTokenReceived(n)}}storeAccessTokenResponse(e,t,n,i){if(this._storage.setItem("access_token",e),i&&this._storage.setItem("granted_scopes",JSON.stringify(i.split("+"))),this._storage.setItem("access_token_stored_at",""+Date.now()),n){const e=1e3*n,t=(new Date).getTime()+e;this._storage.setItem("expires_at",""+t)}t&&this._storage.setItem("refresh_token",t)}tryLogin(e=null){return"code"===this.config.responseType?this.tryLoginCodeFlow().then(e=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}tryLoginCodeFlow(){const e=this.parseQueryString(window.location.search),t=e.code,n=e.state,i=location.href.replace(/[&\?]code=[^&\$]*/,"").replace(/[&\?]scope=[^&\$]*/,"").replace(/[&\?]state=[^&\$]*/,"").replace(/[&\?]session_state=[^&\$]*/,"");history.replaceState(null,window.name,i);let[s,r]=this.parseState(n);if(this.state=r,e.error){this.debug("error trying to login"),this.handleLoginError({},e);const t=new r$("code_error",{},e);return this.eventsSubject.next(t),Promise.reject(t)}if(!s)return Promise.resolve();if(!this.validateNonce(s)){const e=new r$("invalid_nonce_in_state",null);return this.eventsSubject.next(e),Promise.reject(e)}return t?new Promise((e,n)=>{this.getTokenFromCode(t).then(t=>{e()}).catch(e=>{n(e)})}):Promise.resolve()}getTokenFromCode(e){let t=(new Rq).set("grant_type","authorization_code").set("code",e).set("redirect_uri",this.redirectUri);if(!this.disablePKCE){const e=this._storage.getItem("PKCI_verifier");e?t=t.set("code_verifier",e):console.warn("No PKCI verifier found in oauth storage!")}return this.fetchAndProcessToken(t)}fetchAndProcessToken(e){let t=(new Dq).set("Content-Type","application/x-www-form-urlencoded");if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use Http. Also check property requireHttps.");if(this.useHttpBasicAuth){const e=btoa(`${this.clientId}:${this.dummyClientSecret}`);t=t.set("Authorization","Basic "+e)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((n,i)=>{if(this.customQueryParams)for(let t of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(t,this.customQueryParams[t]);this.http.post(this.tokenEndpoint,e,{headers:t}).subscribe(e=>{this.debug("refresh tokenResponse",e),this.storeAccessTokenResponse(e.access_token,e.refresh_token,e.expires_in,e.scope),this.oidc&&e.id_token?this.processIdToken(e.id_token,e.access_token).then(t=>{this.storeIdToken(t),this.eventsSubject.next(new i$("token_received")),this.eventsSubject.next(new i$("token_refreshed")),n(e)}).catch(e=>{this.eventsSubject.next(new r$("token_validation_error",e)),console.error("Error validating tokens"),console.error(e),i(e)}):(this.eventsSubject.next(new i$("token_received")),this.eventsSubject.next(new i$("token_refreshed")),n(e))},e=>{console.error("Error getting token",e),this.eventsSubject.next(new r$("token_refresh_error",e)),i(e)})})}tryLoginImplicitFlow(e=null){let t;t=(e=e||{}).customHashFragment?this.urlHelper.getHashFragmentParams(e.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",t);const n=t.state;let[i,s]=this.parseState(n);if(this.state=s,t.error){this.debug("error trying to login"),this.handleLoginError(e,t);const n=new r$("token_error",{},t);return this.eventsSubject.next(n),Promise.reject(n)}const r=t.access_token,o=t.id_token,a=t.session_state,l=t.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!r)return Promise.resolve(!1);if(this.requestAccessToken&&!e.disableOAuth2StateCheck&&!n)return Promise.resolve(!1);if(this.oidc&&!o)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!a&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableOAuth2StateCheck&&!this.validateNonce(i)){const e=new r$("invalid_nonce_in_state",null);return this.eventsSubject.next(e),Promise.reject(e)}return this.requestAccessToken&&this.storeAccessTokenResponse(r,null,t.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l),this.oidc?this.processIdToken(o,r).then(t=>e.validationHandler?e.validationHandler({accessToken:r,idClaims:t.idTokenClaims,idToken:t.idToken,state:n}).then(e=>t):t).then(t=>(this.storeIdToken(t),this.storeSessionState(a),this.clearHashAfterLogin&&(location.hash=""),this.eventsSubject.next(new i$("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(e=>(this.eventsSubject.next(new r$("token_validation_error",e)),this.logger.error("Error validating tokens"),this.logger.error(e),Promise.reject(e))):(this.eventsSubject.next(new i$("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&(location.hash=""),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let t=e,n="";if(e){const i=e.indexOf(this.config.nonceStateSeparator);i>-1&&(t=e.substr(0,i),n=e.substr(i+this.config.nonceStateSeparator.length))}return[t,n]}validateNonce(e){const t=this._storage.getItem("nonce");return t===e||(console.error("Validating access_token failed, wrong state/nonce.",t,e),!1)}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+Date.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,t){e.onLoginError&&e.onLoginError(t),this.clearHashAfterLogin&&(location.hash="")}processIdToken(e,t,n=!1){const i=e.split("."),s=JK(this.padBase64(i[0])),r=JSON.parse(s),o=JK(this.padBase64(i[1])),a=JSON.parse(o),l=this._storage.getItem("nonce");if(Array.isArray(a.aud)){if(a.aud.every(e=>e!==this.clientId)){const e="Wrong audience: "+a.aud.join(",");return this.logger.warn(e),Promise.reject(e)}}else if(a.aud!==this.clientId){const e="Wrong audience: "+a.aud;return this.logger.warn(e),Promise.reject(e)}if(!a.sub){const e="No sub claim in id_token";return this.logger.warn(e),Promise.reject(e)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==a.sub){const e=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${a.sub}`;return this.logger.warn(e),Promise.reject(e)}if(!a.iat){const e="No iat claim in id_token";return this.logger.warn(e),Promise.reject(e)}if(!this.skipIssuerCheck&&a.iss!==this.issuer){const e="Wrong issuer: "+a.iss;return this.logger.warn(e),Promise.reject(e)}if(!n&&a.nonce!==l){const e="Wrong nonce: "+a.nonce;return this.logger.warn(e),Promise.reject(e)}if(!this.disableAtHashCheck&&this.requestAccessToken&&!a.at_hash){const e="An at_hash is needed!";return this.logger.warn(e),Promise.reject(e)}const c=Date.now(),u=1e3*a.iat,h=1e3*a.exp,d=1e3*(this.clockSkewInSec||600);if(u-d>=c||h+d<=c){const e="Token has expired";return console.error(e),console.error({now:c,issuedAtMSec:u,expiresAtMSec:h}),Promise.reject(e)}const p={accessToken:t,idToken:e,jwks:this.jwks,idTokenClaims:a,idTokenHeader:r,loadKeys:()=>this.loadJwks()};return this.checkAtHash(p).then(t=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!t){const e="Wrong at_hash";return this.logger.warn(e),Promise.reject(e)}return this.checkSignature(p).then(t=>({idToken:e,idTokenClaims:a,idTokenClaimsJson:o,idTokenHeader:r,idTokenHeaderJson:s,idTokenExpiresAt:h}))})}getIdentityClaims(){const e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){const e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!=0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const e=this._storage.getItem("expires_at"),t=new Date;return!(e&&parseInt(e,10)<t.getTime())}return!1}hasValidIdToken(){if(this.getIdToken()){const e=this._storage.getItem("id_token_expires_at"),t=new Date;return!(e&&parseInt(e,10)<t.getTime())}return!1}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e=!1){const t=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this._storage.removeItem("nonce"),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.silentRefreshSubject=null,this.eventsSubject.next(new s$("logout")),!this.logoutUrl)return;if(e)return;if(!t&&!this.postLogoutRedirectUri)return;let n;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl must use https, or config value for property requireHttps must allow http");if(this.logoutUrl.indexOf("{{")>-1)n=this.logoutUrl.replace(/\{\{id_token\}\}/,t).replace(/\{\{client_id\}\}/,this.clientId);else{let e=new Rq;t&&(e=e.set("id_token_hint",t));const i=this.postLogoutRedirectUri||this.redirectUri;i&&(e=e.set("post_logout_redirect_uri",i)),n=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+e.toString()}this.config.openUri(n)}createAndSaveNonce(){const e=this;return this.createNonce().then((function(t){return e._storage.setItem("nonce",t),t}))}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const t="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-";let n=45,i="";const s=self.crypto||self.msCrypto;if(s){const e=s.getRandomValues(new Uint8Array(n));for(;0<n--;)i+=t[63&e[n]]}else for(;0<n--;)i+=t[64*Math.random()|0];e(i)})}checkAtHash(e){return UK(this,void 0,void 0,(function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)}))}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",t={}){return"code"===this.responseType?this.initCodeFlow(e,t):this.initImplicitFlow(e,t)}initCodeFlow(e="",t={}){""!==this.loginUrl?this.initCodeFlowInternal(e,t):this.events.pipe(hg(e=>"discovery_document_loaded"===e.type)).subscribe(n=>this.initCodeFlowInternal(e,t))}initCodeFlowInternal(e="",t={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use Http. Also check property requireHttps.");this.createLoginUrl(e,"",null,!1,t).then((function(e){location.href=e})).catch(e=>{console.error("Error in initAuthorizationCodeFlow"),console.error(e)})}createChallangeVerifierPairForPKCE(){return UK(this,void 0,void 0,(function*(){if(!this.crypto)throw new Error("PKCI support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const e=yield this.createNonce();return[XK(yield this.crypto.calcHash(e,"sha-256")),e]}))}}return e.\u0275fac=function(t){return new(t||e)(We(ou),We(Gq),We(QK,8),We(e$,8),We(o$,8),We(t$),We(YK),We(l$,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class u${}class h${}class d${handleError(e){return Wb(e)}}let p$=(()=>{class e{constructor(e,t,n,i){this.authStorage=e,this.oAuthService=t,this.errorHandler=n,this.moduleConfig=i}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(t=>e.startsWith(t))}intercept(e,t){const n=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer?this.moduleConfig.resourceServer.allowedUrls&&!this.checkUrl(n)?t.handle(e):this.moduleConfig.resourceServer.sendAccessToken?$(tg(this.oAuthService.getAccessToken()).pipe(hg(e=>!!e)),this.oAuthService.events.pipe(hg(e=>"token_received"===e.type),function(e,t=nb){return function(e,t,n=nb){return i=>{let s=$b(e),r=s?+e-n.now():Math.abs(e);return i.lift(new $K(r,s,t,n))}}(e,Wb(new KK),t)}(this.oAuthService.waitForTokenInMsec||0),Ig(e=>tg(null)),M(e=>this.oAuthService.getAccessToken()))).pipe(Fg(1),j(n=>{if(n){const t=e.headers.set("Authorization","Bearer "+n);e=e.clone({headers:t})}return t.handle(e).pipe(Ig(e=>this.errorHandler.handleError(e)))})):t.handle(e).pipe(Ig(e=>this.errorHandler.handleError(e))):t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(QK),We(c$),We(h$),We(u$,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function f$(){return console}function g$(){return"undefined"!=typeof sessionStorage?sessionStorage:null}class m$ extends class{validateAtHash(e){return UK(this,void 0,void 0,(function*(){let t=this.inferHashAlgorithm(e.idTokenHeader),n=yield this.calcHash(e.accessToken,t),i=XK(n.substr(0,n.length/2)),s=e.idTokenClaims.at_hash.replace(/=/g,"");return i!==s&&(console.error("exptected at_hash: "+i),console.error("actual at_hash: "+s)),i===s}))}inferHashAlgorithm(e){let t=e.alg;if(!t.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+t);return"sha-"+t.substr(2)}}{constructor(){super(...arguments),this.allowedAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.gracePeriodInSec=600}validateSignature(e,t=!1){if(!e.idToken)throw new Error("Parameter idToken expected!");if(!e.idTokenHeader)throw new Error("Parameter idTokenHandler expected.");if(!e.jwks)throw new Error("Parameter jwks expected!");if(!e.jwks.keys||!Array.isArray(e.jwks.keys)||0===e.jwks.keys.length)throw new Error("Array keys in jwks missing!");let n,i=e.idTokenHeader.kid,s=e.jwks.keys,r=e.idTokenHeader.alg;if(i)n=s.find(e=>e.kid===i);else{let e=this.alg2kty(r),t=s.filter(t=>t.kty===e&&"sig"===t.use);if(t.length>1){let e="More than one matching key found. Please specify a kid in the id_token header.";return console.error(e),Promise.reject(e)}1===t.length&&(n=t[0])}if(!n&&!t&&e.loadKeys)return e.loadKeys().then(t=>e.jwks=t).then(t=>this.validateSignature(e,!0));if(!n&&t&&!i){let e="No matching key found.";return console.error(e),Promise.reject(e)}if(!n&&t&&i){let e="expected key not found in property jwks. This property is most likely loaded with the discovery document. Expected key id (kid): "+i;return console.error(e),Promise.reject(e)}let o=ZK.KEYUTIL.getKey(n);return ZK.KJUR.jws.JWS.verifyJWT(e.idToken,o,{alg:this.allowedAlgorithms,gracePeriod:this.gracePeriodInSec})?Promise.resolve():Promise.reject("Signature not valid")}alg2kty(e){switch(e.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+e)}}calcHash(e,t){let n=new ZK.KJUR.crypto.MessageDigest({alg:t}).digestString(e),i=this.toByteArrayAsString(n);return Promise.resolve(i)}toByteArrayAsString(e){let t="";for(let n=0;n<e.length;n+=2){let i=e.charAt(n)+e.charAt(n+1),s=parseInt(i,16);t+=String.fromCharCode(s)}return t}}let v$=(()=>{class e{static forRoot(t=null,n=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}}){return{ngModule:e,providers:[c$,t$,{provide:YK,useFactory:f$},{provide:QK,useFactory:g$},{provide:e$,useClass:n},{provide:l$,useClass:m$},{provide:h$,useClass:d$},{provide:u$,useValue:t},{provide:Kq,useClass:p$,multi:!0}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})();function y$(){return localStorage}let b$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:Wf,useValue:Zf},{provide:QK,useFactory:y$}]}),e})(),w$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})(),C$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,gb]]}),e})(),S$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})(),x$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})(),k$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})(),E$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h]]}),e})(),I$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[w$,C$,S$,x$,E$,k$]}),e})(),_$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[$h,zK,Ed,Kf,LC,MC,jK,oI,cI,Eq,_y,pF,zx,I$]]}),e})(),T$=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[oK,aK,By,aK,Qf],imports:[[$h,rK]]}),e})(),F$=(()=>{class e{}return e.\u0275mod=vt({type:e,bootstrap:[Uy]}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:Wu,useClass:Ju},{provide:QK,useFactory:y$}],imports:[[Ed,Kf,LC,jK,b$,zK,T$,_$,v$.forRoot({resourceServer:{allowedUrls:["*"],sendAccessToken:!0}})]]}),e})();(function(){if(Ci)throw new Error("Cannot enable prod mode after platform setup.");wi=!1})(),xd().bootstrapModule(F$).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);