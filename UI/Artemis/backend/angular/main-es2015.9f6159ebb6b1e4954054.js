(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,i){e.exports=i("zUnb")},E21t:function(e){e.exports=JSON.parse('{"a":"https://artemisdbwebapp.azurewebsites.net/","b":false}')},gfpf:function(e,t){var i={userAgent:!1},n={};if(void 0===s)var s={};s.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var s=function(){};if(s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var r;for(r in n)e.prototype[r]=n[r];var a=function(){},l=["toString","valueOf"];try{/MSIE/.test(i.userAgent)&&(a=function(e,t){for(r=0;r<l.length;r+=1){var i=l[r],n=t[i];"function"==typeof n&&n!=Object.prototype[i]&&(e[i]=n)}})}catch(o){}a(e.prototype,n)}}};var r,o,a,l,c,u,h,d,p,f,g,m=m||(r=Math,a=(o={}).lib={},l=a.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var i=new e;return t&&i.mixIn(t),i.hasOwnProperty("init")||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,s=e.sigBytes;if(this.clamp(),n%4)for(var r=0;r<s;r++)t[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else for(r=0;r<s;r+=4)t[n+r>>>2]=i[r>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=r.ceil(t/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(4294967296*r.random()|0);return new c.init(t,e)}}),u=o.enc={},h=u.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var r=t[s>>>2]>>>24-s%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(i,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++)n.push(String.fromCharCode(t[s>>>2]>>>24-s%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(i,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,i=t.words,n=t.sigBytes,s=this.blockSize,o=n/(4*s),a=(o=e?r.ceil(o):r.max((0|o)-this._minBufferSize,0))*s,l=r.min(4*a,n);if(a){for(var u=0;u<a;u+=s)this._doProcessBlock(i,u);var h=i.splice(0,a);t.sigBytes-=l}return new c.init(h,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),a.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new g.HMAC.init(e,i).finalize(t)}}}),g=o.algo={},o);!function(e){var t,i=(t=m).lib,n=i.Base,s=i.WordArray;(t=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],n=0;n<t;n++){var r=e[n];i.push(r.high),i.push(r.low)}return s.create(i,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),i=t.length,s=0;s<i;s++)t[s]=t[s].clone();return e}})}(),m.lib.Cipher||function(e){var t=(p=m).lib,i=t.Base,n=t.WordArray,s=t.BufferedBlockAlgorithm,r=p.enc.Base64,o=p.algo.EvpKDF,a=t.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,i,n){return("string"==typeof i?f:d).encrypt(e,t,i,n)},decrypt:function(t,i,n){return("string"==typeof i?f:d).decrypt(e,t,i,n)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=p.mode={},c=function(e,t,i){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var s=0;s<i;s++)e[t+s]^=n[s]},u=(t.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;c.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),u.Decryptor=u.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,s=e.slice(t,t+n);i.decryptBlock(e,t),c.call(this,e,t,n),this._prevBlock=s}}),l=l.CBC=u,u=(p.pad={}).Pkcs7={pad:function(e,t){for(var i,s=(i=(i=4*t)-e.sigBytes%i)<<24|i<<16|i<<8|i,r=[],o=0;o<i;o+=4)r.push(s);i=n.create(r,i),e.concat(i)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:l,padding:u}),reset:function(){a.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else i=t.createDecryptor,this._minBufferSize=1;this._mode=i.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(l=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(r)},parse:function(e){var t=(e=r.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var i=n.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:i})}},t.SerializableCipher=i.extend({cfg:i.extend({format:l}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var s=e.createEncryptor(i,n);return t=s.finalize(t),h.create({ciphertext:t,key:i,iv:(s=s.cfg).iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,i,s){return s||(s=n.random(8)),e=o.create({keySize:t+i}).compute(e,s),i=n.create(e.words.slice(t),4*i),e.sigBytes=4*t,h.create({key:e,iv:i,salt:s})}},f=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:p}),encrypt:function(e,t,i,n){return i=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize),n.iv=i.iv,(e=d.encrypt.call(this,e,t,i.key,n)).mixIn(i),e},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),i=n.kdf.execute(i,e.keySize,e.ivSize,t.salt),n.iv=i.iv,d.decrypt.call(this,e,t,i.key,n)}})}(),function(){for(var e=m,t=e.lib.BlockCipher,i=e.algo,n=[],s=[],r=[],o=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[],f=0;256>f;f++)p[f]=128>f?f<<1:f<<1^283;var g=0,v=0;for(f=0;256>f;f++){var y;n[g]=y=(y=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&y^99,s[y]=g;var b=p[g],w=p[b],C=p[w],S=257*p[y]^16843008*y;r[g]=S<<24|S>>>8,o[g]=S<<16|S>>>16,a[g]=S<<8|S>>>24,l[g]=S,c[y]=(S=16843009*C^65537*w^257*b^16843008*g)<<24|S>>>8,u[y]=S<<16|S>>>16,h[y]=S<<8|S>>>24,d[y]=S,g?(g=b^p[p[p[C^b]]],v^=p[p[v]]):g=v=1}var x=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=t.extend({_doReset:function(){for(var e=(i=this._key).words,t=i.sigBytes/4,i=4*((this._nRounds=t+6)+1),s=this._keySchedule=[],r=0;r<i;r++)if(r<t)s[r]=e[r];else{var o=s[r-1];r%t?6<t&&4==r%t&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=n[(o=o<<8|o>>>24)>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=x[r/t|0]<<24),s[r]=s[r-t]^o}for(e=this._invKeySchedule=[],t=0;t<i;t++)r=i-t,o=t%4?s[r]:s[r-4],e[t]=4>t||4>=r?o:c[n[o>>>24]]^u[n[o>>>16&255]]^h[n[o>>>8&255]]^d[n[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,o,a,l,n)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,c,u,h,d,s),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,s,r,o,a){for(var l=this._nRounds,c=e[t]^i[0],u=e[t+1]^i[1],h=e[t+2]^i[2],d=e[t+3]^i[3],p=4,f=1;f<l;f++){var g=n[c>>>24]^s[u>>>16&255]^r[h>>>8&255]^o[255&d]^i[p++],m=n[u>>>24]^s[h>>>16&255]^r[d>>>8&255]^o[255&c]^i[p++],v=n[h>>>24]^s[d>>>16&255]^r[c>>>8&255]^o[255&u]^i[p++];d=n[d>>>24]^s[c>>>16&255]^r[u>>>8&255]^o[255&h]^i[p++],c=g,u=m,h=v}g=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^i[p++],m=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&c])^i[p++],v=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^i[p++],d=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^i[p++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=d},keySize:8}),e.AES=t._createHelper(i)}(),function(){function e(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function t(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}var i,n=m,s=(i=n.lib).WordArray,r=n.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=r.DES=(i=i.BlockCipher).extend({_doReset:function(){for(var e=this._key.words,t=[],i=0;56>i;i++){var n=o[i]-1;t[i]=e[n>>>5]>>>31-n%32&1}for(e=this._subKeys=[],n=0;16>n;n++){var s=e[n]=[],r=l[n];for(i=0;24>i;i++)s[i/6|0]|=t[(a[i]-1+r)%28]<<31-i%6,s[4+(i/6|0)]|=t[28+(a[i+24]-1+r)%28]<<31-i%6;for(s[0]=s[0]<<1|s[0]>>>31,i=1;7>i;i++)s[i]>>>=4*(i-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(t=this._invSubKeys=[],i=0;16>i;i++)t[i]=e[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(i,n,s){this._lBlock=i[n],this._rBlock=i[n+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var r=0;16>r;r++){for(var o=s[r],a=this._lBlock,l=this._rBlock,h=0,d=0;8>d;d++)h|=c[d][((l^o[d])&u[d])>>>0];this._lBlock=l,this._rBlock=a^h}s=this._lBlock,this._lBlock=this._rBlock,this._rBlock=s,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),i[n]=this._lBlock,i[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(h),r=r.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(s.create(e.slice(0,2))),this._des2=h.createEncryptor(s.create(e.slice(2,4))),this._des3=h.createEncryptor(s.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(r)}(),function(){var e=m.lib.WordArray;m.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp(),e=[];for(var s=0;s<i;s+=3)for(var r=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;4>o&&s+.75*o<i;o++)e.push(n.charAt(r>>>6*(3-o)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(t){var i=t.length,n=this._map;(s=n.charAt(64))&&-1!=(s=t.indexOf(s))&&(i=s);for(var s=[],r=0,o=0;o<i;o++)if(o%4){var a=n.indexOf(t.charAt(o-1))<<o%4*2,l=n.indexOf(t.charAt(o))>>>6-o%4*2;s[r>>>2]|=(a|l)<<24-r%4*8,r++}return e.create(s,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,i,n,s,r,o){return((e=e+(t&i|~t&n)+s+o)<<r|e>>>32-r)+t}function i(e,t,i,n,s,r,o){return((e=e+(t&n|i&~n)+s+o)<<r|e>>>32-r)+t}function n(e,t,i,n,s,r,o){return((e=e+(t^i^n)+s+o)<<r|e>>>32-r)+t}function s(e,t,i,n,s,r,o){return((e=e+(i^(t|~n))+s+o)<<r|e>>>32-r)+t}for(var r=m,o=(l=r.lib).WordArray,a=l.Hasher,l=r.algo,c=[],u=0;64>u;u++)c[u]=4294967296*e.abs(e.sin(u+1))|0;l=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var o=0;16>o;o++)e[a=r+o]=16711935&((l=e[a])<<8|l>>>24)|4278255360&(l<<24|l>>>8);var a,l=e[r+1],u=e[r+2],h=e[r+3],d=e[r+4],p=e[r+5],f=e[r+6],g=e[r+7],m=e[r+8],v=e[r+9],y=e[r+10],b=e[r+11],w=e[r+12],C=e[r+13],S=e[r+14],x=e[r+15],k=t(k=(o=this._hash.words)[0],T=o[1],I=o[2],E=o[3],a=e[r+0],7,c[0]),E=t(E,k,T,I,l,12,c[1]),I=t(I,E,k,T,u,17,c[2]),T=t(T,I,E,k,h,22,c[3]);k=t(k,T,I,E,d,7,c[4]),E=t(E,k,T,I,p,12,c[5]),I=t(I,E,k,T,f,17,c[6]),T=t(T,I,E,k,g,22,c[7]),k=t(k,T,I,E,m,7,c[8]),E=t(E,k,T,I,v,12,c[9]),I=t(I,E,k,T,y,17,c[10]),T=t(T,I,E,k,b,22,c[11]),k=t(k,T,I,E,w,7,c[12]),E=t(E,k,T,I,C,12,c[13]),I=t(I,E,k,T,S,17,c[14]),k=i(k,T=t(T,I,E,k,x,22,c[15]),I,E,l,5,c[16]),E=i(E,k,T,I,f,9,c[17]),I=i(I,E,k,T,b,14,c[18]),T=i(T,I,E,k,a,20,c[19]),k=i(k,T,I,E,p,5,c[20]),E=i(E,k,T,I,y,9,c[21]),I=i(I,E,k,T,x,14,c[22]),T=i(T,I,E,k,d,20,c[23]),k=i(k,T,I,E,v,5,c[24]),E=i(E,k,T,I,S,9,c[25]),I=i(I,E,k,T,h,14,c[26]),T=i(T,I,E,k,m,20,c[27]),k=i(k,T,I,E,C,5,c[28]),E=i(E,k,T,I,u,9,c[29]),I=i(I,E,k,T,g,14,c[30]),k=n(k,T=i(T,I,E,k,w,20,c[31]),I,E,p,4,c[32]),E=n(E,k,T,I,m,11,c[33]),I=n(I,E,k,T,b,16,c[34]),T=n(T,I,E,k,S,23,c[35]),k=n(k,T,I,E,l,4,c[36]),E=n(E,k,T,I,d,11,c[37]),I=n(I,E,k,T,g,16,c[38]),T=n(T,I,E,k,y,23,c[39]),k=n(k,T,I,E,C,4,c[40]),E=n(E,k,T,I,a,11,c[41]),I=n(I,E,k,T,h,16,c[42]),T=n(T,I,E,k,f,23,c[43]),k=n(k,T,I,E,v,4,c[44]),E=n(E,k,T,I,w,11,c[45]),I=n(I,E,k,T,x,16,c[46]),k=s(k,T=n(T,I,E,k,u,23,c[47]),I,E,a,6,c[48]),E=s(E,k,T,I,g,10,c[49]),I=s(I,E,k,T,S,15,c[50]),T=s(T,I,E,k,p,21,c[51]),k=s(k,T,I,E,w,6,c[52]),E=s(E,k,T,I,h,10,c[53]),I=s(I,E,k,T,y,15,c[54]),T=s(T,I,E,k,l,21,c[55]),k=s(k,T,I,E,m,6,c[56]),E=s(E,k,T,I,x,10,c[57]),I=s(I,E,k,T,f,15,c[58]),T=s(T,I,E,k,C,21,c[59]),k=s(k,T,I,E,d,6,c[60]),E=s(E,k,T,I,b,10,c[61]),I=s(I,E,k,T,u,15,c[62]),T=s(T,I,E,k,v,21,c[63]),o[0]=o[0]+k|0,o[1]=o[1]+T|0,o[2]=o[2]+I|0,o[3]=o[3]+E|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;i[s>>>5]|=128<<24-s%32;var r=e.floor(n/4294967296);for(i[15+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i[14+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),i=(t=this._hash).words,n=0;4>n;n++)i[n]=16711935&((s=i[n])<<8|s>>>24)|4278255360&(s<<24|s>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=a._createHelper(l),r.HmacMD5=a._createHmacHelper(l)}(Math),function(){var e=m,t=(s=e.lib).WordArray,i=s.Hasher,n=[],s=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,s=i[0],r=i[1],o=i[2],a=i[3],l=i[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var u=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=u<<1|u>>>31}u=(s<<5|s>>>27)+l+n[c],u=20>c?u+(1518500249+(r&o|~r&a)):40>c?u+(1859775393+(r^o^a)):60>c?u+((r&o|r&a|o&a)-1894007588):u+((r^o^a)-899497514),l=a,a=o,o=r<<30|r>>>2,r=s,s=u}i[0]=i[0]+s|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),function(e){for(var t=m,i=(s=t.lib).WordArray,n=s.Hasher,s=t.algo,r=[],o=[],a=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var u;e:{for(var h=e.sqrt(u=l),d=2;d<=h;d++)if(!(u%d)){u=!1;break e}u=!0}u&&(8>c&&(r[c]=a(e.pow(l,.5))),o[c]=a(e.pow(l,1/3)),c++),l++}var p=[];s=s.SHA256=n.extend({_doReset:function(){this._hash=new i.init(r.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],s=i[1],r=i[2],a=i[3],l=i[4],c=i[5],u=i[6],h=i[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var f=p[d-15],g=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[d-16]}f=h+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&u)+o[d]+p[d],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&s^n&r^s&r),h=u,u=c,c=l,l=a+f|0,a=r,r=s,s=n,n=f+g|0}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+r|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0,i[5]=i[5]+c|0,i[6]=i[6]+u|0,i[7]=i[7]+h|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;return i[s>>>5]|=128<<24-s%32,i[14+(s+64>>>9<<4)]=e.floor(n/4294967296),i[15+(s+64>>>9<<4)]=n,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=n._createHelper(s),t.HmacSHA256=n._createHmacHelper(s)}(Math),function(){var e=m,t=e.lib.WordArray,i=(n=e.algo).SHA256,n=n.SHA224=i.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=i._createHelper(n),e.HmacSHA224=i._createHmacHelper(n)}(),function(){function e(){return n.create.apply(n,arguments)}for(var t=m,i=t.lib.Hasher,n=(r=t.x64).Word,s=r.WordArray,r=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],l=0;80>l;l++)a[l]=e();r=r.SHA512=i.extend({_doReset:function(){this._hash=new s.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i,n=(i=this._hash.words)[0],s=i[1],r=i[2],l=i[3],c=i[4],u=i[5],h=i[6],d=n.high,p=n.low,f=s.high,g=s.low,m=r.high,v=r.low,y=l.high,b=l.low,w=c.high,C=c.low,S=u.high,x=u.low,k=h.high,E=h.low,I=(i=i[7]).high,T=i.low,_=d,F=p,D=f,A=g,R=m,O=v,P=y,N=b,M=w,L=C,V=S,H=x,B=k,z=E,j=I,U=T,G=0;80>G;G++){var q=a[G];if(16>G)var $=q.high=0|e[t+2*G],K=q.low=0|e[t+2*G+1];else{$=((K=($=a[G-15]).high)>>>1|(W=$.low)<<31)^(K>>>8|W<<24)^K>>>7;var W=(W>>>1|K<<31)^(W>>>8|K<<24)^(W>>>7|K<<25),Z=((K=(Z=a[G-2]).high)>>>19|(Y=Z.low)<<13)^(K<<3|Y>>>29)^K>>>6,Y=(Y>>>19|K<<13)^(Y<<3|K>>>29)^(Y>>>6|K<<26);q.high=$=($=($=$+(Q=(K=a[G-7]).high)+((K=W+K.low)>>>0<W>>>0?1:0))+Z+((K+=Y)>>>0<Y>>>0?1:0))+(ie=(J=a[G-16]).high)+((K+=J=J.low)>>>0<J>>>0?1:0),q.low=K}var Q=M&V^~M&B,J=L&H^~L&z,X=(q=_&D^_&R^D&R,F&A^F&O^A&O),ee=(Y=o[G]).high,te=Y.low,ie=j+((M>>>14|L<<18)^(M>>>18|L<<14)^(M<<23|L>>>9))+((Y=U+((L>>>14|M<<18)^(L>>>18|M<<14)^(L<<23|M>>>9)))>>>0<U>>>0?1:0);j=B,U=z,B=V,z=H,V=M,H=L,M=P+(ie=(ie=(ie=ie+Q+((Y+=J)>>>0<J>>>0?1:0))+ee+((Y+=te)>>>0<te>>>0?1:0))+$+((Y+=K)>>>0<K>>>0?1:0))+((L=N+Y|0)>>>0<N>>>0?1:0)|0,P=R,N=O,R=D,O=A,D=_,A=F,_=ie+(q=(W=(_>>>28|F<<4)^(_<<30|F>>>2)^(_<<25|F>>>7))+q+((K=(Z=(F>>>28|_<<4)^(F<<30|_>>>2)^(F<<25|_>>>7))+X)>>>0<Z>>>0?1:0))+((F=Y+K|0)>>>0<Y>>>0?1:0)|0}p=n.low=p+F,n.high=d+_+(p>>>0<F>>>0?1:0),g=s.low=g+A,s.high=f+D+(g>>>0<A>>>0?1:0),v=r.low=v+O,r.high=m+R+(v>>>0<O>>>0?1:0),b=l.low=b+N,l.high=y+P+(b>>>0<N>>>0?1:0),C=c.low=C+L,c.high=w+M+(C>>>0<L>>>0?1:0),x=u.low=x+H,u.high=S+V+(x>>>0<H>>>0?1:0),E=h.low=E+z,h.high=k+B+(E>>>0<z>>>0?1:0),T=i.low=T+U,i.high=I+j+(T>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(n+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=i._createHelper(r),t.HmacSHA512=i._createHmacHelper(r)}(),function(){var e=m,t=(s=e.x64).Word,i=s.WordArray,n=(s=e.algo).SHA512,s=s.SHA384=n.extend({_doReset:function(){this._hash=new i.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=n._createHelper(s),e.HmacSHA384=n._createHmacHelper(s)}(),function(){var e=m,t=(n=e.lib).WordArray,i=n.Hasher,n=e.algo,s=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),r=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=t.create([0,1518500249,1859775393,2400959708,2840853838]),c=t.create([1352829926,1548603684,1836072691,2053994217,0]);n=n.RIPEMD160=i.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;16>i;i++)e[n=t+i]=16711935&((C=e[n])<<8|C>>>24)|4278255360&(C<<24|C>>>8);var n,u,h,d,p,f,g,m,v,y,b,w,C=l.words,S=c.words,x=s.words,k=r.words,E=o.words,I=a.words;for(g=u=(n=this._hash.words)[0],m=h=n[1],v=d=n[2],y=p=n[3],b=f=n[4],i=0;80>i;i+=1)w=u+e[t+x[i]]|0,w=16>i?w+((h^d^p)+C[0]):32>i?w+((h&d|~h&p)+C[1]):48>i?w+(((h|~d)^p)+C[2]):64>i?w+((h&p|d&~p)+C[3]):w+((h^(d|~p))+C[4]),w=(w=(w|=0)<<E[i]|w>>>32-E[i])+f|0,u=f,f=p,p=d<<10|d>>>22,d=h,h=w,w=g+e[t+k[i]]|0,w=16>i?w+((m^(v|~y))+S[0]):32>i?w+((m&y|v&~y)+S[1]):48>i?w+(((m|~v)^y)+S[2]):64>i?w+((m&v|~m&y)+S[3]):w+((m^v^y)+S[4]),w=(w=(w|=0)<<I[i]|w>>>32-I[i])+b|0,g=b,b=y,y=v<<10|v>>>22,v=m,m=w;w=n[1]+d+y|0,n[1]=n[2]+p+b|0,n[2]=n[3]+f+g|0,n[3]=n[4]+u+m|0,n[4]=n[0]+h+v|0,n[0]=w},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;for(t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,i=0;5>i;i++)t[i]=16711935&((n=t[i])<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=i._createHelper(n),e.HmacRIPEMD160=i._createHmacHelper(n)}(Math),function(){var e=m.enc.Utf8;m.algo.HMAC=m.lib.Base.extend({init:function(t,i){t=this._hasher=new t.init,"string"==typeof i&&(i=e.parse(i));var n=t.blockSize,s=4*n;i.sigBytes>s&&(i=t.finalize(i)),i.clamp();for(var r=this._oKey=i.clone(),o=this._iKey=i.clone(),a=r.words,l=o.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;r.sigBytes=o.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=m,i=(e=t.lib).Base,n=e.WordArray,s=(e=t.algo).HMAC,r=e.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=s.create((u=this.cfg).hasher,e),r=n.create(),o=n.create([1]),a=r.words,l=o.words,c=u.keySize,u=u.iterations;a.length<c;){var h=i.update(t).finalize(o);i.reset();for(var d=h.words,p=d.length,f=h,g=1;g<u;g++){f=i.finalize(f),i.reset();for(var m=f.words,v=0;v<p;v++)d[v]^=m[v]}r.concat(h),l[0]++}return r.sigBytes=4*c,r}});t.PBKDF2=function(e,t,i){return r.create(i).compute(e,t)}}();var v,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function b(e){var t,i,n="";for(t=0;t+3<=e.length;t+=3)i=parseInt(e.substring(t,t+3),16),n+=y.charAt(i>>6)+y.charAt(63&i);for(t+1==e.length?(i=parseInt(e.substring(t,t+1),16),n+=y.charAt(i<<2)):t+2==e.length&&(i=parseInt(e.substring(t,t+2),16),n+=y.charAt(i>>2)+y.charAt((3&i)<<4));(3&n.length)>0;)n+="=";return n}function w(e){var t,i,n,s="",r=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(n=y.indexOf(e.charAt(t)))<0||(0==r?(s+=T(n>>2),i=3&n,r=1):1==r?(s+=T(i<<2|n>>4),i=15&n,r=2):2==r?(s+=T(i),s+=T(n>>2),i=3&n,r=3):(s+=T(i<<2|n>>4),s+=T(15&n),r=0));return 1==r&&(s+=T(i<<2)),s}function C(e){var t,i=w(e),n=new Array;for(t=0;2*t<i.length;++t)n[t]=parseInt(i.substring(2*t,2*t+2),16);return n}function S(e,t,i){null!=e&&("number"==typeof e?this.fromNumber(e,t,i):this.fromString(e,null==t&&"string"!=typeof e?256:t))}function x(){return new S(null)}"Microsoft Internet Explorer"==i.appName?(S.prototype.am=function(e,t,i,n,s,r){for(var o=32767&t,a=t>>15;--r>=0;){var l=32767&this[e],c=this[e++]>>15,u=a*l+c*o;s=((l=o*l+((32767&u)<<15)+i[n]+(1073741823&s))>>>30)+(u>>>15)+a*c+(s>>>30),i[n++]=1073741823&l}return s},v=30):"Netscape"!=i.appName?(S.prototype.am=function(e,t,i,n,s,r){for(;--r>=0;){var o=t*this[e++]+i[n]+s;s=Math.floor(o/67108864),i[n++]=67108863&o}return s},v=26):(S.prototype.am=function(e,t,i,n,s,r){for(var o=16383&t,a=t>>14;--r>=0;){var l=16383&this[e],c=this[e++]>>14,u=a*l+c*o;s=((l=o*l+((16383&u)<<14)+i[n]+s)>>28)+(u>>14)+a*c,i[n++]=268435455&l}return s},v=28),S.prototype.DB=v,S.prototype.DM=(1<<v)-1,S.prototype.DV=1<<v,S.prototype.FV=Math.pow(2,52),S.prototype.F1=52-v,S.prototype.F2=2*v-52;var k,E,I=new Array;for(k="0".charCodeAt(0),E=0;E<=9;++E)I[k++]=E;for(k="a".charCodeAt(0),E=10;E<36;++E)I[k++]=E;for(k="A".charCodeAt(0),E=10;E<36;++E)I[k++]=E;function T(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function _(e,t){var i=I[e.charCodeAt(t)];return null==i?-1:i}function F(e){var t=x();return t.fromInt(e),t}function D(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function A(e){this.m=e}function R(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function O(e,t){return e&t}function P(e,t){return e|t}function N(e,t){return e^t}function M(e,t){return e&~t}function L(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function V(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function H(){}function B(e){return e}function z(e){this.r2=x(),this.q3=x(),S.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}A.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},A.prototype.revert=function(e){return e},A.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},A.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},A.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},R.prototype.convert=function(e){var t=x();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(S.ZERO)>0&&this.m.subTo(t,t),t},R.prototype.revert=function(e){var t=x();return e.copyTo(t),this.reduce(t),t},R.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],n=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[i=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},R.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},R.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},S.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},S.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},S.prototype.fromString=function(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.fromRadix(e,t);i=2}this.t=0,this.s=0;for(var n=e.length,s=!1,r=0;--n>=0;){var o=8==i?255&e[n]:_(e,n);o<0?"-"==e.charAt(n)&&(s=!0):(s=!1,0==r?this[this.t++]=o:r+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-r)-1)<<r,this[this.t++]=o>>this.DB-r):this[this.t-1]|=o<<r,(r+=i)>=this.DB&&(r-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r)),this.clamp(),s&&S.ZERO.subTo(this,this)},S.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},S.prototype.dlShiftTo=function(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s},S.prototype.drShiftTo=function(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s},S.prototype.lShiftTo=function(e,t){var i,n=e%this.DB,s=this.DB-n,r=(1<<s)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(i=this.t-1;i>=0;--i)t[i+o+1]=this[i]>>s|a,a=(this[i]&r)<<n;for(i=o-1;i>=0;--i)t[i]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},S.prototype.rShiftTo=function(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var n=e%this.DB,s=this.DB-n,r=(1<<n)-1;t[0]=this[i]>>n;for(var o=i+1;o<this.t;++o)t[o-i-1]|=(this[o]&r)<<s,t[o-i]=this[o]>>n;n>0&&(t[this.t-i-1]|=(this.s&r)<<s),t.t=this.t-i,t.clamp()}},S.prototype.subTo=function(e,t){for(var i=0,n=0,s=Math.min(e.t,this.t);i<s;)n+=this[i]-e[i],t[i++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;i<this.t;)n+=this[i],t[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<e.t;)n-=e[i],t[i++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[i++]=this.DV+n:n>0&&(t[i++]=n),t.t=i,t.clamp()},S.prototype.multiplyTo=function(e,t){var i=this.abs(),n=e.abs(),s=i.t;for(t.t=s+n.t;--s>=0;)t[s]=0;for(s=0;s<n.t;++s)t[s+i.t]=i.am(0,n[s],t,s,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&S.ZERO.subTo(t,t)},S.prototype.squareTo=function(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var n=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,n,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()},S.prototype.divRemTo=function(e,t,i){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=x());var r=x(),o=this.s,a=e.s,l=this.DB-D(n[n.t-1]);l>0?(n.lShiftTo(l,r),s.lShiftTo(l,i)):(n.copyTo(r),s.copyTo(i));var c=r.t,u=r[c-1];if(0!=u){var h=u*(1<<this.F1)+(c>1?r[c-2]>>this.F2:0),d=this.FV/h,p=(1<<this.F1)/h,f=1<<this.F2,g=i.t,m=g-c,v=null==t?x():t;for(r.dlShiftTo(m,v),i.compareTo(v)>=0&&(i[i.t++]=1,i.subTo(v,i)),S.ONE.dlShiftTo(c,v),v.subTo(r,r);r.t<c;)r[r.t++]=0;for(;--m>=0;){var y=i[--g]==u?this.DM:Math.floor(i[g]*d+(i[g-1]+f)*p);if((i[g]+=r.am(0,y,i,m,0,c))<y)for(r.dlShiftTo(m,v),i.subTo(v,i);i[g]<--y;)i.subTo(v,i)}null!=t&&(i.drShiftTo(c,t),o!=a&&S.ZERO.subTo(t,t)),i.t=c,i.clamp(),l>0&&i.rShiftTo(l,i),o<0&&S.ZERO.subTo(i,i)}}},S.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},S.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},S.prototype.exp=function(e,t){if(e>4294967295||e<1)return S.ONE;var i=x(),n=x(),s=t.convert(this),r=D(e)-1;for(s.copyTo(i);--r>=0;)if(t.sqrTo(i,n),(e&1<<r)>0)t.mulTo(n,s,i);else{var o=i;i=n,n=o}return t.revert(i)},S.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,n=(1<<t)-1,s=!1,r="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(i=this[o]>>a)>0&&(s=!0,r=T(i));o>=0;)a<t?(i=(this[o]&(1<<a)-1)<<t-a,i|=this[--o]>>(a+=this.DB-t)):(i=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),i>0&&(s=!0),s&&(r+=T(i));return s?r:"0"},S.prototype.negate=function(){var e=x();return S.ZERO.subTo(this,e),e},S.prototype.abs=function(){return this.s<0?this.negate():this},S.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(0!=(t=i-e.t))return this.s<0?-t:t;for(;--i>=0;)if(0!=(t=this[i]-e[i]))return t;return 0},S.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)},S.prototype.mod=function(e){var t=x();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(S.ZERO)>0&&e.subTo(t,t),t},S.prototype.modPowInt=function(e,t){var i;return i=e<256||t.isEven()?new A(t):new R(t),this.exp(e,i)},S.ZERO=F(0),S.ONE=F(1),H.prototype.convert=B,H.prototype.revert=B,H.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i)},H.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=x();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var j,U,G,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],$=(1<<26)/q[q.length-1];function K(){this.i=0,this.j=0,this.S=new Array}function W(){!function(e){U[G++]^=255&e,U[G++]^=e>>8&255,U[G++]^=e>>16&255,U[G++]^=e>>24&255,G>=256&&(G-=256)}((new Date).getTime())}if(S.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},S.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),n=F(i),s=x(),r=x(),o="";for(this.divRemTo(n,s,r);s.signum()>0;)o=(i+r.intValue()).toString(e).substr(1)+o,s.divRemTo(n,s,r);return r.intValue().toString(e)+o},S.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),n=Math.pow(t,i),s=!1,r=0,o=0,a=0;a<e.length;++a){var l=_(e,a);l<0?"-"==e.charAt(a)&&0==this.signum()&&(s=!0):(o=t*o+l,++r>=i&&(this.dMultiply(n),this.dAddOffset(o,0),r=0,o=0))}r>0&&(this.dMultiply(Math.pow(t,r)),this.dAddOffset(o,0)),s&&S.ZERO.subTo(this,this)},S.prototype.fromNumber=function(e,t,i){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(S.ONE.shiftLeft(e-1),P,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(S.ONE.shiftLeft(e-1),this);else{var n=new Array,s=7&e;n.length=1+(e>>3),t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}},S.prototype.bitwiseTo=function(e,t,i){var n,s,r=Math.min(e.t,this.t);for(n=0;n<r;++n)i[n]=t(this[n],e[n]);if(e.t<this.t){for(s=e.s&this.DM,n=r;n<this.t;++n)i[n]=t(this[n],s);i.t=this.t}else{for(s=this.s&this.DM,n=r;n<e.t;++n)i[n]=t(s,e[n]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()},S.prototype.changeBit=function(e,t){var i=S.ONE.shiftLeft(e);return this.bitwiseTo(i,t,i),i},S.prototype.addTo=function(e,t){for(var i=0,n=0,s=Math.min(e.t,this.t);i<s;)n+=this[i]+e[i],t[i++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;i<this.t;)n+=this[i],t[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<e.t;)n+=e[i],t[i++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[i++]=n:n<-1&&(t[i++]=this.DV+n),t.t=i,t.clamp()},S.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},S.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},S.prototype.multiplyLowerTo=function(e,t,i){var n,s=Math.min(this.t+e.t,t);for(i.s=0,i.t=s;s>0;)i[--s]=0;for(n=i.t-this.t;s<n;++s)i[s+this.t]=this.am(0,e[s],i,s,0,this.t);for(n=Math.min(e.t,t);s<n;++s)this.am(0,e[s],i,s,0,t-s);i.clamp()},S.prototype.multiplyUpperTo=function(e,t,i){--t;var n=i.t=this.t+e.t-t;for(i.s=0;--n>=0;)i[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)i[this.t+n-t]=this.am(t-n,e[n],i,0,0,this.t+n-t);i.clamp(),i.drShiftTo(1,i)},S.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this[0]%e;else for(var n=this.t-1;n>=0;--n)i=(t*i+this[n])%e;return i},S.prototype.millerRabin=function(e){var t=this.subtract(S.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var n=t.shiftRight(i);(e=e+1>>1)>q.length&&(e=q.length);for(var s=x(),r=0;r<e;++r){s.fromInt(q[Math.floor(Math.random()*q.length)]);var o=s.modPow(n,this);if(0!=o.compareTo(S.ONE)&&0!=o.compareTo(t)){for(var a=1;a++<i&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(S.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},S.prototype.clone=function(){var e=x();return this.copyTo(e),e},S.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},S.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},S.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},S.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},S.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var i,n=this.DB-e*this.DB%8,s=0;if(e-- >0)for(n<this.DB&&(i=this[e]>>n)!=(this.s&this.DM)>>n&&(t[s++]=i|this.s<<this.DB-n);e>=0;)n<8?(i=(this[e]&(1<<n)-1)<<8-n,i|=this[--e]>>(n+=this.DB-8)):(i=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&i)&&(i|=-256),0==s&&(128&this.s)!=(128&i)&&++s,(s>0||i!=this.s)&&(t[s++]=i);return t},S.prototype.equals=function(e){return 0==this.compareTo(e)},S.prototype.min=function(e){return this.compareTo(e)<0?this:e},S.prototype.max=function(e){return this.compareTo(e)>0?this:e},S.prototype.and=function(e){var t=x();return this.bitwiseTo(e,O,t),t},S.prototype.or=function(e){var t=x();return this.bitwiseTo(e,P,t),t},S.prototype.xor=function(e){var t=x();return this.bitwiseTo(e,N,t),t},S.prototype.andNot=function(e){var t=x();return this.bitwiseTo(e,M,t),t},S.prototype.not=function(){for(var e=x(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},S.prototype.shiftLeft=function(e){var t=x();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},S.prototype.shiftRight=function(e){var t=x();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},S.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+L(this[e]);return this.s<0?this.t*this.DB:-1},S.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=V(this[i]^t);return e},S.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},S.prototype.setBit=function(e){return this.changeBit(e,P)},S.prototype.clearBit=function(e){return this.changeBit(e,M)},S.prototype.flipBit=function(e){return this.changeBit(e,N)},S.prototype.add=function(e){var t=x();return this.addTo(e,t),t},S.prototype.subtract=function(e){var t=x();return this.subTo(e,t),t},S.prototype.multiply=function(e){var t=x();return this.multiplyTo(e,t),t},S.prototype.divide=function(e){var t=x();return this.divRemTo(e,t,null),t},S.prototype.remainder=function(e){var t=x();return this.divRemTo(e,null,t),t},S.prototype.divideAndRemainder=function(e){var t=x(),i=x();return this.divRemTo(e,t,i),new Array(t,i)},S.prototype.modPow=function(e,t){var i,n,s=e.bitLength(),r=F(1);if(s<=0)return r;i=s<18?1:s<48?3:s<144?4:s<768?5:6,n=s<8?new A(t):t.isEven()?new z(t):new R(t);var o=new Array,a=3,l=i-1,c=(1<<i)-1;if(o[1]=n.convert(this),i>1){var u=x();for(n.sqrTo(o[1],u);a<=c;)o[a]=x(),n.mulTo(u,o[a-2],o[a]),a+=2}var h,d,p=e.t-1,f=!0,g=x();for(s=D(e[p])-1;p>=0;){for(s>=l?h=e[p]>>s-l&c:(h=(e[p]&(1<<s+1)-1)<<l-s,p>0&&(h|=e[p-1]>>this.DB+s-l)),a=i;0==(1&h);)h>>=1,--a;if((s-=a)<0&&(s+=this.DB,--p),f)o[h].copyTo(r),f=!1;else{for(;a>1;)n.sqrTo(r,g),n.sqrTo(g,r),a-=2;a>0?n.sqrTo(r,g):(d=r,r=g,g=d),n.mulTo(g,o[h],r)}for(;p>=0&&0==(e[p]&1<<s);)n.sqrTo(r,g),d=r,r=g,g=d,--s<0&&(s=this.DB-1,--p)}return n.revert(r)},S.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return S.ZERO;for(var i=e.clone(),n=this.clone(),s=F(1),r=F(0),o=F(0),a=F(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),t?(s.isEven()&&r.isEven()||(s.addTo(this,s),r.subTo(e,r)),s.rShiftTo(1,s)):r.isEven()||r.subTo(e,r),r.rShiftTo(1,r);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);i.compareTo(n)>=0?(i.subTo(n,i),t&&s.subTo(o,s),r.subTo(a,r)):(n.subTo(i,n),t&&o.subTo(s,o),a.subTo(r,a))}return 0!=n.compareTo(S.ONE)?S.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},S.prototype.pow=function(e){return this.exp(e,new H)},S.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var n=t;t=i,i=n}var s=t.getLowestSetBit(),r=i.getLowestSetBit();if(r<0)return t;for(s<r&&(r=s),r>0&&(t.rShiftTo(r,t),i.rShiftTo(r,i));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return r>0&&i.lShiftTo(r,i),i},S.prototype.isProbablePrime=function(e){var t,i=this.abs();if(1==i.t&&i[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(i[0]==q[t])return!0;return!1}if(i.isEven())return!1;for(t=1;t<q.length;){for(var n=q[t],s=t+1;s<q.length&&n<$;)n*=q[s++];for(n=i.modInt(n);t<s;)if(n%q[t++]==0)return!1}return i.millerRabin(e)},S.prototype.square=function(){var e=x();return this.squareTo(e),e},K.prototype.init=function(e){var t,i,n;for(t=0;t<256;++t)this.S[t]=t;for(i=0,t=0;t<256;++t)n=this.S[t],this.S[t]=this.S[i=i+this.S[t]+e[t%e.length]&255],this.S[i]=n;this.i=0,this.j=0},K.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==U){var Z;if(U=new Array,G=0,void 0!==n&&(void 0!==n.crypto||void 0!==n.msCrypto)){var Y=n.crypto||n.msCrypto;if(Y.getRandomValues){var Q=new Uint8Array(32);for(Y.getRandomValues(Q),Z=0;Z<32;++Z)U[G++]=Q[Z]}else if("Netscape"==i.appName&&i.appVersion<"5"){var J=n.crypto.random(32);for(Z=0;Z<J.length;++Z)U[G++]=255&J.charCodeAt(Z)}}for(;G<256;)Z=Math.floor(65536*Math.random()),U[G++]=Z>>>8,U[G++]=255&Z;G=0,W()}function X(){if(null==j){for(W(),(j=new K).init(U),G=0;G<U.length;++G)U[G]=0;G=0}return j.next()}function ee(){}function te(e,t){return new S(e,t)}function ie(e,t,i){for(var n="",s=0;n.length<t;)n+=i(String.fromCharCode.apply(String,e.concat([(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s]))),s+=1;return n}function ne(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function se(e,t,i){for(var n="",s=0;n.length<t;)n+=i(e+String.fromCharCode.apply(String,[(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s])),s+=1;return n}function re(e,t){this.x=t,this.q=e}function oe(e,t,i,n){this.curve=e,this.x=t,this.y=i,this.z=null==n?S.ONE:n,this.zinv=null}function ae(e,t,i){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(i),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=X()},ne.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ne.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},ne.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var i=new Array,n=e.length-1;n>=0&&t>0;){var s=e.charCodeAt(n--);s<128?i[--t]=s:s>127&&s<2048?(i[--t]=63&s|128,i[--t]=s>>6|192):(i[--t]=63&s|128,i[--t]=s>>6&63|128,i[--t]=s>>12|224)}i[--t]=0;for(var r=new ee,o=new Array;t>2;){for(o[0]=0;0==o[0];)r.nextBytes(o);i[--t]=o[0]}return i[--t]=2,i[--t]=0,new S(i)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var i=this.doPublic(t);if(null==i)return null;var n=i.toString(16);return 0==(1&n.length)?n:"0"+n},ne.prototype.encryptOAEP=function(e,t,i){var n=function(e,t,i,n){var s=ce.crypto.MessageDigest,r=ce.crypto.Util,o=null;if(i||(i="sha1"),"string"==typeof i&&(o=s.getCanonicalAlgName(i),n=s.getHashLength(o),i=function(e){return xe(r.hashHex(ke(e),o))}),e.length+2*n+2>t)throw"Message too long for RSA";var a,l="";for(a=0;a<t-e.length-2*n-2;a+=1)l+="\0";var c=i("")+l+"\x01"+e,u=new Array(n);(new ee).nextBytes(u);var h=ie(u,c.length,i),d=[];for(a=0;a<c.length;a+=1)d[a]=c.charCodeAt(a)^h.charCodeAt(a);var p=ie(d,u.length,i),f=[0];for(a=0;a<u.length;a+=1)f[a+1]=u[a]^p.charCodeAt(a);return new S(f.concat(d))}(e,this.n.bitLength()+7>>3,t,i);if(null==n)return null;var s=this.doPublic(n);if(null==s)return null;var r=s.toString(16);return 0==(1&r.length)?r:"0"+r},ne.prototype.type="RSA",ne.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(i)<0;)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},ne.prototype.setPrivate=function(e,t,i){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=i;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(i,16)}},ne.prototype.setPrivateEx=function(e,t,i,n,s,r,o,a){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(i,16),this.p=te(n,16),this.q=te(s,16),this.dmp1=te(r,16),this.dmq1=te(o,16),this.coeff=te(a,16)},ne.prototype.generate=function(e,t){var i=new ee,n=e>>1;this.e=parseInt(t,16);for(var s=new S(t,16);;){for(;this.p=new S(e-n,1,i),0!=this.p.subtract(S.ONE).gcd(s).compareTo(S.ONE)||!this.p.isProbablePrime(10););for(;this.q=new S(n,1,i),0!=this.q.subtract(S.ONE).gcd(s).compareTo(S.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var r=this.p;this.p=this.q,this.q=r}var o=this.p.subtract(S.ONE),a=this.q.subtract(S.ONE),l=o.multiply(a);if(0==l.gcd(s).compareTo(S.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=s.modInverse(l),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},ne.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=te(e,16),i=this.doPrivate(t);return null==i?null:function(e,t){for(var i=e.toByteArray(),n=0;n<i.length&&0==i[n];)++n;if(i.length-n!=t-1||2!=i[n])return null;for(++n;0!=i[n];)if(++n>=i.length)return null;for(var s="";++n<i.length;){var r=255&i[n];r<128?s+=String.fromCharCode(r):r>191&&r<224?(s+=String.fromCharCode((31&r)<<6|63&i[n+1]),++n):(s+=String.fromCharCode((15&r)<<12|(63&i[n+1])<<6|63&i[n+2]),n+=2)}return s}(i,this.n.bitLength()+7>>3)},ne.prototype.decryptOAEP=function(e,t,i){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var n=te(e,16),s=this.doPrivate(n);return null==s?null:function(e,t,i,n){var s=ce.crypto.MessageDigest,r=ce.crypto.Util,o=null;for(i||(i="sha1"),"string"==typeof i&&(o=s.getCanonicalAlgName(i),n=s.getHashLength(o),i=function(e){return xe(r.hashHex(ke(e),o))}),e=e.toByteArray(),a=0;a<e.length;a+=1)e[a]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*n+2)throw"Cipher too short";var a,l=e.substr(1,n),c=e.substr(n+1),u=se(c,n,i),h=[];for(a=0;a<l.length;a+=1)h[a]=l.charCodeAt(a)^u.charCodeAt(a);var d=se(String.fromCharCode.apply(String,h),e.length-n,i),p=[];for(a=0;a<c.length;a+=1)p[a]=c.charCodeAt(a)^d.charCodeAt(a);if((p=String.fromCharCode.apply(String,p)).substr(0,n)!==i(""))throw"Hash mismatch";var f=(p=p.substr(n)).indexOf("\x01");if((-1!=f?p.substr(0,f).lastIndexOf("\0"):-1)+1!=f)throw"Malformed data";return p.substr(f+1)}(s,this.n.bitLength()+7>>3,t,i)},re.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},re.prototype.toBigInteger=function(){return this.x},re.prototype.negate=function(){return new re(this.q,this.x.negate().mod(this.q))},re.prototype.add=function(e){return new re(this.q,this.x.add(e.toBigInteger()).mod(this.q))},re.prototype.subtract=function(e){return new re(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},re.prototype.multiply=function(e){return new re(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},re.prototype.square=function(){return new re(this.q,this.x.square().mod(this.q))},re.prototype.divide=function(e){return new re(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(S.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(S.ZERO)&&!this.y.toBigInteger().equals(S.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),i=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(S.ZERO.equals(i))return S.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new S("3"),s=this.x.toBigInteger(),r=this.y.toBigInteger(),o=(e.x.toBigInteger(),e.y.toBigInteger(),i.square()),a=o.multiply(i),l=s.multiply(o),c=t.square().multiply(this.z),u=c.subtract(l.shiftLeft(1)).multiply(e.z).subtract(a).multiply(i).mod(this.curve.q),h=l.multiply(n).multiply(t).subtract(r.multiply(a)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),d=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(u),this.curve.fromBigInteger(h),d)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new S("3"),t=this.x.toBigInteger(),i=this.y.toBigInteger(),n=i.multiply(this.z),s=n.multiply(i).mod(this.curve.q),r=this.curve.a.toBigInteger(),o=t.square().multiply(e);S.ZERO.equals(r)||(o=o.add(this.z.square().multiply(r)));var a=(o=o.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(n).mod(this.curve.q),l=o.multiply(e).multiply(t).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(o.square().multiply(o)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(l),c)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,i=e,n=i.multiply(new S("3")),s=this.negate(),r=this,o=this.curve.q.subtract(e),a=o.multiply(new S("3")),l=new oe(this.curve,this.x,this.y),c=l.negate();for(t=n.bitLength()-2;t>0;--t){r=r.twice();var u=n.testBit(t);u!=i.testBit(t)&&(r=r.add(u?this:s))}for(t=a.bitLength()-2;t>0;--t){l=l.twice();var h=a.testBit(t);h!=o.testBit(t)&&(l=l.add(h?l:c))}return r},oe.prototype.multiplyTwo=function(e,t,i){var n;n=e.bitLength()>i.bitLength()?e.bitLength()-1:i.bitLength()-1;for(var s=this.curve.getInfinity(),r=this.add(t);n>=0;)s=s.twice(),e.testBit(n)?s=i.testBit(n)?s.add(r):s.add(this):i.testBit(n)&&(s=s.add(t)),--n;return s},ae.prototype.getQ=function(){return this.q},ae.prototype.getA=function(){return this.a},ae.prototype.getB=function(){return this.b},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ae.prototype.getInfinity=function(){return this.infinity},ae.prototype.fromBigInteger=function(e){return new re(this.q,e)},ae.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,i=e.substr(2,t),n=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new S(i,16)),this.fromBigInteger(new S(n,16)));default:return null}},re.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var i=e.toByteArrayUnsigned();if(t<i.length)i=i.slice(i.length-t);else for(;t>i.length;)i.unshift(0);return i},i=this.getX().toBigInteger(),n=this.getY().toBigInteger(),s=t(i,32);return e?n.isEven()?s.unshift(2):s.unshift(3):(s.unshift(4),s=s.concat(t(n,32))),s},oe.decodeFrom=function(e,t){var i=t.length-1,n=t.slice(1,1+i/2),s=t.slice(1+i/2,1+i);n.unshift(0),s.unshift(0);var r=new S(n),o=new S(s);return new oe(e,e.fromBigInteger(r),e.fromBigInteger(o))},oe.decodeFromHex=function(e,t){t.substr(0,2);var i=t.length-2,n=t.substr(2,i/2),s=t.substr(2+i/2,i/2),r=new S(n,16),o=new S(s,16);return new oe(e,e.fromBigInteger(r),e.fromBigInteger(o))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),i=e.y.subtract(this.y).divide(t),n=i.square().subtract(this.x).subtract(e.x),s=i.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,s)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(S.valueOf(2)),t=this.curve.fromBigInteger(S.valueOf(3)),i=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=i.square().subtract(this.x.multiply(e)),s=i.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,s)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,i=e,n=i.multiply(new S("3")),s=this.negate(),r=this;for(t=n.bitLength()-2;t>0;--t){r=r.twice();var o=n.testBit(t);o!=i.testBit(t)&&(r=r.add2D(o?this:s))}return r},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),i=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),s=this.curve.getQ(),r=t.multiply(t).mod(s),o=e.multiply(e).multiply(e).add(i.multiply(e)).add(n).mod(s);return r.equals(o)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),i=this.getY().toBigInteger();if(t.compareTo(S.ONE)<0||t.compareTo(e.subtract(S.ONE))>0)throw new Error("x coordinate out of bounds");if(i.compareTo(S.ONE)<0||i.compareTo(e.subtract(S.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var le=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),i={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function n(e,t,n){return t?i[t]:String.fromCharCode(parseInt(n,16))}var s=new String(""),r=Object.hasOwnProperty;return function(i,o){var a,l,c=i.match(e),u=c[0],h=!1;"{"===u?a={}:"["===u?a=[]:(a=[],h=!0);for(var d=[a],p=1-h,f=c.length;p<f;++p){var g;switch((u=c[p]).charCodeAt(0)){default:(g=d[0])[l||g.length]=+u,l=void 0;break;case 34:if(-1!==(u=u.substring(1,u.length-1)).indexOf("\\")&&(u=u.replace(t,n)),g=d[0],!l){if(!(g instanceof Array)){l=u||s;break}l=g.length}g[l]=u,l=void 0;break;case 91:d.unshift((g=d[0])[l||g.length]=[]),l=void 0;break;case 93:d.shift();break;case 102:(g=d[0])[l||g.length]=!1,l=void 0;break;case 110:(g=d[0])[l||g.length]=null,l=void 0;break;case 116:(g=d[0])[l||g.length]=!0,l=void 0;break;case 123:d.unshift((g=d[0])[l||g.length]={}),l=void 0;break;case 125:d.shift()}}if(h){if(1!==d.length)throw new Error;a=a[0]}else if(d.length)throw new Error;if(o){var m=function(e,t){var i=e[t];if(i&&"object"==typeof i){var n=null;for(var s in i)if(r.call(i,s)&&i!==e){var a=m(i,s);void 0!==a?i[s]=a:(n||(n=[]),n.push(s))}if(n)for(var l=n.length;--l>=0;)delete i[n[l]]}return o.call(e,t,i)};a=m({"":a},"")}return a}}();void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substr(1).length;i%2==1?i+=1:t.match(/^[0-7]/)||(i+=2);for(var n="",s=0;s<i;s++)n+="f";t=new S(n,16).xor(e).add(S.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return _e(e,t)},this.newObject=function(e){var t=ce.asn1,i=t.DERBoolean,n=t.DERInteger,s=t.DERBitString,r=t.DEROctetString,o=t.DERNull,a=t.DERObjectIdentifier,l=t.DEREnumerated,c=t.DERUTF8String,u=t.DERNumericString,h=t.DERPrintableString,d=t.DERTeletexString,p=t.DERIA5String,f=t.DERUTCTime,g=t.DERGeneralizedTime,m=t.DERVisibleString,v=t.DERBMPString,y=t.DERSequence,b=t.DERSet,w=t.DERTaggedObject,C=t.ASN1Util.newObject,S=Object.keys(e);if(1!=S.length)throw"key of param shall be only one.";var x=S[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+x+":"))throw new Error("undefined key: "+x);if("bool"==x)return new i(e[x]);if("int"==x)return new n(e[x]);if("bitstr"==x)return new s(e[x]);if("octstr"==x)return new r(e[x]);if("null"==x)return new o(e[x]);if("oid"==x)return new a(e[x]);if("enum"==x)return new l(e[x]);if("utf8str"==x)return new c(e[x]);if("numstr"==x)return new u(e[x]);if("prnstr"==x)return new h(e[x]);if("telstr"==x)return new d(e[x]);if("ia5str"==x)return new p(e[x]);if("utctime"==x)return new f(e[x]);if("gentime"==x)return new g(e[x]);if("visstr"==x)return new m(e[x]);if("bmpstr"==x)return new v(e[x]);if("seq"==x){for(var k=e[x],E=[],I=0;I<k.length;I++){var T=C(k[I]);E.push(T)}return new y({array:E})}if("set"==x){for(k=e[x],E=[],I=0;I<k.length;I++)T=C(k[I]),E.push(T);return new b({array:E})}if("tag"==x){var _=e[x];if("[object Array]"===Object.prototype.toString.call(_)&&3==_.length){var F=C(_[2]);return new w({tag:_[0],explicit:_[1],obj:F})}var D={};if(void 0!==_.explicit&&(D.explicit=_.explicit),void 0!==_.tag&&(D.tag=_.tag),void 0===_.obj)throw"obj shall be specified for 'tag'.";return D.obj=C(_.obj),new w(D)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",i=parseInt(e.substr(0,2),16),n=(t=Math.floor(i/40)+"."+i%40,""),s=2;s<e.length;s+=2){var r=("00000000"+parseInt(e.substr(s,2),16).toString(2)).slice(-8);n+=r.substr(1,7),"0"==r.substr(0,1)&&(t=t+"."+new S(n,2).toString(10),n="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",n=new S(e,10).toString(2),s=7-n.length%7;7==s&&(s=0);for(var r="",o=0;o<s;o++)r+="0";for(n=r+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),i+=t(parseInt(a,2))}return i};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",s=e.split("."),r=40*parseInt(s[0])+parseInt(s[1]);n+=t(r),s.splice(0,2);for(var o=0;o<s.length;o++)n+=i(s[o]);return n},ce.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var i=t.length/2;if(i>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+i).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Ce(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},s.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,i){var n=this.zeroPadding,s=this.localDateToUTC(e),r=String(s.getFullYear());"utc"==t&&(r=r.substr(2,2));var o=r+n(String(s.getMonth()+1),2)+n(String(s.getDate()),2)+n(String(s.getHours()),2)+n(String(s.getMinutes()),2)+n(String(s.getSeconds()),2);if(!0===i){var a=s.getMilliseconds();if(0!=a){var l=n(String(a),3);o=o+"."+(l=l.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=me(e)},this.setByDateValue=function(e,t,i,n,s,r){var o=new Date(Date.UTC(e,t-1,i,n,s,r,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},s.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},s.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},s.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},s.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var i="0"+e;this.hTLV=null,this.isModified=!0,this.hV=i+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var i=0;i<=t;i++)e+="0";var n="";for(i=0;i<e.length-1;i+=8){var s=e.substr(i,8),r=parseInt(s,2).toString(16);1==r.length&&(r="0"+r),n+=r}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",i=0;i<e.length;i++)t+=1==e[i]?"1":"0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},s.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},s.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},s.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",n=new S(e,10).toString(2),s=7-n.length%7;7==s&&(s=0);for(var r="",o=0;o<s;o++)r+="0";for(n=r+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),i+=t(parseInt(a,2))}return i};ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",s=e.split("."),r=40*parseInt(s[0])+parseInt(s[1]);n+=t(r),s.splice(0,2);for(var o=0;o<s.length;o++)n+=i(s[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},s.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new S(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},s.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},s.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},s.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},s.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},s.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},s.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},s.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},s.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},s.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},s.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},s.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++)e.push(this.asn1Array[t].getEncodedHex());return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},s.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,i){this.hT=t,this.isExplicit=e,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},s.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,ue,he,de=new function(){};function pe(e){for(var t=new Array,i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}function fe(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t}function ge(e){for(var t="",i=0;i<e.length;i++){var n=e[i].toString(16);1==n.length&&(n="0"+n),t+=n}return t}function me(e){return ge(pe(e))}function ve(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function be(e){return e.length%2==1&&(e="0"+e),ve(b(e))}function we(e){return w(ye(e))}function Ce(e){return Re(Le(e))}function Se(e){return decodeURIComponent(Oe(e))}function xe(e){for(var t="",i=0;i<e.length-1;i+=2)t+=String.fromCharCode(parseInt(e.substr(i,2),16));return t}function ke(e){for(var t="",i=0;i<e.length;i++)t+=("0"+e.charCodeAt(i).toString(16)).slice(-2);return t}function Ee(e){return b(e)}function Ie(e){return Ee(e).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Te(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function _e(e,t){return"-----BEGIN "+t+"-----\r\n"+Ie(e)+"\r\n-----END "+t+"-----\r\n"}function Fe(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Te(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function De(e){var t,i,n,s,r,o,a,l,c,u,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=h[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),i=parseInt(h[2])-1,n=parseInt(h[3]),s=parseInt(h[4]),r=parseInt(h[5]),o=parseInt(h[6]),a=0,""!==(c=h[7])&&(u=(c.substr(1)+"00").substr(0,3),a=parseInt(u)),Date.UTC(t,i,n,s,r,o,a);throw"unsupported zulu format: "+e}function Ae(e){return~~(De(e)/1e3)}function Re(e){return e.replace(/%/g,"")}function Oe(e){return e.replace(/(..)/g,"%$1")}function Pe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var i=(e=e.toLowerCase()).split(":").length-1;if(i<2)throw t;var n=":".repeat(7-i+2),s=(e=e.replace("::",n)).split(":");if(8!=s.length)throw t;for(var r=0;r<8;r++)s[r]=("0000"+s[r]).slice(-4);return s.join("")}function Ne(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),i=0;i<8;i++)t[i]=t[i].replace(/^0+/,""),""==t[i]&&(t[i]="0");var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===n)return e.slice(1,-1);var s="";for(i=0;i<n.length;i++)n[i].length>s.length&&(s=n[i]);return(e=e.replace(s,"::")).slice(1,-1)}function Me(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Ne(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(o){throw t}}function Le(e){for(var t=encodeURIComponent(e),i="",n=0;n<t.length;n++)"%"==t[n]?(i+=t.substr(n,3),n+=2):i=i+"%"+me(t[n]);return i}function Ve(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function He(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,i){var n=parseInt(e);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(o){throw"malformed integer array string: "+o}}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var i=parseInt(e.substr(t+3,1));return 0==i?-1:0<i&&i<10?i+1:-2},de.getL=function(e,t){var i=de.getLblen(e,t);return i<1?"":e.substr(t+2,2*i)},de.getVblen=function(e,t){var i;return""==(i=de.getL(e,t))?-1:("8"===i.substr(0,1)?new S(i.substr(2),16):new S(i,16)).intValue()},de.getVidx=function(e,t){var i=de.getLblen(e,t);return i<0?i:t+2*(i+1)},de.getV=function(e,t){var i=de.getVidx(e,t),n=de.getVblen(e,t);return e.substr(i,2*n)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var i=de,n=new Array,s=i.getVidx(e,t);"03"==e.substr(t,2)?n.push(s+2):n.push(s);for(var r=i.getVblen(e,t),o=s,a=0;;){var l=i.getNextSiblingIdx(e,o);if(null==l||l-s>=2*r)break;if(a>=200)break;n.push(l),o=l,a++}return n},de.getNthChildIdx=function(e,t,i){return de.getChildIdx(e,t)[i]},de.getIdxbyList=function(e,t,i,n){var s,r,o=de;if(0==i.length){if(void 0!==n&&e.substr(t,2)!==n)throw Error("checking tag doesn't match: "+e.substr(t,2)+"!="+n);return t}return s=i.shift(),r=o.getChildIdx(e,t),o.getIdxbyList(e,r[s],i,n)},de.getIdxbyListEx=function(e,t,i,n){var s,r,o=de;if(0==i.length)return void 0!==n&&e.substr(t,2)!==n?-1:t;s=i.shift(),r=o.getChildIdx(e,t);for(var a=0,l=0;l<r.length;l++){var c=e.substr(r[l],2);if("number"==typeof s&&!o.isContextTag(c)&&a==s||"string"==typeof s&&o.isContextTag(c,s))return o.getIdxbyListEx(e,r[l],i,n);o.isContextTag(c)||a++}return-1},de.getTLVbyList=function(e,t,i,n){var s=de,r=s.getIdxbyList(e,t,i);if(void 0===r)throw new Error("can't find nthList object");if(void 0!==n&&e.substr(r,2)!=n)throw new Error("checking tag doesn't match: "+e.substr(r,2)+"!="+n);return s.getTLV(e,r)},de.getTLVbyListEx=function(e,t,i,n){var s=de,r=s.getIdxbyListEx(e,t,i,n);return-1==r?null:s.getTLV(e,r)},de.getVbyList=function(e,t,i,n,s){var r,o,a=de;if(void 0===(r=a.getIdxbyList(e,t,i,n)))throw"can't find nthList object";return o=a.getV(e,r),!0===s&&(o=o.substr(2)),o},de.getVbyListEx=function(e,t,i,n,s){var r,o,a=de;return-1==(r=a.getIdxbyListEx(e,t,i,n))?null:(o=a.getV(e,r),"03"==e.substr(r,2)&&!1!==s&&(o=o.substr(2)),o)},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},i=[],n=e.substr(0,2),s=parseInt(n,16);i[0]=new String(Math.floor(s/40)),i[1]=new String(s%40);for(var r=e.substr(2),o=[],a=0;a<r.length/2;a++)o.push(parseInt(r.substr(2*a,2),16));var l=[],c="";for(a=0;a<o.length;a++)128&o[a]?c+=t((127&o[a]).toString(2),7):(c+=t((127&o[a]).toString(2),7),l.push(new String(parseInt(c,2))),c="");var u=i.join(".");return l.length>0&&(u=u+"."+l.join(".")),u},de.dump=function(e,t,i,n){var s=de,r=s.getV,o=s.dump,a=s.getChildIdx,l=e;e instanceof ce.asn1.ASN1Object&&(l=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===i&&(i=0),void 0===n&&(n="");var u,h=t.ommit_long_octet;if("01"==(u=l.substr(i,2)))return"00"==(d=r(l,i))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==u)return n+"INTEGER "+c(d=r(l,i),h)+"\n";if("03"==u){var d=r(l,i);return s.isASN1HEX(d.substr(2))?(S=n+"BITSTRING, encapsulates\n")+o(d.substr(2),t,0,n+"  "):n+"BITSTRING "+c(d,h)+"\n"}if("04"==u)return d=r(l,i),s.isASN1HEX(d)?(S=n+"OCTETSTRING, encapsulates\n")+o(d,t,0,n+"  "):n+"OCTETSTRING "+c(d,h)+"\n";if("05"==u)return n+"NULL\n";if("06"==u){var p=r(l,i),f=ce.asn1.ASN1Util.oidHexToInt(p),g=ce.asn1.x509.OID.oid2name(f),m=f.replace(/\./g," ");return""!=g?n+"ObjectIdentifier "+g+" ("+m+")\n":n+"ObjectIdentifier ("+m+")\n"}if("0c"==u)return n+"UTF8String '"+Se(r(l,i))+"'\n";if("13"==u)return n+"PrintableString '"+Se(r(l,i))+"'\n";if("14"==u)return n+"TeletexString '"+Se(r(l,i))+"'\n";if("16"==u)return n+"IA5String '"+Se(r(l,i))+"'\n";if("17"==u)return n+"UTCTime "+Se(r(l,i))+"\n";if("18"==u)return n+"GeneralizedTime "+Se(r(l,i))+"\n";if("1a"==u)return n+"VisualString '"+Se(r(l,i))+"'\n";if("1e"==u)return n+"BMPString '"+Se(r(l,i))+"'\n";if("30"==u){if("3000"==l.substr(i,4))return n+"SEQUENCE {}\n";S=n+"SEQUENCE\n";var v=t;if((2==(w=a(l,i)).length||3==w.length)&&"06"==l.substr(w[0],2)&&"04"==l.substr(w[w.length-1],2)){g=s.oidname(r(l,w[0]));var y=JSON.parse(JSON.stringify(t));y.x509ExtName=g,v=y}for(var b=0;b<w.length;b++)S+=o(l,v,w[b],n+"  ");return S}if("31"==u){S=n+"SET\n";var w=a(l,i);for(b=0;b<w.length;b++)S+=o(l,t,w[b],n+"  ");return S}if(0!=(128&(u=parseInt(u,16)))){var C=31&u;if(0!=(32&u)){var S=n+"["+C+"]\n";for(w=a(l,i),b=0;b<w.length;b++)S+=o(l,t,w[b],n+"  ");return S}return"68747470"==(d=r(l,i)).substr(0,8)&&(d=Se(d)),"subjectAltName"===t.x509ExtName&&2==C&&(d=Se(d)),n+"["+C+"] "+d+"\n"}return n+"UNKNOWN("+u+") "+r(l,i)+"\n"},de.isContextTag=function(e,t){var i,n;e=e.toLowerCase();try{i=parseInt(e,16)}catch(d){return-1}if(void 0===t)return 128==(192&i);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((n=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&i)&&(31&i)==n}catch(d){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var i=t.getVblen(e,0),n=e.substr(0,2),s=t.getL(e,0);return e.length-n.length-s.length==2*i},de.checkStrictDER=function(e,t,i,n,s){var r=de;if(void 0===i){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");i=e.length,s=(n=e.length/2)<128?1:Math.ceil(n.toString(16))+1}if(r.getL(e,t).length>2*s)throw new Error("L of TLV too long: idx="+t);var o=r.getVblen(e,t);if(o>n)throw new Error("value of L too long than hex: idx="+t);var a=r.getTLV(e,t),l=a.length-2-r.getL(e,t).length;if(l!==2*o)throw new Error("V string length and L's value not the same:"+l+"/"+2*o);if(0===t&&e.length!=a.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+a.length);var c=e.substr(t,2);if("02"===c){var u=r.getVidx(e,t);if("00"==e.substr(u,2)&&e.charCodeAt(u+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var h=r.getVblen(e,t),d=0,p=r.getChildIdx(e,t),f=0;f<p.length;f++)d+=r.getTLV(e,p[f]).length,r.checkStrictDER(e,p[f],i,n,s);if(2*h!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+d)}},de.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var i=t.x509.OID.oid2name(e);return""===i&&(i=e),i},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.x509&&ce.asn1.x509||(ce.asn1.x509={}),ce.asn1.x509.Certificate=function(e){ce.asn1.x509.Certificate.superclass.constructor.call(this);var t=ce.asn1,i=t.DERSequence,n=t.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var e=new ce.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});e.init(this.prvKey),e.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=e.sign(),this.asn1Sig=new n({hex:"00"+this.hexSig});var t=new i({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(e){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=e,this.asn1Sig=new n({hex:"00"+this.hexSig});var t=new i({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+Ie(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==e&&(void 0!==e.tbscertobj&&(this.asn1TBSCert=e.tbscertobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},s.lang.extend(ce.asn1.x509.Certificate,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertificate=function(e){ce.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ce.asn1,i=t.DERSequence,n=t.DERInteger,s=t.DERTaggedObject,r=t.x509,o=r.Time,a=r.X500Name,l=r.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new s({obj:new n({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(e){this.asn1SerialNumber=new n(e)},this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new r.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new a(e)},this.setNotBeforeByParam=function(e){this.asn1NotBefore=new o(e)},this.setNotAfterByParam=function(e){this.asn1NotAfter=new o(e)},this.setSubjectByParam=function(e){this.asn1Subject=new a(e)},this.setSubjectPublicKey=function(e){this.asn1SubjPKey=new l(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=Be.getKey(e);this.asn1SubjPKey=new l(t)},this.appendExtension=function(e){this.extensionsArray.push(e)},this.appendExtensionByName=function(e,t){ce.asn1.x509.Extension.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var e=new i({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(e),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var t=new i({array:this.extensionsArray}),n=new s({explicit:!0,tag:"a3",obj:t});this.asn1Array.push(n)}var r=new i({array:this.asn1Array});return this.hTLV=r.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},s.lang.extend(ce.asn1.x509.TBSCertificate,ce.asn1.ASN1Object),ce.asn1.x509.Extension=function(e){ce.asn1.x509.Extension.superclass.constructor.call(this);var t=ce.asn1,i=t.DERObjectIdentifier,n=t.DEROctetString,s=t.DERBoolean,r=t.DERSequence;this.getEncodedHex=function(){var e=new i({oid:this.oid}),t=new n({hex:this.getExtnValueHex()}),o=new Array;return o.push(e),this.critical&&o.push(new s),o.push(t),new r({array:o}).getEncodedHex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},s.lang.extend(ce.asn1.x509.Extension,ce.asn1.ASN1Object),ce.asn1.x509.Extension.appendByNameToArray=function(e,t,i){var n=e.toLowerCase(),s=ce.asn1.x509;if("basicconstraints"==n){var r=new s.BasicConstraints(t);i.push(r)}else if("keyusage"==n)r=new s.KeyUsage(t),i.push(r);else if("crldistributionpoints"==n)r=new s.CRLDistributionPoints(t),i.push(r);else if("extkeyusage"==n)r=new s.ExtKeyUsage(t),i.push(r);else if("authoritykeyidentifier"==n)r=new s.AuthorityKeyIdentifier(t),i.push(r);else if("subjectkeyidentifier"==n)r=new s.SubjectKeyIdentifier(t),i.push(r);else if("authorityinfoaccess"==n)r=new s.AuthorityInfoAccess(t),i.push(r);else if("subjectaltname"==n)r=new s.SubjectAltName(t),i.push(r);else if("issueraltname"==n)r=new s.IssuerAltName(t),i.push(r);else{if("certificatepolicies"!=n)throw new Error("unsupported extension name: "+e);r=new s.CertificatePolicies(t),i.push(r)}},ce.asn1.x509.KeyUsage=function(e){ce.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=qe.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==e&&(void 0!==e.bin&&(this.asn1ExtnValue=new ce.asn1.DERBitString(e)),void 0!==e.names&&void 0!==e.names.length)){for(var i=e.names,n="000000000",s=0;s<i.length;s++)for(var r=0;r<t.length;r++)i[s]===t[r]&&(n=n.substring(0,r)+"1"+n.substring(r+1,n.length));this.asn1ExtnValue=new ce.asn1.DERBitString({bin:n})}},s.lang.extend(ce.asn1.x509.KeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.BasicConstraints=function(e){ce.asn1.x509.BasicConstraints.superclass.constructor.call(this,e),this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new ce.asn1.DERBoolean),this.pathLen>-1&&e.push(new ce.asn1.DERInteger({int:this.pathLen}));var t=new ce.asn1.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},s.lang.extend(ce.asn1.x509.BasicConstraints,ce.asn1.x509.Extension),ce.asn1.x509.CRLDistributionPoints=function(e){ce.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ce.asn1,i=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(e){this.asn1ExtnValue=new t.DERSequence({array:e})},this.setByOneURI=function(e){var t=new i.GeneralNames([{uri:e}]),n=new i.DistributionPointName(t),s=new i.DistributionPoint({dpobj:n});this.setByDPArray([s])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},s.lang.extend(ce.asn1.x509.CRLDistributionPoints,ce.asn1.x509.Extension),ce.asn1.x509.CertificatePolicies=function(e){ce.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ce.asn1,i=t.DERSequence,n=t.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new n(this.params.array[t]));var s=new i({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.CertificatePolicies,ce.asn1.x509.Extension),ce.asn1.x509.PolicyInformation=function(e){ce.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ce.asn1,i=t.DERSequence,n=t.DERObjectIdentifier,s=t.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new n({oid:this.params.policyoid})];if(void 0!==this.params.array){for(var t=[],r=0;r<this.params.array.length;r++)t.push(new s(this.params.array[r]));t.length>0&&e.push(new i({array:t}))}return new i({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.PolicyInformation,ce.asn1.ASN1Object),ce.asn1.x509.PolicyQualifierInfo=function(e){ce.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ce.asn1,i=t.DERSequence,n=t.DERIA5String,s=t.DERObjectIdentifier,r=t.x509.UserNotice;this.params=null,this.getEncodedHex=function(){return void 0!==this.params.cps?new i({array:[new s({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]}).getEncodedHex():null!=this.params.unotice?new i({array:[new s({oid:"1.3.6.1.5.5.7.2.2"}),new r(this.params.unotice)]}).getEncodedHex():void 0},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.PolicyQualifierInfo,ce.asn1.ASN1Object),ce.asn1.x509.UserNotice=function(e){ce.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,i=ce.asn1.x509.DisplayText,n=ce.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new n(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new i(this.params.exptext)),new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.UserNotice,ce.asn1.ASN1Object),ce.asn1.x509.NoticeReference=function(e){ce.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,i=ce.asn1.DERInteger,n=ce.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var e=[];if(void 0!==this.params.org&&e.push(new n(this.params.org)),void 0!==this.params.noticenum){for(var s=[],r=this.params.noticenum,o=0;o<r.length;o++)s.push(new i(r[o]));e.push(new t({array:s}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.NoticeReference,ce.asn1.ASN1Object),ce.asn1.x509.DisplayText=function(e){ce.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},s.lang.extend(ce.asn1.x509.DisplayText,ce.asn1.DERAbstractString),ce.asn1.x509.ExtKeyUsage=function(e){ce.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ce.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var i=0;i<e.length;i++){var n=new t.DERObjectIdentifier(e[i]);this.asn1ExtnValue.appendASN1Object(n)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},s.lang.extend(ce.asn1.x509.ExtKeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityKeyIdentifier=function(e){ce.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1,i=t.DERTaggedObject,n=t.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new i({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new i({explicit:!1,tag:"a1",obj:new n([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new i({explicit:!1,tag:"82",obj:this.asn1CertSN}));var s=new t.DERSequence({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ce.asn1.DEROctetString(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=Be.getKey(e));var i=Be.getKeyID(t);this.asn1KID=new ce.asn1.DEROctetString({hex:i})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ce.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ce.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ce.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new qe;t.readCertPEM(e);var i=t.getSerialNumberHex();this.asn1CertSN=new ce.asn1.DERInteger({hex:i})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},s.lang.extend(ce.asn1.x509.AuthorityKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.SubjectKeyIdentifier=function(e){ce.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var i=e;"string"==typeof e&&(i=Be.getKey(e));var n=Be.getKeyID(i);this.asn1KID=new ce.asn1.DEROctetString({hex:n})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},s.lang.extend(ce.asn1.x509.SubjectKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityInfoAccess=function(e){ce.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,i=ce.asn1,n=i.DERSequence,s=0;s<e.length;s++){var r=new n({array:[new i.DERObjectIdentifier(e[s].accessMethod),new i.x509.GeneralName(e[s].accessLocation)]});t.push(r)}this.asn1ExtnValue=new n({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},s.lang.extend(ce.asn1.x509.AuthorityInfoAccess,ce.asn1.x509.Extension),ce.asn1.x509.SubjectAltName=function(e){ce.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},s.lang.extend(ce.asn1.x509.SubjectAltName,ce.asn1.x509.Extension),ce.asn1.x509.IssuerAltName=function(e){ce.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},s.lang.extend(ce.asn1.x509.IssuerAltName,ce.asn1.x509.Extension),ce.asn1.x509.CRL=function(e){ce.asn1.x509.CRL.superclass.constructor.call(this),this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new ce.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg,prov:"cryptojs/jsrsa"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new ce.asn1.DERBitString({hex:"00"+this.hexSig});var e=new ce.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+Ie(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==e&&(void 0!==e.tbsobj&&(this.asn1TBSCertList=e.tbsobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},s.lang.extend(ce.asn1.x509.CRL,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertList=function(e){ce.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ce.asn1,i=t.DERSequence,n=t.x509,s=n.Time;this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new n.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new n.X500Name(e)},this.setThisUpdateByParam=function(e){this.asn1ThisUpdate=new s(e)},this.setNextUpdateByParam=function(e){this.asn1NextUpdate=new s(e)},this.addRevokedCert=function(e,t){var i={};null!=e&&null!=e&&(i.sn=e),null!=t&&null!=t&&(i.time=t);var s=new n.CRLEntry(i);this.aRevokedCert.push(s)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var e=new i({array:this.aRevokedCert});this.asn1Array.push(e)}var t=new i({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},s.lang.extend(ce.asn1.x509.TBSCertList,ce.asn1.ASN1Object),ce.asn1.x509.CRLEntry=function(e){ce.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ce.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},s.lang.extend(ce.asn1.x509.CRLEntry,ce.asn1.ASN1Object),ce.asn1.x509.X500Name=function(e){ce.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var t,i=ce.asn1,n=i.x509;this.setByString=function(e){var t=e.split("/");t.shift();for(var i=[],s=0;s<t.length;s++)if(t[s].match(/^[^=]+=.+$/))i.push(t[s]);else{var r=i.length-1;i[r]=i[r]+"/"+t[s]}for(s=0;s<i.length;s++)this.asn1Array.push(new n.RDN({str:i[s]}))},this.setByLdapString=function(e){var t=n.X500Name.ldapToCompat(e);this.setByString(t)},this.setByObject=function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=new ce.asn1.x509.RDN({str:t+"="+e[t]});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new i.DERSequence({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new qe).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new qe).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e))},s.lang.extend(ce.asn1.x509.X500Name,ce.asn1.ASN1Object),ce.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),(t=t.map((function(e){return e.replace(/,/,"\\,")}))).join(",")},ce.asn1.x509.X500Name.onelineToLDAP=function(e){return ce.asn1.x509.X500Name.compatToLDAP(e)},ce.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),i=!1,n=[],s=0;t.length>0;s++){var r=t.shift();if(!0===i){var o=(n.pop()+","+r).replace(/\\,/g,",");n.push(o),i=!1}else n.push(r);"\\"===r.substr(-1,1)&&(i=!0)}return(n=n.map((function(e){return e.replace("/","\\/")}))).reverse(),"/"+n.join("/")},ce.asn1.x509.X500Name.ldapToOneline=function(e){return ce.asn1.x509.X500Name.ldapToCompat(e)},ce.asn1.x509.RDN=function(e){ce.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(e){this.asn1Array.push(new ce.asn1.x509.AttributeTypeAndValue({str:e}))},this.addByMultiValuedString=function(e){for(var t=ce.asn1.x509.RDN.parseString(e),i=0;i<t.length;i++)this.addByString(t[i])},this.getEncodedHex=function(){var e=new ce.asn1.DERSet({array:this.asn1Array});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.addByMultiValuedString(e.str)},s.lang.extend(ce.asn1.x509.RDN,ce.asn1.ASN1Object),ce.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),i=!1,n=[],s=0;t.length>0;s++){var r=t.shift();if(!0===i){var o=(n.pop()+"+"+r).replace(/\\\+/g,"+");n.push(o),i=!1}else n.push(r);"\\"===r.substr(-1,1)&&(i=!0)}var a=!1,l=[];for(s=0;n.length>0;s++){if(r=n.shift(),!0===a){var c=l.pop();r.match(/"$/)?(o=(c+"+"+r).replace(/^([^=]+)="(.*)"$/,"$1=$2"),l.push(o),a=!1):l.push(c+"+"+r)}else l.push(r);r.match(/^[^=]+="/)&&(a=!0)}return l},ce.asn1.x509.AttributeTypeAndValue=function(e){ce.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var t=ce.asn1;this.setByString=function(e){var t=e.match(/^([^=]+)=(.+)$/);if(!t)throw"malformed attrTypeAndValueStr: "+e;this.setByAttrTypeAndValueStr(t[1],t[2])},this.setByAttrTypeAndValueStr=function(e,t){this.typeObj=ce.asn1.x509.OID.atype2obj(e);var i="utf8";"C"==e&&(i="prn"),this.valueObj=this.getValueObj(i,t)},this.getValueObj=function(e,i){if("utf8"==e)return new t.DERUTF8String({str:i});if("prn"==e)return new t.DERPrintableString({str:i});if("tel"==e)return new t.DERTeletexString({str:i});if("ia5"==e)return new t.DERIA5String({str:i});throw"unsupported directory string type: type="+e+" value="+i},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.setByString(e.str)},s.lang.extend(ce.asn1.x509.AttributeTypeAndValue,ce.asn1.ASN1Object),ce.asn1.x509.SubjectPublicKeyInfo=function(e){ce.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ce.asn1,i=t.DERInteger,n=t.DERBitString,s=t.DERObjectIdentifier,r=t.DERSequence,o=t.ASN1Util.newObject,a=t.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new r({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var e=this.getASN1Object();return this.hTLV=e.getEncodedHex(),this.hTLV},this.setPubKey=function(e){try{if(e instanceof ne){var t=o({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).getEncodedHex();this.asn1AlgId=new a({name:"rsaEncryption"}),this.asn1SubjPKey=new n({hex:"00"+t})}}catch(c){}try{if(e instanceof ce.crypto.ECDSA){var r=new s({name:e.curveName});this.asn1AlgId=new a({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new n({hex:"00"+e.pubKeyHex})}}catch(c){}try{if(e instanceof ce.crypto.DSA){r=new o({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new a({name:"dsa",asn1params:r});var l=new i({bigint:e.y});this.asn1SubjPKey=new n({hex:"00"+l.getEncodedHex()})}}catch(c){}},void 0!==e&&this.setPubKey(e)},s.lang.extend(ce.asn1.x509.SubjectPublicKeyInfo,ce.asn1.ASN1Object),ce.asn1.x509.Time=function(e){ce.asn1.x509.Time.superclass.constructor.call(this);var t=ce.asn1,i=t.DERUTCTime,n=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.getEncodedHex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new i(this.timeParams):new n(this.timeParams):"utc"==this.type?new i:new n,this.TLV=e.getEncodedHex(),this.TLV},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},s.lang.extend(ce.asn1.x509.Time,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier=function(e){ce.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ce.asn1,i=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var n in i)n===this.nameAlg&&(e=i[n]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var s=[this.asn1Alg];null!==this.asn1Params&&s.push(this.asn1Params);var r=new t.DERSequence({array:s});return this.hTLV=r.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var n=this.nameAlg.toLowerCase();"withdsa"!==n.substr(-7,7)&&"withecdsa"!==n.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},s.lang.extend(ce.asn1.x509.AlgorithmIdentifier,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ce.asn1.x509.GeneralName=function(e){ce.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},i=ce.asn1,n=i.DEROctetString,s=i.DERIA5String,r=i.DERTaggedObject,o=i.ASN1Object,a=i.x509.X500Name,l=Fe;this.explicit=!1,this.setByParam=function(e){var i=null;if(void 0!==e){if(void 0!==e.rfc822&&(this.type="rfc822",i=new s({str:e[this.type]})),void 0!==e.dns&&(this.type="dns",i=new s({str:e[this.type]})),void 0!==e.uri&&(this.type="uri",i=new s({str:e[this.type]})),void 0!==e.dn&&(this.type="dn",this.explicit=!0,i="string"==typeof e.dn?new a({str:e.dn}):e.dn instanceof ce.asn1.x509.X500Name?e.dn:new a(e.dn)),void 0!==e.ldapdn&&(this.type="dn",this.explicit=!0,i=new a({ldapstr:e.ldapdn})),void 0!==e.certissuer){this.type="dn",this.explicit=!0;var c=null;if((h=e.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(c=l(h)),null==c)throw"certissuer param not cert";(d=new qe).hex=c;var u=d.getIssuerHex();(i=new o).hTLV=u}if(void 0!==e.certsubj){var h,d;if(this.type="dn",this.explicit=!0,c=null,(h=e.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(c=l(h)),null==c)throw"certsubj param not cert";(d=new qe).hex=c,u=d.getSubjectHex(),(i=new o).hTLV=u}if(void 0!==e.ip){this.type="ip",this.explicit=!1;var p,f=e.ip,g="malformed IP address";if(f.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(p=He("["+f.split(".").join(",")+"]")).length)throw g}else if(f.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))p=Pe(f);else{if(!f.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw g;p=f}i=new n({hex:p})}if(null==this.type)throw"unsupported type in params="+e;this.asn1Obj=new r({explicit:this.explicit,tag:t[this.type],obj:i})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==e&&this.setByParam(e)},s.lang.extend(ce.asn1.x509.GeneralName,ce.asn1.ASN1Object),ce.asn1.x509.GeneralNames=function(e){ce.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ce.asn1;this.setByParamArray=function(e){for(var i=0;i<e.length;i++){var n=new t.x509.GeneralName(e[i]);this.asn1Array.push(n)}},this.getEncodedHex=function(){return new t.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},s.lang.extend(ce.asn1.x509.GeneralNames,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPointName=function(e){ce.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ce.asn1,i=t.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new i({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==e){if(!t.x509.GeneralNames.prototype.isPrototypeOf(e))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=e}},s.lang.extend(ce.asn1.x509.DistributionPointName,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPoint=function(e){ce.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ce.asn1;this.getEncodedHex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var i=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(i)}return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.dpobj&&(this.asn1DP=e.dpobj)},s.lang.extend(ce.asn1.x509.DistributionPoint,ce.asn1.ASN1Object),ce.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var t=new ce.asn1.DERObjectIdentifier({oid:this.name2oidList[e]});return this.objCache[e]=t,t},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.atype2oidList[e])throw"AttributeType name undefined: "+e;var t=new ce.asn1.DERObjectIdentifier({oid:this.atype2oidList[e]});return this.objCache[e]=t,t}},ce.asn1.x509.OID.oid2name=function(e){var t=ce.asn1.x509.OID.name2oidList;for(var i in t)if(t[i]==e)return i;return""},ce.asn1.x509.OID.oid2atype=function(e){var t=ce.asn1.x509.OID.atype2oidList;for(var i in t)if(t[i]==e)return i;return e},ce.asn1.x509.OID.name2oid=function(e){var t=ce.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ce.asn1.x509.X509Util={},ce.asn1.x509.X509Util.newCertPEM=function(e){var t=ce.asn1.x509,i=t.Certificate,n=new(0,t.TBSCertificate);if(void 0===e.serial)throw"serial number undefined.";if(n.setSerialNumberByParam(e.serial),"string"!=typeof e.sigalg.name)throw"unproper signature algorithm name";if(n.setSignatureAlgByParam(e.sigalg),void 0===e.issuer)throw"issuer name undefined.";if(n.setIssuerByParam(e.issuer),void 0===e.notbefore)throw"notbefore undefined.";if(n.setNotBeforeByParam(e.notbefore),void 0===e.notafter)throw"notafter undefined.";if(n.setNotAfterByParam(e.notafter),void 0===e.subject)throw"subject name undefined.";if(n.setSubjectByParam(e.subject),void 0===e.sbjpubkey)throw"subject public key undefined.";if(n.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var s=0;s<e.ext.length;s++)for(key in e.ext[s])n.appendExtensionByName(key,e.ext[s][key]);if(void 0===e.cakey&&void 0===e.sighex)throw"param cakey and sighex undefined.";var r=null;return e.cakey&&(r=new i({tbscertobj:n,prvkeyobj:!0===e.cakey.isPrivate?e.cakey:Be.getKey.apply(null,e.cakey)})).sign(),e.sighex&&(r=new i({tbscertobj:n})).setSignatureHex(e.sighex),r.getPEMString()},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cms&&ce.asn1.cms||(ce.asn1.cms={}),ce.asn1.cms.Attribute=function(e){var t=ce.asn1;t.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var e,i,n;e=new t.DERObjectIdentifier({oid:this.attrTypeOid}),i=new t.DERSet({array:this.valueList});try{i.getEncodedHex()}catch(s){throw"fail valueSet.getEncodedHex in Attribute(1)/"+s}n=new t.DERSequence({array:[e,i]});try{this.hTLV=n.getEncodedHex()}catch(s){throw"failed seq.getEncodedHex in Attribute(2)/"+s}return this.hTLV}},s.lang.extend(ce.asn1.cms.Attribute,ce.asn1.ASN1Object),ce.asn1.cms.ContentType=function(e){var t=ce.asn1;t.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3";var i=null;void 0!==e&&(i=new t.DERObjectIdentifier(e),this.valueList=[i])},s.lang.extend(ce.asn1.cms.ContentType,ce.asn1.cms.Attribute),ce.asn1.cms.MessageDigest=function(e){var t,i=ce,n=i.asn1,s=n.DEROctetString,r=n.cms;r.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==e&&(e.eciObj instanceof r.EncapsulatedContentInfo&&"string"==typeof e.hashAlg?((t=new s({hex:i.crypto.Util.hashHex(e.eciObj.eContentValueHex,e.hashAlg)})).getEncodedHex(),this.valueList=[t]):((t=new s(e)).getEncodedHex(),this.valueList=[t]))},s.lang.extend(ce.asn1.cms.MessageDigest,ce.asn1.cms.Attribute),ce.asn1.cms.SigningTime=function(e){var t=ce.asn1;if(t.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==e){var i=new t.x509.Time(e);try{i.getEncodedHex()}catch(a){throw"SigningTime.getEncodedHex() failed/"+a}this.valueList=[i]}},s.lang.extend(ce.asn1.cms.SigningTime,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificate=function(e){var t=ce,i=t.asn1,n=i.DERSequence,s=i.cms;s.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(e){for(var r=[],o=0;o<e.length;o++){var a=Fe(e[o]),l=t.crypto.Util.hashHex(a,"sha1"),c=new i.DEROctetString({hex:l});c.getEncodedHex();var u=new s.IssuerSerial({cert:e[o]});u.getEncodedHex();var h=new n({array:[c,u]});h.getEncodedHex(),r.push(h)}var d=new n({array:r});d.getEncodedHex(),this.valueList=[d]},void 0!==e&&"object"==typeof e.array&&this.setCerts(e.array)},s.lang.extend(ce.asn1.cms.SigningCertificate,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificateV2=function(e){var t=ce.asn1,i=t.DERSequence,n=t.x509,s=t.cms,r=ce.crypto;if(s.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(e,o){for(var a=[],l=0;l<e.length;l++){var c=Fe(e[l]),u=[];"sha256"!==o&&u.push(new n.AlgorithmIdentifier({name:o}));var h=r.Util.hashHex(c,o),d=new t.DEROctetString({hex:h});d.getEncodedHex(),u.push(d);var p=new s.IssuerSerial({cert:e[l]});p.getEncodedHex(),u.push(p);var f=new i({array:u});f.getEncodedHex(),a.push(f)}var g=new i({array:a});g.getEncodedHex(),this.valueList=[g]},void 0!==e&&"object"==typeof e.array){var o="sha256";"string"==typeof e.hashAlg&&(o=e.hashAlg),this.setCerts(e.array,o)}},s.lang.extend(ce.asn1.cms.SigningCertificateV2,ce.asn1.cms.Attribute),ce.asn1.cms.IssuerSerial=function(e){var t=ce.asn1,i=t.DERInteger,n=t.x509,s=n.X500Name,r=n.GeneralNames,o=qe;t.cms.IssuerSerial.superclass.constructor.call(this),this.setByCertPEM=function(e){var t=Fe(e),n=new o;n.hex=t;var r=n.getIssuerHex();this.dIssuer=new s,this.dIssuer.hTLV=r;var a=n.getSerialNumberHex();this.dSerial=new i({hex:a})},this.getEncodedHex=function(){var e=new r([{dn:this.dIssuer}]),i=new t.DERSequence({array:[e,this.dSerial]});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(this.dIssuer=e.issuer instanceof s?e.issuer:new s(e.issuer),this.dSerial=e.serial instanceof i?e.serial:new i(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},s.lang.extend(ce.asn1.cms.IssuerSerial,ce.asn1.ASN1Object),ce.asn1.cms.IssuerAndSerialNumber=function(e){var t=ce.asn1,i=t.DERInteger,n=t.x509.X500Name,s=qe;t.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.setByCertPEM=function(e){var t=Fe(e),r=new s;r.hex=t;var o=r.getIssuerHex();this.dIssuer=new n,this.dIssuer.hTLV=o;var a=r.getSerialNumberHex();this.dSerial=new i({hex:a})},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(this.dIssuer=e.issuer instanceof n?e.issuer:new n(e.issuer),this.dSerial=e.serial instanceof i?e.serial:new i(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},s.lang.extend(ce.asn1.cms.IssuerAndSerialNumber,ce.asn1.ASN1Object),ce.asn1.cms.AttributeList=function(e){var t=ce.asn1,i=t.cms;i.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(e){e instanceof i.Attribute&&this.list.push(e)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new t.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},s.lang.extend(ce.asn1.cms.AttributeList,ce.asn1.ASN1Object),ce.asn1.cms.SignerInfo=function(e){var t=ce.asn1,i=t.DERTaggedObject,n=t.cms,s=n.AttributeList,r=n.ContentType,o=n.EncapsulatedContentInfo,a=n.MessageDigest,l=n.SignedData,c=t.x509.AlgorithmIdentifier,u=ce.crypto,h=Be;n.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new t.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new s,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new s,this.setSignerIdentifier=function(e){"string"==typeof e&&-1!=e.indexOf("CERTIFICATE")&&-1!=e.indexOf("BEGIN")&&-1!=e.indexOf("END")&&(this.dSignerIdentifier=new n.IssuerAndSerialNumber({cert:e}))},this.setForContentAndHash=function(e){void 0!==e&&(e.eciObj instanceof o&&(this.dSignedAttrs.add(new r({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new a({eciObj:e.eciObj,hashAlg:e.hashAlg}))),void 0!==e.sdObj&&e.sdObj instanceof l&&-1==e.sdObj.digestAlgNameList.join(":").indexOf(e.hashAlg)&&e.sdObj.digestAlgNameList.push(e.hashAlg),"string"==typeof e.hashAlg&&(this.dDigestAlgorithm=new c({name:e.hashAlg})))},this.sign=function(e,i){this.dSigAlg=new c({name:i});var n=this.dSignedAttrs.getEncodedHex(),s=h.getKey(e),r=new u.Signature({alg:i});r.init(s),r.updateHex(n);var o=r.sign();this.dSig=new t.DEROctetString({hex:o})},this.addUnsigned=function(e){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(e)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof s&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var e=new i({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),n=null;this.dUnsignedAttrs.length()>0&&(n=new i({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var r=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,e,this.dSigAlg,this.dSig];null!=n&&r.push(n);var o=new t.DERSequence({array:r});return this.hTLV=o.getEncodedHex(),this.hTLV}},s.lang.extend(ce.asn1.cms.SignerInfo,ce.asn1.ASN1Object),ce.asn1.cms.EncapsulatedContentInfo=function(e){var t=ce.asn1,i=t.DERTaggedObject,n=t.DERSequence,s=t.DERObjectIdentifier,r=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new s({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(e){this.dEContentType=e.match(/^[0-2][.][0-9.]+$/)?new s({oid:e}):new s({name:e})},this.setContentValue=function(e){void 0!==e&&("string"==typeof e.hex?this.eContentValueHex=e.hex:"string"==typeof e.str&&(this.eContentValueHex=Ce(e.str)))},this.setContentValueHex=function(e){this.eContentValueHex=e},this.setContentValueStr=function(e){this.eContentValueHex=Ce(e)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var e=new r({hex:this.eContentValueHex});this.dEContent=new i({obj:e,tag:"a0",explicit:!0});var t=[this.dEContentType];this.isDetached||t.push(this.dEContent);var s=new n({array:t});return this.hTLV=s.getEncodedHex(),this.hTLV}},s.lang.extend(ce.asn1.cms.EncapsulatedContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.ContentInfo=function(e){var t=ce.asn1,i=t.DERTaggedObject,n=t.DERSequence,s=t.x509;ce.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(e){"string"==typeof e&&(this.dContentType=s.OID.name2obj(e))},this.getEncodedHex=function(){var e=new i({obj:this.dContent,tag:"a0",explicit:!0}),t=new n({array:[this.dContentType,e]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&(e.type&&this.setContentType(e.type),e.obj&&e.obj instanceof t.ASN1Object&&(this.dContent=e.obj))},s.lang.extend(ce.asn1.cms.ContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.SignedData=function(e){var t=ce.asn1,i=t.ASN1Object,n=t.DERInteger,s=t.DERSet,r=t.DERSequence,o=t.DERTaggedObject,a=t.cms,l=a.EncapsulatedContentInfo,c=a.SignerInfo,u=a.ContentInfo,h=t.x509.AlgorithmIdentifier;ce.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new n({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new l,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new c],this.addCertificatesByPEM=function(e){var t=Fe(e),n=new i;n.hTLV=t,this.certificateList.push(n)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var e=[],t=0;t<this.digestAlgNameList.length;t++){var i=new h({name:this.digestAlgNameList[t]});e.push(i)}this.dDigestAlgs=new s({array:e})}var n=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var a=new s({array:this.certificateList});this.dCerts=new o({obj:a,tag:"a0",explicit:!1})}null!=this.dCerts&&n.push(this.dCerts);var l=new s({array:this.signerInfoList});n.push(l);var c=new r({array:n});return this.hTLV=c.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new u({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return _e(this.getContentInfoEncodedHex(),"CMS")}},s.lang.extend(ce.asn1.cms.SignedData,ce.asn1.ASN1Object),ce.asn1.cms.CMSUtil=new function(){},ce.asn1.cms.CMSUtil.newSignedData=function(e){var t=ce.asn1,i=t.cms,n=i.SignerInfo,s=i.SigningTime,r=i.SigningCertificate,o=i.SigningCertificateV2,a=t.cades.SignaturePolicyIdentifier,l=new(0,i.SignedData);if(l.dEncapContentInfo.setContentValue(e.content),"boolean"==typeof e.detached&&(l.dEncapContentInfo.isDetached=e.detached),"object"==typeof e.certs)for(var c=0;c<e.certs.length;c++)l.addCertificatesByPEM(e.certs[c]);for(l.signerInfoList=[],c=0;c<e.signerInfos.length;c++){var u=e.signerInfos[c],h=new n;for(attrName in h.setSignerIdentifier(u.signerCert),h.setForContentAndHash({sdObj:l,eciObj:l.dEncapContentInfo,hashAlg:u.hashAlg}),u.sAttr){var d=u.sAttr[attrName];if("SigningTime"==attrName){var p=new s(d);h.dSignedAttrs.add(p)}"SigningCertificate"==attrName&&(p=new r(d),h.dSignedAttrs.add(p)),"SigningCertificateV2"==attrName&&(p=new o(d),h.dSignedAttrs.add(p)),"SignaturePolicyIdentifier"==attrName&&(p=new a(d),h.dSignedAttrs.add(p))}h.sign(u.signerPrvKey,u.sigAlg),l.signerInfoList.push(h)}return l},ce.asn1.cms.CMSUtil.verifySignedData=function(e){var t=de.getVbyList,i=de.getTLVbyList,n=de.getIdxbyList,s=de.getChildIdx,r=de.getTLV,o=de.oidname,a=ce.crypto.Util.hashHex;void 0===e.cms&&(0,ce.lang.String.isHex)(e.cms);var l=e.cms,c=function(e,r){var a=r.idx;r.signerid_issuer1=i(e,a,[1,0],"30"),r.signerid_serial1=t(e,a,[1,1],"02"),r.hashalg=o(t(e,a,[2,0],"06"));var l=n(e,a,[3],"a0");r.idxSignedAttrs=l,u(e,r,l);var c=s(e,a).length;if(c<6)throw"malformed SignerInfo";r.sigalg=o(t(e,a,[c-2,0],"06")),r.sigval=t(e,a,[c-1],"04")},u=function(e,i,n){var r=s(e,n);i.signedAttrIdxList=r;for(var o=0;o<r.length;o++){var a,l=r[o],c=t(e,l,[0],"06");"2a864886f70d010905"===c?(a=Se(t(e,l,[1,0])),i.saSigningTime=a):"2a864886f70d010904"===c&&(a=t(e,l,[1,0],"04"),i.saMessageDigest=a)}},h=function(e,t,i,n){i.verifyDetail={};var o=i.verifyDetail,l=t.parse.econtent,c=i.hashalg,u=i.saMessageDigest;o.validMessageDigest=!1,a(l,c)===u&&(o.validMessageDigest=!0),function(e,t,i,n){var o,a=t.parse.certsIdx;if(void 0===t.certs){o=[],t.certkeys=[];for(var l=s(e,a),c=0;c<l.length;c++){var u=r(e,l[c]),h=new qe;h.readCertHex(u),o[c]=h,t.certkeys[c]=h.getPublicKey()}t.certs=o}else o=t.certs;for(t.cccc=o.length,t.cccci=l.length,c=0;c<o.length;c++){var d=h.getIssuerHex(),p=h.getSerialNumberHex();i.signerid_issuer1===d&&i.signerid_serial1===p&&(i.certkey_idx=c)}}(e,t,i),o.validSignatureValue=!1;var h=i.sigalg,d="31"+r(e,i.idxSignedAttrs).substr(2);i.signedattrshex=d;var p=t.certs[i.certkey_idx].getPublicKey(),f=new ce.crypto.Signature({alg:h});f.init(p),f.updateHex(d);var g=f.verify(i.sigval);o.validSignatureValue_isValid=g,!0===g&&(o.validSignatureValue=!0),i.isValid=!1,o.validMessageDigest&&o.validSignatureValue&&(i.isValid=!0)},d={isValid:!1,parse:{}};return function(e,i){if("2a864886f70d010702"!==t(e,0,[0],"06"))return i;i.cmsType="signedData",i.econtent=t(e,0,[1,0,2,1,0]),function(e,t){for(var i,s=3;s<6;s++)if(void 0!==(i=n(e,0,[1,0,s]))){var r=e.substr(i,2);"a0"===r&&(t.certsIdx=i),"a1"===r&&(t.revinfosIdx=i),"31"===r&&(t.signerinfosIdx=i)}}(e,i),i.signerInfos=[],function(e,t){var i=t.signerinfosIdx;if(void 0!==i){var n=s(e,i);t.signerInfoIdxList=n;for(var r=0;r<n.length;r++){var o={idx:n[r]};c(e,o),t.signerInfos.push(o)}}}(e,i)}(l,d.parse),function(e,t){for(var i=t.parse.signerInfos,n=i.length,s=!0,r=0;r<n;r++){var o=i[r];h(e,t,o),o.isValid||(s=!1)}t.isValid=s}(l,d),d},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.tsp&&ce.asn1.tsp||(ce.asn1.tsp={}),ce.asn1.tsp.Accuracy=function(e){var t=ce.asn1,i=t.DERInteger,n=t.DERSequence,s=t.DERTaggedObject;t.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var e=null,t=null,r=null,o=[];if(null!=this.seconds&&(e=new i({int:this.seconds}),o.push(e)),null!=this.millis){var a=new i({int:this.millis});t=new s({obj:a,tag:"80",explicit:!1}),o.push(t)}if(null!=this.micros){var l=new i({int:this.micros});r=new s({obj:l,tag:"81",explicit:!1}),o.push(r)}var c=new n({array:o});return this.hTLV=c.getEncodedHex(),this.hTLV},void 0!==e&&("number"==typeof e.seconds&&(this.seconds=e.seconds),"number"==typeof e.millis&&(this.millis=e.millis),"number"==typeof e.micros&&(this.micros=e.micros))},s.lang.extend(ce.asn1.tsp.Accuracy,ce.asn1.ASN1Object),ce.asn1.tsp.MessageImprint=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DEROctetString,s=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new i({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==e&&("string"==typeof e.hashAlg&&(this.dHashAlg=new s({name:e.hashAlg})),"string"==typeof e.hashValue&&(this.dHashValue=new n({hex:e.hashValue})))},s.lang.extend(ce.asn1.tsp.MessageImprint,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampReq=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DERInteger,s=t.DERBoolean,r=t.DERObjectIdentifier,o=t.tsp,a=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(e){e instanceof a?this.dMessageImprint=e:"object"==typeof e&&(this.dMessageImprint=new a(e))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var e=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&e.push(this.dPolicy),null!=this.dNonce&&e.push(this.dNonce),this.certReq&&e.push(new s);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.mi&&this.setMessageImprint(e.mi),"object"==typeof e.policy&&(this.dPolicy=new r(e.policy)),"object"==typeof e.nonce&&(this.dNonce=new n(e.nonce)),"boolean"==typeof e.certreq&&(this.certReq=e.certreq))},s.lang.extend(ce.asn1.tsp.TimeStampReq,ce.asn1.ASN1Object),ce.asn1.tsp.TSTInfo=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DERInteger,s=t.DERBoolean,r=t.DERGeneralizedTime,o=t.DERObjectIdentifier,a=t.tsp,l=a.MessageImprint,c=a.Accuracy,u=t.x509.X500Name;if(a.TSTInfo.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(e.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(e.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(e.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new l(e.messageImprint)),void 0!==e.serialNumber&&(this.dSerialNumber=new n(e.serialNumber)),void 0!==e.genTime&&(this.dGenTime=new r(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new c(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new s),void 0!==e.nonce&&(this.dNonce=new n(e.nonce)),void 0!==e.tsa&&(this.dTsa=new u(e.tsa))}},s.lang.extend(ce.asn1.tsp.TSTInfo,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampResp=function(e){var t=ce.asn1,i=t.DERSequence,n=t.ASN1Object,s=t.tsp,r=s.PKIStatusInfo;s.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dTST&&e.push(this.dTST);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new r(e.status)),void 0!==e.tst&&e.tst instanceof n&&(this.dTST=e.tst.getContentInfo()))},s.lang.extend(ce.asn1.tsp.TimeStampResp,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatusInfo=function(e){var t=ce.asn1,i=t.DERSequence,n=t.tsp,s=n.PKIStatus,r=n.PKIFreeText,o=n.PKIFailureInfo;n.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dStatusString&&e.push(this.dStatusString),null!=this.dFailureInfo&&e.push(this.dFailureInfo);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new s(e.status)),"object"==typeof e.statstr&&(this.dStatusString=new r({array:e.statstr})),"object"==typeof e.failinfo&&(this.dFailureInfo=new o(e.failinfo)))},s.lang.extend(ce.asn1.tsp.PKIStatusInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus=function(e){var t=ce.asn1,i=t.DERInteger,n=t.tsp,s=n.PKIStatus;if(n.PKIStatus.superclass.constructor.call(this),this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==e)if(void 0!==e.name){var r=s.valueList;if(void 0===r[e.name])throw"name undefined: "+e.name;this.dStatus=new i({int:r[e.name]})}else this.dStatus=new i(e)},s.lang.extend(ce.asn1.tsp.PKIStatus,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},ce.asn1.tsp.PKIFreeText=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DERUTF8String;t.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var e=[],t=0;t<this.textList.length;t++)e.push(new n({str:this.textList[t]}));var s=new i({array:e});return this.hTLV=s.getEncodedHex(),this.hTLV},void 0!==e&&"object"==typeof e.array&&(this.textList=e.array)},s.lang.extend(ce.asn1.tsp.PKIFreeText,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo=function(e){var t=ce.asn1,i=t.DERBitString,n=t.tsp.PKIFailureInfo;if(n.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var e=new Number(this.value).toString(2),t=new i;return t.setByBinaryString(e),this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e)if("string"==typeof e.name){var s=n.valueList;if(void 0===s[e.name])throw"name undefined: "+e.name;this.value=s[e.name]}else"number"==typeof e.int&&(this.value=e.int)},s.lang.extend(ce.asn1.tsp.PKIFailureInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},ce.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ce.asn1.tsp.SimpleTSAAdapter=function(e){var t=ce.asn1.tsp,i=ce.crypto.Util.hashHex;t.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,n){var s=i(e,n);this.params.tstInfo.messageImprint={hashAlg:n,hashValue:s},this.params.tstInfo.serialNumber={int:this.serial++};var r=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:r},t.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.tsp.SimpleTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.FixedTSAAdapter=function(e){var t=ce.asn1.tsp,i=ce.crypto.Util.hashHex;t.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,n){var s=i(e,n);return this.params.tstInfo.messageImprint={hashAlg:n,hashValue:s},t.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.tsp.FixedTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.TSPUtil=new function(){},ce.asn1.tsp.TSPUtil.newTimeStampToken=function(e){var t=ce.asn1,i=t.cms,n=t.tsp.TSTInfo,s=new i.SignedData,r=new n(e.tstInfo).getEncodedHex();if(s.dEncapContentInfo.setContentValue({hex:r}),s.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof e.certs)for(var o=0;o<e.certs.length;o++)s.addCertificatesByPEM(e.certs[o]);var a=s.signerInfoList[0];a.setSignerIdentifier(e.signerCert),a.setForContentAndHash({sdObj:s,eciObj:s.dEncapContentInfo,hashAlg:e.hashAlg});var l=new i.SigningCertificate({array:[e.signerCert]});return a.dSignedAttrs.add(l),a.sign(e.signerPrvKey,e.sigAlg),s},ce.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=de,i=t.getV,n=t.getTLV,s={certreq:!1},r=(0,t.getChildIdx)(e,0);if(r.length<2)throw"TimeStampReq must have at least 2 items";var o=n(e,r[1]);s.mi=ce.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var a=2;a<r.length;a++){var l=r[a],c=e.substr(l,2);if("06"==c){var u=i(e,l);s.policy=t.hextooidstr(u)}"02"==c&&(s.nonce=i(e,l)),"01"==c&&(s.certreq=!0)}return s},ce.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=de,i=t.getChildIdx,n=t.getV,s=t.getIdxbyList,r={};if("30"!=e.substr(0,2))throw"head of messageImprint hex shall be '30'";i(e,0);var o=n(e,s(e,0,[0,0])),a=t.hextooidstr(o),l=ce.asn1.x509.OID.oid2name(a);if(""==l)throw"hashAlg name undefined: "+a;var c=l,u=s(e,0,[1]);return r.hashAlg=c,r.hashValue=n(e,u),r},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cades&&ce.asn1.cades||(ce.asn1.cades={}),ce.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ce.asn1,i=t.DERObjectIdentifier,n=t.DERSequence,s=t.cades,r=s.OtherHashAlgAndValue;if(s.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==e&&"string"==typeof e.oid&&"object"==typeof e.hash){var o=new n({array:[new i({oid:e.oid}),new r(e.hash)]});this.valueList=[o]}},s.lang.extend(ce.asn1.cades.SignaturePolicyIdentifier,ce.asn1.cms.Attribute),ce.asn1.cades.OtherHashAlgAndValue=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DEROctetString,s=t.x509.AlgorithmIdentifier;t.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var e=new i({array:[this.dAlg,this.dHash]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&"string"==typeof e.alg&&"string"==typeof e.hash&&(this.dAlg=new s({name:e.alg}),this.dHash=new n({hex:e.hash}))},s.lang.extend(ce.asn1.cades.OtherHashAlgAndValue,ce.asn1.ASN1Object),ce.asn1.cades.SignatureTimeStamp=function(e){var t=ce.asn1,i=t.ASN1Object;if(t.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==e){if(void 0!==e.res)if("string"==typeof e.res&&e.res.match(/^[0-9A-Fa-f]+$/));else if(!(e.res instanceof i))throw"res param shall be ASN1Object or hex string";if(void 0!==e.tst)if("string"==typeof e.tst&&e.tst.match(/^[0-9A-Fa-f]+$/)){var n=new i;this.tstHex=e.tst,n.hTLV=this.tstHex,n.getEncodedHex(),this.valueList=[n]}else if(!(e.tst instanceof i))throw"tst param shall be ASN1Object or hex string"}},s.lang.extend(ce.asn1.cades.SignatureTimeStamp,ce.asn1.cms.Attribute),ce.asn1.cades.CompleteCertificateRefs=function(e){var t=ce.asn1.cades;t.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(e){this.valueList=[];for(var i=0;i<e.length;i++){var n=new t.OtherCertID(e[i]);this.valueList.push(n)}},void 0!==e&&"object"==typeof e&&"number"==typeof e.length&&this.setByArray(e)},s.lang.extend(ce.asn1.cades.CompleteCertificateRefs,ce.asn1.cms.Attribute),ce.asn1.cades.OtherCertID=function(e){var t=ce.asn1,i=t.cms,n=t.cades;n.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(e){this.dOtherCertHash=new n.OtherHash(e),this.hasIssuerSerial&&(this.dIssuerSerial=new i.IssuerAndSerialNumber(e))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var e=[this.dOtherCertHash];null!=this.dIssuerSerial&&e.push(this.dIssuerSerial);var i=new t.DERSequence({array:e});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),"object"==typeof e&&(!1===e.hasis&&(this.hasIssuerSerial=!1),"string"==typeof e.cert&&this.setByCertPEM(e.cert)))},s.lang.extend(ce.asn1.cades.OtherCertID,ce.asn1.ASN1Object),ce.asn1.cades.OtherHash=function(e){var t=ce.asn1,i=t.cades,n=i.OtherHashAlgAndValue,s=ce.crypto.Util.hashHex;if(i.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(e){if(-1==e.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var t=Fe(e),i=s(t,this.alg);this.dOtherHash=new n({alg:this.alg,hash:i})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==e)if("string"==typeof e)if(-1!=e.indexOf("-----BEGIN "))this.setByCertPEM(e);else{if(!e.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new t.DEROctetString({hex:e})}else"object"==typeof e&&("string"==typeof e.cert?("string"==typeof e.alg&&(this.alg=e.alg),this.setByCertPEM(e.cert)):this.dOtherHash=new n(e))},s.lang.extend(ce.asn1.cades.OtherHash,ce.asn1.ASN1Object),ce.asn1.cades.CAdESUtil=new function(){},ce.asn1.cades.CAdESUtil.addSigTS=function(e,t,i){},ce.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=de.getChildIdx,i=de.getTLV,n=de.getIdxbyList,s=ce.asn1,r=s.ASN1Object,o=s.cms.SignedData,a=s.cades.CAdESUtil,l={};if("06092a864886f70d010702"!=(0,de.getTLVbyList)(e,0,[0]))throw"hex is not CMS SignedData";var c=t(e,n(e,0,[1,0]));if(c.length<4)throw"num of SignedData elem shall be 4 at least";var u=c.shift();l.version=i(e,u);var h=c.shift();l.algs=i(e,h);var d=c.shift();l.encapcontent=i(e,d),l.certs=null,l.revs=null,l.si=[];var p=c.shift();"a0"==e.substr(p,2)&&(l.certs=i(e,p),p=c.shift()),"a1"==e.substr(p,2)&&(l.revs=i(e,p),p=c.shift());var f=p;if("31"!=e.substr(f,2))throw"Can't find signerInfos";for(var g=t(e,f),m=0;m<g.length;m++){var v=a.parseSignerInfoForAddingUnsigned(e,g[m],m);l.si[m]=v}var y=null;for(l.obj=new o,(y=new r).hTLV=l.version,l.obj.dCMSVersion=y,(y=new r).hTLV=l.algs,l.obj.dDigestAlgs=y,(y=new r).hTLV=l.encapcontent,l.obj.dEncapContentInfo=y,(y=new r).hTLV=l.certs,l.obj.dCerts=y,l.obj.signerInfoList=[],m=0;m<l.si.length;m++)l.obj.signerInfoList.push(l.si[m].obj);return l},ce.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,i){var n=de.getTLV,s=de.getV,r=ce.asn1,o=r.ASN1Object,a=r.cms,l=a.AttributeList,c=a.SignerInfo,u={},h=(0,de.getChildIdx)(e,t);if(6!=h.length)throw"not supported items for SignerInfo (!=6)";var d=h.shift();u.version=n(e,d);var p=h.shift();u.si=n(e,p);var f=h.shift();u.digalg=n(e,f);var g=h.shift();u.sattrs=n(e,g);var m=h.shift();u.sigalg=n(e,m);var v=h.shift();u.sig=n(e,v),u.sigval=s(e,v);var y=null;return u.obj=new c,(y=new o).hTLV=u.version,u.obj.dCMSVersion=y,(y=new o).hTLV=u.si,u.obj.dSignerIdentifier=y,(y=new o).hTLV=u.digalg,u.obj.dDigestAlgorithm=y,(y=new o).hTLV=u.sattrs,u.obj.dSignedAttrs=y,(y=new o).hTLV=u.sigalg,u.obj.dSigAlg=y,(y=new o).hTLV=u.sig,u.obj.dSig=y,u.obj.dUnsignedAttrs=new l,u},void 0!==ce.asn1.csr&&ce.asn1.csr||(ce.asn1.csr={}),ce.asn1.csr.CertificationRequest=function(e){var t=ce,i=t.asn1,n=i.DERBitString,s=i.DERSequence,r=i.x509;i.csr.CertificationRequest.superclass.constructor.call(this),this.sign=function(e,i){null==this.prvKey&&(this.prvKey=i),this.asn1SignatureAlg=new r.AlgorithmIdentifier({name:e});var o=new t.crypto.Signature({alg:e});o.init(this.prvKey),o.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=o.sign(),this.asn1Sig=new n({hex:"00"+this.hexSig});var a=new s({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=a.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return _e(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==e&&void 0!==e.csrinfo&&(this.asn1CSRInfo=e.csrinfo)},s.lang.extend(ce.asn1.csr.CertificationRequest,ce.asn1.ASN1Object),ce.asn1.csr.CertificationRequestInfo=function(e){var t=ce.asn1,i=t.DERInteger,n=t.DERSequence,s=t.DERSet,r=t.DERNull,o=t.DERTaggedObject,a=t.DERObjectIdentifier,l=t.x509,c=l.X500Name,u=l.Extension,h=Be;t.csr.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new i({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(e){this.asn1Subject=new c(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=h.getKey(e);this.asn1SubjPKey=new l.SubjectPublicKeyInfo(t)},this.appendExtensionByName=function(e,t){u.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new n({array:this.extensionsArray}),t=new s({array:[e]}),i=new n({array:[new a({oid:"1.2.840.113549.1.9.14"}),t]}),l=new o({explicit:!0,tag:"a0",obj:i});this.asn1Array.push(l)}else l=new o({explicit:!1,tag:"a0",obj:new r}),this.asn1Array.push(l);var c=new n({array:this.asn1Array});return this.hTLV=c.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},s.lang.extend(ce.asn1.csr.CertificationRequestInfo,ce.asn1.ASN1Object),ce.asn1.csr.CSRUtil=new function(){},ce.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=Be,i=ce.asn1.csr;if(void 0===e.subject)throw"parameter subject undefined";if(void 0===e.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===e.sigalg)throw"parameter sigalg undefined";if(void 0===e.sbjprvkey)throw"parameter sbjpubkey undefined";var n=new i.CertificationRequestInfo;if(n.setSubjectByParam(e.subject),n.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var s=0;s<e.ext.length;s++)for(key in e.ext[s])n.appendExtensionByName(key,e.ext[s][key]);var r=new i.CertificationRequest({csrinfo:n}),o=t.getKey(e.sbjprvkey);return r.sign(e.sigalg,o),r.getPEMString()},ce.asn1.csr.CSRUtil.getInfo=function(e){var t=de.getTLVbyListEx,i={subject:{},pubkey:{}};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var n=Fe(e,"CERTIFICATE REQUEST");try{i.subject.hex=t(n,0,[0,1])}catch(d){}try{i.subject.name=qe.hex2dn(i.subject.hex)}catch(d){}i.pubkey.hex=t(n,0,[0,2]),i.pubkey.obj=Be.getKey(i.pubkey.hex,null,"pkcs8pub");try{i.ext=[];var s=new qe;s.parseExt(e),i.ext.push({subjectAltName:{array:s.getExtSubjectAltName2()}})}catch(d){}return i},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.ocsp&&ce.asn1.ocsp||(ce.asn1.ocsp={}),ce.asn1.ocsp.DEFAULT_HASH="sha1",ce.asn1.ocsp.CertID=function(e){var t=ce.asn1,i=t.DEROctetString,n=t.DERInteger,s=t.DERSequence,r=t.x509.AlgorithmIdentifier,o=t.ocsp,a=o.DEFAULT_HASH,l=ce.crypto.Util.hashHex,c=qe,u=de;if(o.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(e,t,s,o){void 0===o&&(o=a),this.dHashAlg=new r({name:o}),this.dIssuerNameHash=new i({hex:e}),this.dIssuerKeyHash=new i({hex:t}),this.dSerialNumber=new n({hex:s})},this.setByCert=function(e,t,i){void 0===i&&(i=a);var n=new c;n.readCertPEM(t);var s=new c;s.readCertPEM(e);var r=s.getPublicKeyHex(),o=u.getTLVbyList(r,0,[1,0],"30"),h=n.getSerialNumberHex(),d=l(s.getSubjectHex(),i),p=l(o,i);this.setByValue(d,p,h,i),this.hoge=n.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var e=new s({array:[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e){var h=e;if(void 0!==h.issuerCert&&void 0!==h.subjectCert){var d=a;void 0===h.alg&&(d=void 0),this.setByCert(h.issuerCert,h.subjectCert,d)}else{if(void 0===h.namehash||void 0===h.keyhash||void 0===h.serial)throw"invalid constructor arguments";d=a,void 0===h.alg&&(d=void 0),this.setByValue(h.namehash,h.keyhash,h.serial,d)}}},s.lang.extend(ce.asn1.ocsp.CertID,ce.asn1.ASN1Object),ce.asn1.ocsp.Request=function(e){var t=ce.asn1,i=t.DERSequence,n=t.ocsp;if(n.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var s=new n.CertID(e);this.dReqCert=s}},s.lang.extend(ce.asn1.ocsp.Request,ce.asn1.ASN1Object),ce.asn1.ocsp.TBSRequest=function(e){var t=ce.asn1,i=t.DERSequence,n=t.ocsp;n.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],i=0;i<e.length;i++){var s=new n.Request(e[0]);t.push(s)}this.dRequestList=t},this.getEncodedHex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new i({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new i({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},s.lang.extend(ce.asn1.ocsp.TBSRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPRequest=function(e){var t=ce.asn1,i=t.DERSequence,n=t.ocsp;if(n.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList){var s=new n.TBSRequest(e);this.dTbsRequest=s}},s.lang.extend(ce.asn1.ocsp.OCSPRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPUtil={},ce.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,i){var n=ce.asn1.ocsp;return void 0===i&&(i=n.DEFAULT_HASH),new n.OCSPRequest({reqList:[{alg:i,issuerCert:e,subjectCert:t}]}).getEncodedHex()},ce.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=de.getVbyList,i=de.getVbyListEx,n=de.getIdxbyList,s=de.getV,r={};try{var o=i(e,0,[0],"0a");r.responseStatus=parseInt(o,16)}catch(u){}if(0!==r.responseStatus)return r;try{var a=n(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(a,2)?r.certStatus="good":"a1"===e.substr(a,2)?(r.certStatus="revoked",r.revocationTime=Se(t(e,a,[0]))):"82"===e.substr(a,2)&&(r.certStatus="unknown")}catch(u){}try{var l=n(e,0,[1,0,1,0,0,2,0,2]);r.thisUpdate=Se(s(e,l))}catch(u){}try{var c=n(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(c,2)&&(r.nextUpdate=Se(t(e,c,[0])))}catch(u){}return r},void 0!==ce&&ce||(ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof Buffer?(ue=function(e){return ve(new Buffer(e,"utf8").toString("base64"))},he=function(e){return new Buffer(ye(e),"base64").toString("utf8")}):(ue=function(e){return be(Re(Le(e)))},he=function(e){return decodeURIComponent(Oe(we(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,i){var n=this.getDigestInfoHex(e,t),s=i/4;if(n.length+22>s)throw"key is too short for SigAlg: keylen="+i+","+t;for(var r="0001",o="00"+n,a="",l=s-r.length-o.length,c=0;c<l;c+=2)a+="ff";return r+a+o},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ne||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new ee,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),ge(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new S(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,i=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(i),i[0]=(255<<t&255^255)&i[0],ge(i)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new S(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var i=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(i))return i}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var i=e.compareTo(t);if(1==i)throw"biMin is greater than biMax";if(0==i)return e;var n=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(n).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(r){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+r}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(r){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+r}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,i=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[i])throw"not supported algorithm: "+e;return t.HASHLENGTH[i]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var i=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)&&"cryptojs"==t){try{this.mac=m.algo.HMAC.create(ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[i],this.pass)}catch(h){throw"setAlgAndProvider hash alg set fail hashAlg="+i+"/"+h}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=ke(e)),void(this.pass=m.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Ce(e.utf8)),void 0!==e.rstr&&(t=ke(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=we(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=m.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var i="",n=t/4-e.length,s=0;s<n;s++)i+="0";return i+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(i){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+i)}this.init=function(e,t){var i=null;try{i=void 0===t?Be.getKey(e):Be.getKey(e,t)}catch(n){throw"init failed:"+n}if(!0===i.isPrivate)this.prvKey=i,this.state="SIGN";else{if(!0!==i.isPublic)throw"init failed.:"+i;this.pubKey=i,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ne&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ne&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,this.provName=void 0===e.prov?ce.crypto.Util.DEFAULTPROVIDER[this.algName]:e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Be.getKey(e.prvkeypem),this.init(t)}catch(u){throw"fatal error to load pem private key: "+u}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,i){if(t instanceof ne&&t.isPublic){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,i);if("RSA"===n)return t.encrypt(e);if("RSAOAEP"===n)return t.encryptOAEP(e,"sha1");var s=n.match(/^RSAOAEP(\d+)$/);if(null!==s)return t.encryptOAEP(e,"sha"+s[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+i}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,i){if(t instanceof ne&&t.isPrivate){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,i);if("RSA"===n)return t.decrypt(e);if("RSAOAEP"===n)return t.decryptOAEP(e,"sha1");var s=n.match(/^RSAOAEP(\d+)$/);if(null!==s)return t.decryptOAEP(e,"sha"+s[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+i}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ne){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,i=S,n=oe,s=ce.crypto.ECDSA,r=ce.crypto.ECParameterDB,o=s.getName,a=de.getVbyListEx,l=de.isASN1HEX,c=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new i(e.bitLength(),c).mod(e.subtract(i.ONE)).add(i.ONE)},this.setNamedCurve=function(e){this.ecparams=r.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var i={};return i.x=e.substr(2,t),i.y=e.substr(2+t),i},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.getBigRandom(this.ecparams.n),t=this.ecparams.G.multiply(e),i=t.getX().toBigInteger(),n=t.getY().toBigInteger(),s=this.ecparams.keylen/4,r=("0000000000"+e.toString(16)).slice(-s),o="04"+("0000000000"+i.toString(16)).slice(-s)+("0000000000"+n.toString(16)).slice(-s);return this.setPrivateKeyHex(r),this.setPublicKeyHex(o),{ecprvhex:r,ecpubhex:o}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new i(t,16),r=this.ecparams.n,o=new i(e.substring(0,this.ecparams.keylen/4),16);do{var a=this.getBigRandom(r),l=this.ecparams.G.multiply(a).getX().toBigInteger().mod(r)}while(l.compareTo(i.ZERO)<=0);var c=a.modInverse(r).multiply(o.add(n.multiply(l))).mod(r);return s.biRSSigToASN1Sig(l,c)},this.sign=function(e,t){var n=t,s=this.ecparams.n,r=i.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(s),a=this.ecparams.G.multiply(o).getX().toBigInteger().mod(s)}while(a.compareTo(S.ZERO)<=0);var l=o.modInverse(s).multiply(r.add(n.multiply(a))).mod(s);return this.serializeSig(a,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){try{var o,a,l=s.parseSigHex(t);o=l.r,a=l.s;var c=n.decodeFromHex(this.ecparams.curve,r),u=new i(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(u,o,a,c)}catch(h){return!1}},this.verify=function(e,t,s){var r,o,a;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);r=l.r,o=l.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";r=t.r,o=t.s}if(s instanceof oe)a=s;else{if(!Bitcoin.Util.isArray(s))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=n.decodeFrom(this.ecparams.curve,s)}var c=i.fromByteArrayUnsigned(e);return this.verifyRaw(c,r,o,a)},this.verifyRaw=function(e,t,n,s){var r=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(i.ONE)<0||t.compareTo(r)>=0)return!1;if(n.compareTo(i.ONE)<0||n.compareTo(r)>=0)return!1;var a=n.modInverse(r),l=e.multiply(a).mod(r),c=t.multiply(a).mod(r);return o.multiply(l).add(s.multiply(c)).getX().toBigInteger().mod(r).equals(t)},this.serializeSig=function(e,t){var i=e.toByteArraySigned(),n=t.toByteArraySigned(),s=[];return s.push(2),s.push(i.length),(s=s.concat(i)).push(2),s.push(n.length),(s=s.concat(n)).unshift(s.length),s.unshift(48),s},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var s=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:i.fromByteArrayUnsigned(n),s:i.fromByteArrayUnsigned(s)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:i.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:i.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,i,n;try{t=a(e,0,["[0]",0],"06"),i=a(e,0,[1],"04");try{n=a(e,0,["[1]",0],"03")}catch(s){}}catch(s){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(i),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var i,n,s;try{a(e,0,[1,0],"06"),i=a(e,0,[1,1],"06"),n=a(e,0,[2,0,1],"04");try{s=a(e,0,[2,0,"[1]",0],"03")}catch(r){}}catch(r){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(i),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(s),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var i,n;try{a(e,0,[0,0],"06"),i=a(e,0,[0,1],"06"),n=a(e,0,[1],"03")}catch(s){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(i),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,i){if(!1===l(e))throw new t("not ASN.1 hex string");var n,s;try{n=a(e,0,[0,5,0,1],"06"),s=a(e,0,[0,5,1],"03")}catch(r){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(s)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new S(t.r,16),s:new S(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de.getChildIdx,i=de.getV;if(de.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var n=t(e,0);if(2!=n.length)throw new Error("signature shall have two elements");var s=n[0],r=n[1];if("02"!=e.substr(s,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(r,2))throw new Error("2nd item not ASN.1 integer");return{r:i(e,s),s:i(e,r)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),i=t.r,n=t.s;if("00"==i.substr(0,2)&&i.length%32==2&&(i=i.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),i.length%32==30&&(i="00"+i),n.length%32==30&&(n="00"+n),i.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return i+n},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),i=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,i)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var i=new S(e,16),n=new S(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(i,n)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var i=ce.asn1,n=new i.DERInteger({bigint:e}),s=new i.DERInteger({bigint:t});return new i.DERSequence({array:[n,s]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function i(e){return new S(e,16)}this.getByName=function(i){var n=i;if(void 0!==t[n]&&(n=t[i]),void 0!==e[n])return e[n];throw"unregistered EC curve name: "+n},this.regist=function(n,s,r,o,a,l,c,u,h,d,p,f){e[n]={};var g=i(r),m=i(o),v=i(a),y=i(l),b=i(c),w=new ae(g,m,v),C=w.decodePointHex("04"+u+h);e[n].name=n,e[n].keylen=s,e[n].curve=w,e[n].G=C,e[n].n=y,e[n].h=b,e[n].oid=p,e[n].info=f;for(var S=0;S<d.length;S++)t[d[S]]=n}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.DSA=function(){var e=de.getVbyListEx,t=de.isASN1HEX,i=S;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,i,n,s){this.isPrivate=!0,this.p=e,this.q=t,this.g=i,this.y=n,this.x=s},this.setPrivateHex=function(e,t,i,n,s){var r,o,a,l,c;r=new S(e,16),o=new S(t,16),a=new S(i,16),l="string"==typeof n&&n.length>1?new S(n,16):null,c=new S(s,16),this.setPrivate(r,o,a,l,c)},this.setPublic=function(e,t,i,n){this.isPublic=!0,this.p=e,this.q=t,this.g=i,this.y=n,this.x=null},this.setPublicHex=function(e,t,i,n){var s,r,o,a;s=new S(e,16),r=new S(t,16),o=new S(i,16),a=new S(n,16),this.setPublic(s,r,o,a)},this.signWithMessageHash=function(e){var t=this.p,i=this.q,n=this.g,s=this.x,r=ce.crypto.Util.getRandomBigIntegerMinToMax(S.ONE.add(S.ONE),i.subtract(S.ONE)),o=new S(e.substr(0,i.bitLength()/4),16),a=n.modPow(r,t).mod(i),l=r.modInverse(i).multiply(o.add(s.multiply(a))).mod(i);return ce.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:l}}]})},this.verifyWithMessageHash=function(e,t){var i=this.p,n=this.q,s=this.g,r=this.y,o=this.parseASN1Signature(t),a=o[0],l=o[1],c=new S(e.substr(0,n.bitLength()/4),16);if(S.ZERO.compareTo(a)>0||a.compareTo(n)>0)throw"invalid DSA signature";if(S.ZERO.compareTo(l)>=0||l.compareTo(n)>0)throw"invalid DSA signature";var u=l.modInverse(n),h=c.multiply(u).mod(n),d=a.multiply(u).mod(n);return 0==s.modPow(h,i).multiply(r.modPow(d,i)).mod(i).mod(n).compareTo(a)},this.parseASN1Signature=function(t){try{return[new i(e(t,0,[0],"02"),16),new i(e(t,0,[1],"02"),16)]}catch(n){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(i){var n,s,r,o,a;if(!1===t(i))throw new Error("not ASN.1 hex string");try{n=e(i,0,[1],"02"),s=e(i,0,[2],"02"),r=e(i,0,[3],"02"),o=e(i,0,[4],"02"),a=e(i,0,[5],"02")}catch(l){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(n,s,r,o,a)},this.readPKCS8PrvKeyHex=function(i){var n,s,r,o;if(!1===t(i))throw new Error("not ASN.1 hex string");try{n=e(i,0,[1,1,0],"02"),s=e(i,0,[1,1,1],"02"),r=e(i,0,[1,1,2],"02"),o=e(i,0,[2,0],"02")}catch(a){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(n,s,r,null,o)},this.readPKCS8PubKeyHex=function(i){var n,s,r,o;if(!1===t(i))throw new Error("not ASN.1 hex string");try{n=e(i,0,[0,1,0],"02"),s=e(i,0,[0,1,1],"02"),r=e(i,0,[0,1,2],"02"),o=e(i,0,[1,0],"02")}catch(a){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(n,s,r,o)},this.readCertPubKeyHex=function(i,n){var s,r,o,a;if(!1===t(i))throw new Error("not ASN.1 hex string");try{s=e(i,0,[0,5,0,1,0],"02"),r=e(i,0,[0,5,0,1,1],"02"),o=e(i,0,[0,5,0,1,2],"02"),a=e(i,0,[0,5,1,0],"02")}catch(l){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(s,r,o,a)}};var Be=function(){var e=function(e,i,n){return t(m.AES,e,i,n)},t=function(e,t,i,n){var s=m.enc.Hex.parse(t),r=m.enc.Hex.parse(i),o=m.enc.Hex.parse(n),a={};a.key=r,a.iv=o,a.ciphertext=s;var l=e.decrypt(a,r,{iv:o});return m.enc.Hex.stringify(l)},i=function(e,t,i){return n(m.AES,e,t,i)},n=function(e,t,i,n){var s=m.enc.Hex.parse(t),r=m.enc.Hex.parse(i),o=m.enc.Hex.parse(n),a=e.encrypt(s,r,{iv:o}),l=m.enc.Hex.parse(a.toString());return m.enc.Base64.stringify(l)},s={"AES-256-CBC":{proc:e,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,i,n){return t(m.TripleDES,e,i,n)},eproc:function(e,t,i){return n(m.TripleDES,e,t,i)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,i,n){return t(m.DES,e,i,n)},eproc:function(e,t,i){return n(m.DES,e,t,i)},keylen:8,ivlen:8}},r=function(e){var t={},i=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));i&&(t.cipher=i[1],t.ivsalt=i[2]);var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(t.type=n[1]);var s=-1,r=0;-1!=e.indexOf("\r\n\r\n")&&(s=e.indexOf("\r\n\r\n"),r=2),-1!=e.indexOf("\n\n")&&(s=e.indexOf("\n\n"),r=1);var o=e.indexOf("-----END");if(-1!=s&&-1!=o){var a=e.substring(s+2*r,o-r);a=a.replace(/\s+/g,""),t.data=a}return t},o=function(e,t,i){for(var n=i.substring(0,16),r=m.enc.Hex.parse(n),o=m.enc.Utf8.parse(t),a=s[e].keylen+s[e].ivlen,l="",c=null;;){var u=m.algo.MD5.create();if(null!=c&&u.update(c),u.update(o),u.update(r),c=u.finalize(),(l+=m.enc.Hex.stringify(c)).length>=2*a)break}var h={};return h.keyhex=l.substr(0,2*s[e].keylen),h.ivhex=l.substr(2*s[e].keylen,2*s[e].ivlen),h},a=function(e,t,i,n){var r=m.enc.Base64.parse(e),o=m.enc.Hex.stringify(r);return(0,s[t].proc)(o,i,n)};return{version:"1.0.0",parsePKCS5PEM:function(e){return r(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,i){return o(e,t,i)},decryptKeyB64:function(e,t,i,n){return a(e,t,i,n)},getDecryptedKeyHex:function(e,t){var i=r(e),n=i.cipher,s=i.ivsalt,l=i.data,c=o(n,t,s);return a(l,n,c.keyhex,s)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,i,n,r){var a="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===s[n])throw"KEYUTIL unsupported algorithm: "+n;void 0!==r&&null!=r||(r=function(e){var t=m.lib.WordArray.random(e);return m.enc.Hex.stringify(t)}(s[n].ivlen).toUpperCase());var l=function(e,t,i,n){return(0,s[t].eproc)(e,i,n)}(t,n,o(n,i,r).keyhex,r);return a="-----BEGIN "+e+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+n+","+r+"\r\n",a+="\r\n",(a+=l.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=de.getChildIdx,i=de.getV,n={},s=t(e,0);if(2!=s.length)throw"malformed format: SEQUENCE(0).items != 2: "+s.length;n.ciphertext=i(e,s[1]);var r=t(e,s[0]);if(2!=r.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+r.length;if("2a864886f70d01050d"!=i(e,r[0]))throw"this only supports pkcs5PBES2";var o=t(e,r[1]);if(2!=r.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+o.length;var a=t(e,o[1]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+a.length;if("2a864886f70d0307"!=i(e,a[0]))throw"this only supports TripleDES";n.encryptionSchemeAlg="TripleDES",n.encryptionSchemeIV=i(e,a[1]);var l=t(e,o[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=i(e,l[0]))throw"this only supports pkcs5PBKDF2";var c=t(e,l[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;n.pbkdf2Salt=i(e,c[0]);var u=i(e,c[1]);try{n.pbkdf2Iter=parseInt(u,16)}catch(h){throw"malformed format pbkdf2Iter: "+u}return n},getPBKDF2KeyHexFromParam:function(e,t){var i=m.enc.Hex.parse(e.pbkdf2Salt),n=m.PBKDF2(t,i,{keySize:6,iterations:e.pbkdf2Iter});return m.enc.Hex.stringify(n)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var i=Fe(e,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(i),s=Be.getPBKDF2KeyHexFromParam(n,t),r={};r.ciphertext=m.enc.Hex.parse(n.ciphertext);var o=m.enc.Hex.parse(s),a=m.enc.Hex.parse(n.encryptionSchemeIV),l=m.TripleDES.decrypt(r,o,{iv:a});return m.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var i=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(i)},parsePlainPrivatePKCS8Hex:function(e){var t=de,i=t.getChildIdx,n=t.getV,s={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var r=i(e,0);if(3!=r.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(r[1],2))throw"malformed PKCS8 private key(code:003)";var o=i(e,r[1]);if(2!=o.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(o[0],2))throw"malformed PKCS8 private key(code:005)";if(s.algoid=n(e,o[0]),"06"==e.substr(o[1],2)&&(s.algparam=n(e,o[1])),"04"!=e.substr(r[2],2))throw"malformed PKCS8 private key(code:006)";return s.keyidx=t.getVidx(e,r[2]),s},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Fe(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,i=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==i.algoid)t=new ne;else if("2a8648ce380401"==i.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=i.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,i=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===i)t=new ne;else if("2a8648ce380401"===i)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==i)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de.getChildIdx,i=de.getV,n={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var s=t(e,0);if(2!=s.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(s[0],2))throw"malformed RSA key(code:003)";if(n.n=i(e,s[0]),"02"!=e.substr(s[1],2))throw"malformed RSA key(code:004)";return n.e=i(e,s[1]),n},parsePublicPKCS8Hex:function(e){var t=de,i=t.getChildIdx,n=t.getV,s={algparam:null},r=i(e,0);if(2!=r.length)throw"outer DERSequence shall have 2 elements: "+r.length;var o=r[0];if("30"!=e.substr(o,2))throw"malformed PKCS8 public key(code:001)";var a=i(e,o);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(s.algoid=n(e,a[0]),"06"==e.substr(a[1],2)?s.algparam=n(e,a[1]):"30"==e.substr(a[1],2)&&(s.algparam={},s.algparam.p=t.getVbyList(e,a[1],[0],"02"),s.algparam.q=t.getVbyList(e,a[1],[1],"02"),s.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(r[1],2))throw"malformed PKCS8 public key(code:004)";return s.key=n(e,r[1]).substr(2),s}}}();Be.getKey=function(e,t,i){var n,s=(b=de).getChildIdx,r=b.getVbyList,o=ce.crypto,a=o.ECDSA,l=o.DSA,c=ne,u=Fe,h=Be;if(void 0!==c&&e instanceof c)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new a({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new a({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(A=new c).setPublic(e.n,e.e),A;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(A=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),A;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(A=new c).setPrivate(e.n,e.e,e.d),A;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(A=new l).setPublic(e.p,e.q,e.g,e.y),A;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(A=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(A=new c).setPublic(we(e.n),we(e.e)),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(A=new c).setPrivateEx(we(e.n),we(e.e),we(e.d),we(e.p),we(e.q),we(e.dp),we(e.dq),we(e.qi)),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(A=new c).setPrivate(we(e.n),we(e.e),we(e.d)),A;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(D=new a({curve:e.crv})).ecparams.keylen/4,p=("0000000000"+we(e.x)).slice(-d),f=("0000000000"+we(e.y)).slice(-d);return D.setPublicKeyHex(g="04"+p+f),D}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(D=new a({curve:e.crv})).ecparams.keylen/4;var g="04"+(p=("0000000000"+we(e.x)).slice(-d))+(f=("0000000000"+we(e.y)).slice(-d)),m=("0000000000"+we(e.d)).slice(-d);return D.setPublicKeyHex(g),D.setPrivateKeyHex(m),D}if("pkcs5prv"===i){var v,y=e,b=de;if(9===(v=s(y,0)).length)(A=new c).readPKCS5PrvKeyHex(y);else if(6===v.length)(A=new l).readPKCS5PrvKeyHex(y);else{if(!(v.length>2&&"04"===y.substr(v[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(A=new a).readPKCS5PrvKeyHex(y)}return A}if("pkcs8prv"===i)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===i)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===i)return qe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return qe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var w=Fe(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(w)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var C=u(e,"RSA PRIVATE KEY");return h.getKey(C,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var x=r(n=u(e,"DSA PRIVATE KEY"),0,[1],"02"),k=r(n,0,[2],"02"),E=r(n,0,[3],"02"),I=r(n,0,[4],"02"),T=r(n,0,[5],"02");return(A=new l).setPrivate(new S(x,16),new S(k,16),new S(E,16),new S(I,16),new S(T,16)),A}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return C=u(e,"EC PRIVATE KEY"),h.getKey(C,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var _=h.getDecryptedKeyHex(e,t),F=new ne;return F.readPKCS5PrvKeyHex(_),F}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var D,A=r(n=h.getDecryptedKeyHex(e,t),0,[1],"04"),R=r(n,0,[2,0],"06"),O=r(n,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[R])throw"undefined OID(hex) in KJUR.crypto.OID: "+R;return(D=new a({curve:ce.crypto.OID.oidhex2name[R]})).setPublicKeyHex(O),D.setPrivateKeyHex(A),D.isPublic=!1,D}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return x=r(n=h.getDecryptedKeyHex(e,t),0,[1],"02"),k=r(n,0,[2],"02"),E=r(n,0,[3],"02"),I=r(n,0,[4],"02"),T=r(n,0,[5],"02"),(A=new l).setPrivate(new S(x,16),new S(k,16),new S(E,16),new S(I,16),new S(T,16)),A;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},Be.generateKeypair=function(e,t){if("RSA"==e){var i=t;(o=new ne).generate(i,"10001"),o.isPrivate=!0,o.isPublic=!0;var n=new ne,s=o.n.toString(16),r=o.e.toString(16);return n.setPublic(s,r),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}if("EC"==e){var o,a,l=t,c=new ce.crypto.ECDSA({curve:l}).generateKeyPairHex();return(o=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),o.setPrivateKeyHex(c.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(n=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}throw"unknown algorithm: "+e},Be.getPEM=function(e,t,i,n,s,r){var o=ce.asn1,a=o.DERObjectIdentifier,l=o.DERInteger,c=o.ASN1Util.newObject,u=ce.crypto,h=u.DSA,d=u.ECDSA,p=ne;function f(e){return c({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function g(e){return c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function v(e){return c({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==p&&e instanceof p||void 0!==h&&e instanceof h||void 0!==d&&e instanceof d)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return _e(C=new(0,o.x509.SubjectPublicKeyInfo)(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===i||null==i)&&1==e.isPrivate)return _e(C=f(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===i||null==i)&&1==e.isPrivate){var y=new a({name:e.curveName}).getEncodedHex(),b=g(e).getEncodedHex(),w="";return(w+=_e(y,"EC PARAMETERS"))+_e(b,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===i||null==i)&&1==e.isPrivate)return _e(C=v(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==i&&null!=i&&1==e.isPrivate){var C=f(e).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",C,i,n,r)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==i&&null!=i&&1==e.isPrivate)return C=g(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",C,i,n,r);if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==i&&null!=i&&1==e.isPrivate)return C=v(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",C,i,n,r);var S=function(e,t){var i=x(e,t);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:i.pbkdf2Salt}},{int:i.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:i.encryptionSchemeIV}}]}]}]},{octstr:{hex:i.ciphertext}}]}).getEncodedHex()},x=function(e,t){var i=m.lib.WordArray.random(8),n=m.lib.WordArray.random(8),s=m.PBKDF2(t,i,{keySize:6,iterations:100}),r=m.enc.Hex.parse(e),o=m.TripleDES.encrypt(r,s,{iv:n})+"",a={};return a.ciphertext=o,a.pbkdf2Salt=m.enc.Hex.stringify(i),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=m.enc.Hex.stringify(n),a};if("PKCS8PRV"==t&&null!=p&&e instanceof p&&1==e.isPrivate){var k=f(e).getEncodedHex();return C=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===i||null==i?_e(C,"PRIVATE KEY"):_e(b=S(C,i),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate)return k=new c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),C=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===i||null==i?_e(C,"PRIVATE KEY"):_e(b=S(C,i),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return k=new l({bigint:e.x}).getEncodedHex(),C=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===i||null==i?_e(C,"PRIVATE KEY"):_e(b=S(C,i),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},Be.getKeyFromCSRPEM=function(e){var t=Fe(e,"CERTIFICATE REQUEST");return Be.getKeyFromCSRHex(t)},Be.getKeyFromCSRHex=function(e){var t=Be.parseCSRHex(e);return Be.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Be.parseCSRHex=function(e){var t=de.getChildIdx,i=de.getTLV,n={},s=e;if("30"!=s.substr(0,2))throw"malformed CSR(code:001)";var r=t(s,0);if(r.length<1)throw"malformed CSR(code:002)";if("30"!=s.substr(r[0],2))throw"malformed CSR(code:003)";var o=t(s,r[0]);if(o.length<3)throw"malformed CSR(code:004)";return n.p8pubkeyhex=i(s,o[2]),n},Be.getKeyID=function(e){var t=Be,i=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var n=Fe(t.getPEM(e)),s=i.getIdxbyList(n,0,[1]),r=i.getV(n,s).substring(2);return ce.crypto.Util.hashHex(r,"sha1")},Be.getJWKFromKey=function(e){var t={};if(e instanceof ne&&e.isPrivate)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t.d=be(e.d.toString(16)),t.p=be(e.p.toString(16)),t.q=be(e.q.toString(16)),t.dp=be(e.dmp1.toString(16)),t.dq=be(e.dmq1.toString(16)),t.qi=be(e.coeff.toString(16)),t;if(e instanceof ne&&e.isPublic)return t.kty="RSA",t.n=be(e.n.toString(16)),t.e=be(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var i=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=be(i.x),t.y=be(i.y),t.d=be(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var n;if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;return i=e.getPublicKeyXYHex(),t.kty="EC",t.crv=n,t.x=be(i.x),t.y=be(i.y),t}throw"not supported key object"},ne.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ne.getHexValueArrayOfChildrenFromHex=function(e){var t,i=de.getV,n=i(e,(t=ne.getPosArrayOfChildrenFromHex(e))[0]),s=i(e,t[1]),r=i(e,t[2]),o=i(e,t[3]),a=i(e,t[4]),l=i(e,t[5]),c=i(e,t[6]),u=i(e,t[7]),h=i(e,t[8]);return(t=new Array).push(n,s,r,o,a,l,c,u,h),t},ne.prototype.readPrivateKeyFromPEMString=function(e){var t=Fe(e),i=ne.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},ne.prototype.readPKCS5PrvKeyHex=function(e){var t=ne.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ne.prototype.readPKCS8PrvKeyHex=function(e){var t,i,n,s,r,o,a,l,c=de.getVbyListEx;if(!1===de.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=c(e,0,[2,0,1],"02"),i=c(e,0,[2,0,2],"02"),n=c(e,0,[2,0,3],"02"),s=c(e,0,[2,0,4],"02"),r=c(e,0,[2,0,5],"02"),o=c(e,0,[2,0,6],"02"),a=c(e,0,[2,0,7],"02"),l=c(e,0,[2,0,8],"02")}catch(u){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,i,n,s,r,o,a,l)},ne.prototype.readPKCS5PubKeyHex=function(e){var t=de,i=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var n=t.getChildIdx(e,0);if(2!==n.length||"02"!==e.substr(n[0],2)||"02"!==e.substr(n[1],2))throw"wrong hex for PKCS#5 public key";var s=i(e,n[0]),r=i(e,n[1]);this.setPublic(s,r)},ne.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var i=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(i)},ne.prototype.readCertPubKeyHex=function(e,t){var i,n;(i=new qe).readCertHex(e),n=i.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var ze=new RegExp("[^0-9a-f]","gi");function je(e,t){for(var i="",n=t/4-e.length,s=0;s<n;s++)i+="0";return i+e}function Ue(e,t,i){for(var n="",s=0;n.length<t;)n+=xe(i(ke(e+String.fromCharCode.apply(String,[(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s])))),s+=1;return n}function Ge(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var i=ce.crypto.Util.DIGESTINFOHEAD[t],n=i.length;if(e.substring(0,n)==i)return[t,e.substring(n)]}return[]}function qe(){var e,t=de,i=t.getChildIdx,n=t.getV,s=t.getTLV,r=t.getVbyList,o=t.getVbyListEx,a=t.getTLVbyList,c=t.getTLVbyListEx,u=t.getIdxbyList,h=t.getVidx,d=t.oidname,p=qe,f=Fe;try{e=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(l){}this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==a(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return r(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){var t=c(this.hex,0,[0,1]);for(var i in e)if(t===e[i])return i;return d(o(this.hex,0,[0,1,0],"06"))},this.getIssuerHex=function(){return a(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return p.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return a(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return p.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=r(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=r(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return u(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return u(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Be.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return d(r(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return r(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),i=this.getSignatureValueHex(),n=a(this.hex,0,[0],"30"),s=new ce.crypto.Signature({alg:t});return s.init(e),s.updateHex(n),s.verify(i)},this.parseExt=function(e){var s,o,a;if(void 0===e){if(3!==this.version)return-1;s=u(a=this.hex,0,[0,7,0],"30"),o=i(a,s)}else{a=Fe(e);var l=u(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=n(a,l))return void(this.aExtInfo=new Array);s=u(a,0,[0,3,0,1,0],"30"),o=i(a,s),this.hex=a}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var d={critical:!1},p=0;3===i(a,o[c]).length&&(d.critical=!0,p=1),d.oid=t.hextooidstr(r(a,o[c],[0],"06"));var f=u(a,o[c],[1+p]);d.vidx=h(a,f),this.aExtInfo.push(d)}},this.getExtInfo=function(e){var t=this.aExtInfo,i=e;if(e.match(/^[0-9.]+$/)||(i=ce.asn1.x509.OID.name2oid(e)),""!==i)for(var n=0;n<t.length;n++)if(t[n].oid===i)return t[n]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=n(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var i=n(t,6);return{cA:!0,pathLen:parseInt(i,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=n(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw new Error("malformed key usage value");var i=parseInt(t.substr(0,2)),s=parseInt(t.substr(2),16).toString(2);return(s=("0000000"+s).slice(-8)).substr(0,s.length-i)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,i=0;i<e.length;i++)"1"==e.substr(i,1)&&t.push(qe.KEYUSAGE_NAME[i]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:n(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var t={},r=s(this.hex,e.vidx),o=i(r,0),a=0;a<o.length;a++)"80"===r.substr(o[a],2)&&(t.kid=n(r,o[a]));return t},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=s(this.hex,e.vidx);if(""===r)return t;for(var o=i(r,0),a=0;a<o.length;a++)t.push(d(n(r,o[a])));return t},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,i=0;i<e.length;i++)"DNS"===e[i][0]&&t.push(e[i][1]);return t},this.getExtSubjectAltName2=function(){var e,t,r,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,l=s(this.hex,o.vidx),c=i(l,0),u=0;u<c.length;u++)r=l.substr(c[u],2),e=n(l,c[u]),"81"===r&&(t=Se(e),a.push(["MAIL",t])),"82"===r&&(t=Se(e),a.push(["DNS",t])),"84"===r&&(t=qe.hex2dn(e,0),a.push(["DN",t])),"86"===r&&(t=Se(e),a.push(["URI",t])),"87"===r&&(t=Me(e),a.push(["IP",t]));return a},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,n=i(this.hex,e.vidx),s=0;s<n.length;s++)try{var o=Se(r(this.hex,n[s],[0,0,0],"86"));t.push(o)}catch(a){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=i(this.hex,e.vidx),s=0;s<n.length;s++){var o=r(this.hex,n[s],[0],"06"),a=r(this.hex,n[s],[1],"86");"2b06010505073001"===o&&t.ocsp.push(Se(a)),"2b06010505073002"===o&&t.caissuer.push(Se(a))}return t},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var t=s(this.hex,e.vidx),o=[],a=i(t,0),l=0;l<a.length;l++){var c={},u=i(t,a[l]);if(c.id=d(n(t,u[0])),2===u.length)for(var h=i(t,u[1]),p=0;p<h.length;p++){var f=r(t,h[p],[0],"06");"2b06010505070201"===f?c.cps=Se(r(t,h[p],[1])):"2b06010505070202"===f&&(c.unotice=Se(r(t,h[p],[1,0])))}o.push(c)}return o},this.readCertPEM=function(e){this.readCertHex(f(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{u(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var e,t,i;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ve(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ve(t.e.toString(16))+"\n"),null!=(i=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var n=0;n<i.length;n++){var s=i[n],r=ce.asn1.x509.OID.oid2name(s.oid);""===r&&(r=s.oid);var o="";if(!0===s.critical&&(o="CRITICAL"),e+="  "+r+" "+o+":\n","basicConstraints"===r){var a=this.getExtBasicConstraints();void 0===a.cA?e+="    {}\n":(e+="    cA=true",void 0!==a.pathLen&&(e+=", pathLen="+a.pathLen),e+="\n")}else if("keyUsage"===r)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===r)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===r){var l=this.getExtAuthorityKeyIdentifier();void 0!==l.kid&&(e+="    kid="+l.kid+"\n")}else if("extKeyUsage"===r)e+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===r)e+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===r)e+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===r){var c=this.getExtAIAInfo();void 0!==c.ocsp&&(e+="    ocsp: "+c.ocsp.join(",")+"\n"),void 0!==c.caissuer&&(e+="    caissuer: "+c.caissuer.join(",")+"\n")}else if("certificatePolicies"===r)for(var u=this.getExtCertificatePolicies(),h=0;h<u.length;h++)void 0!==u[h].id&&(e+="    policy oid: "+u[h].id+"\n"),void 0!==u[h].cps&&(e+="    cps: "+u[h].cps+"\n")}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}ne.prototype.sign=function(e,t){var i=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(i,t)},ne.prototype.signWithMessageHash=function(e,t){var i=te(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return je(this.doPrivate(i).toString(16),this.n.bitLength())},ne.prototype.signPSS=function(e,t,i){var n,s=(n=ke(e),ce.crypto.Util.hashHex(n,t));return void 0===i&&(i=-1),this.signWithMessageHashPSS(s,t,i)},ne.prototype.signWithMessageHashPSS=function(e,t,i){var n,s=xe(e),r=s.length,o=this.n.bitLength()-1,a=Math.ceil(o/8),l=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===i||void 0===i)i=r;else if(-2===i)i=a-r-2;else if(i<-2)throw"invalid salt length";if(a<r+i+2)throw"data too long";var c="";i>0&&(c=new Array(i),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var u=xe(l(ke("\0\0\0\0\0\0\0\0"+s+c))),h=[];for(n=0;n<a-i-r-2;n+=1)h[n]=0;var d=String.fromCharCode.apply(String,h)+"\x01"+c,p=Ue(u,d.length,l),f=[];for(n=0;n<d.length;n+=1)f[n]=d.charCodeAt(n)^p.charCodeAt(n);for(f[0]&=~(65280>>8*a-o&255),n=0;n<r;n++)f.push(u.charCodeAt(n));return f.push(188),je(this.doPrivate(new S(f)).toString(16),this.n.bitLength())},ne.prototype.verify=function(e,t){var i=te(t=(t=t.replace(ze,"")).replace(/[ \n]+/g,""),16);if(i.bitLength()>this.n.bitLength())return 0;var n=Ge(this.doPublic(i).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;var s=n[0];return n[1]==function(e){return ce.crypto.Util.hashString(e,s)}(e)},ne.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i=te(t,16);if(i.bitLength()>this.n.bitLength())return 0;var n=Ge(this.doPublic(i).toString(16).replace(/^1f+00/,""));return 0!=n.length&&n[1]==e},ne.prototype.verifyPSS=function(e,t,i,n){var s,r=(s=ke(e),ce.crypto.Util.hashHex(s,i));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(r,t,i,n)},ne.prototype.verifyWithMessageHashPSS=function(e,t,i,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var s,r=new S(t,16),o=function(e){return ce.crypto.Util.hashHex(e,i)},a=xe(e),l=a.length,c=this.n.bitLength()-1,u=Math.ceil(c/8);if(-1===n||void 0===n)n=l;else if(-2===n)n=u-l-2;else if(n<-2)throw"invalid salt length";if(u<l+n+2)throw"data too long";var h=this.doPublic(r).toByteArray();for(s=0;s<h.length;s+=1)h[s]&=255;for(;h.length<u;)h.unshift(0);if(188!==h[u-1])throw"encoded message does not end in 0xbc";var d=(h=String.fromCharCode.apply(String,h)).substr(0,u-l-1),p=h.substr(d.length,l),f=65280>>8*u-c&255;if(0!=(d.charCodeAt(0)&f))throw"bits beyond keysize not zero";var g=Ue(p,d.length,o),m=[];for(s=0;s<d.length;s+=1)m[s]=d.charCodeAt(s)^g.charCodeAt(s);m[0]&=~f;var v=u-l-n-2;for(s=0;s<v;s+=1)if(0!==m[s])throw"leftmost octets not zero";if(1!==m[v])throw"0x01 marker not found";return p===xe(o(ke("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,m.slice(-n)))))},ne.SALT_LEN_HLEN=-1,ne.SALT_LEN_MAX=-2,ne.SALT_LEN_RECOVER=-2,qe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var i=new Array,n=de.getChildIdx(e,t),s=0;s<n.length;s++)i.push(qe.hex2rdn(e,n[s]));return"/"+(i=i.map((function(e){return e.replace("/","\\/")}))).join("/")},qe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var i=new Array,n=de.getChildIdx(e,t),s=0;s<n.length;s++)i.push(qe.hex2attrTypeValue(e,n[s]));return(i=i.map((function(e){return e.replace("+","\\+")}))).join("+")},qe.hex2attrTypeValue=function(e,t){var i=de,n=i.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var s=i.getChildIdx(e,t);2!==s.length||e.substr(s[0],2);var r=n(e,s[0]),o=ce.asn1.ASN1Util.oidHexToInt(r);return ce.asn1.x509.OID.oid2atype(o)+"="+xe(n(e,s[1]))},qe.getPublicKeyFromCertHex=function(e){var t=new qe;return t.readCertHex(e),t.getPublicKey()},qe.getPublicKeyFromCertPEM=function(e){var t=new qe;return t.readCertPEM(e),t.getPublicKey()},qe.getPublicKeyInfoPropOfCertPEM=function(e){var t,i,n=de.getVbyList,s={algparam:null};return(t=new qe).readCertPEM(e),i=t.getPublicKeyHex(),s.keyhex=n(i,0,[1],"03").substr(2),s.algoid=n(i,0,[0,0],"06"),"2a8648ce3d0201"===s.algoid&&(s.algparam=n(i,0,[0,1],"06")),s},qe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,i){if(void 0===this.parsedJWS||!i&&void 0===this.parsedJWS.sigvalH){var n=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var s=n[1],r=n[2],o=n[3],a=s+"."+r;if(this.parsedJWS={},this.parsedJWS.headB64U=s,this.parsedJWS.payloadB64U=r,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=a,!i){var l=we(o),c=te(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=c}var u=he(s),h=he(r);if(this.parsedJWS.headS=u,this.parsedJWS.payloadS=h,!e(u,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+u}}},ce.jws.JWS.sign=function(e,t,i,n,s){var r,o,a,l=ce.jws.JWS,c=l.readSafeJSONString,u=l.isSafeJSONString,h=ce.crypto,d=h.Mac,p=h.Signature,f=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(r=f.stringify(o=t)),"string"==typeof t){if(!u(r=t))throw"JWS Head is not safe JSON string: "+r;o=c(r)}if(a=i,"object"==typeof i&&(a=f.stringify(i)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,r=f.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var g=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;g=l.jwsalg2sigalg[e];var m=ue(r)+"."+ue(a),v="";if("Hmac"==g.substr(0,4)){if(void 0===n)throw"mac key shall be specified for HS* alg";var y=new d({alg:g,prov:"cryptojs",pass:n});y.updateString(m),v=y.doFinal()}else if(-1!=g.indexOf("withECDSA")){(w=new p({alg:g})).init(n,s),w.updateString(m);var b=w.sign();v=ce.crypto.ECDSA.asn1SigToConcatSig(b)}else{var w;"none"!=g&&((w=new p({alg:g})).init(n,s),w.updateString(m),v=w.sign())}return m+"."+be(v)},ce.jws.JWS.verify=function(e,t,i){var n,s=ce.jws.JWS,r=s.readSafeJSONString,o=ce.crypto,a=o.ECDSA,l=o.Mac,c=o.Signature;n=ne;var u=e.split(".");if(3!==u.length)return!1;var h,d=u[0]+"."+u[1],p=we(u[2]),f=r(he(u[0])),g=null;if(void 0===f.alg)throw"algorithm not specified in header";if(h=(g=f.alg).substr(0,2),null!=i&&"[object Array]"===Object.prototype.toString.call(i)&&i.length>0&&-1==(":"+i.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Be.getKey(t)),!("RS"!=h&&"PS"!=h||t instanceof n))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(t instanceof a))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===s.jwsalg2sigalg[f.alg])throw"unsupported alg name: "+g;if("none"==(m=s.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var v=new l({alg:m,pass:t});return v.updateString(d),p==v.doFinal()}if(-1!=m.indexOf("withECDSA")){var y,b=null;try{b=a.concatSigToASN1Sig(p)}catch(w){return!1}return(y=new c({alg:m})).init(t),y.updateString(d),y.verify(b)}return(y=new c({alg:m})).init(t),y.updateString(d),y.verify(p)},ce.jws.JWS.parse=function(e){var t,i,n=e.split("."),s={};if(2!=n.length&&3!=n.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=n[1],3==n.length&&(i=n[2]),s.headerObj=ce.jws.JWS.readSafeJSONString(he(n[0])),s.payloadObj=ce.jws.JWS.readSafeJSONString(he(t)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),s.payloadPP=null==s.payloadObj?he(t):JSON.stringify(s.payloadObj,null,"  "),void 0!==i&&(s.sigHex=we(i)),s},ce.jws.JWS.verifyJWT=function(e,t,i){var n=ce.jws,s=n.JWS,r=s.readSafeJSONString,o=s.inArray,a=s.includedArray,l=e.split("."),c=l[0],u=l[1],h=(we(l[2]),r(he(c))),d=r(he(u));if(void 0===h.alg)return!1;if(void 0===i.alg)throw"acceptField.alg shall be specified";if(!o(h.alg,i.alg))return!1;if(void 0!==d.iss&&"object"==typeof i.iss&&!o(d.iss,i.iss))return!1;if(void 0!==d.sub&&"object"==typeof i.sub&&!o(d.sub,i.sub))return!1;if(void 0!==d.aud&&"object"==typeof i.aud)if("string"==typeof d.aud){if(!o(d.aud,i.aud))return!1}else if("object"==typeof d.aud&&!a(d.aud,i.aud))return!1;var p=n.IntDate.getNow();return void 0!==i.verifyAt&&"number"==typeof i.verifyAt&&(p=i.verifyAt),void 0!==i.gracePeriod&&"number"==typeof i.gracePeriod||(i.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+i.gracePeriod<p||void 0!==d.nbf&&"number"==typeof d.nbf&&p<d.nbf-i.gracePeriod||void 0!==d.iat&&"number"==typeof d.iat&&p<d.iat-i.gracePeriod||void 0!==d.jti&&void 0!==i.jti&&d.jti!==i.jti||!s.verify(e,t,i.alg))},ce.jws.JWS.includedArray=function(e,t){var i=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(!i(e[n],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,i){var n=null;try{return"object"!=typeof(n=le(e))||n.constructor===Array?0:(t&&(t[i]=n),1)}catch(o){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=le(e))||t.constructor===Array?null:t}catch(o){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var i=ke(t);return be(ce.crypto.Util.hashHex(i,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,i=t.getNow,n=t.getZulu;if("now"==e)return i();if("now + 1hour"==e)return i()+3600;if("now + 1day"==e)return i()+86400;if("now + 1month"==e)return i()+2592e3;if("now + 1year"==e)return i()+31536e3;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Ae(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWSJS=function(){var e=ce.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,i,n){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var s=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var r=ce.jws.JWS.sign(e,t,this.sPayload,i,n).split(".");this.aHeader.push(r[0]),this.aSignature.push(r[2])}catch(f){throw this.aHeader.length>s&&this.aHeader.pop(),this.aSignature.length>s&&this.aSignature.pop(),"addSignature failed: "+f}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var i=e[t];if(2!==i.length)return!1;if(!1===this.verifyNth(t,i[0],i[1]))return!1}return!0},this.verifyNth=function(t,i,n){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var s=this.aHeader[t]+"."+this.sPayload+"."+this.aSignature[t],r=!1;try{r=e.verify(s,i,n)}catch(f){return!1}return r},this.readJWSJS=function(e){if("string"==typeof e){var i=t(e);if(null==i)throw"argument is not safe JSON object string";this.aHeader=i.headers,this.sPayload=i.payload,this.aSignature=i.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(r){throw"malformed JWS-JS JSON object: "+r}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ee,t.rng_seed_time=W,t.BigInteger=S,t.RSAKey=ne,t.ECDSA=ce.crypto.ECDSA,t.DSA=ce.crypto.DSA,t.Signature=ce.crypto.Signature,t.MessageDigest=ce.crypto.MessageDigest,t.Mac=ce.crypto.Mac,t.Cipher=ce.crypto.Cipher,t.KEYUTIL=Be,t.ASN1HEX=de,t.X509=qe,t.CryptoJS=m,t.b64tohex=w,t.b64toBA=C,t.ECFieldElementFp=re,t.ECPointFp=oe,t.ECCurveFp=ae,t.stoBA=pe,t.BAtos=fe,t.BAtohex=ge,t.stohex=me,t.stob64=function(e){return b(me(e))},t.stob64u=function(e){return ve(b(me(e)))},t.b64utos=function(e){return fe(C(ye(e)))},t.b64tob64u=ve,t.b64utob64=ye,t.hex2b64=b,t.hextob64u=be,t.b64utohex=we,t.utf8tob64u=ue,t.b64utoutf8=he,t.utf8tob64=function(e){return b(Re(Le(e)))},t.b64toutf8=function(e){return decodeURIComponent(Oe(w(e)))},t.utf8tohex=Ce,t.hextoutf8=Se,t.hextorstr=xe,t.rstrtohex=ke,t.hextob64=Ee,t.hextob64nl=Ie,t.b64nltohex=Te,t.hextopem=_e,t.pemtohex=Fe,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),i=new DataView(t),n=0;n<e.length/2;n++)i.setUint8(n,parseInt(e.substr(2*n,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",i=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+i.getUint8(n).toString(16)).slice(-2);return t},t.zulutomsec=De,t.zulutosec=Ae,t.zulutodate=function(e){return new Date(De(e))},t.datetozulu=function(e,t,i){var n,s=e.getUTCFullYear();if(t){if(s<1950||2049<s)throw"not proper year for UTCTime: "+s;n=(""+s).slice(-2)}else n=("000"+s).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),i){var r=e.getUTCMilliseconds();0!==r&&(n+="."+(r=(r=("00"+r).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},t.uricmptohex=Re,t.hextouricmp=Oe,t.ipv6tohex=Pe,t.hextoipv6=Ne,t.hextoip=Me,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Pe(e);throw t}var i=e.split(".");if(4!==i.length)throw t;var n="";try{for(var s=0;s<4;s++)n+=("0"+parseInt(i[s]).toString(16)).slice(-2);return n}catch(p){throw t}},t.encodeURIComponentAll=Le,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ve,t.intarystrtohex=He,t.strdiffidx=function(e,t){var i=e.length;e.length>t.length&&(i=t.length);for(var n=0;n<i;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?i:-1},t.KJUR=ce,t.crypto=ce.crypto,t.asn1=ce.asn1,t.jws=ce.jws,t.lang=ce.lang},zUnb:function(e,t,i){"use strict";function n(e){return"function"==typeof e}i.r(t);let s=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(r.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const u=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let h=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(let e=0;e<i.length;++e)i[e].remove(this);if(n(s))try{s.call(this)}catch(o){t=o instanceof u?d(o.errors):[o]}if(l(r)){let e=-1,i=r.length;for(;++e<i;){const i=r[e];if(c(i))try{i.unsubscribe()}catch(o){t=t||[],o instanceof u?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new u(t)}add(t){let i=t;if(!t)return e.EMPTY;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){const t=i;i=new e,i._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=i;if(null===n)i._parentOrParents=this;else if(n instanceof e){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[i]:s.push(i),i}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof u?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,i)}}[p](){return this}static create(e,t,i){const n=new f(e,t,i);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends f{constructor(e,t,i,s){let r;super(),this._parentSubscriber=e;let o=this;n(t)?r=t:t&&(r=t.next,i=t.error,s=t.complete,t!==a&&(o=Object.create(t),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=r;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw i;o(i)}}__tryOrSetError(e,t,i){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(n){return r.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(e){return e}function y(...e){return b(e)}function b(e){return 0===e.length?v:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){const{operator:n}=this,s=function(e,t,i){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||i?new f(e,t,i):new f(a)}(e,t,i);if(s.add(n?n.call(s,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),r.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){r.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:i,isStopped:n}=e;if(t||n)return!1;e=i&&i instanceof f?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,i)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(s){i(s),n&&n.unsubscribe()}},i,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:b(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let i;this.subscribe(e=>i=e,e=>t(e),()=>e(i))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=r.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const S=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class x extends h{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class k extends f{constructor(e){super(e),this.destination=e}}let E=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new k(this)}lift(e){const t=new I(this,this);return t.operator=e,t}next(e){if(this.closed)throw new S;if(!this.isStopped){const{observers:t}=this,i=t.length,n=t.slice();for(let s=0;s<i;s++)n[s].next(e)}}error(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,i=t.length,n=t.slice();for(let s=0;s<i;s++)n[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new S;this.isStopped=!0;const{observers:e}=this,t=e.length,i=e.slice();for(let n=0;n<t;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new S;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),h.EMPTY):this.isStopped?(e.complete(),h.EMPTY):(this.observers.push(e),new x(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new I(e,t),e})();class I extends E{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):h.EMPTY}}function T(e){return e&&"function"==typeof e.schedule}class _ extends f{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const F=e=>t=>{for(let i=0,n=e.length;i<n&&!t.closed;i++)t.next(e[i]);t.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=D(),R=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function O(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const P=e=>{if(e&&"function"==typeof e[m])return n=e,e=>{const t=n[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(R(e))return F(e);if(O(e))return i=e,e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[A])return t=e,e=>{const i=t[A]();for(;;){const t=i.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof i.return&&e.add(()=>{i.return&&i.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,i,n};function N(e,t,i,n,s=new _(e,i,n)){if(!s.closed)return t instanceof w?t.subscribe(s):P(t)(s)}class M extends f{notifyNext(e,t,i,n,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function L(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new V(e,t))}}class V{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new H(e,this.project,this.thisArg))}}class H extends f{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}function B(e,t){return new w(i=>{const n=new h;let s=0;return n.add(t.schedule((function(){s!==e.length?(i.next(e[s++]),i.closed||n.add(this.schedule())):i.complete()}))),n})}function z(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new w(i=>{const n=new h;return n.add(t.schedule(()=>{const s=e[m]();n.add(s.subscribe({next(e){n.add(t.schedule(()=>i.next(e)))},error(e){n.add(t.schedule(()=>i.error(e)))},complete(){n.add(t.schedule(()=>i.complete()))}}))})),n})}(e,t);if(O(e))return function(e,t){return new w(i=>{const n=new h;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{i.next(e),n.add(t.schedule(()=>i.complete()))}))},e=>{n.add(t.schedule(()=>i.error(e)))}))),n})}(e,t);if(R(e))return B(e,t);if(function(e){return e&&"function"==typeof e[A]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(i=>{const n=new h;let s;return n.add(()=>{s&&"function"==typeof s.return&&s.return()}),n.add(t.schedule(()=>{s=e[A](),n.add(t.schedule((function(){if(i.closed)return;let e,t;try{const i=s.next();e=i.value,t=i.done}catch(n){return void i.error(n)}t?i.complete():(i.next(e),this.schedule())})))})),n})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(P(e))}function j(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(j((i,n)=>z(e(i,n)).pipe(L((e,s)=>t(i,e,n,s))),i)):("number"==typeof t&&(i=t),t=>t.lift(new U(e,i)))}class U{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new G(e,this.project,this.concurrent))}}class G extends M{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t,e,i)}_innerSub(e,t,i){const n=new _(this,t,i),s=this.destination;s.add(n);const r=N(this,e,void 0,void 0,n);r!==n&&s.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,i,n,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(e=Number.POSITIVE_INFINITY){return j(v,e)}function $(e,t){return t?B(e,t):new w(F(e))}function K(...e){let t=Number.POSITIVE_INFINITY,i=null,n=e[e.length-1];return T(n)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof w?e[0]:q(t)($(e,i))}function W(){return function(e){return e.lift(new Z(e))}}class Z{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const n=new Y(e,i),s=t.subscribe(n);return n.closed||(n.connection=i.connect()),s}}class Y extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,n=e._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()}}class Q extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new h,e.add(this.source.subscribe(new X(this.getSubject(),this))),e.closed&&(this._connection=null,e=h.EMPTY)),e}refCount(){return W()(this)}}const J=(()=>{const e=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class X extends k{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ee(){return new E}function te(e){return{toString:e}.toString()}function ie(e,t,i){return te(()=>{const n=function(e){return function(...t){if(e){const i=e(...t);for(const e in i)this[e]=i[e]}}}(t);function s(...e){if(this instanceof s)return n.apply(this,e),this;const t=new s(...e);return i.annotation=t,i;function i(e,i,n){const s=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;s.length<=n;)s.push(null);return(s[n]=s[n]||[]).push(t),e}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}const ne=ie("Inject",e=>({token:e})),se=ie("Optional"),re=ie("Self"),oe=ie("SkipSelf");var ae=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function le(e){for(let t in e)if(e[t]===le)return t;throw Error("Could not find renamed property on target object.")}function ce(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function ue(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function he(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function de(e){return pe(e,e[ge])||pe(e,e[ye])}function pe(e,t){return t&&t.token===e?t:null}function fe(e){return e&&(e.hasOwnProperty(me)||e.hasOwnProperty(be))?e[me]:null}const ge=le({"\u0275prov":le}),me=le({"\u0275inj":le}),ve=le({"\u0275provFallback":le}),ye=le({ngInjectableDef:le}),be=le({ngInjectorDef:le});function we(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function Ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Se=le({__forward_ref__:le});function xe(e){return e.__forward_ref__=xe,e.toString=function(){return we(this())},e}function ke(e){return Ee(e)?e():e}function Ee(e){return"function"==typeof e&&e.hasOwnProperty(Se)&&e.__forward_ref__===xe}const Ie="undefined"!=typeof globalThis&&globalThis,Te="undefined"!=typeof window&&window,_e="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fe="undefined"!=typeof global&&global,De=Ie||Fe||Te||_e,Ae=le({"\u0275cmp":le}),Re=le({"\u0275dir":le}),Oe=le({"\u0275pipe":le}),Pe=le({"\u0275mod":le}),Ne=le({"\u0275loc":le}),Me=le({"\u0275fac":le}),Le=le({__NG_ELEMENT_ID__:le});class Ve{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ue({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const He=new Ve("INJECTOR",-1),Be={},ze=/\n/gm,je=le({provide:String,useValue:le});let Ue,Ge=void 0;function qe(e){const t=Ge;return Ge=e,t}function $e(e){const t=Ue;return Ue=e,t}function Ke(e,t=ae.Default){if(void 0===Ge)throw new Error("inject() must be called from an injection context");return null===Ge?Ze(e,void 0,t):Ge.get(e,t&ae.Optional?null:void 0,t)}function We(e,t=ae.Default){return(Ue||Ke)(ke(e),t)}function Ze(e,t,i){const n=de(e);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(i&ae.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${we(e)}]`)}function Ye(e){const t=[];for(let i=0;i<e.length;i++){const n=ke(e[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let e=void 0,i=ae.Default;for(let t=0;t<n.length;t++){const s=n[t];s instanceof se||"Optional"===s.ngMetadataName||s===se?i|=ae.Optional:s instanceof oe||"SkipSelf"===s.ngMetadataName||s===oe?i|=ae.SkipSelf:s instanceof re||"Self"===s.ngMetadataName||s===re?i|=ae.Self:e=s instanceof ne||s===ne?s.token:s}t.push(We(e,i))}else t.push(We(n))}return t}class Qe{get(e,t=Be){if(t===Be){const t=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw t.name="NullInjectorError",t}return t}}class Je{}class Xe{}function et(e,t){for(let i=0;i<e.length;i++)t.push(e[i])}function tt(e,t){e.forEach(e=>Array.isArray(e)?tt(e,t):t(e))}function it(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function nt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function st(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}function rt(e,t,i){let n=at(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let s=e.length;if(s==t)e.push(i,n);else if(1===s)e.push(n,e[0]),e[0]=i;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function ot(e,t){const i=at(e,t);if(i>=0)return e[1|i]}function at(e,t){return function(e,t,i){let n=0,s=e.length>>1;for(;s!==n;){const i=n+(s-n>>1),r=e[i<<1];if(t===r)return i<<1;r>t?s=i:n=i+1}return~(s<<1)}(e,t)}const lt=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ct=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),ut={},ht=[];let dt=0;function pt(e){return te(()=>{const t=e.type,i=t.prototype,n={},s={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:i.ngOnInit||null,doCheck:i.ngDoCheck||null,afterContentInit:i.ngAfterContentInit||null,afterContentChecked:i.ngAfterContentChecked||null,afterViewInit:i.ngAfterViewInit||null,afterViewChecked:i.ngAfterViewChecked||null,onDestroy:i.ngOnDestroy||null,onPush:e.changeDetection===lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ct.Emulated,id:"c",styles:e.styles||ht,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,o=e.features,a=e.pipes;return s.id+=dt++,s.inputs=yt(e.inputs,n),s.outputs=yt(e.outputs),o&&o.forEach(e=>e(s)),s.directiveDefs=r?()=>("function"==typeof r?r():r).map(ft):null,s.pipeDefs=a?()=>("function"==typeof a?a():a).map(gt):null,s})}function ft(e){return Ct(e)||function(e){return e[Re]||null}(e)}function gt(e){return function(e){return e[Oe]||null}(e)}const mt={};function vt(e){const t={type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&te(()=>{mt[e.id]=e.type}),t}function yt(e,t){if(null==e)return ut;const i={};for(const n in e)if(e.hasOwnProperty(n)){let s=e[n],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),i[s]=n,t&&(t[s]=r)}return i}const bt=pt;function wt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ct(e){return e[Ae]||null}function St(e,t){return e.hasOwnProperty(Me)?e[Me]:null}function xt(e,t){const i=e[Pe]||null;if(!i&&!0===t)throw new Error(`Type ${we(e)} does not have '\u0275mod' property.`);return i}function kt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Et(e){return Array.isArray(e)&&!0===e[1]}function It(e){return 0!=(8&e.flags)}function Tt(e){return 2==(2&e.flags)}function _t(e){return 1==(1&e.flags)}function Ft(e){return null!==e.template}function Dt(e){return 0!=(512&e[2])}let At=void 0;function Rt(){return void 0!==At?At:"undefined"!=typeof document?document:void 0}function Ot(e){return!!e.listen}const Pt={createRenderer:(e,t)=>Rt()};function Nt(e){for(;Array.isArray(e);)e=e[0];return e}function Mt(e,t){return Nt(t[e+20])}function Lt(e,t){return Nt(t[e.index])}function Vt(e,t){return e.data[t+20]}function Ht(e,t){return e[t+20]}function Bt(e,t){const i=t[e];return kt(i)?i:i[0]}function zt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function jt(e){return 4==(4&e[2])}function Ut(e){return 128==(128&e[2])}function Gt(e,t){return null===e||null==t?null:e[t]}function qt(e){e[18]=0}function $t(e,t){e[5]+=t;let i=e,n=e[3];for(;null!==n&&(1===t&&1===i[5]||-1===t&&0===i[5]);)n[5]+=t,i=n,n=n[3]}const Kt={lFrame:gi(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Wt(){return Kt.bindingsEnabled}function Zt(){return Kt.lFrame.lView}function Yt(){return Kt.lFrame.tView}function Qt(e){Kt.lFrame.contextLView=e}function Jt(){return Kt.lFrame.previousOrParentTNode}function Xt(e,t){Kt.lFrame.previousOrParentTNode=e,Kt.lFrame.isParent=t}function ei(){return Kt.lFrame.isParent}function ti(){Kt.lFrame.isParent=!1}function ii(){return Kt.checkNoChangesMode}function ni(e){Kt.checkNoChangesMode=e}function si(){const e=Kt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ri(){return Kt.lFrame.bindingIndex}function oi(){return Kt.lFrame.bindingIndex++}function ai(e){const t=Kt.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function li(e,t){const i=Kt.lFrame;i.bindingIndex=i.bindingRootIndex=e,ci(t)}function ci(e){Kt.lFrame.currentDirectiveIndex=e}function ui(){return Kt.lFrame.currentQueryIndex}function hi(e){Kt.lFrame.currentQueryIndex=e}function di(e,t){const i=fi();Kt.lFrame=i,i.previousOrParentTNode=t,i.lView=e}function pi(e,t){const i=fi(),n=e[1];Kt.lFrame=i,i.previousOrParentTNode=t,i.lView=e,i.tView=n,i.contextLView=e,i.bindingIndex=n.bindingStartIndex}function fi(){const e=Kt.lFrame,t=null===e?null:e.child;return null===t?gi(e):t}function gi(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function mi(){const e=Kt.lFrame;return Kt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const vi=mi;function yi(){const e=mi();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function bi(){return Kt.lFrame.selectedIndex}function wi(e){Kt.lFrame.selectedIndex=e}function Ci(){const e=Kt.lFrame;return Vt(e.tView,e.selectedIndex)}function Si(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const t=e.data[i];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-i,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(i,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-i,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(i,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,t.onDestroy)}}function xi(e,t,i){Ii(e,t,3,i)}function ki(e,t,i,n){(3&e[2])===i&&Ii(e,t,i,n)}function Ei(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Ii(e,t,i,n){const s=null!=n?n:-1;let r=0;for(let o=void 0!==n?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(r=t[o],null!=n&&r>=n)break}else t[o]<0&&(e[18]+=65536),(r<s||-1==s)&&(Ti(e,i,t,o),e[18]=(4294901760&e[18])+o+2),o++}function Ti(e,t,i,n){const s=i[n]<0,r=i[n+1],o=e[s?-i[n]:i[n]];s?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(o)):r.call(o)}class _i{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Fi(e,t,i){const n=Ot(e);let s=0;for(;s<i.length;){const r=i[s];if("number"==typeof r){if(0!==r)break;s++;const o=i[s++],a=i[s++],l=i[s++];n?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=i[++s];Ai(o)?n&&e.setProperty(t,o,a):n?e.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function Di(e){return 3===e||4===e||6===e}function Ai(e){return 64===e.charCodeAt(0)}function Ri(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const s=t[n];"number"==typeof s?i=s:0===i||Oi(e,i,s,null,-1===i||2===i?t[++n]:null)}}return e}function Oi(e,t,i,n,s){let r=0,o=e.length;if(-1===t)o=-1;else for(;r<e.length;){const i=e[r++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===i){if(null===n)return void(null!==s&&(e[r+1]=s));if(n===e[r+1])return void(e[r+2]=s)}r++,null!==n&&r++,null!==s&&r++}-1!==o&&(e.splice(o,0,t),r=o+1),e.splice(r++,0,i),null!==n&&e.splice(r++,0,n),null!==s&&e.splice(r++,0,s)}function Pi(e){return-1!==e}function Ni(e){return 32767&e}function Mi(e){return e>>16}function Li(e,t){let i=Mi(e),n=t;for(;i>0;)n=n[15],i--;return n}function Vi(e){return"string"==typeof e?e:null==e?"":""+e}function Hi(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Vi(e)}const Bi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(De))();function zi(e){return e instanceof Function?e():e}let ji=!0;function Ui(e){const t=ji;return ji=e,t}let Gi=0;function qi(e,t){const i=Ki(e,t);if(-1!==i)return i;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,$i(n.data,e),$i(t,null),$i(n.blueprint,null));const s=Wi(e,t),r=e.injectorIndex;if(Pi(s)){const e=Ni(s),i=Li(s,t),n=i[1].data;for(let s=0;s<8;s++)t[r+s]=i[e+s]|n[e+s]}return t[r+8]=s,r}function $i(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ki(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Wi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=t[6],n=1;for(;i&&-1===i.injectorIndex;)i=(t=t[15])?t[6]:null,n++;return i?i.injectorIndex|n<<16:-1}function Zi(e,t,i){!function(e,t,i){let n="string"!=typeof i?i[Le]:i.charCodeAt(0)||0;null==n&&(n=i[Le]=Gi++);const s=255&n,r=1<<s,o=64&s,a=32&s,l=t.data;128&s?o?a?l[e+7]|=r:l[e+6]|=r:a?l[e+5]|=r:l[e+4]|=r:o?a?l[e+3]|=r:l[e+2]|=r:a?l[e+1]|=r:l[e]|=r}(e,t,i)}function Yi(e,t,i,n=ae.Default,s){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[Le];return"number"==typeof t&&t>0?255&t:t}(i);if("function"==typeof s){di(t,e);try{const e=s();if(null!=e||n&ae.Optional)return e;throw new Error(`No provider for ${Hi(i)}!`)}finally{vi()}}else if("number"==typeof s){if(-1===s)return new sn(e,t);let r=null,o=Ki(e,t),a=-1,l=n&ae.Host?t[16][6]:null;for((-1===o||n&ae.SkipSelf)&&(a=-1===o?Wi(e,t):t[o+8],nn(n,!1)?(r=t[1],o=Ni(a),t=Li(a,t)):o=-1);-1!==o;){a=t[o+8];const e=t[1];if(tn(s,o,e.data)){const e=Ji(o,t,i,r,n,l);if(e!==Qi)return e}nn(n,t[1].data[o+8]===l)&&tn(s,o,t)?(r=e,o=Ni(a),t=Li(a,t)):o=-1}}}if(n&ae.Optional&&void 0===s&&(s=null),0==(n&(ae.Self|ae.Host))){const e=t[9],r=$e(void 0);try{return e?e.get(i,s,n&ae.Optional):Ze(i,s,n&ae.Optional)}finally{$e(r)}}if(n&ae.Optional)return s;throw new Error(`NodeInjector: NOT_FOUND [${Hi(i)}]`)}const Qi={};function Ji(e,t,i,n,s,r){const o=t[1],a=o.data[e+8],l=Xi(a,o,i,null==n?Tt(a)&&ji:n!=o&&3===a.type,s&ae.Host&&r===a);return null!==l?en(t,o,l,a):Qi}function Xi(e,t,i,n,s){const r=e.providerIndexes,o=t.data,a=65535&r,l=e.directiveStart,c=r>>16,u=s?a+c:e.directiveEnd;for(let h=n?a:a+c;h<u;h++){const e=o[h];if(h<l&&i===e||h>=l&&e.type===i)return h}if(s){const e=o[l];if(e&&Ft(e)&&e.type===i)return l}return null}function en(e,t,i,n){let s=e[i];const r=t.data;if(s instanceof _i){const o=s;if(o.resolving)throw new Error("Circular dep for "+Hi(r[i]));const a=Ui(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=$e(o.injectImpl)),di(e,n);try{s=e[i]=o.factory(void 0,r,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){const{onChanges:n,onInit:s,doCheck:r}=t;n&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,n),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,n)),s&&(i.preOrderHooks||(i.preOrderHooks=[])).push(-e,s),r&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,r),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,r))}(i,r[i],t)}finally{o.injectImpl&&$e(l),Ui(a),o.resolving=!1,vi()}}return s}function tn(e,t,i){const n=64&e,s=32&e;let r;return r=128&e?n?s?i[t+7]:i[t+6]:s?i[t+5]:i[t+4]:n?s?i[t+3]:i[t+2]:s?i[t+1]:i[t],!!(r&1<<e)}function nn(e,t){return!(e&ae.Self||e&ae.Host&&t)}class sn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Yi(this._tNode,this._lView,e,void 0,t)}}function rn(e){const t=e;if(Ee(e))return()=>{const e=rn(ke(t));return e?e():null};let i=St(t);if(null===i){const e=fe(t);i=e&&e.factory}return i||null}function on(e){return te(()=>{const t=e.prototype.constructor,i=t[Me]||rn(t),n=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==n;){const e=s[Me]||rn(s);if(e&&e!==i)return e;s=Object.getPrototypeOf(s)}return e=>new e})}function an(e){return e.ngDebugContext}function ln(e){return e.ngOriginalError}function cn(e,...t){e.error(...t)}class un{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),n=function(e){return e.ngErrorLogger||cn}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?an(e)?an(e):this._findContext(ln(e)):null}_findOriginalError(e){let t=ln(e);for(;t&&ln(t);)t=ln(t);return t}}class hn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class dn extends hn{getTypeName(){return"HTML"}}class pn extends hn{getTypeName(){return"Style"}}class fn extends hn{getTypeName(){return"Script"}}class gn extends hn{getTypeName(){return"URL"}}class mn extends hn{getTypeName(){return"ResourceURL"}}function vn(e){return e instanceof hn?e.changingThisBreaksApplicationSecurity:e}function yn(e,t){const i=bn(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see http://g.co/ng/security#xss)`)}return i===t}function bn(e){return e instanceof hn&&e.getTypeName()||null}let wn=!0,Cn=!1;function Sn(){return Cn=!0,wn}class xn{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let t=this.inertDocument.body;if(null==t){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),t=this.inertDocument.createElement("body"),e.appendChild(t)}t.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!t.querySelector||t.querySelector("svg")?(t.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=t.querySelector&&t.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(n){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const i=t.response.body;return i.removeChild(i.firstChild),i}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const i=this.inertDocument.createElement("body");return i.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const kn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,En=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function In(e){return(e=String(e)).match(kn)||e.match(En)?e:(Sn()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Tn(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function _n(...e){const t={};for(const i of e)for(const e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}const Fn=Tn("area,br,col,hr,img,wbr"),Dn=Tn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),An=Tn("rp,rt"),Rn=_n(An,Dn),On=_n(Fn,_n(Dn,Tn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_n(An,Tn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rn),Pn=Tn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nn=Tn("srcset"),Mn=_n(Pn,Nn,Tn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ln=Tn("script,style,template");class Vn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!On.hasOwnProperty(t))return this.sanitizedSomething=!0,!Ln.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let s=0;s<i.length;s++){const e=i.item(s),t=e.name,r=t.toLowerCase();if(!Mn.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let o=e.value;Pn[r]&&(o=In(o)),Nn[r]&&(n=o,o=(n=String(n)).split(",").map(e=>In(e.trim())).join(", ")),this.buf.push(" ",t,'="',zn(o),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();On.hasOwnProperty(t)&&!Fn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(zn(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Hn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Bn=/([^\#-~ |!])/g;function zn(e){return e.replace(/&/g,"&amp;").replace(Hn,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Bn,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jn;function Un(e,t){let i=null;try{jn=jn||new xn(e);let n=t?String(t):"";i=jn.getInertBodyElement(n);let s=5,r=n;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,n=r,r=i.innerHTML,i=jn.getInertBodyElement(n)}while(n!==r);const o=new Vn,a=o.sanitizeChildren(Gn(i)||i);return Sn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(i){const e=Gn(i)||i;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Gn(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const qn=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),$n=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Kn=/^url\(([^)]+)\)$/;function Wn(e){const t=Yn();return t?t.sanitize(qn.HTML,e)||"":yn(e,"HTML")?vn(e):Un(Rt(),Vi(e))}function Zn(e){const t=Yn();return t?t.sanitize(qn.URL,e)||"":yn(e,"URL")?vn(e):In(Vi(e))}function Yn(){const e=Zt();return e&&e[12]}function Qn(e,t){e.__ngContext__=t}function Jn(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function Xn(){throw new Error("Cannot mix multi providers and regular providers")}function es(e,t,i){let n=e.length;for(;;){const s=e.indexOf(t,i);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const i=t.length;if(s+i===n||e.charCodeAt(s+i)<=32)return s}i=s+1}}function ts(e,t,i){let n=0;for(;n<e.length;){let s=e[n++];if(i&&"class"===s){if(s=e[n],-1!==es(s.toLowerCase(),t,0))return!0}else if(1===s){for(;n<e.length&&"string"==typeof(s=e[n++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function is(e){return 0===e.type&&"ng-template"!==e.tagName}function ns(e,t,i){return t===(0!==e.type||i?e.tagName:"ng-template")}function ss(e,t,i){let n=4;const s=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(Di(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!ns(e,l,i)||""===l&&1===t.length){if(rs(n))return!1;o=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!ts(e.attrs,c,i)){if(rs(n))return!1;o=!0}continue}const u=os(8&n?"class":l,s,is(e),i);if(-1===u){if(rs(n))return!1;o=!0;continue}if(""!==c){let e;e=u>r?"":s[u+1].toLowerCase();const t=8&n?e:null;if(t&&-1!==es(t,c,0)||2&n&&c!==e){if(rs(n))return!1;o=!0}}}}else{if(!o&&!rs(n)&&!rs(l))return!1;if(o&&rs(l))continue;o=!1,n=l|1&n}}return rs(n)||o}function rs(e){return 0==(1&e)}function os(e,t,i,n){if(null===t)return-1;let s=0;if(n||!i){let i=!1;for(;s<t.length;){const n=t[s];if(n===e)return s;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===n)break;if(0===n){s+=4;continue}}s+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function as(e,t,i=!1){for(let n=0;n<t.length;n++)if(ss(e,t[n],i))return!0;return!1}function ls(e,t){e:for(let i=0;i<t.length;i++){const n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function cs(e,t){return e?":not("+t.trim()+")":t}function us(e){let t=e[0],i=1,n=2,s="",r=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){const t=e[++i];s+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?s+="."+o:4&n&&(s+=" "+o);else""===s||rs(o)||(t+=cs(r,s),s=""),n=o,r=r||!rs(n);i++}return""!==s&&(t+=cs(r,s)),t}const hs={};function ds(e){const t=e[3];return Et(t)?t[3]:t}function ps(e){return gs(e[13])}function fs(e){return gs(e[4])}function gs(e){for(;null!==e&&!Et(e);)e=e[4];return e}function ms(e){vs(Yt(),Zt(),bi()+e,ii())}function vs(e,t,i,n){if(!n)if(3==(3&t[2])){const n=e.preOrderCheckHooks;null!==n&&xi(t,n,i)}else{const n=e.preOrderHooks;null!==n&&ki(t,n,0,i)}wi(i)}const ys={marker:"element"},bs={marker:"comment"};function ws(e,t){return e<<17|t<<2}function Cs(e){return e>>17&32767}function Ss(e){return 2|e}function xs(e){return(131068&e)>>2}function ks(e,t){return-131069&e|t<<2}function Es(e){return 1|e}function Is(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const s=i[n],r=i[n+1];if(-1!==r){const i=e.data[r];hi(s),i.contentQueries(2,t[r],r)}}}function Ts(e,t,i){return Ot(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function _s(e,t,i,n,s,r,o,a,l,c){const u=t.blueprint.slice();return u[0]=s,u[2]=140|n,qt(u),u[3]=u[15]=e,u[8]=i,u[10]=o||e&&e[10],u[11]=a||e&&e[11],u[12]=l||e&&e[12]||null,u[9]=c||e&&e[9]||null,u[6]=r,u[16]=2==t.type?e[16]:u,u}function Fs(e,t,i,n,s,r){const o=i+20,a=e.data[o]||function(e,t,i,n,s,r){const o=Jt(),a=ei(),l=a?o:o&&o.parent,c=e.data[i]=Hs(0,l&&l!==t?l:null,n,i,s,r);return null===e.firstChild&&(e.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(e,t,o,n,s,r);return Xt(a,!0),a}function Ds(e,t,i){pi(t,t[6]);try{const n=e.viewQuery;null!==n&&lr(1,n,i);const s=e.template;null!==s&&Os(e,t,s,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Is(e,t),e.staticViewQueries&&lr(2,e.viewQuery,i);const r=e.components;null!==r&&function(e,t){for(let i=0;i<t.length;i++)nr(e,t[i])}(t,r)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),n}finally{t[2]&=-5,yi()}}function As(e,t,i,n){const s=t[2];if(256==(256&s))return;pi(t,t[6]);const r=ii();try{qt(t),Kt.lFrame.bindingIndex=e.bindingStartIndex,null!==i&&Os(e,t,i,2,n);const o=3==(3&s);if(!r)if(o){const i=e.preOrderCheckHooks;null!==i&&xi(t,i,null)}else{const i=e.preOrderHooks;null!==i&&ki(t,i,0,null),Ei(t,0)}if(function(e){for(let t=ps(e);null!==t;t=fs(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const i=e[t],n=i[3];0==(1024&i[2])&&$t(n,1),i[2]|=1024}}}(t),function(e){for(let t=ps(e);null!==t;t=fs(t))for(let e=10;e<t.length;e++){const i=t[e],n=i[1];Ut(i)&&As(n,i,n.template,i[8])}}(t),null!==e.contentQueries&&Is(e,t),!r)if(o){const i=e.contentCheckHooks;null!==i&&xi(t,i)}else{const i=e.contentHooks;null!==i&&ki(t,i,1),Ei(t,1)}!function(e,t){try{const i=e.expandoInstructions;if(null!==i){let n=e.expandoStartIndex,s=-1,r=-1;for(let e=0;e<i.length;e++){const o=i[e];"number"==typeof o?o<=0?(r=0-o,wi(r),n+=9+i[++e],s=n):n+=o:(null!==o&&(li(n,s),o(2,t[s])),s++)}}}finally{wi(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let i=0;i<t.length;i++)ir(e,t[i])}(t,a);const l=e.viewQuery;if(null!==l&&lr(2,l,n),!r)if(o){const i=e.viewCheckHooks;null!==i&&xi(t,i)}else{const i=e.viewHooks;null!==i&&ki(t,i,2),Ei(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,$t(t[3],-1))}finally{yi()}}function Rs(e,t,i,n){const s=t[10],r=!ii(),o=jt(t);try{r&&!o&&s.begin&&s.begin(),o&&Ds(e,t,n),As(e,t,i,n)}finally{r&&!o&&s.end&&s.end()}}function Os(e,t,i,n,s){const r=bi();try{wi(-1),2&n&&t.length>20&&vs(e,t,0,ii()),i(n,s)}finally{wi(r)}}function Ps(e,t,i){if(It(t)){const n=t.directiveEnd;for(let s=t.directiveStart;s<n;s++){const t=e.data[s];t.contentQueries&&t.contentQueries(1,i[s],s)}}}function Ns(e,t,i){Wt()&&(function(e,t,i,n){const s=i.directiveStart,r=i.directiveEnd;e.firstCreatePass||qi(i,t),Qn(n,t);const o=i.initialInputs;for(let a=s;a<r;a++){const n=e.data[a],r=Ft(n);r&&Qs(t,i,n);const l=en(t,e,a,i);Qn(l,t),null!==o&&Xs(0,a-s,l,n,0,o),r&&(Bt(i.index,t)[8]=l)}}(e,t,i,Lt(i,t)),128==(128&i.flags)&&function(e,t,i){const n=i.directiveStart,s=i.directiveEnd,r=e.expandoInstructions,o=e.firstCreatePass,a=i.index-20,l=Kt.lFrame.currentDirectiveIndex;try{wi(a);for(let i=n;i<s;i++){const n=e.data[i],s=t[i];ci(i),null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs?qs(n,s):o&&r.push(null)}}finally{wi(-1),ci(l)}}(e,t,i))}function Ms(e,t,i=Lt){const n=t.localNames;if(null!==n){let s=t.index+1;for(let r=0;r<n.length;r+=2){const o=n[r+1],a=-1===o?i(t,e):e[o];e[s++]=a}}}function Ls(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Vs(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Vs(e,t,i,n,s,r,o,a,l,c){const u=20+n,h=u+s,d=function(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:hs);return i}(u,h);return d[1]={type:e,id:t,blueprint:d,template:i,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function Hs(e,t,i,n,s,r){return{type:i,index:n,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Bs(e,t,i){for(let n in e)if(e.hasOwnProperty(n)){const s=e[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(t,s):i[n]=[t,s]}return i}function zs(e,t,i,n,s,r,o,a){const l=Lt(t,i);let c,u=t.inputs;var h;!a&&null!=u&&(c=u[n])?(pr(e,i,c,n,s),Tt(t)&&function(e,t){const i=Bt(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3===t.type&&(n="class"===(h=n)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,s=null!=o?o(s,t.tagName||"",n):s,Ot(r)?r.setProperty(l,n,s):Ai(n)||(l.setProperty?l.setProperty(n,s):l[n]=s))}function js(e,t,i,n){let s=!1;if(Wt()){const r=function(e,t,i){const n=e.directiveRegistry;let s=null;if(n)for(let r=0;r<n.length;r++){const o=n[r];as(i,o.selectors,!1)&&(s||(s=[]),Zi(qi(i,t),e,o.type),Ft(o)?(2&i.flags&&Jn(i),Ks(e,i),s.unshift(o)):s.push(o))}return s}(e,t,i),o=null===n?null:{"":-1};if(null!==r){let n=0;s=!0,Zs(i,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}$s(e,i,r.length);let a=!1,l=!1;for(let s=0;s<r.length;s++){const c=r[s];i.mergedAttrs=Ri(i.mergedAttrs,c.hostAttrs),Ys(e,t,c),Ws(e.data.length-1,c,o),null!==c.contentQueries&&(i.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(i.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index-20),a=!0),l||!c.onChanges&&!c.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index-20),l=!0),Us(e,c),n+=c.hostVars}!function(e,t){const i=t.directiveEnd,n=e.data,s=t.attrs,r=[];let o=null,a=null;for(let l=t.directiveStart;l<i;l++){const e=n[l],i=e.inputs,c=null===s||is(t)?null:er(i,s);r.push(c),o=Bs(i,l,o),a=Bs(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=o,t.outputs=a}(e,i),Gs(e,t,n)}o&&function(e,t,i){if(t){const n=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=i[t[e+1]];if(null==s)throw new Error(`Export of name '${t[e+1]}' not found!`);n.push(t[e],s)}}}(i,n,o)}return i.mergedAttrs=Ri(i.mergedAttrs,i.attrs),s}function Us(e,t){const i=e.expandoInstructions;i.push(t.hostBindings),0!==t.hostVars&&i.push(t.hostVars)}function Gs(e,t,i){for(let n=0;n<i;n++)t.push(hs),e.blueprint.push(hs),e.data.push(null)}function qs(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function $s(e,t,i){const n=20-t.index,s=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(n,s,i)}function Ks(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ws(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Ft(t)&&(i[""]=e)}}function Zs(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function Ys(e,t,i){e.data.push(i);const n=i.factory||(i.factory=St(i.type)),s=new _i(n,Ft(i),null);e.blueprint.push(s),t.push(s)}function Qs(e,t,i){const n=Lt(t,e),s=Ls(i),r=e[10],o=sr(e,_s(e,s,null,i.onPush?64:16,n,t,r,r.createRenderer(n,i)));e[t.index]=o}function Js(e,t,i,n,s,r){const o=Lt(e,t),a=t[11];if(null==n)Ot(a)?a.removeAttribute(o,i,r):o.removeAttribute(i);else{const t=null==s?Vi(n):s(n,e.tagName||"",i);Ot(a)?a.setAttribute(o,i,t,r):r?o.setAttributeNS(r,i,t):o.setAttribute(i,t)}}function Xs(e,t,i,n,s,r){const o=r[t];if(null!==o){const e=n.setInput;for(let t=0;t<o.length;){const s=o[t++],r=o[t++],a=o[t++];null!==e?n.setInput(i,a,s,r):i[r]=a}}}function er(e,t){let i=null,n=0;for(;n<t.length;){const s=t[n];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===i&&(i=[]),i.push(s,e[s],t[n+1])),n+=2}else n+=2;else n+=4}return i}function tr(e,t,i,n){return new Array(e,!0,!1,t,null,0,n,i,null,null)}function ir(e,t){const i=Bt(t,e);if(Ut(i)){const e=i[1];80&i[2]?As(e,i,e.template,i[8]):i[5]>0&&function e(t){for(let n=ps(t);null!==n;n=fs(n))for(let t=10;t<n.length;t++){const i=n[t];if(1024&i[2]){const e=i[1];As(e,i,e.template,i[8])}else i[5]>0&&e(i)}const i=t[1].components;if(null!==i)for(let n=0;n<i.length;n++){const s=Bt(i[n],t);Ut(s)&&s[5]>0&&e(s)}}(i)}}function nr(e,t){const i=Bt(t,e),n=i[1];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i),Ds(n,i,i[8])}function sr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function rr(e){for(;e;){e[2]|=64;const t=ds(e);if(Dt(e)&&!t)return e;e=t}return null}function or(e,t,i){const n=t[10];n.begin&&n.begin();try{As(e,t,e.template,i)}catch(s){throw dr(t,s),s}finally{n.end&&n.end()}}function ar(e){!function(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],n=zt(i),s=n[1];Rs(s,n,s.template,i)}}(e[8])}function lr(e,t,i){hi(0),t(e,i)}const cr=(()=>Promise.resolve(null))();function ur(e){return e[7]||(e[7]=[])}function hr(e){return e.cleanup||(e.cleanup=[])}function dr(e,t){const i=e[9],n=i?i.get(un,null):null;n&&n.handleError(t)}function pr(e,t,i,n,s){for(let r=0;r<i.length;){const o=i[r++],a=i[r++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,s,n,a):l[a]=s}}function fr(e,t,i){const n=Mt(t,e),s=e[11];Ot(s)?s.setValue(n,i):n.textContent=i}function gr(e,t){const i=t[3];return-1===e.index?Et(i)?i:null:i}function mr(e,t){const i=gr(e,t);return i?Fr(t[11],i[7]):null}function vr(e,t,i,n,s){if(null!=n){let r,o=!1;Et(n)?r=n:kt(n)&&(o=!0,n=n[0]);const a=Nt(n);0===e&&null!==i?null==s?Tr(t,i,a):Ir(t,i,a,s||null):1===e&&null!==i?Ir(t,i,a,s||null):2===e?Or(t,a,o):3===e&&t.destroyNode(a),null!=r&&function(e,t,i,n,s){const r=i[7];r!==Nt(i)&&vr(t,e,n,r,s);for(let o=10;o<i.length;o++){const s=i[o];Nr(s[1],s,e,t,n,r)}}(t,e,r,i,s)}}function yr(e,t){return Ot(t)?t.createText(e):t.createTextNode(e)}function br(e,t,i,n){const s=mr(e.node,t);s&&Nr(e,t,t[11],i?1:2,s,n)}function wr(e,t){const i=e[9],n=i.indexOf(t);1024&t[2]&&$t(t[3],-1),i.splice(n,1)}function Cr(e,t){if(e.length<=10)return;const i=10+t,n=e[i];if(n){const s=n[17];null!==s&&s!==e&&wr(s,n),t>0&&(e[i-1][4]=n[4]);const r=nt(e,10+t);br(n[1],n,!1,null);const o=r[19];null!==o&&o.detachView(r[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function Sr(e,t){if(!(256&t[2])){const i=t[11];Ot(i)&&i.destroyNode&&Nr(e,t,i,3,null,null),function(e){let t=e[13];if(!t)return kr(e[1],e);for(;t;){let i=null;if(kt(t))i=t[13];else{const e=t[10];e&&(i=e)}if(!i){for(;t&&!t[4]&&t!==e;)kt(t)&&kr(t[1],t),t=xr(t,e);null===t&&(t=e),kt(t)&&kr(t[1],t),i=t&&t[4]}t=i}}(t)}}function xr(e,t){let i;return kt(e)&&(i=e[6])&&2===i.type?gr(i,e):e[3]===t?null:e[3]}function kr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const e=t[i[n]];if(!(e instanceof _i)){const t=i[n+1];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)t[i+1].call(e[t[i]]);else t.call(e)}}}(e,t),function(e,t){const i=e.cleanup;if(null!==i){const e=t[7];for(let n=0;n<i.length-1;n+=2)if("string"==typeof i[n]){const s=i[n+1],r="function"==typeof s?s(t):Nt(t[s]),o=e[i[n+2]],a=i[n+3];"boolean"==typeof a?r.removeEventListener(i[n],o,a):a>=0?e[a]():e[-a].unsubscribe(),n+=2}else i[n].call(e[i[n+1]]);t[7]=null}}(e,t);const i=t[6];i&&3===i.type&&Ot(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&Et(t[3])){n!==t[3]&&wr(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Er(e,t,i){let n=t.parent;for(;null!=n&&(4===n.type||5===n.type);)n=(t=n).parent;if(null==n){const e=i[6];return 2===e.type?mr(e,i):i[0]}if(t&&5===t.type&&4&t.flags)return Lt(t,i).parentNode;if(2&n.flags){const t=e.data,i=t[t[n.index].directiveStart].encapsulation;if(i!==ct.ShadowDom&&i!==ct.Native)return null}return Lt(n,i)}function Ir(e,t,i,n){Ot(e)?e.insertBefore(t,i,n):t.insertBefore(i,n,!0)}function Tr(e,t,i){Ot(e)?e.appendChild(t,i):t.appendChild(i)}function _r(e,t,i,n){null!==n?Ir(e,t,i,n):Tr(e,t,i)}function Fr(e,t){return Ot(e)?e.parentNode(t):t.parentNode}function Dr(e,t){if(2===e.type){const i=gr(e,t);return null===i?null:Rr(i.indexOf(t,10)-10,i)}return 4===e.type||5===e.type?Lt(e,t):null}function Ar(e,t,i,n){const s=Er(e,n,t);if(null!=s){const e=t[11],r=Dr(n.parent||t[6],t);if(Array.isArray(i))for(let t=0;t<i.length;t++)_r(e,s,i[t],r);else _r(e,s,i,r)}}function Rr(e,t){const i=10+e+1;if(i<t.length){const e=t[i],n=e[1].firstChild;if(null!==n)return function e(t,i){if(null!==i){const n=i.type;if(3===n)return Lt(i,t);if(0===n)return Rr(-1,t[i.index]);if(4===n||5===n){const n=i.child;if(null!==n)return e(t,n);{const e=t[i.index];return Et(e)?Rr(-1,e):Nt(e)}}{const n=t[16],s=n[6],r=ds(n),o=s.projection[i.projection];return null!=o?e(r,o):e(t,i.next)}}return null}(e,n)}return t[7]}function Or(e,t,i){const n=Fr(e,t);n&&function(e,t,i,n){Ot(e)?e.removeChild(t,i,n):t.removeChild(i)}(e,n,t,i)}function Pr(e,t,i,n,s,r,o){for(;null!=i;){const a=n[i.index],l=i.type;o&&0===t&&(a&&Qn(Nt(a),n),i.flags|=4),64!=(64&i.flags)&&(4===l||5===l?(Pr(e,t,i.child,n,s,r,!1),vr(t,e,s,a,r)):1===l?Lr(e,t,n,i,s,r):vr(t,e,s,a,r)),i=o?i.projectionNext:i.next}}function Nr(e,t,i,n,s,r){Pr(i,n,e.node.child,t,s,r,!1)}function Mr(e,t,i){Lr(t[11],0,t,i,Er(e,i,t),Dr(i.parent||t[6],t))}function Lr(e,t,i,n,s,r){const o=i[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)vr(t,e,s,a[l],r);else Pr(e,t,a,o[3],s,r,!0)}function Vr(e,t,i){Ot(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function Hr(e,t,i){Ot(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}class Br{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,i,n,s,r=!1){for(;null!==n;){const o=i[n.index];if(null!==o&&s.push(Nt(o)),Et(o))for(let t=10;t<o.length;t++){const i=o[t],n=i[1].firstChild;null!==n&&e(i[1],i,n,s)}const a=n.type;if(4===a||5===a)e(t,i,n.child,s);else if(1===a){const t=i[16],r=t[6].projection[n.projection];if(Array.isArray(r))s.push(...r);else{const i=ds(t);e(i[1],i,r,s,!0)}}n=r?n.projectionNext:n.next}return s}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Sr(this._lView[1],this._lView)}onDestroy(e){var t,i,n;t=this._lView[1],n=e,ur(i=this._lView).push(n),t.firstCreatePass&&hr(t).push(i[7].length-1,null)}markForCheck(){rr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){or(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,i){ni(!0);try{or(e,t,i)}finally{ni(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Nr(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class zr extends Br{constructor(e){super(e),this._view=e}detectChanges(){ar(this._view)}checkNoChanges(){!function(e){ni(!0);try{ar(e)}finally{ni(!1)}}(this._view)}get context(){return null}}let jr,Ur,Gr;function qr(e,t,i){return jr||(jr=class extends e{}),new jr(Lt(t,i))}function $r(e,t,i,n){return Ur||(Ur=class extends e{constructor(e,t,i){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=_s(this._declarationView,t,e,16,null,t.node);i[17]=this._declarationView[this._declarationTContainer.index];const n=this._declarationView[19];return null!==n&&(i[19]=n.createEmbeddedView(t)),Ds(t,i,e),new Br(i)}}),0===i.type?new Ur(n,i,qr(t,i,n)):null}function Kr(e,t,i,n){let s;Gr||(Gr=class extends e{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostView=i}get element(){return qr(t,this._hostTNode,this._hostView)}get injector(){return new sn(this._hostTNode,this._hostView)}get parentInjector(){const e=Wi(this._hostTNode,this._hostView),t=Li(e,this._hostView),i=function(e,t,i){if(i.parent&&-1!==i.parent.injectorIndex){const e=i.parent.injectorIndex;let t=i.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let n=Mi(e),s=t,r=t[6];for(;n>1;)s=s[15],r=s[6],n--;return r}(e,this._hostView,this._hostTNode);return Pi(e)&&null!=i?new sn(i,t):new sn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const n=e.createEmbeddedView(t||{});return this.insert(n,i),n}createComponent(e,t,i,n,s){const r=i||this.parentInjector;if(!s&&null==e.ngModule&&r){const e=r.get(Je,null);e&&(s=e)}const o=e.create(r,n,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){const i=e._lView,n=i[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Et(i[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=i[3],n=new Gr(t,t[6],t[3]);n.detach(n.indexOf(e))}}const s=this._adjustIndex(t);return function(e,t,i,n){const s=10+n,r=i.length;n>0&&(i[s-1][4]=t),n<r-10?(t[4]=i[s],it(i,10+n,t)):(i.push(t),t[4]=null),t[3]=i;const o=t[17];null!==o&&i!==o&&function(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(n,i,this._lContainer,s),br(n,i,!0,Rr(s,this._lContainer)),e.attachToViewContainerRef(this),it(this._lContainer[8],s,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1);!function(e,t){const i=Cr(e,t);i&&Sr(i[1],i)}(this._lContainer,t),nt(this._lContainer[8],t)}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),i=Cr(this._lContainer,t);return i&&null!=nt(this._lContainer[8],t)?new Br(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const r=n[i.index];if(Et(r))s=r;else{let e;if(4===i.type)e=Nt(r);else if(e=n[11].createComment(""),Dt(n)){const t=n[11],s=Lt(i,n);Ir(t,Fr(t,s),e,function(e,t){return Ot(e)?e.nextSibling(t):t.nextSibling}(t,s))}else Ar(n[1],n,e,i);n[i.index]=s=tr(r,n,e,i),sr(n,s)}return new Gr(s,i,n)}let Wr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Zr(),e})();const Zr=function(e=!1){return function(e,t,i){if(!i&&Tt(e)){const i=Bt(e.index,t);return new Br(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Br(t[16],t):null}(Jt(),Zt(),e)},Yr=new Ve("Set Injector scope."),Qr={},Jr={},Xr=[];let eo=void 0;function to(){return void 0===eo&&(eo=new Qe),eo}function io(e,t=null,i=null,n){return new no(e,i,t||to(),n)}class no{constructor(e,t,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&tt(t,i=>this.processProvider(i,e,t)),tt([e],e=>this.processInjectorType(e,[],s)),this.records.set(He,oo(void 0,this));const r=this.records.get(Yr);this.scope=null!=r?r.value:null,this.source=n||("object"==typeof e?null:we(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Be,i=ae.Default){this.assertNotDestroyed();const n=qe(this);try{if(!(i&ae.SkipSelf)){let t=this.records.get(e);if(void 0===t){const i=("function"==typeof(s=e)||"object"==typeof s&&s instanceof Ve)&&de(e);t=i&&this.injectableDefInScope(i)?oo(so(e),Qr):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(i&ae.Self?to():this.parent).get(e,t=i&ae.Optional&&t===Be?null:t)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(we(e)),n)throw r;return function(e,t,i,n){const s=e.ngTempTokenPath;throw t.__source&&s.unshift(t.__source),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=we(t);if(Array.isArray(t))s=t.map(we).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):we(n)))}s=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${s}]: ${e.replace(ze,"\n  ")}`}("\n"+e.message,s,i,n),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(r,e,"R3InjectorError",this.source)}throw r}finally{qe(n)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,i)=>e.push(we(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=ke(e)))return!1;let n=fe(e);const s=null==n&&e.ngModule||void 0,r=void 0===s?e:s,o=-1!==i.indexOf(r);if(void 0!==s&&(n=fe(s)),null==n)return!1;if(null!=n.imports&&!o){let e;i.push(r);try{tt(n.imports,n=>{this.processInjectorType(n,t,i)&&(void 0===e&&(e=[]),e.push(n))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:i,providers:n}=e[t];tt(n,e=>this.processProvider(e,i,n||Xr))}}this.injectorDefTypes.add(r),this.records.set(r,oo(n.factory,Qr));const a=n.providers;if(null!=a&&!o){const t=e;tt(a,e=>this.processProvider(e,t,a))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let n=lo(e=ke(e))?e:ke(e&&e.provide);const s=function(e,t,i){return ao(e)?oo(void 0,e.useValue):oo(ro(e,t,i),Qr)}(e,t,i);if(lo(e)||!0!==e.multi){const e=this.records.get(n);e&&void 0!==e.multi&&Xn()}else{let t=this.records.get(n);t?void 0===t.multi&&Xn():(t=oo(void 0,Qr,!0),t.factory=()=>Ye(t.multi),this.records.set(n,t)),n=e,t.multi.push(e)}this.records.set(n,s)}hydrate(e,t){var i;return t.value===Jr?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(we(e)):t.value===Qr&&(t.value=Jr,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function so(e){const t=de(e),i=null!==t?t.factory:St(e);if(null!==i)return i;const n=fe(e);if(null!==n)return n.factory;if(e instanceof Ve)throw new Error(`Token ${we(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=st(t,"?");throw new Error(`Can't resolve all parameters for ${we(e)}: (${i.join(", ")}).`)}const i=function(e){const t=e&&(e[ge]||e[ye]||e[ve]&&e[ve]());if(t){const i=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Error("unreachable")}function ro(e,t,i){let n=void 0;if(lo(e)){const t=ke(e);return St(t)||so(t)}if(ao(e))n=()=>ke(e.useValue);else if((s=e)&&s.useFactory)n=()=>e.useFactory(...Ye(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>We(ke(e.useExisting));else{const s=ke(e&&(e.useClass||e.provide));if(s||function(e,t,i){let n="";throw e&&t&&(n=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==i?"?"+i+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${we(e)}'`+n)}(t,i,e),!function(e){return!!e.deps}(e))return St(s)||so(s);n=()=>new s(...Ye(e.deps))}var s;return n}function oo(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function ao(e){return null!==e&&"object"==typeof e&&je in e}function lo(e){return"function"==typeof e}const co=function(e,t,i){return function(e,t=null,i=null,n){const s=io(e,t,i,n);return s._resolveInjectorDefTypes(),s}({name:i},t,e,i)};let uo=(()=>{class e{static create(e,t){return Array.isArray(e)?co(e,t,""):co(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Be,e.NULL=new Qe,e.\u0275prov=ue({token:e,providedIn:"any",factory:()=>We(He)}),e.__NG_ELEMENT_ID__=-1,e})();const ho=new Ve("AnalyzeForEntryComponents");let po=new Map;const fo=new Set;function go(e){return"string"==typeof e?e:e.text()}function mo(e,t,i){let n=i?e.styles:null,s=i?e.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?r=e:1==r?s=Ce(s,e):2==r&&(n=Ce(n,e+": "+t[++o]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=s:e.classesWithoutHost=s}let vo=null;function yo(){if(!vo){const e=De.Symbol;if(e&&e.iterator)vo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(vo=i)}}}return vo}function bo(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}class wo{constructor(e){this.wrapped=e}static wrap(e){return new wo(e)}static unwrap(e){return wo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof wo}}function Co(e){return!!So(e)&&(Array.isArray(e)||!(e instanceof Map)&&yo()in e)}function So(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function xo(e,t,i){return e[t]=i}function ko(e,t){return e[t]}function Eo(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function Io(e,t,i,n){const s=Eo(e,t,i);return Eo(e,t+1,n)||s}function To(e,t,i,n,s){const r=Io(e,t,i,n);return Eo(e,t+2,s)||r}function _o(e,t,i,n,s,r){const o=Io(e,t,i,n);return Io(e,t+2,s,r)||o}function Fo(e,t,i,n){const s=Zt();return Eo(s,oi(),t)&&(Yt(),Js(Ci(),s,e,t,i,n)),Fo}function Do(e,t,i,n){return Eo(e,oi(),i)?t+Vi(i)+n:hs}function Ao(e,t,i,n,s,r,o,a){const l=Zt(),c=Yt(),u=e+20,h=c.firstCreatePass?function(e,t,i,n,s,r,o,a,l){const c=t.consts,u=Fs(t,i[6],e,0,o||null,Gt(c,a));js(t,i,u,Gt(c,l)),Si(t,u);const h=u.tViews=Vs(2,-1,n,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),d=Hs(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(e,c,l,t,i,n,s,r,o):c.data[u];Xt(h,!1);const d=l[11].createComment("");Ar(c,l,d,h),Qn(d,l),sr(l,l[u]=tr(d,l,d,h)),_t(h)&&Ns(c,l,h),null!=o&&Ms(l,h,a)}function Ro(e){return Ht(Kt.lFrame.contextLView,e)}function Oo(e,t=ae.Default){const i=Zt();return null==i?We(e,t):Yi(Jt(),i,ke(e),t)}function Po(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const e=i.length;let n=0;for(;n<e;){const s=i[n];if(Di(s))break;if(0===s)n+=2;else if("number"==typeof s)for(n++;n<e&&"string"==typeof i[n];)n++;else{if(s===t)return i[n+1];n+=2}}}return null}(Jt(),e)}function No(){throw new Error("invalid")}function Mo(e,t,i){const n=Zt();return Eo(n,oi(),t)&&zs(Yt(),Ci(),n,e,t,n[11],i,!1),Mo}function Lo(e,t,i,n,s){const r=s?"class":"style";pr(e,i,t.inputs[r],r,n)}function Vo(e,t,i,n){const s=Zt(),r=Yt(),o=20+e,a=s[11],l=s[o]=Ts(t,a,Kt.lFrame.currentNamespace),c=r.firstCreatePass?function(e,t,i,n,s,r,o){const a=t.consts,l=Gt(a,r),c=Fs(t,i[6],e,3,s,l);return js(t,i,c,Gt(a,o)),null!==c.attrs&&mo(c,c.attrs,!1),null!==c.mergedAttrs&&mo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,r,s,0,t,i,n):r.data[o];Xt(c,!0);const u=c.mergedAttrs;null!==u&&Fi(a,l,u);const h=c.classes;null!==h&&Hr(a,l,h);const d=c.styles;null!==d&&Vr(a,l,d),Ar(r,s,l,c),0===Kt.lFrame.elementDepthCount&&Qn(l,s),Kt.lFrame.elementDepthCount++,_t(c)&&(Ns(r,s,c),Ps(r,c,s)),null!==n&&Ms(s,c)}function Ho(){let e=Jt();ei()?ti():(e=e.parent,Xt(e,!1));const t=e;Kt.lFrame.elementDepthCount--;const i=Yt();i.firstCreatePass&&(Si(i,e),It(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Lo(i,t,Zt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Lo(i,t,Zt(),t.stylesWithoutHost,!1)}function Bo(e,t,i,n){Vo(e,t,i,n),Ho()}function zo(e,t,i){const n=Zt(),s=Yt(),r=e+20,o=s.firstCreatePass?function(e,t,i,n,s){const r=t.consts,o=Gt(r,n),a=Fs(t,i[6],e,4,"ng-container",o);return null!==o&&mo(a,o,!0),js(t,i,a,Gt(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,s,n,t,i):s.data[r];Xt(o,!0);const a=n[r]=n[11].createComment("");Ar(s,n,a,o),Qn(a,n),_t(o)&&(Ns(s,n,o),Ps(s,o,n)),null!=i&&Ms(n,o)}function jo(){let e=Jt();const t=Yt();ei()?ti():(e=e.parent,Xt(e,!1)),t.firstCreatePass&&(Si(t,e),It(e)&&t.queries.elementEnd(e))}function Uo(e,t,i){zo(e,t,i),jo()}function Go(){return Zt()}function qo(e){return!!e&&"function"==typeof e.then}function $o(e){return!!e&&"function"==typeof e.subscribe}function Ko(e,t,i=!1,n){const s=Zt(),r=Yt(),o=Jt();return function(e,t,i,n,s,r,o=!1,a){const l=_t(n),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),u=ur(t);let h=!0;if(3===n.type){const d=Lt(n,t),p=a?a(d):ut,f=p.target||d,g=u.length,m=a?e=>a(Nt(e[n.index])).target:n.index;if(Ot(i)){let o=null;if(!a&&l&&(o=function(e,t,i,n){const s=e.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const e=s[r];if(e===i&&s[r+1]===n){const e=t[7],i=s[r+2];return e.length>i?e[i]:null}"string"==typeof e&&(r+=2)}return null}(e,t,s,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=r,o.__ngLastListenerFn__=r,h=!1;else{r=Zo(n,t,r,!1);const e=i.listen(p.name||f,s,r);u.push(r,e),c&&c.push(s,m,g,g+1)}}else r=Zo(n,t,r,!0),f.addEventListener(s,r,o),u.push(r),c&&c.push(s,m,g,o)}const d=n.outputs;let p;if(h&&null!==d&&(p=d[s])){const e=p.length;if(e)for(let i=0;i<e;i+=2){const e=t[p[i]][p[i+1]].subscribe(r),o=u.length;u.push(r,e),c&&c.push(s,n.index,o,-(o+1))}}}(r,s,s[11],o,e,t,i,n),Ko}function Wo(e,t,i){try{return!1!==t(i)}catch(n){return dr(e,n),!1}}function Zo(e,t,i,n){return function s(r){if(r===Function)return i;const o=2&e.flags?Bt(e.index,t):t;0==(32&t[2])&&rr(o);let a=Wo(t,i,r),l=s.__ngNextListenerFn__;for(;l;)a=Wo(t,l,r)&&a,l=l.__ngNextListenerFn__;return n&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function Yo(e=1){return function(e){return(Kt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Kt.lFrame.contextLView))[8]}(e)}function Qo(e,t){let i=null;const n=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===n?as(e,r,!0):ls(n,r))return s}else i=s}return i}function Jo(e){const t=Zt()[16][6];if(!t.projection){const i=t.projection=st(e?e.length:1,null),n=i.slice();let s=t.child;for(;null!==s;){const t=e?Qo(s,e):0;null!==t&&(n[t]?n[t].projectionNext=s:i[t]=s,n[t]=s),s=s.next}}}function Xo(e,t=0,i){const n=Zt(),s=Yt(),r=Fs(s,n[6],e,1,null,i||null);null===r.projection&&(r.projection=t),ti(),Mr(s,n,r)}function ea(e,t,i){return ta(e,"",t,"",i),ea}function ta(e,t,i,n,s){const r=Zt(),o=Do(r,t,i,n);return o!==hs&&zs(Yt(),Ci(),r,e,o,r[11],s,!1),ta}const ia=[];function na(e,t,i,n,s){const r=e[i+1],o=null===t;let a=n?Cs(r):xs(r),l=!1;for(;0!==a&&(!1===l||o);){const i=e[a+1];sa(e[a],t)&&(l=!0,e[a+1]=n?Es(i):Ss(i)),a=n?Cs(i):xs(i)}l&&(e[i+1]=n?Ss(r):Es(r))}function sa(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&at(e,t)>=0}const ra={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oa(e){return e.substring(ra.key,ra.keyEnd)}function aa(e,t){const i=ra.textEnd;return i===t?-1:(t=ra.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,ra.key=t,i),la(e,t,i))}function la(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function ca(e,t,i){return da(e,t,i,!1),ca}function ua(e,t){return da(e,t,null,!0),ua}function ha(e,t){for(let i=function(e){return function(e){ra.key=0,ra.keyEnd=0,ra.value=0,ra.valueEnd=0,ra.textEnd=e.length}(e),aa(e,la(e,0,ra.textEnd))}(t);i>=0;i=aa(t,i))rt(e,oa(t),!0)}function da(e,t,i,n){const s=Zt(),r=Yt(),o=ai(2);if(r.firstUpdatePass&&fa(r,e,o,n),t!==hs&&Eo(s,o,t)){let a;null==i&&(a=function(){const e=Kt.lFrame;return null===e?null:e.currentSanitizer}())&&(i=a),va(r,r.data[bi()+20],s,s[11],e,s[o+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=we(vn(e)))),e}(t,i),n,o)}}function pa(e,t){return t>=e.expandoStartIndex}function fa(e,t,i,n){const s=e.data;if(null===s[i+1]){const r=s[bi()+20],o=pa(e,i);wa(r,n)&&null===t&&!o&&(t=!1),t=function(e,t,i,n){const s=function(e){const t=Kt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=n?t.residualClasses:t.residualStyles;if(null===s)0===(n?t.classBindings:t.styleBindings)&&(i=ma(i=ga(null,e,t,i,n),t.attrs,n),r=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(i=ga(s,e,t,i,n),null===r){let i=function(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==xs(n))return e[Cs(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=ga(null,e,t,i[1],n),i=ma(i,t.attrs,n),function(e,t,i,n){e[Cs(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else r=function(e,t,i){let n=void 0;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)n=ma(n,e[r].hostAttrs,i);return ma(n,t.attrs,i)}(e,t,n)}return void 0!==r&&(n?t.residualClasses=r:t.residualStyles=r),i}(s,r,t,n),function(e,t,i,n,s,r){let o=r?t.classBindings:t.styleBindings,a=Cs(o),l=xs(o);e[n]=i;let c,u=!1;if(Array.isArray(i)){const e=i;c=e[1],(null===c||at(e,c)>0)&&(u=!0)}else c=i;if(s)if(0!==l){const t=Cs(e[a+1]);e[n+1]=ws(t,a),0!==t&&(e[t+1]=ks(e[t+1],n)),e[a+1]=131071&e[a+1]|n<<17}else e[n+1]=ws(a,0),0!==a&&(e[a+1]=ks(e[a+1],n)),a=n;else e[n+1]=ws(l,0),0===a?a=n:e[l+1]=ks(e[l+1],n),l=n;u&&(e[n+1]=Ss(e[n+1])),na(e,c,n,!0),na(e,c,n,!1),function(e,t,i,n,s){const r=s?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&at(r,t)>=0&&(i[n+1]=Es(i[n+1]))}(t,c,e,n,r),o=ws(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,i,o,n)}}function ga(e,t,i,n,s){let r=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(r=t[a],n=ma(n,r.hostAttrs,s),r!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function ma(e,t,i){const n=i?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),rt(e,o,!!i||t[++r]))}return void 0===e?null:e}function va(e,t,i,n,s,r,o,a){if(3!==t.type)return;const l=e.data,c=l[a+1];ba(1==(1&c)?ya(l,t,i,s,xs(c),o):void 0)||(ba(r)||function(e){return 2==(2&e)}(c)&&(r=ya(l,null,i,s,a,o)),function(e,t,i,n,s){const r=Ot(e);if(t)s?r?e.addClass(i,n):i.classList.add(n):r?e.removeClass(i,n):i.classList.remove(n);else{const t=-1==n.indexOf("-")?void 0:2;null==s?r?e.removeStyle(i,n,t):i.style.removeProperty(n):r?e.setStyle(i,n,s,t):i.style.setProperty(n,s)}}(n,o,Mt(bi(),i),s,r))}function ya(e,t,i,n,s,r){const o=null===t;let a=void 0;for(;s>0;){const t=e[s],r=Array.isArray(t),l=r?t[1]:t,c=null===l;let u=i[s+1];u===hs&&(u=c?ia:void 0);let h=c?ot(u,n):l===n?u:void 0;if(r&&!ba(h)&&(h=ot(t,n)),ba(h)&&(a=h,o))return a;const d=e[s+1];s=o?Cs(d):xs(d)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=ot(e,n))}return a}function ba(e){return void 0!==e}function wa(e,t){return 0!=(e.flags&(t?16:32))}function Ca(e,t=""){const i=Zt(),n=Yt(),s=e+20,r=n.firstCreatePass?Fs(n,i[6],e,3,null,null):n.data[s],o=i[s]=yr(t,i[11]);Ar(n,i,o,r),Xt(r,!1)}function Sa(e){return xa("",e,""),Sa}function xa(e,t,i){const n=Zt(),s=Do(n,e,t,i);return s!==hs&&fr(n,bi(),s),xa}function ka(e,t,i,n,s){const r=Zt(),o=function(e,t,i,n,s,r){const o=Io(e,ri(),i,s);return ai(2),o?t+Vi(i)+n+Vi(s)+r:hs}(r,e,t,i,n,s);return o!==hs&&fr(r,bi(),o),ka}function Ea(e,t,i,n,s,r,o,a,l,c,u){const h=Zt(),d=function(e,t,i,n,s,r,o,a,l,c,u,h){const d=ri();let p=_o(e,d,i,s,o,l);return p=Eo(e,d+4,u)||p,ai(5),p?t+Vi(i)+n+Vi(s)+r+Vi(o)+a+Vi(l)+c+Vi(u)+h:hs}(h,e,t,i,n,s,r,o,a,l,c,u);return d!==hs&&fr(h,bi(),d),Ea}function Ia(e,t,i){const n=Zt();return Eo(n,oi(),t)&&zs(Yt(),Ci(),n,e,t,n[11],i,!0),Ia}function Ta(e,t){const i=zt(e)[1],n=i.data.length-1;Si(i,{directiveStart:n,directiveEnd:n+1})}function _a(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,i=!0;const n=[e];for(;t;){let s=void 0;if(Ft(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(i){n.push(s);const t=e;t.inputs=Fa(e.inputs),t.declaredInputs=Fa(e.declaredInputs),t.outputs=Fa(e.outputs);const i=s.hostBindings;i&&Ra(e,i);const r=s.viewQuery,o=s.contentQueries;if(r&&Da(e,r),o&&Aa(e,o),ce(e.inputs,s.inputs),ce(e.declaredInputs,s.declaredInputs),ce(e.outputs,s.outputs),Ft(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}t.afterContentChecked=t.afterContentChecked||s.afterContentChecked,t.afterContentInit=e.afterContentInit||s.afterContentInit,t.afterViewChecked=e.afterViewChecked||s.afterViewChecked,t.afterViewInit=e.afterViewInit||s.afterViewInit,t.doCheck=e.doCheck||s.doCheck,t.onDestroy=e.onDestroy||s.onDestroy,t.onInit=e.onInit||s.onInit}const t=s.features;if(t)for(let n=0;n<t.length;n++){const s=t[n];s&&s.ngInherit&&s(e),s===_a&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const s=e[n];s.hostVars=t+=s.hostVars,s.hostAttrs=Ri(s.hostAttrs,i=Ri(i,s.hostAttrs))}}(n)}function Fa(e){return e===ut?{}:e===ht?[]:e}function Da(e,t){const i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function Aa(e,t){const i=e.contentQueries;e.contentQueries=i?(e,n,s)=>{t(e,n,s),i(e,n,s)}:t}function Ra(e,t){const i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}class Oa{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Pa(e){e.type.prototype.ngOnChanges&&(e.setInput=Na,e.onChanges=function(){const e=Ma(this),t=e&&e.current;if(t){const i=e.previous;if(i===ut)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}})}function Na(e,t,i,n){const s=Ma(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ut,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[i],l=o[a];r[a]=new Oa(l&&l.currentValue,t,o===ut),e[n]=t}function Ma(e){return e.__ngSimpleChanges__||null}function La(e,t,i,n,s){if(e=ke(e),Array.isArray(e))for(let r=0;r<e.length;r++)La(e[r],t,i,n,s);else{const r=Yt(),o=Zt();let a=lo(e)?e:ke(e.provide),l=ro(e);const c=Jt(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(lo(e)||!e.multi){const n=new _i(l,s,Oo),p=Ba(a,t,s?u:u+d,h);-1===p?(Zi(qi(c,o),r,a),Va(r,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=65536),i.push(n),o.push(n)):(i[p]=n,o[p]=n)}else{const p=Ba(a,t,u+d,h),f=Ba(a,t,u,u+d),g=p>=0&&i[p],m=f>=0&&i[f];if(s&&!m||!s&&!g){Zi(qi(c,o),r,a);const u=function(e,t,i,n,s){const r=new _i(e,i,Oo);return r.multi=[],r.index=t,r.componentProviders=0,Ha(r,s,n&&!i),r}(s?ja:za,i.length,s,n,l);!s&&m&&(i[f].providerFactory=u),Va(r,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=65536),i.push(u),o.push(u)}else Va(r,e,p>-1?p:f,Ha(i[s?f:p],l,!s&&n));!s&&n&&m&&i[f].componentProviders++}}}function Va(e,t,i,n){const s=lo(t);if(s||t.useClass){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const o=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const e=o.indexOf(i);-1===e?o.push(i,[n,r]):o[e+1].push(n,r)}else o.push(i,r)}}}function Ha(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function Ba(e,t,i,n){for(let s=i;s<n;s++)if(t[s]===e)return s;return-1}function za(e,t,i,n){return Ua(this.multi,[])}function ja(e,t,i,n){const s=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=en(i,i[1],this.providerFactory.index,n);r=t.slice(0,e),Ua(s,r);for(let i=e;i<t.length;i++)r.push(t[i])}else r=[],Ua(s,r);return r}function Ua(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function Ga(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){const n=Yt();if(n.firstCreatePass){const s=Ft(e);La(i,n.data,n.blueprint,s,!0),La(t,n.data,n.blueprint,s,!1)}}(i,n?n(e):e,t)}}Pa.ngInherit=!0;class qa{}class $a{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${we(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let Ka=(()=>{class e{}return e.NULL=new $a,e})(),Wa=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Za(e),e})();const Za=function(e){return qr(e,Jt(),Zt())};class Ya{}const Qa=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Ja=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Xa(),e})();const Xa=function(){const e=Zt(),t=Bt(Jt().index,e);return function(e){const t=e[11];if(Ot(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(kt(t)?t:e)};let el=(()=>{class e{}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>null}),e})();class tl{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const il=new tl("9.1.13");class nl{constructor(){}supports(e){return Co(e)}create(e){return new rl(e)}}const sl=(e,t)=>t;class rl{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sl}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,s=null;for(;t||i;){const r=!i||t&&t.currentIndex<cl(i,n,s)?t:i,o=cl(r,n,s),a=r.currentIndex;if(r===i)n--,i=i._nextRemoved;else if(t=t._next,null==r.previousIndex)n++;else{s||(s=[]);const e=o-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){const n=i<s.length?s[i]:s[i]=0,r=n+i;t<=r&&r<e&&(s[i]=n+1)}s[r.previousIndex]=t-e}}o!==a&&e(r,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Co(e))throw new Error(`Error trying to diff '${we(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,s=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==s&&bo(s.trackById,n)?(r&&(s=this._verifyReinsertion(s,i,n,t)),bo(s.item,i)||this._addIdentityChange(s,i)):(s=this._mismatch(s,i,n,t),r=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[yo()]();let n;for(;!(n=i.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==s&&bo(s.trackById,n)?(r&&(s=this._verifyReinsertion(s,e,n,t)),bo(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,n,t),r=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(bo(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,n)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(bo(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,n)):e=this._addAfter(new ol(t,i),s,n),e}_verifyReinsertion(e,t,i,n){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,s=e._nextRemoved;return null===n?this._removalsHead=s:n._nextRemoved=s,null===s?this._removalsTail=n:s._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ll),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ll),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class ol{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class al{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&bo(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class ll{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new al,this.map.set(t,i)),i.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function cl(e,t,i){const n=e.previousIndex;if(null===n)return n;let s=0;return i&&n<i.length&&(s=i[n]),n+t+s}class ul{constructor(){}supports(e){return e instanceof Map||So(e)}create(){return new hl}}class hl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||So(e)))throw new Error(`Error trying to diff '${we(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const n=i._prev,s=i._next;return n&&(n._next=s),s&&(s._prev=n),i._next=null,i._prev=null,i}const i=new dl(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){bo(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class dl{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let pl=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,i)},deps:[[e,new oe,new se]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${i=e,i.name||typeof i}'`);var i}}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e([new nl])}),e})(),fl=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,i)},deps:[[e,new oe,new se]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new e([new ul])}),e})();const gl=[new ul],ml=new pl([new nl]),vl=new fl(gl);let yl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>bl(e,Wa),e})();const bl=function(e,t){return $r(e,t,Jt(),Zt())};let wl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Cl(e,Wa),e})();const Cl=function(e,t){return Kr(e,t,Jt(),Zt())},Sl={};class xl extends Ka{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ct(e);return new Il(t,this.ngModule)}}function kl(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}const El=new Ve("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Bi});class Il extends qa{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(us).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return kl(this.componentDef.inputs)}get outputs(){return kl(this.componentDef.outputs)}create(e,t,i,n){const s=(n=n||this.ngModule)?function(e,t){return{get:(i,n,s)=>{const r=e.get(i,Sl,s);return r!==Sl||n===Sl?r:t.get(i,n,s)}}}(e,n.injector):e,r=s.get(Ya,Pt),o=s.get(el,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=i?function(e,t,i){if(Ot(e))return e.selectRootElement(t,i===ct.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(a,i,this.componentDef.encapsulation):Ts(l,r.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h="string"==typeof i&&/^#root-ng-internal-isolated-\d+/.test(i),d={components:[],scheduler:Bi,clean:cr,playerHandler:null,flags:0},p=Vs(0,-1,null,1,0,null,null,null,null,null),f=_s(null,p,d,u,null,null,r,a,o,s);let g,m;pi(f,null);try{const e=function(e,t,i,n,s,r){const o=i[1];i[20]=e;const a=Fs(o,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(mo(a,l,!0),null!==e&&(Fi(s,e,l),null!==a.classes&&Hr(s,e,a.classes),null!==a.styles&&Vr(s,e,a.styles)));const c=n.createRenderer(e,t),u=_s(i,Ls(t),null,t.onPush?64:16,i[20],a,n,c,void 0);return o.firstCreatePass&&(Zi(qi(a,i),o,t.type),Ks(o,a),Zs(a,i.length,1)),sr(i,u),i[20]=u}(c,this.componentDef,f,r,a);if(c)if(i)Fi(a,c,["ng-version",il.full]);else{const{attrs:e,classes:t}=function(e){const t=[],i=[];let n=1,s=2;for(;n<e.length;){let r=e[n];if("string"==typeof r)2===s?""!==r&&t.push(r,e[++n]):8===s&&i.push(r);else{if(!rs(s))break;s=r}n++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);e&&Fi(a,c,e),t&&t.length>0&&Hr(a,c,t.join(" "))}if(m=Vt(p,0),void 0!==t){const e=m.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const n=t[i];e.push(null!=n?Array.from(n):null)}}g=function(e,t,i,n,s){const r=i[1],o=function(e,t,i){const n=Jt();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),$s(e,n,1),Ys(e,t,i));const s=en(t,e,t.length-1,n);Qn(s,t);const r=Lt(n,t);return r&&Qn(r,t),s}(r,i,t);n.components.push(o),e[8]=o,s&&s.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,i.length-1);const a=Jt();if(r.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){wi(a.index-20);const e=i[1];Us(e,t),Gs(e,i,t.hostVars),qs(t,o)}return o}(e,this.componentDef,f,d,[Ta]),Ds(p,f,null)}finally{yi()}const v=new Tl(this.componentType,g,qr(Wa,m,f),f,m);return i&&!h||(p.node.child=m),v}}class Tl extends class{}{constructor(e,t,i,n,s){super(),this.location=i,this._rootLView=n,this._tNode=s,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new zr(n),function(e,t,i,n){let s=e.node;null==s&&(e.node=s=Hs(0,null,2,-1,null,null)),n[6]=s}(n[1],0,0,n),this.componentType=e}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const _l=void 0;var Fl=["en",[["a","p"],["AM","PM"],_l],[["AM","PM"],_l,_l],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_l,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_l,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_l,"{1} 'at' {0}",_l],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Dl={};function Al(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Ol(t);if(i)return i;const n=t.split("-")[0];if(i=Ol(n),i)return i;if("en"===n)return Fl;throw new Error(`Missing locale data for the locale "${e}".`)}function Rl(e){return Al(e)[Pl.PluralCase]}function Ol(e){return e in Dl||(Dl[e]=De.ng&&De.ng.common&&De.ng.common.locales&&De.ng.common.locales[e]),Dl[e]}const Pl=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Nl=["zero","one","two","few","many"],Ml=/\ufffd(\d+):?\d*\ufffd/gi,Ll=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function Vl(e,t,i,n=null){const s=[null,null],r=e.split(Ml);let o=0;for(let a=0;a<r.length;a++){const e=r[a];if(1&a){const t=parseInt(e,10);s.push(-1-t),o|=Hl(t)}else""!==e&&s.push(e)}return s.push(t<<2|(i?1:0)),i&&s.push(i,n),s[0]=o,s[1]=s.length-2,s}function Hl(e){return 1<<Math.min(e,31)}function Bl(e,t,i,n,s){const r=t.next;n||(n=i),n===i&&t!==i.child?(t.next=i.child,i.child=t):n!==i&&t!==n.next?(t.next=n.next,n.next=t):t.next=null,i!==s[6]&&(t.parent=i);let o=t.next;for(;o;)o.next===t&&(o.next=r),o=o.next;if(1===t.type)return Mr(e,s,t),t;Ar(e,s,Lt(t,s),t);const a=s[t.index];return 0!==t.type&&Et(a)&&Ar(e,s,a[7],t),t}function zl(e,t,i,n,s,r){const o=Jt();t[i+20]=s;const a=Fs(e,t[6],i,n,r,null);return o&&o.next===a&&(o.next=null),a}function jl(e,t,i,n){const s=n[11];let r=null,o=null;const a=[];for(let l=0;l<t.length;l++){const c=t[l];if("string"==typeof c){const e=yr(c,s),u=t[++l];o=r,r=zl(i,n,u,3,e,null),a.push(u),ti()}else if("number"==typeof c)switch(7&c){case 1:const s=c>>>17;let u;u=s===e?n[6]:Vt(i,s),o=Bl(i,r,u,o,n);break;case 0:const h=c>=0,d=(h?c:~c)>>>3;a.push(d),o=r,r=Vt(i,d),r&&Xt(r,h);break;case 5:o=r=Vt(i,c>>>3),Xt(r,!1);break;case 4:const p=t[++l],f=t[++l];Js(Vt(i,c>>>3),n,p,f,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case bs:const e=t[++l],u=t[++l],h=s.createComment(e);o=r,r=zl(i,n,u,5,h,null),a.push(u),Qn(h,n),r.activeCaseIndex=null,ti();break;case ys:const d=t[++l],p=t[++l];o=r,r=zl(i,n,p,3,s.createElement(d),d),a.push(p);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return ti(),a}function Ul(e,t,i,n){const s=Vt(e,i),r=Mt(i,t);r&&Or(t[11],r);const o=Ht(t,i);if(Et(o)){const e=o;0!==s.type&&Or(t[11],e[7])}n&&(s.flags|=64)}function Gl(e,t){!function(e,t,i,n){const s=Jt().index-20,r=[];for(let o=0;o<n.length;o+=2){const a=n[o],l=n[o+1].split(Ll);for(let n=0;n<l.length;n++){const o=l[n];if(1&n)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(Ml))t.firstCreatePass&&null===t.data[i+20]&&et(Vl(o,s,a),r);else{const i=Vt(t,s);3===i.type&&Js(i,e,a,o,null,null);const n=null!==i.inputs&&i.inputs[a];n&&pr(t,e,n,a,o)}}}t.firstCreatePass&&null===t.data[i+20]&&(t.data[i+20]=r)}(Zt(),Yt(),e,t)}let ql=0,$l=0;function Kl(e){return Eo(Zt(),oi(),e)&&(ql|=1<<$l),$l++,Kl}function Wl(e,t){let i=e.cases.indexOf(t);if(-1===i)switch(e.type){case 1:{const n=function(e,t){const i=Rl(t)(parseInt(e,10)),n=Nl[i];return void 0!==n?n:"other"}(t,Zl);i=e.cases.indexOf(n),-1===i&&"other"!==n&&(i=e.cases.indexOf("other"));break}case 0:i=e.cases.indexOf("other")}return i}let Zl="en-US";function Yl(e){var t,i;i="Expected localeId to be defined",null==(t=e)&&function(e,t,i,n){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(i,t),"string"==typeof e&&(Zl=e.toLowerCase().replace(/_/g,"-"))}const Ql=new Map;class Jl extends Je{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xl(this);const i=xt(e),n=e[Ne]||null;n&&Yl(n),this._bootstrapComponents=zi(i.bootstrap),this._r3Injector=io(e,t,[{provide:Je,useValue:this},{provide:Ka,useValue:this.componentFactoryResolver}],we(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=uo.THROW_IF_NOT_FOUND,i=ae.Default){return e===uo||e===Je||e===He?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Xl extends Xe{constructor(e){super(),this.moduleType=e,null!==xt(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${we(t)} vs ${we(t.name)}`)})(e,Ql.get(e),t),Ql.set(e,t)}let i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach(t=>e(t))}(e)}create(e){return new Jl(this.moduleType,e)}}function ec(e,t,i){const n=si()+e,s=Zt();return s[n]===hs?xo(s,n,i?t.call(i):t()):ko(s,n)}function tc(e,t,i,n){return ac(Zt(),si(),e,t,i,n)}function ic(e,t,i,n,s){return lc(Zt(),si(),e,t,i,n,s)}function nc(e,t,i,n,s,r){return cc(Zt(),si(),e,t,i,n,s,r)}function sc(e,t,i,n,s,r,o){return function(e,t,i,n,s,r,o,a,l){const c=t+i;return _o(e,c,s,r,o,a)?xo(e,c+4,l?n.call(l,s,r,o,a):n(s,r,o,a)):oc(e,c+4)}(Zt(),si(),e,t,i,n,s,r,o)}function rc(e,t,i,n,s,r,o,a,l){const c=si()+e,u=Zt(),h=_o(u,c,i,n,s,r);return Io(u,c+4,o,a)||h?xo(u,c+6,l?t.call(l,i,n,s,r,o,a):t(i,n,s,r,o,a)):ko(u,c+6)}function oc(e,t){const i=e[t];return i===hs?void 0:i}function ac(e,t,i,n,s,r){const o=t+i;return Eo(e,o,s)?xo(e,o+1,r?n.call(r,s):n(s)):oc(e,o+1)}function lc(e,t,i,n,s,r,o){const a=t+i;return Io(e,a,s,r)?xo(e,a+2,o?n.call(o,s,r):n(s,r)):oc(e,a+2)}function cc(e,t,i,n,s,r,o,a){const l=t+i;return To(e,l,s,r,o)?xo(e,l+3,a?n.call(a,s,r,o):n(s,r,o)):oc(e,l+3)}function uc(e,t){const i=Yt();let n;const s=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){const n=t[i];if(e===n.name)return n}throw new Error(`The pipe '${e}' could not be found!`)}(t,i.pipeRegistry),i.data[s]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(s,n.onDestroy)):n=i.data[s];const r=n.factory||(n.factory=St(n.type)),o=$e(Oo),a=Ui(!1),l=r();return Ui(a),$e(o),function(e,t,i,n){const s=i+20;s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),t[s]=n}(i,Zt(),e,l),l}function hc(e,t,i,n){const s=Zt(),r=Ht(s,e);return fc(s,pc(s,e)?lc(s,si(),t,r.transform,i,n,r):r.transform(i,n))}function dc(e,t,i,n,s){const r=Zt(),o=Ht(r,e);return fc(r,pc(r,e)?cc(r,si(),t,o.transform,i,n,s,o):o.transform(i,n,s))}function pc(e,t){return e[1].data[t+20].pure}function fc(e,t){return wo.isWrapped(t)&&(t=wo.unwrap(t),e[ri()]=hs),t}class gc extends E{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let n,s=e=>null,r=()=>null;e&&"object"==typeof e?(n=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(r=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(n=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),i&&(r=this.__isAsync?()=>{setTimeout(()=>i())}:()=>{i()}));const o=super.subscribe(n,s,r);return e instanceof h&&e.add(o),o}}function mc(){return this._results[yo()]()}class vc{constructor(){this.dirty=!0,this._results=[],this.changes=new gc,this.length=0;const e=yo(),t=vc.prototype;t[e]||(t[e]=mc)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,i){void 0===i&&(i=t);for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?(i===t&&(i=t.slice(0,n)),e(s,i)):i!==t&&i.push(s)}return i}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class yc{constructor(e){this.queryList=e,this.matches=null}clone(){return new yc(this.queryList)}setDirty(){this.queryList.setDirty()}}class bc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<i;e++){const i=t.getByIndex(e);n.push(this.queries[i.indexInDeclarationView].clone())}return new bc(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Mc(e,t).matches&&this.queries[t].setDirty()}}class wc{constructor(e,t,i,n=null){this.predicate=e,this.descendants=t,this.isStatic=i,this.read=n}}class Cc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const n=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,n);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Cc(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Sc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Sc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&4===i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){if(Array.isArray(this.metadata.predicate)){const i=this.metadata.predicate;for(let n=0;n<i.length;n++)this.matchTNodeWithReadOption(e,t,xc(t,i[n]))}else{const i=this.metadata.predicate;i===yl?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Xi(t,e,i,!1,!1))}}matchTNodeWithReadOption(e,t,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===Wa||n===wl||n===yl&&0===t.type)this.addMatch(t.index,-2);else{const i=Xi(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function xc(e,t){const i=e.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1];return null}function kc(e,t,i,n){return-1===i?function(e,t){return 3===e.type||4===e.type?qr(Wa,e,t):0===e.type?$r(yl,Wa,e,t):null}(t,e):-2===i?function(e,t,i){return i===Wa?qr(Wa,t,e):i===yl?$r(yl,Wa,t,e):i===wl?Kr(wl,Wa,t,e):void 0}(e,t,n):en(e,e[1],i,t)}function Ec(e,t,i,n){const s=t[19].queries[n];if(null===s.matches){const n=e.data,r=i.matches,o=[];for(let e=0;e<r.length;e+=2){const s=r[e];o.push(s<0?null:kc(t,n[s],r[e+1],i.metadata.read))}s.matches=o}return s.matches}function Ic(e){const t=Zt(),i=Yt(),n=ui();hi(n+1);const s=Mc(i,n);if(e.dirty&&jt(t)===s.metadata.isStatic){if(null===s.matches)e.reset([]);else{const r=s.crossesNgTemplate?function e(t,i,n,s){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const a=Ec(t,i,r,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)s.push(a[t/2]);else{const r=o[t+1],a=i[-n];for(let t=10;t<a.length;t++){const i=a[t];i[17]===i[3]&&e(i[1],i,r,s)}if(null!==a[9]){const t=a[9];for(let i=0;i<t.length;i++){const n=t[i];e(n[1],n,r,s)}}}}}return s}(i,t,n,[]):Ec(i,t,s,n);e.reset(r),e.notifyOnChanges()}return!0}return!1}function Tc(e,t,i){Fc(Yt(),Zt(),e,t,i,!0)}function _c(e,t,i){Fc(Yt(),Zt(),e,t,i,!1)}function Fc(e,t,i,n,s,r){e.firstCreatePass&&(Nc(e,new wc(i,n,r,s),-1),r&&(e.staticViewQueries=!0)),Pc(e,t)}function Dc(e,t,i,n){Rc(Yt(),Zt(),t,i,n,!1,Jt(),e)}function Ac(e,t,i,n){Rc(Yt(),Zt(),t,i,n,!0,Jt(),e)}function Rc(e,t,i,n,s,r,o,a){e.firstCreatePass&&(Nc(e,new wc(i,n,r,s),o.index),function(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(e,a),r&&(e.staticContentQueries=!0)),Pc(e,t)}function Oc(){return e=Zt(),t=ui(),e[19].queries[t].queryList;var e,t}function Pc(e,t){const i=new vc;!function(e,t,i,n){const s=ur(t);s.push(i),e.firstCreatePass&&hr(e).push(n,s.length-1)}(e,t,i,i.destroy),null===t[19]&&(t[19]=new bc),t[19].queries.push(new yc(i))}function Nc(e,t,i){null===e.queries&&(e.queries=new Cc),e.queries.track(new Sc(t,i))}function Mc(e,t){return e.queries.getByIndex(t)}function Lc(e,t){return $r(yl,Wa,e,t)}const Vc=new Ve("Application Initializer");let Hc=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const t=this.appInits[i]();qo(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(We(Vc,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Bc=new Ve("AppId"),zc={provide:Bc,useFactory:function(){return`${jc()}${jc()}${jc()}`},deps:[]};function jc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uc=new Ve("Platform Initializer"),Gc=new Ve("Platform ID"),qc=new Ve("appBootstrapListener");let $c=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Kc=new Ve("LocaleId"),Wc=new Ve("DefaultCurrencyCode");class Zc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Yc=function(e){return new Xl(e)},Qc=Yc,Jc=function(e){return Promise.resolve(Yc(e))},Xc=function(e){const t=Yc(e),i=zi(xt(e).declarations).reduce((e,t)=>{const i=Ct(t);return i&&e.push(new Il(i)),e},[]);return new Zc(t,i)},eu=Xc,tu=function(e){return Promise.resolve(Xc(e))};let iu=(()=>{class e{constructor(){this.compileModuleSync=Qc,this.compileModuleAsync=Jc,this.compileModuleAndAllComponentsSync=eu,this.compileModuleAndAllComponentsAsync=tu}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const nu=new Ve("compilerOptions"),su=(()=>Promise.resolve(0))();function ru(e){"undefined"==typeof Zone?su.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class ou{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gc(!1),this.onMicrotaskEmpty=new gc(!1),this.onStable=new gc(!1),this.onError=new gc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=De.requestAnimationFrame,t=De.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(De,()=>{e.lastRequestAnimationFrameId=-1,uu(e),cu(e)}),uu(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(i,n,s,r,o,a)=>{try{return hu(e),i.invokeTask(s,r,o,a)}finally{t&&"eventTask"===r.type&&t(),du(e)}},onInvoke:(t,i,n,s,r,o,a)=>{try{return hu(e),t.invoke(n,s,r,o,a)}finally{du(e)}},onHasTask:(t,i,n,s)=>{t.hasTask(n,s),i===n&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,uu(e),cu(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,n,s)=>(t.handleError(n,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ou.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ou.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+n,e,lu,au,au);try{return s.runTask(r,t,i)}finally{s.cancelTask(r)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}function au(){}const lu={};function cu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function uu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function hu(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function du(e){e._nesting--,cu(e)}class pu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gc,this.onMicrotaskEmpty=new gc,this.onStable=new gc,this.onError=new gc}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}}let fu=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ou.assertNotInAngularZone(),ru(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ru(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),gu=(()=>{class e{constructor(){this._applications=new Map,yu.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return yu.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class mu{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let vu,yu=new mu,bu=function(e,t,i){const n=e.get(nu,[]).concat(t),s=new Xl(i);if(0===po.size)return Promise.resolve(s);const r=function(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}(n.map(e=>e.providers));if(0===r.length)return Promise.resolve(s);const o=function(){const e=De.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),a=uo.create({providers:r}).get(o.ResourceLoader);return function(e){const t=[],i=new Map;function n(e){let t=i.get(e);if(!t){const n=(e=>Promise.resolve(a.get(e)))(e);i.set(e,t=n.then(go))}return t}return po.forEach((e,i)=>{const s=[];e.templateUrl&&s.push(n(e.templateUrl).then(t=>{e.template=t}));const r=e.styleUrls,o=e.styles||(e.styles=[]),a=e.styles.length;r&&r.forEach((t,i)=>{o.push(""),s.push(n(t).then(n=>{o[a+i]=n,r.splice(r.indexOf(t),1),0==r.length&&(e.styleUrls=void 0)}))});const l=Promise.all(s).then(()=>function(e){fo.delete(e)}(i));t.push(l)}),po=new Map,Promise.all(t).then(()=>{})}().then(()=>s)};const wu=new Ve("AllowMultipleToken");class Cu{constructor(e,t){this.name=e,this.token=t}}function Su(e,t,i=[]){const n="Platform: "+t,s=new Ve(n);return(t=[])=>{let r=xu();if(!r||r.injector.get(wu,!1))if(e)e(i.concat(t).concat({provide:s,useValue:!0}));else{const e=i.concat(t).concat({provide:s,useValue:!0},{provide:Yr,useValue:"platform"});!function(e){if(vu&&!vu.destroyed&&!vu.injector.get(wu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");vu=e.get(ku);const t=e.get(Uc,null);t&&t.forEach(e=>e())}(uo.create({providers:e,name:n}))}return function(e){const t=xu();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function xu(){return vu&&!vu.destroyed?vu:null}let ku=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const i=function(e,t){let i;return i="noop"===e?new pu:("zone.js"===e?void 0:e)||new ou({enableLongStackTrace:Sn(),shouldCoalesceEventChangeDetection:t}),i}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),n=[{provide:ou,useValue:i}];return i.run(()=>{const t=uo.create({providers:n,parent:this.injector,name:e.moduleType.name}),s=e.create(t),r=s.injector.get(un,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.onDestroy(()=>Tu(this._modules,s)),i.runOutsideAngular(()=>i.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,i){try{const n=i();return qo(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(r,i,()=>{const e=s.injector.get(Hc);return e.runInitializers(),e.donePromise.then(()=>(Yl(s.injector.get(Kc,"en-US")||"en-US"),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const i=Eu({},t);return bu(this.injector,i,e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(Iu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${we(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(We(uo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Eu(e,t){return Array.isArray(t)?t.reduce(Eu,e):Object.assign(Object.assign({},e),t)}let Iu=(()=>{class e{constructor(e,t,i,n,s,r){this._zone=e,this._console=t,this._injector=i,this._exceptionHandler=n,this._componentFactoryResolver=s,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Sn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ou.assertNotInAngularZone(),ru(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{ou.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),i.unsubscribe()}});this.isStable=K(o,a.pipe(e=>{return W()((t=ee,function(e){let i;i="function"==typeof t?t:function(){return t};const n=Object.create(e,J);return n.source=e,n.subjectFactory=i,n})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof qa?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const n=i.isBoundToModule?void 0:this._injector.get(Je),s=i.create(uo.NULL,[],t||i.selector,n);s.onDestroy(()=>{this._unloadComponent(s)});const r=s.injector.get(fu,null);return r&&s.injector.get(gu).registerApplication(s.location.nativeElement,r),this._loadComponent(s),Sn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Tu(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(qc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Tu(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(We(ou),We($c),We(uo),We(un),We(Ka),We(Hc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Tu(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class _u{}class Fu{}const Du={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Au=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Du}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split("#");return void 0===n&&(n="default"),i("zn8P")(t).then(e=>e[n]).then(e=>Ru(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split("#"),s="NgFactory";return void 0===n&&(n="default",s=""),i("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+s]).then(e=>Ru(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(We(iu),We(Fu,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Ru(e,t,i){if(!e)throw new Error(`Cannot find '${i}' in '${t}'`);return e}const Ou=Su(null,"core",[{provide:Gc,useValue:"unknown"},{provide:ku,deps:[uo]},{provide:gu,deps:[]},{provide:$c,deps:[]}]),Pu=[{provide:Iu,useClass:Iu,deps:[ou,$c,uo,un,Ka,Hc]},{provide:El,deps:[ou],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Hc,useClass:Hc,deps:[[new se,Vc]]},{provide:iu,useClass:iu,deps:[]},zc,{provide:pl,useFactory:function(){return ml},deps:[]},{provide:fl,useFactory:function(){return vl},deps:[]},{provide:Kc,useFactory:function(e){return Yl(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ne(Kc),new se,new oe]]},{provide:Wc,useValue:"USD"}];let Nu=(()=>{class e{constructor(e){}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(We(Iu))},providers:Pu}),e})(),Mu=null;function Lu(){return Mu}const Vu=new Ve("DocumentToken");let Hu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:Bu,token:e,providedIn:"platform"}),e})();function Bu(){return We(ju)}const zu=new Ve("Location Initialized");let ju=(()=>{class e extends Hu{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Lu().getLocation(),this._history=Lu().getHistory()}getBaseHrefFromDOM(){return Lu().getBaseHref(this._doc)}onPopState(e){Lu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Lu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,i){Uu()?this._history.pushState(e,t,i):this.location.hash=i}replaceState(e,t,i){Uu()?this._history.replaceState(e,t,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({factory:Gu,token:e,providedIn:"platform"}),e})();function Uu(){return!!window.history.pushState}function Gu(){return new ju(We(Vu))}function qu(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function $u(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function Ku(e){return e&&"?"!==e[0]?"?"+e:e}let Wu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:Zu,token:e,providedIn:"root"}),e})();function Zu(e){const t=We(Vu).location;return new Qu(We(Hu),t&&t.origin||"")}const Yu=new Ve("appBaseHref");let Qu=(()=>{class e extends Wu{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return qu(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Ku(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${t}${i}`:t}pushState(e,t,i,n){const s=this.prepareExternalUrl(i+Ku(n));this._platformLocation.pushState(e,t,s)}replaceState(e,t,i,n){const s=this.prepareExternalUrl(i+Ku(n));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(We(Hu),We(Yu,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Ju=(()=>{class e extends Wu{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=qu(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,i,n){let s=this.prepareExternalUrl(i+Ku(n));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,i,n){let s=this.prepareExternalUrl(i+Ku(n));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(We(Hu),We(Yu,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Xu=(()=>{class e{constructor(e,t){this._subject=new gc,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=$u(th(i)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Ku(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,th(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",i=null){this._platformStrategy.pushState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ku(t)),i)}replaceState(e,t="",i=null){this._platformStrategy.replaceState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ku(t)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(i=>i(e,t))}subscribe(e,t,i){return this._subject.subscribe({next:e,error:t,complete:i})}}return e.\u0275fac=function(t){return new(t||e)(We(Wu),We(Hu))},e.normalizeQueryParams=Ku,e.joinWithSlash=qu,e.stripTrailingSlash=$u,e.\u0275prov=ue({factory:eh,token:e,providedIn:"root"}),e})();function eh(){return new Xu(We(Wu),We(Hu))}function th(e){return e.replace(/\/index.html$/,"")}const ih=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),nh=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),sh=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),rh=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),oh=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function ah(e,t){return ph(Al(e)[Pl.DateFormat],t)}function lh(e,t){return ph(Al(e)[Pl.TimeFormat],t)}function ch(e,t){return ph(Al(e)[Pl.DateTimeFormat],t)}function uh(e,t){const i=Al(e),n=i[Pl.NumberSymbols][t];if(void 0===n){if(t===oh.CurrencyDecimal)return i[Pl.NumberSymbols][oh.Decimal];if(t===oh.CurrencyGroup)return i[Pl.NumberSymbols][oh.Group]}return n}const hh=Rl;function dh(e){if(!e[Pl.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Pl.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ph(e,t){for(let i=t;i>-1;i--)if(void 0!==e[i])return e[i];throw new Error("Locale data API: locale data undefined")}function fh(e){const[t,i]=e.split(":");return{hours:+t,minutes:+i}}const gh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mh={},vh=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,yh=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),bh=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),wh=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Ch(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,i){return null!=t&&i in t?t[i]:e}))),e}function Sh(e,t,i="-",n,s){let r="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,r=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.substr(o.length-t)),r+o}function xh(e,t,i=0,n=!1,s=!1){return function(r,o){let a=function(e,t){switch(e){case bh.FullYear:return t.getFullYear();case bh.Month:return t.getMonth();case bh.Date:return t.getDate();case bh.Hours:return t.getHours();case bh.Minutes:return t.getMinutes();case bh.Seconds:return t.getSeconds();case bh.FractionalSeconds:return t.getMilliseconds();case bh.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,r);if((i>0||a>-i)&&(a+=i),e===bh.Hours)0===a&&-12===i&&(a=12);else if(e===bh.FractionalSeconds)return l=t,Sh(a,3).substr(0,l);var l;const c=uh(o,oh.MinusSign);return Sh(a,t,c,n,s)}}function kh(e,t,i=nh.Format,n=!1){return function(s,r){return function(e,t,i,n,s,r){switch(i){case wh.Months:return function(e,t,i){const n=Al(e),s=ph([n[Pl.MonthsFormat],n[Pl.MonthsStandalone]],t);return ph(s,i)}(t,s,n)[e.getMonth()];case wh.Days:return function(e,t,i){const n=Al(e),s=ph([n[Pl.DaysFormat],n[Pl.DaysStandalone]],t);return ph(s,i)}(t,s,n)[e.getDay()];case wh.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(r){const e=function(e){const t=Al(e);return dh(t),(t[Pl.ExtraData][2]||[]).map(e=>"string"==typeof e?fh(e):[fh(e[0]),fh(e[1])])}(t),i=function(e,t,i){const n=Al(e);dh(n);const s=ph([n[Pl.ExtraData][0],n[Pl.ExtraData][1]],t)||[];return ph(s,i)||[]}(t,s,n);let r;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:n,minutes:s}=e[0],{hours:l,minutes:c}=e[1];o>=n&&a>=s&&(o<l||o===l&&a<c)&&(r=i[t])}else{const{hours:n,minutes:s}=e;n===o&&s===a&&(r=i[t])}}),r)return r}return function(e,t,i){const n=Al(e),s=ph([n[Pl.DayPeriodsFormat],n[Pl.DayPeriodsStandalone]],t);return ph(s,i)}(t,s,n)[o<12?0:1];case wh.Eras:return function(e,t){return ph(Al(e)[Pl.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+i)}}(s,r,e,t,i,n)}}function Eh(e){return function(t,i,n){const s=-1*n,r=uh(i,oh.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case yh.Short:return(s>=0?"+":"")+Sh(o,2,r)+Sh(Math.abs(s%60),2,r);case yh.ShortGMT:return"GMT"+(s>=0?"+":"")+Sh(o,1,r);case yh.Long:return"GMT"+(s>=0?"+":"")+Sh(o,2,r)+":"+Sh(Math.abs(s%60),2,r);case yh.Extended:return 0===n?"Z":(s>=0?"+":"")+Sh(o,2,r)+":"+Sh(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${e}"`)}}}function Ih(e,t=!1){return function(i,n){let s;if(t){const e=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,t=i.getDate();s=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(i.getFullYear()),t=(r=i,new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))).getTime()-e.getTime();s=1+Math.round(t/6048e5)}var r;return Sh(s,e,uh(n,oh.MinusSign))}}const Th={};function _h(e,t){e=e.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function Fh(e){return e instanceof Date&&!isNaN(e.valueOf())}class Dh{}let Ah=(()=>{class e extends Dh{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(hh(t||this.locale)(e)){case ih.Zero:return"zero";case ih.One:return"one";case ih.Two:return"two";case ih.Few:return"few";case ih.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(We(Kc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Rh(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const e=i.indexOf("="),[n,s]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(s)}return null}let Oh=(()=>{class e{constructor(e,t,i,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=n,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Co(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+we(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Oo(pl),Oo(fl),Oo(Wa),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class Ph{constructor(e,t,i,n){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nh=(()=>{class e{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Sn()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${i}' of type '${e=i,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,i,n)=>{if(null==e.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new Ph(null,this._ngForOf,-1,-1),null===n?void 0:n),s=new Mh(e,i);t.push(s)}else if(null==n)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const s=this._viewContainer.get(i);this._viewContainer.move(s,n);const r=new Mh(e,s);t.push(r)}});for(let i=0;i<t.length;i++)this._perViewChange(t[i].view,t[i].record);for(let i=0,n=this._viewContainer.length;i<n;i++){const e=this._viewContainer.get(i);e.context.index=i,e.context.count=n,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Oo(wl),Oo(yl),Oo(pl))},e.\u0275dir=bt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Mh{constructor(e,t){this.record=e,this.view=t}}let Lh=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Vh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Hh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Hh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Oo(wl),Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Vh{constructor(){this.$implicit=null,this.ngIf=null}}function Hh(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${we(t)}'.`)}class Bh{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let zh=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),jh=(()=>{class e{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new Bh(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Oo(wl),Oo(yl),Oo(zh,1))},e.\u0275dir=bt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Uh=(()=>{class e{constructor(e,t,i){i._addDefault(new Bh(e,t))}}return e.\u0275fac=function(t){return new(t||e)(Oo(wl),Oo(yl),Oo(zh,1))},e.\u0275dir=bt({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Gh=(()=>{class e{constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[i,n]=e.split(".");null!=(t=null!=t&&n?`${t}${n}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(fl),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),qh=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),i=Object.keys(e.currentValue||{});if(t.length===i.length){for(let e of i)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(Oo(wl))},e.\u0275dir=bt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Pa]}),e})(),$h=(()=>{class e{constructor(e){this.locale=e}transform(t,i="mediumDate",n,s){if(null==t||""===t||t!=t)return null;try{return function(e,t,i,n){let s=function(e){if(Fh(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,i,n]=e.split("-").map(e=>+e);return new Date(t,i-1,n)}let i;if(i=e.match(gh))return function(e){const t=new Date(0);let i=0,n=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,o,a,l,c),t}(i)}const t=new Date(e);if(!Fh(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,i){const n=function(e){return Al(e)[Pl.LocaleId]}(t);if(mh[n]=mh[n]||{},mh[n][i])return mh[n][i];let s="";switch(i){case"shortDate":s=ah(t,rh.Short);break;case"mediumDate":s=ah(t,rh.Medium);break;case"longDate":s=ah(t,rh.Long);break;case"fullDate":s=ah(t,rh.Full);break;case"shortTime":s=lh(t,rh.Short);break;case"mediumTime":s=lh(t,rh.Medium);break;case"longTime":s=lh(t,rh.Long);break;case"fullTime":s=lh(t,rh.Full);break;case"short":const i=e(t,"shortTime"),n=e(t,"shortDate");s=Ch(ch(t,rh.Short),[i,n]);break;case"medium":const r=e(t,"mediumTime"),o=e(t,"mediumDate");s=Ch(ch(t,rh.Medium),[r,o]);break;case"long":const a=e(t,"longTime"),l=e(t,"longDate");s=Ch(ch(t,rh.Long),[a,l]);break;case"full":const c=e(t,"fullTime"),u=e(t,"fullDate");s=Ch(ch(t,rh.Full),[c,u])}return s&&(mh[n][i]=s),s}(i,t)||t;let r,o=[];for(;t;){if(r=vh.exec(t),!r){o.push(t);break}{o=o.concat(r.slice(1));const e=o.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();n&&(a=_h(n,a),s=function(e,t,i){const n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(_h(t,n)-n))}(s,n));let l="";return o.forEach(e=>{const t=function(e){if(Th[e])return Th[e];let t;switch(e){case"G":case"GG":case"GGG":t=kh(wh.Eras,sh.Abbreviated);break;case"GGGG":t=kh(wh.Eras,sh.Wide);break;case"GGGGG":t=kh(wh.Eras,sh.Narrow);break;case"y":t=xh(bh.FullYear,1,0,!1,!0);break;case"yy":t=xh(bh.FullYear,2,0,!0,!0);break;case"yyy":t=xh(bh.FullYear,3,0,!1,!0);break;case"yyyy":t=xh(bh.FullYear,4,0,!1,!0);break;case"M":case"L":t=xh(bh.Month,1,1);break;case"MM":case"LL":t=xh(bh.Month,2,1);break;case"MMM":t=kh(wh.Months,sh.Abbreviated);break;case"MMMM":t=kh(wh.Months,sh.Wide);break;case"MMMMM":t=kh(wh.Months,sh.Narrow);break;case"LLL":t=kh(wh.Months,sh.Abbreviated,nh.Standalone);break;case"LLLL":t=kh(wh.Months,sh.Wide,nh.Standalone);break;case"LLLLL":t=kh(wh.Months,sh.Narrow,nh.Standalone);break;case"w":t=Ih(1);break;case"ww":t=Ih(2);break;case"W":t=Ih(1,!0);break;case"d":t=xh(bh.Date,1);break;case"dd":t=xh(bh.Date,2);break;case"E":case"EE":case"EEE":t=kh(wh.Days,sh.Abbreviated);break;case"EEEE":t=kh(wh.Days,sh.Wide);break;case"EEEEE":t=kh(wh.Days,sh.Narrow);break;case"EEEEEE":t=kh(wh.Days,sh.Short);break;case"a":case"aa":case"aaa":t=kh(wh.DayPeriods,sh.Abbreviated);break;case"aaaa":t=kh(wh.DayPeriods,sh.Wide);break;case"aaaaa":t=kh(wh.DayPeriods,sh.Narrow);break;case"b":case"bb":case"bbb":t=kh(wh.DayPeriods,sh.Abbreviated,nh.Standalone,!0);break;case"bbbb":t=kh(wh.DayPeriods,sh.Wide,nh.Standalone,!0);break;case"bbbbb":t=kh(wh.DayPeriods,sh.Narrow,nh.Standalone,!0);break;case"B":case"BB":case"BBB":t=kh(wh.DayPeriods,sh.Abbreviated,nh.Format,!0);break;case"BBBB":t=kh(wh.DayPeriods,sh.Wide,nh.Format,!0);break;case"BBBBB":t=kh(wh.DayPeriods,sh.Narrow,nh.Format,!0);break;case"h":t=xh(bh.Hours,1,-12);break;case"hh":t=xh(bh.Hours,2,-12);break;case"H":t=xh(bh.Hours,1);break;case"HH":t=xh(bh.Hours,2);break;case"m":t=xh(bh.Minutes,1);break;case"mm":t=xh(bh.Minutes,2);break;case"s":t=xh(bh.Seconds,1);break;case"ss":t=xh(bh.Seconds,2);break;case"S":t=xh(bh.FractionalSeconds,1);break;case"SS":t=xh(bh.FractionalSeconds,2);break;case"SSS":t=xh(bh.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Eh(yh.Short);break;case"ZZZZZ":t=Eh(yh.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Eh(yh.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Eh(yh.Long);break;default:return null}return Th[e]=t,t}(e);l+=t?t(s,i,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,i,s||this.locale,n)}catch(r){throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${we(e)}'`)}(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(Oo(Kc))},e.\u0275pipe=wt({name:"date",type:e,pure:!0}),e})(),Kh=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:Dh,useClass:Ah}]}),e})(),Wh=(()=>{class e{}return e.\u0275prov=ue({token:e,providedIn:"root",factory:()=>new Zh(We(Vu),window,We(un))}),e})();class Zh{constructor(e,t,i){this.document=e,this.window=t,this.errorHandler=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const i=this.document.querySelector(`[name='${e}']`);if(i)return void this.scrollToElement(i)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],n-s[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class Yh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Yh,Mu||(Mu=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Jh||(Jh=document.querySelector("base"),Jh)?Jh.getAttribute("href"):null;return null==t?null:(i=t,Qh||(Qh=document.createElement("a")),Qh.setAttribute("href",i),"/"===Qh.pathname.charAt(0)?Qh.pathname:"/"+Qh.pathname);var i}resetBaseElement(){Jh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return Rh(document.cookie,e)}}let Qh,Jh=null;const Xh=new Ve("TRANSITION_ID"),ed=[{provide:Vc,useFactory:function(e,t,i){return()=>{i.get(Hc).donePromise.then(()=>{const i=Lu();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>i.remove(e))})}},deps:[Xh,Vu,uo],multi:!0}];class td{static init(){!function(e){yu=e}(new td)}addToWindow(e){De.getAngularTestability=(t,i=!0)=>{const n=e.findTestabilityInTree(t,i);if(null==n)throw new Error("Could not find testability for element.");return n},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(e=>{const t=De.getAllAngularTestabilities();let i=t.length,n=!1;const s=function(t){n=n||t,i--,0==i&&e(n)};t.forEach((function(e){e.whenStable(s)}))})}findTestabilityInTree(e,t,i){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:i?Lu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const id=new Ve("EventManagerPlugins");let nd=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}addGlobalEventListener(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const i=this._plugins;for(let n=0;n<i.length;n++){const t=i[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(We(id),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class sd{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const n=Lu().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,i)}}let rd=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),od=(()=>{class e extends rd{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,this._styleNodes.add(t.appendChild(i))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Lu().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const ad={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ld=/%COMP%/g;function cd(e,t,i){for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?cd(e,s,i):(s=s.replace(ld,e),i.push(s))}return i}function ud(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let hd=(()=>{class e{constructor(e,t,i){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new dd(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ct.Emulated:{let i=this.rendererByCompId.get(t.id);return i||(i=new pd(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i}case ct.Native:case ct.ShadowDom:return new fd(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=cd(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(We(nd),We(od),We(Bc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class dd{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(ad[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const s=ad[n];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=ad[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&Qa.DashCase?e.style.setProperty(t,i,n&Qa.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Qa.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ud(i)):this.eventManager.addEventListener(e,t,ud(i))}}class pd extends dd{constructor(e,t,i,n){super(e),this.component=i;const s=cd(n+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(ld,n+"-"+i.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(ld,e)}(n+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class fd extends dd{constructor(e,t,i,n){super(e),this.sharedStylesHost=t,this.hostEl=i,this.component=n,this.shadowRoot=n.encapsulation===ct.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=cd(n.id,n.styles,[]);for(let r=0;r<s.length;r++){const e=document.createElement("style");e.textContent=s[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gd=(()=>{class e extends sd{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const md=["alt","control","meta","shift"],vd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bd={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let wd=(()=>{class e extends sd{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,n){const s=e.parseEventName(i),r=e.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lu().onAndCancel(t,s.domEventName,r))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=e._normalizeKey(i.pop());let r="";if(md.forEach(e=>{const t=i.indexOf(e);t>-1&&(i.splice(t,1),r+=e+".")}),r+=s,0!=i.length||0===s.length)return null;const o={};return o.domEventName=n,o.fullKey=r,o}static getEventFullKey(e){let t="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&yd.hasOwnProperty(t)&&(t=yd[t]))}return vd[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),md.forEach(n=>{n!=i&&(0,bd[n])(e)&&(t+=n+".")}),t+=i,t}static eventCallback(t,i,n){return s=>{e.getEventFullKey(s)===t&&n.runGuarded(()=>i(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Cd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({factory:function(){return We(Sd)},token:e,providedIn:"root"}),e})(),Sd=(()=>{class e extends Cd{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case qn.NONE:return t;case qn.HTML:return yn(t,"HTML")?vn(t):Un(this._doc,String(t));case qn.STYLE:return yn(t,"Style")?vn(t):function(e){if(!(e=String(e).trim()))return"";const t=e.match(Kn);return t&&In(t[1])===t[1]||e.match($n)&&function(e){let t=!0,i=!0;for(let n=0;n<e.length;n++){const s=e.charAt(n);"'"===s&&i?t=!t:'"'===s&&t&&(i=!i)}return t&&i}(e)?e:(Sn()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t);case qn.SCRIPT:if(yn(t,"Script"))return vn(t);throw new Error("unsafe value used in a script context");case qn.URL:return bn(t),yn(t,"URL")?vn(t):In(String(t));case qn.RESOURCE_URL:if(yn(t,"ResourceURL"))return vn(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new dn(e)}bypassSecurityTrustStyle(e){return new pn(e)}bypassSecurityTrustScript(e){return new fn(e)}bypassSecurityTrustUrl(e){return new gn(e)}bypassSecurityTrustResourceUrl(e){return new mn(e)}}return e.\u0275fac=function(t){return new(t||e)(We(Vu))},e.\u0275prov=ue({factory:function(){return e=We(He),new Sd(e.get(Vu));var e},token:e,providedIn:"root"}),e})();const xd=Su(Ou,"browser",[{provide:Gc,useValue:"browser"},{provide:Uc,useValue:function(){Yh.makeCurrent(),td.init()},multi:!0},{provide:Vu,useFactory:function(){return function(e){At=e}(document),document},deps:[]}]),kd=[[],{provide:Yr,useValue:"root"},{provide:un,useFactory:function(){return new un},deps:[]},{provide:id,useClass:gd,multi:!0,deps:[Vu,ou,Gc]},{provide:id,useClass:wd,multi:!0,deps:[Vu]},[],{provide:hd,useClass:hd,deps:[nd,od,Bc]},{provide:Ya,useExisting:hd},{provide:rd,useExisting:od},{provide:od,useClass:od,deps:[Vu]},{provide:fu,useClass:fu,deps:[ou]},{provide:nd,useClass:nd,deps:[id,ou]},[]];let Ed=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Bc,useValue:t.appId},{provide:Xh,useExisting:Bc},ed]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(We(e,12))},providers:kd,imports:[Kh,Nu]}),e})();"undefined"!=typeof window&&window;class Id{}function Td(e,t){return{type:7,name:e,definitions:t,options:{}}}function _d(e,t=null){return{type:4,styles:t,timings:e}}function Fd(e,t=null){return{type:2,steps:e,options:t}}function Dd(e){return{type:6,styles:e,offset:null}}function Ad(e,t,i){return{type:0,name:e,styles:t,options:i}}function Rd(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function Od(e){Promise.resolve(null).then(e)}class Pd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Od(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Nd{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0;const s=this.players.length;0==s?Od(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==s&&this._onFinish()}),e.onDestroy(()=>{++i==s&&this._onDestroy()}),e.onStart(()=>{++n==s&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)})}getPosition(){let e=0;return this.players.forEach(t=>{const i=t.getPosition();e=Math.min(i,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Md(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ld(e){switch(e.length){case 0:return new Pd;case 1:return e[0];default:return new Nd(e)}}function Vd(e,t,i,n,s={},r={}){const o=[],a=[];let l=-1,c=null;if(n.forEach(e=>{const i=e.offset,n=i==l,u=n&&c||{};Object.keys(e).forEach(i=>{let n=i,a=e[i];if("offset"!==i)switch(n=t.normalizePropertyName(n,o),a){case"!":a=s[i];break;case"*":a=r[i];break;default:a=t.normalizeStyleValue(i,n,a,o)}u[n]=a}),n||a.push(u),c=u,l=i}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function Hd(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&Bd(i,"start",e)));break;case"done":e.onDone(()=>n(i&&Bd(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&Bd(i,"destroy",e)))}}function Bd(e,t,i){const n=i.totalTime,s=zd(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==n?e.totalTime:n,!!i.disabled),r=e._data;return null!=r&&(s._data=r),s}function zd(e,t,i,n,s="",r=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:s,totalTime:r,disabled:!!o}}function jd(e,t,i){let n;return e instanceof Map?(n=e.get(t),n||e.set(t,n=i)):(n=e[t],n||(n=e[t]=i)),n}function Ud(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Gd=(e,t)=>!1,qd=(e,t)=>!1,$d=(e,t,i)=>[];const Kd=Md();(Kd||"undefined"!=typeof Element)&&(Gd=(e,t)=>e.contains(t),qd=(()=>{if(Kd||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):qd}})(),$d=(e,t,i)=>{let n=[];if(i)n.push(...e.querySelectorAll(t));else{const i=e.querySelector(t);i&&n.push(i)}return n});let Wd=null,Zd=!1;function Yd(e){Wd||(Wd=("undefined"!=typeof document?document.body:null)||{},Zd=!!Wd.style&&"WebkitAppearance"in Wd.style);let t=!0;return Wd.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Wd.style,!t&&Zd)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Wd.style),t}const Qd=qd,Jd=Gd,Xd=$d;function ep(e){const t={};return Object.keys(e).forEach(i=>{const n=i.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=e[i]}),t}let tp=(()=>{class e{validateStyleProperty(e){return Yd(e)}matchesElement(e,t){return Qd(e,t)}containsElement(e,t){return Jd(e,t)}query(e,t,i){return Xd(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,s,r=[],o){return new Pd(i,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),ip=(()=>{class e{}return e.NOOP=new tp,e})();function np(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:sp(parseFloat(t[1]),t[2])}function sp(e,t){switch(t){case"s":return 1e3*e;default:return e}}function rp(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,s=0,r="";if("string"==typeof e){const i=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};n=sp(parseFloat(i[1]),i[2]);const o=i[3];null!=o&&(s=sp(parseFloat(o),i[4]));const a=i[5];a&&(r=a)}else n=e;if(!i){let i=!1,r=t.length;n<0&&(t.push("Duration values below 0 are not allowed for this animation step."),i=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:n,delay:s,easing:r}}(e,t,i)}function op(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function ap(e,t,i={}){if(t)for(let n in e)i[n]=e[n];else op(e,i);return i}function lp(e,t,i){return i?t+":"+i+";":""}function cp(e){let t="";for(let i=0;i<e.style.length;i++){const n=e.style.item(i);t+=lp(0,n,e.style.getPropertyValue(n))}for(const i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=lp(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function up(e,t,i){e.style&&(Object.keys(t).forEach(n=>{const s=yp(n);i&&!i.hasOwnProperty(n)&&(i[n]=e.style[s]),e.style[s]=t[n]}),Md()&&cp(e))}function hp(e,t){e.style&&(Object.keys(t).forEach(t=>{const i=yp(t);e.style[i]=""}),Md()&&cp(e))}function dp(e){return Array.isArray(e)?1==e.length?e[0]:Fd(e):e}const pp=new RegExp("{{\\s*(.+?)\\s*}}","g");function fp(e){let t=[];if("string"==typeof e){let i;for(;i=pp.exec(e);)t.push(i[1]);pp.lastIndex=0}return t}function gp(e,t,i){const n=e.toString(),s=n.replace(pp,(e,n)=>{let s=t[n];return t.hasOwnProperty(n)||(i.push("Please provide a value for the animation param "+n),s=""),s.toString()});return s==n?e:s}function mp(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const vp=/-+([a-z0-9])/g;function yp(e){return e.replace(vp,(...e)=>e[1].toUpperCase())}function bp(e,t){return 0===e||0===t}function wp(e,t,i){const n=Object.keys(i);if(n.length&&t.length){let r=t[0],o=[];if(n.forEach(e=>{r.hasOwnProperty(e)||o.push(e),r[e]=i[e]}),o.length)for(var s=1;s<t.length;s++){let i=t[s];o.forEach((function(t){i[t]=Sp(e,t)}))}}return t}function Cp(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Sp(e,t){return window.getComputedStyle(e)[t]}function xp(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,i){if(":"==e[0]){const n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(`The provided transition expression "${e}" is not supported`),t;const s=n[1],r=n[2],o=n[3];t.push(Ip(s,o)),"<"!=r[0]||"*"==s&&"*"==o||t.push(Ip(o,s))}(e,i,t)):i.push(e),i}const kp=new Set(["true","1"]),Ep=new Set(["false","0"]);function Ip(e,t){const i=kp.has(e)||Ep.has(e),n=kp.has(t)||Ep.has(t);return(s,r)=>{let o="*"==e||e==s,a="*"==t||t==r;return!o&&i&&"boolean"==typeof s&&(o=s?kp.has(e):Ep.has(e)),!a&&n&&"boolean"==typeof r&&(a=r?kp.has(t):Ep.has(t)),o&&a}}const Tp=new RegExp("s*:selfs*,?","g");function _p(e,t,i){return new Fp(e).build(t,i)}class Fp{constructor(e){this._driver=e}build(e,t){const i=new Dp(t);return this._resetContextStyleTimingState(i),Cp(this,dp(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0;const s=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach(e=>{i.name=e,s.push(this.visitState(i,t))}),i.name=n}else if(1==e.type){const s=this.visitTransition(e,t);i+=s.queryCount,n+=s.depCount,r.push(s)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:r,queryCount:i,depCount:n,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,r=n||{};if(i.styles.forEach(e=>{if(Ap(e)){const t=e;Object.keys(t).forEach(e=>{fp(t[e]).forEach(e=>{r.hasOwnProperty(e)||s.add(e)})})}}),s.size){const i=mp(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Cp(this,dp(e.animation),t);return{type:1,matchers:xp(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Rp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>Cp(this,e,t)),options:Rp(e.options)}}visitGroup(e,t){const i=t.currentTime;let n=0;const s=e.steps.map(e=>{t.currentTime=i;const s=Cp(this,e,t);return n=Math.max(n,t.currentTime),s});return t.currentTime=n,{type:3,steps:s,options:Rp(e.options)}}visitAnimate(e,t){const i=function(e,t){let i=null;if(e.hasOwnProperty("duration"))i=e;else if("number"==typeof e)return Op(rp(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Op(0,0,"");return e.dynamic=!0,e.strValue=n,e}return i=i||rp(n,t),Op(i.duration,i.delay,i.easing)}(e.timings,t.errors);let n;t.currentAnimateTimings=i;let s=e.styles?e.styles:Dd({});if(5==s.type)n=this.visitKeyframes(s,t);else{let s=e.styles,r=!1;if(!s){r=!0;const e={};i.easing&&(e.easing=i.easing),s=Dd(e)}t.currentTime+=i.duration+i.delay;const o=this.visitStyle(s,t);o.isEmptyStep=r,n=o}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?i.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):i.push(e)}):i.push(e.styles);let n=!1,s=null;return i.forEach(e=>{if(Ap(e)){const t=e,i=t.easing;if(i&&(s=i,delete t.easing),!n)for(let e in t)if(t[e].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let n=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void t.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],o=r[i];let a=!0;o&&(s!=n&&s>=o.startTime&&n<=o.endTime&&(t.errors.push(`The CSS property "${i}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${n}ms"`),a=!1),s=o.startTime),a&&(r[i]={startTime:s,endTime:n}),t.options&&function(e,t,i){const n=t.params||{},s=fp(e);s.length&&s.forEach(e=>{n.hasOwnProperty(e)||i.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[i],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let n=0;const s=[];let r=!1,o=!1,a=0;const l=e.steps.map(e=>{const i=this._makeStyleAst(e,t);let l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Ap(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Ap(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}return t}(i.styles),c=0;return null!=l&&(n++,c=i.offset=l),o=o||c<0||c>1,r=r||c<a,a=c,s.push(c),i});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;n>0&&n<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,n)=>{const r=u>0?n==h?1:u*n:s[n],o=r*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=r,i.styles.push(e)}),i}visitReference(e,t){return{type:8,animation:Cp(this,dp(e.animation),t),options:Rp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Rp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Rp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;const[s,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(Tp,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,jd(t.collectedStyles,t.currentQuerySelector,{});const o=Cp(this,dp(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:o,originalSelector:e.selector,options:Rp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:rp(e.timings,t.errors,!0);return{type:12,animation:Cp(this,dp(e.animation),t),timings:i,options:null}}}class Dp{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Ap(e){return!Array.isArray(e)&&"object"==typeof e}function Rp(e){var t;return e?(e=op(e)).params&&(e.params=(t=e.params)?op(t):null):e={},e}function Op(e,t,i){return{duration:e,delay:t,easing:i}}function Pp(e,t,i,n,s,r,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class Np{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Mp=new RegExp(":enter","g"),Lp=new RegExp(":leave","g");function Vp(e,t,i,n,s,r={},o={},a,l,c=[]){return(new Hp).buildKeyframes(e,t,i,n,s,r,o,a,l,c)}class Hp{buildKeyframes(e,t,i,n,s,r,o,a,l,c=[]){l=l||new Np;const u=new zp(e,t,l,n,s,c,[]);u.options=a,u.currentTimeline.setStyles([r],null,u.errors,a),Cp(this,i,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[Pp(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const n=t.createSubContext(e.options),s=t.currentTimeline.currentTime,r=this._visitSubInstructions(i,n,n.options);s!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime;const s=null!=i.duration?np(i.duration):null,r=null!=i.delay?np(i.delay):null;return 0!==s&&e.forEach(e=>{const i=t.appendInstructionToTimeline(e,s,r);n=Math.max(n,i.duration+i.delay)}),n}visitReference(e,t){t.updateOptions(e.options,!0),Cp(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let n=t;const s=e.options;if(s&&(s.params||s.delay)&&(n=t.createSubContext(s),n.transformIntoNewTimeline(),null!=s.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Bp);const e=np(s.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>Cp(this,e,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let n=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?np(e.options.delay):0;e.steps.forEach(r=>{const o=t.createSubContext(e.options);s&&o.delayNextStep(s),Cp(this,r,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return rp(t.params?gp(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,n=t.currentTimeline.duration,s=i.duration,r=t.createSubContext().currentTimeline;r.easing=i.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*s),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(n+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,n=e.options||{},s=n.delay?np(n.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Bp);let r=i;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((i,n)=>{t.currentQueryIndex=n;const o=t.createSubContext(e.options,i);s&&o.delayNextStep(s),i===t.element&&(a=o.currentTimeline),Cp(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,n=t.currentTimeline,s=e.timings,r=Math.abs(s.duration),o=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Cp(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-c+(n.startTime-i.currentTimeline.startTime)}}const Bp={};class zp{constructor(e,t,i,n,s,r,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=s,this.errors=r,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new jp(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let n=this.options;null!=i.duration&&(n.duration=np(i.duration)),null!=i.delay&&(n.delay=np(i.delay));const s=i.params;if(s){let e=n.params;e||(e=this.options.params={}),Object.keys(s).forEach(i=>{t&&e.hasOwnProperty(i)||(e[i]=gp(s[i],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(e=>{i[e]=t[e]})}}return e}createSubContext(e=null,t,i){const n=t||this.element,s=new zp(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Bp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Up(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(s),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,s,r){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(Mp,"."+this._enterClassName)).replace(Lp,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=i);0!==i&&(t=i<0?t.slice(t.length+i,t.length):t.slice(0,i)),o.push(...t)}return s||0!=o.length||r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class jp{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&(this._previousKeyframe.easing=t);const s=n&&n.params||{},r=function(e,t){const i={};let n;return e.forEach(e=>{"*"===e?(n=n||Object.keys(t),n.forEach(e=>{i[e]="*"})):ap(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=gp(r[e],s,i);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],n=e._styleSummary[t];(!i||n.time>i.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((s,r)=>{const o=ap(s,!0);Object.keys(o).forEach(i=>{const n=o[i];"!"==n?e.add(i):"*"==n&&t.add(i)}),i||(o.offset=r/this.duration),n.push(o)});const s=e.size?mp(e.values()):[],r=t.size?mp(t.values()):[];if(i){const e=n[0],t=op(e);e.offset=0,t.offset=1,n=[e,t]}return Pp(this.element,n,s,r,this.duration,this.startTime,this.easing,!1)}}class Up extends jp{constructor(e,t,i,n,s,r,o=!1){super(e,t,r.delay),this.element=t,this.keyframes=i,this.preStyleProps=n,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],r=i+t,o=t/r,a=ap(e[0],!1);a.offset=0,s.push(a);const l=ap(e[0],!1);l.offset=Gp(o),s.push(l);const c=e.length-1;for(let n=1;n<=c;n++){let o=ap(e[n],!1);o.offset=Gp((t+o.offset*i)/r),s.push(o)}i=r,t=0,n="",e=s}return Pp(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}}function Gp(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class qp{}class $p extends qp{normalizePropertyName(e,t){return yp(e)}normalizeStyleValue(e,t,i,n){let s="";const r=i.toString().trim();if(Kp[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const t=i.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&n.push(`Please provide a CSS unit value for ${e}:${i}`)}return r+s}}const Kp=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Wp(e,t,i,n,s,r,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:i,fromStyles:r,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Zp={};class Yp{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,s){return e.some(e=>e(t,i,n,s))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){const n=this._stateStyles["*"],s=this._stateStyles[e],r=n?n.buildStyles(t,i):{};return s?s.buildStyles(t,i):r}build(e,t,i,n,s,r,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||Zp,d=this.buildStyles(i,o&&o.params||Zp,u),p=a&&a.params||Zp,f=this.buildStyles(n,p,u),g=new Set,m=new Map,v=new Map,y="void"===n,b={params:Object.assign(Object.assign({},h),p)},w=c?[]:Vp(e,t,this.ast.animation,s,r,d,f,b,l,u);let C=0;if(w.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),u.length)return Wp(t,this._triggerName,i,n,y,d,f,[],[],m,v,C,u);w.forEach(e=>{const i=e.element,n=jd(m,i,{});e.preStyleProps.forEach(e=>n[e]=!0);const s=jd(v,i,{});e.postStyleProps.forEach(e=>s[e]=!0),i!==t&&g.add(i)});const S=mp(g.values());return Wp(t,this._triggerName,i,n,y,d,f,w,S,m,v,C)}}class Qp{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const i={},n=op(this.defaultParams);return Object.keys(e).forEach(t=>{const i=e[t];null!=i&&(n[t]=i)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const s=e;Object.keys(s).forEach(e=>{let r=s[e];r.length>1&&(r=gp(r,n,t)),i[e]=r})}}),i}}class Jp{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Qp(e.style,e.options&&e.options.params||{})}),Xp(this.states,"true","1"),Xp(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Yp(e,t,this.states))}),this.fallbackTransition=new Yp(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find(s=>s.match(e,t,i,n))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Xp(e,t,i){e.hasOwnProperty(t)?e.hasOwnProperty(i)||(e[i]=e[t]):e.hasOwnProperty(i)&&(e[t]=e[i])}const ef=new Np;class tf{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],n=_p(this._driver,t,i);if(i.length)throw new Error("Unable to build the animation due to the following errors: "+i.join("\n"));this._animations[e]=n}_buildPlayer(e,t,i){const n=e.element,s=Vd(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(n,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const n=[],s=this._animations[e];let r;const o=new Map;if(s?(r=Vp(this._driver,t,s,"ng-enter","ng-leave",{},{},i,ef,n),r.forEach(e=>{const t=jd(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),r=[]),n.length)throw new Error("Unable to create the animation due to the following errors: "+n.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(i=>{e[i]=this._driver.computeStyle(t,i,"*")})});const a=Ld(r.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,i,n){const s=zd(t,"","","");return Hd(this._getPlayer(e),i,s,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i)return void this.create(e,t,n[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}const nf=[],sf={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class of{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=null!=(n=i?e.value:e)?n:null,i){const t=op(e);delete t.value,this.options=t}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(i=>{null==e[i]&&(e[i]=t[i])})}}}const af=new of("void");class lf{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,gf(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(s=i)&&"done"!=s)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);var s;const r=jd(this._elementListeners,e,[]),o={name:t,phase:i,callback:n};r.push(o);const a=jd(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(gf(e,"ng-trigger"),gf(e,"ng-trigger-"+t),a[t]=af),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(o);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,n=!0){const s=this._getTrigger(t),r=new uf(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(gf(e,"ng-trigger"),gf(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new of(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=af),"void"!==l.value&&a.value===l.value){if(!function(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let s=0;s<i.length;s++){const n=i[s];if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}return!0}(a.params,l.params)){const t=[],i=s.matchStyles(a.value,a.params,t),n=s.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{hp(e,i),up(e,n)})}return}const c=jd(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=s.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!n)return;u=s.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:r,isFallbackTransition:h}),h||(gf(e,"ng-animate-queued"),r.onStart(()=>{mf(e,"ng-animate-queued")})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(r);e>=0&&i.splice(e,1)}}),this.players.push(r),c.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach(e=>{if(e.__ng_removed)return;const i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach(i=>i.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,i,n){const s=this._engine.statesByElement.get(e);if(s){const r=[];if(Object.keys(s).forEach(t=>{if(this._triggers[t]){const i=this.trigger(e,t,"void",n);i&&r.push(i)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&Ld(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const i=new Set;t.forEach(t=>{const n=t.name;if(i.has(n))return;i.add(n);const s=this._triggers[n].fallbackTransition,r=this._engine.statesByElement.get(e)[n]||af,o=new of("void"),a=new uf(this.id,n,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:s,fromState:r,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){const t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{const n=e.__ng_removed;n&&n!==sf||(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){gf(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const s=i.element,r=this._elementListeners.get(s);r&&r.forEach(t=>{if(t.name==i.triggerName){const n=zd(s,i.triggerName,i.fromState.value,i.toState.value);n._data=e,Hd(i.player,t.phase,n,t.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(i)}),this._queue=[],t.sort((e,t)=>{const i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class cf{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const i=new lf(e,t,this);return t.parentNode?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),n=!0;break}n||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(i);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const e=Object.keys(i);for(let n=0;n<e.length;n++){const s=i[e[n]].namespaceId;if(s){const e=this._fetchNamespace(s);e&&t.add(e)}}}return t}trigger(e,t,i,n){if(hf(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!hf(t))return;const s=t.__ng_removed;if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),gf(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),mf(e,"ng-animate-disabled"))}removeNode(e,t,i,n){if(hf(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n),i){const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,n)}}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,i,n){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,n,s){return hf(t)?this._fetchNamespace(e).listen(t,i,n,s):()=>{}}_buildInstruction(e,t,i,n,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ld(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=sf,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)gf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Ld(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const i=new Np,n=[],s=new Map,r=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let i=0;i<t.length;i++)c.add(t[i])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=ff(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const i="ng-enter"+f++;p.set(t,i),e.forEach(e=>gf(e,i))});const g=[],m=new Set,v=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const e=this.collectedLeaveElements[D],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):v.add(e))}const y=new Map,b=ff(h,Array.from(m));b.forEach((e,t)=>{const i="ng-leave"+f++;y.set(t,i),e.forEach(e=>gf(e,i))}),e.push(()=>{d.forEach((e,t)=>{const i=p.get(t);e.forEach(e=>mf(e,i))}),b.forEach((e,t)=>{const i=y.get(t);e.forEach(e=>mf(e,i))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],C=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(e=>{const t=e.player,s=e.element;if(w.push(t),this.collectedEnterElements.length){const e=s.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,s),h=y.get(s),d=p.get(s),f=this._buildInstruction(e,i,d,h,c);if(f.errors&&f.errors.length)C.push(f);else{if(c)return t.onStart(()=>hp(s,f.fromStyles)),t.onDestroy(()=>up(s,f.toStyles)),void n.push(t);if(e.isFallbackTransition)return t.onStart(()=>hp(s,f.fromStyles)),t.onDestroy(()=>up(s,f.toStyles)),void n.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),i.append(s,f.timelines),r.push({instruction:f,player:t,element:s}),f.queriedElements.forEach(e=>jd(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const i=Object.keys(e);if(i.length){let e=a.get(t);e||a.set(t,e=new Set),i.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const i=Object.keys(e);let n=l.get(t);n||l.set(t,n=new Set),i.forEach(e=>n.add(e))})}});if(C.length){const e=[];C.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const S=new Map,x=new Map;r.forEach(e=>{const t=e.element;i.has(t)&&(x.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,S))}),n.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{jd(S,t,[]).push(e),e.destroy()})});const k=g.filter(e=>yf(e,a,l)),E=new Map;pf(E,this.driver,v,l,"*").forEach(e=>{yf(e,a,l)&&k.push(e)});const I=new Map;d.forEach((e,t)=>{pf(I,this.driver,new Set(e),a,"!")}),k.forEach(e=>{const t=E.get(e),i=I.get(e);E.set(e,Object.assign(Object.assign({},t),i))});const T=[],_=[],F={};r.forEach(e=>{const{element:t,player:r,instruction:o}=e;if(i.has(t)){if(c.has(t))return r.onDestroy(()=>up(t,o.toStyles)),r.disabled=!0,r.overrideTotalTime(o.totalTime),void n.push(r);let e=F;if(x.size>1){let i=t;const n=[];for(;i=i.parentNode;){const t=x.get(i);if(t){e=t;break}n.push(i)}n.forEach(t=>x.set(t,e))}const i=this._buildAnimation(r.namespaceId,o,S,s,I,E);if(r.setRealPlayer(i),e===F)T.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=Ld(t)),n.push(r)}}else hp(t,o.fromStyles),r.onDestroy(()=>up(t,o.toStyles)),_.push(r),c.has(t)&&n.push(r)}),_.forEach(e=>{const t=s.get(e.element);if(t&&t.length){const i=Ld(t);e.setRealPlayer(i)}}),n.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let D=0;D<g.length;D++){const e=g[D],t=e.__ng_removed;if(mf(e,"ng-leave"),t&&t.hasAnimation)continue;let i=[];if(o.size){let t=o.get(e);t&&t.length&&i.push(...t);let n=this.driver.query(e,".ng-animating",!0);for(let e=0;e<n.length;e++){let t=o.get(n[e]);t&&t.length&&i.push(...t)}}const n=i.filter(e=>!e.destroyed);n.length?vf(this,e,n):this.processLeaveNode(e)}return g.length=0,T.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),T}elementContainsData(e,t){let i=!1;const n=t.__ng_removed;return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,s){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!s||"void"==s;t.forEach(t=>{t.queued||(e||t.triggerName==n)&&r.push(t)})}}return(i||n)&&(r=r.filter(e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName))),r}_beforeAnimationBuild(e,t,i){const n=t.element,s=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==n,l=jd(i,e,[]);this._getPreviousPlayers(e,a,s,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}hp(n,t.fromStyles)}_buildAnimation(e,t,i,n,s,r){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new Pd(t.duration,t.delay);const p=h!==a,f=function(e){const t=[];return function e(t,i){for(let n=0;n<t.length;n++){const s=t[n];s instanceof Nd?e(s.players,i):i.push(s)}}(e,t),t}((i.get(h)||nf).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=s.get(h),m=r.get(h),v=Vd(0,this._normalizer,0,t.keyframes,g,m),y=this._buildPlayer(t,v,f);if(t.subTimeline&&n&&u.add(h),p){const t=new uf(e,o,h);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{jd(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,i){let n;if(e instanceof Map){if(n=e.get(t),n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}}else if(n=e[t],n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&delete e[t]}return n}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>gf(e,"ng-animating"));const d=Ld(h);return d.onDestroy(()=>{c.forEach(e=>mf(e,"ng-animating")),up(a,t.toStyles)}),u.forEach(e=>{jd(n,e,[]).push(d)}),d}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Pd(e.duration,e.delay)}}class uf{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Pd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>Hd(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){jd(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function hf(e){return e&&1===e.nodeType}function df(e,t){const i=e.style.display;return e.style.display=null!=t?t:"none",i}function pf(e,t,i,n,s){const r=[];i.forEach(e=>r.push(df(e)));const o=[];n.forEach((i,n)=>{const r={};i.forEach(e=>{const i=r[e]=t.computeStyle(n,e,s);i&&0!=i.length||(n.__ng_removed=rf,o.push(n))}),e.set(n,r)});let a=0;return i.forEach(e=>df(e,r[a++])),o}function ff(e,t){const i=new Map;if(e.forEach(e=>i.set(e,[])),0==t.length)return i;const n=new Set(t),s=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let r=s.get(t);if(r)return r;const o=t.parentNode;return r=i.has(o)?o:n.has(o)?1:e(o),s.set(t,r),r}(e);1!==t&&i.get(t).push(e)}),i}function gf(e,t){if(e.classList)e.classList.add(t);else{let i=e.$$classes;i||(i=e.$$classes={}),i[t]=!0}}function mf(e,t){if(e.classList)e.classList.remove(t);else{let i=e.$$classes;i&&delete i[t]}}function vf(e,t,i){Ld(i).onDone(()=>e.processLeaveNode(t))}function yf(e,t,i){const n=i.get(e);if(!n)return!1;let s=t.get(e);return s?n.forEach(e=>s.add(e)):t.set(e,n),i.delete(e),!0}class bf{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new cf(e,t,i),this._timelineEngine=new tf(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,s){const r=e+"-"+n;let o=this._triggerCache[r];if(!o){const e=[],t=_p(this._driver,s,e);if(e.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new Jp(e,t)}(n,t),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i,n){this._transitionEngine.removeNode(e,t,n||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){const[e,s]=Ud(i);this._timelineEngine.command(e,t,s,n)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,s){if("@"==i.charAt(0)){const[e,n]=Ud(i);return this._timelineEngine.listen(e,t,n,s)}return this._transitionEngine.listen(e,t,i,n,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function wf(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=Sf(t[0]),t.length>1&&(n=Sf(t[t.length-1]))):t&&(i=Sf(t)),i||n?new Cf(e,i,n):null}let Cf=(()=>{class e{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&up(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(up(this._element,this._initialStyles),this._endStyles&&(up(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(hp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hp(this._element,this._endStyles),this._endStyles=null),up(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function Sf(e){let t=null;const i=Object.keys(e);for(let n=0;n<i.length;n++){const s=i[n];xf(s)&&(t=t||{},t[s]=e[s])}return t}function xf(e){return"display"===e||"position"===e}class kf{constructor(e,t,i,n,s,r,o){this._element=e,this._name=t,this._duration=i,this._delay=n,this._easing=s,this._fillMode=r,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const i=Df(e,"").trim();i.length&&(function(e,t){let i=0;for(let n=0;n<e.length;n++)","===e.charAt(n)&&i++}(i),t=`${i}, ${t}`),Ff(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),_f(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Ef(this._element,this._name,"paused")}resume(){Ef(this._element,this._name,"running")}setPosition(e){const t=If(this._element,this._name);this._position=e*this._duration,Ff(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),_f(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const i=Df(e,"").split(","),n=Tf(i,t);n>=0&&(i.splice(n,1),Ff(e,"",i.join(",")))}(this._element,this._name))}}function Ef(e,t,i){Ff(e,"PlayState",i,If(e,t))}function If(e,t){const i=Df(e,"");return i.indexOf(",")>0?Tf(i.split(","),t):Tf([i],t)}function Tf(e,t){for(let i=0;i<e.length;i++)if(e[i].indexOf(t)>=0)return i;return-1}function _f(e,t,i){i?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function Ff(e,t,i,n){const s="animation"+t;if(null!=n){const t=e.style[s];if(t.length){const e=t.split(",");e[n]=i,i=e.join(",")}}e.style[s]=i}function Df(e,t){return e.style["animation"+t]}class Af{constructor(e,t,i,n,s,r,o,a){this.element=e,this.keyframes=t,this.animationName=i,this._duration=n,this._delay=s,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=n+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new kf(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:Sp(this.element,i))})}this.currentSnapshot=e}}class Rf extends Pd{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=ep(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Of{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Yd(e)}matchesElement(e,t){return Qd(e,t)}containsElement(e,t){return Jd(e,t)}query(e,t,i){return Xd(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(e=>ep(e));let n=`@keyframes ${t} {\n`,s="";i.forEach(e=>{s=" ";const t=parseFloat(e.offset);n+=`${s}${100*t}% {\n`,s+=" ",Object.keys(e).forEach(t=>{const i=e[t];switch(t){case"offset":return;case"easing":return void(i&&(n+=`${s}animation-timing-function: ${i};\n`));default:return void(n+=`${s}${t}: ${i};\n`)}}),n+=s+"}\n"}),n+="}\n";const r=document.createElement("style");return r.innerHTML=n,r}animate(e,t,i,n,s,r=[],o){o&&this._notifyFaultyScrubber();const a=r.filter(e=>e instanceof Af),l={};bp(i,n)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(i=>{"offset"!=i&&"easing"!=i&&(t[i]=e[i])})}),t}(t=wp(e,t,l));if(0==i)return new Rf(e,c);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=wf(e,t),p=new Af(e,t,u,i,n,s,c,d);return p.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Pf{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Sp(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Nf{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Mf().toString()),this._cssKeyframesDriver=new Of}validateStyleProperty(e){return Yd(e)}matchesElement(e,t){return Qd(e,t)}containsElement(e,t){return Jd(e,t)}query(e,t,i){return Xd(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,n,s,r=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,n,s,r);const a={duration:i,delay:n,fill:0==n?"both":"forwards"};s&&(a.easing=s);const l={},c=r.filter(e=>e instanceof Pf);bp(i,n)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const u=wf(e,t=wp(e,t=t.map(e=>ap(e,!1)),l));return new Pf(e,t,a,u)}}function Mf(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Lf=(()=>{class e extends Id{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ct.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?Fd(e):e;return Bf(this._renderer,null,t,"register",[i]),new Vf(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(We(Ya),We(Vu))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class Vf extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Hf(this._id,e,t||{},this._renderer)}}class Hf{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Bf(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function Bf(e,t,i,n,s){return e.setProperty(t,`@@${i}:${n}`,s)}let zf=(()=>{class e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);return e||(e=new jf("",i,this.engine),this._rendererCache.set(i,e)),e}const n=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(n,s,e,t.name,t)};return t.data.animation.forEach(r),new Uf(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run(()=>t(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,i]=e;t(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(We(Ya),We(bf),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class jf{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Uf extends jf{constructor(e,t,i,n){super(t,i,n),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let s=t.substr(1),r="";return"@"!=s.charAt(0)&&([s,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,n,s,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,t,i)}}let Gf=(()=>{class e extends bf{constructor(e,t,i){super(e.body,t,i)}}return e.\u0275fac=function(t){return new(t||e)(We(Vu),We(ip),We(qp))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const qf=[{provide:ip,useFactory:function(){return"function"==typeof Mf()?new Nf:new Of}},{provide:new Ve("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:Id,useClass:Lf},{provide:qp,useFactory:function(){return new $p}},{provide:bf,useClass:Gf},{provide:Ya,useFactory:function(e,t,i){return new zf(e,t,i)},deps:[hd,bf,ou]}];let $f=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:qf,imports:[Ed]}),e})();var Kf=i("E21t");let Wf=new Ve("app.config");const Zf={appId:"2A108563-6752-4DC3-813E-6E77CCAB67AF",appTitle:"Artemis Migration",lobName:"Artemis",lob:"ArtemisMP",cacheTime:7200,region:"USA",businessEntity:"ARTEMIS",businessSubEntity:"Migration Programme",enablePing:Kf.b,landingPageUrl:Kf.a};class Yf extends E{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value}next(e){super.next(this._value=e)}}let Qf=(()=>{class e{constructor(){let e=localStorage.getItem("currentUser");this._currentUserSubject=new Yf(null==e||null==e?e:JSON.parse(localStorage.getItem("currentUser"))),this.currentUserObservable=this._currentUserSubject.asObservable()}get currentUser(){return this._currentUserSubject.value}set currentUser(e){e?localStorage.setItem("currentUser",JSON.stringify(e)):localStorage.removeItem("currentUser"),this._currentUserSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Jf=(()=>{class e{transform(e){let t=e;if(e){let i=e.split(" ");if(i.length>0){const e=i.length;let n=i[e-1],s="";i.forEach((i,r)=>{if(e-1===r)return t=s?`${n}, ${s}`:""+n,t.toUpperCase();s=`${s} ${i}`})}}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=wt({name:"nameFormat",type:e,pure:!0}),e})();function Xf(e,t){if(1&e&&(Vo(0,"div",7),Vo(1,"ul",8),Vo(2,"li",9),Ca(3),uc(4,"nameFormat"),Ho(),Ho(),Ho()),2&e){const e=Yo();ms(3),xa(" ",function(e,t,i){const n=Zt(),s=Ht(n,4);return fc(n,pc(n,4)?ac(n,si(),1,s.transform,i,s):s.transform(i))}(0,0,e.user)," ")}}let eg=(()=>{class e{constructor(e,t){this.userContextService=e,this.appConfig=t,this.user="Rajesh D"}get businessEntity(){return this.appConfig.businessEntity}get businessSubEntity(){return this.appConfig.businessSubEntity}get isLoggedIn(){return!0}ngOnInit(){}navigateToDiracHome(){window.open(this.appConfig.landingPageUrl,"_self")}logout(){return!0}get isPingDisabled(){return!this.appConfig.enablePing}}return e.\u0275fac=function(t){return new(t||e)(Oo(Qf),Oo(Wf))},e.\u0275cmp=pt({type:e,selectors:[["app-header"]],decls:10,vars:3,consts:[[1,"ar-header"],[1,"ar-header__left",3,"keypress","click"],["tabindex","0",1,"ar-header__logo"],["src","./../../../../assets/shell_logo.png","alt","shell logo"],["tabindex","0",1,"ar-header__title"],[1,"ar-header__subtitle"],["class","ar-header__right",4,"ngIf"],[1,"ar-header__right"],[1,"ar-header__info"],["tabindex","0",1,"ar-header__info-item"]],template:function(e,t){1&e&&(Vo(0,"header",0),Vo(1,"div",1),Ko("keypress",(function(){return t.navigateToDiracHome()}))("click",(function(){return t.navigateToDiracHome()})),Vo(2,"span",2),Bo(3,"img",3),Ho(),Vo(4,"h1",4),Vo(5,"span"),Ca(6),Ho(),Vo(7,"span",5),Ca(8),Ho(),Ho(),Ho(),Ao(9,Xf,5,3,"div",6),Ho()),2&e&&(ms(6),Sa(t.businessEntity),ms(2),Sa(t.businessSubEntity),ms(1),Mo("ngIf",t.isLoggedIn))},directives:[Lh],pipes:[Jf],styles:[""]}),e})();function tg(...e){let t=e[e.length-1];return T(t)?(e.pop(),B(e,t)):$(e)}const ig=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),ng={};function sg(...e){let t=null,i=null;return T(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),$(e,i).lift(new rg(t))}class rg{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new og(e,this.resultSelector))}}class og extends M{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(ng),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++){const t=e[i];this.add(N(this,t,t,i))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i,n,s){const r=this.values,o=this.toRespond?r[i]===ng?--this.toRespond:this.toRespond:0;r[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const ag=new w(e=>e.complete());function lg(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):ag}function cg(e){return new w(t=>{let i;try{i=e()}catch(n){return void t.error(n)}return(i?z(i):lg()).subscribe(t)})}function ug(){return q(1)}function hg(e,t){return function(i){return i.lift(new dg(e,t))}}class dg{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new pg(e,this.predicate,this.thisArg))}}class pg extends f{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}const fg=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function gg(e){return function(t){return 0===e?lg():t.lift(new mg(e))}}class mg{constructor(e){if(this.total=e,this.total<0)throw new fg}call(e,t){return t.subscribe(new vg(e,this.total))}}class vg extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,n=this.count++;t.length<i?t.push(e):t[n%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let s=0;s<i;s++){const s=t++%i;e.next(n[s])}}e.complete()}}function yg(e=Cg){return t=>t.lift(new bg(e))}class bg{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new wg(e,this.errorFactory))}}class wg extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Cg(){return new ig}function Sg(e=null){return t=>t.lift(new xg(e))}class xg{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new kg(e,this.defaultValue))}}class kg extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function Eg(e,t){const i=arguments.length>=2;return n=>n.pipe(e?hg((t,i)=>e(t,i,n)):v,gg(1),i?Sg(t):yg(()=>new ig))}function Ig(e){return function(t){const i=new Tg(e),n=t.lift(i);return i.caught=n}}class Tg{constructor(e){this.selector=e}call(e,t){return t.subscribe(new _g(e,this.selector,this.caught))}}class _g extends M{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new _(this,void 0,void 0);this.add(n);const s=N(this,i,void 0,void 0,n);s!==n&&this.add(s)}}}function Fg(e){return t=>0===e?lg():t.lift(new Dg(e))}class Dg{constructor(e){if(this.total=e,this.total<0)throw new fg}call(e,t){return t.subscribe(new Ag(e,this.total))}}class Ag extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function Rg(e,t){const i=arguments.length>=2;return n=>n.pipe(e?hg((t,i)=>e(t,i,n)):v,Fg(1),i?Sg(t):yg(()=>new ig))}class Og{constructor(e,t,i){this.predicate=e,this.thisArg=t,this.source=i}call(e,t){return t.subscribe(new Pg(e,this.predicate,this.thisArg,this.source))}}class Pg extends f{constructor(e,t,i,n){super(e),this.predicate=t,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){return void this.destination.error(i)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Ng(e,t){return"function"==typeof t?i=>i.pipe(Ng((i,n)=>z(e(i,n)).pipe(L((e,s)=>t(i,e,n,s))))):t=>t.lift(new Mg(e))}class Mg{constructor(e){this.project=e}call(e,t){return t.subscribe(new Lg(e,this.project))}}class Lg extends M{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this._innerSub(t,e,i)}_innerSub(e,t,i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new _(this,t,i),r=this.destination;r.add(s),this.innerSubscription=N(this,e,void 0,void 0,s),this.innerSubscription!==s&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,i,n,s){this.destination.next(t)}}function Vg(...e){return ug()(tg(...e))}function Hg(e,t){let i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new Bg(e,t,i))}}class Bg{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new zg(e,this.accumulator,this.seed,this.hasSeed))}}class zg extends f{constructor(e,t,i,n){super(e),this.accumulator=t,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}function jg(e,t){return j(e,t,1)}function Ug(){}function Gg(e,t,i){return function(n){return n.lift(new qg(e,t,i))}}class qg{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new $g(e,this.nextOrObserver,this.error,this.complete))}}class $g extends f{constructor(e,t,i,s){super(e),this._tapNext=Ug,this._tapError=Ug,this._tapComplete=Ug,this._tapError=i||Ug,this._tapComplete=s||Ug,n(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Ug,this._tapError=t.error||Ug,this._tapComplete=t.complete||Ug)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Kg{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Wg(e,this.callback))}}class Wg extends f{constructor(e,t){super(e),this.add(new h(t))}}class Zg{constructor(e,t){this.id=e,this.url=t}}class Yg extends Zg{constructor(e,t,i="imperative",n=null){super(e,t),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qg extends Zg{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jg extends Zg{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xg extends Zg{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class em extends Zg{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tm extends Zg{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class im extends Zg{constructor(e,t,i,n,s){super(e,t),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nm extends Zg{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sm extends Zg{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rm{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class om{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class am{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lm{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cm{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class um{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hm{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let dm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Bo(0,"router-outlet")},directives:function(){return[vy]},encapsulation:2}),e})();class pm{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fm(e){return new pm(e)}function gm(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function mm(e,t,i){const n=i.path.split("/");if(n.length>e.length)return null;if("full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const s={};for(let r=0;r<n.length;r++){const t=n[r],i=e[r];if(t.startsWith(":"))s[t.substring(1)]=i;else if(t!==i.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}class vm{constructor(e,t){this.routes=e,this.module=t}}function ym(e,t=""){for(let i=0;i<e.length;i++){const n=e[i];bm(n,wm(t,n))}}function bm(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&ym(e.children,t)}function wm(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function Cm(e){const t=e.children&&e.children.map(Cm),i=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!i.component&&(t||i.loadChildren)&&i.outlet&&"primary"!==i.outlet&&(i.component=dm),i}function Sm(e,t){const i=Object.keys(e),n=Object.keys(t);if(!i||!n||i.length!=n.length)return!1;let s;for(let r=0;r<i.length;r++)if(s=i[r],!xm(e[s],t[s]))return!1;return!0}function xm(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function km(e){return Array.prototype.concat.apply([],e)}function Em(e){return e.length>0?e[e.length-1]:null}function Im(e,t){for(const i in e)e.hasOwnProperty(i)&&t(e[i],i)}function Tm(e){return $o(e)?e:qo(e)?z(Promise.resolve(e)):tg(e)}function _m(e,t,i){return i?function(e,t){return Sm(e,t)}(e.queryParams,t.queryParams)&&function e(t,i){if(!Rm(t.segments,i.segments))return!1;if(t.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children){if(!t.children[n])return!1;if(!e(t.children[n],i.children[n]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>xm(e[i],t[i]))}(e.queryParams,t.queryParams)&&function e(t,i){return function t(i,n,s){if(i.segments.length>s.length)return!!Rm(i.segments.slice(0,s.length),s)&&!n.hasChildren();if(i.segments.length===s.length){if(!Rm(i.segments,s))return!1;for(const t in n.children){if(!i.children[t])return!1;if(!e(i.children[t],n.children[t]))return!1}return!0}{const e=s.slice(0,i.segments.length),r=s.slice(i.segments.length);return!!Rm(i.segments,e)&&!!i.children.primary&&t(i.children.primary,n,r)}}(t,i,i.segments)}(e.root,t.root)}class Fm{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fm(this.queryParams)),this._queryParamMap}toString(){return Mm.serialize(this)}}class Dm{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Im(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lm(this)}}class Am{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fm(this.parameters)),this._parameterMap}toString(){return Um(this)}}function Rm(e,t){return e.length===t.length&&e.every((e,i)=>e.path===t[i].path)}function Om(e,t){let i=[];return Im(e.children,(e,n)=>{"primary"===n&&(i=i.concat(t(e,n)))}),Im(e.children,(e,n)=>{"primary"!==n&&(i=i.concat(t(e,n)))}),i}class Pm{}class Nm{parse(e){const t=new Wm(e);return new Fm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,i){if(!t.hasChildren())return Lm(t);if(i){const i=t.children.primary?e(t.children.primary,!1):"",n=[];return Im(t.children,(t,i)=>{"primary"!==i&&n.push(`${i}:${e(t,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=Om(t,(i,n)=>"primary"===n?[e(t.children.primary,!1)]:[`${n}:${e(i,!1)}`]);return`${Lm(t)}/(${i.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(e=>`${Hm(t)}=${Hm(e)}`).join("&"):`${Hm(t)}=${Hm(i)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Mm=new Nm;function Lm(e){return e.segments.map(e=>Um(e)).join("/")}function Vm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Hm(e){return Vm(e).replace(/%3B/gi,";")}function Bm(e){return Vm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zm(e){return decodeURIComponent(e)}function jm(e){return zm(e.replace(/\+/g,"%20"))}function Um(e){return`${Bm(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Bm(e)}=${Bm(t[e])}`).join("")}`;var t}const Gm=/^[^\/()?;=#]+/;function qm(e){const t=e.match(Gm);return t?t[0]:""}const $m=/^[^=?&#]+/,Km=/^[^?&#]+/;class Wm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dm([],{}):new Dm([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i.primary=new Dm(e,t)),i}parseSegment(){const e=qm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Am(zm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=qm(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=qm(this.remaining);e&&(i=e,this.capture(i))}e[zm(t)]=zm(i)}parseQueryParam(e){const t=function(e){const t=e.match($m);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Km);return t?t[0]:""}(this.remaining);e&&(i=e,this.capture(i))}const n=jm(t),s=jm(i);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(s)}else e[n]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qm(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s="primary");const r=this.parseChildren();t[s]=1===Object.keys(r).length?r.primary:new Dm([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Zm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Ym(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Ym(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Qm(e,this._root).map(e=>e.value)}}function Ym(e,t){if(e===t.value)return t;for(const i of t.children){const t=Ym(e,i);if(t)return t}return null}function Qm(e,t){if(e===t.value)return[t];for(const i of t.children){const n=Qm(e,i);if(n.length)return n.unshift(t),n}return[]}class Jm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xm(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class ev extends Zm{constructor(e,t){super(e),this.snapshot=t,ov(this,e)}toString(){return this.snapshot.toString()}}function tv(e,t){const i=function(e,t){const i=new sv([],{},{},"",{},"primary",t,null,e.root,-1,{});return new rv("",new Jm(i,[]))}(e,t),n=new Yf([new Am("",{})]),s=new Yf({}),r=new Yf({}),o=new Yf({}),a=new Yf(""),l=new iv(n,s,o,a,r,"primary",t,i.root);return l.snapshot=i.root,new ev(new Jm(l,[]),i)}class iv{constructor(e,t,i,n,s,r,o,a){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=r,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(L(e=>fm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(L(e=>fm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nv(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const e=i[n],t=i[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class sv{constructor(e,t,i,n,s,r,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=r,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class rv extends Zm{constructor(e,t){super(t),this.url=e,ov(this,t)}toString(){return av(this._root)}}function ov(e,t){t.value._routerState=e,t.children.forEach(t=>ov(e,t))}function av(e){const t=e.children.length>0?` { ${e.children.map(av).join(", ")} } `:"";return`${e.value}${t}`}function lv(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,Sm(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),Sm(t.params,i.params)||e.params.next(i.params),function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!Sm(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),Sm(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function cv(e,t){var i,n;return Sm(e.params,t.params)&&Rm(i=e.url,n=t.url)&&i.every((e,t)=>Sm(e.parameters,n[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||cv(e.parent,t.parent))}function uv(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function hv(e,t,i,n,s){let r={};return n&&Im(n,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new Fm(i.root===e?t:function e(t,i,n){const s={};return Im(t.children,(t,r)=>{s[r]=t===i?n:e(t,i,n)}),new Dm(t.segments,s)}(i.root,e,t),r,s)}class dv{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&uv(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(n&&n!==Em(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pv{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function fv(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function gv(e,t,i){if(e||(e=new Dm([],{})),0===e.segments.length&&e.hasChildren())return mv(e,t,i);const n=function(e,t,i){let n=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=i.length)return r;const t=e.segments[s],o=fv(i[n]),a=n<i.length-1?i[n+1]:null;if(s>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!wv(o,a,t))return r;n+=2}else{if(!wv(o,{},t))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(e,t,i),s=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new Dm(e.segments.slice(0,n.pathIndex),{});return t.children.primary=new Dm(e.segments.slice(n.pathIndex),e.children),mv(t,0,s)}return n.match&&0===s.length?new Dm(e.segments,{}):n.match&&!e.hasChildren()?vv(e,t,i):n.match?mv(e,0,s):vv(e,t,i)}function mv(e,t,i){if(0===i.length)return new Dm(e.segments,{});{const n=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(i),s={};return Im(n,(i,n)=>{null!==i&&(s[n]=gv(e.children[n],t,i))}),Im(e.children,(e,t)=>{void 0===n[t]&&(s[t]=e)}),new Dm(e.segments,s)}}function vv(e,t,i){const n=e.segments.slice(0,t);let s=0;for(;s<i.length;){if("object"==typeof i[s]&&void 0!==i[s].outlets){const e=yv(i[s].outlets);return new Dm(n,e)}if(0===s&&uv(i[0])){n.push(new Am(e.segments[t].path,i[0])),s++;continue}const r=fv(i[s]),o=s<i.length-1?i[s+1]:null;r&&o&&uv(o)?(n.push(new Am(r,bv(o))),s+=2):(n.push(new Am(r,{})),s++)}return new Dm(n,{})}function yv(e){const t={};return Im(e,(e,i)=>{null!==e&&(t[i]=vv(new Dm([],{}),0,e))}),t}function bv(e){const t={};return Im(e,(e,i)=>t[i]=""+e),t}function wv(e,t,i){return e==i.path&&Sm(t,i.parameters)}class Cv{constructor(e,t,i,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=n}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),lv(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const n=Xm(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],i),delete n[t]}),Im(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,i)})}deactivateRoutes(e,t,i){const n=e.value,s=t?t.value:null;if(n===s)if(n.component){const s=i.getContext(n.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const t=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet);if(i){const n=Xm(e),s=e.value.component?i.children:t;Im(n,(e,t)=>this.deactivateRouteAndItsChildren(e,s)),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}activateChildRoutes(e,t,i){const n=Xm(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],i),this.forwardEvent(new um(e.value.snapshot))}),e.children.length&&this.forwardEvent(new lm(e.value.snapshot))}activateRoutes(e,t,i){const n=e.value,s=t?t.value:null;if(lv(n),n===s)if(n.component){const s=i.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(n.component){const t=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Sv(e.route)}else{const i=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),s=i?i.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=s,t.outlet&&t.outlet.activateWith(n,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,i)}}function Sv(e){lv(e.value),e.children.forEach(Sv)}function xv(e){return"function"==typeof e}function kv(e){return e instanceof Fm}class Ev{constructor(e){this.segmentGroup=e||null}}class Iv{constructor(e){this.urlTree=e}}function Tv(e){return new w(t=>t.error(new Ev(e)))}function _v(e){return new w(t=>t.error(new Iv(e)))}function Fv(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Dv{constructor(e,t,i,n,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=n,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Je)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(L(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ig(e=>{if(e instanceof Iv)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Ev)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(L(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(Ig(e=>{if(e instanceof Ev)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const n=e.segments.length>0?new Dm([],{primary:e}):e;return new Fm(n,t,i)}expandSegmentGroup(e,t,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(L(e=>new Dm([],e))):this.expandSegment(e,i,t,i.segments,n,!0)}expandChildren(e,t,i){return function(e,t){if(0===Object.keys(e).length)return tg({});const i=[],n=[],s={};return Im(e,(e,r)=>{const o=t(r,e).pipe(L(e=>s[r]=e));"primary"===r?i.push(o):n.push(o)}),tg.apply(null,i.concat(n)).pipe(ug(),Eg(),L(()=>s))}(i.children,(i,n)=>this.expandSegmentGroup(e,t,n,i))}expandSegment(e,t,i,n,s,r){return tg(...i).pipe(L(o=>this.expandSegmentAgainstRoute(e,t,i,o,n,s,r).pipe(Ig(e=>{if(e instanceof Ev)return tg(null);throw e}))),ug(),Rg(e=>!!e),Ig((e,i)=>{if(e instanceof ig||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,n,s))return tg(new Dm([],{}));throw new Ev(t)}throw e}))}noLeftoversInUrl(e,t,i){return 0===t.length&&!e.children[i]}expandSegmentAgainstRoute(e,t,i,n,s,r,o){return Pv(n)!==r?Tv(t):void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r):Tv(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,n,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,n){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?_v(s):this.lineralizeSegments(i,s).pipe(j(i=>{const s=new Dm(i,{});return this.expandSegment(e,s,t,i,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Av(t,n,s);if(!o)return Tv(t);const u=this.applyRedirectCommands(a,n.redirectTo,c);return n.redirectTo.startsWith("/")?_v(u):this.lineralizeSegments(n,u).pipe(j(n=>this.expandSegment(e,t,i,n.concat(s.slice(l)),r,!1)))}matchSegmentAgainstRoute(e,t,i,n){if("**"===i.path)return i.loadChildren?this.configLoader.load(e.injector,i).pipe(L(e=>(i._loadedConfig=e,new Dm(n,{})))):tg(new Dm(n,{}));const{matched:s,consumedSegments:r,lastChild:o}=Av(t,i,n);if(!s)return Tv(t);const a=n.slice(o);return this.getChildConfig(e,i,n).pipe(j(e=>{const i=e.module,n=e.routes,{segmentGroup:s,slicedSegments:o}=function(e,t,i,n){return i.length>0&&function(e,t,i){return i.some(i=>Ov(e,t,i)&&"primary"!==Pv(i))}(e,i,n)?{segmentGroup:Rv(new Dm(t,function(e,t){const i={};i.primary=t;for(const n of e)""===n.path&&"primary"!==Pv(n)&&(i[Pv(n)]=new Dm([],{}));return i}(n,new Dm(i,e.children)))),slicedSegments:[]}:0===i.length&&function(e,t,i){return i.some(i=>Ov(e,t,i))}(e,i,n)?{segmentGroup:Rv(new Dm(e.segments,function(e,t,i,n){const s={};for(const r of i)Ov(e,t,r)&&!n[Pv(r)]&&(s[Pv(r)]=new Dm([],{}));return Object.assign(Object.assign({},n),s)}(e,i,n,e.children))),slicedSegments:i}:{segmentGroup:e,slicedSegments:i}}(t,r,a,n);return 0===o.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe(L(e=>new Dm(r,e))):0===n.length&&0===o.length?tg(new Dm(r,{})):this.expandSegment(i,s,n,o,"primary",!0).pipe(L(e=>new Dm(r.concat(e.segments),e.children)))}))}getChildConfig(e,t,i){return t.children?tg(new vm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?tg(t._loadedConfig):function(e,t,i){const n=t.canLoad;return n&&0!==n.length?z(n).pipe(L(n=>{const s=e.get(n);let r;if(function(e){return e&&xv(e.canLoad)}(s))r=s.canLoad(t,i);else{if(!xv(s))throw new Error("Invalid CanLoad guard");r=s(t,i)}return Tm(r)})).pipe(ug(),(s=e=>!0===e,e=>e.lift(new Og(s,void 0,e)))):tg(!0);var s}(e.injector,t,i).pipe(j(i=>i?this.configLoader.load(e.injector,t).pipe(L(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(gm(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):tg(new vm([],e))}lineralizeSegments(e,t){let i=[],n=t.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return tg(i);if(n.numberOfChildren>1||!n.children.primary)return Fv(e.redirectTo);n=n.children.primary}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,n){const s=this.createSegmentGroup(e,t.root,i,n);return new Fm(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Im(e,(e,n)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);i[n]=t[s]}else i[n]=e}),i}createSegmentGroup(e,t,i,n){const s=this.createSegments(e,t.segments,i,n);let r={};return Im(t.children,(t,s)=>{r[s]=this.createSegmentGroup(e,t,i,n)}),new Dm(s,r)}createSegments(e,t,i,n){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,n):this.findOrReturn(t,i))}findPosParam(e,t,i){const n=i[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let i=0;for(const n of t){if(n.path===e.path)return t.splice(i),n;i++}return e}}function Av(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const n=(t.matcher||mm)(i,e,t);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Rv(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Dm(e.segments.concat(t.segments),t.children)}return e}function Ov(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0!==i.redirectTo}function Pv(e){return e.outlet||"primary"}class Nv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mv{constructor(e,t){this.component=e,this.route=t}}function Lv(e,t,i){const n=e._root;return function e(t,i,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xm(i);return t.children.forEach(t=>{!function(t,i,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=i?i.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!Rm(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Rm(e.url,t.url)||!Sm(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cv(e,t)||!Sm(e.queryParams,t.queryParams);case"paramsChange":default:return!cv(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Nv(s)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,i,o.component?l?l.children:null:n,s,r),c&&r.canDeactivateChecks.push(new Mv(l&&l.outlet&&l.outlet.component||null,a))}else a&&Hv(i,l,r),r.canActivateChecks.push(new Nv(s)),e(t,null,o.component?l?l.children:null:n,s,r)}(t,o[t.value.outlet],n,s.concat([t.value]),r),delete o[t.value.outlet]}),Im(o,(e,t)=>Hv(e,n.getContext(t),r)),r}(n,t?t._root:null,i,[n.value])}function Vv(e,t,i){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:i).get(e)}function Hv(e,t,i){const n=Xm(e),s=e.value;Im(n,(e,n)=>{Hv(e,s.component?t?t.children.getContext(n):null:t,i)}),i.canDeactivateChecks.push(new Mv(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}const Bv=Symbol("INITIAL_VALUE");function zv(){return Ng(e=>sg(...e.map(e=>e.pipe(Fg(1),function(...e){const t=e[e.length-1];return T(t)?(e.pop(),i=>Vg(e,i,t)):t=>Vg(e,t)}(Bv)))).pipe(Hg((e,t)=>{let i=!1;return t.reduce((e,n,s)=>{if(e!==Bv)return e;if(n===Bv&&(i=!0),!i){if(!1===n)return n;if(s===t.length-1||kv(n))return n}return e},e)},Bv),hg(e=>e!==Bv),L(e=>kv(e)?e:!0===e),Fg(1)))}function jv(e,t){return null!==e&&t&&t(new cm(e)),tg(!0)}function Uv(e,t){return null!==e&&t&&t(new am(e)),tg(!0)}function Gv(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?tg(n.map(n=>cg(()=>{const s=Vv(n,t,i);let r;if(function(e){return e&&xv(e.canActivate)}(s))r=Tm(s.canActivate(t,e));else{if(!xv(s))throw new Error("Invalid CanActivate guard");r=Tm(s(t,e))}return r.pipe(Rg())}))).pipe(zv()):tg(!0)}function qv(e,t,i){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>cg(()=>tg(t.guards.map(s=>{const r=Vv(s,t.node,i);let o;if(function(e){return e&&xv(e.canActivateChild)}(r))o=Tm(r.canActivateChild(n,e));else{if(!xv(r))throw new Error("Invalid CanActivateChild guard");o=Tm(r(n,e))}return o.pipe(Rg())})).pipe(zv())));return tg(s).pipe(zv())}class $v{}class Kv{constructor(e,t,i,n,s,r){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=r}recognize(){try{const e=Yv(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),i=new sv([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Jm(i,t),s=new rv(this.url,n);return this.inheritParamsAndData(s._root),tg(s)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,i=nv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=Om(t,(t,i)=>this.processSegmentGroup(e,t,i));return function(e){const t={};e.forEach(e=>{const i=t[e.value.outlet];if(i){const t=i.url.map(e=>e.toString()).join("/"),n=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${n}'.`)}t[e.value.outlet]=e.value})}(i),i.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,i,n){for(const r of e)try{return this.processSegmentAgainstRoute(r,t,i,n)}catch(s){if(!(s instanceof $v))throw s}if(this.noLeftoversInUrl(t,i,n))return[];throw new $v}noLeftoversInUrl(e,t,i){return 0===t.length&&!e.children[i]}processSegmentAgainstRoute(e,t,i,n){if(e.redirectTo)throw new $v;if((e.outlet||"primary")!==n)throw new $v;let s,r=[],o=[];if("**"===e.path){const r=i.length>0?Em(i).parameters:{};s=new sv(i,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xv(e),n,e.component,e,Wv(t),Zv(t)+i.length,ey(e))}else{const a=function(e,t,i){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||i.length>0))throw new $v;return{consumedSegments:[],lastChild:0,parameters:{}}}const n=(t.matcher||mm)(i,e,t);if(!n)throw new $v;const s={};Im(n.posParams,(e,t)=>{s[t]=e.path});const r=n.consumed.length>0?Object.assign(Object.assign({},s),n.consumed[n.consumed.length-1].parameters):s;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:r}}(t,e,i);r=a.consumedSegments,o=i.slice(a.lastChild),s=new sv(r,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xv(e),n,e.component,e,Wv(t),Zv(t)+r.length,ey(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Yv(t,r,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Jm(s,e)]}if(0===a.length&&0===c.length)return[new Jm(s,[])];const u=this.processSegment(a,l,c,"primary");return[new Jm(s,u)]}}function Wv(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Zv(e){let t=e,i=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,i+=t._segmentIndexShift?t._segmentIndexShift:0;return i-1}function Yv(e,t,i,n,s){if(i.length>0&&function(e,t,i){return i.some(i=>Qv(e,t,i)&&"primary"!==Jv(i))}(e,i,n)){const s=new Dm(t,function(e,t,i,n){const s={};s.primary=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const r of i)if(""===r.path&&"primary"!==Jv(r)){const i=new Dm([],{});i._sourceSegment=e,i._segmentIndexShift=t.length,s[Jv(r)]=i}return s}(e,t,n,new Dm(i,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===i.length&&function(e,t,i){return i.some(i=>Qv(e,t,i))}(e,i,n)){const r=new Dm(e.segments,function(e,t,i,n,s,r){const o={};for(const a of n)if(Qv(e,i,a)&&!s[Jv(a)]){const i=new Dm([],{});i._sourceSegment=e,i._segmentIndexShift="legacy"===r?e.segments.length:t.length,o[Jv(a)]=i}return Object.assign(Object.assign({},s),o)}(e,t,i,n,e.children,s));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:i}}const r=new Dm(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:i}}function Qv(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0===i.redirectTo}function Jv(e){return e.outlet||"primary"}function Xv(e){return e.data||{}}function ey(e){return e.resolve||{}}function ty(e,t,i,n){const s=Vv(e,t,n);return Tm(s.resolve?s.resolve(t,i):s(t,i))}function iy(e){return function(t){return t.pipe(Ng(t=>{const i=e(t);return i?z(i).pipe(L(()=>t)):z([t])}))}}class ny{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const sy=new Ve("ROUTES");class ry{constructor(e,t,i,n){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=n}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(L(i=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=i.create(e);return new vm(km(n.injector.get(sy)).map(Cm),n)}))}loadModuleFactory(e){return"string"==typeof e?z(this.loader.load(e)):Tm(e()).pipe(j(e=>e instanceof Xe?tg(e):z(this.compiler.compileModuleAsync(e))))}}class oy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ay(e){throw e}function ly(e,t,i){return t.parse("/")}function cy(e,t){return tg(null)}let uy=(()=>{class e{constructor(e,t,i,n,s,r,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=i,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E,this.errorHandler=ay,this.malformedUriErrorHandler=ly,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:cy,afterPreactivation:cy},this.urlHandlingStrategy=new oy,this.routeReuseStrategy=new ny,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(Je),this.console=s.get($c);const l=s.get(ou);this.isNgZoneEnabled=l instanceof ou,this.resetConfig(a),this.currentUrlTree=new Fm(new Dm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ry(r,o,e=>this.triggerEvent(new rm(e)),e=>this.triggerEvent(new om(e))),this.routerState=tv(this.currentUrlTree,this.rootComponentType),this.transitions=new Yf({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(hg(e=>0!==e.id),L(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Ng(e=>{let i=!1,n=!1;return tg(e).pipe(Gg(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ng(e=>{const i=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return tg(e).pipe(Ng(e=>{const i=this.transitions.getValue();return t.next(new Yg(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==this.transitions.getValue()?ag:[e]}),Ng(e=>Promise.resolve(e)),(n=this.ngModule.injector,s=this.configLoader,r=this.urlSerializer,o=this.config,function(e){return e.pipe(Ng(e=>function(e,t,i,n,s){return new Dv(e,t,i,n,s).apply()}(n,s,r,e.extractedUrl,o).pipe(L(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),Gg(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,i,n,s){return function(r){return r.pipe(j(r=>function(e,t,i,n,s="emptyOnly",r="legacy"){return new Kv(e,t,i,n,s,r).recognize()}(e,t,r.urlAfterRedirects,i(r.urlAfterRedirects),n,s).pipe(L(e=>Object.assign(Object.assign({},r),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Gg(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Gg(e=>{const i=new em(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(i)}));var n,s,r,o;if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:n,source:s,restoredState:r,extras:o}=e,a=new Yg(i,this.serializeUrl(n),s,r);t.next(a);const l=tv(n,this.rootComponentType).snapshot;return tg(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ag}),iy(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!o})}),Gg(e=>{const t=new tm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),L(e=>Object.assign(Object.assign({},e),{guards:Lv(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(i){return i.pipe(j(i=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=i;return 0===o.length&&0===r.length?tg(Object.assign(Object.assign({},i),{guardsResult:!0})):function(e,t,i,n){return z(e).pipe(j(e=>function(e,t,i,n,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?tg(r.map(r=>{const o=Vv(r,t,s);let a;if(function(e){return e&&xv(e.canDeactivate)}(o))a=Tm(o.canDeactivate(e,t,i,n));else{if(!xv(o))throw new Error("Invalid CanDeactivate guard");a=Tm(o(e,t,i,n))}return a.pipe(Rg())})).pipe(zv()):tg(!0)}(e.component,e.route,i,t,n)),Rg(e=>!0!==e,!0))}(o,n,s,e).pipe(j(i=>i&&"boolean"==typeof i?function(e,t,i,n){return z(t).pipe(jg(t=>z([Uv(t.route.parent,n),jv(t.route,n),qv(e,t.path,i),Gv(e,t.route,i)]).pipe(ug(),Rg(e=>!0!==e,!0))),Rg(e=>!0!==e,!0))}(n,r,e,t):tg(i)),L(e=>Object.assign(Object.assign({},i),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Gg(e=>{if(kv(e.guardsResult)){const t=gm(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Gg(e=>{const t=new im(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),hg(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const i=new Jg(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(i),e.resolve(!1),!1}return!0}),iy(e=>{if(e.guards.canActivateChecks.length)return tg(e).pipe(Gg(e=>{const t=new nm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(e){return e.pipe(j(e=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=e;return s.length?z(s).pipe(jg(e=>function(e,t,i,n){return function(e,t,i,n){const s=Object.keys(e);if(0===s.length)return tg({});if(1===s.length){const r=s[0];return ty(e[r],t,i,n).pipe(L(e=>({[r]:e})))}const r={};return z(s).pipe(j(s=>ty(e[s],t,i,n).pipe(L(e=>(r[s]=e,e))))).pipe(Eg(),L(()=>r))}(e._resolve,e,t,n).pipe(L(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),nv(e,i).resolve),null)))}(e.route,n,t,i)),function(e,t){return arguments.length>=2?function(i){return y(Hg(e,t),gg(1),Sg(t))(i)}:function(t){return y(Hg((t,i,n)=>e(t,i,n+1)),gg(1))(t)}}((e,t)=>e),L(t=>e)):tg(e)}))}),Gg(e=>{const t=new sm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,i}),iy(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!o})}),L(e=>{const t=function(e,t,i){const n=function e(t,i,n){if(n&&t.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const r=function(t,i,n){return i.children.map(i=>{for(const s of n.children)if(t.shouldReuseRoute(s.value.snapshot,i.value))return e(t,i,s);return e(t,i)})}(t,i,n);return new Jm(s,r)}{const n=t.retrieve(i.value);if(n){const e=n.route;return function e(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)e(t.children[n],i.children[n])}(i,e),e}{const n=new iv(new Yf((s=i.value).url),new Yf(s.params),new Yf(s.queryParams),new Yf(s.fragment),new Yf(s.data),s.outlet,s.component,s),r=i.children.map(i=>e(t,i));return new Jm(n,r)}}var s}(e,t._root,i?i._root:void 0);return new ev(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Gg(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(r=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),L(e=>(new Cv(o,e.targetRouterState,e.currentRouterState,a).activate(r),e))),Gg({next(){i=!0},complete(){i=!0}}),(s=()=>{if(!i&&!n){this.resetUrlToCurrentUrlTree();const i=new Jg(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(i),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Kg(s))),Ig(i=>{if(n=!0,(s=i)&&s.ngNavigationCancelingError){const n=kv(i.url);n||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const s=new Jg(e.id,this.serializeUrl(e.extractedUrl),i.message);t.next(s),n?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(i.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const n=new Xg(e.id,this.serializeUrl(e.extractedUrl),i);t.next(n);try{e.resolve(this.errorHandler(i))}catch(r){e.reject(r)}}var s;return ag}));var s,r,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const i="popstate"===e.type?"popstate":"hashchange",n=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,i,n,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){ym(e),this.config=e.map(Cm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:i,queryParams:n,fragment:s,preserveQueryParams:r,queryParamsHandling:o,preserveFragment:a}=t;Sn()&&r&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=i||this.routerState.root,c=a?this.currentUrlTree.fragment:s;let u=null;if(o)switch(o){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=n||null}else u=r?this.currentUrlTree.queryParams:n||null;return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,i,n,s){if(0===i.length)return hv(t.root,t.root,t,n,s);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new dv(!0,0,e);let t=0,i=!1;const n=e.reduce((e,n,s)=>{if("object"==typeof n&&null!=n){if(n.outlets){const t={};return Im(n.outlets,(e,i)=>{t[i]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return"string"!=typeof n?[...e,n]:0===s?(n.split("/").forEach((n,s)=>{0==s&&"."===n||(0==s&&""===n?i=!0:".."===n?t++:""!=n&&e.push(n))}),e):[...e,n]},[]);return new dv(i,t,n)}(i);if(r.toRoot())return hv(t.root,new Dm([],{}),t,n,s);const o=function(e,t,i){if(e.isAbsolute)return new pv(t.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new pv(i.snapshot._urlSegment,!0,0);const n=uv(e.commands[0])?0:1;return function(e,t,i){let n=e,s=t,r=i;for(;r>s;){if(r-=s,n=n.parent,!n)throw new Error("Invalid number of '../'");s=n.segments.length}return new pv(n,!1,s-r)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(r,t,e),a=o.processChildren?mv(o.segmentGroup,o.index,r.commands):gv(o.segmentGroup,o.index,r.commands);return hv(o.segmentGroup,a,t,n,s)}(l,this.currentUrlTree,e,u,c)}navigateByUrl(e,t={skipLocationChange:!1}){Sn()&&this.isNgZoneEnabled&&!ou.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const i=kv(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const i=e[t];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(i){t=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return t}isActive(e,t){if(kv(e))return _m(this.currentUrlTree,e,t);const i=this.parseUrl(e);return _m(this.currentUrlTree,i,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,i)=>{const n=e[i];return null!=n&&(t[i]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Qg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,i,n,s){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o,a,l;s?(o=s.resolve,a=s.reject,l=s.promise):l=new Promise((e,t)=>{o=e,a=t});const c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,i,n){const s=this.urlSerializer.serialize(e);n=n||{},this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,"",Object.assign(Object.assign({},n),{navigationId:i})):this.location.go(s,"",Object.assign(Object.assign({},n),{navigationId:i}))}resetStateAndUrl(e,t,i){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e}),e})(),hy=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.route=t,this.commands=[],null==i&&n.setAttribute(s.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Sn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:py(this.skipLocationChange),replaceUrl:py(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:py(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:py(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Oo(uy),Oo(iv),Po("tabindex"),Oo(Ja),Oo(Wa))},e.\u0275dir=bt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Ko("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),e})(),dy=(()=>{class e{constructor(e,t,i){this.router=e,this.route=t,this.locationStrategy=i,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Qg&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Sn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,i,n){if(0!==e||t||i||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:py(this.skipLocationChange),replaceUrl:py(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:py(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:py(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Oo(uy),Oo(iv),Oo(Wu))},e.\u0275dir=bt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ko("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Ia("href",t.href,Zn),Fo("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Pa]}),e})();function py(e){return""===e||!!e}let fy=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.element=t,this.renderer=i,this.link=n,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof Qg&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(uy),Oo(Wa),Oo(Ja),Oo(hy,8),Oo(dy,8))},e.\u0275dir=bt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,i){var n;1&e&&(Dc(i,hy,!0),Dc(i,dy,!0)),2&e&&(Ic(n=Oc())&&(t.links=n),Ic(n=Oc())&&(t.linksWithHrefs=n))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Pa]}),e})();class gy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new my,this.attachRef=null}}class my{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new gy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let vy=(()=>{class e{constructor(e,t,i,n,s){this.parentContexts=e,this.location=t,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new gc,this.deactivateEvents=new gc,this.name=n||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const i=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,s=new yy(e,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Oo(my),Oo(wl),Oo(Ka),Po("name"),Oo(Wr))},e.\u0275dir=bt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class yy{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===iv?this.route:e===my?this.childContexts:this.parent.get(e,t)}}class by{}class wy{preload(e,t){return tg(null)}}let Cy=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.injector=n,this.preloadingStrategy=s,this.loader=new ry(t,i,t=>e.triggerEvent(new rm(t)),t=>e.triggerEvent(new om(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(hg(e=>e instanceof Qg),jg(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Je);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const i=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;i.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?i.push(this.preloadConfig(e,n)):n.children&&i.push(this.processRoutes(e,n.children));return z(i).pipe(q(),L(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(j(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(We(uy),We(_u),We(iu),We(uo),We(by))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Sy=(()=>{class e{constructor(e,t,i={}){this.router=e,this.viewportScroller=t,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Yg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Qg&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hm&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new hm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e}),e})();const xy=new Ve("ROUTER_CONFIGURATION"),ky=new Ve("ROUTER_FORROOT_GUARD"),Ey=[Xu,{provide:Pm,useClass:Nm},{provide:uy,useFactory:function(e,t,i,n,s,r,o,a={},l,c){const u=new uy(null,e,t,i,n,s,r,km(o));if(l&&(u.urlHandlingStrategy=l),c&&(u.routeReuseStrategy=c),a.errorHandler&&(u.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(u.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=Lu();u.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(u.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(u.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(u.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(u.relativeLinkResolution=a.relativeLinkResolution),u},deps:[Pm,my,Xu,uo,_u,iu,sy,xy,[class{},new se],[class{},new se]]},my,{provide:iv,useFactory:function(e){return e.routerState.root},deps:[uy]},{provide:_u,useClass:Au},Cy,wy,class{preload(e,t){return t().pipe(Ig(()=>tg(null)))}},{provide:xy,useValue:{enableTracing:!1}}];function Iy(){return new Cu("Router",uy)}let Ty=(()=>{class e{constructor(e,t){}static forRoot(t,i){return{ngModule:e,providers:[Ey,Ay(t),{provide:ky,useFactory:Dy,deps:[[uy,new se,new oe]]},{provide:xy,useValue:i||{}},{provide:Wu,useFactory:Fy,deps:[Hu,[new ne(Yu),new se],xy]},{provide:Sy,useFactory:_y,deps:[uy,Wh,xy]},{provide:by,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:wy},{provide:Cu,multi:!0,useFactory:Iy},[Ry,{provide:Vc,multi:!0,useFactory:Oy,deps:[Ry]},{provide:Ny,useFactory:Py,deps:[Ry]},{provide:qc,multi:!0,useExisting:Ny}]]}}static forChild(t){return{ngModule:e,providers:[Ay(t)]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(We(ky,8),We(uy,8))}}),e})();function _y(e,t,i){return i.scrollOffset&&t.setOffset(i.scrollOffset),new Sy(e,t,i)}function Fy(e,t,i={}){return i.useHash?new Ju(e,t):new Qu(e,t)}function Dy(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ay(e){return[{provide:ho,multi:!0,useValue:e},{provide:sy,multi:!0,useValue:e}]}let Ry=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new E}appInitializer(){return this.injector.get(zu,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),i=this.injector.get(uy),n=this.injector.get(xy);if(this.isLegacyDisabled(n)||this.isLegacyEnabled(n))e(!0);else if("disabled"===n.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==n.initialNavigation)throw new Error(`Invalid initialNavigation options: '${n.initialNavigation}'`);i.hooks.afterPreactivation=()=>this.initNavigation?tg(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),i.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(xy),i=this.injector.get(Cy),n=this.injector.get(Sy),s=this.injector.get(uy),r=this.injector.get(Iu);e===r.components[0]&&(this.isLegacyEnabled(t)?s.initialNavigation():this.isLegacyDisabled(t)&&s.setUpLocationChangeListener(),i.setUpPreloading(),n.init(),s.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(We(uo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Oy(e){return e.appInitializer.bind(e)}function Py(e){return e.bootstrapListener.bind(e)}const Ny=new Ve("Router Initializer");function My(e,t){1&e&&(Vo(0,"a",6),Bo(1,"i",7),Vo(2,"span",8),Ca(3,"Samples"),Ho(),Ho())}const Ly=function(e){return{"ar-aside--expanded":e}};let Vy=(()=>{class e{constructor(){this.isAsideExpanded=!1,this.logged=!1,this.isVisible=!1}ngOnInit(){this.isVisible=!0}toggleAside(){this.isAsideExpanded=!this.isAsideExpanded}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-aside"]],decls:10,vars:4,consts:[[1,"ar-aside",3,"ngClass"],[1,"ar-aside__list"],[1,"ar-aside__list-item","ar-aside__list-item--toggler",3,"click"],[1,"ar-aside__list-item-icn","fas","fa-bars"],["routerLink","/home","routerLinkActive","active","class","ar-aside__list-item",4,"ngIf"],[1,"ar-aside__copyright"],["routerLink","/home","routerLinkActive","active",1,"ar-aside__list-item"],[1,"ar-aside__list-item-icn","fas","fa-dice-d6"],[1,"ar-aside__list-item-txt"]],template:function(e,t){1&e&&(Vo(0,"div",0),Vo(1,"ul",1),Vo(2,"li"),Vo(3,"a",2),Ko("click",(function(){return t.toggleAside()})),Bo(4,"i",3),Ho(),Ho(),Vo(5,"li"),Ao(6,My,4,0,"a",4),Ho(),Bo(7,"li"),Ho(),Vo(8,"p",5),Ca(9," \xa9 Shell 2020 "),Ho(),Ho()),2&e&&(Mo("ngClass",tc(2,Ly,t.isAsideExpanded)),ms(6),Mo("ngIf",t.isVisible))},directives:[Oh,Lh,dy,fy],styles:[""]}),e})();var Hy=function(e){return e.Success="Success",e.Error="Error",e.Info="Information",e.Warning="Warning",e}({});let By=(()=>{class e{constructor(){this.subject=new E}getAlert(){return this.subject.asObservable()}success(e){this.alert(Hy.Success,e)}error(e){this.alert(Hy.Error,e)}info(e){this.alert(Hy.Info,e)}warn(e){this.alert(Hy.Warning,e)}alert(e,t){this.subject.next({type:e,message:t})}clear(){this.subject.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function zy(e,t){if(1&e){const e=Go();Vo(0,"section",1),Vo(1,"span",2),Ko("click",(function(){Qt(e);const i=t.$implicit;return Yo().removeAlert(i)})),Ho(),Vo(2,"span",3),Bo(3,"span",4),Ho(),Vo(4,"div",5),Vo(5,"h1",6),Ca(6),Ho(),Vo(7,"p",7),Ca(8),Ho(),Ho(),Ho()}if(2&e){const e=t.$implicit,i=Yo();Mo("ngClass",i.alertType(e)),ms(3),Mo("ngClass",i.alertIcon(e)),ms(3),Sa(e.type),ms(2),Sa(e.message)}}let jy=(()=>{class e{constructor(e){this.toastService=e,this.alerts=[],this.subscribeForAlerts()}subscribeForAlerts(){this.alertSubsription=this.toastService.getAlert().subscribe(e=>{this.alerts.push(e),setTimeout(()=>{this.removeAlert(e)},3e3)})}ngOnInit(){}ngOnDestroy(){this.alertSubsription.unsubscribe()}removeAlert(e){this.alerts=this.alerts.filter(t=>t!==e)}alertType(e){if(e)switch(e.type){case Hy.Success:return"ar-toast--success";case Hy.Error:return"ar-toast--error";case Hy.Info:return"ar-toast--info";case Hy.Warning:return"ar-toast--warning"}}alertIcon(e){if(e)switch(e.type){case Hy.Success:return"fas fa-check";case Hy.Error:return"far fa-times-circle";case Hy.Info:case Hy.Warning:return"fas fa-exclamation-circle"}}}return e.\u0275fac=function(t){return new(t||e)(Oo(By))},e.\u0275cmp=pt({type:e,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","ar-toast ar-toast--active","style","z-index: 1000;",3,"ngClass",4,"ngFor","ngForOf"],[1,"ar-toast","ar-toast--active",2,"z-index","1000",3,"ngClass"],[1,"ar-toast__close","fas","fa-times",3,"click"],[1,"ar-toast__icn"],[3,"ngClass"],["role","alert",1,"ar-toast__content"],[1,"ar-toast__title"],[1,"ar-toast__desc"]],template:function(e,t){1&e&&Ao(0,zy,9,4,"section",0),2&e&&Mo("ngForOf",t.alerts)},directives:[Nh,Oh],styles:[""]}),e})(),Uy=(()=>{class e{constructor(){this.title="Artemis"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"ar-main"],[1,"ar-body"],[1,"ar-body__content"]],template:function(e,t){1&e&&(Vo(0,"main",0),Bo(1,"app-header"),Vo(2,"section",1),Bo(3,"app-aside"),Vo(4,"section",2),Bo(5,"router-outlet"),Bo(6,"app-toast"),Ho(),Ho(),Ho())},directives:[eg,Vy,vy,jy],styles:[""]}),e})();const Gy=(e,t)=>i=>t(e(i)),qy=(e,t,i)=>e.addEventListener&&e.addEventListener(t,i),$y=(e,t,i)=>e&&e.removeEventListener&&e.removeEventListener(t,i),Ky=()=>{},Wy=e=>e.preventDefault(),Zy=/touch/;function Yy(e){return e.type.match(Zy)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var Qy=(()=>{class e{static supportPointerEvent(){return"undefined"!=typeof window&&window.PointerEvent}get document(){return this._element?this._element.ownerDocument:document}constructor({press:e=Ky,drag:t=Ky,release:i=Ky,mouseOnly:n=!1}){this._pressHandler=Gy(Yy,e),this._dragHandler=Gy(Yy,t),this._releaseHandler=Gy(Yy,i),this._ignoreMouse=!1,this._mouseOnly=n,this._touchstart=e=>{1===e.touches.length&&this._pressHandler(e)},this._touchmove=e=>{1===e.touches.length&&this._dragHandler(e)},this._touchend=e=>{0===e.touches.length&&1===e.changedTouches.length&&(this._releaseHandler(e),this._ignoreMouse=!0,setTimeout(this._restoreMouse,2e3))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=e=>{const{which:t}=e;t&&t>1||this._ignoreMouse||(qy(this.document,"mousemove",this._mousemove),qy(this.document,"mouseup",this._mouseup),this._pressHandler(e))},this._mousemove=e=>{this._dragHandler(e)},this._mouseup=e=>{$y(this.document,"mousemove",this._mousemove),$y(this.document,"mouseup",this._mouseup),this._releaseHandler(e)},this._pointerdown=e=>{e.isPrimary&&0===e.button&&(qy(this.document,"pointermove",this._pointermove),qy(this.document,"pointerup",this._pointerup),qy(this.document,"pointercancel",this._pointerup),qy(this.document,"contextmenu",Wy),this._pressHandler(e))},this._pointermove=e=>{e.isPrimary&&this._dragHandler(e)},this._pointerup=e=>{e.isPrimary&&($y(this.document,"pointermove",this._pointermove),$y(this.document,"pointerup",this._pointerup),$y(this.document,"pointercancel",this._pointerup),$y(this.document,"contextmenu",Wy),this._releaseHandler(e))}}bindTo(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}_bindToCurrent(){const e=this._element;this._usePointers()?qy(e,"pointerdown",this._pointerdown):(qy(e,"mousedown",this._mousedown),this._mouseOnly||(qy(e,"touchstart",this._touchstart),qy(e,"touchmove",this._touchmove),qy(e,"touchend",this._touchend)))}_unbindFromCurrent(){const e=this._element;if(this._usePointers())return $y(e,"pointerdown",this._pointerdown),$y(this.document,"pointermove",this._pointermove),$y(this.document,"pointerup",this._pointerup),$y(this.document,"contextmenu",Wy),void $y(this.document,"pointercancel",this._pointerup);$y(e,"mousedown",this._mousedown),this._mouseOnly||($y(e,"touchstart",this._touchstart),$y(e,"touchmove",this._touchmove),$y(e,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&e.supportPointerEvent()}update({press:e=Ky,drag:t=Ky,release:i=Ky,mouseOnly:n=!1}){this._pressHandler=Gy(Yy,e),this._dragHandler=Gy(Yy,t),this._releaseHandler=Gy(Yy,i),this._mouseOnly=n}destroy(){this._unbindFromCurrent(),this._element=null}}return e.default=e,e})();class Jy extends h{constructor(e,t){super()}schedule(e,t=0){return this}}class Xy extends Jy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,n=void 0;try{this.work(e)}catch(s){i=!0,n=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let eb=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class tb extends eb{constructor(e,t=eb.now){super(e,()=>tb.delegate&&tb.delegate!==this?tb.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return tb.delegate&&tb.delegate!==this?tb.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const ib=new tb(Xy);class nb{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new sb(e,this.durationSelector))}}class sb extends M{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:t}=this;i=t(e)}catch(t){return this.destination.error(t)}const n=N(this,i);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,i,n){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function rb(e){return!l(e)&&e-parseFloat(e)+1>=0}function ob(e){const{index:t,period:i,subscriber:n}=e;if(n.next(t),!n.closed){if(-1===i)return n.complete();e.index=t+1,this.schedule(e,i)}}function ab(e,t=ib){return i=()=>function(e=0,t,i){let n=-1;return rb(t)?n=Number(t)<1?1:Number(t):T(t)&&(i=t),T(i)||(i=ib),new w(t=>{const s=rb(e)?e:+e-i.now();return i.schedule(ob,s,{index:0,period:n,subscriber:t})})}(e,t),function(e){return e.lift(new nb(i))};var i}function lb(e,t,i,s){return n(i)&&(s=i,i=void 0),s?lb(e,t,i).pipe(L(e=>l(e)?s(...e):s(e))):new w(n=>{!function e(t,i,n,s,r){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(i,n,r),o=()=>e.removeEventListener(i,n,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(i,n),o=()=>e.off(i,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(i,n),o=()=>e.removeListener(i,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],i,n,s,r)}s.add(o)}(e,t,(function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),n,i)})}const cb=()=>"undefined"!=typeof document,ub=(e,t,i=!0)=>!(void 0===t[e]||t[e].isFirstChange()&&i||t[e].previousValue===t[e].currentValue),hb=(e,t,i=!0)=>e.some(e=>ub(e,t,i)),db=e=>e&&e.observers.length>0,pb=()=>{let e="";for(let t=0;t<32;t++){const i=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&i|8:i).toString(16)}return e};let fb=(()=>{class e{constructor(e,t){this.element=e,this.ngZone=t,this.enableDrag=!0,this.kendoPress=new gc,this.kendoDrag=new gc,this.kendoRelease=new gc}ngOnInit(){this.toggleDraggable()}ngOnChanges(e){ub("enableDrag",e)&&this.toggleDraggable()}ngOnDestroy(){this.destroyDraggable()}toggleDraggable(){cb()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new Qy({drag:e=>this.kendoDrag.next(e),press:e=>this.kendoPress.next(e),release:e=>this.kendoRelease.next(e)}),this.ngZone.runOutsideAngular(()=>this.draggable.bindTo(this.element.nativeElement))))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[Pa]}),e})(),gb=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})(),mb=(()=>{class e{constructor(e,t,i){this.element=e,this.ngZone=t,this.renderer=i,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let t in e)e.hasOwnProperty(t)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,t,this.scope?e[t].bind(this.scope):e[t]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(ou),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),e})(),vb=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})();class yb{constructor(e){this.resizeBatchService=e,this.resize=new gc,this.acceptedSize=!1,this.state=0}acceptSize(e=this.measure()){this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}checkChanges(){cb()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:e,height:t}=this.measure();return e===this.lastWidth&&t===this.lastHeight?void 0:(this.lastWidth=e,this.lastHeight=t,this.acceptedSize=!1,this.resize.emit(),!0)}initSize(){const e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}measure(){let e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}const bb=e=>{const t=document.createElement("div");return t.style.cssText=e,t},wb="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class Cb extends yb{constructor(e,t,i){super(e),this.element=t,this.ngZone=i}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const e=this.parentElement=this.element.nativeElement.parentElement;"static"===getComputedStyle(e,null).getPropertyValue("position")&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const e=this.element.nativeElement;e.style.cssText=wb,e.setAttribute("dir","ltr"),this.expand=bb(wb),this.expandChild=bb("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=bb(wb);const t=bb("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}reset(){const e=this.expandChild;e.style.width="100000px",e.style.height="100000px";const t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;const i=this.shrink;i.scrollLeft=1e5,i.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=K(lb(this.shrink,"scroll"),lb(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const Sb="undefined"!=typeof ResizeObserver;class xb extends yb{constructor(e,t,i){super(e),this.element=t,this.ngZone=i}static supported(){return Sb}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let kb=(()=>{class e{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,t){this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=z(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(t=>t.instance===e))}cancel(e){const t=this.scheduled,i=t.length;for(let n=0;n<i;n++)if(t[n].instance===e)return t.splice(n,1),void(t.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Eb=(()=>{class e{constructor(e,t,i){this.rateLimit=10,this.resize=new gc;const n=xb.supported()?xb:Cb;this.resizeService=new n(e,t,i),this.subscription=this.resizeService.resize.pipe(ab(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(kb),Oo(Wa),Oo(ou))},e.\u0275cmp=pt({type:e,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),Ib=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[kb]}),e})();class Tb{}var _b=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({});function Fb(e=0,t=ib){return(!rb(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=ib),new w(i=>(i.add(t.schedule(Db,e,{subscriber:i,counter:0,period:e})),i))}function Db(e){const{subscriber:t,counter:i,period:n}=e;t.next(i),this.schedule({subscriber:t,counter:i+1,period:n},n)}class Ab{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Rb(e,this.resultSelector))}}class Rb extends f{constructor(e,t,i=Object.create(null)){super(e),this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:null,this.values=i}_next(e){const t=this.iterators;l(e)?t.push(new Pb(e)):t.push("function"==typeof e[A]?new Ob(e[A]()):new Nb(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let i=0;i<t;i++){let t=e[i];t.stillUnsubscribed?this.destination.add(t.subscribe(t,i)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,i=this.destination;for(let r=0;r<t;r++){let t=e[r];if("function"==typeof t.hasValue&&!t.hasValue())return}let n=!1;const s=[];for(let r=0;r<t;r++){let t=e[r],o=t.next();if(t.hasCompleted()&&(n=!0),o.done)return void i.complete();s.push(o.value)}this.resultSelector?this._tryresultSelector(s):i.next(s),n&&i.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}class Ob{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return e&&e.done}}class Pb{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[A](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Nb extends M{constructor(e,t,i){super(e),this.parent=t,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[A](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e,t,i,n,s){this.buffer.push(t),this.parent.checkIterators()}subscribe(e,t){return N(this,this.observable,this,t)}}class Mb{constructor(e){this.total=e}call(e,t){return t.subscribe(new Lb(e,this.total))}}class Lb extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let Vb=(()=>{class e{constructor(){this.changes=new E}notify(e){this.changes.next({rtl:e})}get(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Hb=(()=>{class e{get override(){return!1}ngOnChanges(e){this.register(e),Object.keys(e).some(t=>!e[t].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe((1,e=>e.lift(new Mb(1)))).subscribe(()=>this.register(this))}register(e){Object.keys(e).forEach(e=>this.service.register(e,this[e],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,features:[Pa]}),e})();const Bb=new Ve("Kendo UI Right-to-Left token"),zb=new Ve("Localization key prefix");let jb=(()=>{class e{constructor(e,t,i){this.prefix=e,this.messageService=t,this._rtl=i,this.changes=new Yf({rtl:this._rtl}),this.dictionary={},t&&(this.subscription=t.changes.pipe(L(({rtl:e})=>void 0!==e?e:this._rtl),Gg(e=>this._rtl=e)).subscribe(e=>{this.dictionary={},this.changes.next({rtl:e})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){const t=this.key(e);return this.dictionary[t]}register(e,t,i=!1){const n=this.key(e);let s=t;if(!i){if(this.dictionary.hasOwnProperty(n))return;s=this.defaultValue(n,t)}this.dictionary[n]=s}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,t){if(!this.messageService)return t;const i=this.messageService.get(e);return void 0===i?t:i}}return e.\u0275fac=function(t){return new(t||e)(We(zb),We(Vb,8),We(Bb,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function Ub(e){return t=>t.lift(new Gb(e))}class Gb{constructor(e){this.notifier=e}call(e,t){const i=new qb(e),n=N(i,this.notifier);return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}class qb extends M{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,i,n,s){this.seenValue=!0,this.complete()}notifyComplete(){}}function $b(e,t){return t?Ng(()=>e,t):Ng(()=>e)}function Kb(e){return e instanceof Date&&!isNaN(+e)}function Wb(e,t){return new w(t?i=>t.schedule(Zb,0,{error:e,subscriber:i}):t=>t.error(e))}function Zb({error:e,subscriber:t}){t.error(e)}let Yb=(()=>{class e{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return tg(this.value);case"E":return Wb(this.error);case"C":return lg()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function Qb(e,t=ib){const i=Kb(e)?+e-t.now():Math.abs(e);return e=>e.lift(new Jb(i,t))}class Jb{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Xb(e,this.delay,this.scheduler))}}class Xb extends f{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,n=e.scheduler,s=e.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(s);if(i.length>0){const t=Math.max(0,i[0].time-n.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Xb.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new ew(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Yb.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Yb.createComplete()),this.unsubscribe()}}class ew{constructor(e,t){this.time=e,this.notification=t}}class tw{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new iw(e,this.compare,this.keySelector))}}class iw extends f{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}const nw={leading:!0,trailing:!1};class sw{constructor(e,t,i,n){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=n}call(e,t){return t.subscribe(new rw(e,this.duration,this.scheduler,this.leading,this.trailing))}}class rw extends f{constructor(e,t,i,n,s){super(e),this.duration=t,this.scheduler=i,this.leading=n,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ow,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function ow(e){const{subscriber:t}=e;t.clearThrottle()}class aw{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new lw(e,this.dueTime,this.scheduler))}}class lw extends f{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cw,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function cw(e){e.debouncedNext()}class uw{constructor(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?dw:hw}call(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class hw extends f{constructor(e,t){super(e),this.bufferSize=t,this.buffer=[]}_next(e){const t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class dw extends f{constructor(e,t,i){super(e),this.bufferSize=t,this.startBufferEvery=i,this.buffers=[],this.count=0}_next(e){const{bufferSize:t,startBufferEvery:i,buffers:n,count:s}=this;this.count++,s%i==0&&n.push([]);for(let r=n.length;r--;){const i=n[r];i.push(e),i.length===t&&(n.splice(r,1),this.destination.next(i))}}_complete(){const{buffers:e,destination:t}=this;for(;e.length>0;){let i=e.shift();i.length>0&&t.next(i)}super._complete()}}function pw(e,t){return new w(i=>{const n=e.length;if(0===n)return void i.complete();const s=new Array(n);let r=0,o=0;for(let a=0;a<n;a++){const l=z(e[a]);let c=!1;i.add(l.subscribe({next:e=>{c||(c=!0,o++),s[a]=e},error:e=>i.error(e),complete:()=>{r++,r!==n&&c||(o===n&&i.next(t?t.reduce((e,t,i)=>(e[t]=s[i],e),{}):s),i.complete())}}))}})}const fw=new Ve("NgValueAccessor"),gw={provide:fw,useExisting:xe(()=>mw),multi:!0};let mw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(Ja),Oo(Wa))},e.\u0275dir=bt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Ko("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[Ga([gw])]}),e})();const vw={provide:fw,useExisting:xe(()=>bw),multi:!0},yw=new Ve("CompositionEventMode");let bw=(()=>{class e{constructor(e,t,i){this._renderer=e,this._elementRef=t,this._compositionMode=i,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Lu()?Lu().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(Ja),Oo(Wa),Oo(yw,8))},e.\u0275dir=bt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Ko("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[Ga([vw])]}),e})(),ww=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e}),e})(),Cw=(()=>{class e extends ww{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return Sw(t||e)},e.\u0275dir=bt({type:e,features:[_a]}),e})();const Sw=on(Cw);function xw(){throw new Error("unimplemented")}class kw extends ww{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return xw()}get asyncValidator(){return xw()}}class Ew{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let Iw=(()=>{class e extends Ew{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(kw,2))},e.\u0275dir=bt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&ua("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[_a]}),e})(),Tw=(()=>{class e extends Ew{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(Cw,2))},e.\u0275dir=bt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&ua("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[_a]}),e})();function _w(e){return null==e||0===e.length}const Fw=new Ve("NgValidators"),Dw=new Ve("NgAsyncValidators"),Aw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rw{static min(e){return t=>{if(_w(t.value)||_w(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(_w(t.value)||_w(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}static required(e){return _w(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return _w(e.value)||Aw.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(_w(t.value))return null;const i=t.value?t.value.length:0;return i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}static maxLength(e){return t=>{const i=t.value?t.value.length:0;return i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}static pattern(e){if(!e)return Rw.nullValidator;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(_w(e.value))return null;const n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Ow);return 0==t.length?null:function(e){return Nw(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Ow);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return pw(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return pw(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return pw(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(L(e=>t(...e)))}return pw(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(Pw)).pipe(L(Nw))}}}function Ow(e){return null!=e}function Pw(e){const t=qo(e)?z(e):e;if(!$o(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Nw(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Mw(e){return e.validate?t=>e.validate(t):e}function Lw(e){return e.validate?t=>e.validate(t):e}const Vw={provide:fw,useExisting:xe(()=>Hw),multi:!0};let Hw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(Ja),Oo(Wa))},e.\u0275dir=bt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Ko("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Ga([Vw])]}),e})();const Bw={provide:fw,useExisting:xe(()=>jw),multi:!0};let zw=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),jw=(()=>{class e{constructor(e,t,i,n){this._renderer=e,this._elementRef=t,this._registry=i,this._injector=n,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(kw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(Oo(Ja),Oo(Wa),Oo(zw),Oo(uo))},e.\u0275dir=bt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Ko("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ga([Bw])]}),e})();const Uw={provide:fw,useExisting:xe(()=>Gw),multi:!0};let Gw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(Ja),Oo(Wa))},e.\u0275dir=bt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Ko("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Ga([Uw])]}),e})();const qw='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',$w='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Kw='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Ww{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+qw)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${$w}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Kw}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+qw)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+$w)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Zw={provide:fw,useExisting:xe(()=>Yw),multi:!0};let Yw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=bo}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const i=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",i)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Oo(Ja),Oo(Wa))},e.\u0275dir=bt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Ko("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ga([Zw])]}),e})();const Qw={provide:fw,useExisting:xe(()=>Jw),multi:!0};let Jw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=bo}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const i=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(i.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const i=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const n=e.item(t),s=this._getOptionValue(n.value);i.push(s)}}else{const e=t.options;for(let t=0;t<e.length;t++){const n=e.item(t);if(n.selected){const e=this._getOptionValue(n.value);i.push(e)}}}this.value=i,e(i)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Oo(Ja),Oo(Wa))},e.\u0275dir=bt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Ko("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ga([Qw])]}),e})();function Xw(e,t){return[...t.path,e]}function eC(e,t){e||iC(t,"Cannot find control with"),t.valueAccessor||iC(t,"No value accessor for form control with"),e.validator=Rw.compose([e.validator,t.validator]),e.asyncValidator=Rw.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&tC(e,t)})}(e,t),function(e,t){e.registerOnChange((e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&tC(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function tC(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function iC(e,t){let i;throw i=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${i}`)}function nC(e){return null!=e?Rw.compose(e.map(Mw)):null}function sC(e){return null!=e?Rw.composeAsync(e.map(Lw)):null}function rC(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!bo(t,i.currentValue)}const oC=[mw,Gw,Hw,Yw,Jw,jw];function aC(e,t){if(!t)return null;Array.isArray(t)||iC(e,"Value accessor was not provided as an array for form control with");let i=void 0,n=void 0,s=void 0;return t.forEach(t=>{var r;t.constructor===bw?i=t:(r=t,oC.some(e=>r.constructor===e)?(n&&iC(e,"More than one built-in value accessor matches form control with"),n=t):(s&&iC(e,"More than one custom value accessor matches form control with"),s=t))}),s||n||i||(iC(e,"No valid value accessor for form control with"),null)}function lC(e){const t=uC(e)?e.validators:e;return Array.isArray(t)?nC(t):t||null}function cC(e,t){const i=uC(t)?t.asyncValidators:e;return Array.isArray(i)?sC(i):i||null}function uC(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class hC{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=lC(e)}setAsyncValidators(e){this.asyncValidator=cC(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=Pw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,i){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let n=e;return t.forEach(e=>{n=n instanceof pC?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof fC&&n.at(e)||null}),n}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new gc,this.statusChanges=new gc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class dC extends hC{constructor(e=null,t,i){super(lC(t),cC(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class pC extends hC{constructor(e,t,i){super(lC(t),cC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof dC?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((i,n)=>{t=t||this.contains(n)&&e(i)}),t}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((e,n)=>{i=t(i,e,n)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class fC extends hC{constructor(e,t,i){super(lC(t),cC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof dC?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const gC={provide:Cw,useExisting:xe(()=>vC)},mC=(()=>Promise.resolve(null))();let vC=(()=>{class e extends Cw{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new gc,this.form=new pC({},nC(e),sC(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){mC.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),eC(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){mC.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}(this._directives,e)})}addFormGroup(e){mC.then(()=>{const t=this._findContainer(e.path),i=new pC({});(function(e,t){null==e&&iC(t,"Cannot find control with"),e.validator=Rw.compose([e.validator,t.validator]),e.asyncValidator=Rw.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),t.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){mC.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){mC.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Oo(Fw,10),Oo(Dw,10))},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Ko("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ga([gC]),_a]}),e})(),yC=(()=>{class e extends Cw{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Xw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return nC(this._validators)}get asyncValidator(){return sC(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return bC(t||e)},e.\u0275dir=bt({type:e,features:[_a]}),e})();const bC=on(yC);class wC{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${qw}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${$w}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Kw}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${$w}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Kw}`)}}const CC={provide:Cw,useExisting:xe(()=>SC)};let SC=(()=>{class e extends yC{constructor(e,t,i){super(),this._parent=e,this._validators=t,this._asyncValidators=i}_checkParentType(){this._parent instanceof e||this._parent instanceof vC||wC.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(Oo(Cw,5),Oo(Fw,10),Oo(Dw,10))},e.\u0275dir=bt({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ga([CC]),_a]}),e})();const xC={provide:kw,useExisting:xe(()=>EC)},kC=(()=>Promise.resolve(null))();let EC=(()=>{class e extends kw{constructor(e,t,i,n){super(),this.control=new dC,this._registered=!1,this.update=new gc,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=i||[],this.valueAccessor=aC(this,n)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),rC(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Xw(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return nC(this._rawValidators)}get asyncValidator(){return sC(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eC(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof SC)&&this._parent instanceof yC?wC.formGroupNameException():this._parent instanceof SC||this._parent instanceof vC||wC.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||wC.missingNameException()}_updateValue(e){kC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,i=""===t||t&&"false"!==t;kC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Oo(Cw,9),Oo(Fw,10),Oo(Dw,10),Oo(fw,10))},e.\u0275dir=bt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ga([xC]),_a,Pa]}),e})(),IC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const TC=new Ve("NgModelWithFormControlWarning"),_C={provide:kw,useExisting:xe(()=>FC)};let FC=(()=>{class e extends kw{constructor(e,t,i,n){super(),this._ngModelWarningConfig=n,this.update=new gc,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=aC(this,i)}set isDisabled(e){Ww.disabledAttrWarning()}ngOnChanges(t){var i,n;this._isControlChanged(t)&&(eC(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),rC(t,this.viewModel)&&("formControl",i=e,this,n=this._ngModelWarningConfig,Sn()&&"never"!==n&&((null!==n&&"once"!==n||i._ngModelWarningSentOnce)&&("always"!==n||this._ngModelWarningSent)||(Ww.ngModelWarning("formControl"),i._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return nC(this._rawValidators)}get asyncValidator(){return sC(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(Oo(Fw,10),Oo(Dw,10),Oo(fw,10),Oo(TC,8))},e.\u0275dir=bt({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Ga([_C]),_a,Pa]}),e._ngModelWarningSentOnce=!1,e})();const DC={provide:Fw,useExisting:xe(()=>AC),multi:!0};let AC=(()=>{class e{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?Rw.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&Fo("required",t.required?"":null)},inputs:{required:"required"},features:[Ga([DC])]}),e})();const RC={provide:Fw,useExisting:xe(()=>OC),multi:!0};let OC=(()=>{class e{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=Rw.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Fo("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ga([RC]),Pa]}),e})(),PC=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),NC=(()=>{class e{group(e,t=null){const i=this._reduceControls(e);let n=null,s=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(n=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(n=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new pC(i,{asyncValidators:s,updateOn:r,validators:n})}control(e,t,i){return new dC(e,t,i)}array(e,t,i){const n=e.map(e=>this._createControl(e));return new fC(n,t,i)}_reduceControls(e){const t={};return Object.keys(e).forEach(i=>{t[i]=this._createControl(e[i])}),t}_createControl(e){return e instanceof dC||e instanceof pC||e instanceof fC?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),MC=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[zw],imports:[PC]}),e})(),LC=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:TC,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[NC,zw],imports:[PC]}),e})();var VC,HC,BC=["vvjmBve=","DhLWzq==","rM5KAM8=","z21bCfO=","y29Kzq==","C2nYAxb0s2v5","CgfYC2u=","zffeyxy=","ChjVzhvJDhm=","DgLTzxn0yw1W","r2ffv0C=","B2jQzwn0","D3r2twO=","zgf0yq==","B2z1BvG=","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","swvIzwC=","uhjVz3jLC3mG","C2v0","D2fYBG==","BMfTzq==","zg9JC1vYBa==","A0LRreO=","z3jVDxbfBMq=","vfzMs1O=","zNvUy3rPB24=","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","ChjVzhvJDe5HBwu=","z3jVDxa=","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","BMLUAu4=","z2v0","BgvUz3rO","uhDTvg0=","wKnNs0S=","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","wNzfD2i=","B3LJz3C=","AKfdDMG=","zMLUza==","yufOzgq=","ChjVzhvJDenVzgvZ","tM8GBgLJzw5ZzsbMB3vUzc4k","ChvIBgLZAerHDgu=","C0v4EKy=","u2vLia==","BgLJzw5ZAw5Nrg9JC1vYBa==","CgfJA2fNzu5HBwu=","zxHWAxj5rgf0zq==","rgrushO=","CfLSqMi=","Dw5KzwzPBMvK","DMvYC2LVBG==","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG","AMfxD3G=","AgfZ","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","CMzsEvu=","Dg9mB2nHBgvtDhjPBMC=","txHWC0G=","CwvOAfG="];VC=BC,HC=415,function(e){for(;--e;)VC.push(VC.shift())}(++HC);var zC=function(e,t){var i=BC[e-=0];void 0===zC.uXIQOS&&(zC.BZzwkU=function(e){for(var t=function(e){for(var t,i,n=String(e).replace(/=+$/,""),s="",r=0,o=0;i=n.charAt(o++);~i&&(t=r%4?64*t+i:i,r++%4)?s+=String.fromCharCode(255&t>>(-2*r&6)):0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);return s}(e),i=[],n=0,s=t.length;n<s;n++)i+="%"+("00"+t.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(i)},zC.hCUrbZ={},zC.uXIQOS=!0);var n=zC.hCUrbZ[e];return void 0===n?(i=zC.BZzwkU(i),zC.hCUrbZ[e]=i):i=n,i},jC={data:"  {}  "},UC=new Map;function GC(e){if(UC[zC("0x6")](e[zC("0x20")])&&zC("0xb")!==zC("0xa"))return UC[zC("0x2b")](e[zC("0x20")]);var t,i,n,s=e[zC("0x3")]?" v"+e[zC("0x3")]:"",r=e[zC("0x20")]+s,o=JSON[zC("0x12")](jC[zC("0x19")]),a=!o[zC("0x11")]&&!o[zC("0x15")],l=o[zC("0x11")]&&typeof KendoLicensing===zC("0x2"),c=function(e,t){var i=e[zC("0x14")];if(!(i&&i[zC("0x2c")]||zC("0x38")!=zC("0x38")))return null;var n=new Set(t);return i[zC("0x33")]((function(e){if(zC("0x13")!==zC("0x22"))return n[zC("0x6")](e[zC("0x10")])}))}(o,e[zC("0x35")]);if(a||l?zC("0x2e")!==zC("0x1c")&&(t={type:0,packageName:r,docsUrl:e[zC("0x3a")]}):zC("0x34")!==zC("0x1")&&(c?zC("0x24")!==zC("0x32")&&c[zC("0x7")]<e[zC("0x37")]&&zC("0x30")==zC("0x30")&&(t={type:2,packageName:r,publishDate:qC(e[zC("0x37")]),expiryDate:qC(c[zC("0x7")]),docsUrl:e[zC("0x3a")]}):zC("0x2a")==zC("0x2a")&&(t={type:1,packageName:r,docsUrl:e[zC("0x3a")]})),t&&typeof console===zC("0x17")&&zC("0x0")!==zC("0x8")){var u=zC("0x1d")+e[zC("0x27")],h=typeof console[zC("0x28")]===zC("0x25");h?zC("0xc")!=zC("0xc")||console[zC("0x28")](u):zC("0x18")==zC("0x18")&&console[zC("0x1f")](u),console[zC("0x1f")]((i=t,n=zC("0x4")+i[zC("0x3b")]+"\n",2===i[zC("0xd")]?zC("0x16")!==zC("0x1a")&&(n+=zC("0x26")+i[zC("0x3c")][zC("0x9")]()+zC("0x2f")+i[zC("0x37")][zC("0x9")]()+".\n"):0===i[zC("0xd")]?zC("0x2d")==zC("0x2d")&&(n+=zC("0x36")):1===i[zC("0xd")]&&(zC("0xe")===zC("0xf")||(n+=zC("0x29"))),n+(zC("0x39")+i[zC("0x21")]+zC("0x1b")))),h&&(zC("0x5")===zC("0x31")||console[zC("0x23")]())}var d=!t;return UC[zC("0x1e")](e[zC("0x20")],d),d}function qC(e){return new Date(1e3*e)}const $C=e=>null!=e,KC=e=>null==e,WC=e=>Array.isArray(e),ZC=e=>"function"==typeof e,YC=e=>"string"==typeof e,QC=e=>!isNaN(e-parseFloat(e)),JC=e=>e&&e.getTime,XC=e=>$C(e.filters),eS=(e,t,i)=>n=>e(n)?t(n):i(n),tS=(...e)=>t=>e.reduceRight((e,t)=>t(e),t),iS=e=>{e.filters&&(e.filters=e.filters.map(e=>{const t=Object.assign({},e);return!XC(e)&&YC(e.operator)&&(t.operator=(e=>({"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[e.toLowerCase()]||e))(e.operator)),XC(e)&&iS(t),t}))},nS=e=>($C(e)&&(e=(e=>XC(e)?Object.assign({},e):{filters:WC(e)?e:[e],logic:"and"})(e),iS(e)),e),sS={},rS=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;sS[void 0]=e=>e;const oS=(e,t)=>{const i=e+t;if(sS[i])return sS[i];const n=[];return e.replace(rS,(e,t,i,s)=>{n.push($C(t)?t:i||s)}),sS[i]=e=>{let i=e;for(let s=0;s<n.length;s++)if(i=i[n[s]],!$C(i)&&t)return i;return i},sS[i]},aS=e=>t=>[e,t],lS=()=>null,cS=e=>t=>$C(e(t)),uS=e=>t=>(e=>$C(e)&&WC(e)&&e.length>0)(e(t)),hS=(e,t)=>eS(e,t,lS),dS=(e,t)=>i=>e(i).map(t).join("~"),pS=tS(...[['"',""],[":","-"]].map(([e,t])=>i=>i.replace(new RegExp(e,"g"),t))),fS=e=>e.slice(0,e.indexOf(".")),gS=({field:e,dir:t="asc"})=>`${e}-${t}`,mS=oS("take"),vS=oS("aggregates"),yS=oS("skip"),bS=oS("group"),wS=oS("sort",!0),CS=dS(wS,gS),SS=dS(bS,gS),xS=dS(vS,({field:e,aggregate:t})=>`${e}-${t}`),kS=tS(e=>`datetime'${e}'`,fS,pS,JSON.stringify,e=>new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))),ES=tS(aS("page"),({skip:e,take:t})=>Math.floor((e||0)/t)+1),IS=tS(aS("pageSize"),mS),TS=tS(aS("group"),SS),_S=tS(aS("sort"),CS),FS=tS(aS("aggregate"),xS),DS=(hS(cS(yS),ES),hS(cS(mS),IS),hS(uS(bS),TS),hS(cS(vS),FS),tS(hS(uS(wS),_S),e=>Object.assign({},e,{sort:(wS(e)||[]).filter(({dir:e})=>!(e=>KC(e)||0===e.trim().length)(e))})),({field:e,operator:t,value:i})=>`${e}~${t}~${i}`),AS=(eS(e=>JC(e.value),tS(DS,({field:e,value:t,ignoreCase:i,operator:n})=>({value:kS(t),field:e,ignoreCase:i,operator:n})),DS),(e,t,i)=>(t[e]=i,t)),RS=e=>t=>{const i=t[e];return $C(i)?i:t[(n=e,n.replace(/(^[A-Z])/g,(e,t)=>t.toLowerCase()))];var n},OS=(RS("Member"),RS("AggregateMethodName"),RS("Value"),e=>t=>Object.keys(t).reduce(e.bind(null,t),{})),PS=OS((e,t,i)=>AS(i.toLowerCase(),t,e[i])),NS=OS((e,t,i)=>AS(i,t,PS(e[i]))),MS=(e,t)=>$C(e)?e:t,LS=tS(({field:e,hasSubgroups:t,value:i,aggregates:n,items:s})=>({aggregates:NS(n),field:e,items:t?s.map(LS):s,value:i}),e=>({aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:MS(e.Key,MS(e.key,e.value))})),VS=(e,t)=>KC(e)?e===t?0:-1:KC(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0,HS=(e,t)=>VS(t,e),BS=e=>{const t=oS(e.field,!0);return(i,n)=>("asc"===e.dir?VS:HS)(t(i),t(n))},zS=(e,t)=>0,jS=(e,t)=>(e.push(t),e),US=e=>t=>(i,n,s)=>t(i,e(n,s)),GS=e=>t=>(i,n)=>e(n)?t(i,n):i,qS=e=>$C(e.__value),$S=(e,t,i)=>{let n=t;for(let s=0,r=i.length;s<r;s++)if(n=e(n,i[s],s),qS(n)){n=n.__value;break}return n},KS=US(e=>e),WS={or:{concat:(e,t)=>i=>e(i)||t(i),identity:()=>!1},and:{concat:(e,t)=>i=>e(i)&&t(i),identity:()=>!0}},ZS={contains:(e,t)=>(e||"").indexOf(t)>=0,doesnotcontain:(e,t)=>-1===(e||"").indexOf(t),doesnotendwith:(e,t)=>(e||"").indexOf(t,(e||"").length-(t||"").length)<0,doesnotstartwith:(e,t)=>-1===(e||"").lastIndexOf(t,0),endswith:(e,t)=>(e||"").indexOf(t,(e||"").length-(t||"").length)>=0,eq:(e,t)=>e===t,gt:(e,t)=>e>t,gte:(e,t)=>e>=t,isempty:e=>""===e,isnotempty:e=>""!==e,isnotnull:e=>$C(e),isnull:e=>KC(e),lt:(e,t)=>e<t,lte:(e,t)=>e<=t,neq:(e,t)=>e!=t,startswith:(e,t)=>0===(e||"").lastIndexOf(t,0)},YS=/^\/Date\((.*?)\)\/$/,QS=e=>{const t=WS[e.logic];return e.filters.filter($C).map(e=>XC(e)?QS(e):(({field:e,ignoreCase:t,value:i,operator:n})=>{e=$C(e)?e:e=>e,t=!$C(t)||t;const s=((e,t,i)=>{if(!$C(t))return e;let n=e;if(YC(t)){const s=YS.exec(t);s?t=new Date(+s[1]):n=t=>{const n=e(t);return"string"==typeof n&&i?n.toLowerCase():QC(n)?n+"":n}}return JC(t)?e=>{const t=n(e);return JC(t)?t.getTime():t}:n})(ZC(e)?e:oS(e,!0),i,t);i=((e,t)=>{if(null!=e&&YC(e)){const i=YS.exec(e);if(i)return new Date(+i[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&JC(e))return e.getTime();return e})(i,t);const r=ZC(n)?n:ZS[n];return e=>r(s(e),i,t)})(e)).reduce(t.concat,t.identity)},JS=e=>e&&0!==e.filters.length?QS(e):()=>!0,XS=e=>(e=WC(e)?e:[e]).map(e=>Object.assign({dir:"asc"},e)),ex=US(e=>e),tx=(e,t=[],i=ex,n=e)=>{if(!(t=XS(t)).length)return e;const s=t[0],r=$S(i((e=>{const t=oS(e,!0);let i=0;return(n,s)=>{n[e]=n[e]||{};const r=t(s),o=(e=>(e=$C(e)&&e.getTime?e.getTime():e)+"")(r),a=n[e][o]||{__position:i++,aggregates:{},items:[],value:r};return a.items.push(s),n[e][o]=a,n}})(s.field)),{},e),o=[];return Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(i=>{const a=r[e][i];let l={},c=n;$C(s.aggregates)&&(c=((e,t)=>!$C(t)||XC(t)&&0===t.filters.length?e:e.filter(JS(nS(t))))(n,{field:s.field,ignoreCase:!1,operator:"eq",value:a.value}),l=((e,t=[],i=KS)=>{const n={};return t.length?((e={})=>(Object.keys(e).forEach(t=>{const i=e[t];Object.keys(i).forEach(e=>{i[e]=i[e].result()})}),e))($S(i((e=>{const t=e.map(e=>{const t=oS(e.field,!0),i=(e.aggregate||"").toLowerCase(),n=oS(i,!0);return(s,r)=>{const o=s[e.field]||{},a=n(o)||{average:()=>{let e=0,t=0;return{calc:i=>{QC(i)?(e+=i,t++):e=i},result:()=>QC(e)?e/t:e}},count:()=>{let e=0;return{calc:()=>e++,result:()=>e}},max:()=>{let e=Number.NEGATIVE_INFINITY;return{calc:t=>{e=QC(e)||JC(e)?e:t,e<t&&(QC(t)||JC(t))&&(e=t)},result:()=>e}},min:()=>{let e=Number.POSITIVE_INFINITY;return{calc:t=>{e=QC(e)||JC(e)?e:t,e>t&&(QC(t)||JC(t))&&(e=t)},result:()=>e}},sum:()=>{let e=0;return{calc:t=>{t=$C(t)?t:0,e+=t},result:()=>e}}}[i]();return a.calc(t(r)),o[e.aggregate]=a,s[e.field]=o,s}});return(e,i)=>t.reduce((e,t)=>t(e,i),e)})(t)),n,e)):n})(c,s.aggregates)),o[a.__position]={aggregates:l,field:e,items:t.length>1?tx(a.items,t.slice(1),ex,c):a.items,value:a.value}})}),o},ix=(e,t,i,n)=>{if(i-t<2)return;const s=t+i>>>1;ix(e,t,s,n),ix(e,s,i,n),((e,t,i,n,s)=>{let r=i-t,o=n-i;const a=[];for(let h=0;h<r;h++)a.push(e[t+h]);let l=0,c=i,u=t;do{s(e[c],a[l])<0?(e[u++]=e[c++],o--):(e[u++]=a[l++],r--)}while(o>0&&r>0);for(;r;)e[u++]=a[l++],r--;for(;o;)e[u++]=e[c++],o--})(e,t,s,i,n)},nx=(e,t)=>{if(t.some(e=>$C(e.dir))){e=e.slice(0);const i=(e=>e.filter(e=>$C(e.dir)).map(e=>BS(e)).reduce((e,t)=>(i,n)=>e(i,n)||t(i,n),zS))(t);ix(e,0,e.length,i)}return e},sx=(e,t)=>{const{skip:i,take:n,filter:s,sort:r,group:o}=t,a=[...XS(o||[]),...r||[]];a.length&&(e=nx(e,a));const l=$C(s)&&GS.length,c=$C(o)&&o.length;if(!l&&!c)return{data:n?e.slice(i,i+n):e,total:e.length};let u;const h=[];let d;var p;if(l?(d=JS(nS(s)),u=((e,t)=>{let i=0;for(let n=0,s=e.length;n<s;n++)t(e[n])&&i++;return i})(e,d),h.push(GS(d))):u=e.length,$C(i)&&$C(n)&&(h.push((p=i,e=>(t,i)=>p--<=0?e(t,i):t)),h.push((e=>t=>(i,n)=>e-- >0?t(i,n):(e=>qS(e)?e:{__value:e,reduced:!0})(i))(n))),h.length){const t=tS(...h);return{data:c?tx(e,o,t,((e,t)=>t?e.filter(t):e)(e,d)):$S(t(jS),[],e),total:u}}return{data:c?tx(e,o):e,total:u}};function rx(e){return e.ownerDocument||e.document||e}var ox=e=>rx(e).defaultView,ax=e=>rx(e).documentElement;let lx=0;function cx(){if(!lx&&"undefined"!=typeof document){const e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),lx=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return lx}function ux(e){const t=ox(e),i=ax(e),n={height:t.innerHeight,width:t.innerWidth};return i.scrollHeight-i.clientHeight>0&&(n.width-=cx()),n}var hx=e=>{let t=e.offsetParent;for(;t&&"static"===t.style.position;)t=t.offsetParent;return t||ax(e)},dx=e=>{let t=e.getBoundingClientRect(),{left:i,top:n}=t;return t.height||t.width||(t=(e=>{const{display:t,left:i,position:n}=e.style;e.style.display="",e.style.left="-10000px",e.style.position="absolute";const s=e.getBoundingClientRect();return e.style.display=t,e.style.left=i,e.style.position=n,s})(e)),{top:n,left:i,height:t.height,width:t.width}},px=(e,t)=>{const i=[];let n=e.parentNode;for(;n&&(i.push(n),n!==t);)n=n.parentNode;return i};function fx(e){const t=ax(e),i=ox(e);return{x:i.pageXOffset||t.scrollLeft||0,y:i.pageYOffset||t.scrollTop||0}}var gx=e=>e===(e.ownerDocument||{}).body?fx(e):{x:e.scrollLeft,y:e.scrollTop};const mx=function(e,t,i){let n=0;return e+t>i&&(n=i-(e+t)),e<0&&(n=-e),n},vx=function({offset:e,size:t,anchorSize:i,viewPortSize:n,anchorAlignPoint:s,elementAlignPoint:r,margin:o}){let a=0;const l=2*o;if(r!==s&&"center"!==r&&"middle"!==r&&"center"!==s&&"middle"!==s){const r="top"===s||"left"===s;e<0&&r?(a=t+i+l,e+a+t>n&&(a=0)):e>=0&&!r&&(e+t>n&&(a+=-(i+t+l)),e+a<0&&(a=0))}return a};var yx=e=>{const t=[];let i=e.parentNode.firstElementChild;for(;i;)i!==e&&t.push(i),i=i.nextElementSibling;return t};const bx=["container"];function wx(e,t){}const Cx=["*"],Sx=(e,t)=>e||{height:0,left:t.left,top:t.top,width:0},xx=()=>"undefined"!=typeof window,kx=/auto|scroll/,Ex=e=>(e=>`${e.style.overflow}${e.style.overflowX}${e.style.overflowY}`)(e)||(e=>{const t=window.getComputedStyle(e);return`${t.overflow}${t.overflowX}${t.overflowY}`})(e);function Ix(e){let t,i=!1;return(...n)=>(i||(t=e(...n),i=!0),t)}const Tx=Ix(()=>{if(!cb()&&null!==document.body)return!1;const e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);const t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t}),_x=(e,t)=>e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e,Fx=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let Dx=(()=>{class e{addOffset(e,t){return{left:e.left+t.left,top:e.top+t.top}}addScroll(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}align(e){return(e=>{const{anchorRect:t,anchorAlign:i,elementRect:n,elementAlign:s,margin:r={}}=e,o=i.horizontal,a=i.vertical,l=s.horizontal,c=s.vertical;let u=r.horizontal||0,h=r.vertical||0,d=t.top,p=t.left;return"bottom"===a&&(d+=t.height),"center"!==a&&"middle"!==a||(d+=Math.round(t.height/2)),"bottom"===c&&(d-=n.height,h*=-1),"center"!==c&&"middle"!==c||(d-=Math.round(n.height/2),h*=-1),"right"===o&&(p+=t.width),"center"!==o&&"middle"!==o||(p+=Math.round(t.width/2)),"right"===l&&(p-=n.width,u*=-1),"center"!==l&&"middle"!==l||(p-=Math.round(n.width/2),u*=-1),{top:d+h,left:p+u}})(e)}boundingOffset(e){return(e=>{if(!e.getBoundingClientRect){const t=ux(e);return{bottom:t.height,left:0,right:t.width,top:0}}const{bottom:t,left:i,right:n,top:s}=e.getBoundingClientRect();return{bottom:t,left:i,right:n,top:s}})(this.nativeElement(e))}getFontStyles(e){const t=this.getWindow();if(!t||!e)return[];const i=t.getComputedStyle(this.nativeElement(e));return Fx.map(e=>({key:e,value:i[e]}))}getWindow(){return xx()?window:null}hasOffsetParent(e){return!!e&&!!this.nativeElement(e).offsetParent}offset(e){return e?dx(this.nativeElement(e)):null}offsetAtPoint(e,t){if(!e)return null;const i=this.nativeElement(e),{left:n,top:s,transition:r}=i.style;i.style.transition="none",i.style.left=t.left+"px",i.style.top=t.top+"px";const o=dx(i);return i.style.left=n,i.style.top=s,i.style.transition=r,o}nativeElement(e){return e?e.nativeElement||e:null}position(e,t,i=1){return e&&t?((e,t,i=1)=>{const n=t?hx(t):null,{top:s,left:r,height:o,width:a}=((e,t)=>{const i=ox(e),n=i.getComputedStyle(e),s=dx(e),r=t||hx(e),o=e.ownerDocument;let a={top:0,left:0};if("fixed"!==n.position&&r!==o.body&&r!==o.documentElement){const e=i.getComputedStyle(r);a=dx(r),a.top+=parseInt(e.borderTopWidth,10),a.left+=parseInt(e.borderLeftWidth,10)}return{top:s.top-a.top,left:s.left-a.left,height:s.height,width:s.width}})(e,n),{x:l,y:c}=((e,t)=>e?gx(e):function(e){const t=hx(e);return t?gx(t):{x:0,y:0}}(t))(n,e),u=e.ownerDocument,h=n===u.body||n===u.documentElement?1:i;return{top:s+c*h,left:r+l*h,height:o,width:a}})(this.nativeElement(e),this.nativeElement(t),i):null}removeScroll(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}restrictToView(e){return(e=>{const{anchorRect:t,anchorAlign:i,elementRect:n,elementAlign:s,collisions:r,viewPort:o,margin:a={}}=e,{top:l,left:c,height:u,width:h}=n,{height:d,width:p}=o,f=a.horizontal||0,g=a.vertical||0;let m=0,v=0;const y="flip"===r.horizontal,b="flip"===r.vertical;"fit"===r.vertical&&(v+=mx(l,u,d)),"fit"===r.horizontal&&(m+=mx(c,h,p)),b&&(v+=vx({margin:g,offset:l,size:u,anchorSize:t.height,viewPortSize:d,anchorAlignPoint:i.vertical,elementAlignPoint:s.vertical})),y&&(m+=vx({margin:f,offset:c,size:h,anchorSize:t.width,viewPortSize:p,anchorAlignPoint:i.horizontal,elementAlignPoint:s.horizontal}));const w=y&&0!==m,C=b&&0!==v;return{flipped:w||C,flip:{horizontal:w,vertical:C},offset:{left:m,top:v}}})(e)}scrollPosition(e){return fx(this.nativeElement(e))}scrollableParents(e){return(e=>{const t=[];if(!cb()||!xx())return t;let i=e.parentElement;for(;i;)(kx.test(Ex(i))||i.hasAttribute("data-scrollable"))&&t.push(i),i=i.parentElement;return t.push(window),t})(this.nativeElement(e))}stackingElementOffset(e){const t=this.getRelativeContextElement(e);return t?dx(t):null}stackingElementScroll(e){const t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!Tx())return null;let t=this.nativeElement(e).parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return ux(this.nativeElement(e))}zIndex(e,t){return((e,t)=>{if(!e||!cb()||!xx())return null;const i=((e,t)=>{const i=px(e);let n,s,r=t;for(;r&&(n=yx(r),s=i.reduce((e,t)=>e.concat(n.filter(e=>e===t)),[])[0],!s);)r=r.parentElement;return s})(e,t);if(!i)return null;const n=[e].concat(px(e,i)).reduce((e,t)=>{const i=t.style.zIndex||window.getComputedStyle(t).zIndex,n=parseInt(i,10);return n>e?n:e},0);return n?n+1:null})(this.nativeElement(e),this.nativeElement(t))}zoomLevel(){return cb()&&xx()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Ax=new Ve("Popup Document Scale");let Rx=(()=>{class e{constructor(e,t=1){this._dom=e,this.scale=t}alignElement(e){const{anchor:t,element:i,anchorAlign:n,elementAlign:s,margin:r,offset:o,positionMode:a}=e,l=this.scale||1,c="fixed"!==a&&this._dom.hasOffsetParent(i)?this.relativeRect(t,i,o,l):this.absoluteRect(t,i,o,l),u=_x(this._dom.offset(i),l);return this._dom.align({anchorAlign:n,anchorRect:c,elementAlign:s,elementRect:u,margin:r})}absoluteRect(e,t,i,n){const s=this.elementScrollPosition(e,t),r=Sx(this._dom.offset(e),i),o=2*n,a=this._dom.stackingElementScroll(t);1!==n&&a&&(a.x/=o,a.y/=o);const l=this._dom.stackingElementOffset(t);return 1!==n&&l&&(l.left/=o,l.top/=o),this._dom.removeScroll(this._dom.addScroll(((e,t)=>t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e)(_x(r,n),l),a),s)}elementScrollPosition(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}relativeRect(e,t,i,n){const s=Sx(this._dom.position(e,t,n),i);return _x(s,n)}}return e.\u0275fac=function(t){return new(t||e)(We(Dx),We(Ax,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Ox=(()=>{class e{constructor(e,t=1){this._dom=e,this.scale=t}positionElement(e){const{anchor:t,currentLocation:i,element:n,anchorAlign:s,elementAlign:r,collisions:o,margin:a}=e,l=this._dom,c=this.scale||1,u=l.offsetAtPoint(n,i),h=_x(u,c),d=_x(l.offset(t),c),p=Sx(d,i),f=e.viewPort||l.windowViewPort(n);f.width=f.width/c,f.height=f.height/c;const g=l.restrictToView({anchorAlign:s,anchorRect:p,collisions:o,elementAlign:r,elementRect:h,margin:a,viewPort:f}),m=l.addOffset(i,g.offset);return{flip:g.flip,flipped:g.flipped,offset:m}}}return e.\u0275fac=function(t){return new(t||e)(We(Dx),We(Ax,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Px=(()=>{class e{constructor(e,t){this._dom=e,this._zone=t}subscribe(e){cb()&&this._zone.runOutsideAngular(()=>{this.subscription=lb(this._dom.getWindow(),"resize").pipe(ab(1e3/60)).subscribe(()=>e())})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return e.\u0275fac=function(t){return new(t||e)(We(Dx),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Nx=(()=>{class e{constructor(e,t){this._dom=e,this._zone=t}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!cb()||!this.element)return;const t=this._dom.nativeElement(this.element),i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const n=i.map(e=>lb(e,"scroll").pipe(ab(1e3/60)));this.subscription=K(...n).subscribe(n=>{const s=n.target,r=i.filter(e=>e===s).length>0,o=s===document,a=s===window;(r||o||a)&&e(this.isVisible(t,s))})})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isVisible(e,t){const i=this._dom.boundingOffset(e),n=this._dom.boundingOffset(t);return!(1<n.top-i.bottom||1<i.top-n.bottom||1<i.left-n.right||1<n.left-i.right)}}return e.\u0275fac=function(t){return new(t||e)(We(Dx),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Mx=function(){return{expand:e=>{const t="up"===e||"down"===e?"scaleY":"scaleX";let i;return i="down"===e?"top":"left"===e?"right":"right"===e?"left":"bottom",{start:{transform:t+"(0)",transformOrigin:i},end:{transform:t+"(1)"}}},slide:e=>{const t="left"===e||"right"===e?"translateX":"translateY";return{start:{transform:`${t}(${"right"===e||"down"===e?-100:100}%)`},end:{transform:t+"(0%)"}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})}}();let Lx=(()=>{class e{constructor(e){this.animationBuilder=e,this.start=new gc,this.end=new gc}play(e,t,i){if(!this.flip||this.flip.horizontal!==i.horizontal||this.flip.vertical!==i.vertical){this.flip=i;const n=t.type||"slide",s=Mx[n];if(s){const n=s(this.getDirection(i,t));this.playStates(e,n,t)}else if(Sn())throw new Error(`Unsupported animation type: "${n}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,t,i){this.stopPlayer();const n=i.duration||100,s=this.animationBuilder.build([Dd(t.start),_d(n+"ms ease-in",Dd(t.end))]),r=this.player=s.create(e);r.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),r.play()}getDirection(e,t){let i=t.direction||"down";return e.horizontal&&("left"===i?i="right":"right"===i&&(i="left")),e.vertical&&("down"===i?i="up":"up"===i&&(i="down")),i}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return e.\u0275fac=function(t){return new(t||e)(We(Id))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Vx={left:-1e4,top:0};let Hx=(()=>{class e{constructor(e,t,i,n,s,r,o,a,l){this.container=e,this._alignService=t,this.domService=i,this._positionService=n,this._resizeService=s,this._scrollableService=r,this.animationService=o,this._renderer=a,this._zone=l,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=Vx,this.anchorViewportLeave=new gc,this.close=new gc,this.open=new gc,this.positionChange=new gc,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(e.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=Vx,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.reposition(),this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=z(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",e.left+"px"),this.setContainerStyle("top",e.top+"px"),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}reposition(){if(!cb())return;const{flip:e,offset:t}=this.position();this.currentOffset&&!((e,t)=>{const{left:i,top:n}=e,{left:s,top:r}=t;return Math.abs(i-s)>=1||Math.abs(n-r)>=1})(this.currentOffset,t)||(this.currentOffset=t,db(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:t,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){const e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){const t=db(this.anchorViewportLeave);e||!t?this.reposition():t&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Rx),Oo(Dx),Oo(Ox),Oo(Px),Oo(Nx),Oo(Lx),Oo(Ja),Oo(ou))},e.\u0275cmp=pt({type:e,selectors:[["kendo-popup"]],viewQuery:function(e,t){var i;1&e&&(_c(bx,!0),_c(Eb,!0)),2&e&&(Ic(i=Oc())&&(t.contentContainer=i.first),Ic(i=Oc())&&(t.resizeSensor=i.first))},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[Ga([Rx,Lx,Dx,Ox,Px,Nx]),Pa],ngContentSelectors:Cx,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,t){1&e&&(Jo(),Vo(0,"div",0,1),Xo(2),Ao(3,wx,0,0,"ng-template",2),Vo(4,"kendo-resize-sensor",3),Ko("resize",(function(){return t.onResize()})),Ho(),Ho()),2&e&&(Mo("ngClass",t.popupClass),ms(3),Mo("ngTemplateOutlet",t.content)("ngIf",t.content),ms(1),Mo("rateLimit",100))},directives:[Oh,qh,Lh,Eb],encapsulation:2}),e})();const Bx=new Ve("Popup Container");let zx=(()=>{class e{constructor(e,t,i,n){this.applicationRef=e,this.componentFactoryResolver=t,this.injector=i,this.container=n}get rootViewContainer(){const e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){const{component:t,nodes:i}=this.contentFrom(e.content),n=this.appendPopup(i,e.appendTo),s=n.instance;this.projectComponentInputs(n,e),n.changeDetectorRef.detectChanges(),t&&t.changeDetectorRef.detectChanges();const r=this.getComponentRootNode(n);return{close:()=>{var e;t&&t.destroy(),n.destroy(),(e=r)&&e.parentNode&&e.parentNode.removeChild(e)},content:t,popup:n,popupAnchorViewportLeave:s.anchorViewportLeave,popupClose:s.close,popupElement:r,popupOpen:s.open,popupPositionChange:s.positionChange}}appendPopup(e,t){const i=this.createComponent(Hx,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(i)),i}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,t,i){const n=this.getComponentFactory(e);if(i)return i.createComponent(n,void 0,this.injector,t);{const e=n.create(this.injector,t);return this.applicationRef.attachView(e.hostView),e}}projectComponentInputs(e,t){return Object.getOwnPropertyNames(t).filter(e=>"content"!==e||t.content instanceof yl).map(i=>{e.instance[i]=t[i]}),e}contentFrom(e){if(!e||e instanceof yl)return{component:null,nodes:[[]]};const t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}}return e.\u0275fac=function(t){return new(t||e)(We(Iu),We(Ka),We(uo),We(Bx,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),jx=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[zx],imports:[[Kh,Ib]]}),e})();const Ux=()=>"undefined"!=typeof window,Gx={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},qx={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},$x={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},Kx={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},Wx=(e,t,i)=>{for(let n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return void 0!==i?i:e},Zx=Ux()&&window.navigator?window.navigator.userAgent:null,Yx=Zx?(e=>{let t=null,i=[];for(let n in $x)if($x.hasOwnProperty(n)&&(i=e.match($x[n]),i)){t={},t[n]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t})(Zx):null,Qx=Zx?(e=>{let t,i=[];for(let n in Gx)if(Gx.hasOwnProperty(n)){if(i=e.match(Gx[n]),!i)continue;if("windows"===n&&"plugins"in window.navigator)return null;const s={};return s.device=n,s.browser=Wx(e,Kx,"default"),s.name=Wx(n,qx),s[s.name]=!0,s.majorVersion=i[2],s.minorVersion=i[3]?i[3].replace("_","."):".0",t=s.minorVersion.replace(".","").substr(0,2),s.flatVersion=s.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),s.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,s.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||s.cordova,s}return null})(Zx):null,Jx=Ux()&&"ontouchstart"in window,Xx=Yx&&!Yx.chrome&&window.MSPointerEvent,ek=Yx&&!Yx.chrome&&window.PointerEvent,tk=Qx&&(Jx||Xx||ek),ik=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,nk=function(){return{undefined:e=>e}}();function sk(e){return t=>t.lift(new rk(e))}class rk{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new ok(e,this.predicate))}}class ok extends f{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}const ak=["input"],lk=function(e,t){return{focus:e,blur:t}},ck=["content"],uk=["list"];function hk(e,t){}const dk=function(e,t){return{templateRef:e,$implicit:t}};function pk(e,t){if(1&e&&Ao(0,hk,0,0,"ng-template",9),2&e){const e=Yo(2);Mo("templateContext",ic(1,dk,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function fk(e,t){if(1&e&&(Vo(0,"strong"),Ca(1),Ho()),2&e){const e=Yo(2);ms(1),Sa(e.currentGroup)}}const gk=function(e){return{"k-virtual-item":e}},mk=function(e,t,i){return{"height.px":e,"minHeight.px":t,boxSizing:i}};function vk(e,t){if(1&e&&(Vo(0,"div",7),Ao(1,pk,1,4,void 0,5),Ao(2,fk,2,1,"ng-template",8),Ho()),2&e){const e=Yo();Mo("ngClass",tc(4,gk,e.virtual))("ngStyle",nc(6,mk,null==e.virtual?null:e.virtual.itemHeight,null==e.virtual?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),ms(1),Mo("ngIf",e.fixedGroupTemplate),ms(1),Mo("ngIf",!e.fixedGroupTemplate)}}function yk(e,t){}function bk(e,t){if(1&e&&Ao(0,yk,0,0,"ng-template",9),2&e){const e=Yo().$implicit,t=Yo(2);Mo("templateContext",ic(1,dk,t.template.templateRef,e))}}function wk(e,t){if(1&e&&Ca(0),2&e){const e=Yo().$implicit;Sa(Yo(2).getText(e))}}const Ck=function(e,t){return{"k-virtual-item":e,"k-state-disabled":t}};function Sk(e,t){if(1&e&&(Vo(0,"li",11),Ao(1,bk,1,4,void 0,5),Ao(2,wk,1,1,"ng-template",8),Ho()),2&e){const e=t.$implicit,i=t.index,n=Yo(2);Mo("height",null==n.virtual?null:n.virtual.itemHeight)("index",i+n.startFrom)("multipleSelection",n.multipleSelection)("ngClass",ic(8,Ck,n.virtual,n.isDisabled(i))),Fo("id",n.optionPrefix+"-"+n.getValue(e))("tabIndex",-1),ms(1),Mo("ngIf",n.template),ms(1),Mo("ngIf",!n.template)}}function xk(e,t){1&e&&Ao(0,Sk,3,11,"ng-template",10),2&e&&Mo("ngForOf",Yo().data)}function kk(e,t){}function Ek(e,t){if(1&e&&Ao(0,kk,0,0,"ng-template",9),2&e){const e=Yo(2).$implicit,t=Yo(2);Mo("templateContext",ic(1,dk,t.groupTemplate.templateRef,e.value))}}function Ik(e,t){if(1&e&&(Vo(0,"strong"),Ca(1),Ho()),2&e){const e=Yo(2).$implicit;ms(1),xa(" ",e.value,"")}}function Tk(e,t){if(1&e&&(Vo(0,"li",14),Ao(1,Ek,1,4,void 0,5),Ao(2,Ik,2,1,"ng-template",8),Ho()),2&e){const e=Yo().$implicit,t=Yo(2);Mo("ngClass",tc(7,gk,t.virtual))("ngStyle",nc(9,mk,null==t.virtual?null:t.virtual.itemHeight,null==t.virtual?null:t.virtual.itemHeight,t.virtual?"border-box":"inherit")),Fo("group-index",e.index)("id",t.optionPrefix+"-"+t.getValue(e.value))("tabIndex",-1),ms(1),Mo("ngIf",t.groupTemplate),ms(1),Mo("ngIf",!t.groupTemplate)}}function _k(e,t){}function Fk(e,t){if(1&e&&Ao(0,_k,0,0,"ng-template",9),2&e){const e=Yo(2).$implicit,t=Yo(2);Mo("templateContext",ic(1,dk,t.template.templateRef,e.value))}}function Dk(e,t){if(1&e&&Ca(0),2&e){const e=Yo(2).$implicit;Sa(Yo(2).getText(e.value))}}function Ak(e,t){if(1&e&&(Vo(0,"li",11),Ao(1,Fk,1,4,void 0,5),Ao(2,Dk,1,1,"ng-template",8),Ho()),2&e){const e=Yo().$implicit,t=Yo(2);Mo("height",null==t.virtual?null:t.virtual.itemHeight)("index",e.offsetIndex)("multipleSelection",t.multipleSelection)("ngClass",ic(9,Ck,t.virtual,t.isDisabled(e.offsetIndex))),Fo("absolute-index",e.index)("id",t.optionPrefix+"-"+t.getValue(e.value))("tabIndex",-1),ms(1),Mo("ngIf",t.template),ms(1),Mo("ngIf",!t.template)}}function Rk(e,t){if(1&e&&(Ao(0,Tk,3,13,"li",12),Ao(1,Ak,3,12,"li",13)),2&e){const e=t.$implicit;Mo("ngIf",e.header&&e.index>0),ms(1),Mo("ngIf",!e.header)}}function Ok(e,t){1&e&&Ao(0,Rk,2,2,"ng-template",10),2&e&&Mo("ngForOf",Yo().data)}function Pk(e,t){if(1&e&&(Vo(0,"div",15),Bo(1,"div"),Ho()),2&e){const e=Yo();ms(1),ca("height",e.scrollHeight,"px")}}const Nk=function(e,t){return{"k-virtual-content":e,"k-list-scroller":t}},Mk=function(e){return{"k-virtual-list":e}},Lk=["container"],Vk=["popupTemplate"],Hk=["optionsList"],Bk=["noDataText",$localize`:kendo.autocomplete.noDataText|The text displayed in the popup when there are no items␟4e9993e088a293543eb0c2801343518c115b6f20␟2690656529626907484:NO DATA FOUND`,"clearTitle",$localize`:kendo.autocomplete.clearTitle|The title of the clear button␟7cf49cc2d50eebd29f8d61564512383caaaac7a6␟4821453594854847070:clear`];function zk(e,t){if(1&e){const e=Go();Vo(0,"span",8),Ko("click",(function(t){return Qt(e),Yo().clearValue(t)}))("mousedown",(function(t){return Qt(e),t.preventDefault()})),Ho()}2&e&&Fo("title",Yo().clearTitle)}function jk(e,t){1&e&&Bo(0,"span",9)}function Uk(e,t){}const Gk=function(e){return{templateRef:e}};function qk(e,t){if(1&e&&Ao(0,Uk,0,0,"ng-template",14),2&e){const e=Yo(2);Mo("templateContext",tc(1,Gk,e.headerTemplate.templateRef))}}function $k(e,t){}function Kk(e,t){if(1&e&&(Vo(0,"div"),Ca(1),Ho()),2&e){const e=Yo(3);ms(1),Sa(e.noDataText)}}function Wk(e,t){if(1&e&&(Vo(0,"div",15),Ao(1,$k,0,0,"ng-template",16),Ao(2,Kk,2,1,"ng-template",6),Ho()),2&e){const e=Yo(2);ms(1),Mo("ngIf",e.noDataTemplate)("templateContext",tc(3,Gk,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),ms(1),Mo("ngIf",!e.noDataTemplate)}}function Zk(e,t){}function Yk(e,t){if(1&e&&Ao(0,Zk,0,0,"ng-template",14),2&e){const e=Yo(2);Mo("templateContext",tc(1,Gk,e.footerTemplate.templateRef))}}function Qk(e,t){if(1&e){const e=Go();Ao(0,qk,1,3,void 0,10),Vo(1,"kendo-list",11,12),Ko("pageChange",(function(t){return Qt(e),Yo().pageChange(t)})),Ho(),Ao(3,Wk,3,5,"div",13),Ao(4,Yk,1,3,void 0,10)}if(2&e){const e=Yo();Mo("ngIf",e.headerTemplate),ms(1),Mo("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),ms(2),Mo("ngIf",0===e.data.length),ms(1),Mo("ngIf",e.footerTemplate)}}function Jk(e,t){if(1&e){const e=Go();Vo(0,"kendo-resize-sensor",17),Ko("resize",(function(){return Qt(e),Yo().onResize()})),Ho()}}const Xk=["wrapper"];$localize`:kendo.combobox.noDataText|The text displayed in the popup when there are no items␟2b6e00c74a6d9c98c03a6274d0224e9bd457ff89␟7708502966028483300:NO DATA FOUND`,$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`;const eE=["noDataText",$localize`:kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items␟4fc2f70c9c8cf7b18affd6b938105996d6ac3306␟8289552890585138350:NO DATA FOUND`];function tE(e,t){}function iE(e,t){if(1&e&&Ao(0,tE,0,0,"ng-template",10),2&e){const e=Yo();Mo("templateContext",ic(1,dk,e.valueTemplate.templateRef,e.dataItem))}}function nE(e,t){1&e&&Ca(0),2&e&&Sa(Yo().getText())}function sE(e,t){if(1&e){const e=Go();Vo(0,"span",14),Ko("click",(function(t){return Qt(e),t.stopImmediatePropagation()})),Vo(1,"input",15),Ko("ngModelChange",(function(t){return Qt(e),Yo(2).filterText=t}))("keydown",(function(t){return Qt(e),Yo(2).keydown(t)}))("input",(function(t){return Qt(e),Yo(2).handleFilter(t)}))("focus",(function(){return Qt(e),Yo(2).onFilterFocus()}))("blur",(function(){return Qt(e),Yo(2).blurFilterInput()})),Ho(),Bo(2,"span",16),Ho()}if(2&e){const e=Yo(2);ms(1),Mo("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction)("ngModel",e.filterText),Fo("aria-owns",e.ariaOwns)("aria-activedescendant",e.ariaActivedescendant)("aria-label",e.noDataLabel)}}const rE=function(e){return{"k-state-disabled":e}};function oE(e,t){if(1&e&&(Vo(0,"div",17),Ca(1),Ho()),2&e){const e=Yo(2);Mo("ngClass",tc(3,rE,e.isDisabledDefaultItem))("index",-1),ms(1),xa(" ",e.getDefaultItemText()," ")}}function aE(e,t){}function lE(e,t){if(1&e&&(Vo(0,"div",17),Ao(1,aE,0,0,"ng-template",10),Ho()),2&e){const e=Yo(2);Mo("ngClass",tc(3,rE,e.isDisabledDefaultItem))("index",-1),ms(1),Mo("templateContext",ic(5,dk,e.itemTemplate.templateRef,e.defaultItem))}}function cE(e,t){}function uE(e,t){if(1&e&&Ao(0,cE,0,0,"ng-template",10),2&e){const e=Yo(2);Mo("templateContext",tc(1,Gk,e.headerTemplate.templateRef))}}function hE(e,t){}function dE(e,t){if(1&e&&(Vo(0,"div"),Ca(1),Ho()),2&e){const e=Yo(3);ms(1),Sa(e.noDataText)}}function pE(e,t){if(1&e&&(Vo(0,"div",18),Ao(1,hE,0,0,"ng-template",19),Ao(2,dE,2,1,"ng-template",5),Ho()),2&e){const e=Yo(2);ms(1),Mo("ngIf",e.noDataTemplate)("templateContext",tc(3,Gk,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),ms(1),Mo("ngIf",!e.noDataTemplate)}}function fE(e,t){}function gE(e,t){if(1&e&&Ao(0,fE,0,0,"ng-template",10),2&e){const e=Yo(2);Mo("templateContext",tc(1,Gk,e.footerTemplate.templateRef))}}function mE(e,t){if(1&e){const e=Go();Ao(0,sE,3,6,"ng-template",5),Ao(1,oE,2,5,"ng-template",5),Ao(2,lE,2,8,"ng-template",5),Ao(3,uE,1,3,void 0,4),Vo(4,"kendo-list",11,12),Ko("pageChange",(function(t){return Qt(e),Yo().pageChange(t)})),Ho(),Ao(6,pE,3,5,"div",13),Ao(7,gE,1,3,void 0,4)}if(2&e){const e=Yo();Mo("ngIf",e.filterable),ms(1),Mo("ngIf",e.defaultItem&&!e.itemTemplate),ms(1),Mo("ngIf",e.defaultItem&&e.itemTemplate),ms(1),Mo("ngIf",e.headerTemplate),ms(1),Mo("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),ms(2),Mo("ngIf",0===e.data.length),ms(1),Mo("ngIf",e.footerTemplate)}}function vE(e,t){if(1&e){const e=Go();Vo(0,"kendo-resize-sensor",20),Ko("resize",(function(){return Qt(e),Yo().onResize()})),Ho()}}const yE=function(e,t){return{"k-dropdown-wrap":!0,"k-state-default":e,"k-state-disabled":t}};$localize`:kendo.multiselect.noDataText|The text displayed in the popup when there are no items␟3cc1323f79a5fe012960578e513f8a35b2af1e96␟1450213984397806503:NO DATA FOUND`,$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`;const bE=e=>null!=e,wE=()=>{let e,t,i="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(i+="-"),i+=(12===e?4:16===e?3&t|8:t).toString(16);return i},CE=(e,t,i=!1)=>{if(bE(e))return i?t&&bE(e[t])?e[t]:e:t?e[t]:e},SE=(e,t,i)=>{if(!bE(e))return!1;let n=String(e);return i&&(n=n.toLowerCase()),0===n.indexOf(t)},xE=e=>e.className.includes("ng-untouched"),kE=e=>{};let EE=(()=>{class e{constructor(e,t){this.localization=e,this.valueChange=new gc,this.onBlur=new gc,this.onFocus=new gc,this.onClick=new gc,this.onNavigate=new gc,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=e.rtl?"rtl":"ltr",this.renderer=t}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get value(){return this.input.nativeElement.value}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngOnChanges(e){let t;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;const s=this.input.nativeElement.selectionStart,r=t.length===s;this.writeInputValue(this.suggestedText?(i=this.userInput).concat((n=this.suggestedText).substr(n.toLowerCase().indexOf(i.toLowerCase())+i.length)):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):r?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(s,s),this._previousValue=this.userInput}var i,n}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}writeInputValue(e){cb()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,t){if(cb()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(i){}}handleInput(e){const t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){[_b.ArrowUp,_b.ArrowDown,_b.ArrowLeft,_b.ArrowRight,_b.Enter,_b.Escape,_b.Delete,_b.Backspace,_b.Home,_b.End].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}focus(){cb()&&this.input.nativeElement.focus()}blur(){cb()&&this.input.nativeElement.blur()}setInputSize(){const e=e=>e?e.length:0,t=this.input.nativeElement,i=e(this.placeholder),n=e(this.value),s=Math.max(i,n,1);this.renderer.setAttribute(t,"size",s.toString())}}return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){var i;1&e&&Tc(ak,!0),2&e&&Ic(i=Oc())&&(t.input=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-searchbar",t.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[Pa],decls:2,vars:21,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope","input","keydown"],["input",""]],template:function(e,t){1&e&&(Vo(0,"input",0,1),Ko("input",(function(e){return t.handleInput(e)}))("keydown",(function(e){return t.handleKeydown(e)})),Ho()),2&e&&(function(e,t,i,n){const s=Yt(),r=ai(2);s.firstUpdatePass&&fa(s,null,r,!0);const o=Zt();if(i!==hs&&Eo(o,r,i)){const n=s.data[bi()+20];if(wa(n,!0)&&!pa(s,r)){let e=n.classesWithoutHost;null!==e&&(i=Ce(e,i||"")),Lo(s,n,o,i,!0)}else!function(e,t,i,n,s,r,o,a){s===hs&&(s=ia);let l=0,c=0,u=0<s.length?s[0]:null,h=0<r.length?r[0]:null;for(;null!==u||null!==h;){const o=l<s.length?s[l+1]:void 0,d=c<r.length?r[c+1]:void 0;let p=null,f=void 0;u===h?(l+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(l+=2,p=u):(c+=2,p=h,f=d),null!==p&&va(e,t,i,n,p,f,!0,a),u=l<s.length?s[l]:null,h=c<r.length?r[c]:null}}(s,n,o,o[11],o[r+1],o[r+1]=function(e,t,i){if(null==i||""===i)return ia;const n=[],s=vn(i);if(Array.isArray(s))for(let r=0;r<s.length;r++)e(n,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&e(n,r,s[r]);else"string"==typeof s&&t(n,s);return n}(e,t,i),0,r)}}(rt,ha,"k-input"),Mo("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",ic(18,lk,t.handleFocus,t.handleBlur))("scope",t),Fo("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.popupOpen)("aria-owns",t.listId)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-label",t.noDataLabel))},directives:[mb],encapsulation:2}),e})(),IE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),e})(),TE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""]]}),e})(),_E=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""]]}),e})(),FE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),e})(),DE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),e})(),AE=(()=>{class e{constructor(){this.onSelect=new gc,this.onChange=new gc,this.onFocus=new gc,this.total=0,this.selectedIndices=[]}getTotal(){return this.total}isSelected(e){return bE(this.selectedIndices.find(t=>t===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:bE(e)}))}add(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}unselect(e){if(!this.isSelected(e))return;const t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}change(e){const t=bE(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();var RE=function(e){return e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Enter=3]="Enter",e[e.Tab=4]="Tab",e[e.Esc=5]="Esc",e[e.Delete=6]="Delete",e[e.Backspace=7]="Backspace",e[e.Home=8]="Home",e[e.End=9]="End",e[e.Up=10]="Up",e[e.Down=11]="Down",e[e.Left=12]="Left",e[e.Right=13]="Right",e}({});let OE=(()=>{class e{constructor(){this.grouped=!1,this.groupIndices=[]}set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return bE(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(e=>!e.header):this.data).length:0}isGrouped(e){return bE(e)&&0!==e.length&&bE(e[0])&&(i=["aggregates","field","items","value"],!!bE(t=e[0])&&i.every(e=>t.hasOwnProperty(e)));var t,i}getGroupIndices(e){let t=[];for(let i=0;i<=e.length-1;i++)t[i]=(t[i-1]||0)+e[i].items.length;return t}filter(e){let t=[];if(this.isGrouped(this.data))for(let i=0;i<=this.groupIndices.length-1;i++){const n=this.data[i].items.filter(e);n&&(t=t.concat(n))}else t=this.data.filter(e);return t}indexOf(e,t=0){let i=t=>t===e;return this.grouped&&(i=t=>t.value===e),this.findIndex(i,t)}findIndex(e,t=0){let i=-1;if(this.grouped){const n=this._flatData.filter(e=>!e.header&&e.offsetIndex>=t);i=n.findIndex(e),i=n[i]?n[i].offsetIndex:-1}else{const n=this.data.slice(t).findIndex(e);i=-1!==n?n+t:-1}return i}closestGroup(e){for(let t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}find(e){const t=this.findIndex(e);return this.itemAt(t)}flatIndex(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;{const t=this._flatData.find(t=>!t.header&&t.offsetIndex===e);if(t)return t.index}return-1}itemAt(e){let t;if(0===this.itemsCount)return t;if(this.grouped){const i=this._flatData.find(t=>!t.header&&t.offsetIndex===e);i&&(t=i.value)}else t=this.data[e];return t}groupAt(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(t=>t.header&&t.index===e)}groupField(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}itemGroup(e){if(!e||0===this.itemsCount||!this.isGrouped)return;const t=this.groupField();return t?e[t]:void 0}flatten(e,t,i=0,n=0){let s=[];bE(t)&&s.push({header:!0,index:n+i,offsetIndex:n,value:t});for(let r=0;r<e.length;r++){let t=[];e[r].items?(t=this.flatten(e[r].items,e[r].value,i,r),i+=e[r].items.length):t.push({header:!1,index:n+i+r+1,offsetIndex:i+r,value:e[r]}),s=s.concat(t)}return s}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),PE=(()=>{class e{constructor(e){this.dataService=e,this.itemDisabled=null}isIndexDisabled(e){if(this.itemDisabled){const t=this.dataService.itemAt(e);if(bE(t))return this.itemDisabled({dataItem:t,index:e});if(bE(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){const t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(bE(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}return e.\u0275fac=function(t){return new(t||e)(We(OE))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class NE{constructor(e,t){this.index=e,this.originalEvent=t}}let ME=(()=>{class e{constructor(e,t){this.disabledItemsService=e,this.selectionService=t,this.open=new gc,this.close=new gc,this.enter=new gc,this.tab=new gc,this.esc=new gc,this.up=new gc,this.right=new gc,this.down=new gc,this.left=new gc,this.delete=new gc,this.backspace=new gc,this.home=new gc,this.end=new gc}process(e){const t=e.originalEvent.keyCode,i=e.originalEvent.altKey;let n,s=RE.Undefined;i&&t===_b.ArrowDown?s=RE.Open:i&&t===_b.ArrowUp?s=RE.Close:t===_b.Enter?s=RE.Enter:t===_b.Escape?s=RE.Esc:t===_b.Tab?s=RE.Tab:t===_b.ArrowUp?(n=this.next({current:e.current,start:e.min,end:e.max,step:-1}),s=RE.Up):t===_b.ArrowLeft?(n=this.next({current:e.current,start:e.min,end:e.max,step:-1}),s=RE.Left):t===_b.ArrowDown?(n=this.next({current:e.current,start:e.min,end:e.max,step:1}),s=RE.Down):t===_b.ArrowRight?(n=this.next({current:e.current,start:e.min,end:e.max,step:1}),s=RE.Right):t===_b.Home?(n=this.isDisabled(0)?e.current:0,s=RE.Home):t===_b.End?(n=this.isDisabled(e.max)?e.current:e.max,s=RE.End):t===_b.Delete?s=RE.Delete:t===_b.Backspace&&(s=RE.Backspace);const r=new NE(n,e.originalEvent);return s!==RE.Undefined&&this[RE[s].toLowerCase()].emit(r),s}next(e){const{current:t,start:i,end:n,step:s}=e,r=bE(t)?this.clampIndex(t+s,i,n):i,o=this.firstFocusableIndex(r,i,n,s);return bE(o)?o:this.selectionService.isSelected(t)&&t>=i?t:this.firstFocusableIndex(r,i,n,-1*s)}clampIndex(e,t,i){return!bE(e)||e<t?t:e>i?i:e}firstFocusableIndex(e,t,i,n){for(;t<=e&&e<=i;){if(!this.isDisabled(e))return e;e+=n}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}return e.\u0275fac=function(t){return new(t||e)(We(PE),We(AE))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),LE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""]]}),e})();class VE{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class HE{}let BE=(()=>{class e{constructor(e){this.element=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa))},e.\u0275dir=bt({type:e,selectors:[["li","role","option"],["li","role","group"]]}),e})(),zE=(()=>{class e{constructor(e,t,i,n,s,r,o){this.dataService=e,this.wrapper=t,this.selectionService=i,this.disabledItemsService=n,this.cdr=s,this.zone=r,this.renderer=o,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new gc,this.pageChange=new gc,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=K(this.selectionService.onSelect.pipe(L(e=>e.indices[0])),this.selectionService.onFocus).pipe(Ng(e=>this.zone.onStable.pipe(Fg(1),L(()=>e)))).subscribe(this.scrollToItem.bind(this))}set data(e){this._data=e[0]&&e[0].header?e.slice(0):e}get data(){return this._data}set items(e){this._items=e}get items(){return this._items}get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}ngOnChanges(e){ub("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.scrollSubscription=lb(this.content.nativeElement,"scroll").pipe(ab(100),Gg(this.prefetchData.bind(this)),Gg(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})})}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}firstVisibleItem(){const e=this.content.nativeElement,t=e.getBoundingClientRect(),i=Array.prototype.slice.call(e.querySelectorAll(".k-state-disabled"));i.forEach(e=>this.renderer.setStyle(e,"pointer-events","auto"));const n=document.elementFromPoint(t.left+1,t.top+1);return i.forEach(e=>this.renderer.setStyle(e,"pointer-events","none")),n}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const e=this.firstVisibleItem();if(e){let t;"group"===e.getAttribute("role")?(t=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(t).value):(t=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(t)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,i=Math.trunc(t/this.virtual.itemHeight),n=t>this.lastScrollTop,s=this.lastLoaded-this.pageSize+e>=i-(this.pageSize-(this.lastLoaded-this.startFrom));n&&i+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(i),!n&&s&&this.changePage(i-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let t=this.pageSize+e;t>this.virtual.total&&(e--,t=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=t,this.pageChange.emit({skip:e,take:this.pageSize})})}index(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}getText(e){return CE(e,this.textField)}getValue(e){return CE(e,this.valueField)}isDisabled(e){return bE(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}scrollToItem(e){let t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0),this.virtual&&t>-1)return void this.scrollToIndex(t);const i=this.items.toArray();bE(i[t])&&-1!==t&&this.scroll(i[t].element)}scrollToIndex(e){let t=this.content.nativeElement,i=t.scrollTop;const n=e*this.virtual.itemHeight,s=t.clientHeight,r=n+this.virtual.itemHeight;i>n?i=n:r>i+s&&(i=r-s),t.scrollTop=i}scroll(e){if(!e)return;const t=e.nativeElement;let i=this.content.nativeElement,n=t.offsetTop,s=i.scrollTop,r=i.clientHeight,o=n+t.offsetHeight;s>n?s=n:o>s+r&&(s=o-r),i.scrollTop=s}positionItems(){this.items.forEach((e,t)=>{this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${(t+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(e){return!bE(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}}return e.\u0275fac=function(t){return new(t||e)(Oo(OE),Oo(Wa),Oo(AE),Oo(PE),Oo(Wr),Oo(ou),Oo(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-list"]],viewQuery:function(e,t){var i;1&e&&(_c(ck,!0),_c(uk,!0),_c(BE,!0)),2&e&&(Ic(i=Oc())&&(t.content=i.first),Ic(i=Oc())&&(t.list=i.first),Ic(i=Oc())&&(t.items=i))},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange"},features:[Pa],decls:8,vars:15,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",1,"k-list","k-reset",3,"ngClass"],["list",""],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","presentation",1,"k-height-container"]],template:function(e,t){1&e&&(Ao(0,vk,3,10,"div",0),Vo(1,"div",1,2),Vo(3,"ul",3,4),Ao(5,xk,1,1,void 0,5),Ao(6,Ok,1,1,void 0,5),Ho(),Ao(7,Pk,2,2,"div",6),Ho()),2&e&&(Mo("ngIf",t.dataService.grouped),ms(1),ca("max-height",t.height,"px"),Mo("ngClass",ic(10,Nk,t.virtual,!t.virtual)),ms(2),Mo("ngClass",tc(13,Mk,t.virtual)),Fo("id",t.id)("aria-hidden",!t.show),ms(2),Mo("ngIf",!t.dataService.grouped&&t.show),ms(1),Mo("ngIf",t.dataService.grouped),ms(1),Mo("ngIf",t.virtual))},directives:function(){return[Lh,Oh,Gh,YE,Nh,BE,QE]},encapsulation:2}),e})();const jE={pageSize:50,itemHeight:28},UE=e=>!0===e?jE:e?Object.assign({pageSize:jE.pageSize},e):null,GE={multi:!0,provide:fw,useExisting:xe(()=>qE)};let qE=(()=>{class e{constructor(e,t,i,n,s,r,o,a,l,c){this.localization=e,this.dataService=t,this.popupService=i,this.selectionService=n,this.navigationService=s,this.disabledItemsService=r,this._zone=o,this.cdr=a,this.renderer=l,this.highlightFirst=!0,this.focusableId="k-"+wE(),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new gc,this.filterChange=new gc,this.open=new gc,this.close=new gc,this.onFocus=new gc,this.onBlur=new gc,this.widgetClasses=!0,this.listBoxId=wE(),this.optionPrefix=wE(),this.onChangeCallback=kE,this.onTouchedCallback=kE,this.popupMouseDownHandler=e=>e.preventDefault(),this._popupSettings={animate:!0},this._open=!1,this._value="",this.valueChangeSubject=new E,this._isFocused=!1,this.direction=e.rtl?"rtl":"ltr",this.wrapper=c.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}get width(){let e=0;cb()&&(e=this.wrapper.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return bE(e)?e+"px":"auto"}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get suggestion(){if(!this.text||!this.suggestedText)return void(this.suggestedText=void 0);const e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}toggle(e){Promise.resolve(null).then(()=>{const t=bE(e)?e:!this._open;this._toggle(t)})}get isOpen(){return this._open}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!bE(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+CE(e,this.valueField)}get noDataLabel(){if(0===this.data.length)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=CE(this.dataService.itemAt(0),this.valueField))}get data(){const e=this.virtual;if(e){const t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}set value(e){this.verifySettings(e),this._value=e||"",this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||""}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=UE(e)}get virtual(){return this._virtualSettings}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-state-focused"),this._isFocused=e}get isDisabled(){return this.disabled}get dir(){return this.direction}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize})}reset(){this.value=""}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:i}=this.width;e.style.minWidth=t,e.style.width=i}}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}verifySettings(e){if(Sn()&&bE(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(e,t=0){let i;i=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,this.disabledItemsService.isIndexDisabled(i)?i+1<this.dataService.itemsCount?this.search(e,i+1):this.selectionService.focus(-1):(this.selectionService.focus(i),this.suggest&&(this.suggestedText=CE(this.dataService.itemAt(i),this.valueField)))}navigate(e){this.isOpen&&this.selectionService.focus(e)}handleNavigate(e){const t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(t))return;const i=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});i!==RE.Undefined&&i!==RE.Backspace&&i!==RE.Delete&&i!==RE.Home&&i!==RE.End&&i!==RE.Left&&i!==RE.Right&&(i===RE.Enter&&this.isOpen||i!==RE.Enter)&&e.preventDefault()}handleEnter(e){const t=this.selectionService.focused;let i;if(this.isOpen&&e.originalEvent.preventDefault(),t>=0)i=CE(this.dataService.itemAt(t),this.valueField);else{const e=this.suggest&&this.suggestedText&&this.data.length&&CE(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();i=this.isOpen&&e?this.suggestedText:this.searchbar.value}this.change(i)}handleEscape(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(e){const t=bE(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}handleFocus(){this.isFocused=!0,db(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})}handleBlur(){const e=this.filterable?this.selectionService.focused:-1;let t,i;this.searchbar.input.nativeElement.scrollLeft=0,-1!==e?(t=this.dataService.itemAt(e),i=CE(t,this.valueField,!0)||""):i=this.searchbar.value;const n=i===this.searchbar.value,s=i.toLowerCase()===this.searchbar.value.toLowerCase();!n&&s&&this.selectionService.resetSelection([]),this.isFocused=!1;const r=this.value!==this.text;db(this.onBlur)||db(this.close)||xE(this.wrapper)||r?this._zone.run(()=>{r&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}pageChange(e){this.virtual.skip=e.skip}change(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}subscribeEvents(){cb()&&(this.valueChangeSubscription=this.valueChangeSubject.subscribe(e=>{const t=this.value!==e;this.value=e,this.text=e,t&&this.emitChange(e)}),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=K(this.navigationService.up,this.navigationService.down).subscribe(e=>this.navigate(e.index)),this.closeSubscription=this.navigationService.close.subscribe(()=>this.togglePopup(!1)),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}unsubscribeEvents(){cb()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())}handleItemChange(e){const t=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!bE(t))return;let i=CE(this.dataService.itemAt(t),this.valueField);this.change(i)}handleItemFocus(e){const t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=CE(this.dataService.itemAt(t),this.valueField))}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:e,vertical:"top"},anchorAlign:{horizontal:e,vertical:"bottom"}});const t=this.popupRef.popupElement,{min:i,max:n}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=i,t.style.width=n,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new VE;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}firstFocusableIndex(e){const t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let i=CE(t.value,this.valueField);return i=bE(i)?i.toString().toLowerCase():"",i.startsWith(e.toLowerCase())}:t=>{let i=CE(t,this.valueField);return i=bE(i)?i.toString().toLowerCase():"",i.startsWith(e.toLowerCase())}}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}}return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(OE),Oo(zx),Oo(AE),Oo(ME),Oo(PE),Oo(ou),Oo(Wr),Oo(Ja),Oo(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,i){var n;1&e&&(Dc(i,IE,!0),Dc(i,TE,!0),Dc(i,_E,!0),Dc(i,LE,!0),Dc(i,FE,!0),Dc(i,DE,!0)),2&e&&(Ic(n=Oc())&&(t.template=n.first),Ic(n=Oc())&&(t.headerTemplate=n.first),Ic(n=Oc())&&(t.footerTemplate=n.first),Ic(n=Oc())&&(t.noDataTemplate=n.first),Ic(n=Oc())&&(t.groupTemplate=n.first),Ic(n=Oc())&&(t.fixedGroupTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(_c(Lk,!0,wl),_c(Vk,!0),_c(EE,!0),_c(Hk,!0)),2&e&&(Ic(i=Oc())&&(t.container=i.first),Ic(i=Oc())&&(t.popupTemplate=i.first),Ic(i=Oc())&&(t.searchbar=i.first),Ic(i=Oc())&&(t.optionsList=i.first))},hostVars:9,hostBindings:function(e,t){2&e&&(Fo("dir",t.dir),ua("k-widget",t.widgetClasses)("k-autocomplete",t.widgetClasses)("k-header",t.widgetClasses)("k-state-disabled",t.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[Ga([GE,OE,AE,ME,PE,jb,{provide:zb,useValue:"kendo.autocomplete"},{provide:HE,useExisting:xe(()=>e)},{provide:Tb,useExisting:xe(()=>e)}]),Pa],decls:11,vars:15,consts:[["kendoAutoCompleteLocalizedMessages","",6,"noDataText","clearTitle"],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,Bk),jo(),Vo(2,"kendo-searchbar",1,2),Ko("onNavigate",(function(e){return t.handleNavigate(e)}))("valueChange",(function(e){return t.searchBarChange(e)}))("onBlur",(function(){return t.handleBlur()}))("onFocus",(function(){return t.handleFocus()})),Ho(),Ao(4,zk,1,1,"span",3),Ao(5,jk,1,0,"span",4),Ao(6,Qk,5,14,"ng-template",null,5,Lc),Ao(8,Jk,1,0,"ng-template",6),Uo(9,null,7)),2&e&&(ms(2),Mo("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),ms(2),Mo("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),ms(1),Mo("ngIf",t.loading),ms(3),Mo("ngIf",t.isOpen))},directives:function(){return[eI,EE,Lh,zE,YE,Eb]},encapsulation:2}),e})();const $E=new Ve("dropdowns-touch-enabled");let KE=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListValueTemplate",""]]}),e})();const WE={multi:!0,provide:fw,useExisting:xe(()=>ZE)};let ZE=(()=>{class e{constructor(e,t,i,n,s,r,o,a,l,c,u){this.localization=e,this.popupService=t,this.selectionService=i,this.navigationService=n,this.disabledItemsService=s,this.dataService=r,this._zone=o,this.renderer=a,this.hostElement=l,this.cdr=c,this.touchEnabled=u,this.focusableId="k-"+wE(),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new gc,this.filterChange=new gc,this.selectionChange=new gc,this.open=new gc,this.close=new gc,this.onFocus=new gc,this.onBlur=new gc,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=wE(),this.optionPrefix=wE(),this.filterText="",this._isFocused=!1,this.onTouchedCallback=e=>{},this.onChangeCallback=e=>{},this.word="",this.last="",this.filterFocused=new gc,this.filterBlurred=new gc,this.wrapperFocused=new gc,this.wrapperBlurred=new gc,this.selectionSubscription=new h,this._open=!1,this._popupSettings={animate:!0},this.direction=e.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}get width(){const e=cb()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return bE(e)?e+"px":"auto"}get widgetTabIndex(){if(this.disabled)return;const e=Number(this.tabIndex);return isNaN(e)?0:e}get ariaExpanded(){return this.isOpen}get ariaOwns(){if(this.isOpen)return this.listBoxId}get ariaActivedescendant(){if(bE(this.dataItem))return this.optionPrefix+"-"+CE(this.dataItem,this.valueField)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const e=this.virtual;if(e){const t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}set value(e){bE(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set virtual(e){this._virtualSettings=UE(e)}get virtual(){return this._virtualSettings}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return bE(this._valuePrimitive)?this._valuePrimitive:!bE(this.valueField)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}blurComponent(){this.wrapperBlurred.emit()}blurFilterInput(){this.filterBlurred.emit()}focusComponent(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,db(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}))}keydown(e){const t=bE(this.defaultItem)?-1:0;let i=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,n=0;if(this.disabled||this.readonly)return;if(this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===_b.Home||e.keyCode===_b.End))return;const s=bE(this.selectionService.selected[0]),r=bE(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);s&&!r||(e.keyCode===_b.ArrowDown||e.keyCode===_b.ArrowRight?n=-1:e.keyCode!==_b.ArrowUp&&e.keyCode!==_b.ArrowLeft||(n=1));const o=e,a=this.navigationService.process({current:i+n,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:o});a===RE.Undefined||a===RE.Tab||a===RE.Backspace||a===RE.Delete||(a===RE.Left||a===RE.Right)&&this.filterable||a===RE.Enter||o.preventDefault()}keypress(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}click(e){e.preventDefault(),this.focus(),this.togglePopup(!this.isOpen)}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:i}=this.width;e.style.minWidth=t,e.style.width=i}}get dir(){return this.direction}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e}get isFocused(){return this._isFocused}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages(),this.assignAriaDescribedBy()}isEmpty(){const e=this.value;return!(0===e||!1===e||e||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),ub("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),hb(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}toggle(e){Promise.resolve(null).then(()=>{const t=bE(e)?e:!this._open;this._toggle(t)})}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new VE;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}get isOpen(){return this._open}reset(){this.value=void 0}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return CE(this.defaultItem,this.textField)}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const t=this.popupRef.popupElement,{min:i,max:n}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=i,t.style.width=n,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=this.prop(this.textField,this.valuePrimitive)(e),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const t=!bE(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}onSelectionChange({dataItem:e}){this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy()}subscribeEvents(){cb()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(hg(e=>this.isOpen),L(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(K(this.selectionService.onSelect.pipe(hg(e=>!this.isOpen)),this.selectionService.onChange).pipe(L(this.itemFromEvent.bind(this)),Gg(e=>this.togglePopup(!1))).subscribe(({dataItem:e,value:t,newSelection:i})=>{i&&this.onSelectionChange({dataItem:e});const n=!bE(e)&&this._previousDataItem,s=t!==this.prop(this.valueField,this.valuePrimitive)(this.value);n?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):s&&(this.value=this.valuePrimitive?t:e,this._previousDataItem=e,this.emitChange(this.value)),this.clearFilter()})),this.navigationSubscription=K(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(sk(()=>this.filterable)),this.navigationService.right.pipe(sk(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(hg(e=>!isNaN(e.index))).subscribe(e=>this.selectionService.select(e.index)),this.openSubscription=this.navigationService.open.subscribe(()=>this.togglePopup(!0)),this.closeSubscription=this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()}),this.enterSubscription=this.navigationService.enter.pipe(Gg(e=>e.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(jg(()=>Fb(10).pipe(Fg(1),Ub(this.wrapperFocused)))).subscribe(()=>{this.wrapperBlurred.emit()}),this._zone.runOutsideAngular(()=>{this.componentBlurredSubscription=K(this.wrapperBlurred.pipe(jg(()=>Fb(10).pipe(Fg(1),Ub(this.filterFocused)))),this.navigationService.tab).pipe(Gg(e=>e instanceof NE&&this.focus()),hg(()=>this.isFocused)).subscribe(()=>this.componentBlur())}))}unsubscribeEvents(){cb()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}itemFromEvent(e){const t=e.indices[0];let i=this.dataService.itemAt(t);i=bE(i)?i:this.currentOrDefault(t);const n=this.prop(this.valueField,this.valuePrimitive)(i);return{dataItem:i,index:t,newSelection:e.newSelection,value:n}}currentOrDefault(e){return bE(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}firstFocusableIndex(e){const t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){bE(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if(Sn()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&bE(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&bE(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!bE(this.valueField)!=!bE(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}componentBlur(){this.isFocused=!1;const e=this.prop(this.valueField,this.valuePrimitive),t=bE(this.selectionService.selected[0])&&e(this.value)!==e(this.dataService.itemAt(this.selectionService.selected[0]));t||db(this.close)||db(this.onBlur)||db(this.filterChange)||xE(this.hostElement.nativeElement)?this._zone.run(()=>{t&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):this.togglePopup(!1)}onMouseDown(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}onKeyPress(e){if(0===e.which||e.keyCode===_b.Enter)return;let t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let e=this.dataService.filter(e=>bE(e)&&!e.header&&!this.disabledItemsService.isItemDisabled(e)).map(e=>this.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:this.dataService.indexOf(e)});const t=((e,t)=>{for(let i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0})(this.word,this.last);let i,n,s,r=e.length,o=!isNaN(this.selectionService.selected[0]),a=o?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(s={item:this.defaultItem,itemIndex:-1},r+=1,a+=1),a+=t&&o?1:0,e=((e,t,i)=>{let n=e;return i&&(n=[i].concat(n)),n.slice(t).concat(n.slice(0,t))})(e,a,s),n=0;n<r;n++){i=CE(e[n].item,this.textField);const s=Boolean(t&&SE(i,this.last,this.ignoreCase)),r=Boolean(SE(i,this.word,this.ignoreCase));if(s||r){n=e[n].itemIndex;break}}n!==r&&this.navigate(n)}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}navigate(e){this.selectionService.select(e)}prop(e,t){return i=>{return bE(i)?t?e&&bE(n=i)&&"object"==typeof n?i[e]:i:i[e]:null;var n}}findDataItem({primitive:e,valueField:t,value:i}){const n={dataItem:null,index:-1},s=this.prop(t,e);let r;r=this.dataService.grouped?e=>s(e.value)===s(i):e=>s(e)===s(i);const o=this.dataService.findIndex(r);return n.dataItem=this.dataService.itemAt(o),n.index=o,n}setState(){const e=this.value,t=this.valueField,i=this.textField,n=this.valuePrimitive;if(this.defaultItem){const i=this.prop(t,n)(this.defaultItem),s=this.prop(t,n)(e);if(!bE(e)||s===i)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const s=this.findDataItem({primitive:n,valueField:t,value:e}),r=!(n&&i);s.dataItem?(this.updateState({dataItem:s.dataItem,confirm:!0}),this.resetSelection(s.index)):bE(e)&&r?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(e){this.filterChange.emit(e.target.value)}pageChange(e){this.virtual.skip=e.skip}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}assignAriaDescribedBy(){const e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=wE();const t=`${this.valueLabelId} ${e}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}}return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(zx),Oo(AE),Oo(ME),Oo(PE),Oo(OE),Oo(ou),Oo(Ja),Oo(Wa),Oo(Wr),Oo($E,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,i){var n;1&e&&(Dc(i,IE,!0),Dc(i,FE,!0),Dc(i,DE,!0),Dc(i,KE,!0),Dc(i,TE,!0),Dc(i,_E,!0),Dc(i,LE,!0)),2&e&&(Ic(n=Oc())&&(t.itemTemplate=n.first),Ic(n=Oc())&&(t.groupTemplate=n.first),Ic(n=Oc())&&(t.fixedGroupTemplate=n.first),Ic(n=Oc())&&(t.valueTemplate=n.first),Ic(n=Oc())&&(t.headerTemplate=n.first),Ic(n=Oc())&&(t.footerTemplate=n.first),Ic(n=Oc())&&(t.noDataTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(_c(Lk,!0,wl),_c(Vk,!0),Tc(Xk,!0),_c(Hk,!0)),2&e&&(Ic(i=Oc())&&(t.container=i.first),Ic(i=Oc())&&(t.popupTemplate=i.first),Ic(i=Oc())&&(t.wrapper=i.first),Ic(i=Oc())&&(t.optionsList=i.first))},hostVars:7,hostBindings:function(e,t){2&e&&(Fo("dir",t.dir),ua("k-widget",t.widgetClasses)("k-dropdown",t.widgetClasses)("k-header",t.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",valuePrimitive:"valuePrimitive",tabIndex:"tabIndex",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[Ga([WE,OE,AE,ME,PE,jb,{provide:zb,useValue:"kendo.dropdownlist"},{provide:HE,useExisting:xe(()=>e)},{provide:Tb,useExisting:xe(()=>e)}]),Pa],decls:14,vars:24,consts:[["kendoDropDownListLocalizedMessages","",6,"noDataText"],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","kendoEventsOutsideAngular","scope","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],["unselectable","on",1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,eE),jo(),Vo(2,"span",1,2),Ko("keydown",(function(e){return t.keydown(e)}))("keypress",(function(e){return t.keypress(e)}))("click",(function(e){return t.click(e)})),Vo(4,"span",3),Ao(5,iE,1,4,void 0,4),Ao(6,nE,1,1,"ng-template",5),Ho(),Vo(7,"span",6),Bo(8,"span",7),Ho(),Ao(9,mE,8,17,"ng-template",null,8,Lc),Ho(),Ao(11,vE,1,0,"ng-template",5),Uo(12,null,9)),2&e&&(ms(2),Mo("id",t.focusableId)("ngClass",ic(18,yE,!t.disabled,t.disabled))("kendoEventsOutsideAngular",ic(21,lk,t.focusComponent,t.blurComponent))("scope",t),Fo("dir",t.direction)("readonly",t.readonly)("tabindex",t.widgetTabIndex)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("aria-activedescendant",t.ariaActivedescendant)("aria-label",t.noDataLabel),ms(2),Mo("id",t.valueLabelId),ms(1),Mo("ngIf",t.valueTemplate),ms(1),Mo("ngIf",!t.valueTemplate),ms(2),Mo("ngClass",t.buttonClasses),ms(3),Mo("ngIf",t.isOpen))},directives:function(){return[eI,Oh,mb,Lh,YE,zE,bw,oI,Iw,EC,QE,Eb]},encapsulation:2}),e})(),YE=(()=>{class e{constructor(e){this.viewContainerRef=e}set templateContext(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}return e.\u0275fac=function(t){return new(t||e)(Oo(wl))},e.\u0275dir=bt({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e})(),QE=(()=>{class e{constructor(e){this.multipleSelection=!1,this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}}return e.\u0275fac=function(t){return new(t||e)(Oo(AE))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&Ko("click",(function(e){return t.onClick(e)})),2&e&&(Fo("index",t.index),ca("height",t.height,"px")("min-height",t.height,"px"),ua("k-state-focused",t.focusedClassName)("k-state-selected",t.selectedClassName))},inputs:{multipleSelection:"multipleSelection",index:"index",height:"height"}}),e})(),JE=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return XE(t||e)},e.\u0275dir=bt({type:e,inputs:{noDataText:"noDataText",clearTitle:"clearTitle"},features:[_a]}),e})();const XE=on(JE);let eI=(()=>{class e extends JE{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""]],features:[Ga([{provide:JE,useExisting:xe(()=>e)}]),_a]}),e})(),tI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),iI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,MC,jx,Ib,tI,vb],Kh,MC,jx,Ib,tI,vb]}),e})(),nI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[iI],tI]}),e})();const sI=tk;let rI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:$E,useValue:sI}],imports:[[iI],tI]}),e})(),oI=(()=>{class e{constructor(e,t){this.element=e,this.zone=t}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[Pa]}),e})(),aI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[iI],tI]}),e})();const lI=tk;let cI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:$E,useValue:lI}],imports:[[iI],tI]}),e})(),uI=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[nI,rI,aI,cI]}),e})();const hI=()=>"undefined"!=typeof window,dI={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},pI={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},fI={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},gI={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},mI=(e,t,i)=>{for(let n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return void 0!==i?i:e},vI=hI()&&window.navigator?window.navigator.userAgent:null,yI=vI?(e=>{let t=null,i=[];for(let n in fI)if(fI.hasOwnProperty(n)&&(i=e.match(fI[n]),i)){t={},t[n]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t})(vI):null,bI=vI?(e=>{let t,i=[];for(let n in dI)if(dI.hasOwnProperty(n)){if(i=e.match(dI[n]),!i)continue;if("windows"===n&&"plugins"in window.navigator)return null;const s={};return s.device=n,s.browser=mI(e,gI,"default"),s.name=mI(n,pI),s[s.name]=!0,s.majorVersion=i[2],s.minorVersion=i[3].replace("_","."),t=s.minorVersion.replace(".","").substr(0,2),s.flatVersion=s.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),s.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,s.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||s.cordova,s}return null})(vI):null;function wI(e){return"string"==typeof e}hI()&&window,yI&&!yI.chrome&&window,yI&&!yI.chrome&&window;const CI=/\{(\d+)}?\}/g;class SI{constructor({name:e,message:t}){if(!e||!t)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=t}formatMessage(...e){const t=xI(e),i=this.message.replace(CI,(function(e,i){return t[parseInt(i,10)]}));return`${this.name}: ${i}`}error(...e){return new Error(this.formatMessage(e))}}const xI=function(e){return e.reduce((e,t)=>e.concat(t),[])},kI=(EI={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(EI).reduce((function(e,t){return e[t]=new SI({name:t,message:EI[t]}),e}),{}));var EI;const II={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},millisecond:{wide:"millisecond",short:"ms",narrow:"ms"},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function TI(e){let t;return t=wI(e)?_I(e):e,t}function _I(e){if(II[e])return II[e];if(II.supplemental.likelySubtags){const t=e.split("-"),i=t[0],n=t.slice(1),s=function(e,t){const i=II.supplemental.likelySubtags;for(let n=0;n<t.length;n++){let s=i[e+"-"+t[n]];if(s)return s}if(i[e])return i[e]}(i,n),r=s?function(e,t){const i=e.split("-"),n=i[0],s=i[1],r=i[2];return II[e]||-1!==t.indexOf(r)&&II[n+"-"+r]||-1!==t.indexOf(s)&&II[n+"-"+s]||II[n]}(s,n):null;if(r)return r}throw kI.NoLocale.error(e)}function FI(e){if(e.territory)return e.territory;const t=e.identity;let i;return i=t&&t.territory?t.territory:function(e,t){const i=II.supplemental.likelySubtags;let n=e.split("-");if(i){const t=i[e]||i[n[0]];t&&(n=t.split("-"))}if(t)for(let r=n.length-1;r>=1;r--){const e=n[r];e!==t.variant&&e!==t.script||n.splice(r,1)}const s=n.length;if(s>1)return n[s-1].toUpperCase()}(e.name,t),e.territory=i,i}function DI(e,t="en"){const i=_I(t).calendar.dateFields;if(!i)throw kI.NoDateFieldNames.error();const n=i[e.type]||{};return n[e.nameType]||n.wide}function AI(e,t){const{type:i,nameType:n,standAlone:s,lower:r}=t,o=(r?"lower-":"")+n,a=TI(e).calendar[i][s?"stand-alone":"format"];let l=a[o];var c;return!l&&r&&(l=a[o]=(c=a[n],Array.isArray(c)?function(e){const t=[];for(let i=0;i<e.length;i++)t.push(e[i].toLowerCase());return t}(c):function(e){const t={};for(let i in e)t[i]=e[i].toLowerCase();return t}(c))),l}function RI(e){const t=e.split("-"),i=parseInt(t[0],10),n=parseInt(t[1],10)-1,s=parseInt(t[2],10);return new Date(i,n,s)}const{NoCurrency:OI,NoCurrencyDisplay:PI,NoSupplementalCurrency:NI,NoCurrencyRegion:MI,NoValidCurrency:LI}=kI,VI="symbol",HI={"001":"USD",150:"EUR"};function BI(e,t,i){const n=TI(e).numbers.currencies;if(!n){if(i)throw OI.error();return}const s=n[t];if(s)return s;if(i)throw PI.error()}function zI(e,t){return t.length-e.length}function jI(e,t){const i=TI(e),n=i.numbers;if(!n.localeCurrency){const e=function(e,t=!0){if(HI[e])return HI[e];const i=II.supplemental.currencyData;if(!i){if(t)throw NI.error();return}const n=i.region[e];if(n)return function(e){let t,i,n,s;for(let r=0;r<e.length;r++){const o=e[r],a=Object.keys(o)[0],l=o[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!n){const e=RI(l._from),n=RI(l._to);(!i||i.to<n||i.from<e)&&(t=a,i={from:e,to:n})}}else{const e=RI(l._from);(!s||s<e)&&(n=a,s=e)}}return n||t}(n);if(t)throw MI.error(e)}(FI(i),t);if(!e&&t)throw LI.error(i.name);n.localeCurrency=e}return n.localeCurrency}const UI=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:GI,NoFirstDay:qI}=kI;function $I(e){const t=TI(e);if(!isNaN(t.firstDay))return t.firstDay;const i=II.supplemental.weekData;if(!i)throw GI.error();const n=i.firstDay[FI(t)]||i.firstDay["001"];if(!n)throw qI.error();return t.firstDay=UI.indexOf(n),t.firstDay}const{NoWeekData:KI}=kI;function WI(e){const t=TI(e);if(t.weekendRange)return t.weekendRange;const i=II.supplemental.weekData;if(!i)throw KI.error();const n=FI(t),s=i.weekendEnd[n]||i.weekendEnd["001"];return t.weekendRange={start:UI.indexOf(i.weekendStart[n]||i.weekendStart["001"]),end:UI.indexOf(s)},t.weekendRange}function ZI(e){return TI(e).numbers.symbols}function YI(e){return 1/e==-1/0}function QI(e,t={}){return t.currency||(t.currency=jI(e,!0)),function(e,t){const{value:i,currency:n,currencyDisplay:s=VI}=t;if("code"===s)return n;const r=BI(e,n,!0);let o;return o=s===VI?r["symbol-alt-narrow"]||r[VI]:void 0===typeof i||1!==i?r["displayName-count-other"]:r["displayName-count-one"],o}(e,t)}function JI(e,t,i,n,s){const r=s.numbers.symbols,o=e.indexOf(r.decimal),a=n.groupSize.slice();let l=a.shift(),c=-1!==o?o:i+1,u=e.substring(t,c),h=e;const d=u.length;if(d>=l){let i=d,n=[];for(;i>-1;){let e=u.substring(i-l,i);e&&n.push(e),i-=l;let t=a.shift();if(l=void 0!==t?t:l,0===l){e=u.substring(0,i),e&&n.push(e);break}}u=n.reverse().join(r.group),h=e.substring(0,t)+u+e.substring(c)}return h}function XI(e){return"currency"===e||"accounting"===e}function eT(e,t=2,i=!1){const n=t-String(e).length;let s=e;if(n>0){const t=new Array(n+1).join("0");s=i?e+t:t+e}return s}function tT(e,t){let i=e,n=t||0;return i=i.toString().split("e"),i=Math.round(Number(i[0]+"e"+(i[1]?Number(i[1])+n:n))),i=i.toString().split("e"),i=Number(i[0]+"e"+(i[1]?Number(i[1])-n:-n)),i.toFixed(Math.min(n,20))}const iT=/0+$/,nT=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function sT(e,t){const i=e.format;-1!==i.indexOf("%")&&(e.style="percent",e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==i.indexOf("$")&&(e.style="currency",e.symbol=QI(t))}function rT(e){let t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){const i=e.literals=[];e.format=t.replace(nT,(function(e){const t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return i.push(n),"__??__"}))}}const oT=/(\.(?:[0-9]*[1-9])?)0+$/g,aT=/\.$/,lT=/\,/g;function cT(e,t,i){let n;return n=-1===e&&-1!==t?t:-1!==e&&-1===t?e:i?Math.min(e,t):Math.max(e,t),n}const uT=/^(n|c|p|e|a)(\d*)$/i;function hT(e){let t;return t=wI(e)?function(e){const t=uT.exec(e);if(t){const e={style:"decimal"};let i=t[1].toLowerCase();return"c"===i?e.style="currency":"a"===i?e.style="accounting":"p"===i?e.style="percent":"e"===i&&(e.style="scientific"),t[2]&&(e.minimumFractionDigits=e.maximumFractionDigits=parseInt(t[2],10)),e}}(e):e,t}function dT(e,t="n",i="en"){if(null==e)return"";if(!isFinite(e))return String(e);const n=_I(i),s=hT(t);let r;return r=s?function(e,t,i){const n=i.numbers.symbols,{style:s}=t,r=XI(s);if("scientific"===s)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(".",n.decimal);let o,a=e;r&&(t.value=a,o=QI(i,t)),"percent"===s&&(a*=100,o=n.percentSign);const{minimumFractionDigits:l,maximumFractionDigits:c}=function(e){let{minimumFractionDigits:t,maximumFractionDigits:i,style:n}=e;const s=XI(n);let r;return s&&(r=function(e){let t=2,i=2;const n=((II.supplemental.currencyData||{}).fractions||{})[e];return n&&n._digits&&(i=t=parseInt(n._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:i}}(e.currency)),void 0===t&&(t=s?r.minimumFractionDigits:0),void 0===i&&(i="percent"===n?Math.max(t,0):s?Math.max(t,r.maximumFractionDigits):Math.max(t,3)),{minimumFractionDigits:t,maximumFractionDigits:i}}(t);a=tT(a,c);const u=a<0,h=YI(e),d=a.split(".");let p=d[0],f=eT(d[1]?d[1].replace(iT,""):"",l,!0);u&&(p=p.substring(1)),t.minimumIntegerDigits&&(p=eT(p,t.minimumIntegerDigits));let g,m=!1!==t.useGrouping?JI(p,0,p.length,t,i):p;if(f&&(m+=n.decimal+f),r&&"name"===t.currencyDisplay)g=function(e,t){const i=e.numbers.currency;let n=1!==t?i["unitPattern-count-other"]:i["unitPattern-count-one"];return t<0&&(n=n.replace("n","-n")),n}(i,e);else{const e=t.patterns;g=u||h?e[1]||"-"+e[0]:e[0]}return"n"!==g||u?function(e,t,i){let n="";for(let s=0,r=t.length;s<r;s++){let r=t.charAt(s);n+="n"===r?e:"$"===r||"%"===r?i:r}return n}(m,g,o):m}(e,Object.assign({},n.numbers[s.style||"decimal"],s),n):function(e,t,i){const n={negative:e<0,number:Math.abs(e),negativeZero:YI(e),format:t};return function(e){let{number:t,format:i}=e;if(i=i.split(";"),(e.negative||e.negativeZero)&&i[1])i=i[1],e.hasNegativeFormat=!0;else if(0===t){const t=i[2];i=t||i[0],t&&function(e){return-1===e.indexOf("#")&&-1===e.indexOf("0")}(t)&&(e.constant=t)}else i=i[0];e.format=i}(n),n.constant?n.constant:(rT(n),sT(n,i),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(lT,""))}(n),function(e){let{number:t,format:i}=e,n=i.indexOf(".");if(-1!==n){const s=i.lastIndexOf("0")-n,r=i.lastIndexOf("#")-n,o=s>-1,a=r>-1;let l=t.toString().split("e");l=l[1]?tT(t,Math.abs(l[1])):l[0],l=l.split(".")[1]||"";let c=l.length,u=-1;o||a?o&&s>r?c=s:r>s&&(a&&c>r?c=r:o&&c<s&&(c=s),u=o?s:0):(e.format=i.substring(0,n)+i.substring(n+1),n=-1,c=0),c>-1&&(t=tT(t,c),u>-1&&(t=function(e,t){let i;return i=0===t?oT:new RegExp(`(\\.[0-9]{${t}}[1-9]*)0+$`,"g"),e.replace(i,"$1").replace(aT,"")}(t,u)))}else t=tT(t);e.negative&&-1*t>=0&&!e.negativeZero&&(e.negative=!1),e.number=t,e.decimalIndex=n}(n),function(e){const t=e.format;let i=t.indexOf("#"),n=t.indexOf("0"),s=cT(i,n,!0);i=t.lastIndexOf("#"),n=t.lastIndexOf("0");let r=cT(i,n);s===t.length&&(r=s),e.start=s,e.end=r,e.lastZeroIndex=n}(n),function(e,t){let i=e.number;return-1!==e.start&&(i=function(e,t){const{start:i,end:n,negative:s,negativeZero:r,format:o,decimalIndex:a,lastZeroIndex:l,hasNegativeFormat:c,hasGroup:u}=e;let h=e.number;const d=h.toString().split("."),p=o.length,f=d[0],g=d[1]||"",m=f.length;let v="";h=o.substring(0,i),!s&&!r||c||(h+="-");for(let y=i;y<p;y++){let e=o.charAt(y);if(-1===a){if(n-y<m){h+=f;break}}else if(-1!==l&&l<y&&(v=""),a-y<=m&&a-y>-1&&(h+=f,y=a),a===y){h+=(g?t.numbers.symbols.decimal:"")+g,y+=n-a+1;continue}"0"===e?(h+=e,v=e):"#"===e&&(h+=v)}return u&&(h=JI(h,i+(s&&!c?1:0),Math.max(n,m+i),t.numbers.decimal,t)),n>=i&&(h+=o.substring(n+1)),h}(e,t),i=function(e,t,i){let n=e;if("currency"===t||"percent"===t){n="";for(let t=0,s=e.length;t<s;t++){let s=e.charAt(t);n+="$"===s||"%"===s?i:s}}return n}(i,e.style,e.symbol),i=function(e,t){let i=e;if(t){const e=t.length;for(let n=0;n<e;n++)i=i.replace("__??__",t[n])}return i}(i,e.literals)),i}(n,i))}(e,t,n),r}function pT(e){return"number"==typeof e}const fT=/[eE][\-+]?[0-9]+/,gT=/\u00A0/g;function mT(e,t){if(t.length>1){const i=(t[1]||"").replace("$","").split("n");if(e.indexOf(i[0])>-1&&e.indexOf(i[1])>-1)return e.replace(i[0],"").replace(i[1],"")}}function vT(e,t="en",i={}){if(!e&&0!==e)return null;if(pT(e))return e;const n=_I(t),s=n.numbers.symbols;let r,o=e.toString(),a=i||{};if(wI(i)&&(a={format:i},rT(a),o=function(e,t){const i=t.literals;let n=e;if(i)for(let s=0;s<i.length;s++)n=n.replace(i[s],"");return n}(o,a),sT(a,n)),("percent"===a.style||o.indexOf(s.percentSign)>-1)&&(o=o.replace(s.percentSign,""),r=!0),fT.test(o))return o=parseFloat(o.replace(s.decimal,".")),isNaN(o)?null:o;const{negative:l,number:c}=function(e,t,i){const n=hT(i)||{};let s,r=XI(n.style),o=e;const a=n.currency||jI(t,r);if(a){const e=function(e,t,i=!0){const n=BI(e,t,i);if(n){if(!n.displays){const e=[t];for(let t in n)e.push(n[t]);e.sort(zI),n.displays=e}return n.displays}}(t,a,r);if(e)for(let t=0;t<e.length;t++){let i=e[t];if(o.includes(i)){o=o.replace(i,""),r=!0;break}}if(r){const e=mT(o,t.numbers.currency.patterns)||mT(o,t.numbers.accounting.patterns);e&&(s=!0,o=e)}}return{number:o,negative:s}}(o,n,a);o=String(c).trim();const u=o.indexOf("-");if(u>0)return null;let h=u>-1;return h=void 0!==l?l:h,o=o.replace("-","").replace(gT," ").split(s.group.replace(gT," ")).join("").replace(s.decimal,"."),o=parseFloat(o),isNaN(o)?o=null:h&&(o*=-1),o&&r&&(o/=100),o}const yT=/\{(\d+)}/g;function bT(e){const t=arguments;return e.replace(yT,(e,i)=>t[parseInt(i,10)+1])}const wT=[2,1,5,3,4],CT={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},ST={numeric:1,"2-digit":2,short:3,long:4,narrow:5},xT=/[hHmsSzZoOvVxX]/,kT=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],ET={e:"c",E:"c",M:"L",Q:"q"},IT={},TT={};function _T(e){return IT[e]||(IT[e]=new RegExp(e+"+")),IT[e]}function FT(e){const t=[];let i=e.charAt(0),n=i;for(let s=1;s<e.length;s++){let r=e.charAt(s);r===n?i+=r:(t.push(i),i=n=r)}return t.push(i),t}function DT(e,t){const i=e.length;let n,s,r=-Number.MAX_VALUE;for(let o in t){const a=[];let l=o.replace("v","z"),c=0;for(let t=0;t<i;t++){const i=e[t];let n=(_T(i[0]).exec(l)||[])[0];if(n){if(l=l.replace(n,""),n.length!==i.length){let e=Math.max(Math.min(wT[n.length]-wT[i.length],2),-2);c-=CT[e]}}else c-=120;if(a.push(n),c<r)break}l.length&&(c-=20*FT(l).length),c>r&&(r=c,n=a,s=t[o])}s=s.replace("v","z");for(let o=0;o<i;o++){const t=n[o];if(t&&t!==e[o]){const t=n[o][0];s=s.replace(_T(t),e[o]),ET[t]&&(s=s.replace(_T(ET[t]),e[o]))}}return s}function AT(e,t){const i=t.calendar;let n;if(wI(e))n=i.patterns[e]?i.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;let s=e.skeleton;s||(e.datetime?n=bT(i.dateTimeFormats[e.datetime],i.timeFormats[e.datetime],i.dateFormats[e.datetime]):e.date?n=i.dateFormats[e.date]:e.time?n=i.timeFormats[e.time]:s=function(e){let t=[];for(let i=0;i<kT.length;i++){let n=kT[i],s=e[n.key];if(s){let i=n.specifier||n.getSpecifier(e);t.push(i.repeat(ST[s]))}}return t.join("")}(e)),s&&(n=function(e,t){const i=t.calendar.dateTimeFormats.availableFormats;if(i[e])return i[e];if(TT[t.name]&&TT[t.name][e])return TT[t.name][e];const n=e.search(xT);let s;if(n>0){const r=e.substr(0,n),o=e.substr(n);s=bT(t.calendar.dateTimeFormats.short,i[o]||DT(FT(o),i),i[r]||DT(FT(r),i))}else s=DT(FT(e),i);return function(e,t,i){TT[i]||(TT[i]={}),TT[i][e]=t}(e,s,t.name),s}(s,t))}return n||(n=i.patterns.d),n}function RT(e){let t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function OT(e,t,i,n,s){return AI(e,{type:t,nameType:RT(i),standAlone:n,lower:s})}function PT(e){return"function"==typeof e}function NT(e){return Boolean(e)&&PT(e.getTime)&&PT(e.getMonth)}const MT={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},LT=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function VT(e,t,i,n){return t<=2?eT(e+1,t):OT(i,"months",t,n)[e]}function HT(e,t,i,n){const s=Math.floor(e.getMonth()/3);return t<3?s+1:OT(i,"quarters",t,n)[s]}function BT(e,t,i){const{shortHours:n,optionalMinutes:s,separator:r,localizedName:o,zZeroOffset:a}=i,l=e.getTimezoneOffset()/60;if(0===l&&a)return"Z";const c=l<=0?"+":"-",u=Math.abs(l).toString().split("."),h=u[1]||0;let d=c+(n?u[0]:eT(u[0],2));return!h&&s||(d+=(r?":":"")+eT(h,2)),o&&(d=bT(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,d)),d}function zT(e,t,i,n){let s;return s=t<3?function(e,t,i){const n=$I(i);let s;return s=e<n?7-n+e:e-n,s+1}(e.getDay(),0,i):OT(i,"days",t,n)[e.getDay()],s}const jT=function(){var e={d:function(e,t){return eT(e.getDate(),t)},E:function(e,t,i){return OT(i,"days",t)[e.getDay()]},M:function(e,t,i){return VT(e.getMonth(),t,i,!1)},L:function(e,t,i){return VT(e.getMonth(),t,i,!0)},y:function(e,t){let i=e.getFullYear();return 2===t&&(i%=100),eT(i,t)},h:function(e,t){return eT(e.getHours()%12||12,t)},H:function(e,t){return eT(e.getHours(),t)},k:function(e,t){return eT(e.getHours()||24,t)},K:function(e,t){return eT(e.getHours()%12,t)},m:function(e,t){return eT(e.getMinutes(),t)},s:function(e,t){return eT(e.getSeconds(),t)},S:function(e,t){const i=e.getMilliseconds();let n;return n=0!==i?eT(String(i/1e3).split(".")[1].substr(0,t),t,!0):eT("",t),n},a:function(e,t,i){return OT(i,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},z:function(e,t,i){return BT(e,i,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Z:function(e,t,i){return BT(e,i,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},x:function(e,t,i){return BT(e,i,{optionalMinutes:1===t,separator:3===t||5===t})},X:function(e,t,i){return BT(e,i,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},G:function(e,t,i){let n=e.getFullYear()>=0?1:0;return OT(i,"eras",t)[n]}};return e.e=zT,e.c=function(e,t,i){return zT(e,t,i,!0)},e.q=function(e,t,i){return HT(e,t,i,!0)},e.Q=HT,e}();function UT(e,t,i="en"){if(!NT(e))return null==e?"":e;const n=_I(i);return AT(t,n).replace(LT,(function(t){let i,s=t.length;return i=t.includes("'")||t.includes('"')?t.slice(1,s-1):jT[t[0]](e,s,n),i}))}function GT(e,t,i){const n=e.getTimezoneOffset(),s=new Date(e.getTime()+6e4*(t-i)),r=s.getTimezoneOffset();return new Date(s.getTime()+6e4*(r-n))}const qT=/([+|\-]\d{1,2})(:?)(\d{2})?/,$T=/^\/Date\((.*?)\)\/$/,KT=/[+-]\d*/,WT={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},ZT=/\d+/,YT=/^ */,QT=/ *$/,JT=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],XT=["G","g","F","Y","y","M","m","D","d","y","T","t"];function e_(e,t,i){return!(e>=t&&e<=i)}function t_(e,t){let{format:i,idx:n}=t,s=0;for(;i[n]===e;)s++,n++;return s>0&&(n-=1),t.idx=n,s}function i_(e,t){let i=e?WT[e]||new RegExp("^\\d{1,"+e+"}"):ZT,n=t.value.substr(t.valueIdx,e).match(i);return n?(n=n[0],t.valueIdx+=n.length,parseInt(n,10)):null}function n_(e,t,i){let n,s,r,o=0,a=e.length,l=0,c=0;for(;o<a;o++)n=e[o],s=n.length,r=t.value.substr(t.valueIdx,s),i&&(r=r.toLowerCase()),r===n&&s>l&&(l=s,c=o);return l?(t.valueIdx+=l,c+1):null}function s_(e){let t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function r_(e,t,i){const{shortHours:n,noSeparator:s,optionalMinutes:r,localizedName:o,zLiteral:a}=i;if(e.UTC=!0,a&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(o&&!n_(function(e){const{gmtFormat:t,gmtZeroFormat:i}=e;if(!t)throw kI.NoGMTInfo.error();return[t.replace("{0}","").toLowerCase(),i.replace("{0}","").toLowerCase()]}(t.calendar),e,!0))return!0;const l=qT.exec(e.value.substr(e.valueIdx,6));if(!l)return!o;const c=l[1],u=l[3],h=parseInt(c,10),d=l[2];let p=parseInt(u,10);return!!(isNaN(h)||!n&&3!==c.length||!r&&isNaN(p)||s&&d)||(isNaN(p)&&(p=null),!!(e_(h,-12,13)||p&&e_(p,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=h,void(e.minutesOffset=p)))}function o_(e,t,i){const n=t_(e,t),s=OT(i,"months",n,"L"===e,!0),r=n<3?i_(2,t):n_(s,t,!0);if(null===r||e_(r,1,12))return!0;t.month=r-1}function a_(e,t,i){const n=t_(e,t),s=OT(i,"days",n,"c"===e,!0);let r=n<3?i_(1,t):n_(s,t,!0);if(!r&&0!==r||e_(r,1,7))return!0}const l_=function(){return{d:function(e){t_("d",e);const t=i_(2,e);if(null===t||e_(t,1,31))return!0;null===e.day&&(e.day=t)},E:function(e,t){if(null===n_(OT(t,"days",t_("E",e),!1,!0),e,!0))return!0},M:function(e,t){return o_("M",e,t)},L:function(e,t){return o_("L",e,t)},y:function(e){const t=t_("y",e);let i=i_(1===t?void 0:t,e);if(null===i)return!0;if(2===t){const e=(new Date).getFullYear();i=e-e%100+i,i>2029&&(i-=100)}e.year=i},h:function(e){t_("h",e);let t=i_(2,e);if(12===t&&(t=0),null===t||e_(t,0,11))return!0;e.hours=t},K:function(e){t_("K",e);let t=i_(2,e);if(null===t||e_(t,0,11))return!0;e.hours=t},a:function(e,t){let i=OT(t,"dayPeriods",t_("a",e),!1,!0);const n=n_([i.pm],e,!0);if(!n&&!n_([i.am],e,!0))return!0;e.pmHour=n},H:function(e){t_("H",e);const t=i_(2,e);if(null===t||e_(t,0,23))return!0;e.hours=t},k:function(e){t_("k",e);let t=i_(2,e);if(null===t||e_(t,1,24))return!0;e.hours=24===t?0:t},m:function(e){t_("m",e);const t=i_(2,e);if(null===t||e_(t,0,59))return!0;e.minutes=t},s:function(e){t_("s",e);const t=i_(2,e);if(null===t||e_(t,0,59))return!0;e.seconds=t},S:function(e){const t=t_("S",e),i=e.value.substr(e.valueIdx,t);let n=null;if(isNaN(parseInt(i,10))||(n=parseFloat("0."+i,10),n=tT(n,3),n*=1e3,e.valueIdx+=t),null===n||e_(n,0,999))return!0;e.milliseconds=n},z:function(e,t){const i=t_("z",e)<4,n=r_(e,t,{shortHours:i,optionalMinutes:i,localizedName:!0});if(n)return n},Z:function(e,t){const i=t_("Z",e),n=r_(e,t,{noSeparator:i<4,zLiteral:5===i,localizedName:4===i});if(n)return n},x:function(e,t){const i=t_("x",e),n=r_(e,t,{noSeparator:3!==i&&5!==i,optionalMinutes:1===i});if(n)return n},X:function(e,t){const i=t_("X",e),n=r_(e,t,{noSeparator:3!==i&&5!==i,optionalMinutes:1===i,zLiteral:!0});if(n)return n},G:function(e,t){const i=OT(t,"eras",t_("G",e),!1,!0);if(null===n_([i[0],i[1]],e,!0))return!0},e:function(e,t){return a_("e",e,t)},c:function(e,t){return a_("c",e,t)}}}();function c_(e,t){return`${YT.exec(t)[0]}${e}${QT.exec(t)[0]}`}function u_(e,t,i){let n=AT(t,i).split("");const s={format:n,idx:0,value:c_(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=n.length;let o=!1;for(;s.idx<r;s.idx++){let e=n[s.idx];if(o)"'"===e&&(o=!1),s_(s);else if(l_[e]){if(l_[e](s,i))return null}else if("'"===e)o=!0,s_(s);else if(!s_(s))return null}return s.valueIdx<e.length?null:function(e){let{year:t,month:i,day:n,hours:s,minutes:r,seconds:o,milliseconds:a,pmHour:l,UTC:c,hoursOffset:u,minutesOffset:h}=e;const d=null!==s||null!==r||o||null,p=new Date;let f;return null===t&&null===i&&null===n&&d?(t=p.getFullYear(),i=p.getMonth(),n=p.getDate()):(null===t&&(t=p.getFullYear()),null===n&&(n=1)),l&&s<12&&(s+=12),c?(u&&(s+=-u),h&&(r+=-h*(u<0?-1:1)),f=new Date(Date.UTC(t,i,n,s,r,o,a))):(f=new Date(t,i,n,s,r,o,a),function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(f,s)),t<100&&f.setFullYear(t),f.getDate()!==n&&void 0===c?null:f}(s)||null}function h_(e,t,i="en"){if(!e)return null;if(NT(e))return e;let n=String(e).trim(),s=function(e){if(e&&0===e.indexOf("/D")){let t=$T.exec(e);if(t){t=t[1];let e=KT.exec(t.substring(1));return t=new Date(parseInt(t,10)),e&&(e=function(e){const t="-"===e.substr(0,1)?-1:1;let i=e.substring(1);return i=60*parseInt(i.substr(0,2),10)+parseInt(i.substring(2),10),t*i}(e[0]),t=GT(t,t.getTimezoneOffset(),0),t=GT(t,0,-1*e)),t}}}(n);if(s)return s;const r=_I(i);let o=t||function(e){const t=[],i=e.patterns,n=XT.length;for(let s=0;s<n;s++)t.push(i[XT[s]]);return t.concat(JT)}(r.calendar);o=Array.isArray(o)?o:[o];const a=o.length;for(let l=0;l<a;l++)if(s=u_(n,o[l],r),s)return s;return s}const d_={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}};function p_(e,t){const i=e[e.length-1];i&&"literal"===i.type?i.pattern+=t:e.push({type:"literal",pattern:t})}function f_(e){return"h"===e||"K"===e}function g_(e,t="en"){const i=AT(e,_I(t)),n=[];let s=LT.lastIndex=0,r=LT.exec(i);for(;r;){let e=r[0];if(s<r.index&&p_(n,i.substring(s,r.index)),e.startsWith('"')||e.startsWith("'"))p_(n,e);else{const t=e[0],i=MT[t],s={type:i,pattern:e};"hour"===i&&(s.hour12=f_(e));const r=d_[i];if(r){const i=pT(r.minLength)?r.minLength:r.minLength[t],n=e.length;n>=i&&(s.names={type:r.type,nameType:RT(n),standAlone:r.standAlone===t})}n.push(s)}s=LT.lastIndex,r=LT.exec(i)}return s<i.length&&p_(n,i.substring(s)),n}const m_=/\{(\d+)(:[^\}]+)?\}/g;function v_(e,t,i){if(t){if(NT(e))return UT(e,t,i);if(pT(e))return dT(e,t,i)}return null!=e?e:""}function y_(e,t,i){return e.replace(m_,(function(e,n,s){return v_(t[parseInt(n,10)],s?s.substring(1):"",i)}))}const b_={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1620213344,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},w_="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",C_={NoCurrency:`Solution: ${w_}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${w_}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${w_}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${w_}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${w_}#toc-no-first-day`,NoGMTInfo:`Solution: ${w_}#toc-no-gmt-info`,NoLocale:`Solution: ${w_}#toc-no-locale`,NoValidCurrency:`Solution: ${w_}#toc-no-valid-currency`,NoWeekData:`Solution: ${w_}#toc-no-week-data`};function S_(e){return function(...t){try{return e.apply(null,t)}catch(i){throw i.message=function(e){const t=e.message,i=C_[Object.keys(C_).filter(e=>0===t.indexOf(e))[0]];return i?`${t} ${i}`:t}(i),i}}}const x_=S_(AI),k_=S_(DI),E_=S_($I),I_=S_(y_),T_=S_(UT),__=S_(dT),F_=S_(ZI),D_=S_(h_),A_=S_(vT),R_=S_(g_),O_=S_(v_),P_=S_(WI),N_=/_/g;function M_(e){return new V_(e)}let L_=(()=>{let e=class{constructor(){this.changes=new gc,GC(b_)}notify(){this.changes.emit()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:function(e){return e?new e:M_(We(Kc))},providedIn:"root"}),e.ngInjectableDef=ue({factory:function(){return M_(We(Kc))},token:e,providedIn:"root"}),e})(),V_=(()=>{let e=class extends L_{constructor(e){super(),this.localeId=e}get localeId(){return this.locale}set localeId(e){const t=e.replace(N_,"-");t!==this.locale&&(this.locale=t,this.notify())}format(e,...t){return I_(e,t,this.localeId)}toString(e,t,i){return O_(e,t,i||this.localeId)}formatDate(e,t,i){return T_(e,t,i||this.localeId)}parseDate(e,t,i){return D_(e,t,i||this.localeId)}parseNumber(e,t,i){return A_(e,i||this.localeId,t)}formatNumber(e,t,i){return __(e,t,i||this.localeId)}dateFieldName(e,t){return k_(e,t||this.localeId)}dateFormatNames(e,t){return x_(t||this.localeId,e)}splitDateFormat(e,t){return R_(e,t||this.localeId)}numberSymbols(e){return F_(e||this.localeId)}firstDay(e){return E_(e||this.localeId)}weekendRange(e){return P_(e||this.localeId)}};return e.\u0275fac=function(t){return new(t||e)(We(Kc))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),H_=(()=>{let e=class{constructor(e){this.intlService=e}transform(e,t="",i){return(e=this.normalize(e))?this.intlService.formatDate(e,t,i):e}normalize(e){return e&&"string"==typeof e?e=this.intlService.parseDate(e):e&&(e=>!isNaN(e-parseFloat(e)))(e)&&(e=new Date(parseFloat(e))),e}};return e.\u0275fac=function(t){return new(t||e)(Oo(L_))},e.\u0275pipe=wt({name:"kendoDate",type:e,pure:!0}),e})(),B_=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),z_=(()=>{class e{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,t){this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=z(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(t=>t.instance===e))}cancel(e){const t=this.scheduled,i=t.length;for(let n=0;n<i;n++)if(t[n].instance===e)return t.splice(n,1),void(t.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),j_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[z_]}),e})();$localize`:kendo.slider.increment|The title of the **Increase** button of the Slider.␟0fa71630d40c425b9c366afd7f6c3cecc5bef59d␟8302125540024939132:increment`,$localize`:kendo.slider.decrement|The title of the **Decrease** button of the Slider.␟042c26f68d78afd6834ea46a5f7533850fe8c800␟652458644240352212:decrement`,$localize`:kendo.slider.dragHandle|The title of the drag handle of the Slider.␟481eb98e9cd8ef8e8b22051796441901e883763d␟9117416417579607469:Drag`,$localize`:kendo.switch.on|The **On** label of the Switch.␟155f0a38198ffbf0429c5dbf9765e74f246a8617␟818154782831456441:ON`,$localize`:kendo.switch.off|The **Off** label of the Switch.␟79df1a6d2b35c32b2948e3cee56dd3ffe28127bc␟759820891948194060:OFF`;const U_=["numericInput"],G_=["numericWrap"],q_=["increment",$localize`:kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox␟0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5␟4467784268438010275:Increase value`,"decrement",$localize`:kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox␟df4751834075bf970c77d0da2c960b4e19a6b0dd␟3960022057994897997:Decrease value`],$_=function(e,t){return{mouseup:e,mouseleave:t}},K_=function(e){return{mousedown:e}};function W_(e,t){if(1&e&&(Vo(0,"span",6),Vo(1,"span",7),Bo(2,"span",8),Ho(),Vo(3,"span",9),Bo(4,"span",10),Ho(),Ho()),2&e){const e=Yo();Mo("kendoEventsOutsideAngular",ic(11,$_,e.releaseArrow,e.releaseArrow)),ms(1),ua("k-state-active",e.arrowDirection===e.ArrowDirection.Up),Mo("kendoEventsOutsideAngular",tc(14,K_,e.increasePress))("title",e.incrementTitle),Fo("aria-label",e.incrementTitle),ms(2),ua("k-state-active",e.arrowDirection===e.ArrowDirection.Down),Mo("kendoEventsOutsideAngular",tc(16,K_,e.decreasePress))("title",e.decrementTitle),Fo("aria-label",e.decrementTitle)}}const Z_=function(e,t){return{mousewheel:e,DOMMouseScroll:t}},Y_=function(e,t,i,n,s){return{dragenter:e,keydown:t,input:i,focus:n,blur:s}},Q_=e=>(String(e).split(".")[1]||"").length,J_=(e,t)=>{const i=Math.min(t,20);return parseFloat(e.toFixed(i))};var X_=function(e){return e[e.backspace=8]="backspace",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.shift=16]="shift",e[e.ctrl=17]="ctrl",e[e.alt=18]="alt",e[e.space=32]="space",e[e.page_up=33]="page_up",e[e.page_down=34]="page_down",e[e.end=35]="end",e[e.home=36]="home",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e[e.delete=46]="delete",e[e.numpad_dot=110]="numpad_dot",e}({});const eF=(e,t,i=!0)=>e.some(e=>((e,t,i=!0)=>t[e]&&(!t[e].isFirstChange()||!i)&&t[e].previousValue!==t[e].currentValue)(e,t,i)),tF=e=>e.observers.length>0;function iF(e,t,...i){if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,i)}const nF=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);let sF=(()=>{class e{constructor(e,t){this.renderer=e,this.inputElement=t,this.onFocus=new gc,this.onBlur=new gc,this.onValueChange=new gc,this.listeners=[]}get hostClass(){return!0}set value(e){this.inputElement&&(this.inputElement.nativeElement.value=null==e?"":e,this.onValueChange.emit())}get value(){return this.inputElement.nativeElement.value}get id(){return this.inputElement.nativeElement.id}set id(e){this.renderer.setAttribute(this.inputElement.nativeElement,"id",e)}ngAfterViewInit(){const e=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(e,"focus",()=>this.onFocus.emit()),this.renderer.listen(e,"blur",()=>this.onBlur.emit())]}ngOnDestroy(){this.listeners.forEach(e=>e())}}return e.\u0275fac=function(t){return new(t||e)(Oo(Ja),Oo(Wa))},e.\u0275dir=bt({type:e,selectors:[["input","kendoTextBox",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-textbox",t.hostClass)},inputs:{value:"value"}}),e})();const rF=/[eE][\-+]?[0-9]+/,oF=e=>e>=0?Math.floor(e):Math.ceil(e),aF=e=>{},lF=e=>!isNaN(e)&&null!==e;function cF(e,t){const i=t-String(e).length;let n=e;if(i>0){const t=new Array(i+1).join("0");n=parseFloat(e+t)}return n}var uF=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({});const hF=["min","max","step","decimals"],dF={decimals:null,max:null,min:null,step:1};let pF=(()=>{class e{constructor(e,t,i,n,s,r,o){this.intl=e,this.renderer=t,this.localizationService=i,this.injector=n,this.ngZone=s,this.changeDetector=r,this.hostElement=o,this.focusableId=`k-${nF()}${nF()}-${nF()}-${nF()}-${nF()}-${nF()}${nF()}${nF()}`,this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.value=null,this.valueChange=new gc,this.onFocus=new gc,this.onBlur=new gc,this.ArrowDirection=uF,this.arrowDirection=uF.None,this.inputValue="",this.minValidateFn=aF,this.maxValidateFn=aF,this._format="n2",this.increasePress=e=>{this.arrowPress(uF.Up,e)},this.decreasePress=e=>{this.arrowPress(uF.Down,e)},this.releaseArrow=()=>{clearTimeout(this.spinTimeout),this.arrowDirection!==uF.None&&(this.arrowDirection=uF.None,this.changeDetector.detectChanges())},this.handleInput=()=>{const e=this.numericInput.nativeElement;let{selectionStart:t,selectionEnd:i,value:n}=e;if(this.pressedKey===X_.numpad_dot&&(n=this.replaceNumpadDotValue()),!this.isValid(n))return e.value=this.inputValue,void this.setSelection(t-1,i-1);const s=this.intl.parseNumber(n);let r=this.restrictDecimals(s);if(this.autoCorrect){const e=this.limitInputValue(r);r=e.value,t=e.selectionStart,i=e.selectionEnd}s!==r||this.hasTrailingZeros(n)||!this.focused?(this.setInputValue(r),this.setSelection(t,i)):this.inputValue=n,this.updateValue(r),this.previousSelection=null},this.handleDragEnter=()=>{this.focused||this.isDisabled||this.setInputValue(this.value,!0)},this.handleFocus=()=>{this.focused||(this.focused=!0,this.isDisabled||(this.setInputValue(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.setSelection(0,this.inputValue.length)},0)}))),tF(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})},this.handleBlur=()=>{var e;this.focused=!1,this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),(tF(this.onBlur)||(e=this.control)&&(!e.touched||e.control&&"blur"===e.control.updateOn))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},this.handleKeyDown=e=>{if(this.isDisabled)return;let t;e.keyCode===X_.down?t=-1:e.keyCode===X_.up&&(t=1),t&&this.step&&(e.preventDefault(),this.addStep(t));const i=this.numericInput.nativeElement;this.previousSelection={end:i.selectionEnd,start:i.selectionStart},this.pressedKey=e.keyCode},this.handleWheel=e=>{if(this.focused&&!this.isDisabled){e.preventDefault();const t=(e=>{let t=0;return e.wheelDelta?(t=e.wheelDelta/120,t=t>0?Math.ceil(t):Math.floor(t)):e.detail&&(t=Math.round(-e.detail/3)),t})(e);this.addStep(t)}},this.ngChange=e=>{},this.ngTouched=()=>{},this.direction=i.rtl?"rtl":"ltr"}get format(){const e=this._format;return null!=e?e:"n2"}set format(e){this._format=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get widgetClasses(){return!0}ngOnInit(){this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(kw,null)}ngOnChanges(e){var t,i;eF(hF,e,!1)&&this.parseOptions(hF.filter(t=>e[t])),this.verifySettings(),eF(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(i=this.min,e=>null!==e.value&&e.value<i?{minError:{minValue:i,value:e.value}}:null):aF,this.maxValidateFn=this.rangeValidation?(t=this.max,e=>null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null):aF),eF(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,eF(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}writeValue(e){this.verifyValue(e);let t=this.restrictModelValue(e);this.value=t,this.setInputValue()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.disabled=e}focus(){iF(this.numericInput,"focus")}blur(){iF(this.numericInput,"blur")}notifyValueChange(){this.setInputValue()}get incrementTitle(){return this.localizationService.get("increment")}get decrementTitle(){return this.localizationService.get("decrement")}get decimalSeparator(){return this.intl.numberSymbols().decimal}get elementValue(){return this.numericInput.nativeElement.value}set elementValue(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}get focused(){return this.isFocused}get hasDecimals(){return null!==this.decimals&&this.decimals>=0}set focused(e){if(this.isFocused!==e&&this.numericWrap){const t=this.numericWrap.nativeElement,i=this.numericInput.nativeElement;e?(this.renderer.addClass(t,"k-state-focused"),this.isDisabled||this.renderer.removeClass(i,"k-formatted-value")):(this.renderer.removeClass(t,"k-state-focused"),this.renderer.addClass(i,"k-formatted-value")),this.isFocused=e}}get isDisabled(){return this.disabled||this.readonly}arrowPress(e,t){t.preventDefault(),this.isDisabled||(bI||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}updateValue(e){var t,i;(t=this.value)===(i=e)||null===t&&void 0===i||void 0===t&&null===i||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}replaceNumpadDotValue(){let e=this.inputValue||"";if(this.previousSelection){const t=this.numericInput.nativeElement,{selectionStart:i,selectionEnd:n}=t,{start:s,end:r}=this.previousSelection;t.value=e=e.substring(0,s)+this.decimalSeparator+e.substring(r),this.setSelection(i,n)}return e}isValid(e){return this.numericRegex||(this.numericRegex=(e=>{const{autoCorrect:t,decimals:i,min:n}=e;let s,r=e.separator;return"."===r&&(r="\\"+r),s=0===i?"\\d*":`(?:(?:\\d+(${r}\\d*)?)|(?:${r}\\d*))?`,new RegExp(`^${t&&null!==n&&n>=0?"":"-?"}${s}$`)})({autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator})),this.numericRegex.test(e)}spin(e,t){clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout(()=>{this.spin(e,50)},t),this.addStep(e)}addStep(e){let t=((e,t)=>{const i=((e,t)=>Math.max(Q_(e),Q_(t)))(e,t);return J_(e+t,i)})(this.value||0,this.step*e);t=this.limitValue(t),t=this.restrictDecimals(t),this.setInputValue(t),this.updateValue(t)}setSelection(e,t){this.focused&&iF(this.numericInput,"setSelectionRange",e,t)}limitValue(e){let t=e;return this.isInRange(e)||(lF(this.max)&&e>this.max&&(t=this.max),lF(this.min)&&e<this.min&&(t=this.min)),t}limitInputValue(e){let{selectionStart:t,selectionEnd:i,value:n}=this.numericInput.nativeElement,s=e,r=!1;if(!this.isInRange(e)){const o=n.length-String(this.inputValue).length,{min:a,max:l}=this,c=lF(l),u=lF(a);let h,d,p=e;if(0===t&&this.inputValue.substr(1)===n)return{selectionEnd:i,selectionStart:t,value:null};if(c&&e>l?e>0?d=!0:h=l:u&&e<a&&(e>0?h=a:d=!0),h){const t=this.tryPadValue(e,h);t&&oF(e)!==oF(h)&&(p=t,r=!0)}else d&&this.inputValue&&t!==n.length&&(p=parseFloat(n.substr(0,t)+n.substr(t+o)));s=this.limitValue(p),r=(r||s!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+o>0}return{selectionEnd:r?String(s).length:i,selectionStart:t,value:s}}tryPadValue(e,t){const i=String(Math.floor(t)).length,n=cF(e,i),s=cF(e,i+1);let r;return this.isInRange(n)?r=n:this.isInRange(s)&&(r=s),r}isInRange(e){return!lF(e)||(!lF(this.min)||this.min<=e)&&(!lF(this.max)||e<=this.max)}restrictModelValue(e){let t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}restrictDecimals(e,t){let i=e;if(e&&this.hasDecimals){const n=this.decimals,s=String(e);if(t||rF.test(s))i=J_(e,n);else{const e=s.split(".");let t=e[1];t&&t.length>n&&(t=t.substr(0,n),i=parseFloat(`${e[0]}.${t}`))}}return i}formatInputValue(e){return String(e).replace(".",this.decimalSeparator)}formatValue(e,t){let i;return i=null!==e&&(e=>void 0!==e)(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):"",i}setInputValue(e=this.value,t=this.focused){const i=this.formatValue(e,t);this.elementValue=i,this.inputValue=i}verifySettings(){if(Sn()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}verifyValue(e){if(Sn()&&e&&"number"!=typeof e)throw new Error(`The NumericTextBox component requires value of type Number and ${JSON.stringify(e)} was set.`)}parseOptions(e){for(let t=0;t<e.length;t++){const i=e[t],n=this[i];if("string"==typeof n){const e=parseFloat(n),t=!isNaN(e);if(Sn()&&!t&&""!==n)throw new Error(`The NumericTextBox component requires value of type Number or a String representing a number for the ${i} property and ${JSON.stringify(n)} was set.`);this[i]=t?e:dF[i]}}}intlChange(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}hasTrailingZeros(e){if(this.hasDecimals&&this.focused){const t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}}return e.\u0275fac=function(t){return new(t||e)(Oo(L_),Oo(Ja),Oo(jb),Oo(uo),Oo(ou),Oo(Wr),Oo(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-numerictextbox"]],viewQuery:function(e,t){var i;1&e&&(_c(U_,!0),_c(G_,!0)),2&e&&(Ic(i=Oc())&&(t.numericInput=i.first),Ic(i=Oc())&&(t.numericWrap=i.first))},hostVars:5,hostBindings:function(e,t){2&e&&(Fo("dir",t.direction),ua("k-widget",t.widgetClasses)("k-numerictextbox",t.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[Ga([jb,{provide:zb,useValue:"kendo.numerictextbox"},{provide:fw,useExisting:xe(()=>e),multi:!0},{provide:Fw,useExisting:xe(()=>e),multi:!0}]),Pa],decls:7,vars:23,consts:[["kendoNumericTextBoxLocalizedMessages","",6,"increment","decrement"],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],[1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,q_),jo(),Vo(2,"span",1,2),Bo(4,"input",3,4),Ao(6,W_,5,18,"span",5),Ho()),2&e&&(ms(2),ua("k-state-disabled",t.disabled),Mo("kendoEventsOutsideAngular",ic(14,Z_,t.handleWheel,t.handleWheel)),ms(2),Mo("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",function(e,t,i,n,s,r,o,a){const l=si()+17,c=Zt(),u=_o(c,l,i,n,s,r);return Eo(c,l+4,o)||u?xo(c,l+5,t(i,n,s,r,o)):ko(c,l+5)}(0,Y_,t.handleDragEnter,t.handleKeyDown,t.handleInput,t.handleFocus,t.handleBlur)),Fo("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder),ms(2),Mo("ngIf",t.spinners))},directives:function(){return[SF,yF,Lh]},encapsulation:2}),e})(),fF=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return gF(t||e)},e.\u0275dir=bt({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[_a]}),e})();const gF=on(fF);let mF=(()=>{class e extends fF{constructor(e){super(),this.service=e}get override(){return!0}}return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-numerictextbox-messages"]],features:[Ga([{provide:fF,useExisting:xe(()=>e)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),vF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:L_,useClass:V_}],imports:[[Kh]]}),e})(),yF=(()=>{class e{constructor(e,t,i){this.element=e,this.ngZone=t,this.renderer=i,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let t in e)e.hasOwnProperty(t)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,t,e[t]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(ou),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"]}}),e})(),bF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),wF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:L_,useClass:V_}],imports:[[Kh,vF,bF,j_]]}),e})(),CF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:L_,useClass:V_}],imports:[[Kh,bF,j_]]}),e})(),SF=(()=>{class e extends fF{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[Ga([{provide:fF,useExisting:xe(()=>e)}]),_a]}),e})(),xF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:L_,useClass:V_}],imports:[[Kh,bF]]}),e})(),kF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:L_,useClass:V_}],imports:[[Kh,bF]]}),e})(),EF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})(),IF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:L_,useClass:V_}],imports:[[Kh],EF,wF,CF,xF,kF]}),e})();const TF=e=>e?new Date(e.getTime()):null,_F=(e,t)=>{const i=TF(e);return 0===t&&23===i.getHours()&&i.setHours(i.getHours()+2),i},FF=(e,t)=>{const i=TF(e);return i.setDate(i.getDate()+t),_F(i,e.getHours())},DF=(e,t,i,n=0,s=0,r=0,o=0)=>{const a=new Date(e,t,i,n,s,r,o);return e>-1&&e<100&&a.setFullYear(a.getFullYear()-1900),_F(a,n)},AF=e=>DF(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),RF=(e,t)=>!e&&!t||e&&t&&e.getTime()===t.getTime(),OF=e=>{const t=DF(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return FF(t,-1)},PF=(e,t)=>{const i=TF(e),n=(12+(i.getMonth()+t)%12)%12;return i.setMonth(i.getMonth()+t),((e,t)=>e.getMonth()!==t?OF(PF(e,-1)):e)(_F(i,e.getHours()),n)},NF=(e,t)=>{const i=e.getMonth(),n=DF(t,i,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.getMonth()===i?n:OF(PF(n,-1))},MF=(e,t)=>_F(NF(e,e.getFullYear()+t),e.getHours()),LF=(e,t)=>MF(e,10*t),VF=(e,t)=>MF(e,100*t),HF=(e,t)=>NF(e,t(e.getFullYear())),BF=e=>HF(e,e=>e-e%100),zF=e=>HF(e,e=>e-e%100+90),jF=e=>HF(e,e=>e-e%10),UF=(e,t)=>(BF(t).getFullYear()-BF(e).getFullYear())/100,GF=e=>HF(e,e=>e-e%10+9),qF=(e,t)=>(jF(t).getFullYear()-jF(e).getFullYear())/10,$F=(e,t)=>FF(e,7*t),KF=e=>DF(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());var WF=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({});const ZF=(e,t,i=WF.Forward)=>{const n=TF(e),s=(t-n.getDay()+7*i)%7;return n.setDate(n.getDate()+s),_F(n,e.getHours())},YF=(e,t)=>12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),QF=(e,t)=>{const i=e.getDate(),n=DF(e.getFullYear(),t,i,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.getDate()===i?n:OF(PF(n,-1))},JF=e=>QF(e,0),XF=e=>QF(e,11),eD=(e,t)=>t.getFullYear()-e.getFullYear();var tD=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({});const iD=(e,t)=>{const i=DF(e.getFullYear(),0,1,-6),n=((e,t)=>t!==tD.Monday?FF(((e,t)=>ZF(e,t,WF.Backward))(e,t),4):FF(e,4-(e.getDay()||7)))(e,t).getTime()-i.getTime(),s=Math.floor(n/864e5);return 1+Math.floor(s/7)},nD=(e,t=tD.Monday)=>{e=AF(e);const i=FF(e,-7),n=FF(e,7),s=iD(e,t);return 0===s?iD(i,t)+1:53===s&&iD(n,t)>1?1:s};class sD extends Xy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}class rD extends tb{}const oD=new rD(sD);class aD extends f{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(aD.dispatch,this.delay,new lD(e,this.destination)))}_next(e){this.scheduleMessage(Yb.createNext(e))}_error(e){this.scheduleMessage(Yb.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Yb.createComplete()),this.unsubscribe()}}class lD{constructor(e,t){this.notification=e,this.destination=t}}class cD extends E{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new uD(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,s=i.length;let r;if(this.closed)throw new S;if(this.isStopped||this.hasError?r=h.EMPTY:(this.observers.push(e),r=new x(this,e)),n&&e.add(e=new aD(e,n)),t)for(let o=0;o<s&&!e.closed;o++)e.next(i[o]);else for(let o=0;o<s&&!e.closed;o++)e.next(i[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),r}_getNow(){return(this.scheduler||oD).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,n=this._events,s=n.length;let r=0;for(;r<s&&!(e-n[r].time<i);)r++;return s>t&&(r=Math.max(r,s-t)),r>0&&n.splice(0,r),n}}class uD{constructor(e,t){this.time=e,this.value=t}}class hD extends Xy{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class dD extends tb{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}const pD=new dD(hD);class fD{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new gD(e,this.predicate,this.inclusive))}}class gD extends f{constructor(e,t,i){super(e),this.predicate=t,this.inclusive=i,this.index=0}_next(e){const t=this.destination;let i;try{i=this.predicate(e,this.index++)}catch(n){return void t.error(n)}this.nextOrComplete(e,i)}nextOrComplete(e,t){const i=this.destination;Boolean(t)?i.next(e):(this.inclusive&&i.next(e),i.complete())}}const mD=["*"],vD=["list"];function yD(e,t){if(1&e&&Ca(0),2&e){const e=Yo().$implicit;Sa(Yo().service.navigationTitle(e))}}function bD(e,t){}const wD=function(e,t,i){return{$implicit:e,activeView:t,date:i}};function CD(e,t){if(1&e&&(Vo(0,"li"),Vo(1,"span"),Ao(2,yD,1,1,"ng-template",5),Ao(3,bD,0,0,"ng-template",6),Ho(),Ho()),2&e){const e=t.$implicit,i=t.index,n=Yo();Fo("data-date-index",i),ms(1),ua("k-calendar-navigation-marker",n.service.isRangeStart(e)),ms(1),Mo("ngIf",!n.templateRef),ms(1),Mo("ngIf",n.templateRef)("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",nc(7,wD,n.service.navigationTitle(e),n.activeViewValue,e))}}const SD=function(e){return{click:e}};function xD(e,t){if(1&e&&(Vo(0,"th",11),Ca(1),Ho()),2&e){const e=t.$implicit;ca("width",Yo(2).colWidth,"%"),ms(1),Sa(e)}}function kD(e,t){if(1&e&&(Vo(0,"table",7),Vo(1,"thead",8),Vo(2,"tr",9),Ao(3,xD,2,3,"th",10),Ho(),Ho(),Ho()),2&e){const e=Yo();ms(3),Mo("ngForOf",e.weekNames)}}function ED(e,t){1&e&&Bo(0,"col")}function ID(e,t){if(1&e){const e=Go();Vo(0,"tbody",12),Ko("cellClick",(function(t){return Qt(e),Yo().cellClick.emit(t)}))("weekNumberCellClick",(function(t){return Qt(e),Yo().weekNumberCellClick.emit(t)})),Ho()}if(2&e){const e=t.$implicit,i=Yo();Mo("activeView",i.activeView)("isActive",i.isActive)("min",i.min)("max",i.max)("cellUID",i.cellUID)("focusedDate",i.focusedDate)("selectedDates",i.selectedDates)("weekNumber",i.weekNumber)("templateRef",i.cellTemplateRef)("weekNumberTemplateRef",i.weekNumberTemplateRef)("viewDate",e)}}const TD=["today",$localize`:kendo.calendar.today|The label for the today button in the calendar header␟7a8b7961a5c754397897f39a824bdec621719040␟4715594042078324085:Today`,"prevButtonTitle",$localize`:kendo.calendar.prevButtonTitle|The title of the previous button in the Classic calendar␟031715cd6a995d5dd1f62365cfe1b9e6226ca185␟9114031309296786030:Navigate to previous view`,"nextButtonTitle",$localize`:kendo.calendar.nextButtonTitle|The title of the next button in the Classic calendar␟cd8c0952c72306cccf0973c8fd1957ef9da1f569␟7248948899360601102:Navigate to next view`];function _D(e,t){if(1&e){const e=Go();Vo(0,"kendo-calendar-navigation",5),Ko("valueChange",(function(t){return Qt(e),Yo(2).handleNavigation(t)}))("pageChange",(function(){return Qt(e),Yo(2).onPageChange()})),Ho()}if(2&e){const e=Yo(2);Mo("activeView",e.activeViewEnum)("focusedDate",e.focusedDate)("min",e.min)("max",e.max)("templateRef",null==e.navigationItemTemplate?null:e.navigationItemTemplate.templateRef)}}function FD(e,t){if(1&e){const e=Go();zo(0),Ao(1,_D,1,5,"kendo-calendar-navigation",2),Vo(2,"kendo-calendar-viewlist",3),Ko("todayButtonClick",(function(t){return Qt(e),Yo().handleDateChange({selectedDates:[t],focusedDate:t})}))("cellClick",(function(t){return Qt(e),Yo().handleCellClick(t)}))("weekNumberCellClick",(function(t){return Qt(e),Yo().handleWeekNumberClick(t)}))("activeDateChange",(function(t){Qt(e);const i=Yo();return i.emitEvent(i.activeViewDateChange,t)}))("pageChange",(function(){return Qt(e),Yo().onPageChange()})),Ho(),Vo(3,"kendo-resize-sensor",4),Ko("resize",(function(){return Qt(e),Yo().onResize()})),Ho(),jo()}if(2&e){const e=Yo();var i;const t=null==(i=e.activeCellTemplate())?null:i.templateRef;ms(1),Mo("ngIf",e.navigation),ms(1),Mo("activeView",e.activeViewEnum)("isActive",e.isActive)("cellTemplateRef",t)("headerTitleTemplateRef",null==e.headerTitleTemplate?null:e.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==e.weekNumberTemplate?null:e.weekNumberTemplate.templateRef)("cellUID",e.cellUID)("min",e.min)("max",e.max)("focusedDate",e.focusedDate)("weekNumber",e.weekNumber)("selectedDates",e.selectedDates)}}function DD(e,t){if(1&e){const e=Go();zo(0),Vo(1,"kendo-multiviewcalendar",6,7),Ko("activeViewChange",(function(t){return Qt(e),Yo().handleActiveViewChange(t)}))("valueChange",(function(t){Qt(e);const i=Ro(2);return Yo().handleMultiViewCalendarValueChange(t,i.focusedDate)})),Bo(3,"kendo-multiviewcalendar-messages",8),Ho(),jo()}if(2&e){const e=Yo();ms(1),Mo("views",1)("min",e.min)("max",e.max)("isActive",e.isActive)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("animateNavigation",e.animateNavigation)("cellTemplate",e.activeCellTemplate())("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("headerTitleTemplate",e.headerTitleTemplate)("weekNumberTemplate",e.weekNumberTemplate)("focusedDate",e.focusedDate)("selection",e.selection)("value",e.value)("disabledDates",e.disabledDates),ms(2),Mo("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))}}const AD=["dateInput"],RD=["wrap"],OD=["increment",$localize`:kendo.dateinput.increment|The label for the **Increment** button in the DateInput␟a55944f9de69e7cc86b91200fe96f980a947d704␟589112377451589685:Increase value`,"decrement",$localize`:kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput␟0eded761107e6dad120997006a7f915bade9b15c␟6980524091606682769:Decrease value`];function PD(e,t){if(1&e){const e=Go();Vo(0,"span",6),Ko("mousedown",(function(t){return Qt(e),t.preventDefault()})),Vo(1,"span",7),Ko("mousedown",(function(){Qt(e);const t=Yo();return t.arrowDirection=t.arrow.Up}))("mouseleave",(function(){Qt(e);const t=Yo();return t.arrowDirection=t.arrow.None}))("click",(function(){return Qt(e),Yo().handleButtonClick(1)})),Bo(2,"span",8),Ho(),Vo(3,"span",9),Ko("click",(function(){return Qt(e),Yo().handleButtonClick(-1)}))("mousedown",(function(){Qt(e);const t=Yo();return t.arrowDirection=t.arrow.Down}))("mouseleave",(function(){Qt(e);const t=Yo();return t.arrowDirection=t.arrow.None})),Bo(4,"span",10),Ho(),Ho()}if(2&e){const e=Yo();ms(1),ua("k-state-active",e.arrowDirection===e.arrow.Up),Mo("title",e.localization.get("increment")),Fo("aria-label",e.localization.get("increment")),ms(2),ua("k-state-active",e.arrowDirection===e.arrow.Down),Mo("title",e.localization.get("decrement")),Fo("aria-label",e.localization.get("decrement"))}}const ND=function(e,t,i,n,s,r,o){return{click:e,focus:t,mousedown:i,touchstart:n,dragstart:s,drop:r,blur:o}},MD=["container"],LD=["popupTemplate"],VD=["wrapper"],HD=["today",$localize`:kendo.datepicker.today|The label for the today button in the calendar header␟c8af34428eb25c8f689f0c19a9300394b07b5be3␟5799873230514803381:Today`,"toggle",$localize`:kendo.datepicker.toggle|The title of the toggle button in the datepicker component␟f6c28c2d80dbe993c4b33f4dc4010364f41cc2ae␟4817467473728423164:Toggle calendar`,"prevButtonTitle",$localize`:kendo.datepicker.prevButtonTitle|The title of the previous button in the Classic calendar␟b24bedd31916ff8439cd7e3c46cbdabea3409dd1␟1741914107549506055:Navigate to previous view`,"nextButtonTitle",$localize`:kendo.datepicker.nextButtonTitle|The title of the next button in the Classic calendar␟2f0e2a91beb7149035e42bd0d6663e8903dc3852␟3363484587807059211:Navigate to next view`];function BD(e,t){}const zD=function(e){return{keydown:e}};function jD(e,t){if(1&e){const e=Go();Vo(0,"kendo-calendar",9,10),Ko("valueChange",(function(t){Qt(e);const i=Yo();return i.handleChange(i.mergeTime(t))})),Bo(2,"kendo-calendar-messages",11),Ho(),Ao(3,BD,0,0,"ng-template")}if(2&e){const e=Yo();Mo("type",e.calendarType)("min",e.min)("max",e.max)("navigation",e.navigation)("animateNavigation",e.animateCalendarNavigation)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("cellTemplate",e.cellTemplate)("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("weekNumberTemplate",e.weekNumberTemplate)("headerTitleTemplate",e.headerTitleTemplate)("navigationItemTemplate",e.navigationItemTemplate)("focusedDate",e.focusedDate)("value",e.value)("kendoEventsOutsideAngular",tc(25,zD,e.handleKeydown))("scope",e)("disabledDates",e.disabledDates),ms(2),Mo("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))}}const UD=function(e,t){return{click:e,mousedown:t}};function GD(e,t){if(1&e&&(Vo(0,"caption",7),Ca(1),Ho()),2&e){const e=Yo().date,t=Yo();Mo("ngClass",t.getCaptionClass()),ms(1),Sa(t.getCaptionTitle(e))}}function qD(e,t){if(1&e&&(Vo(0,"th",11),Ca(1),Ho()),2&e){const e=t.$implicit;ms(1),Sa(e)}}function $D(e,t){if(1&e&&(Vo(0,"thead",8),Vo(1,"tr",9),Ao(2,qD,2,1,"th",10),Ho(),Ho()),2&e){const e=Yo(2);ms(2),Mo("ngForOf",e.weekNames)}}function KD(e,t){if(1&e){const e=Go();Vo(0,"table",3),Ao(1,GD,2,2,"caption",4),Ao(2,$D,3,1,"thead",5),Vo(3,"tbody",6),Ko("cellClick",(function(t){return Qt(e),Yo().cellClick.emit(t)}))("weekNumberCellClick",(function(t){return Qt(e),Yo().weekNumberCellClick.emit(t)}))("cellEnter",(function(t){return Qt(e),Yo().cellEnter.emit(t)}))("cellLeave",(function(t){return Qt(e),Yo().cellLeave.emit(t)})),Ho(),Ho()}if(2&e){const e=t.date,i=t.className,n=Yo();Mo("ngClass",i),ms(1),Mo("ngIf",n.showViewHeader),ms(1),Mo("ngIf",n.isMonthView()),ms(1),Mo("activeView",n.activeView)("isActive",n.isActive)("min",n.min)("max",n.max)("cellUID",n.cellUID)("focusedDate",n.focusedDate)("selectedDates",n.selectedDates)("selectionRange",n.selectionRange)("activeRangeEnd",n.activeRangeEnd)("weekNumber",n.weekNumber)("templateRef",n.cellTemplateRef)("weekNumberTemplateRef",n.weekNumberTemplateRef)("viewDate",e)}}function WD(e,t){}$localize`:kendo.timepicker.accept|The Accept button text in the timepicker component␟4c3bf42192220c7611c09ece1c5de14855139dd0␟7519663530416240229:Set`,$localize`:kendo.timepicker.acceptLabel|The label for the Accept button in the timepicker component␟93c2a9c3aa49f56e452c0aecbaabe3bb33fa4222␟4355879331538595758:Set time`,$localize`:kendo.timepicker.cancel|The Cancel button text in the timepicker component␟132eefca16bd41d489b4647724b91e93793603aa␟1086687567255473060:Cancel`,$localize`:kendo.timepicker.cancelLabel|The label for the Cancel button in the timepicker component␟2cf6f4ca4470810944b4016c9b6f87943d3390ab␟83621966901491941:Cancel changes`,$localize`:kendo.timepicker.now|The Now button text in the timepicker component␟bbc99bb74ae75a503bd813aad0c7253d3553e923␟5912507758515138116:Now`,$localize`:kendo.timepicker.nowLabel|The label for the Now button in the timepicker component␟df1a696f318275aa934e27850920889d494c2740␟371982627910576599:Select now`,$localize`:kendo.timepicker.toggle|The label for the toggle button in the timepicker component␟f2c196786ed2d3ecb2369750c36aac9a4053fb30␟6938407659294495526:Toggle time list`,$localize`:kendo.datetimepicker.dateTab|The Date tab text in the datetimepicker popup header␟5bb17f81ae8dbc109499ce3792afffa6b7cef855␟3360129034450596425:Date`,$localize`:kendo.datetimepicker.dateTabLabel|The label for the Date tab in the datetimepicker popup header␟2a400c9e364a4c6d83ac39b5513c962805db54b2␟1810540079817643910:Date tab`,$localize`:kendo.datetimepicker.timeTab|The Time tab text in the datetimepicker popup header␟e9b2b760a6916040e7520a9a2926d65de175944d␟3807284594201983607:Time`,$localize`:kendo.datetimepicker.timeTabLabel|The label for the Time tab in the datetimepicker popup header␟13bf7e3a1036140119732c6d5952f7a20c22999e␟2577682127494513393:Time tab`,$localize`:kendo.datetimepicker.toggle|The title of the toggle button in the datetimepicker component␟60296a83f0d3e3d07aaba87c4f8e91b0aca3c22a␟3159207801887264026:Toggle popup`,$localize`:kendo.datetimepicker.accept|The Accept button text in the datetimepicker component␟4359b59db7ded88e106ada877e744c71b188f8f9␟3915774704336012538:Set`,$localize`:kendo.datetimepicker.acceptLabel|The label for the Accept button in the datetimepicker component␟cbea4571cca81ad9767a6b29f0287d1f3f6372dc␟4770689705864890748:Set`,$localize`:kendo.datetimepicker.cancel|The Cancel button text in the datetimepicker component␟17ab795d6f7527dd962a309759ca58cb4edd7e52␟5100781969600382158:Cancel`,$localize`:kendo.datetimepicker.cancelLabel|The label for the Cancel button in the datetimepicker component␟ba26795ab9f4c21d66b17549ba854a96fcdac1f9␟3535986227615756275:Cancel`,$localize`:kendo.datetimepicker.now|The Now button text in the timepicker component␟7172e7e9a1741f6b63439ec89e498c995cb23b0d␟5497093725885127701:NOW`,$localize`:kendo.datetimepicker.nowLabel|The label for the Now button in the timepicker component␟52d90641b26b1ce4c011cadf0437ce36c1dac1d5␟5046379108717037514:Select now`,$localize`:kendo.datetimepicker.today|The label for the today button in the calendar header␟9ef9db9ac4951523d519b989d223f507878c612d␟2570147067439993260:Today`,$localize`:kendo.datetimepicker.prevButtonTitle|The title of the previous button in the Classic calendar␟447d09c4ecfc2ab2b84d708f4c07fa0fcda85167␟6176055232586065404:Navigate to previous view`,$localize`:kendo.datetimepicker.nextButtonTitle|The title of the next button in the Classic calendar␟80fd3325bfe94a180fd27391f2245c024472ec58␟6424339255333594510:Navigate to next view`;const ZD=function(e){return{date:e,className:"k-pointer-events-none"}};function YD(e,t){if(1&e&&Ao(0,WD,0,0,"ng-template",12),2&e){const e=Yo();Mo("ngTemplateOutlet",Ro(1))("ngTemplateOutletContext",tc(2,ZD,e.nextAnimationDate))}}function QD(e,t){}const JD=function(e){return{date:e}};function XD(e,t){if(1&e&&Ao(0,QD,0,0,"ng-template",12),2&e){const e=t.$implicit;Yo(),Mo("ngTemplateOutlet",Ro(1))("ngTemplateOutletContext",tc(2,JD,e))}}function eA(e,t){}function tA(e,t){if(1&e&&Ao(0,eA,0,0,"ng-template",12),2&e){const e=Yo();Mo("ngTemplateOutlet",Ro(1))("ngTemplateOutletContext",tc(2,ZD,e.prevAnimationDate))}}const iA=["today",$localize`:kendo.multiviewcalendar.today|The label for the today button in the calendar header␟c237cef31a55d762ecfdcac701d283313f30bbfc␟7780927771207785084:Today`,"prevButtonTitle",$localize`:kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar␟e783e2af4828224b846fa92148ea1cc52b21bb13␟9101635325676663492:Navigate to previous view`,"nextButtonTitle",$localize`:kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar␟3e3a529a242f39d22f841c3bd8045ec75b696b7a␟3994336778698343633:Navigate to next view`];function nA(e,t){1&e&&Ca(0),2&e&&Sa(Yo().title)}function sA(e,t){}function rA(e,t){if(1&e){const e=Go();Vo(0,"button",8),Ko("click",(function(){return Qt(e),Yo().prevButtonClick.emit()})),Bo(1,"span",9),Ho()}if(2&e){const e=Yo();Mo("disabled",e.isPrevDisabled)("title",e.prevButtonTitle),Fo("aria-disabled",e.isPrevDisabled)}}function oA(e,t){if(1&e){const e=Go();Vo(0,"button",10),Ko("click",(function(){return Qt(e),Yo().nextButtonClick.emit()})),Bo(1,"span",11),Ho()}if(2&e){const e=Yo();Mo("disabled",e.isNextDisabled)("title",e.nextButtonTitle),Fo("aria-disabled",e.isNextDisabled)}}const aA=["kendoCalendarView",""];function lA(e,t){1&e&&(Vo(0,"td",3),Ca(1,"\xa0"),Ho())}function cA(e,t){if(1&e&&(Vo(0,"tr",4),Vo(1,"th",5),Ca(2),Ho(),Ho()),2&e){const e=Yo();ms(1),Mo("colSpan",e.colSpan),ms(1),Sa(e.title)}}function uA(e,t){if(1&e&&Ca(0),2&e){const e=Yo(3).$implicit,t=Yo();xa(" ",t.getWeekNumber(t.firstDate(e))," ")}}function hA(e,t){}const dA=function(e,t){return{$implicit:e,cellContext:t}};function pA(e,t){if(1&e&&(Vo(0,"td",9),Ao(1,uA,1,1,"ng-template",6),Ao(2,hA,0,0,"ng-template",10),Ho()),2&e){const e=Yo(2).$implicit,t=Yo();Mo("kendoEventsOutsideAngular",tc(5,SD,t.handleWeekNumberClick.bind(t,e))),ms(1),Mo("ngIf",!t.weekNumberTemplateRef),ms(1),Mo("ngIf",t.weekNumberTemplateRef)("ngTemplateOutlet",t.weekNumberTemplateRef)("ngTemplateOutletContext",ic(7,dA,t.firstDate(e),t.getWeekNumberContext(e)))}}function fA(e,t){if(1&e&&Ao(0,pA,3,10,"td",8),2&e){const e=Yo().$implicit,t=Yo(),i=Ro(1);Mo("ngIf",t.firstDate(e))("ngIfElse",i)}}function gA(e,t){1&e&&Ca(0),2&e&&Sa(Yo(2).$implicit.formattedValue)}function mA(e,t){}function vA(e,t){if(1&e&&Ao(0,mA,0,0,"ng-template",15),2&e){const e=Yo(2).$implicit;Mo("ngTemplateOutlet",Yo(2).templateRef)("ngTemplateOutletContext",ic(2,dA,e.value,e))}}function yA(e,t){if(1&e&&(Vo(0,"td",12),Vo(1,"span",13),Ao(2,gA,1,1,"ng-template",6),Ao(3,vA,1,5,void 0,14),Ho(),Ho()),2&e){const e=Yo(),t=e.$implicit,i=e.index,n=Yo().index,s=Yo();Mo("ngClass",s.getStyles(t))("title",t.title),Fo("id",t.id)("data-cell-index",s.tableCellIndex(n,i))("aria-selected",t.isSelected||t.isRangeStart||t.isRangeMid||t.isRangeEnd)("aria-disabled",t.isDisabled),ms(2),Mo("ngIf",!s.templateRef),ms(1),Mo("ngIf",s.templateRef)}}function bA(e,t){if(1&e&&(zo(0),Ao(1,yA,4,8,"td",11),jo()),2&e){const e=t.$implicit,i=Yo(2),n=Ro(1);ms(1),Mo("ngIf",i.shouldRenderCellContent(e))("ngIfElse",n)}}function wA(e,t){if(1&e&&(Vo(0,"tr",4),Ao(1,fA,1,2,"ng-template",6),Ao(2,bA,2,2,"ng-container",7),Ho()),2&e){const e=t.$implicit,i=Yo();ms(1),Mo("ngIf",i.weekNumber),ms(1),Mo("kForOf",e)}}$localize`:kendo.timeselector.accept|The Accept button text in the timeselector component␟801811aa1609e3f173c86baa82cee037f75a215f␟5362895271044573681:Set`,$localize`:kendo.timeselector.acceptLabel|The label for the Accept button in the timeselector component␟b4b1e5ac55f0330f6c4e32b866ae4339ad969978␟3417396278000787211:Set time`,$localize`:kendo.timeselector.cancel|The Cancel button text in the timeselector component␟3004d7704ffa6202a3b3925fcea490e486203a3e␟1890188482755567622:Cancel`,$localize`:kendo.timeselector.cancelLabel|The label for the Cancel button in the timeselector component␟08dfbdfffd662371a6ff4c0b6ed82b9faa48143b␟5738120209397145846:Cancel changes`,$localize`:kendo.timeselector.now|The Now button text in the timeselector component␟98cba1ae36a7bbe15e1bac1837e07922ec109e7d␟1926162752852226109:Now`,$localize`:kendo.timeselector.nowLabel|The label for the Now button in the timeselector component␟08e6a8a51d970609e138950fdd89c5cf201869f3␟7789175884909488647:Select now`;const CA={name:"@progress/kendo-angular-dateinputs",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1629447371,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};var SA=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e}({});const xA={start:null,end:null},kA=new Date(1980,0,1),EA=new Date(1900,0,1),IA=new Date(2099,11,31),TA=e=>e&&(!e.touched||e.control&&"blur"===e.control.updateOn),_A=e=>e.preventDefault(),FA=e=>null!=e,DA=e=>null!=e,AA=e=>(t,i)=>{const n=TF(t);return n[e](i),n},RA=(e,t)=>{const i=TF(e);return i.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),i},OA=AA("setFullYear"),PA=AA("setHours"),NA=AA("setMinutes"),MA=AA("setSeconds"),LA=AA("setMilliseconds"),VA=(e,t,i=1)=>{const n=[];for(let s=e;s<t;s+=i)n.push(s);return n},HA=(e,t,i)=>!e||!(t&&t>e||i&&i<e),BA=(e,t)=>!DA(e)||!DA(t)||e<=t,zA=(e,t,i)=>e?t&&e<t?TF(t):i&&e>i?TF(i):e:e,jA=()=>AF(new Date),UA=e=>{},GA=(e,t)=>e.slice(t).concat(e.slice(0,t)),qA=e=>(t,i="",n={})=>{const s=document.createElement(e);return s.className=i,Object.keys(n).map(e=>s.style[e]=n[e]),"string"==typeof t?s.innerHTML=t||"":(t||[]).forEach(e=>e&&s.appendChild(e)),s},$A=(e,t)=>void 0!==e[t],KA=(e,t)=>e[t]&&null!=e[t].currentValue,WA=(e=[])=>e&&e[e.length-1],ZA=(e,t)=>{const{start:i,end:n}=t||xA;return!(!i||!n)&&i<e&&e<n},YA=(e,t)=>(e=e||[]).length===(t=t||[]).length&&e.every((e,i)=>RF(e,t[i])),QA=[[]],JA={[SA.Left]:e=>LF(e,-1),[SA.Up]:e=>LF(e,-5),[SA.Right]:e=>LF(e,1),[SA.Down]:e=>LF(e,5),[SA.PrevView]:e=>VF(e,-1),[SA.NextView]:e=>VF(e,1),[SA.FirstInView]:e=>BF(e),[SA.LastInView]:e=>zF(e)};let XA=(()=>{let e=class{constructor(){this.dateRange=(e,t)=>{if(!FA(e)||!FA(t))return[];const i=[];let n=e;for(;n<=t;)i.push(n),n=LF(n,1);return i}}addToDate(e,t){return VF(e,t)}datesList(e,t){return VA(0,t).map(t=>VF(e,t))}data(e){const{cellUID:t,focusedDate:i,isActiveView:n,max:s,min:r,selectedDates:o,selectionRange:a=xA,viewDate:l}=e;if(!l)return QA;const c=VA(0,4),u=BF(l),h=zF(l),d=jA();return VA(0,3).map(e=>{const l=LF(u,4*e);return c.map(e=>{const c=this.normalize(LF(l,e),r,s),p=c.getFullYear()>h.getFullYear();if(!this.isInRange(c,r,s)||p)return null;const f=this.isEqual(c,a.start),g=this.isEqual(c,a.end),m=!f&&!g&&ZA(c,a);return{formattedValue:this.value(c),id:`${t}${c.getTime()}`,isFocused:this.isEqual(c,i),isSelected:n&&o.some(e=>this.isEqual(c,e)),isWeekend:!1,isRangeStart:f,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&this.isEqual(c,h),isRangeSplitStart:m&&this.isEqual(c,u),isToday:this.isEqual(c,d),title:this.cellTitle(c),value:c}})})}isEqual(e,t){return!(!e||!t)&&jF(e).getFullYear()===jF(t).getFullYear()}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()+99}isInRange(e,t,i){const n=jF(e).getFullYear(),s=!t||jF(t).getFullYear()<=n,r=!i||n<=jF(i).getFullYear();return s&&r}beginningOfPeriod(e){if(!e)return e;const t=jF(BF(e));return DF(t.getFullYear(),0,1)}isRangeStart(e){return e.getFullYear()%1e3==0}move(e,t){const i=JA[t];return i?i(e):e}cellTitle(e){return jF(e).getFullYear().toString()}navigationTitle(e){return e?BF(e).getFullYear().toString():""}title(e){return e?`${BF(e).getFullYear()} - ${zF(e).getFullYear()}`:""}rowLength(){return 4}skip(e,t){return UF(t,e)}total(e,t){return UF(e,t)+1}value(e){return e?jF(e).getFullYear().toString():""}viewDate(e,t,i=1){const n=this.total(e,t);return n<i?VF(e,-1*(i-n)):e}normalize(e,t,i){return e<t&&this.isEqual(e,t)?TF(t):e>i&&this.isEqual(e,i)?TF(i):e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const eR=[[]],tR={[SA.Left]:e=>MF(e,-1),[SA.Up]:e=>MF(e,-5),[SA.Right]:e=>MF(e,1),[SA.Down]:e=>MF(e,5),[SA.PrevView]:e=>LF(e,-1),[SA.NextView]:e=>LF(e,1),[SA.FirstInView]:e=>jF(e),[SA.LastInView]:e=>GF(e)};let iR=(()=>{let e=class{constructor(){this.dateRange=(e,t)=>{if(!FA(e)||!FA(t))return[];const i=[];let n=e;for(;n<=t;)i.push(n),n=MF(n,1);return i}}addToDate(e,t){return LF(e,t)}datesList(e,t){return VA(0,t).map(t=>LF(e,t))}data(e){const{cellUID:t,focusedDate:i,isActiveView:n,max:s,min:r,selectedDates:o,selectionRange:a=xA,viewDate:l}=e;if(!l)return eR;const c=VA(0,4),u=jF(l),h=GF(l),d=jA();return VA(0,3).map(e=>{const l=MF(u,4*e);return c.map(e=>{const c=this.normalize(MF(l,e),r,s),p=c.getFullYear()>h.getFullYear();if(!this.isInRange(c,r,s)||p)return null;const f=this.isEqual(c,a.start),g=this.isEqual(c,a.end),m=!f&&!g&&ZA(c,a);return{formattedValue:this.value(c),id:`${t}${c.getTime()}`,isFocused:this.isEqual(c,i),isSelected:n&&o.some(e=>this.isEqual(c,e)),isWeekend:!1,isRangeStart:f,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&this.isEqual(c,h),isRangeSplitStart:m&&this.isEqual(c,u),isToday:this.isEqual(c,d),title:this.cellTitle(c),value:c}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()+9}isInRange(e,t,i){const n=e.getFullYear(),s=!t||t.getFullYear()<=n,r=!i||n<=i.getFullYear();return s&&r}beginningOfPeriod(e){if(!e)return e;const t=jF(e);return DF(t.getFullYear(),0,1)}isRangeStart(e){return e.getFullYear()%100==0}move(e,t){const i=tR[t];return i?i(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?jF(e).getFullYear().toString():""}title(e){return e?`${jF(e).getFullYear()} - ${GF(e).getFullYear()}`:""}rowLength(){return 4}skip(e,t){return qF(t,e)}total(e,t){return qF(e,t)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,t,i=1){const n=this.total(e,t);return n<i?LF(e,-1*(i-n)):e}normalize(e,t,i){return e<t&&this.isEqual(e,t)?TF(t):e>i&&this.isEqual(e,i)?TF(i):e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const nR=[[]],sR={[SA.Left]:e=>FF(e,-1),[SA.Up]:e=>$F(e,-1),[SA.Right]:e=>FF(e,1),[SA.Down]:e=>$F(e,1),[SA.PrevView]:e=>PF(e,-1),[SA.NextView]:e=>PF(e,1),[SA.FirstInView]:e=>KF(e),[SA.LastInView]:e=>OF(e)};let rR=(()=>{let e=class{constructor(e){this._intlService=e,this.dateRange=(e,t)=>{if(!FA(e)||!FA(t))return[];const i=[];let n=e;for(;n<=t;)i.push(n),n=FF(n,1);return i}}addToDate(e,t){return PF(e,t)}datesList(e,t){return VA(0,t).map(t=>PF(e,t))}data(e){const{cellUID:t,focusedDate:i,isActiveView:n,max:s,min:r,selectedDates:o,selectionRange:a=xA,viewDate:l,isDateDisabled:c=(()=>!1)}=e;if(!l)return nR;const u=KF(l),h=AF(u),d=OF(l),p=AF(d),f=ZF(u,this._intlService.firstDay(),-1),g=VA(0,7),m=jA();return VA(0,6).map(e=>{const l=FF(f,7*e);return g.map(e=>{const f=this.normalize(FF(l,e),r,s),g=AF(f),v=g<h||g>p;if(f<r||f>s)return null;const y=this.isEqual(f,a.start),b=this.isEqual(f,a.end),w=!y&&!b&&ZA(f,a);return{formattedValue:this.value(f),id:`${t}${f.getTime()}`,isFocused:this.isEqual(f,i),isSelected:n&&o.some(e=>this.isEqual(f,e)),isWeekend:this.isWeekend(f),isRangeStart:y,isRangeMid:w,isRangeEnd:b,isRangeSplitStart:w&&this.isEqual(f,u),isRangeSplitEnd:w&&this.isEqual(f,d),isToday:this.isEqual(f,m),title:this.cellTitle(f),value:f,isDisabled:c(f),isOtherMonth:v}})})}isEqual(e,t){return!(!e||!t)&&AF(e).getTime()===AF(t).getTime()}isInArray(e,t){if(0===t.length)return!1;const i=this.beginningOfPeriod(t[0]),n=this.beginningOfPeriod(PF(t[t.length-1],1));return i<=e&&e<n}isInRange(e,t,i){const n=AF(e),s=!t||AF(t)<=n,r=!i||n<=AF(i);return s&&r}beginningOfPeriod(e){return e?DF(e.getFullYear(),e.getMonth(),1):e}isRangeStart(e){return!e.getMonth()}move(e,t){const i=sR[t];return i?i(e):e}cellTitle(e){return this._intlService.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return`${this.wideMonthNames()[e.getMonth()]} ${e.getFullYear()}`}rowLength(e={}){return 7+(e.prependCell?1:0)}skip(e,t){return YF(t,e)}total(e,t){return YF(e,t)+1}value(e){return e?e.getDate().toString():""}viewDate(e,t,i=1){const n=this.total(e,t);return n<i?PF(e,-1*(i-n)):e}isWeekend(e){const{start:t,end:i}=this._intlService.weekendRange(),n=e.getDay();return i<t?n<=i||t<=n:t<=n&&n<=i}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,i){return e<t&&this.isEqual(e,t)?TF(t):e>i&&this.isEqual(e,i)?TF(i):e}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}};return e.\u0275fac=function(t){return new(t||e)(We(L_))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const oR=[[]],aR={[SA.Left]:e=>PF(e,-1),[SA.Up]:e=>{return PF(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t},[SA.Right]:e=>PF(e,1),[SA.Down]:e=>{return PF(e,(t=e.getMonth())<7?5:t<10?7:2);var t},[SA.PrevView]:e=>MF(e,-1),[SA.NextView]:e=>MF(e,1),[SA.FirstInView]:e=>JF(e),[SA.LastInView]:e=>XF(e)};let lR=(()=>{let e=class{constructor(e){this._intlService=e,this.dateRange=(e,t)=>{if(!FA(e)||!FA(t))return[];const i=[];let n=e;for(;n<=t;)i.push(n),n=PF(n,1);return i}}addToDate(e,t){return MF(e,t)}datesList(e,t){return VA(0,t).map(t=>MF(e,t))}data(e){const{cellUID:t,focusedDate:i,isActiveView:n,max:s,min:r,selectedDates:o,selectionRange:a=xA,viewDate:l}=e;if(!l)return oR;const c=this.abbrMonthNames(),u=JF(l),h=XF(l),d=u.getFullYear(),p=VA(0,4),f=jA();return VA(0,3).map(e=>{const l=PF(u,4*e);return p.map(e=>{const p=this.normalize(PF(l,e),r,s),g=d<p.getFullYear();if(!this.isInRange(p,r,s)||g)return null;const m=this.isEqual(p,a.start),v=this.isEqual(p,a.end),y=!m&&!v&&ZA(p,a);return{formattedValue:c[p.getMonth()],id:`${t}${p.getTime()}`,isFocused:this.isEqual(p,i),isSelected:n&&o.some(e=>this.isEqual(p,e)),isWeekend:!1,isRangeStart:m,isRangeMid:y,isRangeEnd:v,isRangeSplitEnd:y&&this.isEqual(p,h),isRangeSplitStart:y&&this.isEqual(p,u),isToday:this.isEqual(p,f),title:this.cellTitle(p),value:p}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()}isInRange(e,t,i){const n=DF(e.getFullYear(),e.getMonth(),1),s=!t||DF(t.getFullYear(),t.getMonth(),1)<=n,r=!i||n<=DF(i.getFullYear(),i.getMonth(),1);return s&&r}beginningOfPeriod(e){return e?DF(e.getFullYear(),0,1):e}isRangeStart(e){return e.getFullYear()%10==0}move(e,t){const i=aR[t];return i?i(e):e}cellTitle(e){return`${e.getFullYear()} ${this.value(e)}`}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(){return 4}skip(e,t){return eD(t,e)}total(e,t){return eD(e,t)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,t,i=1){const n=this.total(e,t);return n<i?MF(e,-1*(i-n)):e}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,i){return e<t&&this.isEqual(e,t)?TF(t):e>i&&this.isEqual(e,i)?TF(i):e}};return e.\u0275fac=function(t){return new(t||e)(We(L_))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();var cR=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({});const uR={[cR.month]:rR,[cR.year]:lR,[cR.decade]:iR,[cR.century]:XA};let hR=(()=>{let e=class{constructor(e){this.injector=e,this.viewChanged=new gc,this.bottom=cR.month,this.top=cR.century}configure(e,t){this.bottom=e,this.top=t}service(e){const t=uR[e];return t?this.injector.get(t):null}moveDown(e){this.move(e,-1)}moveUp(e){this.move(e,1)}moveToBottom(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,t){const i=this.clamp(((e,t)=>{const i=cR[cR[e+t]];return void 0!==i?i:e})(e,t));i!==e&&this.viewChanged.emit({view:i})}};return e.\u0275fac=function(t){return new(t||e)(We(uo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const dR=qA("div"),pR=qA("ul"),fR=qA("li"),gR=qA("td"),mR=qA("th"),vR=qA("tr"),yR=qA("tbody"),bR=qA("thead"),wR=qA("table"),CR=(e,t)=>new Array(e).fill("1").map(t),SR=e=>dR(e,"k-flex k-content k-calendar-content k-scrollable"),xR=(()=>{let e;return()=>cb?(e||(e=dR([SR([pR([fR("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),e):null})(),kR=({cells:e,rows:t},i,n)=>{let s;return()=>cb?(s||(s=((e,t,i)=>dR([dR('\n            <span class="k-button k-flat k-title k-calendar-title">March 2017</span>\n            <span class="k-spacer"></span>\n            <span class="k-calendar-nav k-hstack">\n                <span class="k-today k-nav-today">TODAY</span>\n            </span>\n        ',"k-calendar-header k-hstack"),i?wR([bR([vR([mR("MO","k-calendar-th")],"k-calendar-tr")],"k-calendar-thead")],"k-calendar-weekdays k-calendar-table"):null,SR([e,e])],t,{left:"-10000px",position:"absolute"}))(((e,t=1)=>wR([yR([vR([mR("1","k-calendar-th")],"k-calendar-tr")].concat(CR(e,()=>vR(CR(t,e=>gR(`<span class="k-link">${e}</span>`,"k-calendar-td")),"k-calendar-tr"))),"k-calendar-tbody")],"k-calendar-table"))(t,e),i,n)),s):null},ER=e=>e.querySelector(".k-scrollable"),IR=e=>(ER(e).classList.add("k-scrollable-horizontal"),e),TR=kR({cells:7,rows:6},"k-vstack k-calendar-view k-calendar-monthview",!0),_R=kR({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-yearview",!1),FR=kR({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-decadeview",!1),DR=e=>parseFloat(window.getComputedStyle(e).height)||e.offsetHeight,AR=e=>{const t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},RR=e=>e.querySelector("tbody");let OR=(()=>{let e=class{ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e){cb()&&(this.hostContainer=e,this.batch(TR(),e=>{const t=RR(e);this.calendarHeight=DR(e),this.monthViewHeight=DR(t),this.headerHeight=DR(t.children[0]),this.scrollableContentHeight=DR(ER(e))}),this.batch(IR(TR()),e=>{const t=RR(e);this.calendarWidth=AR(e),this.monthViewWidth=AR(t),this.scrollableContentWidth=AR(ER(e))}),this.batch(_R(),e=>{this.yearViewHeight=DR(RR(e)),this.scrollableYearContentHeight=DR(ER(e))}),this.batch(IR(_R()),e=>{this.yearViewWidth=AR(RR(e))}),this.batch(FR(),e=>{this.decadeViewHeight=DR(RR(e)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(IR(FR()),e=>{this.decadeViewWidth=AR(RR(e)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(xR(),e=>{this.navigationItemHeight=DR(e.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,t){const i="height"===t?"ViewHeight":"ViewWidth";switch(e){case cR.month:return this["month"+i];case cR.year:return this["year"+i];case cR.decade:return this["decade"+i];case cR.century:return this["century"+i];default:return 1}}batch(e,t){if(!FA(this.hostContainer))return;const i=this.hostContainer.cloneNode();document.body.appendChild(i);try{t(i.appendChild(e))}catch(n){throw n}finally{document.body.removeChild(i)}}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class PR{constructor(e=0,t,i){this.total=e,this.rowHeight=t,this.detailRowHeight=i,this.offsets=[],this.heights=[];let n=0;for(let s=0;s<e;s++)this.offsets.push(n),n+=t,this.heights.push(t)}height(e){return this.heights[e]}expandDetail(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}collapseDetail(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}index(e){if(e<0)return;const t=this.offsets.reduce((t,i,n)=>void 0!==t?t:i===e?n:i>e?n-1:void 0,void 0);return void 0===t?this.total-1:t}offset(e){return this.offsets[e]}totalHeight(){return this.heights.reduce((e,t)=>e+t,0)}updateRowHeight(e,t){this.heights[e]+=t,this.offsets=((e,t,i)=>[...e.slice(0,t+1),...e.slice(t+1).map(e=>e+i)])(this.offsets,e,t)}}const NR=e=>Math.max(e,0);class MR{constructor(e){this.offset=e}}class LR{constructor(e){this.skip=e}}class VR{constructor(e){this.scrollObservable=e,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}create(e,t,i,n,s=0,r=0,o="vertical"){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=n,this.lastScroll=0,this.topOffset=s,this.bottomOffset=r,this.direction=o;const a=new cD(2),l=this.rowsForHeight(s),c=NR(t-l);return a.next(new MR(this.rowOffset(c))),l&&a.next(new LR(c)),this.subscription=new w(e=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(t=>this.onScroll(t,e))}).subscribe(e=>a.next(e)),a}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:e,scrollTop:t,offsetHeight:i,offsetWidth:n},s){const r="vertical"===this.direction?t:e,o="vertical"===this.direction?i:n;if(this.lastScroll===r)return;const a=this.lastScroll>=r;this.lastScroll=r;const l=this.rowHeightService.index(NR(r-this.topOffset)),c=this.rowHeightService.index(NR(r+o-this.bottomOffset));if(!a&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=l,s.next(new MR(this.rowOffset(l))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new LR(this.firstLoaded))),a&&l<=this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=NR(l-e),s.next(new MR(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new LR(this.firstLoaded))}}rowOffset(e){return this.rowHeightService.offset(e)+this.topOffset}rowsForHeight(e){return Math.ceil(e/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const HR=new Ve("dateinputs-scroll-service-factory");function BR(e){return new VR(e)}var zR=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({});const jR={[zR.Forward]:e=>t=>t+e,[zR.Backward]:e=>t=>t-e},UR={[zR.Forward]:e=>t=>Math.min(t,e),[zR.Backward]:e=>t=>Math.max(t,e)},GR={[zR.Forward]:e=>t=>t<e,[zR.Backward]:e=>t=>t>e};let qR=(()=>{let e=class{constructor(e,t,i,n){this.container=t,this.renderer=i,this.zone=n,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new gc,this.pageChange=new gc,this.scrollChange=new gc,this.wrapperClasses=!0,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new E,this.scroller=e(this.dispatcher)}get horizontalClass(){return"horizontal"===this.direction}get totalVertexLength(){const e=this.totalSize+"px";return"vertical"===this.direction?{height:e}:{width:e}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}ngOnChanges(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe(L(e=>e.target)).subscribe(e=>{this.dispatcher.next(e),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(e){return this.container.nativeElement[e]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService.index(e)}itemOffset(e){return this.rowHeightService.offset(e)}isIndexVisible(e){if(!this.rowHeightService)return!1;const t=this.containerScrollPosition,i=t+this.containerOffsetSize,n=this.rowHeightService.offset(e),s=n+this.rowHeightService.height(e);return n>=t&&s<=i}isListScrolled(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}scrollTo(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}scrollToIndex(e){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(e))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(e){this.animationSubscription&&this.animationSubscription.unsubscribe();const t=this.rowHeightService.offset(e),i=this.getContainerScrollDirection(t),{start:n,end:s}=this.scrollRange(t,i);if(n===s)return;const r=this.scrollStep(n,s),o=jR[i](r),a=UR[i](s),l=GR[i](o(s));this.zone.runOutsideAngular(()=>{this.animationSubscription=sg(tg(n),Fb(0,pD)).pipe(L(e=>e[0]),Hg(o),function(e,t=!1){return i=>i.lift(new fD(e,t))}(l),L(a)).subscribe(e=>this.scrollTo(e))})}scrollRange(e,t){const i=this.containerScrollPosition;if(parseInt(e,10)===parseInt(i,10))return{start:e,end:e};const n=this.containerMaxScroll(),s=t===zR.Backward?1:-1,r=(o=this.maxScrollDifference,Math.min(Math.abs(e-i),o));var o;const a=Math.min(e,n);return{start:Math.min(Math.max(a+s*r,0),n),end:a}}scrollStep(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}scroll$(){return cb()?lb(this.container.nativeElement,"scroll"):ag}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(e=>{e instanceof LR?this.pageChange.emit(e):this.scrollChange.emit(e)})}createRowHeightService(){return new PR(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(e){return e<this.containerScrollPosition?zR.Backward:zR.Forward}};return e.\u0275fac=function(t){return new(t||e)(Oo(HR),Oo(Wa),Oo(Ja),Oo(ou))},e.\u0275cmp=pt({type:e,selectors:[["kendo-virtualization"]],hostVars:10,hostBindings:function(e,t){2&e&&ua("k-flex",t.wrapperClasses)("k-content",t.wrapperClasses)("k-calendar-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[Ga([{provide:HR,useValue:BR}]),Pa],ngContentSelectors:mD,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(Jo(),Xo(0),Bo(1,"div",0)),2&e&&(ms(1),ua("k-scrollable-horizontal-placeholder","horizontal"===t.direction),Mo("ngStyle",t.totalVertexLength))},directives:[Gh],encapsulation:2}),e})();const $R=(e,t,i)=>{for(;e&&e!==i&&!t(e);)e=e.parentNode;if(e!==i)return e},KR=(e,t)=>{for(;e&&!t(e);)e=e.parentNode;return e};let WR=(()=>{let e=class{constructor(e,t,i,n,s){this.bus=e,this.dom=t,this.intl=i,this.cdr=n,this.renderer=s,this.min=new Date(EA),this.max=new Date(IA),this.focusedDate=new Date,this.valueChange=new gc,this.pageChange=new gc,this.dates=[],this.take=30,this.indexToScroll=-1}get getComponentClass(){return!0}ngOnInit(){this.dom.ensureHeights();const e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=cR[this.activeView];const t=zA(this.focusedDate,this.min,this.max),i=this.service.total(this.min,this.max),n=this.total&&this.total!==i;this.skip=this.service.skip(t,this.min),this.total=i,!n&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||n)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,i=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",i),this.renderer.setStyle(t,"-ms-transform",i)}handleDateChange(e){const t=$R(e.target,e=>e.hasAttribute("data-date-index"),this.list.nativeElement);if(t){const e=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(TF(this.dates[e]))}}getTake(e){return Math.min(this.total-e,this.take)}intlChange(){this.activeView===cR.month&&this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(hR),Oo(OR),Oo(L_),Oo(Wr),Oo(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){var i;1&e&&(_c(qR,!0),Tc(vD,!0)),2&e&&(Ic(i=Oc())&&(t.virtualization=i.first),Ic(i=Oc())&&(t.list=i.first))},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-calendar-navigation",t.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[Pa],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Bo(0,"span",0),Vo(1,"kendo-virtualization",1),Ko("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)})),Vo(2,"ul",2,3),Ao(4,CD,4,11,"li",4),Ho(),Ho()),2&e&&(ms(1),Mo("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),ms(1),Mo("kendoEventsOutsideAngular",tc(10,SD,t.handleDateChange))("scope",t),ms(2),Mo("kForOf",t.dates))},directives:function(){return[qR,mb,zO,Lh,qh]},encapsulation:2,changeDetection:0}),e})(),ZR=(()=>{let e=class{constructor(e,t,i,n,s){this.bus=e,this.cdr=t,this.intl=i,this.dom=n,this.renderer=s,this.isActive=!0,this.min=new Date(EA),this.max=new Date(IA),this.selectedDates=[],this.cellClick=new gc,this.weekNumberCellClick=new gc,this.activeDateChange=new gc,this.todayButtonClick=new gc,this.pageChange=new gc,this.getComponentClass=!0,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentMonthClass(){return this.activeView===cR.month}get getComponentYearClass(){return this.activeView===cR.year}get getComponentDecadeClass(){return this.activeView===cR.decade}get getComponentCenturyClass(){return this.activeView===cR.century}ngOnInit(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength({prependCell:this.weekNumber})).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=$A(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;const t=$A(e,"activeView"),i=this.focusedDate,n=zA(this.service.viewDate(i,this.max,this.minViewsToRender),this.min,this.max),s=this.service.total(this.min,this.max),r=this.total&&this.total!==s||!this.service.isInArray(i,this.dates);var o,a;this.skip=this.service.skip(n,this.min),this.total=s,this.animateToIndex=!t,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),r&&(this.dates=this.service.datesList(n,this.getTake(this.skip))),a=i,(o=this.activeDate)&&a&&o.getFullYear()===a.getFullYear()&&o.getMonth()===a.getMonth()||(this.activeDate=TF(i));const l=$A(e,"focusedDate")||t;(r||l||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(i,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,i=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",i),this.renderer.setStyle(t,"-ms-transform",i)}setActiveDate(e){const t=this.service.addToDate(this.min,e);RF(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}isMonthView(){return this.activeView===cR.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===cR.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(e){return Math.min(this.total-e,this.take)}getWeekNames(){const e=GA(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}intlChange(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(hR),Oo(Wr),Oo(L_),Oo(OR),Oo(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){var i;1&e&&(_c(qR,!0),Tc(vD,!0)),2&e&&(Ic(i=Oc())&&(t.virtualization=i.first),Ic(i=Oc())&&(t.list=i.first))},hostVars:12,hostBindings:function(e,t){2&e&&ua("k-vstack",t.getComponentClass)("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",activeDateChange:"activeDateChange",todayButtonClick:"todayButtonClick",pageChange:"pageChange"},features:[Pa],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","todayButtonClick"],["class","k-calendar-weekdays k-calendar-table","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],[1,"k-calendar-table"],["list",""],[4,"ngFor","ngForOf"],["class","k-calendar-tbody","kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick",4,"kFor","kForOf"],[1,"k-calendar-weekdays","k-calendar-table",2,"table-layout","auto"],[1,"k-calendar-thead"],[1,"k-calendar-tr"],["class","k-calendar-th",3,"width",4,"ngFor","ngForOf"],[1,"k-calendar-th"],["kendoCalendarView","","role","rowgroup",1,"k-calendar-tbody",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick"]],template:function(e,t){1&e&&(Vo(0,"kendo-calendar-header",0),Ko("todayButtonClick",(function(e){return t.todayButtonClick.emit(e)})),Ho(),Ao(1,kD,4,1,"table",1),Vo(2,"kendo-virtualization",2),Ko("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)}))("activeIndexChange",(function(e){return t.setActiveDate(e)})),Vo(3,"table",3,4),Vo(5,"colgroup"),Ao(6,ED,1,0,"col",5),Ho(),Ao(7,ID,1,11,"tbody",6),Ho(),Ho()),2&e&&(Mo("currentDate",t.activeDate)("min",t.min)("max",t.max)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),ms(1),Mo("ngIf",t.isMonthView()),ms(1),Mo("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),ms(4),Mo("ngForOf",t.cols),ms(1),Mo("kForOf",t.dates))},directives:function(){return[jO,Lh,qR,Nh,zO,UO]},encapsulation:2,changeDetection:0}),e})();const YR={33:SA.PrevView,34:SA.NextView,35:SA.LastInView,36:SA.FirstInView,37:SA.Left,38:SA.Up,39:SA.Right,40:SA.Down,"meta+38":SA.UpperView,"meta+40":SA.LowerView};let QR=(()=>{let e=class{constructor(e){this.bus=e}action(e){return YR[`${e.ctrlKey||e.metaKey?"meta+":""}${e.keyCode}`]}move(e,t,i){const n=this.bus.service(i);return n?t===SA.UpperView&&this.bus.canMoveUp(i)?(this.bus.moveUp(i),e):t===SA.LowerView&&this.bus.canMoveDown(i)?(this.bus.moveDown(i),e):n.move(e,t):e}};return e.\u0275fac=function(t){return new(t||e)(We(hR))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const JR=()=>!1;let XR=(()=>{let e=class{constructor(){this.changes=new E,this.isDateDisabled=JR}initialize(e){if("function"==typeof e)this.isDateDisabled=t=>e(AF(t));else if(t=e,Array.isArray(t)&&t.length>0&&t.every(e=>"number"==typeof e)){const t=new Set(e);this.isDateDisabled=e=>t.has(e.getDay())}else if((e=>Array.isArray(e)&&e.length>0&&e.every(e=>e instanceof Date))(e)){const t=new Set(e.map(e=>AF(e).getTime()));this.isDateDisabled=e=>t.has(AF(e).getTime())}else this.isDateDisabled=JR,this.notifyInvalidInput(e);var t;this.notifyServiceChange()}notifyInvalidInput(e){if(FA(e)&&Sn())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}notifyServiceChange(){this.changes.next()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),eO=(()=>{let e=class{constructor(e){this.bus=e}performSelection(e){let{date:t,modifiers:i,selectionMode:n,activeViewEnum:s,rangePivot:r}=e,o=e.selectedDates.slice();if("multiple"===n)if(i.ctrlKey||i.metaKey)this.isDateSelected(o,t)?o=o.filter(e=>!RF(e,t)):o.push(t),r=t;else if(i.shiftKey){const[e,i]=[r||t,t].filter(e=>FA(e)).sort((e,t)=>e.getTime()-t.getTime());o=this.bus.service(s).dateRange(e,i),r=t>o[0]?o[0]:WA(o)}else o=[t],r=t;else o=[t],r=t;return{selectedDates:o,rangePivot:r}}isDateSelected(e,t){return e.some(e=>RF(e,t))}};return e.\u0275fac=function(t){return new(t||e)(We(hR))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),tO=(()=>{let e=class{constructor(e,t){this.dom=e,this.zone=t}configure(e){const t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(e=>t=>Math.floor(t/e))(t),this.powerByMagnitude=(e=>t=>t*e)(t)}sync(e,t){this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular(()=>{let i,n;this.navSubscription=e.scroll$().subscribe(e=>{n?n=!1:(i=!0,this.scrollSiblingOf(e.target))}),this.viewSubscription=t.scroll$().subscribe(e=>{i?i=!1:(n=!0,this.scrollSiblingOf(e.target))})}))}scrollSiblingOf(e){const t=this.siblingComponent(e),i=this.calculateScroll(t,e.scrollTop);t.scrollTo(i)}siblingComponent(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}calculateScroll(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)(We(OR),We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),iO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarCellTemplate",""]]}),e})(),nO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),e})(),sO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarYearCellTemplate",""]]}),e})(),rO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),e})(),oO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),e})(),aO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),e})(),lO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),e})(),cO=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),e})(),uO=(()=>{class e{constructor(){this.onFocus=new gc,this.onBlur=new gc,this.sameDateSelected=new gc,this.dateCompletenessChange=new gc}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const hO=e=>t=>e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null,dO=e=>t=>e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null,pO="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",fO=e=>e?e.virtualization:null,gO={multi:!0,provide:fw,useExisting:xe(()=>yO)},mO={multi:!0,provide:Fw,useExisting:xe(()=>yO)},vO={provide:Tb,useExisting:xe(()=>yO)};let yO=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,u,h,d){this.bus=e,this.dom=t,this.element=i,this.navigator=n,this.renderer=s,this.cdr=r,this.ngZone=o,this.injector=a,this.scrollSyncService=l,this.disabledDatesService=c,this.localization=u,this.selectionService=h,this.pickerService=d,this.id=pb(),this.rangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=cR[cR.month],this.bottomView=cR[cR.month],this.topView=cR[cR.century],this.animateNavigation=!1,this.weekNumber=!1,this.activeViewChange=new gc,this.activeViewDateChange=new gc,this.valueChange=new gc,this.isActive=!1,this.cellUID=pb(),this.selectedDates=[],this._min=new Date(EA),this._max=new Date(IA),this._focusedDate=jA(),this.onControlChange=UA,this.onControlTouched=UA,this.onValidatorChange=UA,this.minValidateFn=UA,this.maxValidateFn=UA,this.syncNavigation=!0,this._type="infinite",this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,GC(CA),this.setClasses(i.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}set focusedDate(e){this._focusedDate=e||jA(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(EA)}get min(){return this._min}set max(e){this._max=e||new Date(IA)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(e=>FA(e)).map(e=>TF(e)):TF(e);const t=[].concat(e).filter(e=>FA(e)).map(e=>TF(e));if(!YA(t,this.selectedDates)){const e=WA(t);this.rangePivot=TF(e),this.focusedDate=TF(e)||this.focusedDate,this.selectedDates=t}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set type(e){this.renderer.removeClass(this.element.nativeElement,"k-calendar-"+this.type),this.renderer.addClass(this.element.nativeElement,"k-calendar-"+e),this._type=e}get type(){return this._type}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}get activeViewEnum(){const e=cR[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return cR[this.bottomView]}get topViewEnum(){return cR[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}ngOnInit(){this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:e})=>this.handleActiveViewChange(cR[e])),this.control=this.injector.get(kw,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum),KA(e,"focusedDate")&&(this.focusedDate=zA(e.focusedDate.currentValue,this.min,this.max)),e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?hO(this.min):UA,this.maxValidateFn=this.rangeValidation?dO(this.max):UA,this.onValidatorChange())}ngAfterViewInit(){this.setAriaActivedescendant()}ngAfterViewChecked(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(fO(this.navigationView),fO(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.destroyed=!0}onResize(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}containsElement(e){return Boolean(KR(e,e=>e===this.element.nativeElement))}handleNavigation(e){if(this.disabled)return;const t=e?new Date(TF(e).setDate(1)):this.focusedDate;this.focusedDate=zA(t,this.min,this.max),this.detectChanges()}onPageChange(){ou.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=z(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleMultiViewCalendarValueChange(e,t){const i=Array.isArray(e)?e:[e];this.handleDateChange({selectedDates:i,focusedDate:t})}handleDateChange(e){const t=Array.isArray(e.selectedDates)?e.selectedDates:[e.selectedDates],i=this.bus.canMoveDown(this.activeViewEnum),n=t.filter(e=>!this.disabledDatesService.isDateDisabled(e));this.focusedDate=e.focusedDate||this.focusedDate,this.disabled||(i||!YA(n,this.selectedDates)?i?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(this.focusedDate)||this.ngZone.run(()=>{this.selectedDates=n.map(e=>TF(e)),this.value=this.parseSelectionToValue(n),this.onControlChange(this.parseSelectionToValue(n)),this.valueChange.emit(this.parseSelectionToValue(n)),this.cdr.markForCheck()}):this.emitSameDate())}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case cR.month:return this.monthCellTemplate||this.cellTemplate;case cR.year:return this.yearCellTemplate;case cR.decade:return this.decadeCellTemplate;case cR.century:return this.centuryCellTemplate;default:return null}}emitEvent(e,t){db(e)&&this.ngZone.run(()=>{e.emit(t)})}handleActiveViewChange(e){this.activeView=e,this.emitEvent(this.activeViewChange,e),"infinite"===this.type&&this.scrollSyncService.configure(this.activeViewEnum),this.detectChanges()}handleCellClick({date:e,modifiers:t}){this.performSelection(e,t)}handleWeekNumberClick(e){"single"!==this.selection&&this.ngZone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:WA(e)})})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-"+this.type)}verifyChanges(){if(Sn()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if(Sn()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${pO} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(e=>e instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${pO} for possible resolution.`)}}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",_A),this.renderer.listen(e,"click",this.handleComponentClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit()}handleBlur(e){this.isActive=!1,!this.pickerService&&TA(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):(this.emitBlur(e),this.detectChanges())}handleFocus(){this.isActive=!0,ou.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleComponentClick(){this.isActive||("infinite"===this.type&&this.monthView.isScrolled()&&(this.focusedDate=TF(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(e){const t=-1!==[_b.ArrowUp,_b.ArrowRight,_b.ArrowDown,_b.ArrowLeft].indexOf(e.keyCode);if(FA(this.pickerService)&&t&&e.altKey)return;const i=zA(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);RF(this.focusedDate,i)||(this.focusedDate=i,this.detectChanges(),e.preventDefault()),e.keyCode===_b.Enter&&this.performSelection(this.focusedDate,e)}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){if(!FA(this.element))return;const e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}parseSelectionToValue(e){return e=e||[],"single"===this.selection?TF(WA(e)):e.map(e=>TF(e))}performSelection(e,t){const i=this.selectionService.performSelection({date:e,modifiers:t,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=i.rangePivot,this.handleDateChange({selectedDates:i.selectedDates,focusedDate:e})}};return e.\u0275fac=function(t){return new(t||e)(Oo(hR),Oo(OR),Oo(Wa),Oo(QR),Oo(Ja),Oo(Wr),Oo(ou),Oo(uo),Oo(tO),Oo(XR),Oo(jb),Oo(eO),Oo(uO,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar"]],contentQueries:function(e,t,i){var n;1&e&&(Ac(i,iO,!0),Ac(i,nO,!0),Ac(i,sO,!0),Ac(i,rO,!0),Ac(i,oO,!0),Ac(i,aO,!0),Ac(i,lO,!0),Ac(i,cO,!0)),2&e&&(Ic(n=Oc())&&(t.cellTemplate=n.first),Ic(n=Oc())&&(t.monthCellTemplate=n.first),Ic(n=Oc())&&(t.yearCellTemplate=n.first),Ic(n=Oc())&&(t.decadeCellTemplate=n.first),Ic(n=Oc())&&(t.centuryCellTemplate=n.first),Ic(n=Oc())&&(t.weekNumberTemplate=n.first),Ic(n=Oc())&&(t.headerTitleTemplate=n.first),Ic(n=Oc())&&(t.navigationItemTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(_c(WR,!0),_c(ZR,!0)),2&e&&(Ic(i=Oc())&&(t.navigationView=i.first),Ic(i=Oc())&&(t.monthView=i.first))},hostVars:8,hostBindings:function(e,t){2&e&&(Fo("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled),ua("k-week-number",t.weekNumber)("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",selection:"selection",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",animateNavigation:"animateNavigation",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",type:"type",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[Ga([hR,gO,mO,vO,jb,XR,{provide:zb,useValue:"kendo.calendar"},QR,tO,eO]),Pa],decls:4,vars:2,consts:[["kendoCalendarLocalizedMessages","",6,"today","prevButtonTitle","nextButtonTitle"],[4,"ngIf"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","selectedDates","todayButtonClick","cellClick","weekNumberCellClick","activeDateChange","pageChange"],[3,"resize"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"],[3,"views","min","max","isActive","activeView","bottomView","topView","weekNumber","animateNavigation","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","headerTitleTemplate","weekNumberTemplate","focusedDate","selection","value","disabledDates","activeViewChange","valueChange"],["multiviewcalendar",""],[3,"today","prevButtonTitle","nextButtonTitle"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,TD),jo(),Ao(2,FD,4,12,"ng-container",1),Ao(3,DD,4,23,"ng-container",1)),2&e&&(ms(2),Mo("ngIf","infinite"===t.type),ms(1),Mo("ngIf","classic"===t.type))},directives:function(){return[eP,Lh,ZR,Eb,WR,HO,YO]},encapsulation:2,changeDetection:0}),e})();const bO=()=>(e,t)=>!FA(e.value)&&t?{incompleteDate:!0}:null;var wO,CO=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({});const SO=/year|month|<day>/,xO=/hour|minute|second|millisecond/,kO=/d|M|H|h|m|s/,EO=e=>e.replace(/^0*/,"");class IO{constructor(){this.symbols=""}}class TO{constructor(e,t,i,n,s=68){if(this.intl=e,this.formatPlaceholder=t,this.format=i,this.twoDigitYearMax=s,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=AF(new Date),this.knownParts="adHhmMsSEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",S:"S",y:"y"},GC(CA),this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),n)this.value=TF(n);else{this.value=AF(new Date);const e=this.dateFormatString(this.value,this.format).symbols;for(let t=0;t<e.length;t++)this.setExisting(e[t],!1)}}hasValue(){return this.intl.splitDateFormat(this.format).reduce((e,t)=>e||"literal"!==t.type&&"dayperiod"!==t.type&&this.getExisting(t.pattern[0]),!1)}shouldNormalizeCentury(){return this.intl.splitDateFormat(this.format).some(e=>"yy"===e.pattern)}getDateObject(){for(let e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return TF(this.value)}getTextAndFormat(e){return this.merge(this.intl.formatDate(this.value,e),this.dateFormatString(this.value,e))}getExisting(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}}setExisting(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;case"S":this.milliseconds=t;break;default:return}}modifyPart(e,t){let i=TF(this.value);switch(e){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":i=PF(this.value,t);break;case"d":case"E":i.setDate(i.getDate()+t);break;case"h":case"H":i.setHours(i.getHours()+t);break;case"m":i.setMinutes(i.getMinutes()+t);break;case"s":i.setSeconds(i.getSeconds()+t);break;case"S":i.setMilliseconds(i.getMilliseconds()+t);break;case"a":i.setHours(i.getHours()+12*t)}this.shouldNormalizeCentury()&&(i=this.normalizeCentury(i)),i.getFullYear()>0&&(this.setExisting(e,!0),this.value=i)}parsePart(e,t,i){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};let n=this.intl.formatDate(this.value,this.format),s=this.dateFormatString(this.value,this.format),r=s.symbols,o=!1,a="",l="",c="";for(let m=0;m<n.length;m++)r[m]===e?(l+=this.getExisting(e)?n[m]:"0",o=!0):o?c+=n[m]:a+=n[m];let u=l.length-3,h=null;const d=this.matchMonth(t),p=this.matchDayPeriod(t,e),f="0"===t,g=(this.leadingZero||{})[e]||0;f?0!==parseInt(i?t:l+t,10)||this.isAbbrMonth(s.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(let m=Math.max(0,u);m<=l.length;m++){let n=i?t:l.substring(m)+t;"S"===e&&i&&(n=Array(r.match(/S+(\1)/)[0].length).join("0")+n);let o=parseInt(n,10);if(h=this.intl.parseDate(a+n+c,this.format),!h&&!isNaN(o)&&!isNaN(parseInt(t,10))){if("M"===e&&!d){const e=o-1;e>-1&&e<12&&(h=TF(this.value),h.setMonth(e),h.getMonth()!==e&&(h=OF(PF(h,-1))))}"y"===e&&(h=DF(parseInt(n,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&h.getDate()!==this.value.getDate()&&(h=OF(PF(h,-1))))}if(h){const i=this.partPattern(s.partMap,e).pattern,r=this.intl.parseDate(`${a}${this.peek(n,i)}${c}`,this.format),o=this.patternLength(i)||i.length,l=g+(EO(n)||t).length>=o,u=null===r||l;return this.shouldNormalizeCentury()&&(h=this.normalizeCentury(h)),this.value=h,this.setExisting(e,!0),{value:this.value,switchToNext:u}}}return d&&(h=this.intl.parseDate(a+d+c,this.format),h)?(this.value=h,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):p&&(h=this.intl.parseDate(a+p+c,this.format),h)?(this.value=h,{value:this.value,switchToNext:!0}):(f&&this.setExisting(e,!1),{value:null,switchToNext:!1})}resetLeadingZero(){const e=null!==this.leadingZero;return this.setLeadingZero(null),e}setLeadingZero(e){this.leadingZero=e}normalizeCentury(e){if(!FA(e))return e;const t=(e=>!FA(e)||isNaN(e.getTime())?0:Number(e.getFullYear().toString().slice(-2)))(e),i=this.getNormalizedCenturyBase(t);return OA(e,i+t)}incrementLeadingZero(e){const t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}isAbbrMonth(e,t){const i=this.partPattern(e,t);return"month"===i.type&&i.names}partPattern(e,t){return e.filter(e=>-1!==e.pattern.indexOf(t))[0]}peek(e,t){const i=EO(e)+"0";return(e=>new Array(Math.max(e,0)).fill("0").join(""))(t.length-i.length)+i}matchMonth(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(let t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];const e=parseInt(this.typedMonthPart,10);if(e>=1&&e<=12&&e.toString()===this.typedMonthPart)return this.monthNames[e-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(e,t){const i=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(i))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(i))return this.dayPeriods.pm}return""}allFormatedMonths(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}allDayPeriods(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}patternLength(e){return"y"===e[0]?4:kO.test(e)?2:0}dateFormatString(e,t){const i=this.intl.splitDateFormat(t),n=[],s=[];for(let o=0;o<i.length;o++){let t=this.intl.formatDate(e,{pattern:i[o].pattern}).length;for(;t>0;)n.push(this.symbols[i[o].pattern[0]]||"_"),s.push(i[o]),t--}const r=new IO;return r.symbols=n.join(""),r.partMap=s,r}merge(e,t){let i="",n="",s=t.symbols;for(let r=s.length-1;r>=0;r--)if(-1===this.knownParts.indexOf(s[r])||this.getExisting(s[r]))i=e[r]+i,n=s[r]+n;else{const e=s[r];for(;r>=0&&e===s[r];)r--;for(r++,i=this.leadingZero&&this.leadingZero[e]?"0"+i:this.dateFieldName(t.partMap[r])+i;n.length<i.length;)n=s[r]+n}return[i,n]}dateFieldName(e){const t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}getNormalizedCenturyBase(e){return e>this.twoDigitYearMax?1900:2e3}}let _O=(()=>{let e=wO=class{constructor(e,t,i,n,s,r,o,a){this.cdr=e,this.intl=t,this.renderer=i,this.element=n,this.ngZone=s,this.injector=r,this.localization=o,this.pickerService=a,this.focusableId="k-"+pb(),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="spinbutton",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.steps={},this.rangeValidation=!0,this.autoCorrect=!1,this.incompleteDateValidation=!1,this.twoDigitYearMax=68,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new gc,this.valueUpdate=new gc,this.onFocus=new gc,this.onBlur=new gc,this.arrow=CO,this.arrowDirection=CO.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.isDateIncomplete=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidator=UA,this.maxValidator=UA,this.incompleteValidator=UA,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=UA,this.onControlTouched=UA,this.onValidatorChange=UA,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set value(e){this.verifyValue(e),this.autoCorrect&&!HA(e,this.min,this.max)||(this._value=TF(e),this.valueUpdate.emit(TF(e)))}get value(){return this._value}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(e){if(this._active=e,this.wrap&&!FA(this.pickerService)){const t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}get inputFormat(){return this.format?"string"==typeof this.format?this.format:this.format.inputFormat:"d"}get displayFormat(){return this.format?"string"==typeof this.format?this.format:this.format.displayFormat:"d"}isEmpty(){return!this.currentValue||!String(this.currentValue).trim()}containsElement(e){return Boolean(KR(e,e=>e===this.element.nativeElement))}ngOnChanges(e){this.verifyRange(),(e.min||e.max||e.rangeValidation||e.incompleteDateValidation)&&(this.minValidator=this.rangeValidation?hO(this.min):UA,this.maxValidator=this.rangeValidation?dO(this.max):UA,this.incompleteValidator=this.incompleteDateValidation?bO():UA,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());const t=this.kendoDate&&RF(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(e=>e())}validate(e){return this.minValidator(e)||this.maxValidator(e)||this.incompleteValidator(e,this.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}ngOnInit(){this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.ngControl=this.injector.get(kw,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular(()=>{this.bindEvents()}))}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}writeValue(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=TF(e),this.updateElementValue(this.isActive)}triggerChange(){const e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=TF(e),this.notify())}notify(){this.ngZone.run(()=>{this.onControlChange(TF(this.value)),this.valueChange.emit(TF(this.value))})}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}focus(){const e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}blur(){const e=this.inputElement;e&&e.blur()}handleButtonClick(e){this.arrowDirection=CO.None,this.modifyDateSegmentValue(e)}modifyDateSegmentValue(e){const t=this.caret(),i=this.currentFormat[t[0]];let n=(this.steps||{})[this.symbolsMap[i]]||1;if("S"===i&&!this.steps.millisecond){const e=(e=>{const t=e&&e.match(/S+(\1)/);return t?t[0].length:0})(this.inputFormat);n=Math.pow(10,3-e)}this.kendoDate.modifyPart(i,e*n),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(i),this.updateIncompleteValidationStatus()}switchDateSegment(e){const t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;const i=this.currentFormat[t[0]];let n=t[0]+e;for(;n>0&&n<this.currentFormat.length&&(this.currentFormat[n]===i||"_"===this.currentFormat[n]);)n+=e;if("_"===this.currentFormat[n])return!1;let s=n;for(;s>=0&&s<this.currentFormat.length&&this.currentFormat[s]===this.currentFormat[n];)s+=e;return n>s&&(s+1!==t[0]||n+1!==t[1])?(this.caret(s+1,n+1),this.resetSegmentValue=!0,!0):n<s&&(n!==t[0]||s!==t[1])&&(this.caret(n,s),this.resetSegmentValue=!0,!0)}selectDateSegment(e){let t=-1,i=0;for(let n=0;n<this.currentFormat.length;n++)this.currentFormat[n]===e&&(i=n+1,-1===t&&(t=n));t<0&&(t=0),this.caret(0,0),this.caret(t,i)}handleClick(){if(this.hasMousedown=!1,this.isActive){const e=this.inputElement.selectionStart!==this.inputElement.selectionEnd,t=FA(this.placeholder)&&!this.kendoDate.hasValue()&&!this.focusedPriorToMousedown,i=!e&&t?0:this.caret()[0];this.selectNearestSegment(i)}}handleDragAndDrop(e){e.preventDefault()}handleMousedown(){this.hasMousedown=!0,this.focusedPriorToMousedown=this.isActive}handleFocus(e){this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,db(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(e)}):this.emitFocus(e)}handleBlur(e){this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),db(this.onBlur)||TA(this.ngControl)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):this.emitBlur(e)}getKendoDate(e){const{leadingZero:t}=this.kendoDate||{}||null,i=new TO(this.intl,this.formatPlaceholder,this.inputFormat,e,this.twoDigitYearMax);return i.setLeadingZero(this.isActive?t:null),i}dateSymbolMap(){return this.intl.splitDateFormat(this.inputFormat).reduce((e,t)=>(e[t.pattern[0]]=t.type,e),{})}updateElementValue(e){const t=this.caret()[0],i=this.kendoDate.getTextAndFormat(this.isActive?this.inputFormat:this.displayFormat),n=!this.isActive&&FA(this.placeholder)&&!this.kendoDate.hasValue(),s=this.inputElement;this.currentFormat=i[1],this.currentValue=n?"":i[0],this.renderer.setProperty(s,"value",this.currentValue),s.placeholder!==this.placeholder&&this.renderer.setProperty(s,"placeholder",this.placeholder),e&&this.selectNearestSegment(t)}caret(e,t=e){const i=void 0!==e;let n=[e,e];const s=this.inputElement;if(!i||!this.disabled&&!this.readonly){try{void 0!==s.selectionStart&&(i&&(cb()&&document.activeElement!==s&&s.focus(),s.setSelectionRange(e,t)),n=[s.selectionStart,s.selectionEnd])}catch(r){n=[]}return n}}selectNearestSegment(e){for(let t=e,i=e-1;t<this.currentFormat.length||i>=0;t++,i--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(i>=0&&"_"!==this.currentFormat[i])return void this.selectDateSegment(this.currentFormat[i])}}verifyRange(){if(Sn()&&!BA(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}verifyValue(e){if(Sn()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}putDateInRange(){const e=this.kendoDate.getDateObject(),t=zA(e,this.min,this.max);this.autoCorrect&&!RF(e,t)&&(this.kendoDate=this.getKendoDate(t))}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.inputFormat).reduce(({date:e,time:t},i)=>({date:e||SO.test(i.type),time:t||xO.test(i.type)}),{date:!1,time:!1})}intlChange(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}updateOnPaste(){let e=this.intl.parseDate(this.inputValue,this.inputFormat)||this.value;FA(e)&&this.kendoDate.shouldNormalizeCentury()&&(e=this.kendoDate.normalizeCentury(e));const t=+e!=+this.value;this.writeValue(e),t&&this.notify()}bindEvents(){const e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}handleMouseWheel(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}handlePaste(){this.paste=!0}handleKeydown(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==_b.Tab)if(e.keyCode!==_b.Backspace){switch(e.keyCode){case _b.ArrowDown:this.modifyDateSegmentValue(-1);break;case _b.ArrowUp:this.modifyDateSegmentValue(1);break;case _b.ArrowRight:this.switchDateSegment(1);break;case _b.ArrowLeft:this.switchDateSegment(-1);break;case _b.Home:this.selectNearestSegment(0);break;case _b.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}handleInput(){if(this.disabled||this.readonly)return;if(this.paste)return this.updateOnPaste(),void(this.paste=!1);const e=((e,t,i,n)=>{const s=n+e.length-i.length,r=e[s],o=e.substring(0,n+e.length-i.length),a=i.substring(0,n),l=[];if(o===a&&n>0)return l.push([t[n-1],a[n-1]]),l;if(0===o.indexOf(a)&&(0===a.length||t[a.length-1]!==t[a.length])){let e="";1===a.length&&l.push([t[0],a[0]]);for(let i=a.length;i<o.length;i++)t[i]!==e&&"_"!==t[i]&&(e=t[i],l.push([e,""]));return l}if(0===a.indexOf(o)||"_"===t[n-1]){let e=t[0];for(let i=Math.max(0,o.length-1);i<t.length;i++)if("_"!==t[i]){e=t[i];break}return[[e,a[n-1]]]}return" "===a[a.length-1]||a[a.length-1]===r&&"_"===t[s]?[[t[n-1],"_"]]:[[t[n-1],a[n-1]]]})(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1];let i=!1;if(!t){let t;for(let s=0;s<e.length;s++)t=this.kendoDate.parsePart(e[s][0],e[s][1],this.resetSegmentValue),i=t.switchToNext;const n=this.kendoDate.getDateObject();this.value&&n&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(RA(this.value,n)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.updateIncompleteValidationStatus(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(i||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}emitFocus(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}emitBlur(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}updateIncompleteValidationStatus(){const e=this.isDateIncomplete;this.isDateIncomplete=this.kendoDate.hasValue()&&null===this.value,e!==this.isDateIncomplete&&this.incompleteDateValidation&&(FA(this.ngControl)&&!FA(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())):FA(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}};return e.\u0275fac=function(t){return new(t||e)(Oo(Wr),Oo(L_),Oo(Ja),Oo(Wa),Oo(ou),Oo(uo),Oo(jb),Oo(uO,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){var i;1&e&&(Tc(AD,!0),_c(RD,!0)),2&e&&(Ic(i=Oc())&&(t.dateInput=i.first),Ic(i=Oc())&&(t.wrap=i.first))},hostVars:6,hostBindings:function(e,t){2&e&&ua("k-widget",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",format:"format",placeholder:"placeholder",steps:"steps",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",incompleteDateValidation:"incompleteDateValidation",twoDigitYearMax:"twoDigitYearMax",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder",max:"max",min:"min"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[Ga([{provide:fw,useExisting:xe(()=>wO),multi:!0},{provide:Fw,useExisting:xe(()=>wO),multi:!0},{provide:zb,useValue:"kendo.dateinput"},{provide:Tb,useExisting:xe(()=>wO)},jb]),Pa],decls:7,vars:21,consts:[["kendoDateInputLocalizedMessages","",6,"increment","decrement"],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,OD),jo(),Vo(2,"span",1,2),Bo(4,"input",3,4),Ao(6,PD,5,8,"span",5),Ho()),2&e&&(ms(4),Mo("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",function(e,t,i,n,s,r,o,a,l,c){const u=si()+13,h=Zt();let d=_o(h,u,i,n,s,r);return To(h,u+4,o,a,l)||d?xo(h,u+7,t(i,n,s,r,o,a,l)):ko(h,u+7)}(0,ND,t.handleClick,t.handleFocus,t.handleMousedown,t.handleMousedown,t.handleDragAndDrop,t.handleDragAndDrop,t.handleBlur))("scope",t),Fo("role",t.role)("aria-readonly",t.ariaReadOnly)("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup),ms(2),Mo("ngIf",t.spinners))},directives:function(){return[lP,mb,Lh]},encapsulation:2,changeDetection:0}),e})();class FO{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const DO=new Ve("dateinputs-touch-enabled");var AO;let RO=(()=>{let e=AO=class{constructor(e,t,i,n,s,r,o,a,l,c){this.zone=e,this.localization=t,this.cdr=i,this.popupService=n,this.element=s,this.renderer=r,this.injector=o,this.pickerService=a,this.disabledDatesService=l,this.touchEnabled=c,this.focusableId="k-"+pb(),this.activeView=cR[cR.month],this.bottomView=cR[cR.month],this.topView=cR[cR.century],this.calendarType="infinite",this.animateCalendarNavigation=!1,this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.navigation=!0,this.min=TF(EA),this.max=TF(IA),this.incompleteDateValidation=!1,this.focusedDate=null,this.format="d",this.twoDigitYearMax=68,this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new gc,this.onFocus=new gc,this.onBlur=new gc,this.open=new gc,this.close=new gc,this.wrapperClasses=!0,this.popupUID=pb(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=UA,this.onControlTouched=UA,this.onValidatorChange=UA,this.minValidateFn=UA,this.maxValidateFn=UA,this.disabledDatesValidateFn=UA,this.incompleteValidator=UA,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],GC(CA),this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set value(e){this.verifyValue(e),this._value=TF(e)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}get disabledClass(){return this.disabled}get inputRole(){return this.readOnlyInput?"listbox":"spinbutton"}get isActive(){return this._active}set isActive(e){if(this._active=e,!this.wrapper)return;const t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}get show(){return this._show}set show(e){e&&(this.disabled||this.readonly)||(e||this._show&&db(this.close)?this.zone.run(()=>{this.togglePopup(e)}):this.togglePopup(e))}isEmpty(){return!this.value&&this.input.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(kw,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()}))}ngOnChanges(e){var t;this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?hO(this.min):UA,this.maxValidateFn=this.rangeValidation?dO(this.max):UA,this.disabledDatesValidateFn=this.disabledDatesValidation?(t=this.disabledDatesService.isDateDisabled,e=>t&&e.value&&t(e.value)?{disabledDate:!0}:null):UA,this.incompleteValidator=this.incompleteDateValidation?bO():UA,this.onValidatorChange())}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(e){this.verifyValue(e),this.value=TF(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.input&&this.input.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}focus(){this.input.focus()}blur(){(this.calendar||this.input).blur()}toggle(e){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this._toggle(void 0===e?!this.show:e)})}handleIconClick(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleMousedown(e){e.preventDefault()}handleChange(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(TF(e)),this.valueChange.emit(TF(e))}handleInputChange(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}get popupClasses(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}get input(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}mergeTime(e){return this.value&&e?RA(e,this.value):e}handleKeydown(e){const{altKey:t,keyCode:i}=e;i===_b.Escape&&(this.show=!1),t&&(i!==_b.ArrowDown||this.show||(this.show=!0),i===_b.ArrowUp&&(this.show=!1)),i===_b.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}togglePopup(e){const t=new FO;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}_toggle(e){if(e!==this._show)if(this._show=e,e){const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:e},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:e},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()}focusInput(){this.touchEnabled||this.input.focus()}toggleFocus(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}verifySettings(){if(Sn()&&!BA(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}verifyValue(e){if(Sn()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}bindEvents(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),"undefined"!=typeof window&&(this.windowBlurSubscription=lb(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,db(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){this.isOpen&&(this.show=!1)}handleBlur(e){const t=e&&(e.relatedTarget||document.activeElement);t&&(this.input.containsElement(t)||this.calendar&&this.calendar.containsElement(t))||(db(this.onBlur)||this.show&&db(this.close)||TA(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}};return e.\u0275fac=function(t){return new(t||e)(Oo(ou),Oo(jb),Oo(Wr),Oo(zx),Oo(Wa),Oo(Ja),Oo(uo),Oo(uO),Oo(XR),Oo(DO,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,i){var n;1&e&&(Dc(i,iO,!0),Dc(i,nO,!0),Dc(i,sO,!0),Dc(i,rO,!0),Dc(i,oO,!0),Dc(i,aO,!0),Dc(i,lO,!0),Dc(i,cO,!0)),2&e&&(Ic(n=Oc())&&(t.cellTemplate=n.first),Ic(n=Oc())&&(t.monthCellTemplate=n.first),Ic(n=Oc())&&(t.yearCellTemplate=n.first),Ic(n=Oc())&&(t.decadeCellTemplate=n.first),Ic(n=Oc())&&(t.centuryCellTemplate=n.first),Ic(n=Oc())&&(t.weekNumberTemplate=n.first),Ic(n=Oc())&&(t.headerTitleTemplate=n.first),Ic(n=Oc())&&(t.navigationItemTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(Tc(MD,!0,wl),Tc(LD,!0),_c(VD,!0)),2&e&&(Ic(i=Oc())&&(t.container=i.first),Ic(i=Oc())&&(t.popupTemplate=i.first),Ic(i=Oc())&&(t.wrapper=i.first))},hostVars:6,hostBindings:function(e,t){2&e&&ua("k-widget",t.wrapperClasses)("k-datepicker",t.wrapperClasses)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",focusedDate:"focusedDate",format:"format",twoDigitYearMax:"twoDigitYearMax",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[Ga([{provide:fw,useExisting:xe(()=>AO),multi:!0},{provide:Fw,useExisting:xe(()=>AO),multi:!0},{provide:Tb,useExisting:xe(()=>AO)},jb,uO,XR,{provide:zb,useValue:"kendo.datepicker"}]),Pa],decls:12,vars:26,consts:[["kendoDatePickerLocalizedMessages","",6,"today","toggle","prevButtonTitle","nextButtonTitle"],[1,"k-picker-wrap"],["wrapper",""],[3,"role","focusableId","hasPopup","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","format","twoDigitYearMax","formatPlaceholder","placeholder","min","max","incompleteDateValidation","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"type","min","max","navigation","animateNavigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today","prevButtonTitle","nextButtonTitle"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,HD),jo(),Vo(2,"span",1,2),Vo(4,"kendo-dateinput",3,4),Ko("valueChange",(function(e){return t.handleInputChange(e)})),Ho(),Vo(6,"span",5),Bo(7,"span",6),Ho(),Ho(),Uo(8,null,7),Ao(10,jD,4,27,"ng-template",null,8,Lc)),2&e&&(ms(2),ua("k-state-disabled",t.disabled),ms(2),Mo("role",t.inputRole)("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("ariaReadOnly",t.readonly)("tabindex",t.tabindex)("title",t.title)("format",t.format)("twoDigitYearMax",t.twoDigitYearMax)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("incompleteDateValidation",t.incompleteDateValidation)("value",t.value),ms(2),Mo("kendoEventsOutsideAngular",ic(23,UD,t.handleIconClick,t.handleMousedown))("scope",t),Fo("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")))},directives:function(){return[dP,_O,mb,yO,iP]},encapsulation:2,changeDetection:0}),e})(),OO=(()=>{let e=class{constructor(e){this.intl=e}getWeekNames(e=!1){const t=GA(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}};return e.\u0275fac=function(t){return new(t||e)(We(L_))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),PO=(()=>{let e=class{constructor(e,t,i,n,s,r){this.bus=e,this.intl=t,this.weekService=i,this.cdr=n,this.element=s,this.renderer=r,this.activeView=cR.month,this.isActive=!0,this.min=new Date(EA),this.max=new Date(IA),this.selectedDates=[],this.views=2,this.showViewHeader=!1,this.animateNavigation=!1,this.cellClick=new gc,this.weekNumberCellClick=new gc,this.cellEnter=new gc,this.cellLeave=new gc,this.activeDateChange=new gc,this.getComponentClass=!0,this.weekNames=[],this.dates=[],this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentMonthClass(){return this.activeView===cR.month}get getComponentYearClass(){return this.activeView===cR.year}get getComponentDecadeClass(){return this.activeView===cR.decade}get getComponentCenturyClass(){return this.activeView===cR.century}ngOnChanges(e){if(this.initService(),(0===this.weekNames.length||e.weekNumber)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),!this.service)return;this.views=this.views||2;const t=this.focusedDate,i=this.clampDate(this.service.viewDate(t,this.max,this.views));this.skip=this.service.skip(i,this.min),this.total=this.service.total(this.min,this.max);const n=$A(e,"activeView"),s=this.views>0&&$A(e,"views");!n&&this.isInDates(t)&&!s&&this.activeDate||(this.dates=this.service.datesList(i,this.getTake(this.skip)),this.activeDate=TF(this.dates[0]),this.activeDateChange.emit(this.activeDate))}ngAfterViewInit(){1===this.views&&this.setTableMinWidth()}ngOnDestroy(){this.intlSubscription.unsubscribe()}initService(){this.service=this.bus.service(this.activeView)}isMonthView(){return this.activeView===cR.month}getCaptionTitle(e){return this.service.title(e)}getCaptionClass(){return this.isMonthView()?"k-month-header":"k-meta-header"}animateView(e){const t=this.element.nativeElement,i=t.querySelector("table"),n=parseFloat(getComputedStyle(t).width),s=parseFloat(getComputedStyle(i).width);this.renderer.setStyle(t,"width",n+"px"),this.renderer.setStyle(t,"overflow","visible"),e===SA.NextView?this.nextAnimationDate=TF(this.dates[0]):this.prevAnimationDate=TF(this.dates[this.dates.length-1]),this.cdr.detectChanges(),t.querySelectorAll("table").forEach(e=>{this.renderer.setStyle(e,"width",s+"px"),1===this.views&&this.renderer.setStyle(e,"min-width",n+"px")});const r=i.getBoundingClientRect(),o=parseFloat(getComputedStyle(t).columnGap),a=e===SA.NextView?"translateX(0)":`translateX(-${r.width+o}px)`,l=e===SA.NextView?`translateX(-${r.width+o}px)`:"translateX(0)";this.animation?this.animation.cancel():(this.animation=t.animate([{transform:a},{transform:l}],{duration:500,easing:"ease-out"}),this.animation.oncancel=this.animation.onfinish=()=>{this.renderer.removeStyle(t,"width"),this.renderer.removeStyle(t,"overflow"),t.querySelectorAll("table").forEach(e=>{this.renderer.removeStyle(e,"width")}),this.animation=null,this.nextAnimationDate=null,this.prevAnimationDate=null,this.cdr.detectChanges()})}navigate(e){this.animateNavigation&&cb()&&FA(this.element.nativeElement.animate)&&this.animateView(e);const t=this.move(e),i=this.service.datesList(t,this.getTake(this.skip));return this.isListInRange(i)&&(this.dates=i),this.activeDate=TF(this.dates[0]),this.focusedDate=TF(t),this.cdr.markForCheck(),this.activeDateChange.emit(this.activeDate),TF(t)}canNavigate(e){return!!this.service&&this.isListInRange(this.service.datesList(this.move(e),this.getTake(this.skip)))}setTableMinWidth(){const e=this.element.nativeElement,t=e.querySelector("table");if(t){const i=parseFloat(getComputedStyle(e).width);this.renderer.setStyle(t,"min-width",i+"px")}}intlChange(){this.weekNames=this.weekService.getWeekNames(this.weekNumber),this.cdr.markForCheck()}clampDate(e){return zA(e,this.min,this.max)}move(e){return this.service.move(this.dates[0]||this.focusedDate,e)}isListInRange(e){const t=this.service.beginningOfPeriod(this.min),i=this.service.beginningOfPeriod(this.service.addToDate(this.max,1));return t<=e[0]&&e[e.length-1]<i}isInDates(e){return this.service.isInArray(e,this.dates)}getTake(e){return Math.min(this.total-e,this.views)}};return e.\u0275fac=function(t){return new(t||e)(Oo(hR),Oo(L_),Oo(OO),Oo(Wr),Oo(Wa),Oo(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-horizontal"]],hostVars:12,hostBindings:function(e,t){2&e&&ua("k-calendar-view",t.getComponentClass)("k-justify-align-start",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{activeView:"activeView",isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",views:"views",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",focusedDate:"focusedDate",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",activeRangeEnd:"activeRangeEnd",cellUID:"cellUID",selectionRange:"selectionRange"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",activeDateChange:"activeDateChange"},features:[Pa],decls:5,vars:3,consts:[["tableTemplate",""],[4,"ngIf"],[4,"kFor","kForOf"],[1,"k-content","k-calendar-content","k-calendar-table",3,"ngClass"],[3,"ngClass",4,"ngIf"],["class","k-calendar-thead",4,"ngIf"],["kendoCalendarView","","role","rowgroup","direction","horizontal",1,"k-calendar-tbody",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","selectionRange","activeRangeEnd","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick","cellEnter","cellLeave"],[3,"ngClass"],[1,"k-calendar-thead"],["role","row",1,"k-calendar-tr"],["class","k-calendar-th",4,"ngFor","ngForOf"],[1,"k-calendar-th"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ao(0,KD,4,16,"ng-template",null,0,Lc),Ao(2,YD,1,4,void 0,1),Ao(3,XD,1,4,void 0,2),Ao(4,tA,1,4,void 0,1)),2&e&&(ms(2),Mo("ngIf",t.nextAnimationDate),ms(1),Mo("kForOf",t.dates),ms(1),Mo("ngIf",t.prevAnimationDate))},directives:function(){return[Lh,zO,Oh,UO,Nh,qh]},encapsulation:2,changeDetection:0}),e})();const NO=()=>null,MO="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",LO={multi:!0,provide:fw,useExisting:xe(()=>HO)},VO={multi:!0,provide:Fw,useExisting:xe(()=>HO)};let HO=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a){this.bus=e,this.element=t,this.navigator=i,this.renderer=n,this.cdr=s,this.zone=r,this.disabledDatesService=o,this.selectionService=a,this.id=pb(),this.rangeValidation=!1,this.disabledDatesRangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.isActive=!1,this.activeView=cR[cR.month],this.bottomView=cR[cR.month],this.topView=cR[cR.century],this.showViewHeader=!1,this.animateNavigation=!1,this.weekNumber=!1,this.views=2,this.activeViewChange=new gc,this.cellEnter=new gc,this.cellLeave=new gc,this.valueChange=new gc,this.cellUID=pb(),this.isHovered=!1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.prevView=SA.PrevView,this.nextView=SA.NextView,this.selectedDates=[],this._min=new Date(EA),this._max=new Date(IA),this._focusedDate=jA(),this.resolvedPromise=Promise.resolve(),this.onControlChange=UA,this.onControlTouched=UA,this.onValidatorChange=UA,this.minValidateFn=UA,this.maxValidateFn=UA,this.disabledDatesRangeValidateFn=UA,this.subscriptions=new h(()=>{}),this.setClasses(t.nativeElement)}set focusedDate(e){this._focusedDate=e||jA()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(EA)}get min(){return this._min}set max(e){this._max=e||new Date(IA)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(e=>FA(e)).map(e=>TF(e)):TF(e);const t=[].concat(e).filter(e=>FA(e)).map(e=>TF(e));if(!YA(t,this.selectedDates)){const e=WA(t);this.rangePivot=TF(e),this.focusedDate=TF(e)||this.focusedDate,this.selectedDates=t}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set selectionRange(e){this._selectionRange=e,this.disabledDatesRangeValidation&&this.onValidatorChange()}get selectionRange(){return this._selectionRange}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}get activeViewEnum(){const e=cR[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return cR[this.bottomView]}get topViewEnum(){return cR[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}get ariaActivedescendant(){return this.cellUID+this.focusedDate.getTime()}handleBlur(){this.onControlTouched(),this.isActive=!1,this.isHovered=!1}handleFocus(){this.isActive=!0}handleMouseEnter(){this.isHovered=!0}handleMouseLeave(){this.isHovered=!1}handleMousedown(e){e.preventDefault()}handleClick(){this.isActive||this.focus()}keydown(e){e.keyCode===_b.Enter&&this.performSelection(this.focusedDate,e);const t=zA(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);RF(this.focusedDate,t)||(this.focusedDate=t,e.preventDefault())}ngOnInit(){this.subscriptions.add(this.bus.viewChanged.subscribe(({view:e})=>{this.activeView=cR[e],this.activeViewChange.emit(this.activeView),this.cdr.detectChanges(),this.updateButtonState()}))}ngOnChanges(e){var t;this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),KA(e,"focusedDate")&&(this.focusedDate=zA(e.focusedDate.currentValue,this.min,this.max)),(e.min||e.max||e.rangeValidation||e.disabledDates||e.disabledDatesRangeValidation)&&(this.minValidateFn=this.rangeValidation?hO(this.min):UA,this.maxValidateFn=this.rangeValidation?dO(this.max):UA,this.disabledDatesRangeValidateFn=this.disabledDatesRangeValidation?FA(t=this.disabledDatesService.isDateDisabled)?e=>{if(!(FA(e)&&FA(e.start)&&FA(e.end))||e.start>e.end)return null;const i=((e,t,i)=>{if(!(e&&t&&i)||e>t)return[];const n=[];let s=e;for(;s<=t;)i(s)&&n.push(s),s=FF(s,1);return n})(e.start,e.end,t);return i.length?{disabledDatesInRange:i}:null}:NO:UA,this.onValidatorChange()),(e.min||e.max||e.focusedDate||e.activeView)&&this.updateButtonState()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.updateButtonState()}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}handleDateChange(e){const t=this.bus.canMoveDown(this.activeViewEnum),i=e.selectedDates.filter(e=>!this.disabledDatesService.isDateDisabled(e));this.focusedDate=e.focusedDate||this.focusedDate;const n=!t&&YA(i,this.selectedDates);this.disabled||n||(t?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(this.focusedDate)||(this.selectedDates=i.map(e=>TF(e)),this.value=this.parseSelectionToValue(i),this.onControlChange(this.parseSelectionToValue(i)),this.valueChange.emit(this.parseSelectionToValue(i))))}setActiveDate(e){this.activeDate=TF(e),this.cdr.detectChanges()}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesRangeValidateFn(this.selectionRange)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case cR.month:return this.monthCellTemplate||this.cellTemplate;case cR.year:return this.yearCellTemplate;case cR.decade:return this.decadeCellTemplate;case cR.century:return this.centuryCellTemplate;default:return null}}navigate(e){this.focusedDate=this.viewList.navigate(e),this.updateButtonState()}emitCellEvent(e,t){db(e)&&this.zone.run(()=>{e.emit(t)})}handleCellClick({date:e,modifiers:t}){this.performSelection(e,t)}handleWeekNumberClick(e){"single"!==this.selection&&this.zone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:WA(e)})})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-range")}verifyChanges(){if(Sn()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if(Sn()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${MO} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(e=>e instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${MO} for possible resolution.`)}}updateButtonState(){this.resolvedPromise.then(()=>{this.isPrevDisabled=!this.viewList.canNavigate(this.prevView),this.isNextDisabled=!this.viewList.canNavigate(this.nextView),this.cdr.markForCheck()})}parseSelectionToValue(e){return e=e||[],"single"===this.selection?TF(WA(e)):e.map(e=>TF(e))}performSelection(e,t){const i=this.selectionService.performSelection({date:e,modifiers:t,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=i.rangePivot,this.handleDateChange({selectedDates:i.selectedDates,focusedDate:e})}};return e.\u0275fac=function(t){return new(t||e)(Oo(hR),Oo(Wa),Oo(QR),Oo(Ja),Oo(Wr),Oo(ou),Oo(XR),Oo(eO))},e.\u0275cmp=pt({type:e,selectors:[["kendo-multiviewcalendar"]],contentQueries:function(e,t,i){var n;1&e&&(Ac(i,iO,!0),Ac(i,nO,!0),Ac(i,sO,!0),Ac(i,rO,!0),Ac(i,oO,!0),Ac(i,aO,!0),Ac(i,lO,!0)),2&e&&(Ic(n=Oc())&&(t.cellTemplate=n.first),Ic(n=Oc())&&(t.monthCellTemplate=n.first),Ic(n=Oc())&&(t.yearCellTemplate=n.first),Ic(n=Oc())&&(t.decadeCellTemplate=n.first),Ic(n=Oc())&&(t.centuryCellTemplate=n.first),Ic(n=Oc())&&(t.weekNumberTemplate=n.first),Ic(n=Oc())&&(t.headerTitleTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&_c(PO,!0),2&e&&Ic(i=Oc())&&(t.viewList=i.first)},hostVars:7,hostBindings:function(e,t){1&e&&Ko("blur",(function(){return t.handleBlur()}))("focus",(function(){return t.handleFocus()}))("mouseenter",(function(){return t.handleMouseEnter()}))("mouseleave",(function(){return t.handleMouseLeave()}))("mousedown",(function(e){return t.handleMousedown(e)}))("click",(function(){return t.handleClick()}))("keydown",(function(e){return t.keydown(e)})),2&e&&(Fo("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled)("aria-activedescendant",t.ariaActivedescendant),ua("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabledDatesRangeValidation:"disabledDatesRangeValidation",selection:"selection",disabled:"disabled",tabindex:"tabindex",isActive:"isActive",activeView:"activeView",bottomView:"bottomView",topView:"topView",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",views:"views",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",selectionRange:"selectionRange",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],activeRangeEnd:"activeRangeEnd"},outputs:{activeViewChange:"activeViewChange",cellEnter:"cellEnter",cellLeave:"cellLeave",valueChange:"valueChange"},exportAs:["kendo-multiviewcalendar"],features:[Ga([hR,LO,VO,jb,XR,{provide:zb,useValue:"kendo.multiviewcalendar"},QR,eO]),Pa],decls:4,vars:24,consts:[["kendoMultiViewCalendarLocalizedMessages","",6,"today","prevButtonTitle","nextButtonTitle"],[3,"activeView","currentDate","min","max","rangeLength","templateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","todayButtonClick","prevButtonClick","nextButtonClick"],[3,"activeView","isActive","cellTemplateRef","weekNumberTemplateRef","cellUID","views","min","max","focusedDate","animateNavigation","showViewHeader","weekNumber","activeRangeEnd","selectionRange","selectedDates","valueChange","cellClick","weekNumberCellClick","cellEnter","cellLeave","activeDateChange"]],template:function(e,t){if(1&e&&(zo(0,0),Gl(1,iA),jo(),Vo(2,"kendo-calendar-header",1),Ko("todayButtonClick",(function(e){return t.handleDateChange({selectedDates:[e],focusedDate:e})}))("prevButtonClick",(function(){return t.navigate(t.prevView)}))("nextButtonClick",(function(){return t.navigate(t.nextView)})),Ho(),Vo(3,"kendo-calendar-horizontal",2),Ko("valueChange",(function(e){return t.handleDateChange(e)}))("cellClick",(function(e){return t.handleCellClick(e)}))("weekNumberCellClick",(function(e){return t.handleWeekNumberClick(e)}))("cellEnter",(function(e){return t.emitCellEvent(t.cellEnter,e)}))("cellLeave",(function(e){return t.emitCellEvent(t.cellLeave,e)}))("activeDateChange",(function(e){return t.setActiveDate(e)})),Ho()),2&e){var i;const e=null==(i=t.activeCellTemplate())?null:i.templateRef;ms(2),Mo("activeView",t.activeViewEnum)("currentDate",t.activeDate)("min",t.min)("max",t.max)("rangeLength",t.views)("templateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("isPrevDisabled",t.isPrevDisabled)("isNextDisabled",t.isNextDisabled)("showNavigationButtons",!0),ms(1),Mo("activeView",t.activeViewEnum)("isActive",t.isActive||t.isHovered)("cellTemplateRef",e)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("views",t.views)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("animateNavigation",t.animateNavigation)("showViewHeader",t.showViewHeader)("weekNumber",t.weekNumber)("activeRangeEnd",t.activeRangeEnd)("selectionRange",t.selectionRange)("selectedDates",t.selectedDates)}},directives:function(){return[WO,jO,PO]},encapsulation:2,changeDetection:0}),e})();class BO{constructor(e,t,i,n){this.$implicit=e,this.kForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zO=(()=>{let e=class{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._differ=null}set kForTemplate(e){e&&(this._template=e)}ngOnChanges(e){if("kForOf"in e){const n=e.kForOf.currentValue;if(this._differ||!n)return;try{this._differ=this._differs.find(n).create(this.kForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'.`)}}var t}ngDoCheck(){if(this._differ){const e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}_applyChanges(e){if(!cb())return;const t=this._viewContainer.length,i=this.kForOf.length,n={};e.forEachOperation((e,t,i)=>{null!==i&&(n[i]=e.item)});for(let s=t;s<i;s++)this._viewContainer.createEmbeddedView(this._template,new BO(null,this.kForOf,-1,-1),s);for(let s=this._viewContainer.length;s>i;s--)this._viewContainer.remove(s-1);for(let s=0;s<this._viewContainer.length;s++){const e=this._viewContainer.get(s);e.context.index=s,e.context.count=length,e.context.$implicit=n[s]||null}}};return e.\u0275fac=function(t){return new(t||e)(Oo(wl),Oo(yl),Oo(pl))},e.\u0275dir=bt({type:e,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[Pa]}),e})(),jO=(()=>{let e=class{constructor(e,t,i,n,s){this.bus=e,this.cdr=t,this.localization=i,this.intl=n,this.disabledDatesService=s,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(EA),this.max=new Date(IA),this.rangeLength=1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.showNavigationButtons=!1,this.todayButtonClick=new gc,this.prevButtonClick=new gc,this.nextButtonClick=new gc,this.getComponentClass=!0,this.subscriptions=new h}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(e){this.bus.service(this.activeView)&&(this.activeViewValue=cR[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.todayButtonClick.emit(zA(jA(),this.min,this.max)))}handleNavigation(){this.navigate&&this.bus.moveUp(this.activeView)}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.prevButtonTitle=this.localization.get("prevButtonTitle"),this.nextButtonTitle=this.localization.get("nextButtonTitle"),this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const e=this.bus.service(this.activeView),t=this.rangeLength-1,i=e.title(this.currentDate),n=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(n,this.min,this.max)?i:`${i} - ${e.title(n)}`}setTodayAvailability(){const e=jA(),t=HA(e,AF(this.min),AF(this.max)),i=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!i,this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(hR),Oo(Wr),Oo(jb),Oo(L_),Oo(XR))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-header"]],hostVars:4,hostBindings:function(e,t){2&e&&ua("k-calendar-header",t.getComponentClass)("k-hstack",t.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",isPrevDisabled:"isPrevDisabled",isNextDisabled:"isNextDisabled",showNavigationButtons:"showNavigationButtons",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{todayButtonClick:"todayButtonClick",prevButtonClick:"prevButtonClick",nextButtonClick:"nextButtonClick"},features:[Pa],decls:9,vars:23,consts:[[1,"k-button","k-flat","k-title","k-calendar-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-spacer"],[1,"k-calendar-nav","k-hstack"],["class","k-button k-flat k-icon-button k-prev-view","type","button",3,"disabled","title","click",4,"ngIf"],[1,"k-today","k-nav-today",3,"kendoEventsOutsideAngular","scope"],["class","k-button k-flat k-icon-button k-next-view","type","button",3,"disabled","title","click",4,"ngIf"],["type","button",1,"k-button","k-flat","k-icon-button","k-prev-view",3,"disabled","title","click"],[1,"k-icon","k-i-arrow-60-left"],["type","button",1,"k-button","k-flat","k-icon-button","k-next-view",3,"disabled","title","click"],[1,"k-icon","k-i-arrow-60-right"]],template:function(e,t){1&e&&(Vo(0,"span",0),Ao(1,nA,1,1,"ng-template",1),Ao(2,sA,0,0,"ng-template",2),Ho(),Bo(3,"span",3),Vo(4,"span",4),Ao(5,rA,2,3,"button",5),Vo(6,"span",6),Ca(7),Ho(),Ao(8,oA,2,3,"button",7),Ho()),2&e&&(ua("k-state-disabled",!t.navigate),Mo("kendoEventsOutsideAngular",tc(15,SD,t.handleNavigation))("scope",t),ms(1),Mo("ngIf",!t.templateRef),ms(1),Mo("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",nc(17,wD,t.title,t.activeViewValue,t.currentDate)),ms(3),Mo("ngIf",t.showNavigationButtons),ms(1),ua("k-state-disabled",!t.todayAvailable),Mo("kendoEventsOutsideAngular",tc(21,SD,t.handleTodayClick))("scope",t),ms(1),xa(" ",t.todayMessage," "),ms(1),Mo("ngIf",t.showNavigationButtons))},directives:[mb,Lh,qh],encapsulation:2}),e})(),UO=(()=>{let e=class{constructor(e,t,i,n,s,r,o){this.bus=e,this.intl=t,this.cdr=i,this.element=n,this.zone=s,this.renderer=r,this.disabledDatesService=o,this.direction="vertical",this.isActive=!0,this.selectedDates=[],this.cellClick=new gc,this.weekNumberCellClick=new gc,this.cellEnter=new gc,this.cellLeave=new gc,this.colSpan=0,this.subscriptions=new h,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}get weekNumber(){return this.showWeekNumbers&&this.activeView===cR.month}set weekNumber(e){this.showWeekNumbers=e}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.service=this.bus.service(this.activeView),this.service&&(this.colSpan=this.service.rowLength({prependCell:this.weekNumber}),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(e=>e())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===cR.month}shouldRenderCellContent(e){return FA(e)&&!(!this.isHorizontal()&&e.isOtherMonth)}firstDate(e){const t=this.firstWeekDateContext(e);return t?t.value:null}getWeekNumber(e){return this.weekNumber?nD(e,this.intl.firstDay()):null}getWeekNumberContext(e){const t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;const i=nD(t.value,this.intl.firstDay()).toString();return{formattedValue:i,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:i,value:TF(t.value)}}getStyles(e){const{isRangeEnd:t,isRangeStart:i}=e;return n={"k-range-end":!e.isOtherMonth&&t,"k-range-mid":!e.isOtherMonth&&e.isRangeMid,"k-range-split-end":!e.isOtherMonth&&e.isRangeSplitEnd,"k-range-split-start":!e.isOtherMonth&&e.isRangeSplitStart,"k-range-start":!e.isOtherMonth&&i,"k-state-active":"start"===this.activeRangeEnd&&i||"end"===this.activeRangeEnd&&t,"k-state-focused":!e.isOtherMonth&&this.isActive&&e.isFocused,"k-state-selected":!e.isOtherMonth&&(e.isSelected||i||t),"k-today":!e.isOtherMonth&&e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled,"k-other-month":e.isOtherMonth},Object.keys(n).reduce((e,t)=>n[t]?e.concat(t):e,[]).join(" ");var n}tableCellIndex(e,t){return`${e}:${t}`}handleWeekNumberClick(e){const t=e.map(e=>e.value).filter(e=>!this.disabledDatesService.isDateDisabled(e));this.weekNumberCellClick.emit(t)}firstWeekDateContext(e){if(!this.weekNumber)return null;let t=0,i=this.shouldRenderCellContent(e[t])?e[t]:null;for(;!i&&t<e.length;){const n=e[++t];i=this.shouldRenderCellContent(n)?n:null}return i}updateData(){const e=WA(this.selectedDates)||jA(),t=RA(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDates:this.selectedDates,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled,direction:this.direction})}intlChange(){this.updateData(),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}clickHandler(e){const t=this.closestCell(e);if(!t)return;const i=t.getAttribute("data-cell-index"),n=this.cellByIndex(i);if(!n.isDisabled){const{ctrlKey:t,metaKey:i,shiftKey:s}=e;this.cellClick.emit({date:n.value,modifiers:{ctrlKey:t,metaKey:i,shiftKey:s}})}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(e){const t=this.closestCell(e);if(t){const e=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==e&&this.emitCellLeave();const i=this.cellByIndex(e).value;this.cellEnter.emit(i),this.currentCellIndex=e}else this.currentCellIndex&&this.emitCellLeave()}closestCell(e){return $R(e.target,e=>e.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}cellByIndex(e){const[t,i]=e.split(":");return this.data[t][i]}};return e.\u0275fac=function(t){return new(t||e)(Oo(hR),Oo(L_),Oo(Wr),Oo(Wa),Oo(ou),Oo(Ja),Oo(XR))},e.\u0275cmp=pt({type:e,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",selectedDates:"selectedDates",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[Pa],attrs:aA,decls:4,vars:2,consts:[["emptyCell",""],["class","k-calendar-tr","role","row",4,"ngIf"],["class","k-calendar-tr","role","row",4,"kFor","kForOf"],[1,"k-empty","k-calendar-td"],["role","row",1,"k-calendar-tr"],["scope","col",1,"k-calendar-caption",3,"colSpan"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt k-calendar-td",3,"kendoEventsOutsideAngular",4,"ngIf","ngIfElse"],[1,"k-alt","k-calendar-td",3,"kendoEventsOutsideAngular"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["class","k-calendar-td","role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-calendar-td",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ao(0,lA,2,0,"ng-template",null,0,Lc),Ao(2,cA,3,2,"tr",1),Ao(3,wA,3,2,"tr",2)),2&e&&(ms(2),Mo("ngIf",!t.isHorizontal()),ms(1),Mo("kForOf",t.data))},directives:[Lh,zO,mb,qh,Oh],encapsulation:2}),e})(),GO=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,vb]]}),e})(),qO=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),$O=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return sN(t||e)},e.\u0275dir=bt({type:e,inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[_a]}),e})();var KO;let WO=(()=>{let e=KO=class extends $O{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoMultiViewCalendarLocalizedMessages",""]],features:[Ga([{provide:$O,useExisting:xe(()=>KO)}]),_a]}),e})();var ZO;let YO=(()=>{let e=ZO=class extends $O{constructor(e){super(),this.service=e}get override(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-multiviewcalendar-messages"]],features:[Ga([{provide:$O,useExisting:xe(()=>ZO)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),QO=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[QR,XA,iR,rR,lR,OO],imports:[[Kh,GO,B_,qO,jx],GO,qO]}),e})(),JO=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return rN(t||e)},e.\u0275dir=bt({type:e,inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[_a]}),e})();var XO;let eP=(()=>{let e=XO=class extends JO{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[Ga([{provide:JO,useExisting:xe(()=>XO)}]),_a]}),e})();var tP;let iP=(()=>{let e=tP=class extends JO{constructor(e){super(),this.service=e}get override(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-messages"]],features:[Ga([{provide:JO,useExisting:xe(()=>tP)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),nP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})(),sP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[OR,XA,iR,rR,lR,OO],imports:[[Kh,GO,QO,B_,qO,nP,vb,Ib],GO,qO]}),e})(),rP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[sP,QO],sP,QO]}),e})(),oP=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return oN(t||e)},e.\u0275dir=bt({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[_a]}),e})();var aP;let lP=(()=>{let e=aP=class extends oP{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[Ga([{provide:oP,useExisting:xe(()=>aP)}]),_a]}),e})(),cP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,B_,vb]]}),e})(),uP=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return aN(t||e)},e.\u0275dir=bt({type:e,inputs:{today:"today",toggle:"toggle",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[_a]}),e})();var hP;let dP=(()=>{let e=hP=class extends uP{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[Ga([{provide:uP,useExisting:xe(()=>hP)}]),_a]}),e})();var pP;let fP=(()=>{let e=pP=class extends uP{constructor(e){super(),this.service=e}get override(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-datepicker-messages"]],features:[Ga([{provide:uP,useExisting:xe(()=>pP)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const gP=tk;let mP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:DO,useValue:gP}],imports:[[Kh,cP,sP,B_,jx,qO,vb],qO]}),e})();const vP=[QO,cP,jx,vb];let yP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,vP]]}),e})();const bP=qA("div"),wP=qA("ul"),CP=qA("li"),SP=(()=>cb()?bP([bP([bP([wP([CP("<span>02</span>","k-item")],"k-reset")],"k-time-container k-content k-scrollable")],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}):null)();let xP=(()=>{let e=class{ensureHeights(){void 0===this.timeListHeight&&this.calculateHeights()}calculateHeights(e){if(!cb())return;const t=e&&e.querySelector(".k-time-list-container")||document.body,i=t.appendChild(SP);this.timeListHeight=i.querySelector(".k-scrollable").getBoundingClientRect().height,this.itemHeight=i.querySelector("li").getBoundingClientRect().height,t.removeChild(i)}isActive(e){return!(!cb()||!e)&&(e.nativeElement||e)===document.activeElement}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const kP=(e=>e=>e%24)(),EP=(e,t)=>kP(24+e-t),IP=e=>(t,i)=>i&&AF(t).getTime()!==AF(i).getTime()?PA(t,e):t,TP=IP(0),_P=IP(23);let FP=(()=>{let e=class{constructor(e){this.intl=e,this.boundRange=!1,this.insertUndividedMax=!1}apply(e,t){return PA(e,t.getHours())}configure(e){const{boundRange:t=this.boundRange,insertUndividedMax:i=this.insertUndividedMax,min:n=this.min,max:s=this.max,part:r,step:o=this.step}=e;this.boundRange=t,this.insertUndividedMax=i,this.toListItem=e=>{const t=PA(kA,e);return{text:this.intl.formatDate(t,r.pattern),value:t}},this.min=n,this.max=s,this.step=o}data(e){const[t]=this.range(e),i=(n=t,s=this.step,e=>kP(n+e*s));var n,s;const r=VA(0,this.countFromMin(e)).map(e=>this.toListItem(i(e)));return this.addLast(r),this.addMissing(r,e),r}isRangeChanged(e,t){return!RF(this.min,e)||!RF(this.max,t)}limitRange(e,t,i){return this.boundRange?[TP(e,i),_P(t,i)]:[e,t]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastHour(e)===e.getHours()||!this.isMissing(e)}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastHour(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const i=this.toListItem(t.getHours());return e.splice(this.selectedIndex(t),0,i),e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(EP(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(PA(this.max,this.lastHour(e)))}divideByStep(e){return EP(e.getHours(),this.min.getHours())/this.step}lastHour(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getHours(),i.getHours()]}};return e.\u0275fac=function(t){return new(t||e)(We(L_))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const DP=(e=>e=>e%60)(),AP=(e,t)=>DP(60+e-t),RP=e=>(t,i)=>i&&t.getHours()!==i.getHours()?NA(t,e):t,OP=RP(0),PP=RP(59);let NP=(()=>{let e=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return NA(e,t.getMinutes())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:i=this.min,max:n=this.max,part:s,step:r=this.step}=e;this.insertUndividedMax=t,this.toListItem=e=>{const t=NA(kA,e);return{text:this.intl.formatDate(t,s.pattern),value:t}},this.min=i,this.max=n,this.step=r}data(e){const[t]=this.range(e),i=(n=t,s=this.step,e=>DP(n+e*s));var n,s;const r=VA(0,this.countFromMin(e)).map(e=>this.toListItem(i(e)));return this.addLast(r),this.addMissing(r,e),r}isRangeChanged(e,t){return!RF(this.min,e)||!RF(this.max,t)}limitRange(e,t,i){return[OP(e,i),PP(t,i)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMinute(e)===e.getMinutes()||!this.isMissing(e)}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastMinute(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const i=this.toListItem(t.getMinutes());return e.splice(this.selectedIndex(t),0,i),e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(AP(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(NA(this.max,this.lastMinute(e)))}divideByStep(e){return AP(e.getMinutes(),this.min.getMinutes())/this.step}lastMinute(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getMinutes(),i.getMinutes()]}};return e.\u0275fac=function(t){return new(t||e)(We(L_))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const MP=(e=>e=>e%60)(),LP=(e,t)=>MP(60+e-t),VP=e=>(t,i)=>!i||t.getHours()===i.getHours()&&t.getMinutes()===i.getMinutes()?t:MA(t,e),HP=VP(0),BP=VP(59);let zP=(()=>{let e=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return MA(e,t.getSeconds())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:i=this.min,max:n=this.max,part:s,step:r=this.step}=e;this.insertUndividedMax=t,this.toListItem=e=>{const t=MA(kA,e);return{text:this.intl.formatDate(t,s.pattern),value:t}},this.min=i,this.max=n,this.step=r}data(e){const[t]=this.range(e),i=(n=t,s=this.step,e=>MP(n+e*s));var n,s;const r=VA(0,this.countFromMin(e)).map(e=>this.toListItem(i(e)));return this.addLast(r),this.addMissing(r,e),r}isRangeChanged(e,t){return!RF(this.min,e)||!RF(this.max,t)}limitRange(e,t,i){return[HP(e,i),BP(t,i)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastSecond(e)===e.getSeconds()||!this.isMissing(e)}divideByStep(e){return LP(e.getSeconds(),this.min.getSeconds())/this.step}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastSecond(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const i=this.toListItem(t.getSeconds());return e.splice(this.selectedIndex(t),0,i),e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(LP(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(MA(this.max,this.lastSecond(e)))}lastSecond(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getSeconds(),i.getSeconds()]}};return e.\u0275fac=function(t){return new(t||e)(We(L_))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const jP=(e=>e=>e%1e3)(),UP=(e,t)=>jP(1e3+e-t),GP=e=>(t,i)=>!i||t.getHours()===i.getHours()&&t.getMinutes()===i.getMinutes()&&t.getSeconds()===i.getSeconds()?t:LA(t,e),qP=GP(0),$P=GP(999),KP=(e,t)=>{const i=TF(e);return i.setHours(t),i},WP=e=>null!==e&&e<12,ZP=(e,t,i)=>!t&&!i||e>=t&&e<=i,YP=(e,t,i)=>!t&&!i||e>=t||e<=i,QP=[cP,B_,jx,nP,vb],JP=[xP,FP,NP,zP,(()=>{let e=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return LA(e,t.getMilliseconds())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:i=this.min,max:n=this.max,step:s=this.step}=e;this.insertUndividedMax=t,this.toListItem=e=>{const t=LA(kA,e);return{text:this.intl.formatDate(t,"SSS"),value:t}},this.min=i,this.max=n,this.step=s}data(e){const[t]=this.range(e),i=(n=t,s=this.step,e=>jP(n+e*s));var n,s;const r=VA(0,this.countFromMin(e)).map(e=>this.toListItem(i(e)));return this.addLast(r),this.addMissing(r,e),r}isRangeChanged(e,t){return!RF(this.min,e)||!RF(this.max,t)}limitRange(e,t,i){return[qP(e,i),$P(t,i)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMillisecond(e)===e.getMilliseconds()||!this.isMissing(e)}divideByStep(e){return UP(e.getMilliseconds(),this.min.getMilliseconds())/this.step}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastMillisecond(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const i=this.toListItem(t.getMilliseconds());return e.splice(this.selectedIndex(t),0,i),e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(UP(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(LA(this.max,this.lastMillisecond(e)))}lastMillisecond(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getMilliseconds(),i.getMilliseconds()]}};return e.\u0275fac=function(t){return new(t||e)(We(L_))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),(()=>{let e=class{constructor(e){this.intl=e}apply(e,t){const i=e.getHours(),n=WP(i),s=WP(t.getHours());if(n&&s||!n&&!s)return e;const[r,o=24]=this.normalizedRange();return KP(e,Math.min(Math.max(r,i+(s?-12:12)),o||24))}configure(e){const{min:t=this.min,max:i=this.max,part:n=this.part}=e;this.min=t,this.max=i,this.part=n}data(e){const t=this.part.names;if(!t)return[];const i=[],[n,s]=this.normalizedRange(),r=this.intl.dateFormatNames(t);var o;return WP(n)&&i.push({text:r.am,value:KP(this.min,n)}),null!==(o=s)&&(!o||o>11)&&i.push({text:r.pm,value:KP(this.min,Math.max(12,s))}),this.min.getHours()!==n?i.reverse():i}isRangeChanged(e,t){return!1}limitRange(e,t,i){return[e,t]}total(){const[e,t]=this.normalizedRange();return(e||t)&&(e>11||t<12)?1:2}selectedIndex(e){if(!this.valueInList(e))return-1;const t=Math.floor(e.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?t:0===t?1:0}valueInList(e){return(this.min.getHours()!==this.normalizedRange()[0]?YP:ZP)(e.getHours(),this.min.getHours(),this.max.getHours())}normalizedRange(){const e=this.min.getHours(),t=this.max.getHours();return[Math.min(e,t),Math.max(e,t)]}};return e.\u0275fac=function(t){return new(t||e)(We(L_))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),{provide:DO,useValue:tk}];let XP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:JP,imports:[[Kh,...QP]]}),e})();const eN=tk;let tN=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:DO,useValue:eN}],imports:[[Kh,B_,cP,sP,XP,jx,vb,qO],qO]}),e})();const iN=[rP,cP,mP,XP,yP,tN];let nN=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[iN,rP,cP,mP,XP,yP,tN]}),e})();const sN=on($O),rN=on(JO),oN=on(oP),aN=on(uP);$localize`:kendo.floatinglabel.optional|The text for the optional segment of a FloatingLabel component␟d6b1dd6fb7530bd600b430042425d10b22163d1f␟356911862062553631:Optional`;const lN=["*"],cN=["optional",$localize`:kendo.label.optional|The text for the optional segment of a Label component␟a1cd4a8f359a22151d7e73f2887fbb2967cd389a␟3476218486854814180:Optional`];function uN(e,t){if(1&e&&(Vo(0,"span",3),Ca(1),Ho()),2&e){const e=Yo();ms(1),xa("(",e.textFor("optional"),")")}}let hN=(()=>{class e{constructor(e,t,i){this.label=e,this.renderer=t,this.zone=i,this.labelClass=!0,this.handleClick=()=>{const e=this.getFocusableComponent();e&&((e=>e.wrapper&&"KENDO-UPLOAD"===e.wrapper.tagName)(e)&&e.fileSelect.nativeElement.click(),e.focus&&e.focus(),((e,t)=>(e=>e instanceof HTMLInputElement&&/^(checkbox|radio)$/.test(e.type)&&!e.hidden)(e)&&!((e,t)=>e.parentElement===t||t.hasAttribute("for"))(e,t))(e,this.label.nativeElement)&&e.click())}}get labelFor(){if("string"==typeof this.for)return this.for;if(!cb())return null;const e=this.getFocusableComponent()||{};return e.focusableId||e.id||null}ngAfterViewInit(){this.setAriaLabelledby(),this.zone.runOutsideAngular(()=>this.clickListener=this.renderer.listen(this.label.nativeElement,"click",this.handleClick))}ngOnDestroy(){this.clickListener&&this.clickListener()}setAriaLabelledby(){if(!cb())return;const e=this.getFocusableComponent();if(e&&e.focusableId){const t=(e=>{if(!e)return null;let t=e;for(;t.parentElement;)t=t.parentElement;return t})(this.label.nativeElement).querySelector("#"+e.focusableId);if(!t)return;const i=this.label.nativeElement,n=i.id||"k-"+pb();i.getAttribute("id")||this.renderer.setAttribute(i,"id",n),this.renderer.setAttribute(t,"aria-labelledby",n)}}getFocusableComponent(){const e=this.for;return e&&void 0!==e.focus?e:null}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Ja),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["label","for",""]],hostVars:3,hostBindings:function(e,t){2&e&&(Fo("for",t.labelFor),ua("k-label",t.labelClass))},inputs:{for:"for"}}),e})(),dN=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return pN(t||e)},e.\u0275dir=bt({type:e,inputs:{optional:"optional"},features:[_a]}),e})();const pN=on(dN);let fN=(()=>{class e extends dN{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoLabelLocalizedMessages",""],["","kendoFloatingLabelLocalizedMessages",""]],features:[Ga([{provide:dN,useExisting:xe(()=>e)}]),_a]}),e})(),gN=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),mN=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,gN],gN]}),e})(),vN=(()=>{class e{constructor(e,t,i){this.elementRef=e,this.renderer=t,this.localization=i,this.subscriptions=new h,this.direction=i.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}ngAfterContentInit(){if(this.for)return void(this.control=this.for);const e=this.elementRef.nativeElement.querySelector("kendo-label > input, kendo-label > textarea, kendo-label > select");if(e)return e.hasAttribute("id")||this.renderer.setAttribute(e,"id","k-"+pb()),void(this.control=e);this.control=this.kendoInput}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}))}ngAfterViewInit(){this.labelDirective.setAriaLabelledby()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}textFor(e){return this.localization.get(e)}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Ja),Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-label"]],contentQueries:function(e,t,i){var n;1&e&&Ac(i,Tb,!0),2&e&&Ic(n=Oc())&&(t.kendoInput=n.first)},viewQuery:function(e,t){var i;1&e&&Tc(hN,!0),2&e&&Ic(i=Oc())&&(t.labelDirective=i.first)},hostVars:1,hostBindings:function(e,t){2&e&&Fo("dir",t.direction)},inputs:{text:"text",for:"for",optional:"optional"},exportAs:["kendoLabel"],features:[Ga([jb,{provide:zb,useValue:"kendo.label"}])],ngContentSelectors:lN,decls:6,vars:5,consts:[["kendoLabelLocalizedMessages","",6,"optional"],[3,"for"],["class","k-label-optional",4,"ngIf"],[1,"k-label-optional"]],template:function(e,t){1&e&&(Jo(),zo(0,0),Gl(1,cN),jo(),Vo(2,"label",1),Ca(3),Ao(4,uN,2,1,"span",2),Ho(),Xo(5)),2&e&&(ms(2),ua("k-label-empty",!t.text),Mo("for",t.control),ms(1),xa(" ",t.text,""),ms(1),Mo("ngIf",t.optional))},directives:[fN,hN,Lh],encapsulation:2}),e})(),yN=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,gN],mN,gN]}),e})(),bN=(()=>{class e{constructor(){this.buttonLookChange=new Yf("default"),this.buttonClicked=new E,this.buttonClicked$=this.buttonClicked.asObservable()}click(e){this.buttonClicked.next(e)}setButtonLook(e){this.buttonLookChange.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),wN=(()=>{class e{constructor(e,t,i,n,s){this.service=i,this.ngZone=s,this.toggleable=!1,this.primary=!1,this.look="default",this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this.tabIndex=0,this.selectedChange=new gc,this.domEvents=[],this.direction=n.rtl?"rtl":"ltr",this.localizationChangeSubscription=n.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr"),this.element=e.nativeElement,this.renderer=t}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}get selected(){return this._selected||!1}set selected(e){this._selected=e}set icon(e){e?this.iconSetter(e,()=>{this.isIcon=!0,this.addIcon("k-icon k-i-"+e)}):(this.isIcon=!1,this.updateIconNode())}set iconClass(e){e?this.iconSetter(e,()=>{this.isIconClass=!0,this.addIcon(e)}):(this.isIconClass=!1,this.updateIconNode())}set imageUrl(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}set disabled(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}get classButton(){return!0}get classDisabled(){return this.isDisabled}get classPrimary(){return this.primary}get isFlat(){return"flat"===this.look}get isBare(){return"bare"===this.look}get isOutline(){return"outline"===this.look}get classActive(){return this.selected}ngOnInit(){this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(hg(e=>"default"!==e)).subscribe(e=>this.look=e)),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.ngZone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this)))})}ngOnChanges(e){(ub("togglable",e)||ub("toggleable",e))&&this.toggleAriaCheckbox(this.toggleable)}ngAfterViewChecked(){this.setIconTextClasses()}ngOnDestroy(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach(e=>e())}focus(){cb()&&this.element.focus()}blur(){cb()&&this.element.blur()}setAttribute(e,t){this.renderer.setAttribute(this.element,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.element,e)}setSelected(e){const t=this.selected!==e;this.selected=e,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),t&&db(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(e)})}toggleAriaCheckbox(e){cb()&&(e?(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.selected.toString())):(this.removeAttribute("role"),this.removeAttribute("aria-checked")))}hasText(){return!!cb()&&String(this.element.textContent).trim().length>0}addImgIcon(e){let t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):cb()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}addIcon(e){let t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):cb()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}prependChild(e){this.defer(()=>{this.renderer&&e!==this.element.firstChild&&this.renderer.insertBefore(this.element,e,this.element.firstChild)})}defer(e){this.ngZone.runOutsideAngular(()=>{this.deferTimeout=setTimeout(e,0)})}iconSetter(e,t){e&&t(e),this.setIconTextClasses()}removeImageNode(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}removeIconNode(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}updateIconNode(){this.isIcon||this.isIconClass||this.removeIconNode()}setIconTextClasses(){const e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}toggleClass(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}_onButtonClick(){this.toggleable&&(!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.service||this.setSelected(!this.selected))}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Ja),Oo(bN,8),Oo(jb),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["button","kendoButton",""]],hostVars:15,hostBindings:function(e,t){2&e&&(Fo("dir",t.direction),ua("k-button",t.classButton)("k-state-disabled",t.classDisabled)("k-primary",t.classPrimary)("k-flat",t.isFlat)("k-bare",t.isBare)("k-outline",t.isOutline)("k-state-active",t.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",tabIndex:"tabIndex",togglable:"togglable",selected:"selected",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},exportAs:["kendoButton"],features:[Ga([jb,{provide:zb,useValue:"kendo.button"}]),Pa]}),e})();class CN{}function SN(e){return void 0!==e}const xN=Math.PI/180,kN=Number.MAX_VALUE,EN=-Number.MAX_VALUE;function IN(e){return e*xN}function TN(e,t){const i=(n=t)?Math.pow(10,n):1;var n;return Math.round(e*i)/i}var _N=(()=>{class e extends CN{constructor(e=0,t=0,i=0,n=0,s=0,r=0){super(),this.a=e,this.b=t,this.c=i,this.d=n,this.e=s,this.f=r}multiplyCopy(t){return new e(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}invert(){const{a:t,b:i,c:n,d:s,e:r,f:o}=this,a=t*s-i*n;return 0===a?null:new e(s/a,-i/a,-n/a,t/a,(n*o-s*r)/a,(i*r-t*o)/a)}clone(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}round(e){return this.a=TN(this.a,e),this.b=TN(this.b,e),this.c=TN(this.c,e),this.d=TN(this.d,e),this.e=TN(this.e,e),this.f=TN(this.f,e),this}toArray(e){const t=[this.a,this.b,this.c,this.d,this.e,this.f];if(SN(e))for(let i=0;i<t.length;i++)t[i]=TN(t[i],e);return t}toString(e,t=","){return this.toArray(e).join(t)}static translate(t,i){return new e(1,0,0,1,t,i)}static unit(){return new e(1,0,0,1,0,0)}static rotate(t,i,n){const s=new e;return s.a=Math.cos(IN(t)),s.b=Math.sin(IN(t)),s.c=-s.b,s.d=s.a,s.e=i-i*s.a+n*s.b||0,s.f=n-n*s.a-i*s.b||0,s}static scale(t,i){return new e(t,0,0,i,0,0)}}return e.IDENTITY=e.unit(),e})(),FN=class extends CN{observers(){return this._observers=this._observers||[],this._observers}addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this}removeObserver(e){const t=this.observers(),i=t.indexOf(e);return-1!==i&&t.splice(i,1),this}trigger(e,t){const i=this._observers;if(i&&!this._suspended)for(let n=0;n<i.length;n++){let s=i[n];s[e]&&s[e](t)}return this}optionsChange(e={}){e.element=this,this.trigger("optionsChange",e)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function DN(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function AN(e){return function(){return this[e]}}var RN=(e,t)=>{const i=class extends e{};return function(e,t){for(let i=0;i<t.length;i++){let n=t[i],s=n.charAt(0).toUpperCase()+n.substring(1,n.length);e["set"+s]=DN(n),e["get"+s]=AN(n)}}(i.prototype,t),i};function ON(e){return e&&"function"==typeof e.matrix?e.matrix():e}class PN extends(RN(FN,["x","y"])){constructor(e,t){super(),this.x=e||0,this.y=t||0}equals(e){return e&&e.x===this.x&&e.y===this.y}clone(){return new PN(this.x,this.y)}rotate(e,t){const i=PN.create(t)||PN.ZERO;return this.transform(_N.rotate(e,i.x,i.y))}translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}translateWith(e){return this.translate(e.x,e.y)}move(e,t){return this.x=this.y=0,this.translate(e,t)}scale(e,t=e){return this.x*=e,this.y*=t,this.geometryChange(),this}scaleCopy(e,t){return this.clone().scale(e,t)}transform(e){const t=ON(e),{x:i,y:n}=this;return this.x=t.a*i+t.c*n+t.e,this.y=t.b*i+t.d*n+t.f,this.geometryChange(),this}transformCopy(e){const t=this.clone();return e&&t.transform(e),t}distanceTo(e){const t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}round(e){return this.x=TN(this.x,e),this.y=TN(this.y,e),this.geometryChange(),this}toArray(e){const t=SN(e);return[t?TN(this.x,e):this.x,t?TN(this.y,e):this.y]}toString(e,t=" "){let{x:i,y:n}=this;return SN(e)&&(i=TN(i,e),n=TN(n,e)),i+t+n}static create(e,t){if(SN(e))return e instanceof PN?e:1===arguments.length&&2===e.length?new PN(e[0],e[1]):new PN(e,t)}static min(){let e=kN,t=kN;for(let i=0;i<arguments.length;i++){let n=arguments[i];e=Math.min(n.x,e),t=Math.min(n.y,t)}return new PN(e,t)}static max(){let e=EN,t=EN;for(let i=0;i<arguments.length;i++){const n=arguments[i];e=Math.max(n.x,e),t=Math.max(n.y,t)}return new PN(e,t)}static minPoint(){return new PN(EN,EN)}static maxPoint(){return new PN(kN,kN)}static get ZERO(){return new PN(0,0)}}var NN=PN;class MN extends(RN(FN,["width","height"])){constructor(e,t){super(),this.width=e||0,this.height=t||0}equals(e){return e&&e.width===this.width&&e.height===this.height}clone(){return new MN(this.width,this.height)}toArray(e){const t=SN(e);return[t?TN(this.width,e):this.width,t?TN(this.height,e):this.height]}static create(e,t){if(SN(e))return e instanceof MN?e:1===arguments.length&&2===e.length?new MN(e[0],e[1]):new MN(e,t)}static get ZERO(){return new MN(0,0)}}var LN=MN;class VN extends FN{constructor(e=new NN,t=new LN,i=0){super(),this.setOrigin(e),this.setSize(t),this.setCornerRadius(i)}clone(){return new VN(this.origin.clone(),this.size.clone())}equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}setOrigin(e){return this._observerField("origin",NN.create(e)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(e){return this._observerField("size",LN.create(e)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(e){const t=this.topLeft().transformCopy(e),i=this.topRight().transformCopy(e),n=this.bottomRight().transformCopy(e),s=this.bottomLeft().transformCopy(e);return VN.fromPoints(t,i,n,s)}transformCopy(e){return VN.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}expand(e,t=e){return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}expandCopy(e,t){return this.clone().expand(e,t)}containsPoint(e){const t=this.origin,i=this.bottomRight();return!(e.x<t.x||e.y<t.y||i.x<e.x||i.y<e.y)}_isOnPath(e,t){const i=this.expandCopy(t,t),n=this.expandCopy(-t,-t);return i.containsPoint(e)&&!n.containsPoint(e)}static fromPoints(){const e=NN.min.apply(null,arguments),t=NN.max.apply(null,arguments),i=new LN(t.x-e.x,t.y-e.y);return new VN(e,i)}static union(e,t){return VN.fromPoints(NN.min(e.topLeft(),t.topLeft()),NN.max(e.bottomRight(),t.bottomRight()))}static intersect(e,t){const i={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},n={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(i.left<=n.right&&n.left<=i.right&&i.top<=n.bottom&&n.top<=i.bottom)return VN.fromPoints(new NN(Math.max(i.left,n.left),Math.max(i.top,n.top)),new NN(Math.min(i.right,n.right),Math.min(i.bottom,n.bottom)))}}var HN=VN;class BN extends FN{constructor(e=_N.unit()){super(),this._matrix=e}clone(){return new BN(this._matrix.clone())}equals(e){return e&&e._matrix.equals(this._matrix)}translate(e,t){return this._matrix=this._matrix.multiplyCopy(_N.translate(e,t)),this._optionsChange(),this}scale(e,t=e,i=null){let n=i;return n&&(n=NN.create(n),this._matrix=this._matrix.multiplyCopy(_N.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(_N.scale(e,t)),n&&(this._matrix=this._matrix.multiplyCopy(_N.translate(-n.x,-n.y))),this._optionsChange(),this}rotate(e,t){const i=NN.create(t)||NN.ZERO;return this._matrix=this._matrix.multiplyCopy(_N.rotate(e,i.x,i.y)),this._optionsChange(),this}multiply(e){const t=ON(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}var zN=BN;function jN(e){return null===e?null:e instanceof zN?e:new zN(e)}let UN;Math,RN(FN,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),Math,RN(FN,["radius"]),"undefined"!=typeof document&&(UN=document.createElement("div"),UN.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");const GN={}.toString;class qN extends FN{constructor(e,t=""){super(),this.prefix=t;for(let i in e){let t=e[i];t=this._wrap(t,i),this[i]=t}}get(e){const t=e.split(".");let i=this;for(;t.length&&i;)i=i[t.shift()];return i}set(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}_set(e,t){const i=e.indexOf(".")>=0;let n=this,s=e;if(i){const e=s.split(".");let t=this.prefix;for(;e.length>1;){s=e.shift(),t+=s+".";let i=n[s];i||(i=new qN({},t),i.addObserver(this),n[s]=i),n=i}s=e[0]}n._clear(s),n[s]=t}_clear(e){const t=this[e];t&&t.removeObserver&&t.removeObserver(this)}_wrap(e,t){const i=GN.call(e);let n=e;return null!==n&&SN(n)&&"[object Object]"===i&&(e instanceof qN||e instanceof CN||(n=new qN(n,this.prefix+t+".")),n.addObserver(this)),n}}var $N=qN;let KN=1;function WN(){return"kdef"+KN++}function ZN(e){return""===e||null===e||"none"===e||"transparent"===e||!SN(e)}var YN=class extends FN{get nodeType(){return"Rect"}constructor(e){super(),this._initOptions(e)}_initOptions(e={}){const{clip:t,transform:i}=e;i&&(e.transform=jN(i)),t&&!t.id&&(t.id=WN()),this.options=new $N(e),this.options.addObserver(this)}transform(e){if(!SN(e))return this.options.get("transform");this.options.set("transform",jN(e))}parentTransform(){let e,t=this;for(;t.parent;){t=t.parent;let i=t.transform();i&&(e=i.matrix().multiplyCopy(e||_N.unit()))}if(e)return jN(e)}currentTransform(e=this.parentTransform()){const t=ON(this.transform());let i,n=ON(e);if(i=t&&n?n.multiplyCopy(t):t||n,i)return jN(i)}visible(e){return SN(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}clip(e){const t=this.options;return SN(e)?(e&&!e.id&&(e.id=WN()),t.set("clip",e),this):t.get("clip")}opacity(e){return SN(e)?(this.options.set("opacity",e),this):function(e,t){return SN(e)?e:1}(this.options.get("opacity"))}clippedBBox(e){const t=this._clippedBBox(e);if(t){const i=this.clip();return i?HN.intersect(t,i.bbox(e)):t}}containsPoint(e,t){if(this.visible()){const i=this.currentTransform(t);let n=e;return i&&(n=e.transformCopy(i.matrix().invert())),this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return!1}_hasFill(){const e=this.options.fill;return e&&!ZN(e.color)}_hasStroke(){const e=this.options.stroke;return e&&e.width>0&&!ZN(e.color)}_clippedBBox(e){return this.bbox(e)}},QN=e=>class extends e{fill(e,t){const i=this.options;if(SN(e)){if(e&&"Gradient"!==e.nodeType){const n={color:e};SN(t)&&(n.opacity=t),i.set("fill",n)}else i.set("fill",e);return this}return i.get("fill")}stroke(e,t,i){return SN(e)?(this.options.set("stroke.color",e),SN(t)&&this.options.set("stroke.width",t),SN(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke")}};function JN(e){const t="_"+e;return function(e){return SN(e)?(this._observerField(t,NN.create(e)),this.geometryChange(),this):this[t]}}var XN=(e,t)=>{const i=class extends e{};return function(e,t){for(let i=0;i<t.length;i++)e[t[i]]=JN(t[i])}(i.prototype,t),i};QN(XN(YN,["position"]));const eM=[].push,tM=[].pop,iM=[].splice,nM=[].shift,sM=[].slice,rM=[].unshift;var oM=class extends FN{constructor(e=[]){super(),this.length=0,this._splice(0,e.length,e)}elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}push(){const e=arguments,t=eM.apply(this,e);return this._add(e),t}slice(){return sM.call(this)}pop(){const e=this.length,t=tM.apply(this);return e&&this._remove([t]),t}splice(e,t){const i=sM.call(arguments,2),n=this._splice(e,t,i);return this._change(),n}shift(){const e=this.length,t=nM.apply(this);return e&&this._remove([t]),t}unshift(){const e=arguments,t=rM.apply(this,e);return this._add(e),t}indexOf(e){const t=this.length;for(let i=0;i<t;i++)if(this[i]===e)return i;return-1}_splice(e,t,i){const n=iM.apply(this,[e,t].concat(i));return this._clearObserver(n),this._setObserver(i),n}_add(e){this._setObserver(e),this._change()}_remove(e){this._clearObserver(e),this._change()}_setObserver(e){for(let t=0;t<e.length;t++)e[t].addObserver(this)}_clearObserver(e){for(let t=0;t<e.length;t++)e[t].removeObserver(this)}_change(){}};const aM=_N.IDENTITY.toString();var lM=e=>class extends e{bbox(e){const t=ON(this.currentTransform(e)),i=t?t.toString():aM;let n;this._bboxCache&&this._matrixHash===i?n=this._bboxCache.clone():(n=this._bbox(t),this._bboxCache=n?n.clone():null,this._matrixHash=i);const s=this.options.get("stroke.width");return s&&n&&n.expand(s/2),n}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function cM(e){const t="_"+e;return function(e){return SN(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}XN(FN,["anchor","controlIn","controlOut"]),QN(lM(YN)),QN(lM(YN));var uM=(e,t=["geometry"])=>{const i=class extends e{};return function(e,t){for(let i=0;i<t.length;i++)e[t[i]]=cM(t[i])}(i.prototype,t),i};uM(YN,["rect"]);var hM=class extends oM{_change(){this.optionsChange({field:"stops"})}};function dM(e){return function(t){return SN(t)?(this.options.set(e,t),this):this.options.get(e)}}const pM=["offset","color","opacity"];class fM extends(((e,t)=>{const i=class extends e{};return function(e,t){for(let i=0;i<t.length;i++)e[t[i]]=dM(t[i])}(i.prototype,t),i})(FN,pM)){constructor(e,t,i){super(),this.options=new $N({offset:e,color:t,opacity:SN(i)?i:1}),this.options.addObserver(this)}static create(e){if(SN(e)){let t;return t=e instanceof fM?e:e.length>1?new fM(e[0],e[1],e[2]):new fM(e.offset,e.color,e.opacity),t}}}var gM=fM,mM=class extends FN{get nodeType(){return"Gradient"}constructor(e={}){super(),this.stops=new hM(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=WN()}userSpace(e){return SN(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}_createStops(e=[]){const t=[];for(let i=0;i<e.length;i++)t.push(gM.create(e[i]));return t}addStop(e,t,i){this.stops.push(new gM(e,t,i))}removeStop(e){const t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}geometryChange(){this.optionsChange()}};function vM(e,t){let i="";if(null!=e)if(Array.isArray(e))for(let n=0;n<e.length;++n)i+=t(e[n],n);else"object"==typeof e&&Object.keys(e).forEach((n,s)=>{i+=t(e[n],n,s)});return i}XN(mM,["start","end"]),QN(lM(uM(YN))),"undefined"!=typeof Element&&Element.prototype&&Element,"undefined"!=typeof window&&window.kendo&&window,XN(mM,["center"]),JSON;const yM=({logic:e,criteria:t})=>`\n<customFilters ${"and"===e?'and="1"':""}>\n${vM(t,e=>{let t=SM.customOperator(e);return`<customFilter ${t?`operator="${t}"`:""} val="${SM.customValue(e)}"/>`})}\n</customFilters>`,bM=({type:e})=>`<dynamicFilter type="${SM.dynamicFilterType(e)}" />`,wM=({type:e,value:t})=>`<top10 percent="${/percent$/i.test(e)?1:0}"\n       top="${/^top/i.test(e)?1:0}"\n       val="${t}" />`,CM=({blanks:e,values:t})=>`<filters ${e?'blank="1"':""}>\n    ${vM(t,e=>`\n      <filter val="${e}" />`)}\n  </filters>`;function SM(e){return(({ref:e,columns:t,generators:i})=>`\n<autoFilter ref="${e}">\n  ${vM(t,e=>`\n    <filterColumn colId="${e.index}">\n      ${i[e.filter](e)}\n    </filterColumn>\n  `)}\n</autoFilter>`)({ref:e.ref,columns:e.columns,generators:{custom:yM,dynamic:bM,top:wM,value:CM}})}SM.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},SM.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},SM.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e};const xM=["lockedHeader"],kM=["header"],EM=["ariaRoot"],IM=["footer"],TM=["groupPanelEmpty",$localize`:kendo.grid.groupPanelEmpty|The label visible in the Grid group panel when it is empty␟30bcb3a2fbc22fcab6ca805e74b90adb8ba1ae96␟1430663748859427158:Drag a column header and drop it here to group by that column`,"noRecords",$localize`:kendo.grid.noRecords|The label visible in the Grid when there are no records␟ff9cfd4bf3e40305db251f2b6961796c0550b4b0␟1243399825085142134:No records available.`,"pagerFirstPage",$localize`:kendo.grid.pagerFirstPage|The label for the first page button in Grid pager␟b405dfc5ee42415daa08d54847d3010de1821111␟5647145449685906398:Go to the first page`,"pagerPreviousPage",$localize`:kendo.grid.pagerPreviousPage|The label for the previous page button in Grid pager␟47aa4fe05f5a2577d3336971d7c44ce48802b860␟6745088753482690847:Go to the previous page`,"pagerNextPage",$localize`:kendo.grid.pagerNextPage|The label for the next page button in Grid pager␟90031133fca899b4e491d9fc51128c1a184afb30␟5510985262435270859:Go to the next page`,"pagerLastPage",$localize`:kendo.grid.pagerLastPage|The label for the last page button in Grid pager␟fe84f2ea868286ce03e50b6e55558c16d675c753␟4539768510520419313:Go to the last page`,"pagerPage",$localize`:kendo.grid.pagerPage|The label before the current page number in the Grid pager␟89c1f616c25bb610824cd8a26473a03921df48bd␟5228228287003939680:Page`,"pagerOf",$localize`:kendo.grid.pagerOf|The label before the total pages number in the Grid pager␟0c9abe48f5d4bd2cb51846712e41864fc64aad6a␟7004642096327889102:of`,"pagerItems",$localize`:kendo.grid.pagerItems|The label after the total pages number in the Grid pager␟7c1704d11bfb77340485acd891439c2b6c6616ca␟700193548223931835:items`,"pagerPageNumberInputTitle",$localize`:kendo.grid.pagerPageNumberInputTitle|The label for the pager input in the Grid pager␟f8bad8f2c7345e4fe531480e3034f7d3e954d383␟2090461908134774363:Page Number`,"pagerItemsPerPage",$localize`:kendo.grid.pagerItemsPerPage|The label for the page size chooser in the Grid pager␟3331fe7ec45f299afaa4c1e08ea25c493eda9144␟8838594644885628398:items per page`,"filter",$localize`:kendo.grid.filter|The label of the filter cell or icon␟21a04b7b090dac60e0449cb6e435b7e879173c75␟7977992299945497789:Filter`,"filterEqOperator",$localize`:kendo.grid.filterEqOperator|The text of the equal filter operator␟8b31e1604d10a2f8709dcb1ed5c237e33cffc135␟4328959145426393682:Is equal to`,"filterNotEqOperator",$localize`:kendo.grid.filterNotEqOperator|The text of the not equal filter operator␟d46e14d35d89d2fadf5c852abf5557643510a013␟8497658332767349737:Is not equal to`,"filterIsNullOperator",$localize`:kendo.grid.filterIsNullOperator|The text of the is null filter operator␟078c50eb1fe8b2b43fcc40c5e7f4493152310c2f␟1298299704757177797:Is null`,"filterIsNotNullOperator",$localize`:kendo.grid.filterIsNotNullOperator|The text of the is not null filter operator␟70b39eeaf2674907b2e59b414baf17e032b464dc␟8362279767336741540:Is not null`,"filterIsEmptyOperator",$localize`:kendo.grid.filterIsEmptyOperator|The text of the is empty filter operator␟a4e77e444b4e9b63851ac818e20136212b06c750␟4762263229995523226:Is empty`,"filterIsNotEmptyOperator",$localize`:kendo.grid.filterIsNotEmptyOperator|The text of the is not empty filter operator␟dee7553c341248e90aef4a8e7438c52e667e68be␟8245213618709258015:Is not empty`,"filterStartsWithOperator",$localize`:kendo.grid.filterStartsWithOperator|The text of the starts with filter operator␟da43b363b636156e3ccdbb64a0788bdeab51e992␟6087783423599420507:Starts with`,"filterContainsOperator",$localize`:kendo.grid.filterContainsOperator|The text of the contains filter operator␟5b568a46d2e34ebde7dd53a7e599cbbb7dc6bae1␟3831180413287131758:Contains`,"filterNotContainsOperator",$localize`:kendo.grid.filterNotContainsOperator|The text of the does not contain filter operator␟be06aa4fde7fa722c9de5a45f241ff595071d718␟7331253838216904826:Does not contain`,"filterEndsWithOperator",$localize`:kendo.grid.filterEndsWithOperator|The text of the ends with filter operator␟a54b2ecffb41f0603ceedc7ea5a40b7d130e2fa1␟3662435311670509156:Ends with`,"filterGteOperator",$localize`:kendo.grid.filterGteOperator|The text of the greater than or equal filter operator␟68471603db771d0304d02fe086da9701c16911c3␟4542824413455511831:Is greater than or equal to`,"filterGtOperator",$localize`:kendo.grid.filterGtOperator|The text of the greater than filter operator␟ae68acc0e18252a348bdfb32112996d81e5305de␟1527483349261806183:Is greater than`,"filterLteOperator",$localize`:kendo.grid.filterLteOperator|The text of the less than or equal filter operator␟e48d50a6422c616a00b95025adc5283aff4fa8cb␟4840714404733417604:Is less than or equal to`,"filterLtOperator",$localize`:kendo.grid.filterLtOperator|The text of the less than filter operator␟c4d58f0e509cb7e37014715dd91546a724210d70␟498627126459578706:Is less than`,"filterIsTrue",$localize`:kendo.grid.filterIsTrue|The text of the IsTrue boolean filter option␟d5f1e9028bc60c30e8f8e0f9cfeb872512446cea␟2361673238316312251:Is True`,"filterIsFalse",$localize`:kendo.grid.filterIsFalse|The text of the IsFalse boolean filter option␟6d34731320e2536fd78f4a9e08f0b8dcd01edf3d␟7759366406135608407:Is False`,"filterBooleanAll",$localize`:kendo.grid.filterBooleanAll|The text of the (All) boolean filter option␟4da1456a62bafe2614ed2bc05a2c790a64a4dd0b␟9215343856736761875:(All)`,"filterAfterOrEqualOperator",$localize`:kendo.grid.filterAfterOrEqualOperator|The text of the after or equal date filter operator␟d7dac1bbc2372d578a9d2bca099de766043aed7e␟1964413288176201979:Is after or equal to`,"filterAfterOperator",$localize`:kendo.grid.filterAfterOperator|The text of the after date filter operator␟bff777df0d0831cc02679227422fab4ef2763fa9␟3078502182807244703:Is after`,"filterBeforeOperator",$localize`:kendo.grid.filterBeforeOperator|The text of the before date filter operator␟35ef5cf367670f15432c9f8761bc85fbdb2b1830␟3348865631071358219:Is before`,"filterBeforeOrEqualOperator",$localize`:kendo.grid.filterBeforeOrEqualOperator|The text of the before or equal date filter operator␟27a6b29ffbc1eb498de8d7af20051461a2e842ec␟6582064037090631388:Is before or equal to`,"filterFilterButton",$localize`:kendo.grid.filterFilterButton|The text of the filter button␟4f1c08d0b056646cdb668da669e2e15825adfe4d␟5185263258022896121:Filter`,"filterClearButton",$localize`:kendo.grid.filterClearButton|The text of the clear filter button␟06e4e4dadede6f91f261cdbb7fb174246a135238␟3031209415830321799:Clear`,"filterAndLogic",$localize`:kendo.grid.filterAndLogic|The text of the And filter logic␟f73fbcc2f813d469e4a34491950ca01ea1ac8f60␟512662285155477884:And`,"filterOrLogic",$localize`:kendo.grid.filterOrLogic|The text of the Or filter logic␟04e64780de0fc1c3a9986997e0808ec53a5f2a63␟1964926727342405367:Or`,"loading",$localize`:kendo.grid.loading|The loading text␟781c049cc69efc30bc8053af9ace3cb4b04bd438␟5425510787229531767:Loading`,"columns",$localize`:kendo.grid.columns|The text shown in the column menu for the columns item␟9b841399fbb3d81f2401f98b4f4763834b72a1e5␟5332162737795508854:Columns`,"lock",$localize`:kendo.grid.lock|The text shown in the column menu for the lock item␟f356cae509dec3dc1b7156326b9a0328a79c62a8␟5849203148124173556:Lock`,"unlock",$localize`:kendo.grid.unlock|The text shown in the column menu for the unlock item␟f33355540003068372e39ba7f3def794869ea9f8␟6968586378603932789:Unlock`,"setColumnPosition",$localize`:kendo.grid.setColumnPosition|The text shown in the column menu for the set column position item␟e5b09fd8ecea276841b1018a376a43d5f26cf187␟4152513791950180353:Set Column Position`,"stick",$localize`:kendo.grid.stick|The text shown in the column menu for the stick item␟31d7229bfb18a112e19a6e8040d7d2e261293dca␟2051035907018784050:Stick`,"unstick",$localize`:kendo.grid.unstick|The text shown in the column menu for the unstick item␟01d4c7e75b7fadc09544cf2277208d39b4eef86a␟7237321134369658080:Unstick`,"sortable",$localize`:kendo.grid.sortable|The label of the sort icon␟a692ba271be066ce379f942ff67094e1ea989f4c␟3824304972336788145:Sortable`,"sortAscending",$localize`:kendo.grid.sortAscending|The text shown in the column menu for the sort ascending item␟96beffd8446c5455f3bbdc313c946db32df7dcc2␟6297762560864270240:Sort Ascending`,"sortDescending",$localize`:kendo.grid.sortDescending|The text shown in the column menu for the sort descending item␟208d0538d4c2537a1cbf456941e34a2884053d52␟5605073536641230977:Sort Descending`,"sortedAscending",$localize`:kendo.grid.sortedAscending|The status announcement when a column is sorted ascending␟947c64329461efd9f8a9aa2c51acbbd099170aa5␟6275944032047713540:Sorted Ascending`,"sortedDescending",$localize`:kendo.grid.sortedDescending|The status announcement when a column is sorted descending␟092a688d1b2b6d873bdc29beaaf43c3f45336581␟8155280769473236383:Sorted Descending`,"sortedDefault",$localize`:kendo.grid.sortedDefault|The status announcement when a column is no longer sorted␟66e99ea340974022c07c52a6f668f5573e7edab0␟5229177293891232538:Not Sorted`,"columnsApply",$localize`:kendo.grid.columnsApply|The text shown in the column menu or column chooser for the columns apply button␟04600bd6e362cf9da9f7f9c4666eab2c88eb6a90␟34213208292862969:Apply`,"columnsReset",$localize`:kendo.grid.columnsReset|The text shown in the column menu or column chooser for the columns reset button␟94d3b472d99994a5cca9930afd4cf0ac2774c382␟4465838259914958827:Reset`,"detailExpand",$localize`:kendo.grid.detailExpand|The title of the expand icon of detail rows.␟ad6629bb6e79235623cfce486ef48087dbe96fb5␟6952757249912226136:Expand Details`,"detailCollapse",$localize`:kendo.grid.detailCollapse|The title of the collapse icon of detail rows.␟ace0c0a58fbb211e8678efb3bd6ac9bb587144c3␟6065477639036399169:Collapse Details`,"filterDateToday",$localize`:kendo.grid.filterDateToday|The text of the Today button of the Date filter.␟745058f85d92ee5228977277195262978828c4c8␟1656723147090613075:TODAY`,"filterDateToggle",$localize`:kendo.grid.filterDateToggle|The title of the Toggle button of the Date filter.␟2c916ea2cbd37665e512219650c37dc17b9ef0c0␟15438307630389352:Toggle Calendar`,"filterNumericDecrement",$localize`:kendo.grid.filterNumericDecrement|The title of the Decrement button of the Numeric filter.␟7f991d698abebb2e50570f9aef14126ae931c513␟534533728304192410:Decrement`,"filterNumericIncrement",$localize`:kendo.grid.filterNumericIncrement|The title of the Increment button of the Numeric filter.␟25bc8b86968819d3f687aa6dde652800bd4b6b2a␟5462143714591662391:Increment`,"selectionCheckboxLabel",$localize`:kendo.grid.selectionCheckboxLabel|The labels of the checkbox column checkboxes.␟be92546944c9cb75e92f8b968456d82a101fc35b␟8181603152758207780:Select Row`,"selectAllCheckboxLabel",$localize`:kendo.grid.selectAllCheckboxLabel|The label of the checkbox column select all checkbox.␟20fbea69eff950cbfcf690203ca6104e8346fa48␟6136285170059274319:Select All Rows`,"pagerLabel",$localize`:kendo.grid.pagerLabel|The label for the Grid pager␟03a0df03d11d80b3aeca50cf4827096a51a853fc␟941504587982751782:${"\ufffd0\ufffd"}:INTERPOLATION:`,"filterInputLabel",$localize`:kendo.grid.filterInputLabel|The label of the filter row and menu inputs␟491dbf44b1ca040395b94229d00d4109af48e64c␟3836147469421132954:${"\ufffd0\ufffd"}:INTERPOLATION:`,"filterMenuTitle",$localize`:kendo.grid.filterMenuTitle|The title of the filter menu icon␟04e8a1bee6d2dd6edfc921e890fae44a01ceb18c␟7968307322474586314:${"\ufffd0\ufffd"}:INTERPOLATION:`,"filterMenuOperatorsDropDownLabel",$localize`:kendo.grid.filterMenuOperatorsDropDownLabel|The label of the filter menu operators dropdown␟884eac0bb5b4a01ea36fea20ffa29c6dfe1987e0␟1505989735336544615:${"\ufffd0\ufffd"}:INTERPOLATION:`,"filterMenuLogicDropDownLabel",$localize`:kendo.grid.filterMenuLogicDropDownLabel|The label of the filter menu logic dropdown␟c9ba4917588987b943dc414dc6ca108392d8cb40␟7212349983175276206:${"\ufffd0\ufffd"}:INTERPOLATION:`,"columnMenu",$localize`:kendo.grid.columnMenu|The title of the column menu icon␟28d8b294e285a6c34641eb1c7982870b412ef106␟8738132440639204439:${"\ufffd0\ufffd"}:INTERPOLATION:`];function _M(e,t){1&e&&Bo(0,"kendo-grid-toolbar",9)}function FM(e,t){if(1&e){const e=Go();Vo(0,"kendo-pager",10),Ko("pageChange",(function(t){return Qt(e),Yo().notifyPageChange("pager",t)})),Ho()}if(2&e){const e=Yo();Mo("tabindex",e.navigable?"0":"-1")("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("options",e.pageable),Fo("role",e.navigable?"navigation":void 0)}}function DM(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-group-panel",11),Ko("change",(function(t){return Qt(e),Yo().groupChange.emit(t)})),Ho()}if(2&e){const e=Yo();Mo("text",e.groupableEmptyText)("groups",e.group)}}function AM(e,t){if(1&e&&(Vo(0,"div",23,24),Vo(2,"table",25),Bo(3,"colgroup",20),Bo(4,"thead",26),Ho(),Ho()),2&e){const e=Yo(3);ca("width",e.lockedWidth,"px"),ms(2),ca("width",e.lockedWidth,"px"),Mo("locked",!0),ms(1),Mo("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),ms(1),Mo("resizable",e.resizable)("scrollable",!0)("columns",e.lockedColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("groups",e.group)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate)("tabIndex",e.navigable?"-1":"0")}}function RM(e,t){if(1&e&&(Vo(0,"div",27),Bo(1,"div"),Ho()),2&e){const e=Yo(3);ms(1),ca("width",e.columnsContainer.unlockedWidth,"px")}}const OM=function(){return[]};function PM(e,t){if(1&e&&(Vo(0,"div",15),Ao(1,AM,5,24,"div",16),Vo(2,"div",17,18),Vo(4,"table",19),Bo(5,"colgroup",20),Bo(6,"thead",21),Ho(),Ao(7,RM,2,2,"div",22),Ho(),Ho()),2&e){const e=Yo(2);ca("padding",e.headerPadding),ms(1),Mo("ngIf",e.isLocked),ms(1),Mo("kendoGridResizableContainer",e.lockedLeafColumns.length)("lockedWidth",e.lockedWidth+e.scrollbarWidth+2),ms(2),ca("width",e.nonLockedWidth,"px"),Mo("virtualColumns",e.virtualColumns),ms(1),Mo("columns",e.headerLeafColumns)("groups",e.isLocked?ec(29,OM):e.group)("detailTemplate",e.detailTemplate),ms(1),Mo("resizable",e.resizable)("scrollable",!0)("columns",e.headerColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("groups",e.isLocked?ec(30,OM):e.group)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("lockedColumnsCount",e.lockedLeafColumns.length)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate)("tabIndex",e.navigable?"-1":"0"),ms(1),Mo("ngIf",e.virtualColumns)}}function NM(e,t){if(1&e&&(Vo(0,"div",35),Vo(1,"table",25),Bo(2,"colgroup",33),Bo(3,"tfoot",36),Ho(),Ho()),2&e){const e=Yo(3);ca("width",e.lockedWidth,"px"),ms(1),ca("width",e.lockedWidth,"px"),Mo("locked",!0),ms(1),Mo("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),ms(1),Mo("scrollable",!0)("groups",e.group)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate)("logicalRowIndex",e.ariaRowCount)}}function MM(e,t){if(1&e&&(Vo(0,"div",28),Ao(1,NM,4,13,"div",29),Vo(2,"div",30,31),Vo(4,"table",32),Bo(5,"colgroup",33),Bo(6,"tfoot",34),Ho(),Ho(),Ho()),2&e){const e=Yo(2);ca("padding",e.headerPadding),ms(1),Mo("ngIf",e.lockedLeafColumns.length),ms(1),Mo("kendoGridResizableContainer",e.lockedLeafColumns.length)("lockedWidth",e.lockedWidth+e.scrollbarWidth+3),ms(2),ca("width",e.nonLockedWidth,"px"),ms(1),Mo("columns",e.nonLockedLeafColumns)("groups",e.isLocked?ec(16,OM):e.group)("detailTemplate",e.detailTemplate),ms(1),Mo("logicalRowIndex",e.ariaRowCount)("scrollable",!0)("groups",e.isLocked?ec(17,OM):e.group)("columns",e.nonLockedLeafColumns)("lockedColumnsCount",e.lockedLeafColumns.length)("detailTemplate",e.detailTemplate)}}function LM(e,t){if(1&e){const e=Go();Ao(0,PM,8,31,"div",12),Vo(1,"kendo-grid-list",13),Ko("pageChange",(function(t){return Qt(e),Yo().notifyPageChange("list",t)}))("scrollBottom",(function(){return Qt(e),Yo().notifyScrollBottom()}))("contentScroll",(function(t){return Qt(e),Yo().contentScroll.emit(t)})),Ho(),Ao(2,MM,7,18,"div",14)}if(2&e){const e=Yo();Mo("ngIf",!e.hideHeader),ms(1),Mo("data",e.view)("rowHeight",e.rowHeight)("detailRowHeight",e.detailRowHeight)("total",e.totalCount)("take",e.pageSize)("groups",e.group)("groupable",e.groupable)("skip",e.skip)("trackBy",e.trackBy)("columns",e.columnsContainer)("selectable",e.selectable)("filterable",e.filterable)("detailTemplate",e.detailTemplate)("noRecordsTemplate",e.noRecordsTemplate)("rowClass",e.rowClass)("rowSticky",e.rowSticky)("loading",e.loading)("isVirtual",e.isVirtual)("virtualColumns",e.virtualColumns)("enableDrag",e.marqueeSelection),ms(1),Mo("ngIf",e.showFooter)}}function VM(e,t){if(1&e&&Bo(0,"thead",41),2&e){const e=Yo(2);Mo("resizable",e.resizable)("scrollable",!1)("columns",e.visibleColumns)("totalColumnLevels",e.totalColumnLevels)("groups",e.group)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sort",e.sort)("sortable",e.sortable)("filter",e.filter)("filterable",e.filterable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("detailTemplate",e.detailTemplate)("tabIndex",e.navigable?"-1":"0")}}function HM(e,t){if(1&e&&Bo(0,"tfoot",42),2&e){const e=Yo(2);Mo("scrollable",!1)("logicalRowIndex",e.ariaRowCount)("groups",e.group)("columns",e.leafColumns)("detailTemplate",e.detailTemplate)}}function BM(e,t){1&e&&Bo(0,"div",43)}function zM(e,t){if(1&e&&(Vo(0,"table"),Bo(1,"colgroup",33),Ao(2,VM,1,15,"thead",37),Bo(3,"tbody",38),Ao(4,HM,1,5,"tfoot",39),Ho(),Ao(5,BM,1,0,"div",40)),2&e){const e=Yo();ca("table-layout",e.resizable?"fixed":null),ms(1),Mo("columns",e.leafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),ms(1),Mo("ngIf",!e.hideHeader),ms(1),Mo("groups",e.group)("data",e.view)("skip",e.skip)("columns",e.leafColumns)("selectable",e.selectable)("filterable",e.filterable)("noRecordsTemplate",e.noRecordsTemplate)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showGroupFooters)("trackBy",e.trackBy)("rowClass",e.rowClass)("enableDrag",e.marqueeSelection),ms(1),Mo("ngIf",e.showFooter),ms(1),Mo("ngIf",e.loading)}}function jM(e,t){if(1&e){const e=Go();Vo(0,"kendo-pager",44),Ko("pageChange",(function(t){return Qt(e),Yo().notifyPageChange("pager",t)})),Ho()}if(2&e){const e=Yo();Mo("tabindex",e.navigable?"0":"-1")("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("options",e.pageable),Fo("role",e.navigable?"navigation":void 0)}}function UM(e,t){1&e&&Bo(0,"kendo-grid-toolbar",45)}const GM=["container"],qM=["lockedContainer"],$M=["lockedTable"],KM=["table"],WM=function(e,t,i,n){return{keydown:e,scroll:t,mousewheel:i,DOMMouseScroll:n}};function ZM(e,t){if(1&e&&(Vo(0,"div",12,13),Vo(2,"div",3),Vo(3,"table",14,15),Bo(5,"colgroup",6),Bo(6,"tbody",16),Ho(),Bo(7,"kendo-resize-sensor"),Ho(),Vo(8,"div",9),Bo(9,"div"),Ho(),Ho()),2&e){const e=Yo();ca("width",e.lockedWidth,"px"),Mo("kendoEventsOutsideAngular",sc(25,WM,e.lockedKeydown,e.lockedScroll,e.lockedMousewheel,e.lockedMousewheel))("scope",e),ms(3),ca("width",e.lockedWidth,"px"),Mo("locked",!0),ms(2),Mo("groups",e.groups)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate),ms(1),Mo("groups",e.groups)("isLocked",!0)("data",e.data)("noRecordsText","")("columns",e.lockedLeafColumns)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showFooter)("skip",e.skip)("selectable",e.selectable)("trackBy",e.trackBy)("filterable",e.filterable)("rowClass",e.rowClass),ms(3),ca("height",e.totalHeight,"px")}}function YM(e,t){1&e&&Bo(0,"kendo-resize-sensor")}function QM(e,t){1&e&&Bo(0,"kendo-resize-sensor")}function JM(e,t){if(1&e&&(Vo(0,"div",17),Bo(1,"div"),Ho()),2&e){const e=Yo();ms(1),ca("width",e.totalWidth,"px")}}function XM(e,t){1&e&&Bo(0,"div",18)}const eL=["kendoGridFilterRow",""];function tL(e,t){1&e&&Bo(0,"td",3),2&e&&ua("k-group-cell",!0)}function iL(e,t){1&e&&Bo(0,"td",3),2&e&&ua("k-hierarchy-cell",!0)}function nL(e,t){if(1&e&&Bo(0,"td",4),2&e){const e=t.$implicit,i=t.index,n=Yo();ua("k-grid-header-sticky",e.sticky),Mo("ngStyle",e.sticky?n.addStickyStyles(e):null)("column",e)("filter",n.filter)("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",n.lockedColumnsCount+i),Fo("aria-label",n.filterLabel(e))}}const sL=["kendoGridFilterCell",""];function rL(e,t){if(1&e&&(zo(0),Uo(1,3),jo()),2&e){const e=Yo(2);ms(1),Mo("column",e.column)("filter",e.filter)}}function oL(e,t){}function aL(e,t){if(1&e&&Ao(0,oL,0,0,"ng-template",5),2&e){const e=Yo(3);Mo("ngTemplateOutlet",e.column.filterCellTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function lL(e,t){if(1&e&&(zo(0),Ao(1,aL,1,2,void 0,4),jo()),2&e){const e=Yo(2);ms(1),Mo("ngIf",e.column.filterCellTemplateRef)}}function cL(e,t){1&e&&(zo(0,1),Ao(1,rL,2,2,"ng-container",2),Ao(2,lL,2,1,"ng-container",2),jo()),2&e&&(Mo("ngSwitch",Yo().hasTemplate),ms(1),Mo("ngSwitchCase",!1),ms(1),Mo("ngSwitchCase",!0))}const uL=["*"],hL=["dropdown"],dL=function(){return{width:"auto"}};function pL(e,t){if(1&e){const e=Go();Vo(0,"kendo-dropdownlist",3,4),Ko("valueChange",(function(t){return Qt(e),Yo().onChange(t)}))("keydown",(function(t){return Qt(e),Yo().dropdownKeydown(t)})),Ho()}if(2&e){const e=Yo();Mo("data",e.operators)("value",e.value)("valuePrimitive",!0)("popupSettings",ec(4,dL))}}const fL=function(e){return{"k-clear-button-visible":e}},gL=["kendoGridColGroup",""];function mL(e,t){1&e&&Bo(0,"col"),2&e&&ua("k-group-col",!0)}function vL(e,t){1&e&&Bo(0,"col"),2&e&&ua("k-hierarchy-col",!0)}function yL(e,t){1&e&&Bo(0,"col"),2&e&&ca("width",t.$implicit.width,"px")}function bL(e,t){if(1&e&&(Ao(0,mL,1,2,"col",1),Ao(1,vL,1,2,"col",2),Ao(2,yL,1,2,"col",3)),2&e){const e=Yo();Mo("ngForOf",e.groups),ms(1),Mo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),ms(1),Mo("ngForOf",e.columnsToRender)("ngForTrackBy",e.trackBy)}}const wL=["kendoGridLoading",""];function CL(e,t){if(1&e){const e=Go();Vo(0,"div",4),Ko("focusin",(function(t){return Qt(e),Yo().onInnerFocusIn(t,"start")})),Ho()}2&e&&(Mo("tabindex",Yo().focusTrapTabIndex),Fo("aria-hidden",!0))}function SL(e,t){if(1&e&&Uo(0,5),2&e){const e=Yo();Mo("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function xL(e,t){1&e&&Bo(0,"kendo-pager-prev-buttons")}function kL(e,t){1&e&&Bo(0,"kendo-pager-numeric-buttons",8),2&e&&Mo("buttonCount",Yo(2).settings.buttonCount)}function EL(e,t){1&e&&Bo(0,"kendo-pager-input")}function IL(e,t){1&e&&Bo(0,"kendo-pager-next-buttons")}function TL(e,t){1&e&&Bo(0,"kendo-pager-info")}function _L(e,t){1&e&&Bo(0,"kendo-pager-page-sizes",9,10),2&e&&Mo("pageSizes",Yo(2).settings.pageSizes)}function FL(e,t){if(1&e&&(zo(0),Ao(1,xL,1,0,"kendo-pager-prev-buttons",2),Ao(2,kL,1,1,"kendo-pager-numeric-buttons",6),Ao(3,EL,1,0,"kendo-pager-input",2),Ao(4,IL,1,0,"kendo-pager-next-buttons",2),Ao(5,TL,1,0,"kendo-pager-info",2),Ao(6,_L,2,1,"kendo-pager-page-sizes",7),jo()),2&e){const e=Yo();ms(1),Mo("ngIf",e.settings.previousNext),ms(1),Mo("ngIf","numeric"===e.settings.type),ms(1),Mo("ngIf","input"===e.settings.type),ms(1),Mo("ngIf",e.settings.previousNext),ms(1),Mo("ngIf",e.settings.info),ms(1),Mo("ngIf",e.settings.pageSizes)}}function DL(e,t){if(1&e){const e=Go();Vo(0,"div",4),Ko("focusin",(function(t){return Qt(e),Yo().onInnerFocusIn(t,"end")})),Ho()}2&e&&(Mo("tabindex",Yo().focusTrapTabIndex),Fo("aria-hidden",!0))}function AL(e,t){if(1&e){const e=Go();Vo(0,"kendo-resize-sensor",11),Ko("resize",(function(){return Qt(e),Yo().resizeHandler()})),Ho()}}const RL=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-first":!0}},OL=function(){return{"k-icon":!0,"k-i-seek-w":!0}},PL=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"":!0}},NL=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},ML=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},LL=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-last":!0}},VL=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function HL(e,t){if(1&e&&(Vo(0,"option",7),Ca(1,"... "),Ho()),2&e){const e=Yo();Fo("aria-label",e.pageLabel(e.start-1))}}const BL=function(e){return{"k-link":!0,"k-state-selected":e}};function zL(e,t){if(1&e&&(Vo(0,"option",8),Ca(1),Ho()),2&e){const e=t.$implicit,i=Yo();Mo("value",e.toString())("ngClass",tc(5,BL,i.currentPage==e)),Fo("aria-label",i.pageLabel(e))("aria-current",i.currentPage==e?"page":void 0),ms(1),xa(" ",e," ")}}function jL(e,t){if(1&e&&(Vo(0,"option",9),Ca(1,"... "),Ho()),2&e){const e=Yo();Fo("aria-label",e.pageLabel(e.end+1))}}function UL(e,t){if(1&e){const e=Go();Vo(0,"li"),Vo(1,"span",10),Ko("click",(function(){Qt(e);const t=Yo();return t.changePage(t.start-2)}))("keydown.enter",(function(){Qt(e);const t=Yo();return t.changePage(t.start-2)})),Ca(2,"..."),Ho(),Ho()}if(2&e){const e=Yo();ms(1),Fo("aria-label",e.pageLabel(e.start-1))}}const GL=function(e){return{"k-link":!0,"k-state-selected":e,"k-pager-nav":!0}};function qL(e,t){if(1&e){const e=Go();Vo(0,"li"),Vo(1,"span",11),Ko("click",(function(){Qt(e);const i=t.$implicit;return Yo().changePage(i-1)}))("keydown.enter",(function(){Qt(e);const i=t.$implicit;return Yo().changePage(i-1)})),Ca(2),Ho(),Ho()}if(2&e){const e=t.$implicit,i=Yo();ms(1),Mo("ngClass",tc(3,GL,i.currentPage==e)),Fo("aria-label",i.pageLabel(e)),ms(1),xa(" ",e," ")}}function $L(e,t){if(1&e){const e=Go();Vo(0,"li"),Vo(1,"span",10),Ko("click",(function(){Qt(e);const t=Yo();return t.changePage(t.end)}))("keydown.enter",(function(){Qt(e);const t=Yo();return t.changePage(t.end)})),Ca(2,"..."),Ho(),Ho()}if(2&e){const e=Yo();ms(1),Fo("aria-label",e.pageLabel(e.end+1))}}const KL=function(){return{"k-pager-numbers":!0,"k-reset":!0}},WL=function(){return{"k-pager-input":!0,"k-label":!0}},ZL=function(e,t){return{keydown:e,focusout:t}},YL=["kendoGridGroupHeader",""];function QL(e,t){1&e&&Bo(0,"td",4)}function JL(e,t){if(1&e&&Ao(0,QL,1,0,"td",3),2&e){const e=Yo();Mo("ngForOf",e.prefixGroupCell(e.item))}}function XL(e,t){if(1&e&&(Ca(0),uc(1,"valueOf")),2&e){const e=Yo(3);ka(" ",e.groupTitle(e.item),": ",dc(1,2,e.item.data,"value",e.formatForGroup(e.item))," ")}}function eV(e,t){}const tV=function(e,t){return{"k-i-collapse":e,"k-i-expand":t}},iV=function(e,t,i,n,s,r,o,a){return{templateRef:e,group:t,aggregates:i,value:n,field:s,index:r,expanded:o,$implicit:a}};function nV(e,t){if(1&e){const e=Go();Vo(0,"a",7),Ko("click",(function(){Qt(e);const t=Yo(2);return t.toggleGroup(t.item)})),Ho(),Ao(1,XL,2,6,"ng-template",0),Ao(2,eV,0,0,"ng-template",8)}if(2&e){const e=Yo(2);Mo("ngClass",ic(3,tV,e.isExpanded,!e.isExpanded)),ms(1),Mo("ngIf",!e.groupHeaderTemplate(e.item)),ms(1),Mo("templateContext",function(e,t,i,n,s,r,o,a,l,c,u){const h=si()+6,d=Zt(),p=_o(d,h,i,n,s,r);return _o(d,h+4,o,a,l,c)||p?xo(d,h+8,t(i,n,s,r,o,a,l,c)):ko(d,h+8)}(0,iV,e.groupHeaderTemplate(e.item),e.item.data,null==e.item.data?null:e.item.data.aggregates,null==e.item.data?null:e.item.data.value,null==e.item.data?null:e.item.data.field,e.item.index,e.isExpanded,e.item.data))}}function sV(e,t){if(1&e&&(Vo(0,"td",5),Vo(1,"p",6),Ao(2,nV,3,15,"ng-template",0),Ho(),Ho()),2&e){const e=Yo();Mo("logicalRowIndex",e.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",e.skipGroupDecoration)("groupItem",e.item)("colSpan",e.logicalColSpan()),Fo("colspan",e.groupSpan(e.item))("role",e.ariaRole())("aria-expanded",e.isExpanded),ms(2),Mo("ngIf",!e.skipGroupDecoration)}}const rV=function(e,t,i,n,s,r){return{group:e,aggregates:t,value:i,field:n,index:s,$implicit:r}};function oV(e,t){if(1&e&&Uo(0,12),2&e){const e=Yo().$implicit,t=Yo(2);Mo("ngTemplateOutlet",e.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",rc(2,rV,t.item.data,null==t.item.data?null:t.item.data.aggregates,null==t.item.data?null:t.item.data.value,null==t.item.data?null:t.item.data.field,t.item.index,t.item.data))}}function aV(e,t){if(1&e&&(Vo(0,"td",10),Ao(1,oV,1,9,"ng-container",11),Ho()),2&e){const e=t.$implicit,i=t.index,n=Yo(2);Mo("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",i+1)("logicalSlaveCell",!1)("groupItem",n.item)("colSpan",1),ms(1),Mo("ngIf",e.groupHeaderColumnTemplateRef)}}function lV(e,t){if(1&e&&(zo(0),Ao(1,aV,2,6,"td",9),jo()),2&e){const e=Yo();ms(1),Mo("ngForOf",e.groupHeaderColumns)}}const cV=function(){return{lastTarget:!0}};function uV(e,t){if(1&e&&(Vo(0,"div",3),Ca(1),Ho()),2&e){const e=Yo();Mo("context",ec(2,cV)),ms(1),xa(" ",e.text," ")}}const hV=function(e){return{field:e}},dV=function(e,t){return{field:e,type:"groupIndicator",hint:t}};function pV(e,t){if(1&e){const e=Go();Vo(0,"div",3),Vo(1,"div",4),Ko("directionChange",(function(t){return Qt(e),Yo().directionChange(t)}))("remove",(function(t){return Qt(e),Yo().remove(t)})),Ho(),Ho()}if(2&e){const e=t.$implicit,i=t.index,n=Yo();Mo("context",tc(5,hV,e.field)),ms(1),Mo("enableDrag",!0)("context",ic(7,dV,e.field,n.groupTitles[i]))("group",e)("groupTitle",n.groupTitles[i])}}function fV(e,t){1&e&&(Vo(0,"div",3),Ca(1,"\xa0"),Ho()),2&e&&Mo("context",ec(1,cV))}const gV=["kendoGroupIndicator",""],mV=["anchor"],vV=["template"];function yV(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-filter-menu-container",4),Ko("close",(function(){return Qt(e),Yo().close()}))("keydown.escape",(function(){return Qt(e),Yo().close()}))("keydown.enter",(function(t){return Qt(e),t.stopImmediatePropagation()})),Ho()}if(2&e){const e=Yo();Mo("column",e.column)("filter",e.filter)}}const bV=function(e){return{"k-grid-filter":!0,"k-state-active":e}},wV=function(e,t){return{service:e,column:t}};function CV(e,t){if(1&e&&Uo(0,5),2&e){const e=Yo(),t=Ro(6);Mo("ngTemplateOutlet",e.column.columnMenuTemplateRef||e.columnMenuTemplate||t)("ngTemplateOutletContext",ic(2,wV,e.service,e.column))}}function SV(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-sort",10,11),2&e){const e=Ro(1),t=Yo(2);Mo("kendoGridColumnMenuItem",e)("service",t.service)}}function xV(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-lock",10,12),2&e){const e=Ro(1),t=Yo(2);Mo("kendoGridColumnMenuItem",e)("service",t.service)}}function kV(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-stick",10,13),2&e){const e=Ro(1),t=Yo(2);Mo("kendoGridColumnMenuItem",e)("service",t.service)}}function EV(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-position",14,15),2&e){const e=Ro(1),t=Yo(2);Mo("showLock",t.hasLock)("showStick",t.hasStick)("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedPosition)}}function IV(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-chooser",16,17),2&e){const e=Ro(1),t=Yo(2);Mo("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedColumns)}}function TV(e,t){if(1&e&&Bo(0,"kendo-grid-columnmenu-filter",16,18),2&e){const e=Ro(1),t=Yo(2);Mo("kendoGridColumnMenuItem",e)("service",t.service)("expanded",t.expandedFilter)}}function _V(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-columnmenu-container",6),Ko("keydown.escape",(function(){return Qt(e),Yo().close()}))("keydown.enter",(function(t){return Qt(e),t.stopImmediatePropagation()})),Ao(1,SV,2,2,"kendo-grid-columnmenu-sort",7),Ao(2,xV,2,2,"kendo-grid-columnmenu-lock",7),Ao(3,kV,2,2,"kendo-grid-columnmenu-stick",7),Ao(4,EV,2,5,"kendo-grid-columnmenu-position",8),Ao(5,IV,2,3,"kendo-grid-columnmenu-chooser",9),Ao(6,TV,2,3,"kendo-grid-columnmenu-filter",9),Ho()}if(2&e){const e=Yo();ms(1),Mo("ngIf",e.hasSort),ms(1),Mo("ngIf",e.hasLock&&!e.hasPosition),ms(1),Mo("ngIf",e.hasStick&&!e.hasPosition),ms(1),Mo("ngIf",e.hasPosition),ms(1),Mo("ngIf",e.hasColumnChooser),ms(1),Mo("ngIf",e.hasFilter)}}const FV=function(e){return{"k-state-active":e}},DV=["kendoGridHeader",""];function AV(e,t){1&e&&Bo(0,"th",7)}function RV(e,t){1&e&&Bo(0,"th",8),2&e&&Mo("logicalRowIndex",Yo().index)("logicalColIndex",0)}function OV(e,t){if(1&e&&Bo(0,"kendo-grid-filter-menu",16),2&e){const e=Yo(3).$implicit,t=Yo(3);Mo("column",e)("filter",t.filter)("tabIndex",t.tabIndex)}}function PV(e,t){if(1&e&&Bo(0,"kendo-grid-column-menu",17),2&e){const e=Yo(3).$implicit,t=Yo(3);Mo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)("tabIndex",t.tabIndex)}}function NV(e,t){}function MV(e,t){1&e&&Ca(0),2&e&&Sa(Yo(3).$implicit.displayTitle)}const LV=function(e,t,i,n){return{templateRef:e,columnIndex:t,column:i,$implicit:n}};function VV(e,t){if(1&e&&(Ao(0,OV,1,3,"kendo-grid-filter-menu",13),Ao(1,PV,1,8,"kendo-grid-column-menu",14),Ao(2,NV,0,0,"ng-template",15),Ao(3,MV,1,1,"ng-template",0)),2&e){const e=Yo(2).$implicit,t=Yo(3);Mo("ngIf",t.showFilterMenu&&t.isFilterable(e)),ms(1),Mo("ngIf",t.showColumnMenu(e)),ms(1),Mo("templateContext",sc(4,LV,e.headerTemplateRef,e.leafIndex,e,e)),ms(1),Mo("ngIf",!e.headerTemplateRef)}}function HV(e,t){}function BV(e,t){if(1&e&&(Vo(0,"span",24),Ca(1),Ho()),2&e){const e=Yo(3).$implicit;ms(1),Sa(e.displayTitle)}}function zV(e,t){if(1&e&&(Vo(0,"span",25),Ca(1),Ho()),2&e){const e=Yo(3).$implicit,t=Yo(3);ms(1),Sa(t.sortOrder(e.field))}}function jV(e,t){if(1&e&&Bo(0,"kendo-grid-filter-menu",16),2&e){const e=Yo(3).$implicit,t=Yo(3);Mo("column",e)("filter",t.filter)("tabIndex",t.tabIndex)}}function UV(e,t){if(1&e&&Bo(0,"kendo-grid-column-menu",17),2&e){const e=Yo(3).$implicit,t=Yo(3);Mo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)("tabIndex",t.tabIndex)}}function GV(e,t){if(1&e){const e=Go();Vo(0,"span",18),Vo(1,"span",19,20),Ko("click",(function(t){Qt(e);const i=Ro(2),n=Yo(2).$implicit;return Yo(3).onSortClick(n,t,i)})),Ao(3,HV,0,0,"ng-template",15),Ao(4,BV,2,1,"ng-template",0),Bo(5,"span",21),Ao(6,zV,2,1,"span",22),Ho(),Bo(7,"span",23),Ao(8,jV,1,3,"kendo-grid-filter-menu",13),Ao(9,UV,1,8,"kendo-grid-column-menu",14),Ho()}if(2&e){const e=Yo(2).$implicit,t=Yo(3);ms(3),Mo("templateContext",sc(8,LV,e.headerTemplateRef,e.leafIndex,e,e)),ms(1),Mo("ngIf",!e.headerTemplateRef),ms(1),Mo("ngClass",t.sortIcon(e.field)),Fo("aria-label",t.sortableLabel),ms(1),Mo("ngIf",t.showSortNumbering(e)),ms(1),Mo("innerHtml",t.sortStatus(e),Wn),ms(1),Mo("ngIf",t.showFilterMenu&&t.isFilterable(e)),ms(1),Mo("ngIf",t.showColumnMenu(e))}}function qV(e,t){if(1&e&&Bo(0,"input",26),2&e){const e=Yo(5);Fo("id",e.selectAllCheckboxId())("aria-label",e.selectAllCheckboxLabel)}}function $V(e,t){if(1&e&&Bo(0,"span",27),2&e){const e=Yo(2).$implicit,t=Yo(3);Mo("column",e)("columns",t.columns)}}const KV=function(e,t,i,n){return{field:e,type:"column",column:t,hint:i,lastColumn:n}};function WV(e,t){if(1&e){const e=Go();Vo(0,"th",11),Ko("keydown",(function(t){Qt(e);const i=Yo().$implicit;return Yo(3).onHeaderKeydown(i,t)})),Ao(1,VV,4,9,"ng-template",0),Ao(2,GV,10,13,"ng-template",0),Ao(3,qV,1,2,"ng-template",0),Ao(4,$V,1,2,"span",12),Ho()}if(2&e){const e=Yo(),t=e.$implicit,i=e.index,n=e.last,s=Yo().index,r=Yo(2);ua("k-filterable",r.showFilterMenu&&r.isFilterable(t)||r.showColumnMenu(t))("k-first",r.isFirstOnRow(t,i))("k-grid-header-sticky",t.sticky),Mo("logicalRowIndex",s)("logicalColIndex",r.logicalColumnIndex(t))("headerLabelText",t.title||t.field)("colSpan",t.colspan)("rowSpan",t.rowspan(r.totalColumnLevels))("enableDrag",r.shouldActivate(t))("context",sc(22,KV,t.field,t,t.title||t.field,n&&0===i))("ngClass",t.headerClass)("ngStyle",t.sticky?r.addStickyStyles(t):t.headerStyle),Fo("aria-sort",r.sortState(t))("rowspan",t.rowspan(r.totalColumnLevels))("colspan",t.colspan),ms(1),Mo("ngIf",!r.isSortable(t)),ms(1),Mo("ngIf",r.isSortable(t)),ms(1),Mo("ngIf",r.isCheckboxColumn(t)&&!t.headerTemplateRef&&t.showSelectAll),ms(1),Mo("ngIf",r.resizable)}}function ZV(e,t){if(1&e&&Bo(0,"kendo-grid-column-menu",30),2&e){const e=Yo(2).$implicit,t=Yo(3);Mo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)}}function YV(e,t){}function QV(e,t){1&e&&Ca(0),2&e&&Sa(Yo(2).$implicit.displayTitle)}function JV(e,t){if(1&e&&Bo(0,"span",27),2&e){const e=Yo(2).$implicit,t=Yo(3);Mo("column",e)("columns",t.columns)}}const XV=function(e,t,i){return{type:"columnGroup",column:e,hint:t,lastColumn:i}};function eH(e,t){if(1&e&&(Vo(0,"th",28),Ao(1,ZV,1,4,"kendo-grid-column-menu",29),Ao(2,YV,0,0,"ng-template",15),Ao(3,QV,1,1,"ng-template",0),Ao(4,JV,1,2,"span",12),Ho()),2&e){const e=Yo(),t=e.$implicit,i=e.index,n=e.last,s=Yo().index,r=Yo(2);ua("k-first",r.isFirstOnRow(t,i))("k-filterable",r.showColumnMenu(t))("k-grid-content-sticky",t.sticky),Mo("logicalRowIndex",s)("logicalColIndex",r.logicalColumnIndex(t))("rowSpan",t.rowspan(r.totalColumnLevels))("colSpan",t.colspan)("headerLabelText",t.title||t.field)("enableDrag",r.shouldActivate(t))("context",nc(21,XV,t,t.title,n&&0===i))("ngClass",t.headerClass)("ngStyle",t.headerStyle),Fo("rowspan",t.rowspan(r.totalColumnLevels))("colspan",t.colspan),ms(1),Mo("ngIf",r.showColumnMenu(t)),ms(1),Mo("templateContext",sc(25,LV,t.headerTemplateRef,r.lockedColumnsCount+i,t,t)),ms(1),Mo("ngIf",!t.headerTemplateRef),ms(1),Mo("ngIf",r.resizable)}}function tH(e,t){if(1&e&&(Ao(0,WV,5,27,"th",9),Ao(1,eH,5,30,"th",10)),2&e){const e=t.$implicit,i=Yo(3);Mo("ngIf",!i.isColumnGroupComponent(e)),ms(1),Mo("ngIf",i.isColumnGroupComponent(e))}}function iH(e,t){if(1&e&&(Vo(0,"tr",3),Ao(1,AV,1,0,"th",4),Ao(2,RV,1,2,"th",5),Ao(3,tH,2,2,"ng-template",6),Ho()),2&e){const e=t.index,i=Yo(2);Mo("logicalRowIndex",e)("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),ms(1),Mo("ngForOf",i.groups),ms(1),Mo("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),ms(1),Mo("ngForOf",i.columnsForLevel(e))("ngForTrackBy",i.trackByIndex)}}function nH(e,t){if(1&e&&Bo(0,"tr",31),2&e){const e=Yo(2);Mo("columns",e.leafColumns)("filter",e.filter)("groups",e.groups)("detailTemplate",e.detailTemplate)("lockedColumnsCount",e.lockedColumnsCount)("logicalRowIndex",e.totalColumnLevels+1)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount)}}function sH(e,t){if(1&e&&(Ao(0,iH,4,8,"tr",1),Ao(1,nH,1,9,"tr",2)),2&e){const e=Yo();Mo("ngForOf",e.columnLevels),ms(1),Mo("ngIf",e.showFilterRow)}}const rH=["resetButton"],oH=["filterButton"];function aH(e,t){if(1&e&&(zo(0),Uo(1,9),jo()),2&e){const e=Yo();ms(1),Mo("filterService",e.childService)("column",e.column)("filter",e.childFilter)("menuTabbingService",e.menuTabbingService)}}function lH(e,t){}function cH(e,t){if(1&e&&Ao(0,lH,0,0,"ng-template",11),2&e){const e=Yo(2);Mo("ngTemplateOutlet",e.column.filterMenuTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function uH(e,t){if(1&e&&(zo(0),Ao(1,cH,1,2,void 0,10),jo()),2&e){const e=Yo();ms(1),Mo("ngIf",e.column.filterMenuTemplateRef)}}function hH(e,t){if(1&e){const e=Go();Vo(0,"kendo-dropdownlist",3),Ko("valueChange",(function(t){return Qt(e),Yo().logicChange(t)})),Ho()}if(2&e){const e=Yo();Mo("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function dH(e,t){if(1&e&&Bo(0,"kendo-grid-string-filter-menu-input",4),2&e){const e=Yo();Mo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("menuTabbingService",e.menuTabbingService)}}function pH(e,t){if(1&e){const e=Go();Vo(0,"kendo-dropdownlist",3),Ko("valueChange",(function(t){return Qt(e),Yo().logicChange(t)})),Ho()}if(2&e){const e=Yo();Mo("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function fH(e,t){if(1&e&&Bo(0,"kendo-grid-numeric-filter-menu-input",4),2&e){const e=Yo();Mo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("format",e.format)("decimals",e.decimals)("spinners",e.spinners)("min",e.min)("max",e.max)("step",e.step)("menuTabbingService",e.menuTabbingService)}}function gH(e,t){if(1&e){const e=Go();Vo(0,"kendo-dropdownlist",3),Ko("valueChange",(function(t){return Qt(e),Yo().logicChange(t)})),Ho()}if(2&e){const e=Yo();Mo("filterMenuDropDownLabel",e.filterMenuDropDownLabel)("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function mH(e,t){if(1&e&&Bo(0,"kendo-grid-date-filter-menu-input",4),2&e){const e=Yo();Mo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("format",e.format)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.min)("max",e.max)("weekNumber",e.weekNumber)("menuTabbingService",e.menuTabbingService)}}function vH(e,t){if(1&e){const e=Go();Vo(0,"li"),Vo(1,"input",2,3),Ko("change",(function(){Qt(e);const i=t.$implicit,n=Ro(2);return Yo().onChange(i.value,n)}))("keydown.shift.tab",(function(t){return Qt(e),Yo().onShiftTab(t)})),Ho(),Vo(3,"label",4),Ca(4),Ho(),Ho()}if(2&e){const e=t.$implicit,i=Yo();ms(1),Mo("columnLabel",i.columnLabel)("name",i.idPrefix)("checked",i.isSelected(e.value)),Fo("id",i.radioId(e.value)),ms(2),Fo("for",i.radioId(e.value)),ms(1),Sa(e.text)}}const yH=["applyButton"];function bH(e,t){if(1&e&&(Vo(0,"label",3),Bo(1,"input",4),Vo(2,"span",5),Ca(3),Ho(),Ho()),2&e){const e=t.$implicit,i=t.index,n=Yo();ms(1),Mo("checked",!e.hidden)("disabled",n.isDisabled(e)),Fo("data-index",i),ms(2),Sa(e.displayTitle)}}function wH(e,t){if(1&e){const e=Go();Vo(0,"div",6),Vo(1,"button",7),Ko("click",(function(){return Qt(e),Yo().cancelChanges()})),Ca(2),Ho(),Vo(3,"button",8,9),Ko("keydown.tab",(function(t){return Qt(e),Yo().onTab(t)}))("click",(function(){return Qt(e),Yo().applyChanges()})),Ca(5),Ho(),Ho()}if(2&e){const e=Yo();Mo("ngClass",e.actionsClass),ms(2),Sa(e.resetText),ms(3),Sa(e.applyText)}}function CH(e,t){if(1&e){const e=Go();Vo(0,"span",4),Ca(1),Ho(),Vo(2,"kendo-grid-columnlist",5),Ko("apply",(function(t){return Qt(e),Yo().onApply(t)}))("columnChange",(function(t){return Qt(e),Yo().onChange(t)})),Ho()}if(2&e){const e=Yo();ms(1),Sa(e.localization.get("columns")),ms(1),Mo("columns",e.columns)("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("autoSync",e.autoSync)("allowHideAll",e.allowHideAll)}}function SH(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-columnlist",2),Ko("apply",(function(t){return Qt(e),Yo().onApply(t)})),Ho()}if(2&e){const e=Yo();Mo("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)("service",e.service)}}function xH(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-filter-menu-container",2),Ko("keydown.shift.tab",(function(t){return Qt(e),t.stopImmediatePropagation()}))("close",(function(){return Qt(e),Yo().close()})),Ho()}if(2&e){const e=Yo();Mo("column",e.service.column)("menuTabbingService",e.service.menuTabbingService)("filter",e.service.filter)("actionsClass",e.actionsClass)("isLast",e.isLast)("isExpanded",e.expanded)}}function kH(e,t){1&e&&Bo(0,"span",3),2&e&&Mo("ngClass",Yo().iconClass)}function EH(e,t){if(1&e&&(Vo(0,"div",4),Uo(1,5),Bo(2,"div"),Ho()),2&e){const e=Yo();Mo("@state",e.contentState),ms(1),Mo("ngTemplateOutlet",e.contentTemplate.templateRef)}}function IH(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-columnmenu-lock",3),Ko("keydown.tab",(function(t){Qt(e);const i=Yo(2);return i.onTab(t,!i.showStick)})),Ho()}2&e&&Mo("service",Yo(2).service)}function TH(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-columnmenu-stick",3),Ko("keydown.tab",(function(t){return Qt(e),Yo(2).onTab(t,!0)})),Ho()}2&e&&Mo("service",Yo(2).service)}function _H(e,t){if(1&e&&(Ao(0,IH,1,1,"kendo-grid-columnmenu-lock",2),Ao(1,TH,1,1,"kendo-grid-columnmenu-stick",2)),2&e){const e=Yo();Mo("ngIf",e.showLock),ms(1),Mo("ngIf",e.showStick)}}const FH=["kendoGridTableBody",""];function DH(e,t){1&e&&Bo(0,"td",8)}function AH(e,t){1&e&&Ao(0,DH,1,0,"td",7),2&e&&Mo("ngForOf",Yo(2).groups)}function RH(e,t){1&e&&Bo(0,"td",9),2&e&&Mo("logicalRowIndex",Yo(2).addRowLogicalIndex())("logicalColIndex",0)}function OH(e,t){if(1&e&&Bo(0,"td",10),2&e){const e=t.$implicit,i=t.index,n=Yo(2);ca("left",e.sticky?"0":void 0),ua("k-grid-content-sticky",e.sticky),Mo("rowIndex",-1)("columnIndex",n.lockedColumnsCount+i)("isNew",!0)("column",e)("dataItem",n.newDataItem)("ngClass",e.cssClass)("ngStyle",e.sticky?n.addStickyColumnStyles(e):e.style)("logicalRowIndex",n.addRowLogicalIndex())("logicalColIndex",n.logicalColIndex(e))("colSpan",e.colspan),Fo("colspan",e.colspan)}}function PH(e,t){if(1&e&&(Vo(0,"tr",4),Ao(1,AH,1,1,"ng-template",0),Ao(2,RH,1,2,"td",5),Ao(3,OH,1,15,"td",6),Ho()),2&e){const e=Yo();Mo("logicalRowIndex",e.addRowLogicalIndex())("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount),ms(1),Mo("ngIf",!e.skipGroupDecoration),ms(1),Mo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),ms(1),Mo("ngForOf",e.columns)("ngForTrackBy",e.trackByColumns)}}function NH(e,t){}function MH(e,t){if(1&e&&(zo(0),Ca(1),jo()),2&e){const e=Yo(2);ms(1),xa(" ",e.noRecordsText," ")}}const LH=function(e){return{templateRef:e}};function VH(e,t){if(1&e&&(Vo(0,"tr",11),Vo(1,"td"),Ao(2,NH,0,0,"ng-template",12),Ao(3,MH,2,1,"ng-container",13),Ho(),Ho()),2&e){const e=Yo();ms(1),Fo("colspan",e.colSpan),ms(1),Mo("ngIf",null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef)("templateContext",tc(4,LH,null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef)),ms(1),Mo("ngIf",!(null!=e.noRecordsTemplate&&e.noRecordsTemplate.templateRef))}}function HH(e,t){if(1&e&&Bo(0,"tr",18),2&e){const e=Yo(),t=e.$implicit,i=e.index,n=Yo();Mo("columns",n.columns)("groups",n.groups)("item",t)("hasDetails",null==n.detailTemplate?null:n.detailTemplate.templateRef)("skipGroupDecoration",n.skipGroupDecoration)("hasGroupHeaderColumn",n.hasGroupHeaderColumn)("groupHeaderColumns",n.groupHeaderColumns)("rowIndex",i+1)("totalColumnsCount",n.totalColumnsCount)("logicalRowIndex",n.logicalRowIndex(i))("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.groupHeaderSlaveCellsCount)}}function BH(e,t){1&e&&Bo(0,"td",8)}function zH(e,t){1&e&&Ao(0,BH,1,0,"td",7),2&e&&Mo("ngForOf",Yo(3).groups)}function jH(e,t){if(1&e){const e=Go();Vo(0,"a",24),Ko("click",(function(){Qt(e);const t=Yo(3).$implicit;return Yo().toggleRow(t.index,t.data)})),Ho()}if(2&e){const e=Yo(3).$implicit,t=Yo();Mo("ngClass",t.detailButtonStyles(e)),Fo("title",t.detailButtonTitle(e))}}function UH(e,t){if(1&e&&(Vo(0,"td",22),Ao(1,jH,1,2,"a",23),Ho()),2&e){const e=Yo(2),t=e.index,i=e.$implicit,n=Yo();Mo("logicalRowIndex",n.logicalRowIndex(t))("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("detailExpandCell",!0),ms(1),Mo("ngIf",n.detailTemplate.showIf(i.data,i.index))}}function GH(e,t){if(1&e&&Bo(0,"td",25),2&e){const e=t.$implicit,i=t.index,n=Yo(2),s=n.$implicit,r=n.index,o=Yo();ua("k-grid-content-sticky",e.sticky)("k-touch-action-none",o.isSelectable()&&o.selectable.drag)("k-touch-action-auto",!(o.isSelectable()&&o.selectable.drag))("k-grid-edit-cell",o.isEditingCell(s.index,e))("k-state-selected",o.isSelectable&&o.cellSelectionService.isCellSelected(s,e)),Mo("rowIndex",s.index)("columnIndex",o.lockedColumnsCount+i)("column",e)("dataItem",s.data)("logicalRowIndex",o.logicalRowIndex(r))("logicalColIndex",o.logicalColIndex(e))("dataRowIndex",s.index)("dataItem",s.data)("colIndex",i)("colSpan",e.colspan)("ngClass",e.cssClass)("ngStyle",e.sticky?o.addStickyColumnStyles(e):e.style),Fo("data-kendo-grid-column-index",o.lockedColumnsCount+i)("aria-selected",o.isSelectable()?o.isAriaSelected(s,e):void 0)("colspan",e.colspan)}}const qH=function(e,t){return{dataItem:e,index:t}};function $H(e,t){if(1&e&&(Vo(0,"tr",19),Ao(1,zH,1,1,"ng-template",0),Ao(2,UH,2,6,"td",20),Ao(3,GH,1,25,"td",21),Ho()),2&e){const e=Yo(),t=e.$implicit,i=e.index,n=Yo();ua("k-grid-row-sticky",!!n.rowSticky&&n.rowSticky(ic(22,qH,t.data,t.index)))("k-alt",n.isOdd(t))("k-master-row",null==n.detailTemplate?null:n.detailTemplate.templateRef)("k-grid-edit-row",n.isEditingRow(t.index))("k-state-selected",n.isSelectable()&&n.isRowSelected(t)),Mo("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",n.logicalRowIndex(i))("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount)("ngClass",n.rowClass(ic(25,qH,t.data,t.index))),Fo("data-kendo-grid-item-index",t.index),ms(1),Mo("ngIf",!n.skipGroupDecoration),ms(1),Mo("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),ms(1),Mo("ngForOf",n.columns)("ngForTrackBy",n.trackByColumns)}}function KH(e,t){1&e&&Bo(0,"td",31)}function WH(e,t){}const ZH=function(e,t,i){return{dataItem:e,rowIndex:t,$implicit:i}};function YH(e,t){if(1&e&&(Vo(0,"tr",26),Ao(1,KH,1,0,"td",27),Bo(2,"td",28),Vo(3,"td",29),Ao(4,WH,0,0,"ng-template",30),Ho(),Ho()),2&e){const e=Yo(),t=e.$implicit,i=e.index,n=Yo();ua("k-alt",n.isOdd(t)),Mo("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",n.logicalRowIndex(i)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),ms(1),Mo("ngForOf",n.groups),ms(2),Mo("logicalRowIndex",n.logicalRowIndex(i)+1)("logicalColIndex",0)("dataRowIndex",t.index)("dataItem",t.data)("colIndex",0)("colSpan",n.allColumnsSpan+1),Fo("colspan",n.columnsSpan),ms(1),Mo("ngTemplateOutlet",n.detailTemplate.templateRef)("ngTemplateOutletContext",nc(17,ZH,t.data,t.index,t.data))}}function QH(e,t){1&e&&Bo(0,"td",31)}function JH(e,t){1&e&&Ao(0,QH,1,0,"td",27),2&e&&Mo("ngForOf",Yo(3).groups)}function XH(e,t){if(1&e&&Bo(0,"td",9),2&e){const e=Yo(2).index;Mo("logicalRowIndex",Yo().logicalRowIndex(e))("logicalColIndex",0)}}function eB(e,t){}const tB=function(e,t,i,n,s,r){return{templateRef:e,group:t,field:i,column:n,aggregates:s,$implicit:r}};function iB(e,t){if(1&e&&(Vo(0,"td",34),Ao(1,eB,0,0,"ng-template",35),Ho()),2&e){const e=t.$implicit,i=Yo(2),n=i.index,s=i.$implicit,r=Yo();Mo("logicalRowIndex",r.logicalRowIndex(n))("logicalColIndex",r.logicalColIndex(e)),Fo("data-skip",r.skipGroupDecoration),ms(1),Mo("templateContext",rc(4,tB,e.groupFooterTemplateRef,s.data,e.field,e,null==s.data?null:s.data.aggregates,null==s.data?null:s.data.aggregates))}}function nB(e,t){if(1&e&&(Vo(0,"tr",32),Ao(1,JH,1,1,"ng-template",0),Ao(2,XH,1,2,"td",5),Ao(3,iB,2,11,"td",33),Ho()),2&e){const e=Yo().index,t=Yo();Mo("logicalRowIndex",t.logicalRowIndex(e))("logicalSlaveRow",t.lockedColumnsCount>0)("logicalCellsCount",t.columns.length)("logicalSlaveCellsCount",t.unlockedColumnsCount),ms(1),Mo("ngIf",!t.skipGroupDecoration),ms(1),Mo("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),ms(1),Mo("ngForOf",t.footerColumns)("ngForTrackBy",t.trackByColumns)}}function sB(e,t){if(1&e&&(Ao(0,HH,1,13,"tr",14),Ao(1,$H,4,28,"tr",15),Ao(2,YH,5,21,"tr",16),Ao(3,nB,4,8,"tr",17)),2&e){const e=t.$implicit,i=Yo();Mo("ngIf",i.isGroup(e)&&i.isParentGroupExpanded(e)&&i.showGroupHeader(e)),ms(1),Mo("ngIf",i.isDataItem(e)&&(!e.group||i.isDataItemInExpandedGroup(e))),ms(1),Mo("ngIf",i.isDataItem(e)&&(!e.group||i.isDataItemInExpandedGroup(e))&&(null==i.detailTemplate?null:i.detailTemplate.templateRef)&&i.detailTemplate.showIf(e.data,e.index)&&i.isExpanded(e)),ms(1),Mo("ngIf",i.isFooter(e)&&e.group&&(i.isFooterItemInExpandedGroup(e)||i.showGroupFooters&&i.isParentGroupExpanded(e.group))&&!e.data.hideFooter)}}function rB(e,t){if(1&e){const e=Go();Vo(0,"kendo-resize-sensor",36),Ko("resize",(function(){return Qt(e),Yo().resizeHandler()})),Ho()}}const oB=["kendoGridCell",""];function aB(e,t){}function lB(e,t){if(1&e&&(Ca(0),uc(1,"valueOf")),2&e){const e=t.$implicit;xa(" ",dc(1,1,Yo(3).dataItem,e.field,e.format)," ")}}function cB(e,t){1&e&&Ao(0,lB,2,5,"ng-template",4),2&e&&Mo("ngForOf",Yo(2).childColumns)}function uB(e,t){if(1&e&&(Ca(0),uc(1,"valueOf")),2&e){const e=Yo(2);Sa(dc(1,1,e.dataItem,e.column.field,e.column.format))}}function hB(e,t){if(1&e&&Bo(0,"input",5),2&e){const e=Yo(2);Mo("kendoGridSelectionCheckbox",e.rowIndex),Fo("id",e.selectionCheckboxId)("aria-label",e.selectionCheckboxLabel)}}function dB(e,t){if(1&e&&(zo(0),Ao(1,aB,0,0,"ng-template",2),Ao(2,cB,1,1,"ng-template",3),Ao(3,uB,2,5,"ng-template",3),Ao(4,hB,1,3,"ng-template",3),jo()),2&e){const e=Yo();ms(1),Mo("ngIf",e.column.templateRef)("ngTemplateOutlet",e.column.templateRef)("ngTemplateOutletContext",e.templateContext),ms(1),Mo("ngIf",e.isSpanColumn),ms(1),Mo("ngIf",e.isBoundColumn),ms(1),Mo("ngIf",e.isCheckboxColumn&&!e.isNew)}}function pB(e,t){}function fB(e,t){if(1&e&&Ao(0,pB,0,0,"ng-template",8),2&e){const e=Yo(2);Mo("ngTemplateOutlet",e.column.editTemplateRef)("ngTemplateOutletContext",e.editTemplateContext)}}function gB(e,t){if(1&e&&Bo(0,"kendo-numerictextbox",12),2&e){const e=Yo(3);Mo("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function mB(e,t){if(1&e&&Bo(0,"kendo-datepicker",12),2&e){const e=Yo(3);Mo("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function vB(e,t){if(1&e&&Bo(0,"input",13),2&e){const e=Yo(3);Mo("formControl",e.formGroup.get(e.column.field))}}function yB(e,t){if(1&e&&Bo(0,"input",14),2&e){const e=Yo(3);Mo("formControl",e.formGroup.get(e.column.field))}}function bB(e,t){1&e&&(zo(0,0),Ao(1,gB,1,2,"kendo-numerictextbox",9),Ao(2,mB,1,2,"kendo-datepicker",9),Ao(3,vB,1,1,"input",10),Ao(4,yB,1,1,"input",11),jo()),2&e&&(Mo("ngSwitch",Yo(2).column.editor),ms(1),Mo("ngSwitchCase","numeric"),ms(1),Mo("ngSwitchCase","date"),ms(1),Mo("ngSwitchCase","boolean"))}function wB(e,t){if(1&e&&(zo(0),Ao(1,fB,1,2,void 0,6),Ao(2,bB,5,4,"ng-container",7),jo()),2&e){const e=Yo();ms(1),Mo("ngIf",e.column.editTemplateRef),ms(1),Mo("ngIf",!e.column.editTemplateRef)}}const CB=["kendoGridFooter",""];function SB(e,t){1&e&&Bo(0,"td",5),2&e&&ua("k-group-cell",!0)}function xB(e,t){1&e&&Bo(0,"td",5),2&e&&ua("k-hierarchy-cell",!0)}function kB(e,t){}function EB(e,t){if(1&e&&(Vo(0,"td",6),Ao(1,kB,0,0,"ng-template",7),Ho()),2&e){const e=t.$implicit,i=t.index,n=Yo(2);ua("k-grid-footer-sticky",e.sticky),Mo("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",n.logicalColumnIndex(e))("ngClass",e.footerClass)("ngStyle",e.sticky?n.addStickyStyles(e):e.footerStyle),ms(1),Mo("templateContext",sc(7,LV,e.footerTemplateRef,n.lockedColumnsCount+i,e,e))}}function IB(e,t){if(1&e&&(Vo(0,"tr",1),Ao(1,SB,1,2,"td",2),Ao(2,xB,1,2,"td",3),Ao(3,EB,2,12,"td",4),Ho()),2&e){const e=Yo();ua("k-footer-template",!0),Mo("logicalRowIndex",e.logicalRowIndex)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.columns.length-e.lockedColumnsCount),ms(1),Mo("ngForOf",e.groups),ms(1),Mo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),ms(1),Mo("ngForOf",e.columnsToRender)}}function TB(e,t){}function _B(e,t){if(1&e&&Ao(0,TB,0,0,"ng-template",1),2&e){const e=Yo();Mo("ngTemplateOutlet",e.toolbarTemplateRef)("ngTemplateOutletContext",e.context)}}const FB=/^\s*$/,DB=e=>null!=e,AB=e=>null==e,RB=e=>Array.isArray(e),OB=e=>!!e,PB=e=>AB(e)||FB.test(e),NB=e=>K(tg(e),e.changes),MB=()=>"undefined"==typeof document,LB=e=>"string"==typeof e,VB=e=>"number"==typeof e&&!isNaN(e),HB=e=>LB(e)&&!PB(e)&&e.startsWith("{0:")?e.slice(3,e.length-1):e,BB=e=>(...t)=>!e.apply(null,t),zB=(...e)=>t=>e.reduce((e,i)=>e||i(t),!1),jB=(...e)=>t=>e.reduce((e,i)=>e&&i(t),!0),UB=GB();function GB(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype;for(let i=0;i<e.length;++i){const n=e[i];if("entries"!==n&&"size"!==n&&t[n]===t.entries)return n}}const qB="undefined"!=typeof window?window:{},$B=qB.requestAnimationFrame||qB.msRequestAnimationFrame||(e=>setTimeout(e,1e3/60)),KB=qB.cancelAnimationFrame||qB.msCancelRequestAnimationFrame||clearTimeout,WB=(e,t,i)=>e.replace(new RegExp(`{\\s*${t}\\s*}`,"g"),i);let ZB=(()=>{let e=class{constructor(){this.cellClick=new gc,this.cellMousedown=new gc,this.cellMouseup=new gc,this.click=new gc,this.keydown=new gc,this.focus=new gc,this.focusIn=new gc,this.focusOut=new gc,this.windowBlur=new gc}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),YB=(()=>{let e=class{constructor(){this.changes=new gc}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const QB=new Ve("focus-root-initial-active-state");let JB=(()=>{let e=class{constructor(e=!1){this.active=e,this.groups=new Set}registerGroup(e){this.active&&this.groups.add(e)}unregisterGroup(e){this.active&&this.groups.delete(e)}activate(){this.active&&this.groups.forEach(e=>e.activate())}deactivate(){this.active&&this.groups.forEach(e=>e.deactivate())}};return e.\u0275fac=function(t){return new(t||e)(We(QB,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const XB=/^(?:a|input|select|option|textarea|button|object)$/i,ez={},tz=e=>String(e).trim().split(" "),iz=(e,t)=>{const i=tz(t);return Boolean(tz(e.className).find(e=>i.indexOf(e)>=0))},nz=e=>t=>iz(t,e),sz=e=>(ez[e]||(ez[e]=t=>String(t.nodeName).toLowerCase()===e.toLowerCase()),ez[e]),rz=(e,t)=>{for(;e&&!t(e);)e=e.parentNode;return e},oz=(e,t,i)=>{for(;e&&e!==i&&!t(e);)e=e.parentNode;if(e!==i)return e},az=e=>{const t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility},lz=e=>{if(!e.tagName)return!1;const t=e.tagName.toLowerCase(),i=Boolean(e.getAttribute("tabIndex"));return!e.disabled&&XB.test(t)||i},cz=(e,t=!0)=>{if(!lz(e))return!1;const i=!t||az(e),n="true"===e.getAttribute("aria-hidden"),s=e.getAttribute("tabIndex");return i&&!n&&"-1"!==s},uz=(e,t,i=!0)=>{if(e){if(i&&t(e))return e;for(e=e.firstChild;e;){if(1===e.nodeType){const i=uz(e,t);if(i)return i}e=e.nextSibling}}},hz=(e,t=!0)=>uz(e,e=>cz(e,t),!1),dz=sz("button"),pz=sz("input"),fz=/(button|checkbox|color|file|radio|reset|submit)/i;class gz{constructor(e,t){this.renderer=t,this.element=e.nativeElement,this.focusable=((e,t=!0)=>uz(this.element,e=>cz(e,t)))(0,!1)||this.element}get enabled(){return this.focusable&&!this.focusable.disabled}get visible(){return this.focusable&&az(this.focusable)}isNavigable(){return this.canFocus()&&!(e=this.element).disabled&&(dz(e)||(e=>pz(e)&&fz.test(e.type))(e));var e}toggle(e){this.renderer.setAttribute(this.focusable,"tabIndex",e?"0":"-1")}focus(){this.focusable&&this.focusable.focus()}canFocus(){return this.visible&&this.enabled}hasFocus(){return document.activeElement!==this.element&&rz(document.activeElement,e=>e===this.element)}}const mz=new Ve("grid-cell-context");let vz=(()=>{let e=class{constructor(e,t,i){this.cellContext=e,this.hostElement=t,this.renderer=i,this.active=!0,this._enabled=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}set enabled(e){(e=""===e||Boolean(e))!==this.enabled&&(this._enabled=e,this.element&&this.element.toggle(this.active&&e))}get enabled(){return this._enabled}ngAfterViewInit(){this.element||(this.element=new gz(this.hostElement,this.renderer)),this.group&&this.element&&this.toggle(this.group.isActive)}ngOnDestroy(){this.group&&this.group.unregisterElement(this)}toggle(e){this.element&&e!==this.active&&(this.element.toggle(this.enabled&&e),this.active=e)}canFocus(){return this.enabled&&this.element&&this.element.canFocus()}isNavigable(){return this.enabled&&this.element&&this.element.isNavigable()}focus(){this.enabled&&this.element&&this.element.focus()}hasFocus(){return this.enabled&&this.element&&this.element.hasFocus()}registerElement(e){this.element=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(mz,12),Oo(Wa),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]],inputs:{enabled:["kendoGridFocusable","enabled"]}}),e})();class yz{constructor(e){this.navigationService=e}focus(){this.navigationService.focusCell()}toggle(e){this.navigationService.toggle(e)}canFocus(){return!0}hasFocus(){return this.navigationService.hasFocus()}isNavigable(){return!1}}class bz{constructor(e){this.model=e,this.changes=new E,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}get row(){return this.model.findRow(this.activeRow)}get cell(){const e=this.row;if(e)return this.model.findCell(this.activeCol,e)}get dataRowIndex(){const e=this.row;return e?e.dataRowIndex:-1}reset(e=this.activeRow,t=this.activeCol,i=!0){this.activate(e,t,i)&&(this.virtualRow=e,this.virtualCol=t)}activate(e,t,i){if(!i&&this.isActiveRange(e,t))return!1;const n=this.activeCol,s=this.activeRow;return this.activeCol=t,this.activeRow=e,this.changes.next({colIndex:t,prevColIndex:n,prevRowIndex:s,rowIndex:e}),!0}isActiveRange(e,t){if(this.activeRow!==e)return!1;const i=this.cell,{start:n,end:s}=this.model.cellRange(i);return!Boolean(i)||n<=t&&t<=s}assume(e=this.activeRow,t=this.activeCol){this.virtualRow=e,this.virtualCol=t,this.activeCol=t,this.activeRow=e}announce(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}activateVirtualCell(e){const t=this.model.rowRange(e),i=this.model.cellRange(e),n=this.activeCol,s=this.activeRow;if(t.start<=s&&s<=t.end&&i.start<=n&&n<=i.end)return this.activeRow=e.rowIndex,this.activeCol=e.colIndex,!0}isActive(e,t){return this.activeCol===t&&this.activeRow===e}moveUp(e=1){return this.offsetRow(-e)}moveDown(e=1){return this.offsetRow(e)}moveLeft(e=1){return this.offsetCol(-e)}moveRight(e=1){return this.offsetCol(e)}lastCellIndex(e){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||e&&e.groupItem?0:1)}offsetCol(e){const t=this.model.findRow(this.virtualRow),i=this.lastCellIndex(t),n=this.virtualCol;this.virtualCol=Math.max(0,Math.min(n+e,i));let s=this.virtualCol,r=this.virtualRow,o=this.model.findCell(this.virtualCol,t);if(!o&&this.metadata.virtualColumns)return this.activate(r,s);if(o.colSpan>1&&o.colIndex<=n&&n<o.colIndex+o.colSpan){s=e>0?Math.min(o.colIndex+o.colSpan,i):Math.max(0,o.colIndex+e);const r=this.model.findCell(s,t);o!==r?(o=r,this.virtualCol=o.colIndex):this.virtualCol=n}return this.activate(o.rowIndex,o.colIndex)}offsetRow(e){let t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){const i=this.metadata.maxLogicalRowIndex;let n=Math.max(0,Math.min(this.activeRow+e,i));this.metadata.hasDetailTemplate&&!this.model.findRow(n)&&(n=e>0?n+1:n-1,n=Math.max(0,Math.min(n,i))),this.metadata.hasDetailTemplate&&n===i&&this.model.lastRow.index!==i&&n--;const s=this.model.findRow(n);if(s){let i=this.model.findCell(this.virtualCol,s);i.rowIndex<=this.virtualRow&&e>0&&i.rowSpan>1&&(i=this.model.findCell(this.virtualCol,this.model.findRow(i.rowIndex+i.rowSpan-1+e))),n=i.rowIndex,t=i.colIndex}return this.virtualRow=n,this.activate(n,t)}const i=this.model.findRow(this.virtualRow+e)||this.model.nextRow(this.virtualRow,e);if(!i)return!1;let n=this.model.findCell(this.virtualCol,i);return n&&n.rowIndex<=this.virtualRow&&e>0&&n.rowSpan>1&&(n=this.model.findCell(this.virtualCol,this.model.findRow(n.rowIndex+n.rowSpan-1+e))),!n&&this.metadata.virtualColumns?this.activate(this.virtualRow+e,this.virtualCol):(this.virtualRow=n.rowIndex,this.activate(this.virtualRow,n.colIndex))}}class wz{constructor(){this.count=0,this.items={}}get first(){if(this.count>0){let e;return this.forEach(t=>(e=t,!0)),e}}get last(){if(this.count>0){const e=Object.keys(this.items);return this.items[e[e.length-1]]}}removeItem(e){this.items[e]&&(delete this.items[e],this.count--)}setItem(e,t){this.items[e]||this.count++,this.items[e]=t}getItem(e){return this.items[e]}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}forEach(e){for(let t in this.items)if(this.items.hasOwnProperty(t)&&e(this.items[t]))return this.items[t]}find(e){return this.forEach(e)}}class Cz{constructor(){this.rows=new wz}get firstRow(){return this.rows.first}get lastRow(){return this.rows.last}registerCell(e){const t=this.rows.getItem(e.logicalRowIndex);if(!t)return;const i=e.logicalColIndex,n={uid:e.uid,colIndex:i,rowIndex:t.index,colSpan:e.colSpan,rowSpan:e.rowSpan,detailExpandCell:e.detailExpandCell,dataItem:t.dataItem,dataRowIndex:t.dataRowIndex,focusGroup:e.focusGroup};return t.cells.setItem(i,n),e.groupItem&&(t.groupItem=e.groupItem),n}unregisterCell(e,t,i){const n=this.rows.getItem(t);if(n){const t=n.cells.getItem(e);t&&t.uid===i.uid&&n.cells.removeItem(e)}}registerRow(e){const t={uid:e.uid,index:e.logicalRowIndex,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,cells:new wz};this.rows.setItem(e.logicalRowIndex,t)}updateRow(e){const t=this.rows.getItem(e.logicalRowIndex);t&&Object.assign(t,{dataItem:e.dataItem,dataRowIndex:e.dataRowIndex})}unregisterRow(e,t){const i=this.rows.getItem(e);i&&i.uid===t.uid&&this.rows.removeItem(e)}cellRange(e){return e?{start:e.colIndex,end:e.colIndex+(e.colSpan||1)-1}:{}}rowRange(e){return e?{start:e.rowIndex,end:e.rowIndex+(e.rowSpan||1)-1}:{}}nextRow(e,t){const i=this.rows.toArray(),n=this.rows.getItem(e),s=i.indexOf(n);return i[s+t]}findRow(e){return this.rows.getItem(e)}findCell(e,t){if(!t)return;const i=t.index;let n=t.cells.getItem(e),s=i;for(;!n&&t;)t=this.rows.getItem(s),n=this.rowCell(e,t),s--;return n&&i<=t.index+(n.rowSpan||1)-1?n:void 0}rowCell(e,t){if(!t||!t.cells.count)return;const i=t.cells.first;let n,s=e;for(;!n&&s>=i.colIndex;)n=t.cells.getItem(s),s--;return n&&e<=n.colIndex+(n.colSpan||1)-1?n:void 0}}class Sz{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class xz extends Sz{constructor(e){super(),this.action="cellClose",Object.assign(this,e)}}const kz=e=>-1===e||void 0===e;let Ez=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new gc,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new E,this.changed=this.changedSource.asObservable().pipe(Ng(()=>this.ngZone.onStable.asObservable().pipe(Fg(1))))}editRow(e,t){this.editedIndices.push({index:e,group:t}),this.onChanged()}addRow(e){this.newItemGroup={group:e},this.onChanged()}editCell(e,t,i){kz(e)||!1===t.editable||!t.editTemplate&&!t.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,i),this.column=t,this.onChanged()))}isEditing(){return this.editedIndices.length>0}isEditingCell(){return this.isEditing()&&void 0!==this.column}get hasNewItem(){return DB(this.newItemGroup)}get newDataItem(){return this.hasNewItem?this.newItemGroup.group.value:{}}close(e){kz(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter((e=>t=>t.index!==e)(e)),delete this.column,this.onChanged())}closeCell(e){if(this.column&&!this.closingCell)return this.ngZone.run(()=>{const{index:t,group:i}=this.editedIndices[0],n=new xz({column:this.column,formGroup:i,originalEvent:e,rowIndex:t});return this.closingCell=!0,this.changes.emit(n),this.closingCell=!1,n.isDefaultPrevented()||this.cancelCell(),n.isDefaultPrevented()})}cancelCell(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}shouldCloseCell(){return this.column&&!this.keepEditCell}preventCellClose(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.keepCellTimeout),this.keepEditCell=!0,this.keepCellTimeout=window.setTimeout(()=>{this.keepEditCell=!1},0)})}context(e){return kz(e)?this.newItemGroup:this.findByIndex(e)}columnContext(e,t){return kz(e)?this.newItemGroup:this.column&&t!==this.column?void 0:this.findByIndex(e)}isEdited(e){return!(!kz(e)||!DB(this.newItemGroup))||!this.column&&DB(this.findByIndex(e))}hasEdited(e){return DB(this.context(e))}isEditedColumn(e,t){return!(!this.column||this.column!==t)&&DB(this.findByIndex(e))}beginEdit(e){this.changes.emit({action:"edit",rowIndex:e})}beginAdd(){this.changes.emit({action:"add"})}endEdit(e){const{group:t}=this.context(e);this.changes.emit({action:"cancel",rowIndex:e,formGroup:t,isNew:kz(e)})}save(e){const{group:t}=this.context(e);this.changes.emit({action:"save",rowIndex:e,formGroup:t,isNew:kz(e)})}remove(e){this.changes.emit({action:"remove",rowIndex:e})}findByIndex(e){return this.editedIndices.find((e=>t=>t.index===e)(e))}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}};return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Iz=e=>DB(e)?{group:e.data,groupIndex:e.index,parentGroup:Iz(e.parentGroup)}:null;let Tz=(()=>{let e=class{constructor(){this.changes=new E,this.rowState=new Set}reset(){this.rowState.clear()}ngOnDestroy(){this.reset()}isExpanded(e){return this.userCallback?this.userCallback(e):!this.rowState.has(e.groupIndex)}isInExpandedGroup(e){let t=!0;for(;e&&t;)t=this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:Iz(e.parentGroup)}),e=e.parentGroup;return t}toggleRow(e){const t=Iz(e.parentGroup),i=!this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:t});this.changes.next({group:e.data,expand:i,groupIndex:e.index,parentGroup:t}),this.userCallback||(i?this.rowState.delete(e.index):this.rowState.add(e.index))}expandChildren(e){this.rowState.forEach(t=>((e,t)=>t!==e&&e.startsWith(t))(t,e)&&this.rowState.delete(t))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),_z=(()=>{class e{constructor(){this.changes=new E,this.pageChange=new E}get currentPage(){return this.skip/this.pageSize}notifyChanges(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.changes.next(e)}changePage(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}changePageSize(e){this.pageChange.next({skip:0,take:e})}nextPage(){const e=this.currentPage+1;e*this.pageSize<this.total&&this.changePage(e)}prevPage(){const e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class Fz extends Sz{constructor(e){super(),Object.assign(this,e)}}class Dz extends Sz{constructor(e){super(),Object.assign(this,e)}}let Az=(()=>{let e=class{constructor(){this.changes=new E,this.rowState=new Set}ngOnDestroy(){this.rowState.clear()}isExpanded(e,t){return this.userCallback?this.userCallback({index:e,dataItem:t}):this.rowState.has(e)}toggleRow(e,t){this.isExpanded(e,t)?this.collapseRow(e,t):this.expandRow(e,t)}expandRow(e,t){this.emitEvent({dataItem:t,index:e,expand:!0})||this.userCallback||this.rowState.add(e)}collapseRow(e,t){this.emitEvent({dataItem:t,index:e,expand:!1})||this.userCallback||this.rowState.delete(e)}emitEvent(e){const t=new(e.expand?Dz:Fz)(e);return this.changes.next(t),t.isDefaultPrevented()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Rz=(()=>{let e=class{constructor(){this.requests=new E}scrollTo(e){this.requests.next(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Oz=(e,t)=>rz(e,sz("kendo-grid"))===t,Pz=sz("th"),Nz=sz("td"),Mz=sz(".k-grid-footer td"),Lz=e=>Nz(e)||Pz(e)||Mz(e),Vz=(e,t)=>{const i=((e,t)=>{let i=rz(e,Lz);for(;i&&!Oz(i,t);)i=rz(i.parentElement,Lz);return i})(e,t),n=rz(i,sz("tr"));if(i&&n){let e=n.getAttribute("aria-rowindex");e=e?parseInt(e,10)-1:null;let t=i.getAttribute("aria-colindex");if(t=t?parseInt(t,10)-1:null,null!==e&&null!==t)return{colIndex:t,rowIndex:e,element:i}}},Hz=e=>(e=>e===_b.ArrowLeft||e===_b.ArrowRight||e===_b.ArrowUp||e===_b.ArrowDown)(e)||e===_b.PageUp||e===_b.PageDown||e===_b.Home||e===_b.End,Bz=sz("input");class zz{constructor(e,t){this.firstItemIndex=e,this.lastItemIndex=t}containsRow(e){return e<0||e>=this.firstItemIndex&&e<=this.lastItemIndex}intersects(e,t){return e<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=e&&e<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}let jz=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,u){this.zone=e,this.domEvents=t,this.pagerContextService=i,this.scrollRequestService=n,this.groupsService=s,this.detailsService=r,this.focusRoot=o,this.editService=a,this.cd=l,this.localization=c,this.focusableParent=u,this.cellKeydown=new gc,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new Cz,this.cursor=new bz(this.model),this.changes=this.cursor.changes}set metadata(e){this.meta=e,this.cursor.metadata=e}get metadata(){return this.meta}get enabled(){return this.alive}get activeCell(){if(0!==this.mode)return this.cursor.cell}get activeRow(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}get activeDataRow(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}init(e){this.alive=!0,this.focusRoot.active=!0,this.metadata=e;const t=(...e)=>t=>this.zone.isStable?z([!0]).pipe(L(()=>t)):this.zone.onStable.pipe(Fg(1),L(()=>t),...e),i=t();if(this.subs=new h,this.subs.add(this.cursor.changes.subscribe(e=>this.onCursorChanges(e))),this.subs.add(this.domEvents.focus.pipe(Ng(i)).subscribe(e=>this.navigateTo(e.target))),this.subs.add(this.domEvents.focusOut.pipe(hg(()=>0!==this.mode),Ng(t(Ub(this.domEvents.focus)))).subscribe(e=>this.onFocusOut(e))),this.subs.add(this.domEvents.windowBlur.pipe(hg(()=>0!==this.mode)).subscribe(()=>this.onWindowBlur())),this.subs.add(this.editService.changes.pipe(hg(e=>"edit"!==e.action&&2===this.mode),hg(e=>"cellClose"===e.action&&!e.prevented),Ng(i)).subscribe(()=>this.leaveCell())),this.subs.add(this.pagerContextService.pageChange.subscribe(()=>this.cursor.reset(0,0))),this.subs.add(this.domEvents.keydown.subscribe(e=>this.onKeydown(e))),this.subs.add(this.domEvents.keydown.pipe(hg(e=>e.keyCode===_b.Tab&&2===this.mode),$b(this.domEvents.focusOut.pipe(Ub(Fb(0).pipe(Fg(1)))))).subscribe(()=>this.onTabout())),this.focusableParent){const e=new yz(this);this.focusableParent.registerElement(e)}this.deactivateElements()}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.alive=!1}registerCell(e){if(e.logicalRowIndex!==this.pendingRowIndex){const t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}registerCellOnCurrentRow(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}unregisterCell(e,t,i){this.model.unregisterCell(e,t,i)}registerRow(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}updateRow(e){this.model.updateRow(e)}unregisterRow(e,t){this.model.unregisterRow(e,t);const i=this.model.lastRow;if(i&&0===this.mode){const e=this.needsViewport()?this.viewport.lastItemIndex:i.index;this.activeRowIndex>e&&this.cursor.reset(0,0)}}isCellFocusable(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}isCellFocused(e){return 1===this.mode&&this.isCellFocusable(e)}navigateTo(e){if(!this.alive)return;const t=Vz(e,this.meta.gridElement.nativeElement);if(!t)return;const i=this.mode,n=((e,t,i=!1)=>{if(!rz(t,t=>t===e))return!1;const n=rz(t,e=>e===t);return n&&(i||n!==e)})(t.element,document.activeElement),s=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(n)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!s){this.mode=1,this.deactivateElements();const e=this.cursor.isActive(t.rowIndex,t.colIndex);1===i&&e||this.cursor.reset(t.rowIndex,t.colIndex)}}tryFocus(e){this.activateElements();const t=hz(e);if(t){const e=Vz(t,this.meta.gridElement.nativeElement);e&&(this.cursor.reset(e.rowIndex,e.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}needsViewport(){return this.meta&&this.meta.isVirtual}setViewport(e,t){if(this.viewport=new zz(e,t),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const i=this.activeDataRow,n=i-t;e-i>0?this.cursor.reset(e+this.meta.headerRows):n>0&&this.cursor.reset(t-this.meta.headerRows)}}setColumnViewport(e,t){this.columnViewport=new zz(e,t)}focusCell(e,t){return this.mode=1,this.cursor.reset(e,t),this.activeCell}focusCellByElement(e){const t=Vz(e,this.meta.gridElement.nativeElement);if(t)return this.focusCell(t.rowIndex,t.colIndex)}focusNextCell(e=!0){return this.focusAdjacentCell(!0,e)}focusPrevCell(e=!0){return this.focusAdjacentCell(!1,e)}toggle(e){this.active=e,this.cursor.announce()}hasFocus(){return 1===this.mode||2===this.mode}autoFocusCell(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}focusAdjacentCell(e,t){this.focusCell();let i=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!i&&(i=e?this.cursor.moveDown(1):this.cursor.moveUp(1),i)){const t=this.cursor.row,i=e?0:this.cursor.lastCellIndex(t);this.cursor.reset(t.index,i)}return i?this.activeCell:(this.mode=0,this.cursor.announce(),null)}enterCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup,i=t&&t.canFocus();this.mode=i?2:1,this.cursor.announce(),i&&(this.activateRow(),t.focus())}leaveCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}activateElements(){this.focusRoot.activate()}deactivateElements(){this.focusRoot.deactivate()}activateRow(){this.cursor.row.cells.forEach(e=>e.focusGroup&&e.focusGroup.activate())}moveCursorFwd(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}moveCursorBwd(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}onCursorKeydown(e){let t=!1;const i=e.ctrlKey||e.metaKey,n=i?5:1;if(!this.onCellKeydown(e))return;const s=this.cursor.row;switch(e.keyCode){case _b.ArrowDown:t=this.cursor.moveDown(n);break;case _b.ArrowUp:t=this.cursor.moveUp(n);break;case _b.ArrowRight:t=this.moveCursorFwd();break;case _b.ArrowLeft:t=this.moveCursorBwd();break;case _b.PageDown:if(this.metadata.isVirtual&&this.viewport){let e=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&e++,e=Math.min(this.meta.maxLogicalRowIndex,e),this.cursor.reset(e),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.nextPage()),t=!0);break;case _b.PageUp:if(this.metadata.isVirtual&&this.viewport){let e=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(e),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.prevPage()),t=!0);break;case _b.Home:this.cursor.reset(i?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:s.index,0,!1),t=!0;break;case _b.End:if(i)if(this.meta.isVirtual){let e=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&e--,this.cursor.reset(e,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{const e=this.cursor.lastCellIndex(s),t=this.model.findCell(e,s);t?this.cursor.reset(t.rowIndex,t.colIndex):this.cursor.reset(s.index,e)}t=!0;break;case _b.Enter:case _b.F2:const o=s.groupItem;o?this.zone.run(()=>this.groupsService.toggleRow(o)):this.cursor.cell.detailExpandCell?this.zone.run(()=>this.detailsService.toggleRow(s.dataRowIndex,s.dataItem)):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(t=!0));break;default:e.ctrlKey||e.altKey||1!==(r=e.key).length||!r.match(/\S/)||this.enterCell()}var r;t&&e.preventDefault()}onContentKeydown(e){if(!this.onCellKeydown(e))return;const t=!e.defaultPrevented&&e.keyCode===_b.Enter&&(i=e.srcElement)&&Bz(i)&&"text"===i.type.toLowerCase();var i;e.keyCode===_b.Escape||e.keyCode===_b.F2||t?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):Hz(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}onCellKeydown(e){if(this.editService.isEditingCell()){const t=e.keyCode===_b.Enter,i=e.keyCode===_b.Escape,n=Hz(e.keyCode);if(t)this.editService.closeCell(e);else if(i)this.editService.cancelCell(),this.cd.detectChanges();else if(n)return!1}return this.cellKeydown.emit(e),!0}onCursorChanges(e){this.activeRowIndex=e.rowIndex;const t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&e.rowIndex>=this.meta.headerRows&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){const t=this.activeCell,{start:i,end:n}=this.model.cellRange(t);t||(this.virtualCell=!0),(!t&&0!==this.mode||t&&!this.columnViewport.intersects(i,n))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}onFocusOut(e){this.mode=az(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}onWindowBlur(){this.mode=0,this.deactivateElements(),this.cursor.announce()}onKeydown(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}onTabout(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}};return e.\u0275fac=function(t){return new(t||e)(We(ou),We(ZB),We(_z),We(Rz),We(Tz),We(Az),We(JB),We(Ez),We(Wr),We(jb),We(vz,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Uz=(()=>{let e=class{constructor(e,t,i){this.domEvents=e,this.localDataChangesService=t,this.navigationService=i,this.changes=new gc,this.lastSelectionStartIndex=0,this.currentSelection=[],this.selectAllChecked=!1,this.active=!1,this.dragging=!1,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const e=this.settings.selectable,t="object"==typeof e&&DB(e)&&"multiple"===e.mode&&!1!==e.enabled&&!e.checkboxOnly&&e.drag;return this.active&&t}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const t=this.getIterator();this._selectAllState=!0;let i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type){const t={dataItem:i.value.data,index:i.value.index};e.rowSelected(t)?this.currentSelection[i.value.index]=t:this._selectAllState=void 0}i=t.next()}0===this.currentSelection.length&&(this._selectAllState=!1)}}isSelected(e){if(this.settings&&this.active)return this.options.enabled&&DB(this.currentSelection[e])}handleClick(e,t){if(this.dragging)return void(this.dragging=!1);let i;const n=t.ctrlKey||t.metaKey;"single"===this.options.mode&&n&&this.isSelected(e.index)?i=this.toggle(e):"multiple"===this.options.mode&&(n&&!t.shiftKey?i=this.toggle(e):t.shiftKey&&(i=this.addAllTo(e,n))),DB(i)||(i=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(i.selectedRows.length||i.deselectedRows.length)&&(i.ctrlKey=n,i.shiftKey=t.shiftKey,this.changes.emit(i))}toggle(e){let t=[],i=[];this.lastSelectionStartIndex=e.index;const n={dataItem:e.data,index:e.index};return this.isSelected(e.index)?i.push(n):t.push(n),{deselectedRows:i,selectedRows:t}}toggleByIndex(e){const t=this.getIterator();this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);let i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type&&i.value.index===e){const t={data:i.value.data,index:i.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(t):this.select(t)}i=t.next()}}select(e){let t=[],i=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)||i.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach(i=>{i.index!==e.index&&t.push(i)}),{deselectedRows:t,selectedRows:i}}deselect(e){const t=this.getIterator();let i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type&&i.value.data===e){const e={dataItem:i.value.data,index:i.value.index};this.isSelected(e.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[e],selectedRows:[]})}i=t.next()}}addAllTo(e,t){let i=[],n=[];const s=Math.min(this.lastSelectionStartIndex,e.index),r=Math.max(this.lastSelectionStartIndex,e.index),o=this.getIterator();let a=o.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const e=a.value.index,o={dataItem:a.value.data,index:e};(e<s||e>r)&&this.isSelected(e)&&!t&&n.push(o),e>=s&&e<=r&&!this.isSelected(e)&&i.push(o)}a=o.next()}return{deselectedRows:n,selectedRows:i}}updateAll(e){this.selectAllChecked=e;let t=[],i=[];const n=this.getIterator();let s=n.next();for(;!s.done;){if(s.value&&"data"===s.value.type){const n=s.value.index,r={dataItem:s.value.data,index:n};this.isSelected(n)&&!e&&i.push(r),!this.isSelected(n)&&e&&t.push(r)}s=n.next()}(t.length||i.length)&&this.changes.emit({ctrlKey:!0,deselectedRows:i,selectedRows:t,shiftKey:!0})}selectRange(e,t){let i=[],n=[];const s=Math.min(e,t),r=Math.max(e,t),o=this.getIterator();let a=o.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const e=a.value.index,t={dataItem:a.value.data,index:e};(e<s||e>r)&&this.isSelected(e)&&n.push(t),e>=s&&e<=r&&!this.isSelected(e)&&i.push(t)}a=o.next()}return{deselectedRows:n,selectedRows:i}}get selectAllState(){return this._selectAllState}get selected(){return this.currentSelection.map(e=>e.index).filter(e=>"number"==typeof e)}get options(){const e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return DB(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}targetArgs(){return{index:this.mouseDownEventArgs.rowIndex,dataItem:this.mouseDownEventArgs.dataItem}}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,!this.options.enabled||this.options.mode&&"multiple"!==this.options.mode||this.options.checkboxOnly||!e.originalEvent.shiftKey||this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&DB(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[UB]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}};return e.\u0275fac=function(t){return new(t||e)(We(ZB),We(YB),We(jz))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Gz=(()=>{let e=class{constructor(e,t,i){this.domEvents=e,this.localDataChangesService=t,this.navigationService=i,this.changes=new gc,this.mouseUpEvent=new gc,this.currentSelection=[],this.active=!1,this.dragging=!1,this.dragSelectDeselect=!1,this.lastSelectionItem={itemKey:0,columnKey:0},this.lastSelectionItemRowIndex=0,this.lastSelectionItemColIndex=0,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const e=this.settings.selectable,t="object"==typeof e&&DB(e)&&"multiple"===e.mode&&e.cell&&!1!==e.enabled&&e.drag;return this.active&&t}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const t=this.getIterator();let i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type){const t={dataItem:i.value.data,index:i.value.index};e.columns.forEach(i=>{const n=e.cellSelected(t,i,i.leafIndex);n.selected&&this.currentSelection.push(n.item)})}i=t.next()}}}isCellSelected(e,t){if(this.settings&&this.active){const i=this.settings.cellSelected({dataItem:e.data,index:e.index},t,t.leafIndex);return this.options.enabled&&i.selected}return!1}handleClick(e,t){if(this.dragging)return void(this.dragging=!1);let i;const n=t.ctrlKey||t.metaKey;if("single"===this.options.mode&&n&&this.isCellSelected(e,e.column))i=this.toggle(e);else if("multiple"===this.options.mode)if(n&&!t.shiftKey)i=this.toggle(e);else if(t.shiftKey){const t=Math.min(this.lastSelectionItemRowIndex,e.index),n=Math.min(this.lastSelectionItemColIndex,e.column.leafIndex),s=Math.max(this.lastSelectionItemRowIndex,e.index),r=Math.max(this.lastSelectionItemColIndex,e.column.leafIndex);i=this.selectRange(t,n,s,r)}DB(i)||(i=this.select(e),this.currentSelection=[this.lastSelectionItem]),(i.selectedCells.length||i.deselectedCells.length)&&(i.ctrlKey=n,i.shiftKey=t.shiftKey,this.changes.emit(i))}toggle(e){let t=[],i=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)?i.push(this.lastSelectionItem):t.push(this.lastSelectionItem),{deselectedCells:i,selectedCells:t}}select(e){const t=[],i=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)||t.push(this.lastSelectionItem),this.currentSelection.forEach(e=>{e.itemKey===this.lastSelectionItem.itemKey&&e.columnKey===this.lastSelectionItem.columnKey||i.push(e)}),{deselectedCells:i,selectedCells:t}}deselect(e){const t=this.getIterator();let i,n=t.next();for(;!n.done;){if(n.value&&"data"===n.value.type&&n.value.data===e){i={dataItem:n.value.data,index:n.value.index};break}n=t.next()}if(i){const e=this.currentSelection.filter(e=>{const t=this.settings.cellSelected(i,null,null).item;return e.itemKey===t.itemKey});e.length&&this.changes.emit({ctrlKey:!1,deselectedCells:e,selectedCells:[]})}}selectRange(e,t,i,n){const s=[],r=[],o=Math.min(e,i),a=Math.min(t,n),l=Math.max(e,i),c=Math.max(t,n),u=this.getIterator();let h=u.next();for(;!h.done;){if(h.value&&"data"===h.value.type){const e=h.value.index,t={dataItem:h.value.data,index:e};this.settings.columns.forEach(i=>{const{item:n}=this.settings.cellSelected(t,i,i.leafIndex),u=this.isCellSelected(h.value,i),d=o<=e&&e<=l&&a<=i.leafIndex&&i.leafIndex<=c;!d&&u&&r.push(n),d&&!u&&s.push(n)})}h=u.next()}return{deselectedCells:r,selectedCells:s}}get options(){const e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return DB(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem,column:e.column},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,!this.options.enabled||this.options.mode&&"multiple"!==this.options.mode||this.options.checkboxOnly||!e.originalEvent.shiftKey||this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&DB(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[UB]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}};return e.\u0275fac=function(t){return new(t||e)(We(ZB),We(YB),We(jz))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const qz={topLeft:{x:2,y:2},topRight:{x:-2,y:2},bottomLeft:{x:2,y:-2},bottomRight:{x:-2,y:-2}};let $z=(()=>{let e=class{constructor(e,t,i,n){this.draggable=e,this.selection=t,this.cellSelection=i,this.domEvents=n,this.selectionStarted=!1}get webkitUserSelection(){return this.cellSelection.enableMarquee||this.selection.enableMarquee?"none":null}get userSelection(){return this.cellSelection.enableMarquee||this.selection.enableMarquee}ngOnInit(){this.subscriptions=this.draggable.kendoPress.subscribe(this.start.bind(this)),this.subscriptions.add(this.draggable.kendoDrag.subscribe(this.moveMarquee.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.clean()}start(e){e.originalEvent.target.classList.contains("k-checkbox")?this.pressArgs=null:(this.pressArgs=e,this.pressTarget=null)}moveMarquee(e){this.pressTarget||(this.pressTarget=this.cellSelection.active?this.cellSelection.mouseDownEventArgs:this.selection.mouseDownEventArgs);const t=this.pressArgs;if(!t)return;if(!this.selectionStarted){if(!(Math.sqrt(Math.pow(e.pageX-t.pageX,2)+Math.pow(e.pageY-t.pageY,2))>5))return;this.selectionStarted=!0,this.dragEndSubscription=K(this.domEvents.cellMouseup.pipe(Fg(1)),this.draggable.kendoRelease.pipe(Qb(1),Fg(1))).subscribe(this.endSelection.bind(this))}this.initMarquee();const i=this.marqueeElement,n=this.getMarqueeQuadrant(e.pageX,e.pageY,t.pageX,t.pageY);let s=Math.min(e.pageX,t.pageX),r=Math.min(e.pageY,t.pageY);const o=Math.abs(e.pageX-t.pageX),a=Math.abs(e.pageY-t.pageY);n&&(s+=qz[n].x,r+=qz[n].y),i.style.left=s+"px",i.style.top=r+"px",i.style.width=o+"px",i.style.height=a+"px"}endSelection(e){"mouseup"!==e.type&&"touchend"!==e.type||(this.cellSelection.active?(this.cellSelection.dragging=!0,this.cellSelection.changes.emit(this.cellSelection.selectRange(this.pressTarget.rowIndex,this.pressTarget.column.leafIndex,e.rowIndex,e.column.leafIndex))):this.selection.active&&(this.selection.dragging=!0,this.selection.changes.emit(this.selection.selectRange(this.pressTarget.rowIndex,e.rowIndex)))),this.clean()}clean(){this.marqueeElement&&(document.body.removeChild(this.marqueeElement),this.marqueeElement=null),this.dragEndSubscription&&this.dragEndSubscription.unsubscribe(),this.dragEndSubscription=null,this.pressTarget=null,this.pressArgs=null,this.selectionStarted=!1,this.cellSelection.active?this.cellSelection.dragging=!1:this.selection.dragging=!1}initMarquee(){this.marqueeElement||(this.marqueeElement=(()=>{const e=document.createElement("div");e.className="k-marquee";const t=document.createElement("div");return t.className="k-marquee-color",e.appendChild(t),e})(),document.body.appendChild(this.marqueeElement))}getMarqueeQuadrant(e,t,i,n){const s=e<i,r=e>i,o=t<n,a=t>n;return s&&o?"topLeft":s&&a?"bottomLeft":r&&o?"topRight":r&&a?"bottomRight":null}};return e.\u0275fac=function(t){return new(t||e)(Oo(fb),Oo(Uz),Oo(Gz),Oo(ZB))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSelectionMarquee",""]],hostVars:4,hostBindings:function(e,t){2&e&&(ca("-webkit-user-select",t.webkitUserSelection),ua("user-select-none",t.userSelection))}}),e})();class Kz extends gc{constructor(e,t=!1){super(t),this.ngZone=e}subscribe(e,t,i){let n,s=e=>null,r=()=>null;return e&&"object"==typeof e?(n=t=>{this.ngZone.run(()=>e.next(t))},e.error&&(s=t=>{this.ngZone.run(()=>e.error(t))}),e.complete&&(r=()=>{this.ngZone.run(()=>e.complete())})):(n=t=>{this.ngZone.run(()=>e(t))},t&&(s=e=>{this.ngZone.run(()=>t(e))}),i&&(r=()=>{this.ngZone.run(()=>i())})),super.subscribe(n,s,r)}}const Wz={name:"@progress/kendo-angular-grid",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1627453156,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let Zz=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridCellTemplate",""]]}),e})(),Yz=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),e})(),Qz=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),e})(),Jz=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridEditTemplate",""]]}),e})(),Xz=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridGroupFooterTemplate",""]]}),e})(),ej=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridHeaderTemplate",""]]}),e})(),tj=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridFooterTemplate",""]]}),e})(),ij=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridColumnMenuTemplate",""]]}),e})();const nj=e=>e.isSpanColumn,sj=e=>e.isCheckboxColumn;let rj=(()=>{class e{constructor(e){if(this.parent=e,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.sticky=!1,this.lockable=!0,this.stickable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new vc,this.columnMenuTemplates=new vc,e&&!(t=e).isColumnGroup&&!nj(t))throw new Error("Columns can be nested only inside ColumnGroupComponent");var t}set width(e){this._width=parseInt(e,10)}get width(){return this._width}get level(){return this.parent&&nj(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}get isLocked(){return this.parent?this.parent.isLocked:this.locked}get colspan(){return 1}rowspan(e){return this.level<e?e-this.level+1:1}get headerTemplateRef(){const e=this.headerTemplates.first;return e?e.templateRef:void 0}get footerTemplateRef(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}get columnMenuTemplateRef(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get displayTitle(){return this.title}get isVisible(){return!this.hidden&&this.matchesMedia}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,contentQueries:function(e,t,i){var n;1&e&&(Dc(i,tj,!0),Dc(i,ej,!1),Dc(i,ij,!1)),2&e&&(Ic(n=Oc())&&(t.footerTemplate=n.first),Ic(n=Oc())&&(t.headerTemplates=n),Ic(n=Oc())&&(t.columnMenuTemplates=n))},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",sticky:"sticky",lockable:"lockable",stickable:"stickable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",footerClass:"footerClass"}}),e})(),oj=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridFilterCellTemplate",""]]}),e})(),aj=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridFilterMenuTemplate",""]]}),e})();var lj;function cj(e){return DB(e.field)}let uj=(()=>{let e=lj=class extends rj{constructor(e){super(e),this.sortable=!0,this.groupable=!0,this.editor="text",this.filter="text",this.filterable=!0,this.editable=!0}get templateRef(){return this.template?this.template.templateRef:void 0}get groupHeaderTemplateRef(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}get groupHeaderColumnTemplateRef(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}get groupFooterTemplateRef(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}get editTemplateRef(){return this.editTemplate?this.editTemplate.templateRef:void 0}get filterCellTemplateRef(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}get filterMenuTemplateRef(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}get displayTitle(){return void 0===this.title?this.field:this.title}};return e.\u0275fac=function(t){return new(t||e)(Oo(rj,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column"]],contentQueries:function(e,t,i){var n;1&e&&(Dc(i,Zz,!0),Dc(i,Yz,!0),Dc(i,Qz,!0),Dc(i,Xz,!0),Dc(i,Jz,!0),Dc(i,oj,!0),Dc(i,aj,!0)),2&e&&(Ic(n=Oc())&&(t.template=n.first),Ic(n=Oc())&&(t.groupHeaderTemplate=n.first),Ic(n=Oc())&&(t.groupHeaderColumnTemplate=n.first),Ic(n=Oc())&&(t.groupFooterTemplate=n.first),Ic(n=Oc())&&(t.editTemplate=n.first),Ic(n=Oc())&&(t.filterCellTemplate=n.first),Ic(n=Oc())&&(t.filterMenuTemplate=n.first))},inputs:{sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",field:"field",format:"format"},features:[Ga([{provide:rj,useExisting:xe(()=>lj)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var hj;function dj(e){return e.isSpanColumn}let pj=(()=>{let e=hj=class extends rj{constructor(e){if(super(e),this.isSpanColumn=!0,this.template=new vc,this.editTemplate=new vc,this.childColumns=new vc,this.includeInChooser=!1,this._editable=!0,this._locked=!1,e&&e.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn")}set editable(e){this._editable=e}get editable(){return DB(this.editTemplateRef)&&this._editable}set width(e){}get width(){return this.childColumns.reduce((e,t)=>e+t.width,0)}get leafIndex(){return this.childColumns.first.leafIndex}get templateRef(){const e=this.template.first;return e?e.templateRef:void 0}get editTemplateRef(){const e=this.editTemplate.first;return e?e.templateRef:void 0}get colspan(){return this.childColumns.filter(e=>e.isVisible).length}set locked(e){this._locked=e}get locked(){return this._locked||this.childColumns.some(e=>e.locked)}get childrenArray(){return this.childColumns.toArray()}get hasChildren(){return this.childColumns.length>0}};return e.\u0275fac=function(t){return new(t||e)(Oo(rj,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,t,i){var n;1&e&&(Dc(i,Zz,!1),Dc(i,Jz,!1),Dc(i,uj,!1)),2&e&&(Ic(n=Oc())&&(t.template=n),Ic(n=Oc())&&(t.editTemplate=n),Ic(n=Oc())&&(t.childColumns=n))},inputs:{editable:"editable",locked:"locked"},features:[Ga([{provide:rj,useExisting:xe(()=>hj)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const fj=e=>e.reduce((e,t)=>e.concat(dj(t)?t.childrenArray:[t]),[]),gj=e=>e.reduce((e,t)=>e.concat(dj(t)?[t].concat(t.childrenArray):[t]),[]),mj=e=>fj(e).filter(e=>e.isVisible),vj=e=>t=>(t||[]).reduce((t,i)=>t+(i[e]||0),0),yj=vj("width"),bj=vj("colspan"),wj=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),Cj=e=>e.reduce((e,t)=>(t.isColumnGroup?e=e.concat(Cj((e=>e.children.filter(t=>t!==e))(t))):t.isSpanColumn?e=e.concat(t.childrenArray):e.push(t),e),[]).filter(e=>e.isVisible),Sj=(e,...t)=>Cj(t).some(e),xj=e=>nx(e,[{field:"orderIndex",dir:"asc"}]),kj=e=>OB(e.parent)&&dj(e.parent);var Ej;function Ij(e){return e.isColumnGroup}let Tj=(()=>{let e=Ej=class extends rj{constructor(e){if(super(e),this.parent=e,this.includeInChooser=!1,this.isColumnGroup=!0,this.minResizableWidth=10,e&&e.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent")}rowspan(){return 1}get colspan(){return this.children&&1!==this.children.length?bj(this.children.filter(e=>e!==this&&e.isVisible)):1}get leafIndex(){return this.children?(this.firstChild||{}).leafIndex:-1}get childrenArray(){return this.children.filter(e=>e!==this)}get hasChildren(){return Boolean(this.firstChild)}get firstChild(){return this.children.find(e=>e!==this)}};return e.\u0275fac=function(t){return new(t||e)(Oo(rj,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,t,i){var n;1&e&&Dc(i,rj,!1),2&e&&Ic(n=Oc())&&(t.children=n)},features:[Ga([{provide:rj,useExisting:xe(()=>Ej)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),_j=(()=>{let e=class{constructor(e){this.templateRef=e,this._condition=()=>!0}set showIf(e){if("function"!=typeof e)throw new Error(`showIf must be a function, but received ${JSON.stringify(e)}.`);this._condition=e}get showIf(){return this._condition}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:["kendoGridDetailTemplateShowIf","showIf"]}}),e})();const Fj=()=>cb()&&document.createElement;let Dj,Aj=null,Rj=null,Oj=(()=>{let e=class{constructor(e,t){this.zone=e,this.changeDetector=t,this.changes=new gc,"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.subscriptions=lb(window,"resize").pipe(ab(100)).subscribe(()=>{Dj!==window.devicePixelRatio&&e.run(()=>{Aj=null,this.changes.emit(),this.changeDetector.markForCheck()})})})}ngOnDestroy(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}get scrollbarWidth(){return function(){if(null===Aj&&Fj()){Dj=window.devicePixelRatio||1;const e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),Aj=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return Aj}()}get rtlScrollLeft(){return function(){if(null===Rj&&Fj()){const e=document.createElement("div");e.style.cssText="overflow:scroll;zoom:1;clear:both;display:block;width:100px;visibility:hidden;position:absolute;left:-10000px;direction:rtl;",e.innerHTML="<div style='width:200px;height:1px;'</div>",document.body.appendChild(e);const t=e.scrollLeft;e.scrollLeft=-1,Rj=e.scrollLeft<0?e.scrollLeft:t,document.body.removeChild(e)}return Rj}()}};return e.\u0275fac=function(t){return new(t||e)(We(ou),We(Wr))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const Pj=e=>void 0!==e.items&&void 0!==e.field,Nj=e=>e.reduce((e,t)=>Pj(t)?e.concat(Nj(t.items)):e.concat([t]),[]),Mj=(e,{footers:t,level:i,dataIndex:n,parentGroupIndex:s,groupIndex:r,parentGroup:o})=>{const a=e[0];return DB(a)&&Pj(a)?(void 0!==(l=a).offset&&void 0!==l.skipHeader&&(r=DB(a.offset)?a.offset:r),new Bj(e,t,i,n,s,r,o)):new Hj(e,n,s,o);var l};class Lj{constructor(e,t=0){this.arr=e,this.idx=t,this.arr=e||[]}[UB](){return this}next(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}class Vj{constructor(e,t=0,i=(e=>e)){this.dataIndex=t,this.resultMap=i,this._innerIterator=e[UB]?e[UB]():new Lj(e)}[UB](){return this}next(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}class Hj extends Vj{constructor(e,t,i,n){super(e,t,(e,t)=>({done:e.done,value:{data:e.value,groupIndex:i,index:t,type:"data",group:n}}))}get index(){return this.dataIndex}}class Bj{constructor(e,t=!1,i=0,n=0,s="",r=0,o){this.arr=e,this.outputFooters=t,this.level=i,this.dataIndex=n,this.parentIndex=s,this.groupIndex=r,this.parentGroup=o,this.currentGroupIndex="",this.arr=e||[],this._iterator=new Vj(this.arr,this.dataIndex)}[UB](){return this}nextGroupItem(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex=`${(e=this.parentIndex)?e+"_":e}${this.groupIndex++}`,{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}):(this.current=null,{done:!0,value:void 0});var e}footerItem(){if(this.current){const e=this.current;return this.current=null,{done:!1,value:{data:e,groupIndex:this.currentGroupIndex,level:this.level,type:"footer",group:{data:e,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}}}return this.current=null,{done:!0,value:void 0}}innerIterator(e){return this._innerIterator||(this._innerIterator=Mj(e.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex,parentGroup:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}})),this._innerIterator}nextDataItem(e){const t=this.innerIterator(e).next();return DB(t.value)&&!t.done&&"data"===t.value.type&&(this.dataIndex=t.value.index+1),t.done?void 0:t}next(){return DB(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}get index(){return this.dataIndex+1}}class zj{constructor(e,t=0,i=!1){this.source=e,this.skip=t,this.groupFooters=i,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}isGridDataResult(e){return void 0!==e.total&&void 0!==e.data}get total(){return this.isObject?this.source.total:this.source.length}get data(){return this.isObject?this.source.data:this.source}map(e){return this.data.map(e)}filter(e){return this.data.filter(e)}reduce(e,t){return this.data.reduce(e,t)}forEach(e){this.data.forEach(e)}some(e){return this.data.some(e)}[UB](){return Mj(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}toString(){return this.data.toString()}}class jj{constructor(e){this.accessor=e}get total(){return this.accessor().total}get length(){return this.accessor().data.length}get first(){return this.accessor().data[0]}get last(){return this.accessor().data[this.length-1]}at(e){return((e,t)=>{const i=e[0];return DB(i)&&Pj(i)?Nj(e)[t]:e[t]})(this.accessor().data,e)}map(e){return this.accessor().map(e)}filter(e){return this.accessor().filter(e)}reduce(e,t){return this.accessor().reduce(e,t)}forEach(e){this.accessor().forEach(e)}some(e){return this.accessor().some(e)}[UB](){return this.accessor()[UB]()}toString(){return this.accessor().toString()}}let Uj=(()=>{class e{constructor(e,t){this.grid=e,this.cd=t,this.selectedKeys=[],this.selectedKeysChange=new gc,this.init()}init(){DB(this.grid.rowSelected)||(this.grid.rowSelected=e=>this.selectedKeys.indexOf(this.getItemKey(e))>=0),DB(this.grid.cellSelected)||(this.grid.cellSelected=(e,t,i)=>{const n=this.getSelectionItem(e,t,i);return{selected:this.selectedKeys.some(e=>e.columnKey===n.columnKey&&e.itemKey===n.itemKey),item:n}}),this.selectionChangeSubscription=this.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}destroy(){this.selectionChangeSubscription.unsubscribe()}reset(){this.selectedKeys=[]}getItemKey(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}getSelectionItem(e,t,i){const n={};return n.itemKey=this.getItemKey(e),DB(t)||DB(i)?(this.columnKey&&("string"==typeof this.columnKey&&(n.columnKey=e.dataItem[this.columnKey]),"function"==typeof this.columnKey&&(n.columnKey=this.columnKey(t,i))),{itemKey:n.itemKey,columnKey:n.columnKey?n.columnKey:i}):n}onSelectionChange(e){e.selectedRows?(e.deselectedRows.forEach(e=>{const t=this.getItemKey(e),i=this.selectedKeys.indexOf(t);i>=0&&this.selectedKeys.splice(i,1)}),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedRows.forEach(e=>{const t=this.getItemKey(e);this.selectedKeys.indexOf(t)<0&&this.selectedKeys.push(t)})):(e.deselectedCells.forEach(e=>{const t=this.getCellSelectionItemIndex(e);t>=0&&this.selectedKeys.splice(t,1)}),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedCells.forEach(e=>{this.getCellSelectionItemIndex(e)<0&&this.selectedKeys.push(e)})),this.cd.markForCheck(),this.selectedKeysChange.emit(this.selectedKeys)}getCellSelectionItemIndex(e){return this.selectedKeys.findIndex(t=>t.itemKey===e.itemKey&&t.columnKey===e.columnKey)}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{selectedKeys:"selectedKeys",selectionKey:["kendoGridSelectBy","selectionKey"],columnKey:"columnKey"},outputs:{selectedKeysChange:"selectedKeysChange"}}),e})();class Gj{constructor(e){this.columns=e,this.allColumns=new vc,this.leafColumns=new vc,this.lockedColumns=new vc,this.nonLockedColumns=new vc,this.lockedLeafColumns=new vc,this.nonLockedLeafColumns=new vc,this.totalLevels=0,this.changes=new gc,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}refresh(){const e=this.totalLevels,t=new Array,i=new Array,n=new Array,s=new Array,r=new Array,o=new Array,a=new Array,l=new Array,c=new Array;let u=!1,h=!1,d=!1,p=0,f=0;this.totalLevels=0,this.columns().forEach(e=>{const g=!0===e.isLocked?i:n,m=!0===e.isLocked?s:r,v=!0===e.isLocked?l:c;Ij(e)||(g.push(e),t.push(e),a.push.apply(a,mj([e])),v.push.apply(v,mj([e])),u=u||Sj(e=>Boolean(e.groupHeaderColumnTemplateRef),e),h=h||Sj(e=>Boolean(e.groupFooterTemplateRef),e),d=d||Sj(e=>Boolean(e.footerTemplateRef),e),e.isLocked||(p+=e.width||0),e.isSpanColumn?e.childColumns.forEach(e=>{e.leafIndex=f++}):e.leafIndex=f++),m.push(e),o.push(e),this.totalLevels=e.level>this.totalLevels?e.level:this.totalLevels}),this.hasGroupHeaderColumn=u,this.hasGroupFooter=h,this.hasFooter=d,this.leafColumnsToRender=a,this.lockedColumnsToRender=l,this.nonLockedColumnsToRender=c,this.unlockedWidth=p;const g=((...e)=>{let t=!1;for(let i=0;i<e.length;i++){const[n,s]=e[i];t=t||n.length!==s.length,n.reset(s)}return t})([this.leafColumns,t],[this.lockedLeafColumns,i],[this.nonLockedLeafColumns,n],[this.lockedColumns,s],[this.allColumns,o],[this.nonLockedColumns,r])||e!==this.totalLevels;return g&&this.changes.emit(),g}}const qj=(e,t)=>{e.forEach(e=>{t(e),e.isColumnGroup&&e.hasChildren&&qj(e.childrenArray,t)})},$j=(e,t)=>{xj(e).forEach(e=>{t(e),e.isColumnGroup&&e.hasChildren&&$j(e.childrenArray,t)})},Kj=(e,t)=>{const i=[];return xj(e).forEach(e=>{if(t(e))if(e.isColumnGroup){const n=Kj(e.childrenArray,t);n.length&&i.push(e,...n)}else e.isSpanColumn&&!Kj(e.childrenArray,t).length||i.push(e)}),i};class Wj{constructor(e){this.columns=e}static empty(){return new Wj(new vc)}forEach(e){qj(this.columns,e)}filter(e){const t=[];return qj(this.columns,i=>{e(i)&&t.push(i)}),t}filterHierarchy(e){return Kj(this.columns.toArray(),e)}filterSort(e){const t=[];return $j(this.columns.toArray(),i=>{e(i)&&t.push(i)}),t}toArray(){const e=[];return qj(this.columns,t=>{e.push(t)}),e}rootColumns(){return this.columns.toArray()}totalColumnLevels(){let e=0;return this.forEach(t=>{e=Math.max(t.level,e)}),e}}let Zj=(()=>{class e{constructor(){this._columnList=Wj.empty}get columns(){return fj(this._columnList().toArray()).filter(cj)}registerColumnsContainer(e){this._columnList=e}formatForGroup(e){const t=this.columnForGroup(e);return t?t.format:""}isGroupable(e){const[t]=this.columns.filter(t=>t.field===e);return!t||t.groupable}groupTitle(e){const t=this.columnForGroup(e);return t?t.title||t.field:this.groupField(e)}groupHeaderTemplate(e){const t=this.columnForGroup(e);return t?t.groupHeaderTemplateRef||t.groupHeaderColumnTemplateRef:void 0}groupField(e){return e.data?e.data.field:e.field}columnForGroup(e){const t=this.groupField(e),[i]=this.columns.filter(e=>e.field===t);return i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Yj=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new gc}notify(){this.subscription&&!this.subscription.closed||(this.subscription=this.ngZone.onStable.asObservable().pipe(Fg(1)).subscribe(()=>this.changes.emit()))}};return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),Qj=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridNoRecordsTemplate",""]]}),e})();const Jj=e=>t=>t.forEach(t=>t.style.height=e),Xj=(e,t)=>{const i=document.activeElement,n=((e,t)=>{const i=[];for(let n=0,s=e.length;n<s&&t[n];n++)i.push([e[n],t[n]]);return i})(e.rows,t.rows);n.filter(([e,t])=>e.style.height||t.style.height).forEach(Jj(""));const s=(e=>e.map(([e,t])=>{const i=e.offsetHeight,n=t.offsetHeight;return i<n?n:i}))(n);[e,t].forEach(e=>e.style.display="none"),n.forEach((e=>(t,i)=>Jj(e[i]+1+"px")(t))(s)),[e,t].forEach(e=>e.style.display=""),document.activeElement!==i&&(e.contains(i)||t.contains(i))&&i.focus()};let eU=(()=>{let e=class{constructor(){this.isColumnMenu=!1,this.isPopupOpen=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),tU=(()=>{let e=class{constructor(e){this.changes=new E,this.menuTabbingService=e}filter(e){this.changes.next(e)}};return e.\u0275fac=function(t){return new(t||e)(We(eU,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),iU=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoPagerTemplate",""]]}),e})(),nU=(()=>{let e=class{constructor(){this.savePDF=new gc,this.drawPDF=new gc,this.exportClick=new gc,this.dataChanged=new gc}save(e){this.emitEvent(this.savePDF,e)}draw(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}emitEvent(e,t){if(0===e.observers.length){if(Sn())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-grid-pdf> component.")}else e.emit(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class sU extends Sz{}let rU=(()=>{let e=class{constructor(){this.scroll=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const oU=e=>window.matchMedia(e).matches;let aU=(()=>{let e=class{constructor(){this.matchMedia=oU}matchesMedia(e){return!e||this.matchMedia((e=>({xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]||e))(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),lU=(()=>{let e=class{constructor(){this.saveToExcel=new gc,this.exportClick=new gc}save(e){if(0===this.saveToExcel.observers.length){if(Sn())throw new Error("Saving excel requires including the ExcelModule and adding the <kendo-grid-excel> component.")}else this.saveToExcel.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),cU=(()=>{let e=class{constructor(e){this.templateRef=e,this._position="top"}set position(e){this._position=e}get position(){return this._position}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),e})(),uU=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new E,this.elements=[],this.subscriptions=new h,this.headerSubscription=new h,this.bodySubscription=new h,this.subscriptions.add(this.changes.subscribe(e=>this.scrollLeft(e)))}registerEmitter(e,t){this.unregister(t),this.elements.push({element:e,sourceType:t}),"body"!==t&&"header"!==t||this.ngZone.runOutsideAngular(()=>{const i=lb(e,"scroll").pipe(L(({target:{scrollLeft:e}})=>({scrollLeft:e,sourceType:t}))),n=i.pipe(function(e,t){return t=>t.lift(new tw(e,void 0))}((e,t)=>e.scrollLeft===t.scrollLeft),hg(e=>!this.source||this.source===e.sourceType),Gg(e=>this.source=e.sourceType)).subscribe(e=>this.changes.next(e));n.add(i.pipe(hg(e=>this.source&&this.source!==e.sourceType)).subscribe(()=>this.source=void 0)),"body"===t?this.bodySubscription.add(n):this.headerSubscription.add(n)})}destroy(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}scrollLeft({scrollLeft:e,sourceType:t}){this.ngZone.runOutsideAngular(()=>{this.elements.filter(e=>t!==e.sourceType).forEach(({element:t})=>t.scrollLeft=e)})}unregister(e){const t=this.elements.findIndex(t=>t.sourceType===e);t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new h):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new h),this.elements.splice(t,1))}};return e.\u0275fac=function(t){return new(t||e)(We(ou))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),hU=(()=>{let e=class{constructor(){this.resizeSubscription=new h(()=>{}),this.dispatcher=new E,this.changes=this.dispatcher.asObservable().pipe(function(e,t=ib,i=nw){return n=>n.lift(new sw(e,t,i.leading,i.trailing))}(100))}connect(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}destroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const dU=e=>e.parent?dU(e.parent):!!e.locked,pU=(e,t)=>Object.assign({columns:Cj([e]),locked:dU(e)},t);let fU=(()=>{let e=class{constructor(){this.changes=new gc,this.tables=[],this.batch=null}start(e){this.trackColumns(e);const t=(this.column.isColumnGroup?[e]:[]).concat(Cj([e]));this.changes.emit({columns:t,locked:dU(this.column),type:"start"})}resizeColumns(e){const t=pU(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}resizeTable(e,t){const i=pU(e,{delta:t,type:"resizeTable"});this.changes.emit(i)}resizedColumn(e){this.resizedColumns.push(e)}end(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}registerTable(e){return this.tables.push(e),()=>{this.tables.splice(this.tables.indexOf(e),1)}}measureColumns(e){null!==this.batch?this.batch.push(...e):this.autoFitBatch(e,()=>this.end())}autoFit(...e){const t=e.filter(e=>!e.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>{if(t.length<e.length){const t=e.filter(e=>e.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>this.end())}else this.end()})}trackColumns(e){this.resizedColumns=[],this.column=e}autoFitStart(e){if(this.batch=[],this.resizedColumns=[],0===e.length)return;const t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}autoFitBatch(e,t){const i=e.length>0&&e[0].column.isLocked;(function(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),$(e,void 0).lift(new Ab(t))})(...this.tables.filter(e=>e.locked===i).map(t=>t.autoFit(e))).pipe(Fg(1)).subscribe(n=>{this.changes.emit({columns:e.map(e=>e.column),type:"autoFitComplete",widths:n,locked:i}),t&&t()}),this.batch=null}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const gU=e=>!0===e||"string"==typeof e&&e.indexOf("row")>-1;class mU extends Sz{constructor(e){super(),this.originalEvent=e}}let vU=(()=>{let e=class{constructor(e,t,i,n,s){this.popupService=e,this.renderer=t,this.ngZone=i,this.localization=s,this.onClose=new E,this.scrollSubscription=n.changes.subscribe(()=>this.destroy())}open(e,t,i,n="k-grid-filter-popup"){const s=DB(i)&&this.popupRef===i;if(this.destroy(),!s){const i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:i},popupAlign:{vertical:"top",horizontal:i},anchor:e,popupClass:n,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}destroy(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}ngOnDestroy(){this.destroy(),this.scrollSubscription.unsubscribe()}detachClose(){this.removeClick&&this.removeClick()}attachClose(e){this.detachClose(),this.ngZone.runOutsideAngular(()=>this.removeClick=this.renderer.listen("document","click",t=>{if(!((e,t)=>{for(;e;){if(t(e))return!0;e=e.parentNode}return!1})(t.target,t=>this.popupRef.popupElement===t||t===e)){const e=new mU(t);this.onClose.next(e),e.isDefaultPrevented()||this.destroy()}}))}};return e.\u0275fac=function(t){return new(t||e)(We(zx),We(Ja),We(ou),We(uU),We(jb))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const yU=e=>{let t=!1;return()=>(t||(document.body.appendChild(e),t=!0),e)},bU=e=>{const{clientTop:t,clientLeft:i}=(e=>e.ownerDocument.documentElement)(e),{pageYOffset:n,pageXOffset:s}=(e=>e.ownerDocument.defaultView)(e),{top:r,left:o}=e.getBoundingClientRect();return{top:r+n-t,left:o+s-i}},wU=(e,t)=>0!=(4&t.compareDocumentPosition(e)),CU=(e,t)=>e===t||0!=(16&t.compareDocumentPosition(e)),SU=(e,t)=>{const i=bU(e),{offsetWidth:n,offsetHeight:s}=e;return{left:i.left+(t?0:n),top:i.top,height:s}};let xU=(()=>{let e=class{constructor(){this.changes=new gc,this.register=[],this.lastTarget=null}add(e){this.register.push(e)}remove(e){this.register=this.register.filter(t=>t!==e)}notifyDrag(e,t,i){const n=this.targetFor(t);this.lastTarget!==n&&(this.changes.next({draggable:e,mouseEvent:i,target:this.lastTarget,type:"leave"}),n&&this.changes.next({draggable:e,mouseEvent:i,target:n,type:"enter"}),this.lastTarget=n)}notifyDrop(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}targetFor(e){const t=CU.bind(null,e);return this.register.find(({element:{nativeElement:e}})=>t(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const kU=(e,t)=>{const i=e.querySelector(".k-icon");i.className=i.className.replace(/(plus|cancel)/,t?"plus":"cancel")},EU=(e,t=null)=>{const i=e.querySelectorAll(".k-icon")[1],n=null==t?"":t?"k-i-lock":"k-i-unlock";i.className=i.className.replace(/(k-i-unlock|k-i-lock)/,"")+" "+n};let IU=(()=>{let e=class{constructor(e){this.santizer=e}create(e){var t;this.dom=document.createElement("div"),(t=this.dom).className="k-header k-drag-clue",t.style.position="absolute",t.style.zIndex="20000";const i=this.santizer.sanitize(qn.HTML,e);this.dom.innerHTML=`\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            ${i}\n        `}attach(){return yU(this.dom)}remove(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout(()=>document.body.removeChild(e)),this.dom=null)}show(){this.dom.style.display=""}hide(){this.dom.style.display="none"}enable(){kU(this.dom,!0)}disable(){kU(this.dom,!1)}removeLock(){EU(this.dom)}toggleLock(e){EU(this.dom,e)}move(e){this.dom.style.top=e.pageY+"px",this.dom.style.left=e.pageX+"px"}};return e.\u0275fac=function(t){return new(t||e)(We(Cd))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),TU=(()=>{let e=class{create(){this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide()}attach(){return yU(this.dom)}remove(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}hide(){this.dom.style.display="none"}position({left:e,top:t,height:i}){this.dom.style.display="block",this.dom.style.height=i+"px",this.dom.style.top=t+"px",this.dom.style.left=e-this.dom.offsetWidth/2+"px"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),_U=(()=>{let e=class{constructor(){this.changes=new gc}reorder(e){this.changes.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class FU extends Sz{constructor({column:e,newIndex:t,oldIndex:i}){super(),this.column=e,this.newIndex=t,this.oldIndex=i}}class DU{constructor(e,t,i,n,s,r,o,a){this.dataRows=e,this.headerRows=t,this.isVirtual=i,this.hasPager=n,this.hasDetailTemplate=s,this.gridElement=r,this.virtualColumns=o,this.columns=a}get maxLogicalRowIndex(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}let AU=0,RU=(()=>{let e=class{constructor(){this.prefix="k-grid"+AU++}cellId(e,t){return`${this.prefix}-r${e}c${t}`}selectionCheckboxId(e){return`${this.prefix}-checkbox${e}`}selectAllCheckboxId(){return this.prefix+"-select-all"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const OU={left:"0px",right:"0px"};let PU=(()=>{let e=class{constructor(){this.visibilityChange=new gc,this.lockedChange=new gc,this.stickyChange=new gc,this.columnRangeChange=new gc,this.columnsContainer=new Gj(()=>[])}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get isLocked(){return this.lockedLeafColumns.length>0}get totalLevels(){return this.columnsContainer.totalLevels}get leafNamedColumns(){const e=fj(this.list().filterSort(e=>!e.isColumnGroup)).filter(e=>e.matchesMedia&&e.displayTitle);return nx(e,[{field:"locked",dir:"desc"}])}get unlockedRootCount(){return this.list().rootColumns().filter(e=>!e.locked&&e.isVisible).length}stickyColumnsStyles(e){if(this.stickyColumns||(this.stickyColumns=this.list().rootColumns().filter(e=>e.sticky&&!e.locked&&e.isVisible)),0===this.stickyColumns.length)return OU;const t=this.stickyColumns.reduce((t,i)=>(i.leafIndex<e.leafIndex?t.left+=i.width:i.leafIndex>e.leafIndex&&(t.right+=i.width),t),{left:0,right:0});return{left:t.left+"px",right:t.right+"px"}}init(e,t){this.columnsContainer=e,this.list=t,this.stickyColumns=null}changeVisibility(e){this.stickyColumns=null,this.visibilityChange.emit(e)}changeLocked(e){this.stickyColumns=null,this.lockedChange.emit(e)}changeStuck(e){this.stickyColumns=null,this.stickyChange.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),NU=(()=>{class e{constructor(){this.changes=new E}sort(e){this.changes.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class MU{constructor(e){this.columns=e}}class LU{constructor(e){this.columns=e}}function VU(e,t){return"data"===t.type&&t.isEditing?t.data:e}class HU{constructor(e){this.columns=e}}const BU=(e,t)=>rz(e,nz("k-grid-edit-cell"))&&rz(e,sz("kendo-grid"))===t,zU={};let jU=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,u,h,d,p,f,g,m,v,y,b,w,C,S,x,k){var E,I,T;this.supportService=e,this.selectionService=t,this.cellSelectionService=i,this.wrapper=n,this.groupInfoService=s,this.groupsService=r,this.changeNotification=o,this.detailsService=a,this.editService=l,this.filterService=c,this.pdfService=u,this.responsiveService=h,this.renderer=d,this.excelService=p,this.ngZone=f,this.scrollSyncService=g,this.domEvents=m,this.columnResizingService=v,this.changeDetectorRef=y,this.columnReorderService=b,this.columnInfoService=w,this.navigationService=C,this.sortService=S,this.scrollRequestService=x,this.data=[],this.scrollable="scrollable",this.selectable=!1,this.trackBy=VU,this.virtualColumns=!1,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.navigable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.loading=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new gc,this.pageChange=new gc,this.groupChange=new Kz(this.ngZone),this.sortChange=new gc,this.selectionChange=new gc,this.dataStateChange=new gc,this.groupExpand=new gc,this.groupCollapse=new gc,this.detailExpand=new gc,this.detailCollapse=new gc,this.edit=new gc,this.cancel=new gc,this.save=new gc,this.remove=new gc,this.add=new gc,this.cellClose=new gc,this.cellClick=new Kz(this.ngZone),this.pdfExport=new gc,this.excelExport=new gc,this.columnResize=new Kz(this.ngZone),this.columnReorder=new gc,this.columnVisibilityChange=new gc,this.columnLockedChange=new gc,this.columnStickyChange=new gc,this.scrollBottom=new gc,this.contentScroll=new gc,this.columns=new vc,this.footer=new vc,this.selectionDirective=!1,this.columnsContainer=new Gj(()=>this.columnList.filterHierarchy(e=>(e.matchesMedia=this.matchesMedia(e),e.isVisible))),this.view=new jj(()=>new zj(this.data,this.skip,this.hasGroupFooters)),this.shouldGenerateColumns=!0,this._sort=new Array,this._group=new Array,this._skip=0,this.cachedWindowWidth=0,this._rowSelected=null,this._cellSelected=null,this.rtl=!1,this._rowClass=()=>null,GC(Wz),this.localizationSubscription=k.changes.subscribe(({rtl:e})=>{this.rtl=e,this.direction=this.rtl?"rtl":"ltr"}),this.groupInfoService.registerColumnsContainer(()=>this.columnList),this.columnInfoService.init(this.columnsContainer,()=>this.columnList),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe(e=>{this.columnVisibilityChange.emit(new MU(e))}),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe(e=>{this.columnLockedChange.emit(new LU(e))}),this.columnStickyChangeSubscription=this.columnInfoService.stickyChange.subscribe(e=>{this.columnStickyChange.emit(new HU(e))}),this.groupExpandCollapseSubscription=(E=this.groupExpand,I=this.groupCollapse,T=({group:e,groupIndex:t,parentGroup:i})=>({group:e,groupIndex:t,parentGroup:i}),r.changes.pipe(hg(({group:e})=>DB(e))).subscribe(e=>e.expand?E.emit(T(e)):I.emit(T(e)))),this.detailsServiceSubscription=((e,t,i,n)=>e.changes.pipe(hg(({dataItem:e})=>DB(e))).subscribe(e=>e.expand?t.emit(e):i.emit(e)))(a,this.detailExpand,this.detailCollapse),this.filterSubscription=this.filterService.changes.subscribe(e=>{this.filterChange.emit(e)}),this.sortSubscription=this.sortService.changes.subscribe(e=>{this.sortChange.emit(e)}),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new Wj(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}get skip(){return this._skip}set skip(e){e>=0&&(this._skip=e)}set sort(e){RB(e)&&(this._sort=e)}get sort(){return this._sort}set group(e){RB(e)&&(this._group=e)}get group(){return this._group}get showTopToolbar(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}get showBottomToolbar(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}get isLocked(){return this.lockedLeafColumns.length>0}get showTopPager(){return!this.isVirtual&&!1!==this.pageable&&["top","both"].indexOf(this.pageable.position)>-1}get showBottomPager(){return!this.isVirtual&&!1!==this.pageable&&"top"!==this.pageable.position}get hasPager(){return this.showTopPager||this.showBottomPager}get showGroupPanel(){return this.groupable&&!1!==this.groupable.enabled}get groupableEmptyText(){return this.groupable.emptyText}get marqueeSelection(){return this.selectionService.enableMarquee||this.cellSelectionService.enableMarquee}set navigatable(e){this.navigable=e}get navigatable(){return this.navigable}set rowClass(e){if(Sn&&"function"!=typeof e)throw new Error(`rowClass must be a function, but received ${JSON.stringify(e)}.`);this._rowClass=e}get rowClass(){return this._rowClass}set rowSticky(e){if(Sn&&DB(e)&&"function"!=typeof e)throw new Error(`rowSticky must be a function, but received ${JSON.stringify(e)}.`);DB(e)&&(this._rowSticky=e)}get rowSticky(){return this._rowSticky}set rowSelected(e){if(Sn&&"function"!=typeof e)throw new Error(`rowSelected must be a function, but received ${JSON.stringify(e)}.`);this._rowSelected=e}get rowSelected(){return this._rowSelected}set cellSelected(e){if(Sn&&"function"!=typeof e)throw new Error(`cellSelected must be a function, but received ${JSON.stringify(e)}.`);this._cellSelected=e}get cellSelected(){return this._cellSelected}get activeCell(){return this.navigationService.activeCell}get activeRow(){return this.navigationService.activeRow}get dir(){return this.direction}get hostClasses(){return!0}get lockedClasses(){return this.lockedLeafColumns.length>0}get virtualClasses(){return this.isVirtual}get noScrollbarClass(){return 0===this.scrollbarWidth}get detailTemplate(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0}set detailTemplate(e){this._customDetailTemplate=e}get noRecordsTemplate(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0}set noRecordsTemplate(e){this._customNoRecordsTemplate=e}get pagerTemplate(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0}set pagerTemplate(e){this._customPagerTemplate=e}get toolbarTemplate(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0}set toolbarTemplate(e){this._customToolbarTemplate=e}get scrollbarWidth(){return this.supportService.scrollbarWidth}get headerPadding(){if(MB())return"";const e=Math.max(0,this.scrollbarWidth-1)+"px";return`0 ${this.rtl?0:e} 0 ${this.rtl?e:0}`}get hasGroupFooters(){return this.columnsContainer.hasGroupFooter}get showFooter(){return this.columnsContainer.hasFooter}get showGroupFooters(){return this.groupable&&this.groupable.showFooter}get ariaRowCount(){return this.totalColumnLevels+1+this.view.total}get ariaColCount(){return this.columnsContainer.leafColumnsToRender.length}get isVirtual(){return"virtual"===this.scrollable}get isScrollable(){return"none"!==this.scrollable}get visibleColumns(){return this.columnsContainer.allColumns}get lockedColumns(){return this.columnsContainer.lockedColumns}get nonLockedColumns(){return this.columnsContainer.nonLockedColumns}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get stickyColumns(){return this.columns.filter(e=>e.sticky)}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get leafColumns(){return this.columnsContainer.leafColumns}get totalColumnLevels(){return this.columnsContainer.totalLevels}get headerColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}get headerLeafColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}get lockedWidth(){const e=32*this.group.length;return fj(this.lockedLeafColumns.toArray()).reduce((e,t)=>e+(t.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((e,t)=>e+(t.width||0),0):this.columnsContainer.unlockedWidth}get selectableSettings(){if(this.selectionService)return this.selectionService.options}get columnMenuTemplate(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get totalCount(){return this.isVirtual||!DB(this.pageSize)?this.view.total:this.pageSize}expandRow(e){this.toggleDetailRowLegacy(e,!0)}collapseRow(e){this.toggleDetailRowLegacy(e,!1)}expandGroup(e){this.toggleGroupRowLegacy(e,!0)}collapseGroup(e){this.toggleGroupRowLegacy(e,!1)}resetGroupsState(){this.groupsService.reset()}expandGroupChildren(e){this.groupsService.expandChildren(e)}onDataChange(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),DB(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}ngOnChanges(e){ub("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&hb(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),hb(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),ub("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),ub("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",this.height+"px"),ub("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(Fg(1))),hb(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:Boolean(this.filterable),sort:Boolean(this.sortable)},this.columnMenu)),ub("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(Fg(1)).subscribe(()=>this.attachScrollSync()),ub("selectable",e)&&this.shouldResetSelection(e.selectable)&&(this.defaultSelection?this.defaultSelection.reset():this.selectionDirective&&this.selectionDirective.reset()),ub("groupable",e,!0)&&(this.groupable=e.groupable.currentValue)}ngAfterViewInit(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}ngAfterContentChecked(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}ngAfterContentInit(){this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new Wj(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe(()=>this.verifySettings())}ngOnInit(){this.navigable&&this.navigationService.init(this.navigationMetadata())}ngOnDestroy(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.columnStickyChangeSubscription&&this.columnStickyChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}attachScrollSync(){MB()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=NB(this.footer).subscribe(e=>e.map(e=>e.nativeElement).filter(DB).forEach(e=>this.scrollSyncService.registerEmitter(e,"footer")))))}editRow(e,t,i){if(this.editService.editRow(e,t),DB(i)&&i.skipFocus)return;const n=`tr[data-kendo-grid-item-index="${e}"]`,s=i&&i.columnIndex,r=isNaN(s)?n:`${n} td[data-kendo-grid-column-index="${s}"]`;this.focusEditElement(r)}closeRow(e){this.editService.close(e)}addRow(e){if(!(e instanceof pC)){const i=Object.keys(e).reduce((t=e,(e,i)=>(e[i]=new dC(t[i]),e)),{});e=new pC(i)}var t;this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}editCell(e,t,i){const n=this.columnInstance(t);this.editService.editCell(e,n,i),this.focusEditElement(".k-grid-edit-cell")}closeCell(){return!this.editService.closeCell()}cancelCell(){this.editService.cancelCell()}isEditing(){return this.editService.isEditing()}isEditingCell(){return this.editService.isEditingCell()}saveAsPDF(){this.pdfService.save(this)}drawPDF(){const e=(()=>{let e,t;const i=new Promise((n,s)=>{e=e=>(n(e),i),t=e=>(s(e),i)});return i.resolve=e,i.reject=t,i})();return this.pdfService.draw(this,e),e}saveAsExcel(){this.excelService.save(this)}autoFitColumn(e){this.columnResizingService.autoFit(e)}autoFitColumns(e=this.columns){let t;t=e instanceof vc?e.toArray():e,this.columnResizingService.autoFit(...t)}notifyPageChange(e,t){("list"!==e||this.isVirtual)&&this.pageChange.emit(t)}notifyScrollBottom(){"none"!==this.scrollable&&db(this.scrollBottom)&&this.ngZone.run(()=>this.scrollBottom.emit({sender:this}))}focusEditElement(e){this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.focusElementSubscription=this.ngZone.onStable.asObservable().pipe(Fg(1)).subscribe(()=>{const t=this.wrapper.nativeElement;!this.setEditFocus(t.querySelector(e))&&this.isLocked&&this.setEditFocus(t.querySelector(".k-grid-content "+e)),this.focusElementSubscription=null})})}focus(){return this.assertNavigable(),this.navigationService.focusCell()}focusCell(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}focusNextCell(e=!0){return this.assertNavigable(),this.navigationService.focusNextCell(e)}focusPrevCell(e=!0){return this.assertNavigable(),this.navigationService.focusPrevCell(e)}scrollTo(e){this.scrollRequestService.scrollTo(e)}reorderColumn(e,t,i={before:!1}){let n=xj(this.allColumnsForLevel(e.level))[t];n&&(n.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(dj(n)&&!i.before&&(n=n.childColumns.last),this.reorder({before:i.before,source:e,target:n})))}set isDetailExpanded(e){this.detailsService.userCallback=e}get isDetailExpanded(){return this.detailsService.userCallback}set isGroupExpanded(e){this.groupsService.userCallback=e,this.groupable=DB(e)}get isGroupExpanded(){return this.groupsService.userCallback}reorder({target:e,source:t,before:i,changeContainer:n}){this.ngZone.run(()=>{const s=xj(this.allColumnsForLevel(t.level));let r=s.indexOf(e);e.parent&&e.parent.isSpanColumn&&(r=s.indexOf(e.parent),i&&(e=e.parent));let o=s.indexOf(t);n&&(i&&0<r&&o<r?r--:!i&&o>r&&r++);const a=new FU({column:t,oldIndex:o,newIndex:r});this.columnReorder.emit(a),a.isDefaultPrevented()||(n&&this.columnLockedChange.emit(new LU([t])),this.updateColumnIndices({columnsForLevel:s,source:t,target:e,before:i}),t.locked!==e.locked&&(t.locked=e.locked),this.columnsContainer.refresh(),this.changeDetectorRef.markForCheck())})}updateColumnIndices({columnsForLevel:e,source:t,target:i,before:n}){const s=gj(e),r=s.indexOf(t);let o=0,a=0,l=1;t.isSpanColumn&&(l+=t.childColumns.length);let c=0;for(;c<s.length;){let e=s[c];if(e===i)o=n?a:a+1,a=n?a+l:a,e.orderIndex=a,o===a+1&&(a+=l);else{if(e===t){c+=l;continue}e.orderIndex=a}a++,c++}for(c=r;c<r+l;c++)s[c].orderIndex=o++;this.updateIndicesForLevel(t.level+1)}updateIndicesForLevel(e){const t=this.allColumnsForLevel(e-1),i=[];xj(t).forEach(e=>{e.isColumnGroup&&i.push(...e.childrenArray.sort((e,t)=>e.orderIndex-t.orderIndex))}),gj(i).map((e,t)=>e.orderIndex=t),e<this.columnList.totalColumnLevels()&&this.updateIndicesForLevel(e+1)}allColumnsForLevel(e){return this.columnList.toArray().filter(t=>t.level===e)}initSelectionService(){if(!this.selectable)return this.selectionService.ngOnDestroy(),void this.cellSelectionService.ngOnDestroy();this.selectionDirective||DB(this.defaultSelection)||(this.defaultSelection=new Uj(this,this.changeDetectorRef));const e=this.selectable.cell,t=e?this.cellSelectionService:this.selectionService,i=e?this.selectionService:this.cellSelectionService;i.active&&(i.ngOnDestroy(),t.addSubscriptions(),i.active=!1),t.active=!0,t.init({cellSelected:e?this.cellSelected:void 0,rowSelected:e?void 0:this.rowSelected,selectable:this.selectable,view:this.view,columns:e?this.columnList.toArray():void 0}),this.selectionDirective||this.selectableSettings.enabled||this.defaultSelection.reset(),this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=e?this.cellSelectionService.changes.subscribe(e=>{this.ngZone.run(()=>this.selectionChange.emit(e))}):this.selectionService.changes.subscribe(e=>{this.ngZone.run(()=>this.selectionChange.emit(e))})}setEditFocus(e){if(e)return this.navigationService.tryFocus(e)}columnInstance(e){let t;if(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter(t=>t.field===e)[0]:e,!t&&Sn())throw new Error("Invalid column "+e);return t}verifySettings(){if(Sn()){const e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock,t=this.stickyColumns.length||this.columnMenu&&this.columnMenu.stick;if(e&&this.detailTemplate)throw new Error("Having both detail template and locked columns is not supported.");if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length)throw new Error("There should be at least one non-locked column");if((e||this.virtualColumns)&&fj(this.columnList.toArray()).filter(e=>!e.width&&!Ij(e)).length)throw new Error((e?"Locked":"Virtual")+" columns feature requires all columns to have set width.");if(e&&!this.isScrollable)throw new Error("Locked columns are only supported when scrolling is enabled.");if(this.columnList.filter(Ij).filter(e=>!e.hasChildren).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter(e=>e.locked&&e.parent&&!e.parent.isLocked).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual)throw new Error("Row height and detail row height settings require virtual scrolling mode to be enabled.");if(t&&fj(this.columnList.toArray()).filter(e=>!e.width&&!Ij(e)).length)throw new Error("Sticky columns feature requires all columns to have set width.");if(t&&!this.isScrollable)throw new Error("Sticky columns are only supported when scrolling is enabled.");if(t&&this.virtualColumns)throw new Error("Having both sticky columns and column virtualization is not supported.");if(this.rowSticky&&"virtual"===this.scrollable)throw new Error('Having both sticky rows and row virtualization (scrollable="virtual") is not supported.');if(this.rowSticky&&this.groupable)throw new Error("Having both sticky rows and grouping is not supported.");fj(this.columnList.toArray()).filter(cj).filter(({field:e})=>{return!(!PB(t=e)&&wj.test(t)&&"."!==t[0]&&"."!==t[t.length-1]);var t}).forEach(({field:e})=>console.warn(`\n                Grid column field name '${e}' does not look like a valid JavaScript identifier.\n                Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n                Please use only valid identifier names to ensure error-free operation.\n            `))}}autoGenerateColumns(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map(e=>{let t=new uj;return t.field=e,t}))}attachStateChangesEmitter(){this.stateChangeSubscription=K(this.pageChange.pipe(L(e=>({filter:this.filter,group:this.group,skip:e.skip,sort:this.sort,take:e.take}))),this.sortChange.pipe(L(e=>({filter:this.filter,group:this.group,skip:this.skip,sort:e,take:this.pageSize}))),this.groupChange.pipe(L(e=>({filter:this.filter,group:e,skip:this.skip,sort:this.sort,take:this.pageSize}))),this.filterChange.pipe(L(e=>({filter:e,group:this.group,skip:0,sort:this.sort,take:this.pageSize})))).subscribe(e=>{this.closeCell(),this.cancelCell(),this.dataStateChange.emit(e)})}attachEditHandlers(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(e){const{action:t,rowIndex:i,formGroup:n}=e;let s=this.view.at(i-this.skip);switch("add"===t||s||(s=n.value),this.closeCell(),Object.assign(e,{dataItem:s,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}attachDomEventHandlers(){this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.cellClick.emit(Object.assign({sender:this},e))})}attachElementEventHandlers(){if(MB())return;const e=this.wrapper.nativeElement,t=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular(()=>{const i=this.resizeCheck.bind(this),n=this.renderer.listen("window","resize",i),s=this.renderer.listen("window","orientationchange",i),r=this.renderer.listen("document","click",e=>{const t=document.activeElement;!this.editService.shouldCloseCell()||rz(e.target,nz("k-animation-container k-grid-ignore-click"))||t&&(rz(t,nz("k-animation-container"))||BU(t,this.wrapper.nativeElement))||this.editService.closeCell(e)}),o=this.renderer.listen("window","blur",e=>{const t=document.activeElement;!t||sz("input")(t)&&"file"===t.type&&BU(t,this.wrapper.nativeElement)||this.editService.closeCell(e),this.domEvents.windowBlur.emit(e)}),a=this.renderer.listen(e,"click",e=>{this.domEvents.click.emit(e)}),l=this.renderer.listen(e,"keydown",e=>{this.domEvents.keydown.emit(e)});let c=!1;const u=this.renderer.listen(t,"focusin",e=>{this.domEvents.focus.emit(e),c||(this.domEvents.focusIn.emit(e),c=!0)}),h=this.renderer.listen(t,"focusout",e=>{const i=e.relatedTarget||document.activeElement;!rz(i,e=>e===t)&&(this.domEvents.focusOut.emit(e),c=!1)});this.detachElementEventHandlers=()=>{n(),s(),r(),o(),a(),l(),u(),h()}})}matchesMedia(e){return this.responsiveService.matchesMedia(e.media)}resizeCheck(){if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;let e=!1;this.columnList.filterHierarchy(t=>{const i=this.matchesMedia(t);return t.matchesMedia!==i&&(e=!0,t.matchesMedia=i),t.isVisible}),e&&this.ngZone.run(()=>{this.changeDetectorRef.markForCheck()})}}emitPDFExportEvent(){const e=new sU;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}syncHeaderHeight(e){return e.pipe(hg(()=>DB(this.lockedHeader))).subscribe(()=>Xj(this.lockedHeader.nativeElement.children[0],this.header.nativeElement.children[0]))}columnsContainerChange(){this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(hg(()=>this.lockedColumns.length>0),Ng(()=>this.ngZone.onStable.asObservable().pipe(Fg(1)))))}handleColumnResize(){const e=this.columnResizingService.changes;this.columnResizingSubscription=e.pipe(Gg(e=>{"start"===e.type?this.renderer.addClass(this.wrapper.nativeElement,"k-grid-column-resizing"):"end"===e.type&&this.renderer.removeClass(this.wrapper.nativeElement,"k-grid-column-resizing")}),hg(e=>"start"===e.type),Ng(()=>e.pipe(Ub(e.pipe(hg(e=>"triggerAutoFit"===e.type))),hg(e=>"end"===e.type)))).subscribe(this.notifyResize.bind(this))}notifyResize(e){const t=e.resizedColumns.filter(e=>OB(e.column.resizable)&&!e.column.isColumnGroup).map(e=>({column:e.column,newWidth:e.column.width,oldWidth:e.oldWidth}));this.columnResize.emit(t)}assertNavigable(){if(Sn()&&!this.navigable)throw new Error('The Grid should be configured as [navigable]="true" to control focus')}navigationMetadata(){const e=this.isVirtual,t=e?this.view.total:this.pageSize,i=this.editService.hasNewItem?1:0,n=gU(this.filterable)?1:0;return new DU(t,this.totalColumnLevels+1+n+i,e,this.hasPager,DB(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}updateNavigationMetadata(){this.navigationService.metadata=this.navigationMetadata()}applyAutoSize(){const e=this.columns.filter(e=>this.autoSize?!1!==e.autoSize:e.autoSize);e.length>0&&this.ngZone.onStable.pipe(Fg(1)).subscribe(t=>this.autoFitColumns(e))}onColumnRangeChange(e){const t=this.viewportColumns=[],i=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1);for(let n=0;n<i.length;n++){let e=i[n];for(;e.parent;)e=e.parent;const s=[e];for(;s.length;)e=s.shift(),t.push(e),e.isColumnGroup&&s.unshift.apply(s,e.childrenArray);const r=t[t.length-1];for(e=i[n];e!==r&&n<i.length;)n++,e=i[n]}if(e.start>0){const n=i[0];let s=e.offset,r=t[0],o=0;for(;r!==n;)s-=r.isColumnGroup?0:r.width,o++,r=t[o];if(s>0){const e=this.columnsContainer.totalLevels;let i;for(let n=0;n<=e;n++){const r=n<e?new Tj(i):new rj(i);i=r,r.title="\xa0",r.width=s,t.unshift(r)}}}this.leafViewportColumns=t.filter(e=>!e.isColumnGroup)}toggleDetailRowLegacy(e,t){const i="function"==typeof this.isDetailExpanded;if(Sn()&&i)throw new Error("The expandRow and collapseRow methods should not be called when using the kendoGridDetailsExpandBy directive or the isDetailExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Sn()&&i||this.detailsService.isExpanded(e,null)!==t&&this.detailsService.toggleRow(e,null)}toggleGroupRowLegacy(e,t){const i="function"==typeof this.isGroupExpanded;if(Sn()&&i)throw new Error("The expandGroup and collapseGroup methods should not be called when using the kendoGridExpandGroupBy directive or the isGroupExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Sn()&&i||this.groupsService.isExpanded({groupIndex:e})!==t&&this.groupsService.toggleRow({index:e})}shouldResetSelection(e){const t=e.previousValue;if(!t)return!1;const i=e.currentValue;return!i||!1===i.enabled||t.cell!==i.cell}};return e.\u0275fac=function(t){return new(t||e)(Oo(Oj),Oo(Uz),Oo(Gz),Oo(Wa),Oo(Zj),Oo(Tz),Oo(Yj),Oo(Az),Oo(Ez),Oo(tU),Oo(nU),Oo(aU),Oo(Ja),Oo(lU),Oo(ou),Oo(uU),Oo(ZB),Oo(fU),Oo(Wr),Oo(_U),Oo(PU),Oo(jz),Oo(NU),Oo(Rz),Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid"]],contentQueries:function(e,t,i){var n;1&e&&(Dc(i,rj,!1),Dc(i,_j,!1),Dc(i,Qj,!1),Dc(i,iU,!1),Dc(i,cU,!1),Dc(i,ij,!1)),2&e&&(Ic(n=Oc())&&(t.columns=n),Ic(n=Oc())&&(t.detailTemplateChildren=n),Ic(n=Oc())&&(t.noRecordsTemplateChildren=n),Ic(n=Oc())&&(t.pagerTemplateChildren=n),Ic(n=Oc())&&(t.toolbarTemplateChildren=n),Ic(n=Oc())&&(t.columnMenuTemplates=n))},viewQuery:function(e,t){var i;1&e&&(_c(xM,!0),_c(kM,!0),Tc(EM,!0),_c(IM,!0)),2&e&&(Ic(i=Oc())&&(t.lockedHeader=i.first),Ic(i=Oc())&&(t.header=i.first),Ic(i=Oc())&&(t.ariaRoot=i.first),Ic(i=Oc())&&(t.footer=i))},hostVars:11,hostBindings:function(e,t){2&e&&(Fo("dir",t.dir),ua("k-widget",t.hostClasses)("k-grid",t.hostClasses)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{data:"data",scrollable:"scrollable",selectable:"selectable",trackBy:"trackBy",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",navigable:"navigable",autoSize:"autoSize",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",skip:"skip",sort:"sort",group:"group",navigatable:"navigatable",rowClass:"rowClass",rowSticky:"rowSticky",rowSelected:"rowSelected",cellSelected:"cellSelected",isDetailExpanded:"isDetailExpanded",isGroupExpanded:"isGroupExpanded",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",filter:"filter"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",columnStickyChange:"columnStickyChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[Ga([Oj,jb,PU,Uz,Gz,Az,Tz,Zj,Yj,Ez,nU,rU,{provide:mz,useValue:zU},{provide:zb,useValue:"kendo.grid"},tU,aU,_z,lU,uU,hU,YB,ZB,fU,vU,xU,IU,TU,_U,jz,JB,RU,Rz,NU]),Pa],decls:11,vars:15,consts:[["kendoGridLocalizedMessages","",6,"groupPanelEmpty","noRecords","pagerFirstPage","pagerPreviousPage","pagerNextPage","pagerLastPage","pagerPage","pagerOf","pagerItems","pagerPageNumberInputTitle","pagerItemsPerPage","filter","filterEqOperator","filterNotEqOperator","filterIsNullOperator","filterIsNotNullOperator","filterIsEmptyOperator","filterIsNotEmptyOperator","filterStartsWithOperator","filterContainsOperator","filterNotContainsOperator","filterEndsWithOperator","filterGteOperator","filterGtOperator","filterLteOperator","filterLtOperator","filterIsTrue","filterIsFalse","filterBooleanAll","filterAfterOrEqualOperator","filterAfterOperator","filterBeforeOperator","filterBeforeOrEqualOperator","filterFilterButton","filterClearButton","filterAndLogic","filterOrLogic","loading","columns","lock","unlock","setColumnPosition","stick","unstick","sortable","sortAscending","sortDescending","sortedAscending","sortedDescending","sortedDefault","columnsApply","columnsReset","detailExpand","detailCollapse","filterDateToday","filterDateToggle","filterNumericDecrement","filterNumericIncrement","selectionCheckboxLabel","selectAllCheckboxLabel","pagerLabel","filterInputLabel","filterMenuTitle","filterMenuOperatorsDropDownLabel","filterMenuLogicDropDownLabel","columnMenu"],["class","k-toolbar k-grid-toolbar","position","top",4,"ngIf"],["class","k-grid-pager-top",3,"tabindex","template","pageSize","total","skip","options","pageChange",4,"ngIf"],[3,"text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root"],["ariaRoot",""],[3,"ngIf"],[3,"tabindex","template","pageSize","total","skip","options","pageChange",4,"ngIf"],["class","k-toolbar k-grid-toolbar k-grid-toolbar-bottom","position","bottom",4,"ngIf"],["position","top",1,"k-toolbar","k-grid-toolbar"],[1,"k-grid-pager-top",3,"tabindex","template","pageSize","total","skip","options","pageChange"],[3,"text","groups","change"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],["kendoDraggable","","kendoGridSelectionMarquee","",3,"data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","rowClass","rowSticky","loading","isVirtual","virtualColumns","enableDrag","pageChange","scrollBottom","contentScroll"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["header",""],["role","presentation",3,"virtualColumns"],["kendoGridColGroup","","role","presentation",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","presentation",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","detailTemplate","tabIndex"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["lockedHeader",""],["role","presentation",3,"locked"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","detailTemplate","tabIndex"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["footer",""],["role","presentation"],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridFooter","",3,"logicalRowIndex","scrollable","groups","columns","lockedColumnsCount","detailTemplate"],[1,"k-grid-footer-locked"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate","logicalRowIndex"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex",4,"ngIf"],["kendoGridTableBody","","kendoDraggable","","kendoGridSelectionMarquee","",3,"groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass","enableDrag"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate"],["kendoGridLoading",""],[3,"tabindex","template","pageSize","total","skip","options","pageChange"],["position","bottom",1,"k-toolbar","k-grid-toolbar","k-grid-toolbar-bottom"]],template:function(e,t){1&e&&(zo(0,0),Gl(1,TM),jo(),Ao(2,_M,1,0,"kendo-grid-toolbar",1),Ao(3,FM,1,7,"kendo-pager",2),Ao(4,DM,1,2,"kendo-grid-group-panel",3),Vo(5,"div",4,5),Ao(7,LM,3,22,"ng-template",6),Ao(8,zM,6,20,"ng-template",6),Ho(),Ao(9,jM,1,7,"kendo-pager",7),Ao(10,UM,1,0,"kendo-grid-toolbar",8)),2&e&&(Kl("Page navigation, page {currentPage} of {totalPages}")("{columnName} Filter")("{columnName} Filter Menu")("{columnName} Filter Operators")("{columnName} Filter Logic")("{columnName} Column Menu"),function(e){if($l){const e=Yt(),t=e.data[21];let i,n=null;Array.isArray(t)?i=t:(i=t.update,n=t.icus);const s=ri()-$l-1,r=Zt();!function e(t,i,n,s,r,o,a=!1){let l=!1;for(let c=0;c<t.length;c++){const u=t[c],h=t[++c];if(a||u&s){let a="";for(let u=c+1;u<=c+h;u++){const c=t[u];if("string"==typeof c)a+=c;else if("number"==typeof c)if(c<0)a+=Vi(o[n-c]);else{const h=c>>>2;let d,p,f;switch(3&c){case 1:const c=t[++u],g=t[++u];zs(r,Vt(r,h),o,c,a,o[11],g,!1);break;case 0:fr(o,h,a);break;case 2:if(d=t[++u],p=i[d],f=Vt(r,h),null!==f.activeCaseIndex){const e=p.remove[f.activeCaseIndex];for(let t=0;t<e.length;t++){const n=e[t];switch(7&n){case 3:Ul(r,o,n>>>3,!1);break;case 6:const s=Vt(r,e[t+1]>>>3).activeCaseIndex;null!==s&&et(i[n>>>3].remove[s],e)}}}const m=Wl(p,a);f.activeCaseIndex=-1!==m?m:null,m>-1&&(jl(-1,p.create[m],r,o),l=!0);break;case 3:d=t[++u],p=i[d],f=Vt(r,h),null!==f.activeCaseIndex&&e(p.update[f.activeCaseIndex],i,n,s,r,o,l)}}}}c+=h}}(i,n,s,ql,e,r),ql=0,$l=0}}(),ms(2),Mo("ngIf",t.showTopToolbar),ms(1),Mo("ngIf",t.showTopPager),ms(1),Mo("ngIf",t.showGroupPanel),ms(1),Fo("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount),ms(2),Mo("ngIf",t.isScrollable),ms(1),Mo("ngIf",!t.isScrollable),ms(1),Mo("ngIf",t.showBottomPager),ms(1),Mo("ngIf",t.showBottomToolbar))},directives:function(){return[oG,Lh,yK,Rq,Kq,tG,fb,$z,UG,nq,zG,m$,gK,oK,jG]},styles:["   .k-grid .k-grid-aria-root {\n            display: flex;\n            flex-direction: column;\n            flex: 1 1 auto;\n            overflow: hidden;\n        }\n\n        .k-grid .k-filter-row td {\n            white-space: nowrap;\n        }"],encapsulation:2}),e})();class UU{constructor(e=0,t,i){this.total=e,this.rowHeight=t,this.detailRowHeight=i,this.offsets=[],this.heights=[];let n=0;for(let s=0;s<e;s++)this.offsets.push(n),n+=t,this.heights.push(t)}height(e){return this.heights[e]}expandDetail(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}collapseDetail(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}isExpanded(e){return this.height(e)>this.rowHeight}index(e){if(e<0)return;const t=this.offsets.reduce((t,i,n)=>void 0!==t?t:i===e?n:i>e?n-1:void 0,void 0);return void 0===t?this.total-1:t}offset(e){return this.offsets[e]}totalHeight(){return this.heights.reduce((e,t)=>e+t,0)}updateRowHeight(e,t){this.total>0&&(this.heights[e]+=t,this.offsets=((e,t,i)=>[...e.slice(0,t+1),...e.slice(t+1).map(e=>e+i)])(this.offsets,e,t))}}class GU{constructor(e){this.offset=e}}class qU{constructor(e,t){this.skip=e,this.take=t}}class $U{}class KU{constructor(e){this.scrollObservable=e,this.firstLoaded=0}create(e,t,i,n){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=n,this.lastScrollTop=0;const s=new Yf(new GU(this.rowHeightService.offset(t)));return this.subscription=w.create(e=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(t=>this.onScroll(t,e))}).subscribe(e=>s.next(e)),s}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollTop:e,offsetHeight:t,scrollHeight:i,clientHeight:n},s){if(this.lastScrollTop===e)return;const r=this.lastScrollTop>=e;this.lastScrollTop=e;let o=this.rowHeightService.index(e),a=this.rowHeightService.offset(o);const l=this.rowHeightService.index(e+t);if(!r)if(l>=this.lastLoaded&&this.lastLoaded<this.total){const e=o+this.take-this.total;e>0&&(o-=e,a=this.rowHeightService.offset(o)),this.firstLoaded=o,s.next(new GU(a));let t=this.firstLoaded+this.take;this.lastLoaded=Math.min(t,this.total),t=t>this.total?this.total-this.firstLoaded:this.take,s.next(new qU(this.firstLoaded,this.take))}else i-n-e<2&&s.next(new $U);if(r&&o<this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=Math.max(o-e,0),s.next(new GU(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new qU(this.firstLoaded,this.take))}}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}const WU=(e,t,i)=>{for(let n=0,s=0;n<t.length;n++){const r=i(t[n]);if(s<=e&&e<=s+r-1)return t[n];s+=r}},ZU=(e,t)=>WU(e,t,e=>e.hasAttribute("data-kendo-grid-item-index")?1:0),YU={},QU=new Ve("grid-scroll-service-factory");function JU(e){return new KU(e)}const XU=e=>{const t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},eG=e=>e?e.nativeElement:null;let tG=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,u,h,d,p,f,g,m,v){this.changeNotification=i,this.suspendService=n,this.groupsService=s,this.ngZone=r,this.renderer=o,this.scrollSyncService=a,this.resizeService=l,this.editService=c,this.supportService=u,this.navigationService=h,this.localization=p,this.columnResizingService=f,this.changeDetector=g,this.pdfService=m,this.columnInfo=v,this.groups=[],this.skip=0,this.columns=new Gj(()=>[]),this.selectable=!1,this.groupable=!1,this.trackBy=VU,this.contentScroll=new gc,this.pageChange=new gc,this.scrollBottom=new gc,this.columnsStartIdx=0,this.resizeSensors=new vc,this.dispatcher=new E,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=e(this.dispatcher),this.subscriptions=t.changes.subscribe(e=>this.detailExpand(e)).add(d.requests.subscribe(e=>this.scrollTo(e)))}get hostClass(){return!0}get hostRole(){return"presentation"}get showFooter(){return this.groupable&&this.groupable.showFooter}get totalWidth(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}get lockedLeafColumns(){return this.columns.lockedLeafColumns}get nonLockedLeafColumns(){return this.columns.nonLockedLeafColumns}get nonLockedColumnsToRender(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}get leafColumns(){return this.columns.leafColumnsToRender}get lockedWidth(){const e=32*this.groups.length;return fj(this.lockedLeafColumns.toArray()).reduce((e,t)=>e+(t.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return yj(fj(this.nonLockedColumnsToRender.toArray()))}get isLocked(){return this.lockedLeafColumns.length>0}ngOnInit(){this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(K(this.columns.changes,this.resizeService.changes).subscribe(()=>{this.virtualColumns&&this.ngZone.run(()=>{this.updateViewportColumns(),this.changeDetector.markForCheck()})})),this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnChanges(e){e.skip&&e.skip.firstChange&&e.skip.currentValue>0&&this.handleInitialScrollToSkip(),ub("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),hb(["total","take"],e)&&this.init(),this.rebind=!1}ngDoCheck(){!this.virtualColumns||this.viewportColumns&&!this.viewportWidthChange()||this.updateViewportColumns()}ngAfterViewInit(){this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService()}ngAfterViewChecked(){const e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}syncRowsHeight(){this.lockedContainer&&Xj(this.lockedTable.nativeElement,this.table.nativeElement)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}init(){this.suspendService.scroll||(this.rowHeightService=new UU(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),MB()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}lockedScroll(){if(!this.suspendService.scroll){const e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}lockedMousewheel(e){if(!e.ctrlKey){((e,t)=>{const i=XU(e),n=t.scrollTop;0===n&&0<i||t.scrollHeight<=t.offsetHeight+n&&i<0||event.preventDefault()})(e,this.container.nativeElement);const t=XU(e);this.container.nativeElement.scrollTop-=t}}lockedKeydown(e){if(e.keyCode===_b.PageDown||e.keyCode===_b.PageUp){const t=this.container.nativeElement;t.scrollTop+=t.offsetHeight*(e.keyCode===_b.PageDown?1:-1)*.8,e.preventDefault()}}detailExpand({index:e,expand:t}){t?this.rowHeightService.expandDetail(e):this.rowHeightService.collapseDetail(e),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}attachContainerScroll(){MB()||(this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(lb(this.container.nativeElement,"scroll").pipe(L(e=>e.target),hg(()=>!this.suspendService.scroll),Gg(e=>{this.onContainerScroll(e),this.resetNavigationViewport(),this.virtualColumns&&this.handleColumnScroll();const t=this.navigationService.viewport||YU,i=this.navigationService.columnViewport||YU;this.contentScroll.emit({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,startRow:t.firstItemIndex,endRow:t.lastItemIndex,startColumn:i.firstItemIndex,endColumn:i.lastItemIndex})})).subscribe(this.dispatcher))}),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}createScroller(){this.cleanupScroller();const e=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=e.pipe(hg(e=>e instanceof qU),hg(()=>{const e=this.skipScroll;return this.skipScroll=!1,!e}),Gg(()=>this.rebind=!0)).subscribe(e=>this.ngZone.run(()=>this.pageChange.emit(e))),this.scrollerSubscription.add(e.pipe(hg(e=>e instanceof GU)).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(e.pipe(hg(e=>e instanceof $U)).subscribe(()=>this.scrollBottom.emit()))}scroll({offset:e=0}){var t,i;this.isVirtual&&[eG(this.table),eG(this.lockedTable)].filter(DB).forEach((t=this.renderer,i=e,e=>t.setStyle(e,"transform",`translateY(${i}px)`))),this.resetNavigationViewport()}onContainerScroll({scrollTop:e}){this.containerScrollTop=e,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=e)}handleInitialScrollToSkip(){const e=this.changeNotification.changes.pipe(hg(()=>this.isVirtual&&this.skip>0&&this.total>0)).subscribe(t=>{this.scrollTo({row:this.skip}),e.unsubscribe()})}handleRowSync(){const e=()=>DB(this.lockedContainer);return K(this.changeNotification.changes,this.groupsService.changes.pipe(hg(e),$b((()=>this.ngZone.onStable.asObservable().pipe(Fg(1)))())),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(hg(e=>"end"===e.type)),this.supportService.changes).pipe(Gg(()=>this.resetNavigationViewport()),hg(e)).subscribe(()=>{const e=this.container.nativeElement.scrollTop,t=this.container.nativeElement.scrollLeft;this.syncRowsHeight(),this.syncContainerHeight(),this.lockedContainer.nativeElement.scrollTop=this.container.nativeElement.scrollTop=e,this.container.nativeElement.scrollLeft=t,this.resizeSensors.forEach(e=>e.acceptSize())})}handleRowNavigationLocked(){return this.navigationService.changes.pipe(hg(()=>DB(this.lockedContainer)),Qb(10)).subscribe(e=>{if(this.lockedLeafColumns.length<=e.prevColIndex&&e.colIndex<this.lockedLeafColumns.length){const t=this.navigationService.activeCell;t&&t.colIndex+t.colSpan<e.prevColIndex&&(this.container.nativeElement.scrollLeft=0)}})}scrollToVirtualRow(e){DB(this.detailTemplate)&&(e=Math.floor(e/2));const t=this.rowHeightService.offset(e);this.container.nativeElement.scrollTop=t,this.resetNavigationViewport()}scrollTo({row:e,column:t}){if(VB(e))if(this.isVirtual)this.scrollToVirtualRow(e);else{const t=ZU(e,this.table.nativeElement.rows);t&&(this.container.nativeElement.scrollTop=t.offsetTop)}if(VB(t))if(t-=this.lockedLeafColumns.length,this.virtualColumns){const e=this.columns.leafColumnsToRender;let i=0;for(let n=0;n<t;n++)i+=e[n].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(i+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&t>0?32:0)))}else if(0===t&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{const e=ZU(0,this.table.nativeElement.rows);if(e){const i=WU(t,e.cells,e=>iz(e,"k-hierarchy-cell k-detail-cell k-group-cell")?0:parseInt(e.getAttribute("colSpan"),10)||1);i&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(i))}}}resetNavigationViewport(){if(!this.container||!this.navigationService.enabled||!this.navigationService.needsViewport()||0===this.data.length)return;const{scrollTop:e,offsetHeight:t}=this.container.nativeElement,i=e+t,n=this.rowHeightService.index(e);let s=this.rowHeightService.index(i);const r=this.rowHeightService.offset(s);s>0&&r+this.rowHeight>i&&s--;let o=n,a=s;if(DB(this.detailTemplate)){o*=2,a*=2,this.rowHeightService.offset(n)+this.rowHeight<e&&o++;const t=r+this.rowHeightService.height(s)>i;this.rowHeightService.isExpanded(s)&&!t&&a++}this.navigationService.setViewport(o,a)}cleanupScroller(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}initResizeService(){this.resizeService.connect(K(...this.resizeSensors.map(e=>e.resize)))}syncContainerHeight(){var e;[eG(this.lockedContainer)].filter(DB).map(e=>{e.style.height="";let t=this.container.nativeElement.offsetHeight;return((e,t)=>this.table.nativeElement.offsetWidth>this.container.nativeElement.clientWidth)()&&(t-=this.supportService.scrollbarWidth),{el:e,height:t}}).forEach((e=this.renderer,({el:t,height:i})=>e.setStyle(t,"height",i+"px")))}updateViewportColumns(e){const t=this.columns.nonLockedLeafColumns.toArray();let{startIdx:i,endIdx:n,offset:s}=e||this.calculateViewportColumns();const r=Math.max(0,i-1),o=Math.min(n+1,t.length-1);if(r<i)for(let l=i-1;l>=r;l--)s-=t[l].width;let a=t.slice(r,o+1);if(this.viewportColumnsWidth=a.reduce((e,t)=>e+t.width,0),r>0){const e=new rj;e.width=s,a.unshift(e)}this.viewportColumns=new vc,this.viewportColumns.reset(a),this.columnsStartIdx=r,this.columnsEndIdx=o,this.columnInfo.columnRangeChange.emit({start:r,end:o,offset:s}),e||this.updateColumnViewport(i,n)}handleColumnScroll(){const e=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==e){this.scrollLeft=e;const t=this.calculateViewportColumns();this.updateColumnViewport(t.startIdx,t.endIdx),(t.startIdx<this.columnsStartIdx||this.columnsEndIdx<t.endIdx)&&(KB(this.columnUpdateFrame),this.columnUpdateFrame=$B(()=>{this.ngZone.run(()=>{this.updateViewportColumns(t),this.changeDetector.markForCheck()})}))}}updateColumnViewport(e,t){const i=this.lockedLeafColumns.length,n=this.nonLockedLeafColumns.toArray(),s=i+e+(this.detailTemplate&&e>0?1:0);let r=i+t+(this.detailTemplate?1:0);for(let o=0;o<n.length;o++){const e=n[o];e.isSpanColumn&&(r+=e.childColumns.length)}this.navigationService.setColumnViewport(s,r)}calculateViewportColumns(){const{scrollLeft:e,clientWidth:t}=this.container.nativeElement,i=this.columns.nonLockedLeafColumns.toArray(),n=this.normalizeScrollLeft(e),s=n+t;let r,o,a=0,l=0,c=0;for(o=0;o<i.length;o++){const e=i[o];if(l+=e.width||0,void 0===r&&l>n&&(r=o,c=l-(e.width||0)),l>=s){a=o;break}}return!a&&o>0&&(a=i.length-1),{startIdx:r,endIdx:a,offset:c}}viewportWidthChange(){return this.viewportColumns.toArray().reduce((e,t)=>e+t.width,0)!==this.viewportColumnsWidth}normalizeScrollLeft(e){return this.rtl?function(e,t,i){let n=e;return i<0?n=-e:i>0&&(n=t.scrollWidth-t.offsetWidth-e),n}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}elementScrollLeft(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}};return e.\u0275fac=function(t){return new(t||e)(Oo(QU),Oo(Az),Oo(Yj),Oo(rU),Oo(Tz),Oo(ou),Oo(Ja),Oo(uU),Oo(hU),Oo(Ez),Oo(Oj),Oo(jz),Oo(Rz),Oo(jb),Oo(fU),Oo(Wr),Oo(nU),Oo(PU))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-list"]],viewQuery:function(e,t){var i;1&e&&(Tc(GM,!0),_c(qM,!0),_c($M,!0),Tc(KM,!0),_c(Eb,!0)),2&e&&(Ic(i=Oc())&&(t.container=i.first),Ic(i=Oc())&&(t.lockedContainer=i.first),Ic(i=Oc())&&(t.lockedTable=i.first),Ic(i=Oc())&&(t.table=i.first),Ic(i=Oc())&&(t.resizeSensors=i))},hostVars:3,hostBindings:function(e,t){2&e&&(Fo("role",t.hostRole),ua("k-grid-container",t.hostClass))},inputs:{groups:"groups",skip:"skip",columns:"columns",selectable:"selectable",groupable:"groupable",trackBy:"trackBy",data:"data",total:"total",rowHeight:"rowHeight",stickyRowHeight:"stickyRowHeight",detailRowHeight:"detailRowHeight",take:"take",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",filterable:"filterable",rowClass:"rowClass",rowSticky:"rowSticky",loading:"loading",virtualColumns:"virtualColumns",isVirtual:"isVirtual"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[Ga([{provide:QU,useValue:JU}]),Pa],decls:14,vars:33,consts:[["class","k-grid-content-locked","role","presentation",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["container",""],["role","presentation",1,"k-grid-table-wrap"],["role","presentation",1,"k-grid-table",3,"virtualColumns"],["table",""],["kendoGridColGroup","","role","presentation",3,"groups","columns","detailTemplate"],["kendoGridTableBody","","role","presentation",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","skip","selectable","trackBy","filterable","rowClass","rowSticky","virtualColumns"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["role","presentation",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["lockedContainer",""],["role","presentation",1,"k-grid-table",3,"locked"],["lockedTable",""],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass"],["role","presentation",1,"k-width-container"],["kendoGridLoading",""]],template:function(e,t){1&e&&(Ao(0,ZM,10,30,"div",0),Vo(1,"div",1,2),Vo(3,"div",3),Vo(4,"table",4,5),Bo(6,"colgroup",6),Bo(7,"tbody",7),Ho(),Ao(8,YM,1,0,"kendo-resize-sensor",8),Ho(),Ao(9,QM,1,0,"kendo-resize-sensor",8),Vo(10,"div",9),Bo(11,"div"),Ho(),Ao(12,JM,2,2,"div",10),Ho(),Ao(13,XM,1,0,"div",11)),2&e&&(Mo("ngIf",t.isLocked),ms(1),Mo("kendoGridResizableContainer",t.lockedLeafColumns.length)("lockedWidth",t.lockedWidth+1),ms(3),ca("width",t.nonLockedWidth,"px"),Mo("virtualColumns",t.virtualColumns),ms(2),Mo("groups",t.isLocked?ec(32,OM):t.groups)("columns",t.nonLockedColumnsToRender)("detailTemplate",t.detailTemplate),ms(1),Mo("skipGroupDecoration",t.isLocked)("data",t.data)("groups",t.groups)("showGroupFooters",t.showFooter)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("rowSticky",t.rowSticky)("virtualColumns",t.virtualColumns),ms(1),Mo("ngIf",t.isLocked),ms(1),Mo("ngIf",t.isLocked||t.virtualColumns),ms(2),ca("height",t.totalHeight,"px"),ms(1),Mo("ngIf",t.virtualColumns),ms(1),Mo("ngIf",t.loading))},directives:function(){return[Lh,UG,nq,zG,oK,mb,Eb,jG]},encapsulation:2}),e})(),iG=(()=>{let e=class{constructor(e,t,i){this.grid=e,this.changeDetector=t,this.localDataChangesService=i,this.state={skip:0},this.originalData=[],i&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(this.rebind.bind(this)))}set skip(e){DB(e)||(e=0),this.grid.skip=this.state.skip=e}set sort(e){this.grid.sort=this.state.sort=e}set filter(e){this.grid.filter=this.state.filter=e}set pageSize(e){this.grid.pageSize=this.state.take=e}set group(e){this.grid.group=this.state.group=e}set data(e){this.originalData=e||[],this.localDataChangesService&&(this.localDataChangesService.data=e),this.dataChanged=!0}ngOnInit(){this.applyState(this.state),this.stateChangeSubscription=this.grid.dataStateChange.subscribe(this.onStateChange.bind(this))}ngOnDestroy(){this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.dataChangedSubscription&&this.dataChangedSubscription.unsubscribe()}ngOnChanges(e){hb(["pageSize","skip","sort","group","filter"],e)&&this.rebind()}ngDoCheck(){this.dataChanged&&this.updateGridData()}onStateChange(e){this.applyState(e),this.rebind()}rebind(){this.data=this.originalData,this.updateGridData(),this.notifyDataChange()}notifyDataChange(){this.grid.onDataChange(),this.changeDetector&&this.changeDetector.markForCheck()}process(e){return sx(this.originalData,e)}applyState({skip:e,take:t,sort:i,group:n,filter:s}){this.skip=e,this.pageSize=t,this.sort=i,this.group=n,this.filter=s}updateGridData(){this.grid.data=this.process(this.state),this.dataChanged=!1}};return e.\u0275fac=function(t){return new(t||e)(Oo(jU),Oo(Wr),Oo(YB))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridBinding",""]],inputs:{skip:"skip",sort:"sort",filter:"filter",pageSize:"pageSize",group:"group",data:["kendoGridBinding","data"]},features:[Pa]}),e})(),nG=(()=>{let e=class extends Uj{constructor(e,t){super(e,t),this.grid=e}ngOnInit(){!1===this.grid.selectable&&(this.grid.selectable=!0),this.grid.selectionDirective=this}ngOnDestroy(){super.destroy()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jU),Oo(Wr))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSelectBy",""]],features:[_a]}),e})(),sG=(()=>{class e extends Hb{}return e.\u0275fac=function(t){return wK(t||e)},e.\u0275dir=bt({type:e,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerLabel:"pagerLabel",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",filter:"filter",filterInputLabel:"filterInputLabel",filterMenuTitle:"filterMenuTitle",filterMenuOperatorsDropDownLabel:"filterMenuOperatorsDropDownLabel",filterMenuLogicDropDownLabel:"filterMenuLogicDropDownLabel",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",columnMenu:"columnMenu",setColumnPosition:"setColumnPosition",columns:"columns",lock:"lock",unlock:"unlock",stick:"stick",unstick:"unstick",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse",filterDateToday:"filterDateToday",filterDateToggle:"filterDateToggle",filterNumericDecrement:"filterNumericDecrement",filterNumericIncrement:"filterNumericIncrement",selectionCheckboxLabel:"selectionCheckboxLabel",selectAllCheckboxLabel:"selectAllCheckboxLabel"},features:[_a]}),e})();var rG;let oG=(()=>{let e=rG=class extends sG{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridLocalizedMessages",""]],features:[Ga([{provide:sG,useExisting:xe(()=>rG)}]),_a]}),e})(),aG=(()=>{let e=class{constructor(e,t){this.localization=e,this.columnInfoService=t,this.columns=[],this.groups=[],this.filterRowClass=!0}addStickyStyles(e){return this.columnInfoService.stickyColumnsStyles(e)}filterLabel(e){const t=this.localization.get("filterInputLabel")||"";return WB(t,"columnName",e.title||e.field)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(PU))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",groups:"groups",filter:"filter",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:eL,decls:3,vars:3,consts:[["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"k-grid-header-sticky","ngStyle","column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"ngStyle","column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&(Ao(0,tL,1,2,"td",0),Ao(1,iL,1,2,"td",1),Ao(2,nL,1,8,"td",2)),2&e&&(Mo("ngForOf",t.groups),ms(1),Mo("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),ms(1),Mo("ngForOf",t.columns))},directives:function(){return[Nh,Lh,cG,KG,Gh]},encapsulation:2}),e})();const lG=e=>{if(e)return XC(e)?{filters:lG(e.filters),logic:e.logic}:Array.isArray(e)?e.map(lG):(e=>(e=>{const t={};if(Object.assign(t,e),e.constructor!==Object){const i=e.constructor.prototype;Object.getOwnPropertyNames(i).forEach(n=>{"constructor"!==n&&i.hasOwnProperty(n)&&(t[n]=e[n])})}return t})(e))(e)};let cG=(()=>{let e=class{constructor(){this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=lG(e)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}get hasTemplate(){return DB(this.column.filterCellTemplateRef)}get isFilterable(){return DB(this.column)&&!PB(this.column.field)&&this.column.filterable}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:sL,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ao(0,cL,3,3,"ng-template",0),2&e&&Mo("ngIf",t.isFilterable)},directives:function(){return[Lh,zh,jh,Tq,qh]},encapsulation:2}),e})();const uG=(e=>t=>Object.keys(e).reduce((i,n)=>(i[e[n]]=t.get(n),i),{}))({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"}),hG=e=>e.map(e=>e.toJSON());let dG=(()=>{class e{constructor(e,t){this.operator=e,this.localization=t,this.messages=uG(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}get text(){return this._text}set text(e){this._text=PB(e)?this.messages[this.operator]:e}toJSON(){return{text:this.text,value:this.operator}}refreshText(){const e=this._text===this.messages[this.operator];this.messages=uG(this.localization),e&&(this._text=this.messages[this.operator])}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{text:"text"}}),e})();const pG=(e,t,i,n)=>DB(t)&&DB(t.filters)&&t.filters.length>e?t.filters[e]:((e,t,i)=>((t=t||{filters:[],logic:"and"}).filters[e]=i,i))(e,t,{field:i,operator:n}),fG=e=>[{text:e.get("filterAndLogic"),value:"and"},{text:e.get("filterOrLogic"),value:"or"}],gG=e=>DB(e.filters)?e.filters.reduce((e,t)=>e.concat(XC(t)?gG(t):[t]),[]):[],mG=(e,t)=>{DB(e)&&DB(e.filters)&&(e.filters=e.filters.filter(e=>XC(e)?(mG(e,t),e.filters.length):e.field!==t))},vG=(e,t)=>gG(e||{}).filter(e=>e.field===t),yG=(e,t)=>(mG(e,t),e),bG=e=>t=>Object.keys(e).map(i=>({text:t.get(i),value:e[i]}));let wG=(()=>{class e{constructor(e){this.filterService=e,this.operatorList=new vc}get hostClasses(){return!0}get operators(){return this._operators.length?this._operators:this.defaultOperators}set operators(e){this._operators=e}ngAfterContentInit(){this.operationListSubscription=NB(this.operatorList).pipe(L(e=>e.toArray()),L(hG)).subscribe(e=>{this.operators=e})}ngOnDestroy(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}filterByField(e){return((e,t)=>{let[i]=vG(e,t);return i})(this.filter,e)}filtersByField(e){return vG(this.filter,e)}removeFilter(e){return yG(this.filter,e)}updateFilter(e){const t=this.filter||{filters:[],logic:"and"};let[i]=gG(t).filter(t=>t.field===e.field);return DB(i)?Object.assign(i,e):t.filters.push(e),t}applyFilter(e){this.filterService.filter(e)}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,contentQueries:function(e,t,i){var n;1&e&&Dc(i,dG,!1),2&e&&Ic(n=Oc())&&(t.operatorList=n)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)}}),e})();const CG=bG({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let SG=(()=>{class e extends wG{constructor(e,t){super(e),this.localization=t,this.operator="eq",this.step=1,this.spinners=!0,this.defaultOperators=CG(this.localization)}set format(e){this._format=e}get format(){return PB(this._format)?this.columnFormat:this._format}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!PB(this.column.format)?HB(this.column.format):"n2"}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=CG(this.localization),this.operatorList.length&&(this.operators=hG(this.operatorList.toArray()))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[_a]}),e})(),xG=(()=>{let e=class extends SG{constructor(e,t){super(e,t),this.localization=t,this.filterDelay=500,this.showOperators=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return WB(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Oo(tU),Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[_a],decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Vo(1,"kendo-numerictextbox",1),Bo(2,"kendo-numerictextbox-messages",2),Ho(),Ho()),2&e&&(Mo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),ms(1),Mo("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),ms(1),Mo("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},directives:function(){return[FG,pF,vz,kG,mF]},encapsulation:2}),e})(),kG=(()=>{let e=class{constructor(e,t,i,n){this.element=i,this.renderer=n,this.change=new gc,this.composing=!1,this.filterDelay=500,this.changeRequests=new E,this.accessor=e[0],t.runOutsideAngular(()=>{const e=n.listen(i.nativeElement,"compositionstart",()=>this.composing=!0),t=n.listen(i.nativeElement,"compositionend",()=>this.composing=!1);this.unsubscribeEvents=()=>{e(),t()}})}set value(e){this.accessor.writeValue(e)}set disabled(e){this.accessor.setDisabledState(e)}ngAfterViewInit(){this.addAriaAttributes(),this.accessor.registerOnChange(e=>this.filterDelay>0?this.changeRequests.next(e):this.change.emit(e)),this.subscribeChanges()}ngOnChanges(e){ub("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.unsubscribeChanges(),this.unsubscribeEvents()}subscribeChanges(){this.changeRequestsSubscription=this.changeRequests.pipe(function(e,t=ib){return i=>i.lift(new aw(e,t))}(this.filterDelay),hg(()=>!this.composing)).subscribe(e=>this.change.emit(e))}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}addAriaAttributes(){const e=this.columnLabel;if(this.kendoInput&&this.kendoInput.focusableId&&cb()){const t=this.element.nativeElement.querySelector("#"+this.kendoInput.focusableId);this.renderer.setAttribute(t,"aria-label",e)}else this.renderer.setAttribute(this.element.nativeElement,"aria-label",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(fw,2),Oo(ou),Oo(Wa),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterInput",""]],contentQueries:function(e,t,i){var n;1&e&&Ac(i,Tb,!0),2&e&&Ic(n=Oc())&&(t.kendoInput=n.first)},inputs:{filterDelay:"filterDelay",value:"value",columnLabel:"columnLabel"},features:[Pa]}),e})();const EG=new Set(["isnull","isnotnull","isempty","isnotempty"]),IG=e=>EG.has(e);let TG=(()=>{class e extends wG{constructor(e){super(e),this.operators=[]}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){const e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator}set currentOperator(e){this._operator=e;const t=IG(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!AB(e)&&DB(this.currentFilter)&&this.onChange(this.currentFilter.value)}get defaultOperator(){return PB(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator}set defaultOperator(e){this._defaultOperator=e}set filterInputDisabled(e){this.input&&(this.input.disabled=e)}ngAfterContentInit(){DB(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=IG(this.currentOperator))}ngOnDestroy(){super.ngOnDestroy(),this.changeSubscription&&this.changeSubscription.unsubscribe()}onChange(e){PB(e)&&!this.filterByField(this.column.field)||this.filterChange(PB(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onClear(){this.onChange(null),this.filterInputDisabled=IG(this.defaultOperator)}applyNoValueFilter(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}ngOnChanges(e){ub("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=IG(this.currentOperator))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,contentQueries:function(e,t,i){var n;1&e&&Dc(i,kG,!0),2&e&&Ic(n=Oc())&&(t.input=n.first)},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[_a,Pa]}),e})();const _G=["isnull","isnotnull","isempty","isnotempty"];let FG=(()=>{let e=class extends TG{constructor(e){super(e),this.showOperators=!0}get hostClasses(){return!0}get overrideBaseClasses(){return!1}get showButton(){const e=this.currentFilter;return DB(e)&&(!PB(e.value)||_G.indexOf(String(e.operator))>=0)}filterChange(e){this.applyFilter(e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(tU))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&ua("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[_a],ngContentSelectors:uL,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,t){1&e&&(Jo(),Xo(0),Vo(1,"kendo-grid-filter-cell-operators",0),Ko("clear",(function(){return t.onClear()}))("valueChange",(function(e){return t.currentOperator=e})),Ho()),2&e&&(ms(1),Mo("showOperators",t.showOperators)("operators",t.operators)("showButton",t.showButton)("value",t.currentOperator))},directives:function(){return[OG]},encapsulation:2}),e})();const DG=bG({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let AG=(()=>{class e extends wG{constructor(e,t){super(e),this.localization=t,this.operator="contains"}get currentFilter(){return this.filterByField((this.column||{}).field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=DG(this.localization),this.operatorList.length&&(this.operators=hG(this.operatorList.toArray()))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{operator:"operator",column:"column",filter:"filter"},features:[_a]}),e})(),RG=(()=>{let e=class extends AG{constructor(e,t){super(e,t),this.filterDelay=500,this.showOperators=!0}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return WB(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Oo(tU),Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[_a],decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",1,"k-textbox",3,"columnLabel","filterDelay","ngModel"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Bo(1,"input",1),Ho()),2&e&&(Mo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),ms(1),Mo("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[FG,bw,vz,kG,Iw,EC],encapsulation:2}),e})(),OG=(()=>{let e=class{constructor(e){this.localization=e,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new gc,this.clear=new gc}get hostClasses(){return!0}onChange(e){this.valueChange.emit(e)}clearClick(){return this.clear.emit(),!1}clearKeydown(e){e.keyCode!==_b.Enter&&e.keyCode!==_b.Space||this.clear.emit()}dropdownKeydown(e){e.defaultPrevented||e.keyCode!==_b.Enter||this.dropdown.isOpen||(this.dropdown.toggle(!0),e.preventDefault())}ngOnInit(){this.localization.changes.subscribe(()=>this.clearText=this.localization.get("filterClearButton"))}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,t){var i;1&e&&_c(hL,!0),2&e&&Ic(i=Oc())&&(t.dropdown=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoGridFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoGridFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoGridFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,t){1&e&&(Ao(0,pL,2,5,"kendo-dropdownlist",0),Vo(1,"button",1),Ko("click",(function(){return t.clearClick()}))("keydown",(function(e){return t.clearKeydown(e)})),Bo(2,"span",2),Ho()),2&e&&(Mo("ngIf",t.showOperators),ms(1),Mo("ngClass",tc(3,fL,t.showButton))("title",t.clearText))},directives:[Lh,vz,Oh,ZE],encapsulation:2}),e})();const PG=bG({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let NG=(()=>{let e=class extends wG{constructor(e,t,i){super(e),this.localization=i,this.showOperators=!0,this.defaultOperators=PG(this.localization),this.column=t}set valueField(e){this._valueField=e}get valueField(){return this._valueField?this._valueField:this.column.field}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:"contains"}};return e.\u0275fac=function(t){return new(t||e)(Oo(tU),Oo(uj),Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[_a],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Bo(1,"kendo-autocomplete",1),Ho()),2&e&&(Mo("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),ms(1),Mo("data",t.data)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[FG,qE,kG],encapsulation:2}),e})(),MG=(()=>{class e extends wG{constructor(e,t){super(e),this.localization=t,this.operator="eq",this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}get hostClasses(){return!0}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[_a]}),e})(),LG=(()=>{let e=class extends MG{constructor(e,t,i){super(e,t),this.cd=i}localizationChange(){super.localizationChange(),this.cd.markForCheck()}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return WB(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Oo(tU),Oo(jb),Oo(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-boolean-filter-cell"]],features:[_a],decls:2,vars:11,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","kendoGridFocusable","","textField","text","valueField","value",3,"columnLabel","defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Bo(1,"kendo-dropdownlist",1),Ho()),2&e&&(Mo("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),ms(1),Mo("columnLabel",t.columnLabel)("defaultItem",t.defaultItem)("data",t.items)("popupSettings",ec(10,dL))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[FG,ZE,kG,vz],encapsulation:2}),e})();const VG=bG({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let HG=(()=>{class e extends wG{constructor(e,t){super(e),this.localization=t,this.operator="gte",this.activeView="month",this.bottomView="month",this.topView="century",this.weekNumber=!1,this.defaultOperators=VG(this.localization)}get currentFilter(){return this.filterByField(this.column.field)}set format(e){this._format=e}get format(){return PB(this._format)?this.columnFormat:this._format}get columnFormat(){return this.column&&!PB(this.column.format)?HB(this.column.format):"d"}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=VG(this.localization),this.operatorList.length&&(this.operators=hG(this.operatorList.toArray()))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[_a]}),e})(),BG=(()=>{let e=class extends HG{constructor(e,t){super(e,t),this.localization=t,this.showOperators=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return WB(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Oo(tU),Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[_a],decls:3,vars:18,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","","kendoGridFocusable","",3,"columnLabel","value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"],[3,"toggle","today"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-wrapper-cell",0),Vo(1,"kendo-datepicker",1),Bo(2,"kendo-datepicker-messages",2),Ho(),Ho()),2&e&&(Mo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),ms(1),Mo("columnLabel",t.columnLabel)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),ms(1),Mo("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},directives:[FG,RO,kG,vz,fP],encapsulation:2}),e})(),zG=(()=>{let e=class{constructor(){this.columns=[],this.groups=[]}get columnsToRender(){return mj(this.columns)}trackBy(e,t){return e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate"},attrs:gL,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&Ao(0,bL,3,4,"ng-template",0),2&e&&Mo("ngIf",!0)},directives:[Lh,Nh],encapsulation:2}),e})(),jG=(()=>{let e=class{constructor(e){this.localization=e,this.hostClass=!0}get loadingText(){return this.localization.get("loading")}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-loading-mask",t.hostClass)},attrs:wL,decls:4,vars:1,consts:[[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&(Vo(0,"span",0),Ca(1),Ho(),Bo(2,"div",1),Bo(3,"div",2)),2&e&&(ms(1),Sa(t.loadingText))},encapsulation:2}),e})(),UG=(()=>{let e=class{constructor(e,t,i,n){this.el=e,this.renderer=t,this.resizeService=i,this.grid=n,this.enabled=!1}set lockedWidth(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}set kendoGridResizableContainer(e){const t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}attachResize(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}resize(){if(this.grid&&this.grid.wrapper){const e=Math.max(this.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&e>0?e+"px":"")}}};return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Ja),Oo(hU),Oo(jU,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),e})(),GG=(()=>{let e=class{constructor(e){this.viewContainerRef=e}set templateContext(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}ngOnDestroy(){this.removeView()}removeView(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}};return e.\u0275fac=function(t){return new(t||e)(Oo(wl))},e.\u0275dir=bt({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e})(),qG=(()=>{let e=class{constructor(e){this.root=e,this.active=!0,this.children=[],this.root.registerGroup(this)}get focusableChildren(){return this.children.filter(e=>e.canFocus())}get isActive(){return this.active}ngOnDestroy(){this.root.unregisterGroup(this)}registerElement(e){this.unregisterElement(e),this.children.push(e)}unregisterElement(e){this.children=this.children.filter(t=>t!==e)}isNavigable(){const e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}canFocus(){return this.focusableChildren.length>0}focus(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}activate(){this.toggleState(!0)}deactivate(){this.toggleState(!1)}hasFocus(){return this.children.reduce((e,t)=>e||t.hasFocus(),!1)}toggleState(e){this.active!==e&&(this.active=e,this.children.forEach(t=>t.toggle(e)))}};return e.\u0275fac=function(t){return new(t||e)(We(JB))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),$G=0,KG=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a){this.focusGroup=e,this.element=t,this.columnInfoService=i,this.idService=n,this.navigationService=s,this.renderer=r,this.zone=o,this.cellContext=a,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=$G++}get id(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}get ariaColIndex(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}ngOnInit(){this.navigationService.enabled&&(this.navigationChange=this.navigationService.changes.subscribe(e=>this.onNavigationChange(e)))}ngDoCheck(){this.navigationService.enabled&&-1!==this.logicalColIndex&&(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}ngOnChanges(e){if(!this.navigationService.enabled)return;const t=Object.keys(e);if(1===t.length&&"groupItem"===t[0]||-1===this.logicalColIndex)return;const i=e.logicalColIndex,n=e.logicalRowIndex,s=i&&!i.isFirstChange()?i.previousValue:this.logicalColIndex,r=n&&!n.isFirstChange()?n.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(s,r,this),this.registerChanges(),this.updateElement()}ngOnDestroy(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}onNavigationChange(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}updateElement(){const e=this.element.nativeElement;this.renderer.setAttribute(e,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?(this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask(()=>this.isFocused()&&e.focus()),this.renderer.addClass(e,"k-state-focused")),this.headerLabelText&&e.setAttribute("aria-label","")):(this.renderer.removeClass(e,"k-state-focused"),this.headerLabelText&&e.setAttribute("aria-label",this.headerLabelText))}microtask(e){this.zone.runOutsideAngular(()=>Promise.resolve(null).then(e))}registerChanges(){this.logicalSlaveCell||this.navigationService.registerCell(this)}registerNoChanges(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}isFocusable(){return this.navigationService.isCellFocusable(this)}isFocused(){return this.navigationService.isCellFocused(this)}};return e.\u0275fac=function(t){return new(t||e)(Oo(qG),Oo(Wa),Oo(PU),Oo(RU),Oo(jz),Oo(Ja),Oo(ou),Oo(mz,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&Fo("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",detailExpandCell:"detailExpandCell",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",colIndex:"colIndex",groupItem:"groupItem",dataItem:"dataItem",headerLabelText:"headerLabelText"},features:[Ga([{provide:qG,deps:[JB],useClass:qG}]),Pa]}),e})(),WG=0,ZG=(()=>{let e=class{constructor(e,t){this.idService=e,this.navigation=t,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=WG++}get hostRole(){return this.logicalSlaveRow?"presentation":"row"}get ariaRowIndex(){return this.logicalRowIndex+1}get ariaOwns(){if(!this.navigation.enabled||this.logicalSlaveRow||0===this.logicalSlaveCellsCount)return;const e=[],t=this.logicalCellsCount+this.logicalSlaveCellsCount;for(let i=this.logicalCellsCount;i<t;i++)e.push(this.idService.cellId(this.logicalRowIndex,i));return e.join(" ")}ngOnChanges(e){if(!this.navigation.enabled||this.logicalSlaveRow)return;const t=e.logicalRowIndex;if(t||e.logicalSlaveRow){const e=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(e,this),this.navigation.registerRow(this)}else hb(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}ngOnDestroy(){this.navigation.unregisterRow(this.logicalRowIndex,this)}};return e.\u0275fac=function(t){return new(t||e)(Oo(RU),Oo(jz))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridLogicalRow",""]],hostVars:3,hostBindings:function(e,t){2&e&&Fo("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("aria-owns",t.ariaOwns)},inputs:{logicalSlaveRow:"logicalSlaveRow",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",logicalRowIndex:"logicalRowIndex",logicalCellsCount:"logicalCellsCount",dataItem:"dataItem"},features:[Pa]}),e})();const YG=/\{\d+:?/;let QG=(()=>{let e=class{constructor(e){this.intlService=e}transform(e,t,i){if(!PB(t)){const n=function(e){if(nk[e])return nk[e];const t=function(e){const t=[];return e.replace(ik,(function(e,i,n,s){t.push(void 0!==i?i:n||s)})),t}(e);return nk[e]=function(e){let i=e;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i},nk[e]}(t)(e);return PB(i)?n:this.formatValue(i,n)}return e}formatValue(e,t){const i=this.intlService;return LB(e)&&e.match(YG)?i.format(e,t):i.toString(t,e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(L_))},e.\u0275pipe=wt({name:"valueOf",type:e,pure:!1}),e})();const JG=({columns:e})=>Math.max(1,(e=>e.filter(e=>OB(e.resizable)&&e.isVisible))(e).length),XG=e=>t=>t.querySelector(e),eq=(e,t="td")=>i=>i.querySelectorAll(t+":not(.k-group-cell):not(.k-hierarchy-cell)")[e],tq=e=>e.offsetWidth,iq=(...e)=>t=>e.reduce((e,t)=>e?t(e):0,t);let nq=(()=>{let e=class{constructor(e,t,i,n,s){this.element=e,this.renderer=t,this.service=i,this.zone=n,this.cdr=s,this.locked=!1,this.firstResize=!1}get minWidth(){return this.firstResize?0:null}ngOnInit(){const e=this.service.changes.pipe(hg(e=>this.locked===e.locked));this.subscription=e.pipe(hg(e=>"start"===e.type),Gg(this.initState.bind(this)),L(JG),Ng(t=>e.pipe(hg(e=>"resizeTable"===e.type),L(e=>e.delta),function(e,t=null){return function(i){return i.lift(new uw(e,t))}}(t)))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}initState(){this.firstResize=!0,this.virtualColumns&&!this.locked||(this.originalWidth=tq(this.element.nativeElement))}resize(e){if(!this.virtualColumns||this.locked){const t=e.reduce((e,t)=>e+t,0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}autoFitObservable(e){return w.create(t=>{this.zone.runOutsideAngular(()=>{this.renderer.addClass(this.element.nativeElement,"k-autofitting"),this.cdr.detectChanges();const i=e.map(this.measureColumn.bind(this));this.renderer.removeClass(this.element.nativeElement,"k-autofitting"),t.next(i)})})}measureColumn(e){const t=this.element.nativeElement,i=iq((n=e.level,e=>e.querySelectorAll("thead>tr")[n]),eq(e.headerIndex,"th"),tq)(t);var n;let s=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(s=iq(XG("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),eq(e.index),tq)(t));const r=iq(XG("tfoot>tr"),eq(e.index),tq)(t);return Math.max(i,s,r)}};return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Ja),Oo(fU),Oo(ou),Oo(Wr))},e.\u0275dir=bt({type:e,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&ca("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),e})(),sq=(()=>{let e=class{static exports(){return[uj,pj,Tj,tj,_j,vz]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh],gb,vb]}),e})();var rq,oq,aq,lq,cq,uq,hq,dq,pq,fq,gq,mq,vq,yq,bq,wq,Cq,Sq;const xq=[OG,(()=>{let e=rq=class extends dG{constructor(e){super("contains",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-contains-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>rq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=oq=class extends dG{constructor(e){super("doesnotcontain",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-not-contains-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>oq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=aq=class extends dG{constructor(e){super("endswith",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-endswith-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>aq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=lq=class extends dG{constructor(e){super("eq",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-eq-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>lq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=cq=class extends dG{constructor(e){super("isempty",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isempty-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>cq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=uq=class extends dG{constructor(e){super("isnotempty",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnotempty-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>uq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=hq=class extends dG{constructor(e){super("isnotnull",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnotnull-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>hq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=dq=class extends dG{constructor(e){super("isnull",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnull-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>dq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=pq=class extends dG{constructor(e){super("neq",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-neq-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>pq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=fq=class extends dG{constructor(e){super("startswith",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-startswith-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>fq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=gq=class extends dG{constructor(e){super("gt",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-gt-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>gq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=mq=class extends dG{constructor(e){super("gte",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-gte-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>mq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=vq=class extends dG{constructor(e){super("lt",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-lt-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>vq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=yq=class extends dG{constructor(e){super("lte",e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-lte-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>yq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=bq=class extends dG{constructor(e){super("after",e)}toJSON(){return{text:this.text,value:"gt"}}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-after-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>bq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=wq=class extends dG{constructor(e){super("after-eq",e)}toJSON(){return{text:this.text,value:"gte"}}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-after-eq-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>wq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=Cq=class extends dG{constructor(e){super("before-eq",e)}toJSON(){return{text:this.text,value:"lte"}}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-before-eq-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>Cq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=Sq=class extends dG{constructor(e){super("before",e)}toJSON(){return{text:this.text,value:"lt"}}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-before-operator"]],features:[Ga([{provide:dG,useExisting:xe(()=>Sq)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()],kq=[Kh,LC,MC,aI,nI,IF,mP,jx,sq];let Eq=(()=>{let e=class{static exports(){return[...xq]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...kq],Kh,LC,MC,aI,nI,IF,mP,jx,sq]}),e})(),Iq=(()=>{class e{constructor(e,t){this.host=e,this.resolver=t}ngOnInit(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}ngOnChanges(e){hb(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}initComponent({column:e,filter:t}){const i=this.component.instance;i.column=e,i.filter=t}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,inputs:{column:"column",filter:"filter"},features:[Pa]}),e})(),Tq=(()=>{let e=class extends Iq{constructor(e,t){super(e,t)}componentType(){return PB(this.column.filter)?RG:{boolean:LG,date:BG,numeric:xG,text:RG}[this.column.filter]}};return e.\u0275fac=function(t){return new(t||e)(Oo(wl),Oo(Ka))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterCellHost",""]],features:[_a]}),e})(),_q=(()=>{let e=class{static exports(){return[aG,cG,oj,OG,RG,xG,NG,LG,BG,Eq.exports()]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Eq],Eq]}),e})(),Fq=(()=>{let e=class{constructor(e,t){this.host=e,this.renderer=t}ngAfterViewInit(){this.renderer.addClass(this.host.numericInput.nativeElement,"k-pager-nav")}};return e.\u0275fac=function(t){return new(t||e)(Oo(pF),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridPagerInput",""]]}),e})(),Dq=(()=>{let e=class{constructor(e,t){this.host=e,this.renderer=t,this.keydownHandler=e=>{e.keyCode===_b.Escape&&this.host.isOpen&&(e.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){const e=this.host.wrapper.nativeElement;this.renderer.addClass(e,"k-pager-nav"),e.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}};return e.\u0275fac=function(t){return new(t||e)(Oo(ZE),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridPagerDropDown",""]]}),e})();const Aq=e=>(({buttonCount:e=10,info:t=!0,type:i="numeric",pageSizes:n=!1,previousNext:s=!0,responsive:r=!0,position:o="bottom"})=>({buttonCount:e,info:t,pageSizes:!0===n?[5,10,20]:n,previousNext:s,type:i,responsive:r,position:o}))(!0===e?{}:e);let Rq=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l){this.pagerContext=e,this.navigationService=t,this.element=i,this.renderer=n,this.zone=s,this.localizationService=r,this.cellContext=o,this.focusRoot=a,this.focusGroup=l,this.total=0,this.skip=1,this.pageChange=new gc,this.pagerWrapClass=!0,this.gridPagerClass=!0,this.widgetClass=!0,this.settings=Aq({}),this.subscriptions=new h,this._templateContext={},this._isFocused=!1,this.resizeHandler=()=>{const e=this.element.nativeElement;if(this.template||!e)return;const t=e.offsetWidth;t<600?(this.renderer.removeClass(e,"k-pager-md"),this.renderer.addClass(e,"k-pager-sm")):t>=600&&t<768?(this.renderer.addClass(e,"k-pager-md"),this.renderer.removeClass(e,"k-pager-sm")):this.clearResponsiveClasses()}}set options(e){this.settings=Aq(e)}get isFocused(){return this._isFocused}get pagerAriaLabel(){return this.navigationService.enabled?this.pagerLabel:void 0}get pagerLabel(){const e=this.localizationService.get("pagerLabel")||"";return WB(WB(e,"currentPage",this.currentPage.toString()),"totalPages",this.totalPages.toString())}get focusTrapTabIndex(){return this.focusGroup.isActive?"0":"-1"}onFocusIn(e){this.navigationService.enabled&&(e.target===this.element.nativeElement?(this._isFocused=!0,this.focusRoot.deactivate()):this.focusRoot.activate())}onFocusOut(){this.navigationService.enabled&&(this._isFocused=!1)}onEscape(){this.navigationService.enabled&&(this.focusRoot.deactivate(),this.element.nativeElement.focus())}onEnter(e){this.navigationService.enabled&&e.target===this.element.nativeElement&&(this.focusRoot.activate(),this.focusFirstElement())}navigateToPreviousPage(e){this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.prevPage()}navigateToNextPage(e){this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.nextPage()}navigateToFirstPage(e){this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.changePage(0)}navigateToLastPage(e){this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.changePage(this.totalPages-1)}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get templateContext(){const e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}ngOnInit(){this.subscriptions.add(this.pagerContext.pageChange.subscribe(this.changePage.bind(this))),this.navigationService.enabled&&this.focusRoot.deactivate()}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){hb(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total}),e.template&&(e.template.currentValue?this.clearResponsiveClasses():this.resizeHandler()),e.options&&(this.settings.responsive?this.resizeHandler():this.clearResponsiveClasses())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}changePage(e){this.pageChange.emit(e)}onInnerFocusIn(e,t){this.zone.onStable.pipe(Fg(1)).subscribe(()=>{"start"===t?e.relatedTarget===this.element.nativeElement?this.focusFirstElement():this.focusLastElement():this.focusFirstElement()})}clearResponsiveClasses(){const e=this.element.nativeElement;this.renderer.removeClass(e,"k-pager-sm"),this.renderer.removeClass(e,"k-pager-md")}shouldTriggerPageChange(e,t){return this.navigationService.enabled&&e===this.element.nativeElement&&t}focusFirstElement(){const e=hz(this.element.nativeElement,!0);e&&e.focus()}focusLastElement(){const e=((e,t=!0)=>((e,t,i=!0)=>{let n=null;return uz(e,e=>(t(e)&&(n=e),!1),i),n})(this.element.nativeElement,e=>cz(e,t),!1))(0,!0);e&&e.focus()}updateCellContext(){this.cellContext&&(this.cellContext.focusGroup=this.focusGroup)}};return e.\u0275fac=function(t){return new(t||e)(Oo(_z),Oo(jz),Oo(Wa),Oo(Ja),Oo(ou),Oo(jb),Oo(mz,8),Oo(JB),Oo(qG))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager"]],hostVars:9,hostBindings:function(e,t){1&e&&Ko("focusin",(function(e){return t.onFocusIn(e)}))("focusout",(function(){return t.onFocusOut()}))("keydown.escape",(function(){return t.onEscape()}))("keydown.enter",(function(e){return t.onEnter(e)}))("keydown.arrowleft",(function(e){return t.navigateToPreviousPage(e)}))("keydown.pageup",(function(e){return t.navigateToPreviousPage(e)}))("keydown.arrowright",(function(e){return t.navigateToNextPage(e)}))("keydown.pagedown",(function(e){return t.navigateToNextPage(e)}))("keydown.home",(function(e){return t.navigateToFirstPage(e)}))("keydown.end",(function(e){return t.navigateToLastPage(e)})),2&e&&(Fo("aria-label",t.pagerAriaLabel),ua("k-pager-wrap",t.pagerWrapClass)("k-grid-pager",t.gridPagerClass)("k-widget",t.widgetClass)("k-state-focused",t.isFocused))},inputs:{total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[Ga([{provide:QB,useValue:!0},{provide:JB,deps:[QB],useClass:JB},{provide:qG,deps:[JB],useClass:qG}]),Pa],decls:5,vars:5,consts:[["class","k-sr-only",3,"tabindex","focusin",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"resize",4,"ngIf"],[1,"k-sr-only",3,"tabindex","focusin"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"],["pageSizes",""],[3,"resize"]],template:function(e,t){1&e&&(Ao(0,CL,1,2,"div",0),Ao(1,SL,1,2,"ng-container",1),Ao(2,FL,7,6,"ng-container",2),Ao(3,DL,1,2,"div",0),Ao(4,AL,1,0,"kendo-resize-sensor",3)),2&e&&(Mo("ngIf",t.navigationService.enabled),ms(1),Mo("ngIf",null==t.template?null:t.template.templateRef),ms(1),Mo("ngIf",!(null!=t.template&&t.template.templateRef)),ms(1),Mo("ngIf",t.navigationService.enabled),ms(1),Mo("ngIf",t.settings.responsive))},directives:function(){return[Lh,qh,Pq,Mq,Lq,Nq,Vq,Hq,Eb]},encapsulation:2}),e})(),Oq=(()=>{class e{constructor(e,t,i){this.localization=e,this.pagerContext=t,this.cd=i,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}textFor(e){return this.localization.get(e)}changePage(e){return this.pagerContext.changePage(e),!1}ngOnInit(){this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e}),e})(),Pq=(()=>{let e=class extends Oq{constructor(e,t,i,n){super(e,t,i),this.navigationService=n}get disabled(){return 1===this.currentPage||!this.total}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(_z),Oo(Wr),Oo(jz))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-prev-buttons"]],features:[_a],decls:4,vars:16,consts:[[3,"kendoGridFocusable","title","ngClass","click","keydown.enter"],[3,"ngClass"]],template:function(e,t){1&e&&(Vo(0,"span",0),Ko("click",(function(){return 1!==t.currentPage&&t.changePage(0)}))("keydown.enter",(function(){return 1!==t.currentPage&&t.changePage(0)})),Bo(1,"span",1),Ho(),Vo(2,"span",0),Ko("click",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)}))("keydown.enter",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)})),Bo(3,"span",1),Ho()),2&e&&(Mo("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerFirstPage"))("ngClass",tc(10,RL,t.disabled)),ms(1),Mo("ngClass",ec(12,OL)),Fo("aria-label",t.textFor("pagerFirstPage")),ms(1),Mo("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerPreviousPage"))("ngClass",tc(13,PL,t.disabled)),ms(1),Mo("ngClass",ec(15,NL)),Fo("aria-label",t.textFor("pagerPreviousPage")))},directives:[vz,Oh],encapsulation:2,changeDetection:0}),e})(),Nq=(()=>{let e=class extends Oq{constructor(e,t,i,n){super(e,t,i),this.navigationService=n}get disabled(){return this.currentPage===this.totalPages||!this.total}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(_z),Oo(Wr),Oo(jz))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-next-buttons"]],features:[_a],decls:4,vars:16,consts:[["tabindex","0",3,"kendoGridFocusable","title","ngClass","click","keydown.enter"],[3,"ngClass"]],template:function(e,t){1&e&&(Vo(0,"span",0),Ko("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)}))("keydown.enter",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)})),Bo(1,"span",1),Ho(),Vo(2,"span",0),Ko("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)}))("keydown.enter",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)})),Bo(3,"span",1),Ho()),2&e&&(Mo("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerNextPage"))("ngClass",tc(10,PL,t.disabled)),ms(1),Mo("ngClass",ec(12,ML)),Fo("aria-label",t.textFor("pagerNextPage")),ms(1),Mo("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerLastPage"))("ngClass",tc(13,LL,t.disabled)),ms(1),Mo("ngClass",ec(15,VL)),Fo("aria-label",t.textFor("pagerLastPage")))},directives:[vz,Oh],encapsulation:2,changeDetection:0}),e})(),Mq=(()=>{let e=class extends Oq{constructor(e,t,i){super(e,i,t),this.pagerContext=i,this.numbersWrapClass=!0}get buttons(){let e=[];for(let t=this.start;t<=this.end;t++)e.push(t);return e}get end(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}get start(){const e=this.currentPage,t=this.buttonCount;if(e>t){const i=e%t;return 0===i?e-t+1:e-i+1}return 1}pageLabel(e){const t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}onSelectChange(e){const t=e.target,i=Number(t.value);Number.isNaN(i)?this.changePage("previousButtons"===t.value?this.start-2:this.end):this.changePage(i-1)}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(Wr),Oo(_z))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-numeric-buttons"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-pager-numbers-wrap",t.numbersWrapClass)},inputs:{buttonCount:"buttonCount"},features:[_a],decls:8,vars:9,consts:[["kendoGridFocusable","","tabindex","0",1,"k-dropdown","k-pager-nav",3,"value","change"],["class","k-link","value","previousButtons",4,"ngIf"],[3,"value","ngClass",4,"ngFor","ngForOf"],["value","nextButtons","class","k-link",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["value","previousButtons",1,"k-link"],[3,"value","ngClass"],["value","nextButtons",1,"k-link"],["kendoGridFocusable","","tabindex","0",1,"k-link","k-pager-nav",3,"click","keydown.enter"],["kendoGridFocusable","","tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(e,t){1&e&&(Vo(0,"select",0),Ko("change",(function(e){return t.onSelectChange(e)})),Ao(1,HL,2,1,"option",1),Ao(2,zL,2,7,"option",2),Ao(3,jL,2,1,"option",3),Ho(),Vo(4,"ul",4),Ao(5,UL,3,1,"li",5),Ao(6,qL,3,5,"li",6),Ao(7,$L,3,1,"li",5),Ho()),2&e&&(Mo("value",t.currentPage.toString()),ms(1),Mo("ngIf",t.start>1),ms(1),Mo("ngForOf",t.buttons),ms(1),Mo("ngIf",t.end<t.totalPages),ms(1),Mo("ngClass",ec(8,KL)),ms(1),Mo("ngIf",t.start>1),ms(1),Mo("ngForOf",t.buttons),ms(1),Mo("ngIf",t.end<t.totalPages))},directives:[vz,Lh,Nh,Oh],encapsulation:2,changeDetection:0}),e})(),Lq=(()=>{let e=class extends Oq{constructor(e,t,i,n,s){super(e,t,s),this.pagerContext=t,this.zone=i,this.navigationService=n,this.handleKeyDown=e=>{let t=this.numericInput.value||this.current;e.keyCode===_b.Enter&&(e.preventDefault(),t!==this.current&&this.zone.run(()=>{this.changePage(t-1)}))},this.handleBlur=()=>{const e=this.numericInput.value;e?e!==this.current&&this.zone.run(()=>{this.changePage(e-1)}):this.numericInput.writeValue(this.current)}}get current(){return this.hasPages?this.currentPage:0}get hasPages(){return 0!==this.totalPages}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(_z),Oo(ou),Oo(jz),Oo(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-input"]],viewQuery:function(e,t){var i;1&e&&_c(pF,!0),2&e&&Ic(i=Oc())&&(t.numericInput=i.first)},features:[_a],decls:4,vars:18,consts:[[3,"ngClass"],["kendoGridPagerInput","","tabindex","0","format","n0",3,"kendoGridFocusable","spinners","decimals","disabled","value","min","max","autoCorrect","title","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&(Vo(0,"span",0),Ca(1),Bo(2,"kendo-numerictextbox",1),Ca(3),Ho()),2&e&&(Mo("ngClass",ec(14,WL)),ms(1),xa(" ",t.textFor("pagerPage")," "),ms(1),Mo("kendoGridFocusable",t.hasPages)("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("autoCorrect",!0)("title",t.textFor("pagerPageNumberInputTitle"))("kendoEventsOutsideAngular",ic(15,ZL,t.handleKeyDown,t.handleBlur)),ms(1),ka(" ",t.textFor("pagerOf")," ",t.totalPages," "))},directives:[Oh,pF,Fq,vz,mb],encapsulation:2}),e})(),Vq=(()=>{let e=class extends Oq{constructor(e,t,i){super(e,i,t),this.pagerContext=i}get maxItems(){return Math.min(this.currentPage*this.pageSize,this.total)}get currentPageText(){return this.total?(this.currentPage-1)*this.pageSize+1:0}get classes(){return!0}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(Wr),Oo(_z))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&ua("k-pager-info",t.classes)("k-label",t.classes)},features:[_a],decls:1,vars:5,template:function(e,t){1&e&&Ca(0),2&e&&Ea("",t.currentPageText," - ",t.maxItems," ",t.textFor("pagerOf")," ",t.total," ",t.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),e})(),Hq=(()=>{let e=class extends Oq{constructor(e,t,i,n){super(e,i,t),this.pagerContext=i,this.navigationService=n,this._pageSizes=[]}get pageSizes(){return this._pageSizes}set pageSizes(e){let t=[];e.forEach(e=>{t.push("number"==typeof e?{text:e.toString(),value:e}:e)}),this.pageSize&&!t.some(e=>e.value===this.pageSize)&&(t=[{text:this.pageSize.toString(),value:this.pageSize},...t]),this._pageSizes=t}get classes(){return!0}get showInitialPageSize(){return 0===this.pageSizes.filter(e=>"number"==typeof e.value?e.value===Number(this.pageSize):this.total===Number(this.pageSize)).length}pageSizeChange(e){this.pageSize="number"==typeof e?e:this.total,this.pagerContext.changePageSize(this.pageSize)}getValue(e){return"number"==typeof e.value?e.value:this.total}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize="number"==typeof i?i:this.total,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(Wr),Oo(_z),Oo(jz))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&ua("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[_a],decls:3,vars:5,consts:[["kendoGridPagerDropDown","","tabindex","0","kendoGridFocusable","","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange"],["dropdownlist",""],[3,"for","text"]],template:function(e,t){if(1&e&&(Vo(0,"kendo-dropdownlist",0,1),Ko("valueChange",(function(e){return t.pageSizeChange(e)})),Ho(),Bo(2,"kendo-label",2)),2&e){const e=Ro(1);Mo("data",t.pageSizes)("valuePrimitive",!0)("value",t.pageSize),ms(2),Mo("for",e)("text",t.textFor("pagerItemsPerPage"))}},directives:[ZE,Dq,vz,vN],encapsulation:2,changeDetection:0}),e})();const Bq=[Kh,IF,yN,uI,Ib,sq];let zq=(()=>{let e=class{static exports(){return[Rq,Pq,Nq,Mq,Lq,Vq,Hq,iU,Dq,Fq]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...Bq]]}),e})(),jq=(()=>{let e=class{constructor(e,t){this.groupsService=e,this.groupInfoService=t,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.isExpanded=!1}get groupItemClass(){return!0}ngDoCheck(){const e={group:this.item.data,groupIndex:this.item.index,parentGroup:Iz(this.item.parentGroup)};this.isExpanded=this.groupsService.isExpanded(e)}prefixGroupCell(e){return new Array(e.level)}toggleGroup(e){return this.groupsService.toggleRow(e),!1}groupSpan(e){const t=(this.groups||[]).length,i=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return t+1+i-e.level;let n=bj(this.columns);return this.skipGroupDecoration?n:t+n+i-e.level}logicalColSpan(){return this.skipGroupDecoration?1:this.totalColumnsCount}ariaRole(){return this.skipGroupDecoration?"presentation":"gridcell"}formatForGroup(e){return this.groupInfoService.formatForGroup(e)}groupTitle(e){return this.groupInfoService.groupTitle(e)}groupHeaderTemplate(e){return this.groupInfoService.groupHeaderTemplate(e)}};return e.\u0275fac=function(t){return new(t||e)(Oo(Tz),Oo(Zj))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridGroupHeader",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grouping-row",t.groupItemClass)},inputs:{skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",groups:"groups",rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns"},attrs:YL,decls:3,vars:3,consts:[[3,"ngIf"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],[4,"ngIf"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",1,"k-icon",3,"ngClass","click"],[3,"templateContext"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ao(0,JL,1,1,"ng-template",0),Ao(1,sV,3,9,"td",1),Ao(2,lV,2,1,"ng-container",2)),2&e&&(Mo("ngIf",!t.skipGroupDecoration),ms(1),Mo("ngIf",!(t.skipGroupDecoration&&t.hasGroupHeaderColumn)),ms(1),Mo("ngIf",t.hasGroupHeaderColumn))},directives:[Lh,Nh,KG,Oh,GG,qh],pipes:[QG],encapsulation:2}),e})(),Uq=(()=>{let e=class{constructor(e,t){this.element=e,this.service=t,this.context={},this.enter=new gc,this.leave=new gc,this.drop=new gc,this.subscriptions=new h}ngOnInit(){this.service.add(this);const e=this.service.changes.pipe(hg(({target:e})=>e===this));this.subscriptions.add(e.pipe(hg(({type:e})=>"leave"===e)).subscribe(e=>{this.leave.next(this.eventArgs(e))})),this.subscriptions.add(e.pipe(hg(({type:e})=>"enter"===e)).subscribe(e=>{this.enter.next(this.eventArgs(e))})),this.subscriptions.add(e.pipe(hg(({type:e})=>"drop"===e)).subscribe(e=>{this.drop.next(this.eventArgs(e))}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}eventArgs(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}};return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(xU))},e.\u0275dir=bt({type:e,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),e})();const Gq=({field:e})=>PB(e),qq=({groups:e,field:t})=>e.some(e=>e.field===t),$q=zB(({target:e,field:t})=>e.field===t,jB(({target:e})=>e.lastTarget,({groups:e,field:t})=>e.map(e=>e.field).indexOf(t)===e.length-1));let Kq=(()=>{let e=class{constructor(e,t,i,n,s){this.hint=e,this.cue=t,this.groupInfoService=i,this.localization=n,this.cd=s,this.change=new gc,this.groups=[],this.dropTargets=new vc,this.groupTitles=[],this.subscription=new h}get groupHeaderClass(){return!0}set text(e){this.emptyText=e}get text(){return this.emptyText?this.emptyText:this.localization.get("groupPanelEmpty")}ngAfterViewInit(){this.subscription.add(NB(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngOnInit(){this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngDoCheck(){const e=this.groups.map(e=>this.groupInfoService.groupTitle(e));(e.length!==this.groupTitles.length||e.some((e,t)=>e!==this.groupTitles[t]))&&(this.groupTitles=e,this.cd.markForCheck())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe()}directionChange(e){const t=this.groups.findIndex(t=>t.field===e.field),i=[...this.groups.slice(0,t),e,...this.groups.slice(t+1)];this.change.emit(i)}insert(e,t){const i=this.groups.filter(t=>t.field!==e);(i.length||0===this.groups.length)&&this.change.emit([...i.slice(0,t),{field:e},...i.slice(t)])}remove(e){this.change.emit(this.groups.filter(t=>t.field!==e.field))}canDrop(e,t){var i;return!("groupIndicator"===e.type?$q:zB(Gq,qq,(i=this.groupInfoService,({field:e})=>!i.isGroupable(e))))({field:e.field,groups:this.groups,target:t})}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new h;const e=this.dropTargets.reduce((e,t)=>K(e,t.enter),z([])),t=this.dropTargets.reduce((e,t)=>K(e,t.leave),z([])),i=this.dropTargets.reduce((e,t)=>K(e,t.drop),z([]));this.targetSubscription.add(e.pipe(Gg(e=>this.hint.removeLock()),hg(({draggable:e,target:t})=>this.canDrop(e.context,t.context)),Gg(this.enter.bind(this)),$b(i.pipe(Ub(t.pipe(Gg(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}enter({draggable:e,target:t}){this.hint.enable();let i=t.context.lastTarget||wU(e.element.nativeElement,t.element.nativeElement);this.localization.rtl&&(i=!i),this.cue.position(SU(t.element.nativeElement,i))}leave(){this.hint.disable(),this.cue.hide()}drop({target:e,draggable:t}){const i=t.context.field,n=this.dropTargets.toArray().indexOf(e);this.insert(i,n)}};return e.\u0275fac=function(t){return new(t||e)(Oo(IU),Oo(TU),Oo(Zj),Oo(jb),Oo(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,t){var i;1&e&&_c(Uq,!0),2&e&&Ic(i=Oc())&&(t.dropTargets=i)},hostVars:4,hostBindings:function(e,t){2&e&&ua("k-grouping-header",t.groupHeaderClass)("k-grouping-header-flex",t.groupHeaderClass)},inputs:{groups:"groups",text:"text"},outputs:{change:"change"},decls:3,vars:3,consts:[[3,"ngIf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngFor","ngForOf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngIf"],["kendoDropTarget","",1,"k-indicator-container",3,"context"],["kendoDraggableColumn","","kendoGroupIndicator","","kendoDraggable","",3,"enableDrag","context","group","groupTitle","directionChange","remove"]],template:function(e,t){1&e&&(Ao(0,uV,2,3,"ng-template",0),Ao(1,pV,2,10,"div",1),Ao(2,fV,2,2,"div",2)),2&e&&(Mo("ngIf",0===t.groups.length),ms(1),Mo("ngForOf",t.groups),ms(1),Mo("ngIf",0!==t.groups.length))},directives:function(){return[Lh,Nh,Uq,e$,Wq,fb]},encapsulation:2,changeDetection:0}),e})(),Wq=(()=>{let e=class{constructor(){this.directionChange=new gc,this.remove=new gc}get groupIndicatorClass(){return!0}get dir(){return this.group.dir?this.group.dir:"asc"}toggleDirection(){return this.directionChange.emit({dir:"asc"===this.dir?"desc":"asc",field:this.group.field}),!1}removeDescriptor(){return this.remove.emit({dir:this.group.dir,field:this.group.field}),!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGroupIndicator",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-group-indicator",t.groupIndicatorClass)},inputs:{group:"group",groupTitle:"groupTitle"},outputs:{directionChange:"directionChange",remove:"remove"},attrs:gV,decls:5,vars:5,consts:[["href","#","tabindex","-1",1,"k-link",3,"click"],[1,"k-icon"],["tabindex","-1",1,"k-button","k-button-icon","k-bare",3,"click"],[1,"k-icon","k-i-group-delete"]],template:function(e,t){1&e&&(Vo(0,"a",0),Ko("click",(function(){return t.toggleDirection()})),Bo(1,"span",1),Ca(2),Ho(),Vo(3,"a",2),Ko("click",(function(){return t.removeDescriptor()})),Bo(4,"span",3),Ho()),2&e&&(ms(1),ua("k-i-sort-asc-sm","asc"===t.dir)("k-i-sort-desc-sm","desc"===t.dir),ms(1),xa(" ",t.groupTitle,""))},encapsulation:2,changeDetection:0}),e})();const Zq=e=>t=>new RegExp(`(^| )${e}( |$)`).test(t.className),Yq=zB(Zq("k-i-group-delete"),Zq("k-button-icon")),Qq=zB(Zq("k-i-sort-asc-sm"),Zq("k-i-sort-desc-sm")),Jq=jB(BB(Yq),BB(Qq),BB(cz),BB(sz("label"))),Xq=({clientX:e,clientY:t})=>document.elementFromPoint(e,t);let e$=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a){this.draggable=e,this.element=t,this.zone=i,this.service=n,this.hint=s,this.cue=r,this.nav=o,this.renderer=a,this.context={},this.drag=new gc,this.subscriptions=new h}set enableDrag(e){this.enabled=e,this.updateTouchAction()}get hostClass(){return this.enabled}ngOnInit(){this.subscriptions.add(this.zone.runOutsideAngular(()=>{return this.draggable.kendoPress.pipe(hg(e=>this.enabled),hg(({originalEvent:{target:e}})=>e===this.element.nativeElement||Jq(e)),Gg(e=>{const t=e.originalEvent;e.isTouch||t.preventDefault(),this.nav.navigateTo(t.target)}),Ng((e=this.draggable.kendoRelease,t=>tg(t).pipe(Qb(150),Ub(e)))),Gg(e=>{this.hint.create(this.context.hint),this.cue.create()}),Ng(e=>this.draggable.kendoDrag.pipe(Gg(e=>{e.isTouch&&e.originalEvent.preventDefault()}),Gg(this.hint.attach()),Gg(this.cue.attach()),Ub(this.draggable.kendoRelease),L(t=>({move:t,down:e})))),Gg(this.performDrag.bind(this)),$b(this.draggable.kendoRelease)).subscribe(this.drop.bind(this));var e}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}drop(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}performDrag({move:e}){this.hint.move(e);const t=this.elementUnderCursor(e);t&&this.service.notifyDrag(this,t,e),this.drag.emit({draggable:this,mouseEvent:e})}elementUnderCursor(e){this.hint.hide();let t=Xq(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=((e,t)=>{e.style.display="none";const i=t();return e.style.display="block",i})(t,Xq.bind(this,e))),this.hint.show(),t}updateTouchAction(){this.element&&(this.enabled?this.renderer.addClass(this.element.nativeElement,"k-touch-action-none"):this.renderer.removeClass(this.element.nativeElement,"k-touch-action-none"))}};return e.\u0275fac=function(t){return new(t||e)(Oo(fb,1),Oo(Wa),Oo(ou),Oo(xU),Oo(IU),Oo(TU),Oo(jz),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),e})(),t$=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),i$=(()=>{let e=class{static exports(){return[Yz,Qz,Xz]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,sq,t$]]}),e})();const n$={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},s$=(...e)=>Object.assign({},n$,...e),r$=(e,t)=>!1!==e.filter&&t.field&&t.filterable,o$=(e,t)=>!1!==e.sort&&t.field&&t.sortable,a$=(e,t)=>e.lock&&t.lockable&&!(t.parent&&!t.parent.isSpanColumn),l$=e=>!1!==e.columnChooser;let c$=(()=>{let e=class{constructor(e,t,i,n){this.filterService=e,this.popupService=t,this.localization=i,this.navigationService=n,this.tabIndex="-1"}get hasFilters(){return vG(this.filter,(this.column||{}).field).length>0}get filterLabel(){const e=this.localization.get("filterMenuTitle")||"";return WB(e,"columnName",this.column.title||this.column.field)}toggle(e,t){return this.popupRef=this.popupService.open(e,t,this.popupRef),this.popupRef||(this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()),!1}close(){this.popupService.destroy(),this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}};return e.\u0275fac=function(t){return new(t||e)(Oo(tU),Oo(vU),Oo(jb),Oo(jz))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu"]],viewQuery:function(e,t){var i;1&e&&(Tc(mV,!0),Tc(vV,!0,yl)),2&e&&(Ic(i=Oc())&&(t.anchor=i.first),Ic(i=Oc())&&(t.template=i.first))},inputs:{tabIndex:"tabIndex",column:"column",filter:"filter"},decls:5,vars:5,consts:[["href","#",3,"ngClass","tabindex","click","keydown.enter"],["anchor",""],[1,"k-icon","k-i-filter"],["template",""],[3,"column","filter","close","keydown.escape","keydown.enter"]],template:function(e,t){if(1&e){const e=Go();Vo(0,"a",0,1),Ko("click",(function(){Qt(e);const i=Ro(1),n=Ro(4);return t.toggle(i,n)}))("keydown.enter",(function(e){return e.stopImmediatePropagation()})),Bo(2,"span",2),Ho(),Ao(3,yV,1,2,"ng-template",null,3,Lc)}2&e&&(Mo("ngClass",tc(3,bV,t.hasFilters))("tabindex",t.tabIndex),Fo("title",t.filterLabel))},directives:function(){return[Oh,I$]},encapsulation:2}),e})(),u$=(()=>{let e=class{constructor(e){this.closeMenu=new gc,this.menuTabbingService=e}close(){this.closeMenu.emit()}};return e.\u0275fac=function(t){return new(t||e)(We(eU))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),h$=(()=>{let e=class{constructor(e,t,i,n){this.popupService=e,this.localization=t,this.service=i,this.navigationService=n,this.standalone=!0,this.settings={},this.sortable=!0,this.tabIndex="-1",this.expandedFilter=!1,this.expandedColumns=!1,this.expandedPosition=!1,this.closeSubscription=i.closeMenu.subscribe(this.close.bind(this))}get isActive(){return this.hasFilter&&vG(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find(e=>e.field===this.column.field)}get hasFilter(){return r$(this.settings,this.column)}get hasSort(){return o$(this.settings,this.column)}get hasColumnChooser(){return l$(this.settings)}get hasLock(){return a$(this.settings,this.column)}get hasStick(){return e=this.column,this.settings.stick&&e.stickable&&!(e.parent&&!e.parent.isSpanColumn);var e}get hasPosition(){return e=this.column,this.settings.setColumnPosition&&(e.stickable||e.lockable)&&!(e.parent&&!e.parent.isSpanColumn);var e}ngOnChanges(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}ngOnDestroy(){this.close(),this.closeSubscription.unsubscribe()}toggle(e,t,i){e&&(e.preventDefault(),e.stopImmediatePropagation()),this.expandedFilter=this.getExpandedState(this.settings.filter),this.expandedColumns=this.getExpandedState(this.settings.columnChooser),this.expandedPosition=this.getExpandedState(this.settings.setColumnPosition),this.popupRef=this.popupService.open(t,i,this.popupRef,"k-grid-columnmenu-popup"),this.popupRef||(this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus())}close(){this.popupService.destroy(),this.popupRef=null,this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}get columnMenuTitle(){const e=this.localization.get("columnMenu")||"";return WB(e,"columnName",this.column.title||this.column.field)}getExpandedState(e){return"object"==typeof e&&e.expanded}};return e.\u0275fac=function(t){return new(t||e)(Oo(vU),Oo(jb),Oo(u$),Oo(jz))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-menu"]],viewQuery:function(e,t){var i;1&e&&(Tc(mV,!0),Tc(vV,!0,yl)),2&e&&(Ic(i=Oc())&&(t.anchor=i.first),Ic(i=Oc())&&(t.template=i.first))},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",tabIndex:"tabIndex",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[Ga([u$,eU]),Pa],decls:7,vars:5,consts:[["href","#",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","tabindex","click","keydown.enter"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"keydown.escape","keydown.enter"],[3,"kendoGridColumnMenuItem","service",4,"ngIf"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"kendoGridColumnMenuItem","service"],["sortItem",""],["lockItem",""],["stickItem",""],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded"],["positionItem",""],[3,"kendoGridColumnMenuItem","service","expanded"],["chooserItem",""],["filterItem",""]],template:function(e,t){if(1&e){const e=Go();Vo(0,"a",0,1),Ko("click",(function(i){Qt(e);const n=Ro(1),s=Ro(4);return t.toggle(i,n,s)}))("keydown.enter",(function(e){return e.stopImmediatePropagation()})),Bo(2,"span",2),Ho(),Ao(3,CV,1,5,"ng-template",null,3,Lc),Ao(5,_V,7,6,"ng-template",null,4,Lc)}2&e&&(Mo("ngClass",tc(3,FV,t.isActive))("tabindex",t.tabIndex),Fo("title",t.columnMenuTitle))},directives:function(){return[Oh,qh,Y$,Lh,$$,Z$,K$,Q$,W$,j$,U$]},encapsulation:2}),e})();const d$=(...e)=>Object.assign.apply(null,[{}].concat(e)),p$=(e,t)=>e.parent===t.parent||kj(t)&&p$(e,t.parent),f$=({draggable:e,target:t})=>!1!==e.context.column.lockable||e.context.column.isLocked===t.context.column.isLocked,g$=jB(({draggable:e})=>["column","columnGroup"].indexOf(e.context.type)>=0,({draggable:e})=>e.context.column.reorderable,({draggable:e})=>!kj(e.context.column),({draggable:e,target:t})=>e.element.nativeElement!==t.element.nativeElement,({draggable:e,target:t})=>p$(e.context.column,t.context.column),BB(({draggable:e})=>!OB(e.context.column.locked)&&(({parent:e})=>!OB(e))(e.context.column)&&e.context.lastColumn),f$);let m$=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l){this.popupService=e,this.hint=t,this.cue=i,this.reorderService=n,this.idService=s,this.sortService=r,this.localization=o,this.columnInfoService=a,this.cd=l,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.sortedFields={},this.dropTargets=new vc,this.subscription=new h}get headerClass(){return!this.scrollable}get sortableLabel(){return this.localization.get("sortable")}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}sortColumn(e){this.sortService.sort(this.toggleSort(e))}onSortClick(e,t,i){const n=t.target;e.headerTemplateRef&&n!==i&&Boolean(oz(n,lz,i))||this.sortColumn(e)}onHeaderKeydown(e,t){if(t.keyCode===_b.ArrowDown&&t.altKey&&this.showFilterMenu){t.preventDefault(),t.stopImmediatePropagation();const i=this.filterMenus.find(t=>t.column===e);i.toggle(i.anchor.nativeElement,i.template)}if(t.keyCode===_b.ArrowDown&&t.altKey&&this.showColumnMenu(e)){t.preventDefault(),t.stopImmediatePropagation();const i=this.columnMenus.find(t=>t.column===e);i.toggle(null,i.anchor.nativeElement,i.template)}this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===_b.Enter&&DB(e.field)&&this.sortService.sort(this.toggleSort(e))}showSortNumbering(e){const{showIndexes:t}=s$(this.sortable);return t&&this.sort&&this.sort.filter(({dir:e})=>DB(e)).length>1&&this.sortOrder(e.field)>0}sortOrder(e){return this.sort.filter(({dir:e})=>DB(e)).findIndex(t=>t.field===e)+1}sortIcon(e){const t=this.sortDescriptor(e);return{"k-icon":DB(t.dir),"k-i-sort-desc-sm":"desc"===t.dir,"k-i-sort-asc-sm":"asc"===t.dir}}sortState(e){if(!this.isSortable(e))return;const t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}sortStatus(e){if(!this.sortedFields[e.field]||!this.isSortable(e))return;let t="sortedDefault";const i=this.sortDescriptor(e.field);return"asc"===i.dir?t="sortedAscending":"desc"===i.dir&&(t="sortedDescending"),this.localization.get(t)}toggleSort(e){const{allowUnsort:t,mode:i,initialDirection:n}=s$(this.sortable,e.sortable),s=this.toggleDirection(e.field,t,n);return"single"===i?[s]:[...this.sort.filter(t=>t.field!==e.field),s]}ngAfterViewInit(){this.subscription.add(NB(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){this._leafColumns=mj(this.columns||[]).filter(e=>!Ij(e))}ngOnChanges(e){const t=e.sort;t&&!t.isFirstChange()&&t.currentValue.forEach(e=>{this.sortedFields[e.field]=!0})}ngOnInit(){this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}selectAllCheckboxId(){return this.idService.selectAllCheckboxId()}get selectAllCheckboxLabel(){return this.localization.get("selectAllCheckboxLabel")}isFirstOnRow(e,t){const i=e=>e&&(this.columnsForLevel(e.level).indexOf(e)>0||i(e.parent));return 0===t&&!this.groups.length&&!this.detailTemplate&&i(e.parent)}logicalColumnIndex(e){const t=e.leafIndex;return DB(t)?t+(DB(this.detailTemplate)?1:0):-1}get showFilterMenu(){return!this.columnMenu&&"string"==typeof(e=this.filterable)&&e.indexOf("menu")>-1;var e}get showFilterRow(){return gU(this.filterable)}showColumnMenu(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||((e,t)=>l$(e)||a$(e,t)||o$(e,t)||r$(e,t))(this.columnMenu,e))}isFilterable(e){return!PB(e.field)&&!0===e.filterable}canDrop(e,t){return this.reorderable&&g$({draggable:e,target:t})}shouldActivate(e){const t=this.reorderable&&e.reorderable;return!(!t&&!cj(e))&&(this.groupable&&cj(e)&&!1!==e.groupable||t)}isSortable(e){return!PB(e.field)&&OB(this.sortable)&&OB(e.sortable)}isCheckboxColumn(e){return sj(e)&&!e.templateRef}trackByIndex(e,t){return e}addStickyStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}toggleDirection(e,t,i){const n=this.sortDescriptor(e),[s,r]=(e=>"asc"===e?["asc","desc"]:["desc","asc"])(i);let o=s;return n.dir===s?o=r:n.dir===r&&t&&(o=void 0),{dir:o,field:e}}columnsForLevel(e){const t=this.columns?this.columns.filter(t=>t.level===e):[];return xj(mj(t))}isColumnGroupComponent(e){return Ij(e)}get columnLevels(){return new Array((this.totalColumnLevels||0)+1)}sortDescriptor(e){return this.sort.find(t=>t.field===e)||{field:e}}get leafColumns(){return this._leafColumns}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new h;const e=K(...this.dropTargets.map(e=>e.enter)),t=K(...this.dropTargets.map(e=>e.leave)),i=K(...this.dropTargets.map(e=>e.drop));this.targetSubscription.add(e.pipe(Gg(({target:e,draggable:t})=>{if("groupIndicator"===t.context.type)return;const i=OB(e.context.column.isLocked),n=OB(t.context.column.isLocked);(this.lockedColumnsCount>0||i||n)&&this.hint.toggleLock(i)}),hg(({draggable:e,target:t})=>this.canDrop(e,t)),Ng(this.trackMove.bind(this,t,i)),L(e=>d$(e,{before:this.calculateBefore(e),changeContainer:e.changeContainer})),L(this.normalizeTarget.bind(this)),Gg(this.enter.bind(this)),Ng(e=>i.pipe(L(()=>e),Ub(t.pipe(Gg(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}normalizeTarget(e){let t=e.target;const i=t.context.column.parent;if(i&&i.isSpanColumn){const n=this.dropTargets.toArray(),s=n.find(e=>e.context.column.parent===i),r=n.indexOf(s);t=n[r+(e.before?0:i.childColumns.length-1)]}return d$(e,{target:t})}trackMove(e,t,i){const n=i.target.context.column,s=this.columnsForLevel(n.level),r=s.indexOf(n),o=i.draggable.context.column.isLocked!==n.isLocked;return o&&(n.locked?r===s.length-1:0===r)?i.draggable.drag.pipe(Ub(e),Ub(t),L(({mouseEvent:e})=>d$({changeContainer:!0},i,{mouseEvent:e}))):tg(d$({changeContainer:o},i))}calculateBefore({draggable:e,target:t,mouseEvent:i,changeContainer:n=!1}){const s=t.element.nativeElement;let r=!1;if(n){const{left:e}=bU(s);r=e+s.offsetWidth/2>i.pageX,this.localization.rtl&&(r=!r)}else r=wU(e.element.nativeElement,s);return r}enter({target:e,before:t}){this.hint.enable(),this.localization.rtl&&(t=!t),this.cue.position(SU(e.element.nativeElement,t))}leave(){this.hint.disable(),this.cue.hide()}drop({draggable:e,target:t,before:i,changeContainer:n}){this.reorderService.reorder({before:i,changeContainer:n,source:e.context.column,target:t.context.column})}};return e.\u0275fac=function(t){return new(t||e)(Oo(vU),Oo(IU),Oo(TU),Oo(_U),Oo(RU),Oo(NU),Oo(jb),Oo(PU),Oo(Wr))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,t){var i;1&e&&(_c(Uq,!0),_c(c$,!0),_c(h$,!0)),2&e&&(Ic(i=Oc())&&(t.dropTargets=i),Ic(i=Oc())&&(t.filterMenus=i),Ic(i=Oc())&&(t.columnMenus=i))},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grid-header",t.headerClass)},inputs:{columns:"columns",groups:"groups",sort:"sort",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",totalColumnsCount:"totalColumnsCount",totalColumnLevels:"totalColumnLevels",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",filter:"filter",columnMenuTemplate:"columnMenuTemplate",tabIndex:"tabIndex"},features:[Pa],attrs:DV,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-group-cell k-header","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header","role","presentation","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header"],["role","presentation","kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-header",3,"logicalRowIndex","logicalColIndex"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","k-filterable","k-first","k-grid-header-sticky","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","k-first","k-filterable","k-grid-content-sticky","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle","keydown"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[3,"column","filter","tabIndex",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex",4,"ngIf"],[3,"templateContext"],[3,"column","filter","tabIndex"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex"],[1,"k-cell-inner"],[1,"k-link",3,"click"],["link",""],[3,"ngClass"],["class","k-sort-order",4,"ngIf"],["role","status",1,"k-sort-status",2,"position","absolute","left","-10000px",3,"innerHtml"],[1,"k-column-title"],[1,"k-sort-order"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"]],template:function(e,t){1&e&&Ao(0,sH,2,2,"ng-template",0),2&e&&Mo("ngIf",!0)},directives:function(){return[Lh,Nh,ZG,KG,Uq,fb,e$,Oh,Gh,GG,c$,h$,S$,vz,C$,aG]},styles:[".k-column-resizer[_ngcontent-%COMP%] {\n            cursor: col-resize;\n            display: block;\n            height: 1000%;\n            position: absolute;\n            top: 0;\n            width: .5em;\n        }"]}),e})();const v$=e=>e.nativeElement.parentElement.offsetWidth,y$=e=>fj(e).filter(e=>!e.isColumnGroup),b$=({originalEvent:e})=>{e.stopPropagation(),e.preventDefault()},w$=e=>!(!e.parent||!e.parent.isSpanColumn);let C$=(()=>{let e=class{constructor(e,t,i,n,s,r){this.draggable=e,this.element=t,this.service=i,this.zone=n,this.cdr=s,this.localization=r,this.columns=[],this.subscriptions=new h,this.rtl=!1}get visible(){return this.column.resizable?"block":"none"}get leftStyle(){return OB(this.rtl)?0:null}get rightStyle(){return OB(this.rtl)?null:0}autoFit(){const e=y$(this.columns),t=Cj([this.column]).filter(e=>OB(e.resizable)),i=t.map(t=>{const i=w$(t),n=!!i&&t.parent.childColumns.last===t,s=((e,t)=>{let i=0,n=0,s=0;for(;i<t.length;){const r=t[i],o=w$(r);if(r===e)break;n--<=0&&o&&(n=r.parent.childColumns.length-1,s+=n),i++}return i-s})(t,e);return{column:t,headerIndex:this.columnsForLevel(t.level).indexOf(t),index:s,isLastInSpan:n,isParentSpan:i,level:t.level}});t.forEach(e=>e.width=0),this.service.measureColumns(i)}ngOnInit(){const e=this.service.changes.pipe(hg(()=>this.column.resizable),hg(e=>DB(e.columns.find(e=>e===this.column))));this.subscriptions.add(e.pipe(hg(e=>"start"===e.type)).subscribe(this.initState.bind(this))),this.subscriptions.add(e.pipe(hg(e=>"resizeColumn"===e.type)).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(hg(e=>"start"===e.type),hg(this.shouldUpdate.bind(this)),Fg(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular(()=>{return this.draggable.kendoPress.pipe(Gg(b$),Gg(()=>this.service.start(this.column)),Ng((e=this.draggable.kendoRelease,t=>tg(t).pipe(Qb(150),Ub(e)))),Ng(((e,t)=>i=>t.kendoDrag.pipe(Ub(t.kendoRelease.pipe(Gg(()=>e.end()))),L(({pageX:e})=>({originalX:i.pageX,pageX:e}))))(this.service,this.draggable))).subscribe(({pageX:e,originalX:t})=>{this.service.resizeColumns((e-t)/(this.column.resizeStartWidth||this.column.width)*100)});var e})),this.subscriptions.add(e.pipe(hg(e=>"autoFitComplete"===e.type)).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(e.pipe(hg(e=>"triggerAutoFit"===e.type)).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}shouldUpdate(){return!y$(this.columns).map(e=>e.width).some(AB)}initColumnWidth(){this.column.width=v$(this.element)}initState(){this.column.resizeStartWidth=v$(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}resize({deltaPercent:e}){let t=((e,t)=>{const i=t<0?-1:1;return Math.ceil(Math.abs(t)/100*e)*i})(this.column.resizeStartWidth,e);OB(this.rtl)&&(t*=-1);const i=Math.max(this.column.resizeStartWidth+t,this.column.minResizableWidth),n=i>this.column.minResizableWidth?t:this.column.minResizableWidth-this.column.resizeStartWidth;this.updateWidth(this.column,i),this.service.resizeTable(this.column,n)}sizeToFit({columns:e,widths:t}){const i=e.indexOf(this.column),n=Math.max(...t.map(e=>e[i]))+1,s=n-this.column.resizeStartWidth;this.updateWidth(this.column,n),this.service.resizeTable(this.column,s)}updateWidth(e,t){e.width=t,this.cdr.markForCheck()}columnsForLevel(e){return mj(this.columns?this.columns.filter(t=>t.level===e):[])}};return e.\u0275fac=function(t){return new(t||e)(Oo(fb,1),Oo(Wa),Oo(fU),Oo(ou),Oo(Wr),Oo(jb))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&Ko("dblclick",(function(){return t.autoFit()})),2&e&&ca("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),e})(),S$=(()=>{let e=class{constructor(e,t,i,n){this.selectionService=e,this.el=t,this.renderer=i,this.ngZone=n,this.selectAllChange=new gc,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this))})}ngAfterContentChecked(){this.setState()}ngOnChanges(){this.stateSet=!0}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){const e=!(!(()=>{if(!cb())return;const e=window.navigator.userAgent,t=e.indexOf("MSIE "),i=e.indexOf("Trident/");return t>0||i>0})()||void 0!==this.selectionService.selectAllState)||this.el.nativeElement.checked,t=this.selectionService.options;this.selectAllChange.emit(e?"checked":"unchecked"),t.enabled&&"multiple"===t.mode&&this.ngZone.run(()=>{this.selectionService.updateAll(e)})}setState(){const e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,t=this.el.nativeElement;this.renderer.setProperty(t,"indeterminate",!DB(e)),this.renderer.setProperty(t,"checked",!!DB(e)&&e)}stateToBool(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}};return e.\u0275fac=function(t){return new(t||e)(Oo(Uz),Oo(Wa),Oo(Ja),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&Fo("type",t.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[Pa]}),e})();const x$=({value:e,operator:t})=>!PB(e)||(e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e)(t),k$=(e,t,i)=>e.reduce((e,n)=>e||(n.filters?k$(n.filters,t,n):n.field===t?i:e),void 0),E$=(e,t,i="and")=>{const n=k$((e||{}).filters||[],t);return DB(n)?n.logic:i};let I$=(()=>{let e=class{constructor(e,t,i,n,s){this.parentService=e,this.childService=t,this.localization=i,this.cd=n,this.close=new gc,this.actionsClass="k-action-buttons k-button-group",this._templateContext={},this.menuTabbingService=s}get filter(){return this._filter}set filter(e){this._filter=lG(e)}get childFilter(){return DB(this._childFilter)||(this._childFilter={filters:vG(this.filter,(this.column||{}).field),logic:E$(this.filter,(this.column||{}).field)}),this._childFilter}ngOnInit(){this.subscription=this.childService.changes.subscribe(e=>this._childFilter=e),this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngAfterViewChecked(){(!this.menuTabbingService.isColumnMenu||this.isLast&&this.isExpanded)&&(this.menuTabbingService.lastFocusable=this.disabled?this.resetButton.nativeElement:this.filterButton.nativeElement)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.menuTabbingService.lastFocusable=void 0}get disabled(){return!this.childFilter.filters.some(x$)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}get hasTemplate(){return DB(this.column)&&DB(this.column.filterMenuTemplateRef)}submit(){const e=(e=>(e.filters=e.filters.filter(x$),e))(this.childFilter);if(e.filters.length){const t=this.filter||{filters:[],logic:"and"};yG(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}reset(){const e=this.filter||{filters:[],logic:"and"};yG(e,this.column.field),this.parentService.filter(e),this.close.emit()}onTab(e,t){!this.menuTabbingService.firstFocusable||this.menuTabbingService.isColumnMenu&&!this.isLast||(e.preventDefault(),"reset"===t?this.disabled?this.menuTabbingService.firstFocusable.focus():this.filterButton.nativeElement.focus():this.menuTabbingService.firstFocusable.focus())}get clearText(){return this.localization.get("filterClearButton")}get filterText(){return this.localization.get("filterFilterButton")}};return e.\u0275fac=function(t){return new(t||e)(Oo(tU,4),Oo(tU),Oo(jb),Oo(Wr),Oo(eU))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu-container"]],viewQuery:function(e,t){var i;1&e&&(_c(rH,!0),_c(oH,!0)),2&e&&(Ic(i=Oc())&&(t.resetButton=i.first),Ic(i=Oc())&&(t.filterButton=i.first))},inputs:{actionsClass:"actionsClass",menuTabbingService:"menuTabbingService",filter:"filter",column:"column",isLast:"isLast",isExpanded:"isExpanded"},outputs:{close:"close"},features:[Ga([tU,eU])],decls:12,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button",3,"keydown.tab"],["resetButton",""],["type","submit",1,"k-button","k-primary",3,"disabled","keydown.tab"],["filterButton",""],["kendoFilterMenuHost","",3,"filterService","column","filter","menuTabbingService"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Vo(0,"form",0),Ko("submit",(function(){return t.submit()}))("reset",(function(){return t.reset()})),Vo(1,"div",1),zo(2,2),Ao(3,aH,2,4,"ng-container",3),Ao(4,uH,2,1,"ng-container",3),jo(),Vo(5,"div",4),Vo(6,"button",5,6),Ko("keydown.tab",(function(e){return t.onTab(e,"reset")})),Ca(8),Ho(),Vo(9,"button",7,8),Ko("keydown.tab",(function(e){return t.onTab(e,"filter")})),Ca(11),Ho(),Ho(),Ho(),Ho()),2&e&&(ms(2),Mo("ngSwitch",t.hasTemplate),ms(1),Mo("ngSwitchCase",!1),ms(1),Mo("ngSwitchCase",!0),ms(1),Mo("ngClass",t.actionsClass),ms(3),Sa(t.clearText),ms(1),Mo("disabled",t.disabled),ms(2),Sa(t.filterText))},directives:function(){return[IC,Tw,vC,zh,jh,Oh,N$,Lh,qh]},encapsulation:2}),e})(),T$=(()=>{let e=class extends TG{constructor(e){super(null),this.localizationService=e}get hostClasses(){return!1}ngAfterViewInit(){this.isFirstDropDown&&this.filterService&&this.filterService.menuTabbingService&&(this.filterService.menuTabbingService.firstFocusable=this.firstOperatorDropDown,this.firstOperatorDropDown.focus())}operatorChange(e){this.currentOperator=e}filterChange(e){this.applyFilter(e)}get currentFilter(){return this._currentFilter}set currentFilter(e){this._currentFilter=e}updateFilter(e){return Object.assign(this.currentFilter,e),this.filter}onChange(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onShiftTab(e){e.stopImmediatePropagation(),this.menuTabbingService&&this.menuTabbingService.isColumnMenu||!this.isFirstDropDown||!this.filterService.menuTabbingService.lastFocusable||(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get filterMenuDropDownLabel(){const e=this.localizationService.get("filterMenuOperatorsDropDownLabel")||"";return WB(e,"columnName",this.column?this.column.title||this.column.field:"")}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu-input-wrapper"]],viewQuery:function(e,t){var i;1&e&&_c(ZE,!0),2&e&&Ic(i=Oc())&&(t.firstOperatorDropDown=i.first)},inputs:{currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},features:[_a],ngContentSelectors:uL,decls:2,vars:4,consts:[["kendoFilterMenuDropDown","","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","value","valuePrimitive","valueChange","keydown.shift.tab"]],template:function(e,t){1&e&&(Jo(),Vo(0,"kendo-dropdownlist",0),Ko("valueChange",(function(e){return t.operatorChange(e)}))("keydown.shift.tab",(function(e){return t.onShiftTab(e)})),Ho(),Xo(1)),2&e&&Mo("filterMenuDropDownLabel",t.filterMenuDropDownLabel)("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},directives:function(){return[ZE,L$]},encapsulation:2}),e})(),_$=(()=>{let e=class{constructor(e){this.localizationService=e,this.operators=[]}get columnLabel(){const e=this.localizationService.get("filterInputLabel")||"";return WB(e,"columnName",this.column?this.column.title||this.column.field:"")}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},decls:2,vars:11,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",1,"k-textbox",3,"columnLabel","filterDelay","ngModel"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-menu-input-wrapper",0),Bo(1,"input",1),Ho()),2&e&&(Mo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),ms(1),Mo("columnLabel",t.columnLabel)("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[T$,bw,kG,Iw,EC],encapsulation:2}),e})(),F$=(()=>{let e=class extends AG{constructor(e){super(null,e),this.logicOperators=fG(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return pG(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return pG(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return WB(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=fG(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[_a],decls:3,vars:9,consts:[[3,"currentFilter","operators","filterService","column","filter","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService"]],template:function(e,t){1&e&&(Bo(0,"kendo-grid-string-filter-menu-input",0),Ao(1,hH,1,4,"kendo-dropdownlist",1),Ao(2,dH,1,6,"kendo-grid-string-filter-menu-input",2)),2&e&&(Mo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("isFirstDropDown",!0)("menuTabbingService",t.menuTabbingService),ms(1),Mo("ngIf",t.extra),ms(1),Mo("ngIf",t.extra))},directives:function(){return[_$,Lh,ZE,L$]},encapsulation:2}),e})(),D$=(()=>{let e=class extends SG{constructor(e){super(null,e),this.logicOperators=fG(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return pG(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return pG(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return WB(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=fG(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[_a],decls:3,vars:15,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService","isFirstDropDown"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService"]],template:function(e,t){1&e&&(Bo(0,"kendo-grid-numeric-filter-menu-input",0),Ao(1,pH,1,4,"kendo-dropdownlist",1),Ao(2,fH,1,12,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(Mo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step)("menuTabbingService",t.menuTabbingService)("isFirstDropDown",!0),ms(1),Mo("ngIf",t.extra),ms(1),Mo("ngIf",t.extra))},directives:function(){return[A$,Lh,ZE,L$]},encapsulation:2}),e})(),A$=(()=>{let e=class{constructor(e){this.localization=e,this.operators=[],this.step=1,this.spinners=!0}messageFor(e){return this.localization.get(e)}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return WB(e,"columnName",this.column?this.column.title||this.column.field:"")}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:3,vars:20,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-filter-menu-input-wrapper",0),Vo(1,"kendo-numerictextbox",1),Bo(2,"kendo-numerictextbox-messages",2),Ho(),Ho()),2&e&&(Mo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),ms(1),Mo("columnLabel",t.columnLabel)("filterDelay",0)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),ms(1),Mo("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},directives:[T$,pF,kG,mF],encapsulation:2}),e})(),R$=(()=>{let e=class extends HG{constructor(e){super(null,e),this.logicOperators=fG(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return pG(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return pG(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}get filterMenuDropDownLabel(){const e=this.localization.get("filterMenuLogicDropDownLabel")||"";return WB(e,"columnName",this.column?this.column.title||this.column.field:"")}localizationChange(){this.logicOperators=fG(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[_a],decls:3,vars:18,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService"]],template:function(e,t){1&e&&(Bo(0,"kendo-grid-date-filter-menu-input",0),Ao(1,gH,1,4,"kendo-dropdownlist",1),Ao(2,mH,1,15,"kendo-grid-date-filter-menu-input",2)),2&e&&(Mo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber)("isFirstDropDown",!0)("menuTabbingService",t.menuTabbingService),ms(1),Mo("ngIf",t.extra),ms(1),Mo("ngIf",t.extra))},directives:function(){return[M$,Lh,ZE,L$]},encapsulation:2}),e})(),O$=(()=>{let e=class{constructor(e,t){this.hostElement=e,this.renderer=t}ngAfterViewInit(){this.radioButtonEl=this.hostElement.nativeElement,this.renderer.setAttribute(this.hostElement.nativeElement,"aria-label",this.columnLabel)}};return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Ja))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterMenuRadioButton",""]],inputs:{columnLabel:"columnLabel"}}),e})(),P$=(()=>{let e=class extends MG{constructor(e){super(null,e),this.filter={filters:[],logic:"and"},this.idPrefix=pb()}get hostClasses(){return!1}ngAfterViewInit(){this.filterService.menuTabbingService.firstFocusable=this.radioButtons.first.radioButtonEl,this.radioButtons.first.radioButtonEl.focus()}radioId(e){return`${this.idPrefix}_${e}`}onChange(e,t){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e})),this.filterService.menuTabbingService.firstFocusable=t}isSelected(e){return this.filtersByField(this.column.field).some(({value:t})=>t===e)}onShiftTab(e){this.menuTabbingService&&this.menuTabbingService.isColumnMenu||!this.filterService.menuTabbingService.lastFocusable||(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}get columnLabel(){const e=this.localization.get("filterInputLabel")||"";return WB(e,"columnName",this.column.title||this.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-boolean-filter-menu"]],viewQuery:function(e,t){var i;1&e&&_c(O$,!0),2&e&&Ic(i=Oc())&&(t.radioButtons=i)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[_a],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio","kendoFilterMenuRadioButton","",1,"k-radio",3,"columnLabel","name","checked","change","keydown.shift.tab"],["input",""],[1,"k-radio-label"]],template:function(e,t){1&e&&(Vo(0,"ul",0),Ao(1,vH,5,6,"li",1),Ho()),2&e&&(ms(1),Mo("ngForOf",t.items))},directives:[Nh,O$],encapsulation:2}),e})(),N$=(()=>{let e=class extends Iq{constructor(e,t){super(e,t)}componentType(){return DB(this.column)&&!PB(this.column.filter)?{boolean:P$,date:R$,numeric:D$,text:F$}[this.column.filter]:F$}initComponent(e){super.initComponent(e),this.component.instance.filterService=this.filterService,this.component.instance.menuTabbingService=this.menuTabbingService}};return e.\u0275fac=function(t){return new(t||e)(Oo(wl),Oo(Ka))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[_a]}),e})(),M$=(()=>{let e=class{constructor(e,t){this.popupService=e,this.localizationService=t,this.operators=[]}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}open(e){this.subscription=this.popupService.onClose.pipe(hg(()=>e.isActive)).subscribe(e=>e.preventDefault())}messageFor(e){return this.localizationService.get(e)}get columnLabel(){const e=this.localizationService.get("filterInputLabel")||"";return WB(e,"columnName",this.column?this.column.title||this.column.field:"")}};return e.\u0275fac=function(t){return new(t||e)(Oo(vU),Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",menuTabbingService:"menuTabbingService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",isFirstDropDown:"isFirstDropDown"},decls:4,vars:22,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""],[3,"toggle","today"]],template:function(e,t){if(1&e){const e=Go();Vo(0,"kendo-grid-filter-menu-input-wrapper",0),Vo(1,"kendo-datepicker",1,2),Ko("open",(function(){Qt(e);const i=Ro(2);return t.open(i)})),Bo(3,"kendo-datepicker-messages",3),Ho(),Ho()}2&e&&(Mo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),ms(1),Mo("columnLabel",t.columnLabel)("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber),ms(2),Mo("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},directives:[T$,RO,kG,fP],encapsulation:2}),e})(),L$=(()=>{let e=class{constructor(e){this.host=e,this.keydownHandler=e=>{e.keyCode===_b.Escape&&this.host.isOpen&&(e.stopPropagation(),this.host.toggle(!1))}}ngAfterViewInit(){const e=this.host.wrapper.nativeElement;e.setAttribute("aria-label",this.filterMenuDropDownLabel),e.addEventListener("keydown",this.keydownHandler,!0)}ngOnDestroy(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}};return e.\u0275fac=function(t){return new(t||e)(Oo(ZE))},e.\u0275dir=bt({type:e,selectors:[["","kendoFilterMenuDropDown",""]],inputs:{filterMenuDropDownLabel:"filterMenuDropDownLabel"}}),e})(),V$=(()=>{let e=class{static exports(){return[F$,aj,D$,R$,P$,L$,O$,Eq.exports()]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Eq],Eq]}),e})(),H$=(()=>{let e=class{constructor(e,t,i){this.element=e,this.ngZone=t,this.renderer=i,this.reset=new gc,this.apply=new gc,this.columnChange=new gc,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}get className(){return!0}set columns(e){this._columns=e.filter(e=>!1!==e.includeInChooser),this.allColumns=e,this.updateColumnState()}get columns(){return this._columns}isDisabled(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find(t=>t!==e&&!t.hidden))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}ngOnInit(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubscriptions=this.renderer.listen(this.element.nativeElement,"click",e=>{if(iz(e.target,"k-checkbox"))if(this.autoSync){const t=parseInt(e.target.getAttribute("data-index"),10),i=this.columns[t],n=!e.target.checked;Boolean(i.hidden)!==n&&this.ngZone.run(()=>{i.hidden=n,this.columnChange.emit([i])})}else this.updateDisabled()})})}ngOnChanges(e){this.service&&(e.isLast&&this.isLast&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement),e.isExpanded&&this.isExpanded&&this.isLast&&this.applyButton&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement))}ngOnDestroy(){this.domSubscriptions&&this.domSubscriptions()}cancelChanges(){this.forEachCheckBox((e,t)=>{e.checked=!this.columns[t].hidden}),this.updateDisabled(),this.reset.emit()}applyChanges(){const e=[];this.forEachCheckBox((t,i)=>{const n=this.columns[i],s=!t.checked;Boolean(n.hidden)!==s&&(n.hidden=s,e.push(n))}),this.updateDisabled(),this.apply.emit(e)}onTab(e){this.isLast&&(e.preventDefault(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}forEachCheckBox(e){const t=this.element.nativeElement.getElementsByClassName("k-checkbox"),i=t.length;for(let n=0;n<i;n++)e(t[n],n)}updateDisabled(){if(this.allowHideAll&&!this.hasLocked)return;const e=[];if(this.forEachCheckBox((t,i)=>{t.checked&&e.push({checkbox:t,index:i}),t.disabled=!1}),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){const t=this.columns,i=e.filter(e=>!t[e.index].locked);1===i.length&&(i[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}updateColumnState(){this.hasLocked=this.allColumns.filter(e=>e.locked&&(!e.hidden||!1!==e.includeInChooser)).length>0,this.hasVisibleLocked=this.allColumns.filter(e=>e.locked&&!e.hidden).length>0,this.unlockedCount=this.columns.filter(e=>!e.locked&&!e.hidden).length;const e=this.allColumns.filter(e=>!1===e.includeInChooser&&!e.hidden);e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter(e=>!e.locked).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}};return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(ou),Oo(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnlist"]],viewQuery:function(e,t){var i;1&e&&_c(yH,!0),2&e&&Ic(i=Oc())&&(t.applyButton=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&ua("k-column-list-wrapper",t.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText",isLast:"isLast",isExpanded:"isExpanded",service:"service"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},features:[Pa],decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"keydown.tab","click"],["applyButton",""]],template:function(e,t){1&e&&(Vo(0,"div",0),Ao(1,bH,4,4,"label",1),Ho(),Ao(2,wH,6,3,"div",2)),2&e&&(ms(1),Mo("ngForOf",t.columns),ms(1),Mo("ngIf",!t.autoSync))},directives:[Nh,Lh,Oh],encapsulation:2}),e})(),B$=(()=>{let e=class{constructor(e,t,i,n,s,r){this.localization=e,this.columnInfoService=t,this.popupService=i,this.ngZone=n,this.renderer=s,this.changeDetector=r,this.autoSync=!1,this.allowHideAll=!0}get columns(){return this.columnInfoService.leafNamedColumns}ngOnDestroy(){this.close()}toggle(e,t){if(this.popupRef)this.close();else{const i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:i},popupAlign:{vertical:"top",horizontal:i}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular(()=>this.closeClick=this.renderer.listen("document","click",({target:t})=>{rz(t,t=>t===this.popupRef.popupElement||t===e)||this.close()}))}}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onChange(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}close(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}detachClose(){this.closeClick&&(this.closeClick(),this.closeClick=null)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(PU),Oo(zx),Oo(ou),Oo(Ja),Oo(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,t){if(1&e){const e=Go();Vo(0,"button",0,1),Ko("click",(function(){Qt(e);const i=Ro(1),n=Ro(4);return t.toggle(i,n)})),Bo(2,"span",2),Ho(),Ao(3,CH,3,6,"ng-template",null,3,Lc)}2&e&&Fo("title",t.localization.get("columns"))},directives:[H$],encapsulation:2}),e})(),z$=(()=>{class e{constructor(){this.hostClass=!0}ngOnInit(){if(Sn()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}close(){this.service.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=bt({type:e,hostVars:2,hostBindings:function(e,t){2&e&&ua("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"}}),e})(),j$=(()=>{let e=class extends z${constructor(e,t,i,n){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=i,this.hostElement=n,this.expand=new gc,this.collapse=new gc,this.expanded=!1,this.isLast=!1,this.actionsClass="k-columnmenu-actions"}get columns(){return this.columnInfoService.leafNamedColumns}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(PU),Oo(Wr),Oo(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[_a],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","isLast","isExpanded","service","apply"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),Ko("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ao(1,SH,1,9,"ng-template",1),Ho()),2&e&&Mo("text",t.localization.get("columns"))("expanded",t.expanded)},directives:function(){return[q$,G$,H$]},encapsulation:2}),e})(),U$=(()=>{let e=class extends z${constructor(e,t){super(),this.localization=e,this.hostElement=t,this.expand=new gc,this.collapse=new gc,this.expanded=!1,this.isLast=!1,this.actionsClass="k-columnmenu-actions"}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}onExpand(){this.expanded=!0,this.expand.emit()}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[_a],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"column","menuTabbingService","filter","actionsClass","isLast","isExpanded","keydown.shift.tab","close"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),Ko("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ao(1,xH,1,6,"ng-template",1),Ho()),2&e&&Mo("text",t.localization.get("filter"))("expanded",t.expanded)},directives:function(){return[q$,G$,I$]},encapsulation:2}),e})(),G$=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Oo(yl,8))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),e})(),q$=(()=>{let e=class{constructor(){this.itemClick=new gc,this.expand=new gc,this.collapse=new gc,this.contentState="collapsed"}get iconClass(){return"k-i-"+this.icon}ngOnChanges(e){e.expanded&&this.updateContentState()}onClick(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}updateContentState(){this.contentState=this.expanded?"expanded":"collapsed"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,t,i){var n;1&e&&Dc(i,G$,!0),2&e&&Ic(n=Oc())&&(t.contentTemplate=n.first)},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[Pa],decls:4,vars:8,consts:[["role","button",1,"k-columnmenu-item",3,"click","keydown.enter"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Vo(0,"div",0),Ko("click",(function(e){return t.onClick(e)}))("keydown.enter",(function(e){return t.onClick(e)})),Ao(1,kH,1,1,"span",1),Ca(2),Ho(),Ao(3,EH,3,2,"div",2)),2&e&&(ua("k-state-selected",t.selected)("k-state-disabled",t.disabled),Fo("aria-expanded",t.expanded),ms(1),Mo("ngIf",t.icon),ms(1),xa(" ",t.text," "),ms(1),Mo("ngIf",t.contentTemplate))},directives:[Lh,Oh,qh],encapsulation:2,data:{animation:[Td("state",[Ad("collapsed",Dd({display:"none"})),Ad("expanded",Dd({display:"block"})),Rd("collapsed => expanded",[Dd({height:"0px",display:"block"}),_d("100ms ease-in",Dd({height:"*"}))]),Rd("expanded => collapsed",[Dd({height:"*"}),_d("100ms ease-in",Dd({height:"0px"}))])])]}}),e})(),$$=(()=>{let e=class extends z${constructor(e,t,i){super(),this.localization=e,this.sortService=t,this.renderer=i}get sortedAsc(){const e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}get sortedDesc(){const e=this.descriptor;return e&&"desc"===e.dir}toggleSort(e){const t=this.service.column.field,{mode:i,allowUnsort:n}=s$(this.service.sortable),s=this.descriptor,r="multiple"===i?this.service.sort.filter(e=>e.field!==t):[];if(s&&s.dir===e){if(!n)return}else r.push({field:t,dir:e});this.sortService.sort(r),this.close()}get descriptor(){return[].concat(this.service.sort||[]).find(e=>e.field===this.service.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(NU),Oo(Ja))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-sort"]],features:[_a],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),Ko("itemClick",(function(){return t.toggleSort("asc")})),Ho(),Vo(1,"kendo-grid-columnmenu-item",1),Ko("itemClick",(function(){return t.toggleSort("desc")})),Ho()),2&e&&(Mo("text",t.localization.get("sortAscending"))("selected",t.sortedAsc),ms(1),Mo("text",t.localization.get("sortDescending"))("selected",t.sortedDesc))},directives:[q$],encapsulation:2}),e})(),K$=(()=>{let e=class extends z${constructor(e,t,i){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=i}get text(){return this.localization.get(this.locked?"unlock":"lock")}get icon(){return this.locked?"unlock":"lock"}get disabled(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let t=this.service.column;for(;t.parent;)t=t.parent;const i=[t],n=[];for(;i.length;){const t=i.shift();t.locked=e,n.push(t),t.hasChildren&&i.push(...t.childrenArray)}this.columnInfoService.changeLocked(n)}get locked(){return this.service.column.locked}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(PU),Oo(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-lock"]],features:[_a],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),Ko("itemClick",(function(){return t.toggleColumn()})),Ho()),2&e&&Mo("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[q$],encapsulation:2}),e})(),W$=(()=>{let e=class extends z${constructor(e,t){super(),this.localization=e,this.hostElement=t,this.expand=new gc,this.collapse=new gc,this.expanded=!1,this.actionsClass="k-columnmenu-actions",this._isLast=!1}set isLast(e){this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem(),this._isLast=e}get isLast(){return this._isLast}onTab(e,t){this.isLast&&t&&(e.preventDefault(),e.stopImmediatePropagation(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}onCollapse(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.collapse.emit()}onExpand(){this.expanded=!0,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.expand.emit()}getLastFocusableItem(){const e=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item");return e[this.expanded?e.length-1:0]}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-position"]],inputs:{expanded:"expanded",isLast:"isLast",showLock:"showLock",showStick:"showStick"},outputs:{expand:"expand",collapse:"collapse"},features:[_a],decls:2,vars:2,consts:[["icon","set-column-position",3,"text","expanded","keydown.tab","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"service","keydown.tab",4,"ngIf"],[3,"service","keydown.tab"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),Ko("keydown.tab",(function(e){return t.onTab(e,!t.expanded)}))("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ao(1,_H,2,2,"ng-template",1),Ho()),2&e&&Mo("text",t.localization.get("setColumnPosition"))("expanded",t.expanded)},directives:function(){return[q$,G$,Lh,K$,Q$]},encapsulation:2}),e})(),Z$=(()=>{let e=class{constructor(e,t,i){this.hostElement=e,this.renderer=t,this.ngZone=i,this._isFirst=!1,this._isLast=!1,this.subs=new h,this.onTab=e=>{if(e.keyCode===_b.Tab&&(this.isFirst&&e.shiftKey&&e.target===this.columnMenuItems[0]&&(e.preventDefault(),this.menuItemComponent.service.menuTabbingService.lastFocusable.focus()),this.isLast&&!e.shiftKey)){const t=this.getLastColumnMenuItem(),i=this.menuItemComponent.expanded;t!==e.target||i||(e.preventDefault(),this.menuItemComponent.service.menuTabbingService.firstFocusable.focus())}}}set isFirst(e){if(e){const e=this.columnMenuItems[0];this.menuItemComponent.service.menuTabbingService.firstFocusable=e,this.ngZone.runOutsideAngular(()=>{const t=this.renderer.listen(e,"keydown",this.onTab);this.subs.add(t)})}this._isFirst=e}get isFirst(){return this._isFirst}set isLast(e){if(this.columnMenuItems){if(e){const e=this.getLastColumnMenuItem();this.menuItemComponent.service.menuTabbingService.lastFocusable=e,this.ngZone.runOutsideAngular(()=>{const t=this.renderer.listen(e,"keydown",this.onTab);this.subs.add(t)}),this.isExpandableItem()&&(this.menuItemComponent.isLast=!0)}this._isLast=e}}get isLast(){return this._isLast}ngAfterViewInit(){this.columnMenuItems=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item"),[].slice.apply(this.columnMenuItems).forEach(e=>this.renderer.setAttribute(e,"tabindex","0")),this.menuItemComponent instanceof U$&&(this.menuItemComponent.service.menuTabbingService.isColumnMenu=!0)}ngOnDestroy(){this.subs&&this.subs.unsubscribe()}getLastColumnMenuItem(){return 1===this.columnMenuItems.length?this.columnMenuItems[0]:this.columnMenuItems[1]}isExpandableItem(){return this.menuItemComponent instanceof U$||this.menuItemComponent instanceof j$||this.menuItemComponent instanceof W$}};return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Ja),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridColumnMenuItem",""]],inputs:{menuItemComponent:["kendoGridColumnMenuItem","menuItemComponent"]}}),e})(),Y$=(()=>{let e=class{constructor(e,t){this.service=e,this.ngZone=t}ngAfterContentInit(){this.columnMenuItems.length&&(this.columnMenuItems.first.isFirst=!0,this.columnMenuItems.last.isLast=!0,this.ngZone.onStable.pipe(Fg(1)).subscribe(()=>this.service.menuTabbingService.firstFocusable.focus()))}};return e.\u0275fac=function(t){return new(t||e)(Oo(u$),Oo(ou))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-container"]],contentQueries:function(e,t,i){var n;1&e&&Dc(i,Z$,!0),2&e&&Ic(n=Oc())&&(t.columnMenuItems=n)},ngContentSelectors:uL,decls:1,vars:0,template:function(e,t){1&e&&(Jo(),Xo(0))},encapsulation:2}),e})(),Q$=(()=>{let e=class extends z${constructor(e,t,i){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=i}get text(){return this.localization.get(this.sticky?"unstick":"stick")}get icon(){return this.sticky?"unstick":"stick"}get disabled(){return!this.sticky&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.sticky),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let t=this.service.column;for(;t.parent;)t=t.parent;const i=[t],n=[];for(;i.length;){const t=i.shift();t.sticky=e,n.push(t),t.hasChildren&&i.push(...t.childrenArray)}this.columnInfoService.changeStuck(n)}get sticky(){return this.service.column.sticky}};return e.\u0275fac=function(t){return new(t||e)(Oo(jb),Oo(PU),Oo(Wr))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-stick"]],features:[_a],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(Vo(0,"kendo-grid-columnmenu-item",0),Ko("itemClick",(function(){return t.toggleColumn()})),Ho()),2&e&&Mo("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[q$],encapsulation:2}),e})(),J$=(()=>{let e=class{static exports(){return[B$,U$,q$,G$,$$,K$,Q$,W$,j$,ij,Y$,Z$,h$]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,V$]]}),e})();const X$=[Kh,i$,_q,V$,sq,t$,J$];let eK=(()=>{let e=class{static exports(){return[ej,S$]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...X$]]}),e})();var tK;let iK=(()=>{let e=tK=class extends rj{constructor(e){super(e),this.parent=e}get templateRef(){return this.template?this.template.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Oo(rj,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,t,i){var n;1&e&&Dc(i,Zz,!0),2&e&&Ic(n=Oc())&&(t.template=n.first)},features:[Ga([{provide:rj,useExisting:xe(()=>tK)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var nK;let sK=(()=>{let e=nK=class extends rj{constructor(e){super(e),this.parent=e,this.isCheckboxColumn=!0}get templateRef(){return this.template?this.template.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Oo(rj,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,t,i){var n;1&e&&Dc(i,Zz,!0),2&e&&Ic(n=Oc())&&(t.template=n.first)},inputs:{showSelectAll:"showSelectAll"},features:[Ga([{provide:rj,useExisting:xe(()=>nK)}]),_a],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),rK=(()=>{let e=class{constructor(e,t,i,n){this.selectionService=e,this.el=t,this.renderer=i,this.ngZone=n,this.type="checkbox",this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this)),this.destroyKeyDown=this.renderer.listen(this.el.nativeElement,"keydown",this.onKeyDown.bind(this))})}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}onClick(){this.selectionService.options.enabled&&this.ngZone.run(()=>{const e=this.selectionService.toggleByIndex(this.itemIndex);e.ctrlKey=!0,e.shiftKey=!1,this.selectionService.changes.emit(e)})}onKeyDown(e){e.keyCode===_b.Enter&&this.onClick()}setCheckedState(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}};return e.\u0275fac=function(t){return new(t||e)(Oo(Uz),Oo(Wa),Oo(Ja),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&Fo("type",t.type)},inputs:{itemIndex:["kendoGridSelectionCheckbox","itemIndex"]}}),e})(),oK=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,u,h,d){this.detailsService=e,this.groupsService=t,this.changeNotification=i,this.editService=n,this.localization=s,this.ngZone=r,this.renderer=o,this.element=a,this.domEvents=l,this.selectionService=c,this.cellSelectionService=u,this.columnInfoService=h,this.navigationService=d,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=VU,this.rowClass=()=>null,this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe(e=>this.cellKeydownHandler(e)),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}get newDataItem(){return this.editService.newDataItem}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length}isAriaSelected(e,t){return this.cellSelectionService.isCellSelected(e,t)||this.isRowSelected(e)?"true":"false"}toggleRow(e,t){return this.detailsService.toggleRow(e,t),!1}isExpanded(e){return this.detailsService.isExpanded(e.index,e.data)}detailButtonStyles(e){return this.isExpanded(e)?"k-i-minus":"k-i-plus"}detailButtonTitle(e){const t=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.localization.get(t)}isGroup(e){return"group"===e.type}isDataItem(e){return!this.isGroup(e)&&!this.isFooter(e)}isFooter(e){return"footer"===e.type}isFooterItemInExpandedGroup(e){return this.isInExpandedGroup({data:e.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}isDataItemInExpandedGroup(e){return this.isInExpandedGroup({data:e.group.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}isInExpandedGroup(e){return this.groupsService.isInExpandedGroup(e)}isParentGroupExpanded(e){return this.groupsService.isInExpandedGroup(e.parentGroup)}isOdd(e){return e.index%2!=0}isSelectable(){return this.selectable&&!1!==this.selectable.enabled}isRowSelected(e){return this.selectionService.isSelected(e.index)}trackByWrapper(e,t){return"data"===t.type&&(t.isEditing=this.editService.hasEdited(t.index)),this.trackBy(e,t)}trackByColumns(e,t){return this.virtualColumns?e:t}ngDoCheck(){this.groupHeaderColumns=this.hasGroupHeaderColumn?mj(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}ngAfterViewChecked(){this.rowSticky&&this.applyStickyRowsStyling()}ngOnChanges(e){ub("columns",e,!1)&&this.changeNotification.notify()}logicalRowIndex(e){let t=this.skip+e;this.hasDetailTemplate&&(t*=2);const i=1+t,n=this.editService.hasNewItem?1:0,s=gU(this.filterable)?1:0;return i+(this.columnInfoService.totalLevels+s+n)}addRowLogicalIndex(){return this.columnInfoService.totalLevels+1+(gU(this.filterable)?1:0)}logicalColIndex(e){return DB(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const e=this.clickHandler.bind(this),t=this.renderer.listen(this.element.nativeElement,"mousedown",e),i=this.renderer.listen(this.element.nativeElement,"mouseup",e),n=this.renderer.listen(this.element.nativeElement,"click",e),s=this.renderer.listen(this.element.nativeElement,"contextmenu",e),r=this.renderer.listen(this.element.nativeElement,"touchstart",e),o=this.renderer.listen(this.element.nativeElement,"touchend",e);this.clickSubscription=()=>{t(),i(),n(),s()},this.touchSubscription=()=>{r(),o()}});let e=this.localization.get("noRecords");this.localization.changes.subscribe(()=>{this.noRecordsText===e&&(this.noRecordsText=this.localization.get("noRecords"),e=this.noRecordsText)})}ngOnDestroy(){this.clickSubscription&&this.clickSubscription(),this.touchSubscription&&this.touchSubscription(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}isEditingCell(e,t){return this.editService.isEditing()&&this.editService.isEditedColumn(e,t)}isEditingRow(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}get hasGroupHeaderColumn(){return this.columnsContainer.hasGroupHeaderColumn}get columnsContainer(){return this.columnInfoService.columnsContainer}get columnsSpan(){return bj(this.columns)}get allColumnsSpan(){return bj(this.allColumns||this.columns)}get colSpan(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}get footerColumns(){return this.isLocked?this.columnsContainer.lockedColumnsToRender:this.columnsContainer.nonLockedColumnsToRender}showGroupHeader(e){return!e.data.skipHeader}addStickyColumnStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}resizeHandler(){this.applyStickyRowsStyling()}get hasDetailTemplate(){return DB(this.detailTemplate)}clickHandler(e){const t=this.element.nativeElement,i=this.eventTarget(e);let n,s,r,o,a=i;do{n=rz(a,sz("td")),s=rz(n,sz("tr")),r=rz(s,sz("tbody")),a=r,o=oz(a,nz("k-grid"),t)}while(r&&r!==t&&!o);if(n&&!iz(n,"k-hierarchy-cell k-detail-cell k-group-cell")&&!iz(s,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&r===t&&!o&&(this.editService.preventCellClose(),!(i!==n&&cz(i,!1)||sz("label")(i)||iz(i,"k-icon")||oz(i,nz("k-widget k-grid-ignore-click"),n)))){const t=this.cellClickArgs(n,s,e);"mousedown"===e.type||"touchstart"===e.type?this.domEvents.cellMousedown.emit(t):"mouseup"===e.type||"touchend"===e.type?this.domEvents.cellMouseup.emit(t):!t.isEditedColumn&&this.editService.closeCell(e)||("click"===e.type?this.clickTimeout=setTimeout(()=>{this.emitCellClick(t)},0):this.emitCellClick(t))}}emitCellClick(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}cellKeydownHandler(e){e.keyCode===_b.Enter&&this.clickHandler(e)}cellClickArgs(e,t,i){const n=((e,t)=>{let i=0;for(let n=0;n<t.length;n++){if(t[n]===e)return i;iz(t[n],"k-hierarchy-cell k-group-cell")||i++}})(e,t.cells),s=this.columns.toArray()[n],r=this.lockedColumnsCount+n;let o=t.getAttribute("data-kendo-grid-item-index");return o=o?parseInt(o,10):-1,{column:s,columnIndex:r,dataItem:-1===o?this.editService.newDataItem:this.data.at(o-this.skip),isEditedColumn:this.editService.isEditedColumn(o,s),isEditedRow:this.editService.isEdited(o),originalEvent:i,rowIndex:o,type:"keydown"===i.type?"click":i.type}}eventTarget(e){if("touchend"===e.type){const t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}return e.target}applyStickyRowsStyling(){const e=(t=this.element.nativeElement.querySelectorAll(".k-grid-row-sticky"),[].slice.call(t));var t;if(e.length){let t=0;const i=[];e.forEach(e=>{const n=e.getBoundingClientRect().height;i.push({accumulatedHeight:t,rowHeight:n}),t+=n}),e.forEach((e,n)=>{this.renderer.setStyle(e,"top",i[n].accumulatedHeight+"px"),this.renderer.setStyle(e,"bottom",t-i[n].accumulatedHeight-i[n].rowHeight+"px")})}}};return e.\u0275fac=function(t){return new(t||e)(Oo(Az),Oo(Tz),Oo(Yj),Oo(Ez),Oo(jb),Oo(ou),Oo(Ja),Oo(Wa),Oo(ZB),Oo(Uz),Oo(Gz),Oo(PU),Oo(jz))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridTableBody",""]],inputs:{columns:"columns",groups:"groups",skip:"skip",noRecordsText:"noRecordsText",isLocked:"isLocked",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",trackBy:"trackBy",rowClass:"rowClass",allColumns:"allColumns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",selectable:"selectable",filterable:"filterable",virtualColumns:"virtualColumns",rowSticky:"rowSticky"},features:[Pa],attrs:FH,decls:4,vars:5,consts:[[3,"ngIf"],["class","k-grid-norecords",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],[3,"resize",4,"ngIf"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","k-grid-content-sticky","ngClass","left","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],[1,"k-grid-norecords"],[3,"ngIf","templateContext"],[4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","k-grid-row-sticky","ngClass","k-alt","k-master-row","k-grid-edit-row","k-state-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","k-grid-content-sticky","k-touch-action-none","k-touch-action-auto","ngClass","k-grid-edit-cell","ngStyle","k-state-selected",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["class","k-icon","href","#","tabindex","-1",3,"ngClass","click",4,"ngIf"],["href","#","tabindex","-1",1,"k-icon",3,"ngClass","click"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex"],[3,"templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Ao(0,PH,4,8,"ng-template",0),Ao(1,VH,4,6,"tr",1),Ao(2,sB,4,4,"ng-template",2),Ao(3,rB,1,0,"kendo-resize-sensor",3)),2&e&&(Mo("ngIf",t.editService.hasNewItem),ms(1),Mo("ngIf",0===(null==t.data?null:t.data.length)||null==t.data),ms(1),Mo("ngForOf",t.data)("ngForTrackBy",t.trackByWrapper),ms(1),Mo("ngIf",t.rowSticky))},directives:function(){return[Lh,Nh,ZG,KG,aK,Oh,Gh,GG,jq,qh,Eb]},encapsulation:2}),e})(),aK=(()=>{let e=class{constructor(e,t,i,n){this.editService=e,this.idService=t,this.localizationService=i,this.cellContext=n,this.isNew=!1,this._templateContext={},this._editTemplateContext={}}get commandCellClass(){return this.isCommand(this.column)}set rowIndex(e){this._rowIndex=e,this.updateCellContext()}get rowIndex(){return this._rowIndex}get isEdited(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;const e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}get formGroup(){return this.editService.context(this.rowIndex).group}get templateContext(){return this._templateContext}get editTemplateContext(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}get format(){if(cj(this.column)&&!PB(this.column.format))return HB(this.column.format)}get isBoundColumn(){return this.column.field&&!this.column.templateRef}get isCheckboxColumn(){return sj(this.column)&&!this.column.templateRef}get selectionCheckboxId(){return this.idService.selectionCheckboxId(this.rowIndex)}get selectionCheckboxLabel(){return this.localizationService.get("selectionCheckboxLabel")}get isSpanColumn(){return nj(this.column)&&!this.column.templateRef}get childColumns(){return mj([this.column])}get isColumnEditable(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){this.updateTemplateContext()}ngAfterContentChecked(){this.updateTemplateContext()}isCommand(e){return e instanceof iK}isFieldEditable(e,t){return!!DB(e)&&(!!DB(t.editTemplate)||DB(e.group)&&DB(e.group.get(t.field)))}updateCellContext(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}updateTemplateContext(){if(!this.column.templateRef)return;const e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}};return e.\u0275fac=function(t){return new(t||e)(Oo(Ez),Oo(RU),Oo(jb),Oo(mz,8))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-command-cell",t.commandCellClass)},inputs:{isNew:"isNew",rowIndex:"rowIndex",column:"column",columnIndex:"columnIndex",dataItem:"dataItem"},features:[Pa],attrs:oB,decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"k-checkbox",3,"kendoGridSelectionCheckbox"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","class","k-checkbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",1,"k-checkbox",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox",3,"formControl"]],template:function(e,t){1&e&&(zo(0,0),Ao(1,dB,5,6,"ng-container",1),Ao(2,wB,3,2,"ng-container",1),jo()),2&e&&(Mo("ngSwitch",t.isEdited),ms(1),Mo("ngSwitchCase",!1),ms(1),Mo("ngSwitchCase",!0))},directives:[zh,jh,Lh,qh,Nh,vz,rK,Uh,pF,Iw,FC,RO,mw,bw],pipes:[QG],encapsulation:2}),e})(),lK=(()=>{let e=class extends wN{constructor(e,t,i,n,s,r){super(i,n,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Oo(Ez),Oo(mz),Oo(Wa),Oo(Ja),Oo(jb),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ko("click",(function(e){return t.onClick(e)})),2&e&&(ca("display",t.visible),ua("k-grid-edit-command",t.commandClass))},features:[_a]}),e})(),cK=(()=>{let e=class extends wN{constructor(e,t,i,n,s,r){super(i,n,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Oo(Ez),Oo(mz),Oo(Wa),Oo(Ja),Oo(jb),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ko("click",(function(e){return t.onClick(e)})),2&e&&(ca("display",t.visible),ua("k-grid-cancel-command",t.commandClass))},features:[_a]}),e})(),uK=(()=>{let e=class extends wN{constructor(e,t,i,n,s,r){super(i,n,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Oo(Ez),Oo(mz),Oo(Wa),Oo(Ja),Oo(jb),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ko("click",(function(e){return t.onClick(e)})),2&e&&(ca("display",t.visible),ua("k-grid-save-command",t.commandClass))},features:[_a]}),e})(),hK=(()=>{let e=class extends wN{constructor(e,t,i,n,s,r){super(i,n,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.remove(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Oo(Ez),Oo(mz),Oo(Wa),Oo(Ja),Oo(jb),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Ko("click",(function(e){return t.onClick(e)})),2&e&&(ca("display",t.visible),ua("k-grid-remove-command",t.commandClass))},features:[_a]}),e})(),dK=(()=>{let e=class extends wN{constructor(e,t,i,n,s){super(t,i,null,n,s),this.editService=e}onClick(e){e.preventDefault(),this.editService.beginAdd()}get commandClass(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Oo(Ez),Oo(Wa),Oo(Ja),Oo(jb),Oo(ou))},e.\u0275dir=bt({type:e,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&Ko("click",(function(e){return t.onClick(e)})),2&e&&ua("k-grid-add-command",t.commandClass)},features:[_a]}),e})();const pK=[Kh,LC,MC,sq,i$,xF,mP,Ib];let fK=(()=>{let e=class{static exports(){return[iK,sK,rK,Zz,Qj,Jz,lK,cK,uK,hK,dK]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...pK]]}),e})(),gK=(()=>{let e=class{constructor(e){this.columnInfoService=e,this.columns=[],this.groups=[],this.lockedColumnsCount=0,this.logicalRowIndex=0}get footerClass(){return!this.scrollable}get columnsToRender(){return mj(this.columns||[])}logicalColumnIndex(e){const t=e.leafIndex;return DB(t)?t+(DB(this.detailTemplate)?1:0):-1}addStickyStyles(e){const t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}};return e.\u0275fac=function(t){return new(t||e)(Oo(PU))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFooter",""]],hostVars:2,hostBindings:function(e,t){2&e&&ua("k-grid-footer",t.footerClass)},inputs:{columns:"columns",groups:"groups",lockedColumnsCount:"lockedColumnsCount",logicalRowIndex:"logicalRowIndex",detailTemplate:"detailTemplate",scrollable:"scrollable"},attrs:CB,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridLogicalCell","","role","columnfooter","aria-selected","false",3,"logicalRowIndex","logicalColIndex","k-grid-footer-sticky","ngClass","ngStyle",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridLogicalCell","","role","columnfooter","aria-selected","false",3,"logicalRowIndex","logicalColIndex","ngClass","ngStyle"],[3,"templateContext"]],template:function(e,t){1&e&&Ao(0,IB,4,9,"ng-template",0),2&e&&Mo("ngIf",!0)},directives:[Lh,ZG,Nh,KG,Oh,Gh,GG],encapsulation:2}),e})();const mK=[Kh,sq];let vK=(()=>{let e=class{static exports(){return[]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[...mK]]}),e})(),yK=(()=>{let e=class{constructor(e){this.grid=e,this.context={}}set position(e){this.context.position=e}get toolbarTemplateRef(){return this.grid.toolbarTemplate?this.grid.toolbarTemplate.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Oo(jU))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-toolbar"]],inputs:{position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ao(0,_B,1,2,void 0,0),2&e&&Mo("ngIf",t.toolbarTemplateRef)},directives:[Lh,qh],encapsulation:2}),e})(),bK=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,i$,sq,fK,eK,vK,zq,_q,V$,Ib,J$]]}),e})();const wK=on(sG);class CK{}class SK{}class xK{}class kK{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const i=e.slice(0,t),n=i.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(s):this.headers.set(n,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const n=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof kK?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new kK;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof kK?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":const s=e.value;if(s){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===s.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class EK{encodeKey(e){return IK(e)}encodeValue(e){return IK(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function IK(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class TK{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new EK,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const i=new Map;return e.length>0&&e.split("&").forEach(e=>{const n=e.indexOf("="),[s,r]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=i.get(s)||[];o.push(r),i.set(s,o)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new TK({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const i=t.indexOf(e.value);-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function _K(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function FK(e){return"undefined"!=typeof Blob&&e instanceof Blob}function DK(e){return"undefined"!=typeof FormData&&e instanceof FormData}class AK{constructor(e,t,i,n){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,s=n):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.params&&(this.params=s.params)),this.headers||(this.headers=new kK),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const i=t.indexOf("?");this.urlWithParams=t+(-1===i?"?":i<t.length-1?"&":"")+e}}else this.params=new TK,this.urlWithParams=t}serializeBody(){return null===this.body?null:_K(this.body)||FK(this.body)||DK(this.body)||"string"==typeof this.body?this.body:this.body instanceof TK?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DK(this.body)?null:FK(this.body)?this.body.type||null:_K(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof TK?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,n=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,r=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,i)=>t.set(i,e.setHeaders[i]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,i)=>t.set(i,e.setParams[i]),l)),new AK(t,i,s,{params:l,headers:a,reportProgress:o,responseType:n,withCredentials:r})}}const RK=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class OK{constructor(e,t=200,i="OK"){this.headers=e.headers||new kK,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class PK extends OK{constructor(e={}){super(e),this.type=RK.ResponseHeader}clone(e={}){return new PK({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class NK extends OK{constructor(e={}){super(e),this.type=RK.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new NK({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class MK extends OK{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function LK(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let VK=(()=>{class e{constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof AK)n=e;else{let s=void 0;s=i.headers instanceof kK?i.headers:new kK(i.headers);let r=void 0;i.params&&(r=i.params instanceof TK?i.params:new TK({fromObject:i.params})),n=new AK(e,t,void 0!==i.body?i.body:null,{headers:s,params:r,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=tg(n).pipe(jg(e=>this.handler.handle(e)));if(e instanceof AK||"events"===i.observe)return s;const r=s.pipe(hg(e=>e instanceof NK));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return r.pipe(L(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return r.pipe(L(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return r.pipe(L(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return r.pipe(L(e=>e.body))}case"response":return r;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new TK).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,LK(i,t))}post(e,t,i={}){return this.request("POST",e,LK(i,t))}put(e,t,i={}){return this.request("PUT",e,LK(i,t))}}return e.\u0275fac=function(t){return new(t||e)(We(SK))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class HK{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const BK=new Ve("HTTP_INTERCEPTORS");let zK=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const jK=/^\)\]\}',?\n/;class UK{}let GK=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),qK=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((e,t)=>i.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&i.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();i.responseType="json"!==t?t:"text"}const n=e.serializeBody();let s=null;const r=()=>{if(null!==s)return s;const t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new kK(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new PK({headers:r,status:t,statusText:n,url:o}),s},o=()=>{let{headers:n,status:s,statusText:o,url:a}=r(),l=null;204!==s&&(l=void 0===i.response?i.responseText:i.response),0===s&&(s=l?200:0);let c=s>=200&&s<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(jK,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new NK({body:l,headers:n,status:s,statusText:o,url:a||void 0})),t.complete()):t.error(new MK({error:l,headers:n,status:s,statusText:o,url:a||void 0}))},a=e=>{const{url:n}=r(),s=new MK({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:n||void 0});t.error(s)};let l=!1;const c=n=>{l||(t.next(r()),l=!0);let s={type:RK.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(s.total=n.total),"text"===e.responseType&&i.responseText&&(s.partialText=i.responseText),t.next(s)},u=e=>{let i={type:RK.UploadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),t.next(i)};return i.addEventListener("load",o),i.addEventListener("error",a),e.reportProgress&&(i.addEventListener("progress",c),null!==n&&i.upload&&i.upload.addEventListener("progress",u)),i.send(n),t.next({type:RK.Sent}),()=>{i.removeEventListener("error",a),i.removeEventListener("load",o),e.reportProgress&&(i.removeEventListener("progress",c),null!==n&&i.upload&&i.upload.removeEventListener("progress",u)),i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(We(UK))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();const $K=new Ve("XSRF_COOKIE_NAME"),KK=new Ve("XSRF_HEADER_NAME");class WK{}let ZK=(()=>{class e{constructor(e,t,i){this.doc=e,this.platform=t,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Rh(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(We(Vu),We(Gc),We($K))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),YK=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t.handle(e);const n=this.tokenService.getToken();return null===n||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(WK),We(KK))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),QK=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(BK,[]);this.chain=e.reduceRight((e,t)=>new HK(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(xK),We(uo))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),JK=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:YK,useClass:zK}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:$K,useValue:t.cookieName}:[],t.headerName?{provide:KK,useValue:t.headerName}:[]]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[YK,{provide:BK,useExisting:YK,multi:!0},{provide:WK,useClass:ZK},{provide:$K,useValue:"XSRF-TOKEN"},{provide:KK,useValue:"X-XSRF-TOKEN"}]}),e})(),XK=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[VK,{provide:SK,useClass:QK},qK,{provide:xK,useExisting:qK},GK,{provide:UK,useExisting:GK}],imports:[[JK.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),eW=(()=>{class e{constructor(e){this.http=e,this.samples=[],this.sampleUpdate=new E}getSamples(){this.http.get("http://localhost:3000/api/samples").subscribe(e=>{this.samples=e.samples,this.sampleUpdate.next([...this.samples])})}editSamples(e){this.http.post("http://localhost:3000/api/editsamples",e).subscribe(t=>{console.log(t.message),this.samples.push(e),this.sampleUpdate.next([...this.samples])})}addSamples(e){this.http.post("http://localhost:3000/api/samples",e).subscribe(t=>{console.log(t.message),this.samples.push(e),this.sampleUpdate.next([...this.samples])})}saveSiteComments(e){return this.http.post("http://localhost:3000/api/samples",e)}editSample(e){return this.http.post("http://localhost:3000/api/editsample",e)}getSamplesUpdated(){return this.sampleUpdate.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(We(VK))},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tW=(()=>{class e{constructor(){}getStatusIcon(e,t=!1){switch(e){case"Installed":return t?"status-completed":"fa fa-check-circle check-circle--green";case"Build in Progress":return t?"status-progress":"fa fa-play-circle";case"Operational":return t?"status-paused":"fa fa-clock"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function iW(e,t){1&e&&Xo(0,0,["*ngIf","!actions"])}function nW(e,t){if(1&e){const e=Go();Vo(0,"button",2),Ko("click",(function(i){Qt(e);const n=t.$implicit;return Yo(2).onButtonClick(n,i)})),Ca(1),Ho()}if(2&e){const e=t.$implicit;Mo("ngClass",Yo(2).buttonClass(e)),ms(1),xa(" ",e.text," ")}}function sW(e,t){if(1&e&&(zo(0),Ao(1,nW,2,2,"button",1),jo()),2&e){const e=Yo();ms(1),Mo("ngForOf",e.actions)}}function rW(e,t){}function oW(e,t){1&e&&Ao(0,rW,0,0,"ng-template",3),2&e&&Mo("ngTemplateOutlet",Yo().actions)}const aW=["*"];function lW(e,t){if(1&e&&(Vo(0,"kendo-dialog-titlebar",6),Ca(1),Ho()),2&e){const e=Yo();Mo("id",e.titleId),ms(1),Sa(e.title)}}function cW(e,t){1&e&&Xo(0,0,["*ngIf","!title"])}function uW(e,t){1&e&&Xo(0,1,["*ngIf","!contentTemplate"])}function hW(e,t){}function dW(e,t){1&e&&Ao(0,hW,0,0,"ng-template",7),2&e&&Mo("ngTemplateOutlet",Yo().contentTemplate)}function pW(e,t){1&e&&Xo(0,2,["*ngIf","!actions"])}function fW(e,t){1&e&&Bo(0,"kendo-dialog-actions",8),2&e&&Mo("actions",Yo().actions)}const gW=[[["kendo-dialog-titlebar"]],"*",[["kendo-dialog-actions"]]],mW=["kendo-dialog-titlebar","*","kendo-dialog-actions"];let vW=(()=>{class e{constructor(e){this.el=e,this.action=new gc}get className(){return!0}actionTemplate(){return this.actions instanceof yl}onButtonClick(e,t){this.action.emit(e)}buttonClass(e){const t=["k-button"];return e.primary&&t.push("k-primary"),t.join(" ")}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dialog-actions"]],hostVars:4,hostBindings:function(e,t){2&e&&ua("k-dialog-buttongroup",t.className)("k-dialog-button-layout-stretched",t.className)},inputs:{actions:"actions"},outputs:{action:"action"},ngContentSelectors:aW,decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Jo(),Ao(0,iW,1,0,void 0,0),Ao(1,sW,2,1,"ng-container",0),Ao(2,oW,1,1,void 0,0)),2&e&&(Mo("ngIf",!t.actions),ms(1),Mo("ngIf",!t.actionTemplate()),ms(1),Mo("ngIf",t.actionTemplate()))},directives:[Lh,Nh,Oh,qh],encapsulation:2}),e})(),yW=(()=>{class e{constructor(e){this.hostElement=e,this.close=new gc}get className(){return!0}ngAfterViewChecked(){this.hostElement.nativeElement.setAttribute("id",this.id)}onCloseClick(e){e.preventDefault(),this.close.emit()}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dialog-titlebar"]],hostVars:6,hostBindings:function(e,t){2&e&&ua("k-window-titlebar",t.className)("k-dialog-titlebar",t.className)("k-header",t.className)},inputs:{id:"id"},outputs:{close:"close"},ngContentSelectors:aW,decls:5,vars:0,consts:[[1,"k-window-title","k-dialog-title"],[1,"k-window-actions","k-dialog-actions"],["href","#","role","button","aria-label","Close",1,"k-button","k-bare","k-button-icon","k-window-action","k-dialog-action","k-dialog-close",3,"click"],[1,"k-icon","k-i-x"]],template:function(e,t){1&e&&(Jo(),Vo(0,"div",0),Xo(1),Ho(),Vo(2,"div",1),Vo(3,"a",2),Ko("click",(function(e){return t.onCloseClick(e)})),Bo(4,"span",3),Ho(),Ho())},encapsulation:2}),e})();const bW=e=>null!=e,wW=e=>String(e).trim().split(" "),CW=/^(?:a|input|select|textarea|button|object)$/i;var SW=function(e){return e[e.esc=27]="esc",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.space=32]="space",e[e.ctrl=17]="ctrl",e[e.shift=16]="shift",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e}({});const xW=(e,t)=>{const i=wW(t);return Boolean(wW(e.className).find(e=>i.indexOf(e)>=0))},kW=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"].join(",");let EW=(()=>{class e{constructor(e,t,i){this._elRef=e,this._renderer=t,this.titleId=null,this.action=new gc,this.close=new gc,this.tabIndex=0,this.subscriptions=[],this.direction=i.rtl?"rtl":"ltr",this.subscriptions.push(i.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")),this.titleId=this.generateTitleId()}get dir(){return this.direction}onComponentKeydown(e){const t=e.target,i=t.parentElement;(xW(t,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action")||xW(i,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action"))&&e.keyCode===SW.esc&&this.close.emit(),xW(t,"k-button")&&xW(i,"k-dialog-buttongroup")&&(e.keyCode===SW.left||e.keyCode===SW.right)&&this.handleActionButtonFocus(i,e.keyCode),e.keyCode===SW.tab&&this.keepFocusWithinComponent(t,e)}ngAfterContentInit(){this.bubble("close",this.titlebarContent),this.titlebarContent&&(this.titlebarContent.id=this.titleId)}ngAfterViewInit(){this.handleInitialFocus(),this.bubble("close",this.titlebarView),this.bubble("action",this.actionsView),(this.titlebarView||this.titlebarContent)&&this._renderer.setAttribute(this._elRef.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}ngOnInit(){this._renderer.removeAttribute(this._elRef.nativeElement,"title")}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[]}focus(){const e=this._elRef.nativeElement;bW(e)&&e.focus()}handleInitialFocus(){const e=this._elRef.nativeElement,t=e.querySelector(".k-primary");if(this.autoFocusedElement){const t=e.querySelector(this.autoFocusedElement);t&&t.focus()}else this.shouldFocusPrimary(t)?t.focus():e.focus()}handleActionButtonFocus(e,t){const i=this.getAllFocusableChildren(e);for(let n=0;n<i.length;n++)if(i[n]===document.activeElement){if(t===SW.left&&n>0){i[n-1].focus();break}if(t===SW.right&&n<i.length-1){i[n+1].focus();break}}}keepFocusWithinComponent(e,t){const i=this._elRef.nativeElement,n=this.getLastFocusableElement(i),s=e===i&&t.shiftKey,r=!t.shiftKey&&bW(n)&&e===n,o=!bW(n)&&!t.shiftKey;(s||o)&&(t.preventDefault(),i.focus()),r&&(t.preventDefault(),n.focus())}shouldFocusPrimary(e){return bW(e)&&((e,t=!0)=>{if(e.tagName){const i=e.tagName.toLowerCase(),n=e.getAttribute("tabIndex"),s=null!==n&&!isNaN(n)&&n>-1;let r=!1;return r=CW.test(i)?!e.disabled:s,r&&(!t||(e=>{const t=e.getBoundingClientRect();return!(!t.width||!t.height)&&"hidden"!==window.getComputedStyle(e).visibility})(e))}return!1})(e)}getAllFocusableChildren(e){return e.querySelectorAll(kW)}getLastFocusableElement(e){const t=this.getAllFocusableChildren(e);return t.length>0?t[t.length-1]:null}generateTitleId(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()}get wrapperClass(){return!0}get styles(){const e={};return this.width&&(e.width=this.width+"px"),this.height&&(e.height=this.height+"px"),this.minWidth&&(e.minWidth=this.minWidth+"px"),e}bubble(e,t){if(t){const i=t[e].subscribe(t=>this[e].emit(t));this.subscriptions.push(i)}}}return e.\u0275fac=function(t){return new(t||e)(Oo(Wa),Oo(Ja),Oo(jb))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dialog"]],contentQueries:function(e,t,i){var n;1&e&&Dc(i,yW,!0),2&e&&Ic(n=Oc())&&(t.titlebarContent=n.first)},viewQuery:function(e,t){var i;1&e&&(_c(yW,!0),_c(vW,!0)),2&e&&(Ic(i=Oc())&&(t.titlebarView=i.first),Ic(i=Oc())&&(t.actionsView=i.first))},hostVars:4,hostBindings:function(e,t){1&e&&Ko("keydown",(function(e){return t.onComponentKeydown(e)})),2&e&&(Fo("tabIndex",t.tabIndex)("dir",t.dir),ua("k-dialog-wrapper",t.wrapperClass))},inputs:{autoFocusedElement:"autoFocusedElement",title:"title",actions:"actions",width:"width",minWidth:"minWidth",height:"height"},outputs:{action:"action",close:"close"},exportAs:["kendoDialog"],features:[Ga([jb,{provide:zb,useValue:"kendo.dialog"}])],ngContentSelectors:mW,decls:9,vars:9,consts:[[1,"k-overlay"],["role","dialog",1,"k-widget","k-window","k-dialog",3,"ngStyle"],[3,"id",4,"ngIf"],[4,"ngIf"],[1,"k-content","k-window-content","k-dialog-content"],[3,"actions",4,"ngIf"],[3,"id"],[3,"ngTemplateOutlet"],[3,"actions"]],template:function(e,t){1&e&&(Jo(gW),Bo(0,"div",0),Vo(1,"div",1),Ao(2,lW,2,2,"kendo-dialog-titlebar",2),Ao(3,cW,1,0,void 0,3),Vo(4,"div",4),Ao(5,uW,1,0,void 0,3),Ao(6,dW,1,1,void 0,3),Ho(),Ao(7,pW,1,0,void 0,3),Ao(8,fW,1,1,"kendo-dialog-actions",5),Ho()),2&e&&(Mo("@overlayAppear",void 0),ms(1),Mo("ngStyle",t.styles)("@dialogSlideInAppear",void 0),ms(1),Mo("ngIf",t.title),ms(1),Mo("ngIf",!t.title),ms(2),Mo("ngIf",!t.contentTemplate),ms(1),Mo("ngIf",t.contentTemplate),ms(1),Mo("ngIf",!t.actions),ms(1),Mo("ngIf",t.actions))},directives:[Gh,Lh,yW,qh,vW],encapsulation:2,data:{animation:[Td("overlayAppear",[Ad("in",Dd({opacity:1})),Rd("void => *",[Dd({opacity:.1}),_d(".3s cubic-bezier(.2, .6, .4, 1)")])]),Td("dialogSlideInAppear",[Ad("in",Dd({transform:"translate(0, 0)"})),Rd("void => *",[Dd({transform:"translate(0, -10%)"}),_d(".3s cubic-bezier(.2, 1, .2, 1)")])])]}}),e})(),IW=(()=>{class e{constructor(e){this.dialog=e}ngAfterViewInit(){this.dialogTitleBar&&this.dialogTitleBar.close.subscribe(()=>{this.dialog.close()}),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe(e=>this.dialog.dialog.instance.action.emit(e))}}return e.\u0275fac=function(e){No()},e.\u0275dir=bt({type:e,viewQuery:function(e,t){var i;1&e&&(_c(yW,!0),_c(vW,!0)),2&e&&(Ic(i=Oc())&&(t.dialogTitleBar=i.first),Ic(i=Oc())&&(t.dialogActions=i.first))}}),e})(),TW=(()=>{class e{set container(t){e.container=t}get container(){return e.container}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class _W{}class FW{constructor(e,t){this.getDialogRef=e,this.parentInjector=t}get(e,t){return e===class{}?this.getDialogRef():this.parentInjector.get(e,t)}}let DW=(()=>{class e{constructor(e,t){this.resolver=e,this.containerService=t}open(e){const t=this.resolver.resolveComponentFactory(EW),i=e.appendTo||this.containerService.container;if(!i)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(e.content,t,i,{close:()=>{},content:null,dialog:null,result:null},e)}initializeDialog(e,t,i,n,s){const r=this.contentFrom(e,i,n),o=i.createComponent(t,void 0,void 0,r.nodes);n.dialog=o,o.changeDetectorRef.markForCheck(),this.applyOptions(o.instance,s);const a=new E,l=e=>{a.next(e||new _W),r.componentRef&&r.componentRef.destroy(),o.destroy()},c=K(a,o.instance.close,o.instance.action).pipe(Fg(1));if(c.subscribe(l),n.close=l,n.result=c,e&&Sn()){const t=r.nodes[0]&&r.nodes[0].length>0,i=r.nodes[2]&&r.nodes[2].length>0,n=s.title&&t,o=s.actions&&i;e.prototype instanceof IW?(n||o)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service.md#toc-passing-title-content-and-actions-as-a-single-component'"):(t||i)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service.md#toc-passing-title-content-and-actions-as-a-single-component'")}return n}applyOptions(e,t){e.title=t.title,e.actions=t.actions,e.width=t.width,e.minWidth=t.minWidth,e.height=t.height,e.autoFocusedElement=t.autoFocusedElement,t.content instanceof yl&&(e.contentTemplate=t.content)}contentFrom(e,t,i){const n=t.injector.get(Ja);let s,r,o=[],a=null;if("string"==typeof e)o=[n.createText(e)];else if(e&&!(e instanceof yl)){const n=new FW(()=>i,t.injector),l=this.resolver.resolveComponentFactory(e);a=t.createComponent(l,void 0,n),s=Array.from(a.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),o=[a.location.nativeElement],r=Array.from(a.location.nativeElement.querySelectorAll("kendo-dialog-actions")),i.content=a}return{componentRef:a,nodes:[s,o,r]}}}return e.\u0275fac=function(t){return new(t||e)(We(Ka),We(TW))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})(),AW=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh],Kh]}),e})(),RW=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[TW,DW],imports:[[AW]]}),e})();function OW(e,t){1&e&&(Vo(0,"span"),Ca(1,"There are No Samples uploaded yet"),Ho())}function PW(e,t){if(1&e&&Ao(0,OW,2,0,"span",74),2&e){const e=Yo();Mo("ngIf",!e.loading&&0===e.sampleData.length)}}function NW(e,t){if(1&e){const e=Go();Vo(0,"input",75),Ko("input",(function(t){return Qt(e),Yo().onFilter(t.target.value)})),Ho()}}function MW(e,t){if(1&e){const e=Go();Vo(0,"input",76),Ko("selectAllChange",(function(t){return Qt(e),Yo().onSelectAllChange(t)})),Ho(),Bo(1,"label",77)}2&e&&Mo("state",Yo().selectAllState)}function LW(e,t){if(1&e&&(Vo(0,"span",78),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ArtemisID),ms(1),Sa(e.ArtemisID)}}const VW=function(){return{color:"#909090","font-style":"italic"}},HW=function(){return{}};function BW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ArtemisName),Mo("ngStyle",null==e.ArtemisName?ec(3,VW):ec(4,HW)),ms(1),Sa(e.ArtemisName?e.ArtemisName:"No records")}}function zW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ArtemisLoc),Mo("ngStyle",null==e.ArtemisLoc?ec(3,VW):ec(4,HW)),ms(1),Sa(e.ArtemisLoc?e.ArtemisLoc:"No records")}}function jW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ConfirmedBusiness),Mo("ngStyle",null==e.ConfirmedBusiness?ec(3,VW):ec(4,HW)),ms(1),Sa(e.ConfirmedBusiness?e.ConfirmedBusiness:"No records")}}function UW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsCustBusiness),Mo("ngStyle",null==e.tsCustBusiness?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsCustBusiness?e.tsCustBusiness:"No records","")}}function GW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptCOrganisation),Mo("ngStyle",null==e.AptCOrganisation?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptCOrganisation?e.AptCOrganisation:"No records","")}}function qW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFOwningBusiness),Mo("ngStyle",null==e.eMRFOwningBusiness?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFOwningBusiness?e.eMRFOwningBusiness:"No records","")}}function $W(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFOperatingBusiness),Mo("ngStyle",null==e.eMRFOperatingBusiness?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFOperatingBusiness?e.eMRFOperatingBusiness:"No records","")}}function KW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.SnowOperatingBusiness),Mo("ngStyle",null==e.SnowOperatingBusiness?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.SnowOperatingBusiness?e.SnowOperatingBusiness:"No records","")}}function WW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFAssetCIOwner),Mo("ngStyle",null==e.eMRFAssetCIOwner?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFAssetCIOwner?e.eMRFAssetCIOwner:"No records","")}}function ZW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.SnowAssetOwner),Mo("ngStyle",null==e.SnowAssetOwner?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.SnowAssetOwner?e.SnowAssetOwner:"No records","")}}function YW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.MigrationCompleted),Mo("ngStyle",null==e.MigrationCompleted?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.MigrationCompleted?e.MigrationCompleted:"No records","")}}function QW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ExitStrategy),Mo("ngStyle",null==e.ExitStrategy?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.ExitStrategy?e.ExitStrategy:"No records","")}}function JW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ScopeGroup),Mo("ngStyle",null==e.ScopeGroup?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.ScopeGroup?e.ScopeGroup:"No records","")}}function XW(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ScopeSet),Mo("ngStyle",null==e.ScopeSet?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.ScopeSet?e.ScopeSet:"No records","")}}function eZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.Bucket),Mo("ngStyle",null==e.Bucket?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.Bucket?e.Bucket:"No records","")}}function tZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.Wave),Mo("ngStyle",null==e.Wave?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.Wave?e.Wave:"No records","")}}function iZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.HighestBucketPerDeployment),Mo("ngStyle",null==e.HighestBucketPerDeployment?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.HighestBucketPerDeployment?e.HighestBucketPerDeployment:"No records","")}}function nZ(e,t){if(1&e){const e=Go();Vo(0,"div"),Ca(1),uc(2,"kendoDate"),Ho(),Vo(3,"kendo-datepicker",80,81),Ko("valueChange",(function(t){return Qt(e),Yo().handleChange(t)}))("ngModelChange",(function(i){return Qt(e),t.dataItem.PlannedDate=i})),Ho()}if(2&e){const e=t.dataItem;ms(1),xa(" ",hc(2,2,e.PlannedDate,"MM/dd/yyyy")," "),ms(2),Mo("ngModel",e.PlannedDate)}}function sZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptManufacturer),Mo("ngStyle",null==e.AptManufacturer?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptManufacturer?e.AptManufacturer:"No records","")}}function rZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptModel),Mo("ngStyle",null==e.AptModel?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptModel?e.AptModel:"No records","")}}function oZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptModelInfo),Mo("ngStyle",null==e.AptModelInfo?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptModelInfo?e.AptModelInfo:"No records","")}}function aZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptAssetClass),Mo("ngStyle",null==e.AptAssetClass?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptAssetClass?e.AptAssetClass:"No records","")}}function lZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptCDeviceUse),Mo("ngStyle",null==e.AptCDeviceUse?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptCDeviceUse?e.AptCDeviceUse:"No records","")}}function cZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsUsage),Mo("ngStyle",null==e.tsUsage?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsUsage?e.tsUsage:"No records","")}}function uZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsComputerType),Mo("ngStyle",null==e.tsComputerType?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsComputerType?e.tsComputerType:"No records","")}}function hZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.SnowClass),Mo("ngStyle",null==e.SnowClass?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.SnowClass?e.SnowClass:"No records","")}}function dZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsOperatingMode),Mo("ngStyle",null==e.tsOperatingMode?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsOperatingMode?e.tsOperatingMode:"No records","")}}function pZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsVirtualization),Mo("ngStyle",null==e.tsVirtualization?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsVirtualization?e.tsVirtualization:"No records","")}}function fZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsPlatform),Mo("ngStyle",null==e.tsPlatform?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsPlatform?e.tsPlatform:"No records","")}}function gZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsConsolidatedOS),Mo("ngStyle",null==e.tsConsolidatedOS?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsConsolidatedOS?e.tsConsolidatedOS:"No records","")}}function mZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptRackName),Mo("ngStyle",null==e.AptRackName?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptRackName?e.AptRackName:"No records","")}}function vZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.Target),Mo("ngStyle",null==e.Target?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.Target?e.Target:"No records","")}}function yZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.Move2Azure),Mo("ngStyle",null==e.MoveToAzure?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.Move2Azure?e.Move2Azure:"No records","")}}function bZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptSerialNumber),Mo("ngStyle",null==e.AptSerialNumber?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptSerialNumber?e.AptSerialNumber:"No records","")}}function wZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.SnowSerialNumber),Mo("ngStyle",null==e.SnowSerialNumber?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.SnowSerialNumber?e.SnowSerialNumber:"No records","")}}function CZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsSystemStatus),Mo("ngStyle",null==e.tsSystemStatus?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsSystemStatus?e.tsSystemStatus:"No records","")}}function SZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.AptCDeviceCondition),Mo("ngStyle",null==e.AptCDeviceCondition?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.AptCDeviceCondition?e.AptCDeviceCondition:"No records","")}}function xZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.SnowStatus),Mo("ngStyle",null==e.SnowStatus?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.SnowStatus?e.SnowStatus:"No records","")}}function kZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsService),Mo("ngStyle",null==e.tsService?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsService?e.tsService:"No records","")}}function EZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsSpecialService),Mo("ngStyle",null==e.tsSpecialService?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsSpecialService?e.tsSpecialService:"No records","")}}function IZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsNetworkType),Mo("ngStyle",null==e.tsNetworkType?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsNetworkType?e.tsNetworkType:"No records","")}}function TZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsDRS),Mo("ngStyle",null==e.tsDRS?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsDRS?e.tsDRS:"No records","")}}function _Z(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsSHELL_DeploymentID),Mo("ngStyle",null==e.tsSHELL_DeploymentID?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsSHELL_DeploymentID?e.tsSHELL_DeploymentID:"No records","")}}function FZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFDeploymentID),Mo("ngStyle",null==e.eMRFDeploymentID?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFDeploymentID?e.eMRFDeploymentID:"No records","")}}function DZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsSHELL_DeploymentName),Mo("ngStyle",null==e.tsSHELL_DeploymentName?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsSHELL_DeploymentName?e.tsSHELL_DeploymentName:"No records","")}}function AZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFDeploymentName),Mo("ngStyle",null==e.eMRFDeploymentName?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFDeploymentName?e.eMRFDeploymentName:"No records","")}}function RZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFDeploymentCIOwner),Mo("ngStyle",null==e.eMRFDeploymentCIOwner?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFDeploymentCIOwner?e.eMRFDeploymentCIOwner:"No records","")}}function OZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFApplicationID),Mo("ngStyle",null==e.eMRFApplicationID?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFApplicationID?e.eMRFApplicationID:"No records","")}}function PZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFApplicationName),Mo("ngStyle",null==e.eMRFApplicationName?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFApplicationName?e.eMRFApplicationName:"No records","")}}function NZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFPortfolioName),Mo("ngStyle",null==e.eMRFPortfolioName?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFPortfolioName?e.eMRFPortfolioName:"No records","")}}function MZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFPortfolioManager),Mo("ngStyle",null==e.eMRFPortfolioManager?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFPortfolioManager?e.eMRFPortfolioManager:"No records","")}}function LZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsAppl_LifeCycle),Mo("ngStyle",null==e.tsAppl_LifeCycle?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsAppl_LifeCycle?e.tsAppl_LifeCycle:"No records","")}}function VZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsAppl_Business_Criticality),Mo("ngStyle",null==e.tsAppl_Business_Criticality?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsAppl_Business_Criticality?e.tsAppl_Business_Criticality:"No records","")}}function HZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.tsAppl_DR_Required),Mo("ngStyle",null==e.tsAppl_DR_Required?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.tsAppl_DR_Required?e.tsAppl_DR_Required:"No records","")}}function BZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.eMRFBusinessApplicationOwner),Mo("ngStyle",null==e.eMRFBusinessApplicationOwner?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.eMRFBusinessApplicationOwner?e.eMRFBusinessApplicationOwner:"No records","")}}function zZ(e,t){if(1&e&&(Vo(0,"span",79),Ca(1),Ho()),2&e){const e=t.$implicit;ea("title",e.ContactFocalPoint),Mo("ngStyle",null==e.ContactFocalPoint?ec(3,VW):ec(4,HW)),ms(1),xa(" ",e.ContactFocalPoint?e.ContactFocalPoint:"No records","")}}function jZ(e,t){1&e&&Bo(0,"i",91)}const UZ=function(e,t){return{editEnabled:e,editDisabled:t}},GZ=function(){return{color:"#0575D1","font-style":"italic"}};function qZ(e,t){if(1&e&&(Vo(0,"span",82),Vo(1,"div",83),Ao(2,jZ,1,0,"i",84),Ho(),Vo(3,"p",85),Ca(4),Ho(),Vo(5,"div"),Ca(6,"\xa0"),Ho(),Vo(7,"div",86),Ca(8),Ho(),Vo(9,"div",87),Ca(10),uc(11,"date"),Ho(),Bo(12,"br"),Ho(),Vo(13,"span",88),Vo(14,"div",89),Ca(15),Ho(),Vo(16,"div",90),Ca(17),uc(18,"date"),Ho(),Bo(19,"br"),Ho()),2&e){const e=t.dataItem,i=Yo();ms(1),Mo("ngClass",ic(14,UZ,!i.isDone,i.isDone)),ms(1),Mo("ngIf",i.canEditTeamComments),ms(1),Mo("ngStyle",null==e.ContactComment?ec(17,GZ):ec(18,HW)),ms(1),xa(" ",e.ContactComment?e.ContactComment:"Add Comment here"," "),ms(4),xa(" Last edited by ",e.UpdatedBy," "),ms(2),xa(" ",hc(11,8,e.LastUpdatedDate,"dd/MM/yyyy h:mm a")," "),ms(5),xa("Added by ",e.UpdatedBy,""),ms(2),Sa(hc(18,11,e.AddedDate,"dd/MM/yyyy h:mm a"))}}function $Z(e,t){if(1&e&&(Vo(0,"div",86),Ca(1),Ho()),2&e){const e=Yo().dataItem;ms(1),xa(" Last edited by ",e.UpdatedBy," ")}}const KZ=function(e,t){return{saveDisabled:e,save:t}};function WZ(e,t){if(1&e){const e=Go();Vo(0,"span",82),Vo(1,"textarea",92,93),Ca(3),Ho(),Bo(4,"br"),Vo(5,"div"),Ca(6,"\xa0"),Ho(),Vo(7,"div",94),Ca(8),Ho(),Vo(9,"button",95),Ko("click",(function(){Qt(e);const i=t.column,n=t.formGroup,s=Yo(),r=Ro(7);return s.saveClicked(n.get(i.field).value,"siteComments",r)})),Ca(10,"Save"),Ho(),Vo(11,"button",96),Ko("click",(function(){Qt(e);const t=Yo(),i=Ro(7);return t.cancelChanges(i)})),Ca(12,"Cancel"),Ho(),Bo(13,"br"),Vo(14,"div"),Ca(15,"\xa0"),Ho(),Ao(16,$Z,2,1,"div",97),Vo(17,"div",87),Ca(18),uc(19,"date"),Ho(),Bo(20,"br"),Ho(),Vo(21,"span",88),Vo(22,"div",89),Ca(23),Ho(),Vo(24,"div",90),Ca(25),uc(26,"date"),Ho(),Bo(27,"br"),Ho()}if(2&e){const e=t.dataItem,i=t.column,n=t.formGroup,s=Yo();ms(1),Mo("formControl",n.get(i.field))("maxlength",s.commentsMaxLength),ms(2),Sa(e.ContactComment?e.ContactComment:""),ms(5),ka(" (",null==n.get(i.field).value?null:n.get(i.field).value.length,"/",s.commentsMaxLength,") "),ms(1),Mo("ngClass",ic(17,KZ,0==(null==n.get(i.field).value?null:n.get(i.field).value.trim().length)||null==e.ContactComment&&!((null==n.get(i.field).value?null:n.get(i.field).value.trim().length)>0),(null==n.get(i.field).value?null:n.get(i.field).value.trim().length)>0))("disabled",null==n.get(i.field).value||0==(null==n.get(i.field).value?null:n.get(i.field).value.trim().length)||e.ContactComment==n.get(i.field).value),ms(7),Mo("ngIf",null!=e.ContactComment),ms(2),xa(" ",hc(19,11,e.LastUpdatedDate,"dd/MM/yyyy h:mm a")," "),ms(5),xa("Added by ",e.UpdatedBy,""),ms(2),Sa(hc(26,14,e.AddedDate,"dd/MM/yyyy h:mm a"))}}function ZZ(e,t){if(1&e&&(Vo(0,"div",86),Ca(1),Ho()),2&e){const e=Yo(2);ms(1),xa(" Last edited by ",e.commentsDTO.UpdatedBy," ")}}function YZ(e,t){if(1&e){const e=Go();Vo(0,"kendo-dialog",98),Ko("close",(function(){return Qt(e),Yo().closeRefreshPopup("no")})),Vo(1,"p",99),Ca(2,"Please Add Comments for Changing the Planned Date"),Ho(),Vo(3,"span",82),Vo(4,"textarea",100,93),Ca(6),Ho(),Bo(7,"br"),Vo(8,"div"),Ca(9,"\xa0"),Ho(),Vo(10,"div",101),Vo(11,"button",102),Ca(12,"Save"),Ho(),Vo(13,"button",96),Ko("click",(function(){return Qt(e),Yo().closeRefreshPopup("no")})),Ca(14,"Cancel"),Ho(),Bo(15,"br"),Ho(),Vo(16,"div"),Ca(17,"\xa0"),Ho(),Ao(18,ZZ,2,1,"div",97),Vo(19,"div",87),Ca(20),uc(21,"date"),Ho(),Bo(22,"br"),Ho(),Bo(23,"kendo-dialog-actions"),Ho()}if(2&e){const e=Yo();Mo("minWidth",250)("width",835)("height",455),ms(6),Sa(e.commentsDTO.ContactComment?e.commentsDTO.ContactComment:""),ms(12),Mo("ngIf",e.commentsDTO.ContactComment),ms(2),xa(" ",hc(21,6,e.commentsDTO.LastUpdatedDate,"dd/MM/yyyy h:mm a")," ")}}function QZ(e,t){1&e&&Bo(0,"div",103)}const JZ=function(){return{allowUnsort:!0,mode:"single"}},XZ=function(){return{enabled:!0,checkboxOnly:!0}},eY=function(){return{filter:!0}};let tY=(()=>{class e{constructor(e,t,i,n){this.sampleService=e,this.utiltiyService=t,this.toastService=i,this.formBuilder=n,this.loading=!0,this.isSelected=!1,this.isDone=!1,this.dialog=!1,this.commentsMaxLength=450,this.mySelection=[],this.samples=[],this.sampleData=[],this.selectAllState="unchecked",this.state={skip:0,take:30},this.sort=[{field:"id",dir:"desc"}],this.gridDimension={height:"calc(100vh - 140px)",width:"calc(100vw - 140px)"}}ngOnInit(){this.loadItems()}loadItems(){this.loading=!0,this.sampleService.getSamples(),this.sampleSub=this.sampleService.getSamplesUpdated().subscribe(e=>{if(e.length>0){this.samples=e;let t=e.filter(e=>e.ArtemisID);this.samples=t.filter((e,t,i)=>i.findIndex(t=>t.ArtemisID===e.ArtemisID)===t),this.gridData=sx(this.samples,this.state),this.loading=!1,this.gridView=this.samples,null!=this.inpValue&&this.onFilter(this.inpValue)}else this.loading=!1,this.sampleData.length=0})}get canEditTeamComments(){return!0}dataStateChange(e){this.state=e,this.gridData=sx(this.samples,e)}sortChange(e){this.sort=e}handleChange(e){}onSelectAllChange(e){this.isSelected=!0,"checked"===e?(this.mySelection=this.gridView.map(e=>e.ArtemisID),this.selectAllState="checked"):(this.mySelection=[],this.selectAllState="unchecked")}selectedCallback(e){return e.dataItem.ArtemisID}onSelectedKeysChange(e){this.isSelected=!0,this.artemisId=e,this.samples.filter(e=>e.ArtemisID==this.mySelection[0]);const t=this.mySelection.length;0===t?(this.selectAllState="unchecked",this.isSelected=!1):this.selectAllState=t>0&&t<this.gridView.length?"indeterminate":"checked"}isEditable(e,t){return["siteComments","teamComments","actionItems","timeLimit"].indexOf(e)>-1&&!this.isDone}userCanEdit(e){switch(e){case"siteComments":return this.canEditTeamComments;default:return!1}}createFormGroup(e){var t,i,n,s,r,o,a,l,c,u,h,d,p;let f=new Date(e.PlannedDate);return this.formBuilder.group({ArtemisID:e.ArtemisID,BusinessAppName:e.BusinessAppName,value:e.value,PlannedDate:f,Move2Azure:e.Move2Azure,ContactFocalPoint:e.ContactFocalPoint,ConfirmedBusiness:e.ConfirmedBusiness,siteComments:e.ContactComment,siteCommentsLastUpdatedOn:null===(i=null===(t=e.ContactComment)||void 0===t?void 0:t.lastUpdated)||void 0===i?void 0:i.updatedOn,teamComments:null===(n=e.teamComments)||void 0===n?void 0:n.data,teamCommentsLastUpdatedOn:null===(r=null===(s=e.teamComments)||void 0===s?void 0:s.lastUpdated)||void 0===r?void 0:r.updatedOn,actionItems:null===(o=e.actionItems)||void 0===o?void 0:o.data,actionItemsLastUpdatedOn:null===(l=null===(a=e.actionItems)||void 0===a?void 0:a.lastUpdated)||void 0===l?void 0:l.updatedOn,timeLimit:null===(c=e.timeLimit)||void 0===c?void 0:c.data,timeLimitLastUpdatedOn:null===(h=null===(u=e.timeLimit)||void 0===u?void 0:u.lastUpdated)||void 0===h?void 0:h.updatedOn,status:this.isDone,statusLastUpdatedOn:null===(p=null===(d=e.status)||void 0===d?void 0:d.lastUpdated)||void 0===p?void 0:p.updatedOn})}cancelChanges(e){e.cancelCell()}cellClickHandler({sender:e,rowIndex:t,column:i,columnIndex:n,dataItem:s,isEdited:r}){this.isEditable(i.field,s)&&this.userCanEdit(i.field)&&(this.formGroup=this.createFormGroup(s),e.editCell(t,n,this.formGroup)),(!r&&"PlannedDate"==i.field||"value"==i.field||"ConfirmedBusiness"==i.field||"Move2Azure"==i.field||"ContactFocalPoint"==i.field)&&(this.formGroup=this.createFormGroup(s),e.editCell(t,n,this.createFormGroup(s)))}changePlanDate(e){this.sampleService.editSample(this.commentsDTO).subscribe(e=>{this.loading=!1,this.samples.filter(e=>{e.ArtemisID===this.commentsDTO.ArtemisID&&(e.PlannedDate=this.commentsDTO.PlannedDate),this.loadItems(),this.toastService.success("Value Changed successfully.")})})}closeRefreshPopup(e){this.dialog=!1}cellCloseHandler(e){var t,i,n,s,r,o,a,l,c,u,h,d;const{formGroup:p}=e;p.valid&&p.dirty&&(this.samples.filter(e=>{var t,i,n,s,r,o,a,l,c,u,h,d,f,g,m,v,y,b,w,C,S,x,k,E,I,T;this.commentsDTO=new CK,null!=(null===(i=null===(t=null==p?void 0:p.controls)||void 0===t?void 0:t.ConfirmedBusiness)||void 0===i?void 0:i.value)&&(this.commentsDTO.ConfirmedBusiness=null===(s=null===(n=null==p?void 0:p.controls)||void 0===n?void 0:n.ConfirmedBusiness)||void 0===s?void 0:s.value),null!=(null===(o=null===(r=null==p?void 0:p.controls)||void 0===r?void 0:r.Move2Azure)||void 0===o?void 0:o.value)&&(this.commentsDTO.Move2Azure=null===(l=null===(a=null==p?void 0:p.controls)||void 0===a?void 0:a.Move2Azure)||void 0===l?void 0:l.value),null!=(null===(u=null===(c=null==p?void 0:p.controls)||void 0===c?void 0:c.PlannedDate)||void 0===u?void 0:u.value)&&(this.commentsDTO.PlannedDate=null===(d=null===(h=null==p?void 0:p.controls)||void 0===h?void 0:h.PlannedDate)||void 0===d?void 0:d.value),this.commentsDTO.ArtemisID=null===(g=null===(f=null==p?void 0:p.controls)||void 0===f?void 0:f.ArtemisID)||void 0===g?void 0:g.value,this.commentsDTO.ContactFocalPoint=null===(v=null===(m=null==p?void 0:p.controls)||void 0===m?void 0:m.ContactFocalPoint)||void 0===v?void 0:v.value,e.ArtemisID===(null===(b=null===(y=null==p?void 0:p.controls)||void 0===y?void 0:y.ArtemisID)||void 0===b?void 0:b.value)&&(e.PlannedDate=null===(C=null===(w=null==p?void 0:p.controls)||void 0===w?void 0:w.PlannedDate)||void 0===C?void 0:C.value,e.ConfirmedBusiness=null===(x=null===(S=null==p?void 0:p.controls)||void 0===S?void 0:S.ConfirmedBusiness)||void 0===x?void 0:x.value,e.Move2Azure=null===(E=null===(k=null==p?void 0:p.controls)||void 0===k?void 0:k.Move2Azure)||void 0===E?void 0:E.value,e.ContactFocalPoint=null===(T=null===(I=null==p?void 0:p.controls)||void 0===I?void 0:I.ContactFocalPoint)||void 0===T?void 0:T.value)}),this.commentsDTO.PlannedDate.toString()!==(null===(n=null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.controls)||void 0===i?void 0:i.PlannedDate)||void 0===n?void 0:n.value.toString())&&(this.dialog=!0),this.commentsDTO.ConfirmedBusiness==(null===(o=null===(r=null===(s=this.formGroup)||void 0===s?void 0:s.controls)||void 0===r?void 0:r.ConfirmedBusiness)||void 0===o?void 0:o.value)&&this.commentsDTO.Move2Azure==(null===(c=null===(l=null===(a=this.formGroup)||void 0===a?void 0:a.controls)||void 0===l?void 0:l.Move2Azure)||void 0===c?void 0:c.value)&&this.commentsDTO.ContactFocalPoint==(null===(d=null===(h=null===(u=this.formGroup)||void 0===u?void 0:u.controls)||void 0===h?void 0:h.ContactFocalPoint)||void 0===d?void 0:d.value)||this.sampleService.editSample(this.commentsDTO).subscribe(e=>{this.loading=!1,this.loadItems(),this.toastService.success("Value Changed successfully.")},e=>{this.loading=!1}))}saveClicked(e,t,i){var n,s,r,o,a,l;let c=[];switch(this.loading=!0,this.commentsDTO=new CK,this.commentsDTO.ArtemisID=null===(r=null===(s=null===(n=this.formGroup)||void 0===n?void 0:n.controls)||void 0===s?void 0:s.ArtemisID)||void 0===r?void 0:r.value,this.samples.filter(e=>{e.ArtemisID=this.artemisId,c.push(e)}),t){case"siteComments":this.commentsDTO.ContactComment=null===(l=null===(a=null===(o=this.formGroup)||void 0===o?void 0:o.controls)||void 0===a?void 0:a.siteComments)||void 0===l?void 0:l.value,this.commentsDTO.UpdatedBy="Rajesh D",this.commentsDTO.LastUpdatedDate=new Date,this.sampleService.saveSiteComments(this.commentsDTO).subscribe(e=>{this.loading=!1,i.cancelCell(),this.loadItems(),this.toastService.success("Comments saved successfully.")},e=>{this.loading=!1})}}onFilter(e){this.inpValue=e,this.gridView=sx(this.samples,{filter:{logic:"or",filters:[{field:"ArtemisID",operator:"contains",value:e},{field:"ArtemisName",operator:"contains",value:e},{field:"ArtemisLoc",operator:"contains",value:e},{field:"ConfirmedBusiness",operator:"contains",value:e},{field:"tsCustBusiness",operator:"contains",value:e},{field:"AptCOrganisation",operator:"contains",value:e},{field:"eMRFOwningBusiness",operator:"contains",value:e},{field:"eMRFOperatingBusiness",operator:"contains",value:e},{field:"SnowOperatingBusiness",operator:"contains",value:e},{field:"eMRFAssetCIOwner",operator:"contains",value:e},{field:"SnowAssetOwner",operator:"contains",value:e},{field:"MigrationCompleted",operator:"contains",value:e},{field:"ExitStrategy",operator:"contains",value:e},{field:"ScopeGroup",operator:"contains",value:e},{field:"ScopeSet",operator:"contains",value:e},{field:"Bucket",operator:"contains",value:e},{field:"Wave",operator:"contains",value:e},{field:"HighestBucketPerDeployment",operator:"contains",value:e},{field:"AptManufacturer",operator:"contains",value:e},{field:"AptModel",operator:"contains",value:e},{field:"AptModelInfo",operator:"contains",value:e},{field:"AptAssetClass",operator:"contains",value:e},{field:"AptCDeviceUse",operator:"contains",value:e},{field:"tsUsage",operator:"contains",value:e},{field:"tsComputerType",operator:"contains",value:e},{field:"SnowClass",operator:"contains",value:e},{field:"tsOperatingMode",operator:"contains",value:e},{field:"tsVirtualization",operator:"contains",value:e},{field:"tsPlatform",operator:"contains",value:e},{field:"tsConsolidatedOS",operator:"contains",value:e},{field:"AptRackName",operator:"contains",value:e},{field:"AptSerialNumber",operator:"contains",value:e},{field:"SnowSerialNumber",operator:"contains",value:e},{field:"tsSystemStatus",operator:"contains",value:e},{field:"AptCDeviceCondition",operator:"contains",value:e},{field:"SnowStatus",operator:"contains",value:e},{field:"tsService",operator:"contains",value:e},{field:"tsSHELL_DeploymentID",operator:"contains",value:e},{field:"eMRFDeploymentID",operator:"contains",value:e},{field:"tsSHELL_DeploymentName",operator:"contains",value:e},{field:"eMRFDeploymentName",operator:"contains",value:e},{field:"eMRFDeploymentCIOwner",operator:"contains",value:e},{field:"eMRFApplicationID",operator:"contains",value:e},{field:"eMRFApplicationName",operator:"contains",value:e},{field:"eMRFPortfolioName",operator:"contains",value:e},{field:"eMRFPortfolioManager",operator:"contains",value:e},{field:"tsAppl_LifeCycle",operator:"contains",value:e},{field:"tsAppl_Business_Criticality",operator:"contains",value:e},{field:"tsAppl_DR_Required",operator:"contains",value:e},{field:"eMRFBusinessApplicationOwner",operator:"contains",value:e}]}}).data,this.dataBinding.skip=0}getStatusIcon(e){return this.utiltiyService.getStatusIcon(e.installStatus)}getIconBackground(e){return this.utiltiyService.getStatusIcon(e.installStatus,!0)}ngOnDestroy(){this.sampleSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Oo(eW),Oo(tW),Oo(By),Oo(NC))},e.\u0275cmp=pt({type:e,selectors:[["app-home"]],viewQuery:function(e,t){var i;1&e&&_c(iG,!0),2&e&&Ic(i=Oc())&&(t.dataBinding=i.first)},decls:131,vars:78,consts:[[1,"ar-section"],[1,"ar-section__header"],[1,"ar-section__title"],[1,"ar-section__content","p-b-4"],["id","kgrid_home_project",1,"ar-kgrid"],["filterable","'menu'","id","home_grid",3,"data","pageSize","skip","filter","pageable","resizable","sortable","sort","navigable","kendoGridBinding","selectable","selectedKeys","kendoGridSelectBy","columnMenu","dataStateChange","sortChange","cellClick","cellClose","selectedKeysChange"],["grid",""],["kendoGridNoRecordsTemplate",""],["kendoGridToolbarTemplate",""],["showSelectAll","true","width","80px"],["kendoGridHeaderTemplate",""],["field","ArtemisID","title","Artemis ID","width","150px ",3,"filterable"],["kendoGridCellTemplate",""],["field","ArtemisName","title","Merged Asset Tag","width","200px ",3,"filterable"],["field","ArtemisLoc","title","Merged Location","width","180px ",3,"filterable"],["field","ConfirmedBusiness","title","Confirmed Business","width","200px ",3,"filterable"],["field","tsCustBusiness","title","ts Cust Business","width","200px",3,"filterable"],["field","AptCOrganisation","title","AptC Organisation","width","250px",3,"filterable"],["field","eMRFOwningBusiness","title","eMRF Owning Business","width","250px",3,"filterable"],["field","eMRFOperatingBusiness","title","eMRF Operating Business","width","250px",3,"filterable"],["field","SnowOperatingBusiness","title","Snow Operating Business","width","250px",3,"filterable"],["field","eMRFAssetCIOwner","title","eMRF AssetCI Owner","width","200px",3,"filterable"],["field","SnowAssetOwner","title","Snow Asset Owner","width","200px",3,"filterable"],["field","MigrationCompleted","title","Migration Completed","width","200px",3,"filterable"],["field","ExitStrategy","title","Exit Strategy","width","150px",3,"filterable"],["field","ScopeGroup","title","Scope Group","width","150px",3,"filterable"],["field","ScopeSet","title","Scope Set","width","150px",3,"filterable"],["field","Bucket","title","Bucket","width","150px",3,"filterable"],["field","Wave","title","Wave","width","150px",3,"filterable"],["field","HighestBucketPerDeployment","title","Highest BucketPer Deployment","width","280px",3,"filterable"],["field","PlannedDate","editor","date","title","Planned Date","width","150px","filter","date"],["field","AptManufacturer","title","Apt Manufacturer","width","200px",3,"filterable"],["field","AptModel","title","Apt Model","width","150px",3,"filterable"],["field","AptModelInfo","title","Apt Model Info","width","150px",3,"filterable"],["field","AptAssetClass","title","Apt Asset Class","width","180px",3,"filterable"],["field","AptCDeviceUse","title","AptC Device Use","width","180px",3,"filterable"],["field","tsUsage","title","ts Usage","width","180px",3,"filterable"],["field","tsComputerType","title","ts Computer Type","width","200px",3,"filterable"],["field","SnowClass","title","Snow Class","width","150px",3,"filterable"],["field","tsOperatingMode","title","ts Operating Mode","width","200px",3,"filterable"],["field","tsVirtualization","title","ts Virtualization","width","180px",3,"filterable"],["field","tsPlatform","title","ts Platform","width","150px",3,"filterable"],["field","tsConsolidatedOS","title","ts ConsolidatedOS","width","180px",3,"filterable"],["field","AptRackName","title","Apt RackName","width","150px",3,"filterable"],["field","Target","title","Target","width","150px",3,"filterable"],["field","Move2Azure","title","Move To Azure","width","150px",3,"filterable"],["field","AptSerialNumber","title","Apt Serial Number","width","180px",3,"filterable"],["field","SnowSerialNumber","title","Snow Serial Number","width","180px",3,"filterable"],["field","tsSystemStatus","title","tsSystemStatus","width","180px",3,"filterable"],["field","AptCDeviceCondition","title","AptC Device Condition","width","200px",3,"filterable"],["field","SnowStatus","title","SnowStatus","width","150px",3,"filterable"],["field","tsService","title","ts Service","width","150px",3,"filterable"],["field","tsSpecialService","title","ts Special Service","width","180px",3,"filterable"],["field","tsNetworkType","title","ts NetworkType","width","180px",3,"filterable"],["field","tsDRS","title","ts DRS","width","150px",3,"filterable"],["field","tsSHELL_DeploymentID","title","ts SHELL_DeploymentID","width","200px",3,"filterable"],["field","eMRFDeploymentID","title","eMRF DeploymentID","width","200px",3,"filterable"],["field","tsSHELL_DeploymentName","title","ts SHELL_DeploymentName","width","200px",3,"filterable"],["field","eMRFDeploymentName","title","eMRF DeploymentName","width","200px",3,"filterable"],["field","eMRFDeploymentCIOwner","title","eMRF DeploymentCIOwner","width","200px",3,"filterable"],["field","eMRFApplicationID","title","eMRF ApplicationID","width","180px",3,"filterable"],["field","eMRFApplicationName","title","eMRF ApplicationName","width","180px",3,"filterable"],["field","eMRFPortfolioName","title","eMRF PortfolioName","width","180px",3,"filterable"],["field","eMRF PortfolioManager","title","eMRF PortfolioManager","width","200px",3,"filterable"],["field","tsAppl_LifeCycle","title","ts Appl_LifeCycle","width","200px",3,"filterable"],["field","tsAppl_Business_Criticality","title","tsAppl_Business_Criticality","width","220px",3,"filterable"],["field","tsAppl_DR_Required","title","ts Appl_DR_Required","width","180px",3,"filterable"],["field","eMRFBusinessApplicationOwner","title","eMRF Business Application Owner","width","220px",3,"filterable"],["field","ContactFocalPoint","title","Contact Focal Point","width","180px",3,"filterable"],["field","siteComments","title","Contact Comment",3,"width","sortable","columnMenu"],["kendoGridCellTemplate","","class","ar-kgrid__cell-lnk"],["kendoGridEditTemplate","","class","ar-kgrid__cell-lnk"],["title","Planned Date Change","class","p-a-2 p-t-0",3,"minWidth","width","height","close",4,"ngIf"],["aria-label","Loading page","class","k-i-loading",4,"ngIf"],[4,"ngIf"],["placeholder","Search in all columns...","kendoTextBox","",1,"ar-kinput",3,"input"],["id","selectAllCheckboxId","kendoGridSelectAllCheckbox","",1,"k-checkbox",3,"state","selectAllChange"],["for","selectAllCheckboxId",1,"k-checkbox-label"],[3,"title"],[3,"ngStyle","title"],["calendarType","infinite","name","dataItem.PlannedDate",3,"ngModel","valueChange","ngModelChange"],["planneddate",""],[1,"comments"],[3,"ngClass"],["class","fas fa-edit editIcon",4,"ngIf"],[1,"line-break",3,"ngStyle"],[1,"by",2,"color","#b8b8b8"],[1,"on",2,"color","#b8b8b8"],[1,"audit"],[1,"by"],[1,"on"],[1,"fas","fa-edit","editIcon"],["name","siteComments","required","",1,"k-textbox",3,"formControl","maxlength"],["input",""],[1,"charCount"],[3,"ngClass","disabled","click"],[1,"cancel",3,"click"],["class","by","style","color: #b8b8b8",4,"ngIf"],["title","Planned Date Change",1,"p-a-2","p-t-0",3,"minWidth","width","height","close"],[1,""],["name","siteComments","required","",1,"k-textbox"],[2,"float","right"],[1,"saveDisabled",3,"disabled"],["aria-label","Loading page",1,"k-i-loading"]],template:function(e,t){1&e&&(Vo(0,"section",0),Vo(1,"header",1),Vo(2,"h1",2),Ca(3,"Samples"),Ho(),Ho(),Vo(4,"section",3),Vo(5,"div",4),Vo(6,"kendo-grid",5,6),Ko("dataStateChange",(function(e){return t.dataStateChange(e)}))("sortChange",(function(e){return t.sortChange(e)}))("cellClick",(function(e){return t.cellClickHandler(e)}))("cellClose",(function(e){return t.cellCloseHandler(e)}))("selectedKeysChange",(function(e){return t.onSelectedKeysChange(e)})),Ao(8,PW,1,1,"ng-template",7),Ao(9,NW,1,0,"ng-template",8),Vo(10,"kendo-grid-checkbox-column",9),Ao(11,MW,2,1,"ng-template",10),Ho(),Vo(12,"kendo-grid-column",11),Ao(13,LW,2,2,"ng-template",12),Ho(),Vo(14,"kendo-grid-column",13),Ao(15,BW,2,5,"ng-template",12),Ho(),Vo(16,"kendo-grid-column",14),Ao(17,zW,2,5,"ng-template",12),Ho(),Vo(18,"kendo-grid-column",15),Ao(19,jW,2,5,"ng-template",12),Ho(),Vo(20,"kendo-grid-column",16),Ao(21,UW,2,5,"ng-template",12),Ho(),Vo(22,"kendo-grid-column",17),Ao(23,GW,2,5,"ng-template",12),Ho(),Vo(24,"kendo-grid-column",18),Ao(25,qW,2,5,"ng-template",12),Ho(),Vo(26,"kendo-grid-column",19),Ao(27,$W,2,5,"ng-template",12),Ho(),Vo(28,"kendo-grid-column",20),Ao(29,KW,2,5,"ng-template",12),Ho(),Vo(30,"kendo-grid-column",21),Ao(31,WW,2,5,"ng-template",12),Ho(),Vo(32,"kendo-grid-column",22),Ao(33,ZW,2,5,"ng-template",12),Ho(),Vo(34,"kendo-grid-column",23),Ao(35,YW,2,5,"ng-template",12),Ho(),Vo(36,"kendo-grid-column",24),Ao(37,QW,2,5,"ng-template",12),Ho(),Vo(38,"kendo-grid-column",25),Ao(39,JW,2,5,"ng-template",12),Ho(),Vo(40,"kendo-grid-column",26),Ao(41,XW,2,5,"ng-template",12),Ho(),Vo(42,"kendo-grid-column",27),Ao(43,eZ,2,5,"ng-template",12),Ho(),Vo(44,"kendo-grid-column",28),Ao(45,tZ,2,5,"ng-template",12),Ho(),Vo(46,"kendo-grid-column",29),Ao(47,iZ,2,5,"ng-template",12),Ho(),Vo(48,"kendo-grid-column",30),Ao(49,nZ,5,5,"ng-template"),Ho(),Vo(50,"kendo-grid-column",31),Ao(51,sZ,2,5,"ng-template",12),Ho(),Vo(52,"kendo-grid-column",32),Ao(53,rZ,2,5,"ng-template",12),Ho(),Vo(54,"kendo-grid-column",33),Ao(55,oZ,2,5,"ng-template",12),Ho(),Vo(56,"kendo-grid-column",34),Ao(57,aZ,2,5,"ng-template",12),Ho(),Vo(58,"kendo-grid-column",35),Ao(59,lZ,2,5,"ng-template",12),Ho(),Vo(60,"kendo-grid-column",36),Ao(61,cZ,2,5,"ng-template",12),Ho(),Vo(62,"kendo-grid-column",37),Ao(63,uZ,2,5,"ng-template",12),Ho(),Vo(64,"kendo-grid-column",38),Ao(65,hZ,2,5,"ng-template",12),Ho(),Vo(66,"kendo-grid-column",39),Ao(67,dZ,2,5,"ng-template",12),Ho(),Vo(68,"kendo-grid-column",40),Ao(69,pZ,2,5,"ng-template",12),Ho(),Vo(70,"kendo-grid-column",41),Ao(71,fZ,2,5,"ng-template",12),Ho(),Vo(72,"kendo-grid-column",42),Ao(73,gZ,2,5,"ng-template",12),Ho(),Vo(74,"kendo-grid-column",43),Ao(75,mZ,2,5,"ng-template",12),Ho(),Vo(76,"kendo-grid-column",44),Ao(77,vZ,2,5,"ng-template",12),Ho(),Vo(78,"kendo-grid-column",45),Ao(79,yZ,2,5,"ng-template",12),Ho(),Vo(80,"kendo-grid-column",46),Ao(81,bZ,2,5,"ng-template",12),Ho(),Vo(82,"kendo-grid-column",47),Ao(83,wZ,2,5,"ng-template",12),Ho(),Vo(84,"kendo-grid-column",48),Ao(85,CZ,2,5,"ng-template",12),Ho(),Vo(86,"kendo-grid-column",49),Ao(87,SZ,2,5,"ng-template",12),Ho(),Vo(88,"kendo-grid-column",50),Ao(89,xZ,2,5,"ng-template",12),Ho(),Vo(90,"kendo-grid-column",51),Ao(91,kZ,2,5,"ng-template",12),Ho(),Vo(92,"kendo-grid-column",52),Ao(93,EZ,2,5,"ng-template",12),Ho(),Vo(94,"kendo-grid-column",53),Ao(95,IZ,2,5,"ng-template",12),Ho(),Vo(96,"kendo-grid-column",54),Ao(97,TZ,2,5,"ng-template",12),Ho(),Vo(98,"kendo-grid-column",55),Ao(99,_Z,2,5,"ng-template",12),Ho(),Vo(100,"kendo-grid-column",56),Ao(101,FZ,2,5,"ng-template",12),Ho(),Vo(102,"kendo-grid-column",57),Ao(103,DZ,2,5,"ng-template",12),Ho(),Vo(104,"kendo-grid-column",58),Ao(105,AZ,2,5,"ng-template",12),Ho(),Vo(106,"kendo-grid-column",59),Ao(107,RZ,2,5,"ng-template",12),Ho(),Vo(108,"kendo-grid-column",60),Ao(109,OZ,2,5,"ng-template",12),Ho(),Vo(110,"kendo-grid-column",61),Ao(111,PZ,2,5,"ng-template",12),Ho(),Vo(112,"kendo-grid-column",62),Ao(113,NZ,2,5,"ng-template",12),Ho(),Vo(114,"kendo-grid-column",63),Ao(115,MZ,2,5,"ng-template",12),Ho(),Vo(116,"kendo-grid-column",64),Ao(117,LZ,2,5,"ng-template",12),Ho(),Vo(118,"kendo-grid-column",65),Ao(119,VZ,2,5,"ng-template",12),Ho(),Vo(120,"kendo-grid-column",66),Ao(121,HZ,2,5,"ng-template",12),Ho(),Vo(122,"kendo-grid-column",67),Ao(123,BZ,2,5,"ng-template",12),Ho(),Vo(124,"kendo-grid-column",68),Ao(125,zZ,2,5,"ng-template",12),Ho(),Vo(126,"kendo-grid-column",69),Ao(127,qZ,20,19,"ng-template",70),Ao(128,WZ,28,20,"ng-template",71),Ho(),Ho(),Ao(129,YZ,24,9,"kendo-dialog",72),Ho(),Ho(),Ao(130,QZ,1,0,"div",73),Ho()),2&e&&(ms(6),Mo("data",t.gridData)("pageSize",t.state.take)("skip",t.state.skip)("filter",t.state.filter)("pageable",!0)("resizable",!0)("sortable",ec(75,JZ))("sort",t.sort)("navigable",!0)("kendoGridBinding",t.gridView)("selectable",ec(76,XZ))("selectedKeys",t.mySelection)("kendoGridSelectBy",t.selectedCallback)("columnMenu",ec(77,eY)),ms(6),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(4),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("filterable",!0),ms(2),Mo("width",400)("sortable",!1)("columnMenu",!1),ms(3),Mo("ngIf",t.dialog),ms(1),Mo("ngIf",t.loading))},directives:[jU,iG,nG,Qj,cU,sK,ej,uj,Zz,Jz,Lh,sF,S$,Gh,RO,Iw,EC,Oh,bw,AC,FC,OC,EW,vW],pipes:[H_,$h],styles:["textarea[_ngcontent-%COMP%]{height:15em!important;width:100%!important;background-color:#fff!important;box-shadow:0 0 4px rgba(0,0,0,.15)!important;border-radius:4px!important;padding:10px!important}td[_ngcontent-%COMP%]{vertical-align:top!important}.changes[_ngcontent-%COMP%]{display:block;margin-bottom:10%}.view-all[_ngcontent-%COMP%]{text-transform:uppercase;color:#0575d1}.comments[_ngcontent-%COMP%]{padding:10px}.audit[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]{display:block;background-color:#f4f8f9!important}.audit[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#b8b8b8}.by[_ngcontent-%COMP%]{float:left}.by[_ngcontent-%COMP%], .on[_ngcontent-%COMP%]{font-size:11px}.on[_ngcontent-%COMP%]{float:right}.save[_ngcontent-%COMP%]{background:#0575d1;border-radius:3px;width:57px;height:30px;border:none;cursor:pointer}.save[_ngcontent-%COMP%], .saveDisabled[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;padding:.5em;margin-right:.5em}.saveDisabled[_ngcontent-%COMP%]{background:grey;border-radius:3px}.cancel[_ngcontent-%COMP%]{border:1px solid #0575d1;color:#0575d1;border-radius:3px;text-transform:uppercase;padding:.5em;background:none;cursor:pointer}.status[_ngcontent-%COMP%]{display:flex}.status[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #0575d1!important;margin-right:1em}.status-details[_ngcontent-%COMP%]{margin-top:10px;font-size:.66em}.not-done[_ngcontent-%COMP%]{font-size:13px;color:#c4c4c4}.done[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#424342}.visualise[_ngcontent-%COMP%]{margin-right:25px}.visualise-damage[_ngcontent-%COMP%]{width:calc(33.33333% - 8.33333px)}.visualise-area[_ngcontent-%COMP%], .visualise-unit[_ngcontent-%COMP%]{width:calc(8.33333% - 2.08333px)}.visualise-corrosion[_ngcontent-%COMP%], .visualise-equipment[_ngcontent-%COMP%]{width:calc(16.66667% - 4.16667px)}.ar-kstatus[_ngcontent-%COMP%]{color:#909090;font-style:italic}.simulation-head[_ngcontent-%COMP%]{font-size:20px;font-weight:100}.simulation-details[_ngcontent-%COMP%]{background-color:#fff;margin-top:20px;padding:20px 25px;min-height:calc(100% - 50px)}.simulation-days[_ngcontent-%COMP%]{width:100px}.simulation-title[_ngcontent-%COMP%]{width:250px}.simulation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .simulation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:7.5px 30px;text-align:center;border-bottom:1px solid #dadada;color:#666}.w-50[_ngcontent-%COMP%]{width:50%}.m-r-150[_ngcontent-%COMP%]{margin-right:150px}.p-t-custom--3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:3px}.editIcon[_ngcontent-%COMP%]{float:right;font-size:16px}.editEnabled[_ngcontent-%COMP%]{color:#0575d1}.editDisabled[_ngcontent-%COMP%]{color:#c4c4c4}.charCount[_ngcontent-%COMP%]{font-size:11px;float:right}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase!important}.text-expand[_ngcontent-%COMP%]{color:#0575d1}.underline-on-hover[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.vce-pmessage[_ngcontent-%COMP%]{font-family:Arial;font-style:normal;font-size:16px;line-height:23px;color:#000}.collapser[_ngcontent-%COMP%]{color:#0575d1;cursor:pointer;font-size:14px;float:right}.container[_ngcontent-%COMP%]{height:100px;overflow:hidden}.show[_ngcontent-%COMP%]{height:auto;overflow:visible}.k-grid-content[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]{background-color:#fff;outline:thin solid #edebe9}.k-grid-content[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]{background-color:#fff}.k-grid-content[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]:hover, .k-grid-content[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]:hover{background-color:transparent}.k-grid-content-locked[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]{background-color:#fff;outline:thin solid #edebe9}.k-grid-content-locked[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]{background-color:#fff}.k-grid-content-locked[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]:hover, .k-grid-content-locked[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]:hover{background-color:transparent}.k-grid-toolbar[_ngcontent-%COMP%]{padding:10px 20px;background-color:#f4f8f9}.k-i-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;font-size:47px;background-color:transparent;color:#eadf46}.ar-kinput[_ngcontent-%COMP%]{width:250px;height:40px;padding:5px;border-radius:4px;background:#fff;border:1px solid #dadada;box-sizing:border-box}[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c4c4;font-style:italic;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#c4c4c4;font-style:italic;opacity:1}.ar-kgrid__cell-link[_ngcontent-%COMP%]{color:#0575d1;cursor:pointer}.status[_ngcontent-%COMP%]{text-align:center;position:relative;display:inline-block;margin-right:5px;width:15px;height:15px;border-radius:100%;vertical-align:middle}.status-icon[_ngcontent-%COMP%]{color:transparent;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.status-icon.fa[_ngcontent-%COMP%]{font-size:14px}.status-errored[_ngcontent-%COMP%]   .fa-times-circle[_ngcontent-%COMP%]{color:#db4437}.status-progress[_ngcontent-%COMP%]   .fa-play-circle[_ngcontent-%COMP%]{color:#0575d1}.status-paused[_ngcontent-%COMP%]   .fa-clock[_ngcontent-%COMP%]{color:#ca7a14}.status-completed[_ngcontent-%COMP%]   .fa-check-circle[_ngcontent-%COMP%]{color:#23a43b}.status-aborted[_ngcontent-%COMP%]   .fa-stop-circle[_ngcontent-%COMP%], .status-unknown[_ngcontent-%COMP%]   .fa-question-circle[_ngcontent-%COMP%]{color:#4d4d4d}"]}),e})();const iY=[{path:"",component:tY},{path:"home",component:tY},{path:"**",redirectTo:"home"}];let nY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Ty.forRoot(iY)],Ty]}),e})(),sY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,nY,$f,MC,Ty]]}),e})();function rY(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}class oY{call(e,t){return t.subscribe(new aY(e))}}class aY extends M{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let i=0;i<t&&!this.hasFirst;i++){let t=e[i],n=N(this,t,t,i);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}}notifyNext(e,t,i,n,s){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==i){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}const lY=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();class cY{constructor(e,t,i,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=i,this.scheduler=n}call(e,t){return t.subscribe(new uY(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class uY extends M{constructor(e,t,i,n,s){super(e),this.absoluteTimeout=t,this.waitFor=i,this.withObservable=n,this.scheduler=s,this.action=null,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add(N(e,t))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(uY.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var hY=i("gfpf");class dY{}class pY{}function fY(e){const t=e.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function gY(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class mY{}let vY=(()=>{class e{getHashFragmentParams(e){let t=e||window.location.hash;if(t=decodeURIComponent(t),0!==t.indexOf("#"))return{};const i=t.indexOf("?");return t=t.substr(i>-1?i+1:1),this.parseQueryString(t)}parseQueryString(e){const t={};let i,n,s,r,o,a,l;if(null===e)return t;i=e.split("&");for(let c=0;c<i.length;c++)n=i[c],s=n.indexOf("="),-1===s?(r=n,o=null):(r=n.substr(0,s),o=n.substr(s+1)),a=decodeURIComponent(r),l=decodeURIComponent(o),"/"===a.substr(0,1)&&(a=a.substr(1)),t[a]=l;return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class yY{constructor(e){this.type=e}}class bY extends yY{constructor(e,t=null){super(e),this.info=t}}class wY extends yY{constructor(e,t=null){super(e),this.info=t}}class CY extends yY{constructor(e,t,i=null){super(e),this.reason=t,this.params=i}}class SY{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.openUri=e=>{location.href=e},e&&Object.assign(this,e)}}class xY{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}class kY{}let EY=(()=>{class e extends SY{constructor(e,t,i,n,s,r,o,a){super(),this.ngZone=e,this.http=t,this.config=s,this.urlHelper=r,this.logger=o,this.crypto=a,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new E,this.discoveryDocumentLoadedSubject=new E,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.debug("angular-oauth2-oidc v8-beta"),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),n&&(this.tokenValidationHandler=n),s&&this.configure(s);try{i?this.setStorage(i):"undefined"!=typeof sessionStorage&&this.setStorage(sessionStorage)}catch(l){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",l)}this.setupRefreshTimer()}configure(e){Object.assign(this,new SY,e),this.config=Object.assign({},new SY,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(hg(e=>"token_received"===e.type)).subscribe(e=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},t,i=!0){let n=!0;this.events.pipe(Gg(e=>{"token_received"===e.type?n=!0:"logout"===e.type&&(n=!1)}),hg(e=>"token_expires"===e.type)).subscribe(s=>{null!=t&&"any"!==t&&s.info!==t||!n||this.refreshInternal(e,i).catch(e=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,t){return"code"===this.responseType?this.refreshToken():this.silentRefresh(e,t)}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(t=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return this.loadDiscoveryDocumentAndTryLogin(e).then(e=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initImplicitFlow(),!1))}debug(...e){this.showDebugInformation&&this.logger.debug.apply(console,e)}validateUrlFromDiscoveryDocument(e){const t=[],i=this.validateUrlForHttps(e),n=this.validateUrlAgainstIssuer(e);return i||t.push("https for all urls required. Also for urls received by discovery."),n||t.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),t}validateUrlForHttps(e){if(!e)return!0;const t=e.toLowerCase();return!1===this.requireHttps||!(!t.match(/^http:\/\/localhost($|[:\/])/)&&!t.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps)||t.startsWith("https://")}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){"undefined"!=typeof window?(this.hasValidIdToken()&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.events.pipe(hg(e=>"token_received"===e.type)).subscribe(e=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})):this.debug("timer not supported on this plattform")}setupExpirationTimers(){const e=this.getIdTokenExpiration()||Number.MAX_VALUE,t=(this.getAccessTokenExpiration()||Number.MAX_VALUE)<=e;this.hasValidAccessToken()&&t&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&!t&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const e=this.getAccessTokenExpiration(),t=this.getAccessTokenStoredAt(),i=this.calcTimeout(t,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=tg(new wY("token_expires","access_token")).pipe(Qb(i)).subscribe(e=>{this.ngZone.run(()=>{this.eventsSubject.next(e)})})})}setupIdTokenTimer(){const e=this.getIdTokenExpiration(),t=this.getIdTokenStoredAt(),i=this.calcTimeout(t,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=tg(new wY("token_expires","id_token")).pipe(Qb(i)).subscribe(e=>{this.ngZone.run(()=>{this.eventsSubject.next(e)})})})}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}calcTimeout(e,t){const i=Date.now();return Math.max(0,(t-e)*this.timeoutFactor-(i-e))}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((t,i)=>{e||((e=this.issuer||"").endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),this.validateUrlForHttps(e)?this.http.get(e).subscribe(e=>{if(!this.validateDiscoveryDocument(e))return this.eventsSubject.next(new CY("discovery_document_validation_error",null)),void i("discovery_document_validation_error");this.loginUrl=e.authorization_endpoint,this.logoutUrl=e.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=e.grant_types_supported,this.issuer=e.issuer,this.tokenEndpoint=e.token_endpoint,this.userinfoEndpoint=e.userinfo_endpoint,this.jwksUri=e.jwks_uri,this.sessionCheckIFrameUrl=e.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(e),this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(i=>{const n=new bY("discovery_document_loaded",{discoveryDocument:e,jwks:i});this.eventsSubject.next(n),t(n)}).catch(e=>{this.eventsSubject.next(new CY("discovery_document_load_error",e)),i(e)})},e=>{this.logger.error("error loading discovery document",e),this.eventsSubject.next(new CY("discovery_document_load_error",e)),i(e)}):i("issuer must use https, or config value for property requireHttps must allow http")})}loadJwks(){return new Promise((e,t)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(t=>{this.jwks=t,this.eventsSubject.next(new bY("discovery_document_loaded")),e(t)},e=>{this.logger.error("error loading jwks",e),this.eventsSubject.next(new CY("jwks_load_error",e)),t(e)}):e(null)})}validateDiscoveryDocument(e){let t;return this.skipIssuerCheck||e.issuer===this.issuer?(t=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),t.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),t.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.token_endpoint),t.length>0&&this.logger.error("error validating token_endpoint in discovery document",t),t=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),t.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.jwks_uri),t.length>0?(this.logger.error("error validating jwks_uri in discovery document",t),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,t,i=new kK){return this.fetchTokenUsingPasswordFlow(e,t,i).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((e,t)=>{const i=(new kK).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:i}).subscribe(i=>{this.debug("userinfo received",i);const n=this.getIdentityClaims()||{};this.skipSubjectCheck||!this.oidc||n.sub&&i.sub===n.sub?(i=Object.assign({},n,i),this._storage.setItem("id_token_claims_obj",JSON.stringify(i)),this.eventsSubject.next(new bY("user_profile_loaded")),e(i)):t("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false")},e=>{this.logger.error("error loading user info",e),this.eventsSubject.next(new CY("user_profile_load_error",e)),t(e)})})}fetchTokenUsingPasswordFlow(e,t,i=new kK){if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((n,s)=>{let r=new TK({encoder:new xY}).set("grant_type","password").set("scope",this.scope).set("username",e).set("password",t);if(this.useHttpBasicAuth){const e=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+e)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const e of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(e,this.customQueryParams[e]);i=i.set("Content-Type","application/x-www-form-urlencoded"),this.http.post(this.tokenEndpoint,r,{headers:i}).subscribe(e=>{this.debug("tokenResponse",e),this.storeAccessTokenResponse(e.access_token,e.refresh_token,e.expires_in,e.scope),this.eventsSubject.next(new bY("token_received")),n(e)},e=>{this.logger.error("Error performing password flow",e),this.eventsSubject.next(new CY("token_error",e)),s(e)})})}refreshToken(){if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((e,t)=>{let i=(new TK).set("grant_type","refresh_token").set("client_id",this.clientId).set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token"));if(this.dummyClientSecret&&(i=i.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const s of Object.getOwnPropertyNames(this.customQueryParams))i=i.set(s,this.customQueryParams[s]);const n=(new kK).set("Content-Type","application/x-www-form-urlencoded");this.http.post(this.tokenEndpoint,i,{headers:n}).pipe(Ng(e=>e.id_token?z(this.processIdToken(e.id_token,e.access_token,!0)).pipe(Gg(e=>this.storeIdToken(e)),L(t=>e)):tg(e))).subscribe(t=>{this.debug("refresh tokenResponse",t),this.storeAccessTokenResponse(t.access_token,t.refresh_token,t.expires_in,t.scope),this.eventsSubject.next(new bY("token_received")),this.eventsSubject.next(new bY("token_refreshed")),e(t)},e=>{this.logger.error("Error performing password flow",e),this.eventsSubject.next(new CY("token_refresh_error",e)),t(e)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{const t=this.processMessageEventMessage(e);this.tryLogin({customHashFragment:t,preventClearHashAfterLogin:!0,onLoginError:e=>{this.eventsSubject.next(new CY("silent_refresh_error",e))},onTokenReceived:()=>{this.eventsSubject.next(new bY("silently_refreshed"))}}).catch(e=>this.debug("tryLogin during silent refresh failed",e))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},t=!0){const i=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");if("undefined"==typeof document)throw new Error("silent refresh is not supported on this platform");const n=document.getElementById(this.silentRefreshIFrameName);n&&document.body.removeChild(n),this.silentRefreshSubject=i.sub;const s=document.createElement("iframe");return s.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,t,e).then(e=>{s.setAttribute("src",e),this.silentRefreshShowIFrame||(s.style.display="none"),document.body.appendChild(s)}),function(...e){if(1===e.length){if(!l(e[0]))return e[0];e=e[0]}return $(e,void 0).lift(new oY)}([this.events.pipe(hg(e=>e instanceof CY),Rg()),this.events.pipe(hg(e=>"silently_refreshed"===e.type),Rg()),tg(new CY("silent_refresh_timeout",null)).pipe(Qb(this.silentRefreshTimeout))]).pipe(Gg(e=>{"silent_refresh_timeout"===e.type&&this.eventsSubject.next(e)}),L(e=>{if(e instanceof CY)throw e;return e})).toPromise()}initImplicitFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(t=>new Promise((i,n)=>{let s=window.open(t,"_blank",this.calculatePopupFeatures(e));const r=()=>{window.removeEventListener("message",o),s.close(),s=null},o=e=>{const t=this.processMessageEventMessage(e);this.tryLogin({customHashFragment:t,preventClearHashAfterLogin:!0}).then(()=>{r(),i()},e=>{r(),n(e)})};window.addEventListener("message",o)}))}calculatePopupFeatures(e){const t=e.height||470,i=e.width||500,n=screen.width/2-i/2;return`location=no,toolbar=no,width=${i},height=${t},top=${screen.height/2-t/2},left=${n}`}processMessageEventMessage(e){let t="#";if(this.silentRefreshMessagePrefix&&(t+=this.silentRefreshMessagePrefix),!e||!e.data||"string"!=typeof e.data)return;const i=e.data;return i.startsWith(t)?"#"+i.substr(t.length):void 0}canPerformSessionCheck(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?"undefined"!=typeof document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{const t=e.origin.toLowerCase(),i=this.issuer.toLowerCase();switch(this.debug("sessionCheckEventListener"),i.startsWith(t)||this.debug("sessionCheckEventListener","wrong origin",t,"expected",i),e.data){case"unchanged":this.handleSessionUnchanged();break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged")}handleSessionChange(){this.eventsSubject.next(new wY("session_changed")),this.stopSessionCheckTimer(),this.silentRefreshRedirectUri?(this.silentRefresh().catch(e=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new wY("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(hg(e=>"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type),Rg()).subscribe(e=>{"silently_refreshed"!==e.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new wY("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new wY("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const e=document.getElementById(this.sessionCheckIFrameName);e&&document.body.removeChild(e);const t=document.createElement("iframe");t.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),t.setAttribute("src",this.sessionCheckIFrameUrl),t.style.display="none",document.body.appendChild(t),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const e=document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const t=this.getSessionState();t||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+t,this.issuer)}createLoginUrl(e="",t="",i="",n=!1,s={}){return rY(this,void 0,void 0,(function*(){let r;r=i||this.redirectUri;const o=yield this.createAndSaveNonce();if(e=e?o+this.config.nonceStateSeparator+e:o,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.responseType=this.config.responseType?this.config.responseType:this.oidc&&this.requestAccessToken?"id_token token":this.oidc&&!this.requestAccessToken?"id_token":"token";const a=this.loginUrl.indexOf("?")>-1?"&":"?";let l=this.scope;this.oidc&&!l.match(/(^|\s)openid($|\s)/)&&(l="openid "+l);let c=this.loginUrl+a+"response_type="+encodeURIComponent(this.responseType)+"&client_id="+encodeURIComponent(this.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(r)+"&scope="+encodeURIComponent(l);if("code"===this.responseType&&!this.disablePKCE){const[e,t]=yield this.createChallangeVerifierPairForPKCE();this._storage.setItem("PKCI_verifier",t),c+="&code_challenge="+e,c+="&code_challenge_method=S256"}t&&(c+="&login_hint="+encodeURIComponent(t)),this.resource&&(c+="&resource="+encodeURIComponent(this.resource)),this.oidc&&(c+="&nonce="+encodeURIComponent(o)),n&&(c+="&prompt=none");for(const e of Object.keys(s))c+="&"+encodeURIComponent(e)+"="+encodeURIComponent(s[e]);if(this.customQueryParams)for(const e of Object.getOwnPropertyNames(this.customQueryParams))c+="&"+e+"="+encodeURIComponent(this.customQueryParams[e]);return c}))}initImplicitFlowInternal(e="",t=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use https, or config value for property requireHttps must allow http");let i={},n=null;"string"==typeof t?n=t:"object"==typeof t&&(i=t),this.createLoginUrl(e,n,null,!1,i).then(this.config.openUri).catch(e=>{console.error("Error in initImplicitFlow",e),this.inImplicitFlow=!1})}initImplicitFlow(e="",t=""){""!==this.loginUrl?this.initImplicitFlowInternal(e,t):this.events.pipe(hg(e=>"discovery_document_loaded"===e.type)).subscribe(i=>this.initImplicitFlowInternal(e,t))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){const t=this;if(e.onTokenReceived){const i={idClaims:t.getIdentityClaims(),idToken:t.getIdToken(),accessToken:t.getAccessToken(),state:t.state};e.onTokenReceived(i)}}storeAccessTokenResponse(e,t,i,n){if(this._storage.setItem("access_token",e),n&&this._storage.setItem("granted_scopes",JSON.stringify(n.split("+"))),this._storage.setItem("access_token_stored_at",""+Date.now()),i){const e=1e3*i,t=(new Date).getTime()+e;this._storage.setItem("expires_at",""+t)}t&&this._storage.setItem("refresh_token",t)}tryLogin(e=null){return"code"===this.config.responseType?this.tryLoginCodeFlow().then(e=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}tryLoginCodeFlow(){const e=this.parseQueryString(window.location.search),t=e.code,i=e.state,n=location.href.replace(/[&\?]code=[^&\$]*/,"").replace(/[&\?]scope=[^&\$]*/,"").replace(/[&\?]state=[^&\$]*/,"").replace(/[&\?]session_state=[^&\$]*/,"");history.replaceState(null,window.name,n);let[s,r]=this.parseState(i);if(this.state=r,e.error){this.debug("error trying to login"),this.handleLoginError({},e);const t=new CY("code_error",{},e);return this.eventsSubject.next(t),Promise.reject(t)}if(!s)return Promise.resolve();if(!this.validateNonce(s)){const e=new CY("invalid_nonce_in_state",null);return this.eventsSubject.next(e),Promise.reject(e)}return t?new Promise((e,i)=>{this.getTokenFromCode(t).then(t=>{e()}).catch(e=>{i(e)})}):Promise.resolve()}getTokenFromCode(e){let t=(new TK).set("grant_type","authorization_code").set("code",e).set("redirect_uri",this.redirectUri);if(!this.disablePKCE){const e=this._storage.getItem("PKCI_verifier");e?t=t.set("code_verifier",e):console.warn("No PKCI verifier found in oauth storage!")}return this.fetchAndProcessToken(t)}fetchAndProcessToken(e){let t=(new kK).set("Content-Type","application/x-www-form-urlencoded");if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use Http. Also check property requireHttps.");if(this.useHttpBasicAuth){const e=btoa(`${this.clientId}:${this.dummyClientSecret}`);t=t.set("Authorization","Basic "+e)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((i,n)=>{if(this.customQueryParams)for(let t of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(t,this.customQueryParams[t]);this.http.post(this.tokenEndpoint,e,{headers:t}).subscribe(e=>{this.debug("refresh tokenResponse",e),this.storeAccessTokenResponse(e.access_token,e.refresh_token,e.expires_in,e.scope),this.oidc&&e.id_token?this.processIdToken(e.id_token,e.access_token).then(t=>{this.storeIdToken(t),this.eventsSubject.next(new bY("token_received")),this.eventsSubject.next(new bY("token_refreshed")),i(e)}).catch(e=>{this.eventsSubject.next(new CY("token_validation_error",e)),console.error("Error validating tokens"),console.error(e),n(e)}):(this.eventsSubject.next(new bY("token_received")),this.eventsSubject.next(new bY("token_refreshed")),i(e))},e=>{console.error("Error getting token",e),this.eventsSubject.next(new CY("token_refresh_error",e)),n(e)})})}tryLoginImplicitFlow(e=null){let t;t=(e=e||{}).customHashFragment?this.urlHelper.getHashFragmentParams(e.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",t);const i=t.state;let[n,s]=this.parseState(i);if(this.state=s,t.error){this.debug("error trying to login"),this.handleLoginError(e,t);const i=new CY("token_error",{},t);return this.eventsSubject.next(i),Promise.reject(i)}const r=t.access_token,o=t.id_token,a=t.session_state,l=t.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!r)return Promise.resolve(!1);if(this.requestAccessToken&&!e.disableOAuth2StateCheck&&!i)return Promise.resolve(!1);if(this.oidc&&!o)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!a&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableOAuth2StateCheck&&!this.validateNonce(n)){const e=new CY("invalid_nonce_in_state",null);return this.eventsSubject.next(e),Promise.reject(e)}return this.requestAccessToken&&this.storeAccessTokenResponse(r,null,t.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l),this.oidc?this.processIdToken(o,r).then(t=>e.validationHandler?e.validationHandler({accessToken:r,idClaims:t.idTokenClaims,idToken:t.idToken,state:i}).then(e=>t):t).then(t=>(this.storeIdToken(t),this.storeSessionState(a),this.clearHashAfterLogin&&(location.hash=""),this.eventsSubject.next(new bY("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(e=>(this.eventsSubject.next(new CY("token_validation_error",e)),this.logger.error("Error validating tokens"),this.logger.error(e),Promise.reject(e))):(this.eventsSubject.next(new bY("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&(location.hash=""),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let t=e,i="";if(e){const n=e.indexOf(this.config.nonceStateSeparator);n>-1&&(t=e.substr(0,n),i=e.substr(n+this.config.nonceStateSeparator.length))}return[t,i]}validateNonce(e){const t=this._storage.getItem("nonce");return t===e||(console.error("Validating access_token failed, wrong state/nonce.",t,e),!1)}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+Date.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,t){e.onLoginError&&e.onLoginError(t),this.clearHashAfterLogin&&(location.hash="")}processIdToken(e,t,i=!1){const n=e.split("."),s=fY(this.padBase64(n[0])),r=JSON.parse(s),o=fY(this.padBase64(n[1])),a=JSON.parse(o),l=this._storage.getItem("nonce");if(Array.isArray(a.aud)){if(a.aud.every(e=>e!==this.clientId)){const e="Wrong audience: "+a.aud.join(",");return this.logger.warn(e),Promise.reject(e)}}else if(a.aud!==this.clientId){const e="Wrong audience: "+a.aud;return this.logger.warn(e),Promise.reject(e)}if(!a.sub){const e="No sub claim in id_token";return this.logger.warn(e),Promise.reject(e)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==a.sub){const e=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${a.sub}`;return this.logger.warn(e),Promise.reject(e)}if(!a.iat){const e="No iat claim in id_token";return this.logger.warn(e),Promise.reject(e)}if(!this.skipIssuerCheck&&a.iss!==this.issuer){const e="Wrong issuer: "+a.iss;return this.logger.warn(e),Promise.reject(e)}if(!i&&a.nonce!==l){const e="Wrong nonce: "+a.nonce;return this.logger.warn(e),Promise.reject(e)}if(!this.disableAtHashCheck&&this.requestAccessToken&&!a.at_hash){const e="An at_hash is needed!";return this.logger.warn(e),Promise.reject(e)}const c=Date.now(),u=1e3*a.iat,h=1e3*a.exp,d=1e3*(this.clockSkewInSec||600);if(u-d>=c||h+d<=c){const e="Token has expired";return console.error(e),console.error({now:c,issuedAtMSec:u,expiresAtMSec:h}),Promise.reject(e)}const p={accessToken:t,idToken:e,jwks:this.jwks,idTokenClaims:a,idTokenHeader:r,loadKeys:()=>this.loadJwks()};return this.checkAtHash(p).then(t=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!t){const e="Wrong at_hash";return this.logger.warn(e),Promise.reject(e)}return this.checkSignature(p).then(t=>({idToken:e,idTokenClaims:a,idTokenClaimsJson:o,idTokenHeader:r,idTokenHeaderJson:s,idTokenExpiresAt:h}))})}getIdentityClaims(){const e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){const e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!=0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const e=this._storage.getItem("expires_at"),t=new Date;return!(e&&parseInt(e,10)<t.getTime())}return!1}hasValidIdToken(){if(this.getIdToken()){const e=this._storage.getItem("id_token_expires_at"),t=new Date;return!(e&&parseInt(e,10)<t.getTime())}return!1}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e=!1){const t=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this._storage.removeItem("nonce"),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.silentRefreshSubject=null,this.eventsSubject.next(new wY("logout")),!this.logoutUrl)return;if(e)return;if(!t&&!this.postLogoutRedirectUri)return;let i;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl must use https, or config value for property requireHttps must allow http");if(this.logoutUrl.indexOf("{{")>-1)i=this.logoutUrl.replace(/\{\{id_token\}\}/,t).replace(/\{\{client_id\}\}/,this.clientId);else{let e=new TK;t&&(e=e.set("id_token_hint",t));const n=this.postLogoutRedirectUri||this.redirectUri;n&&(e=e.set("post_logout_redirect_uri",n)),i=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+e.toString()}this.config.openUri(i)}createAndSaveNonce(){const e=this;return this.createNonce().then((function(t){return e._storage.setItem("nonce",t),t}))}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const t="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-";let i=45,n="";const s=self.crypto||self.msCrypto;if(s){const e=s.getRandomValues(new Uint8Array(i));for(;0<i--;)n+=t[63&e[i]]}else for(;0<i--;)n+=t[64*Math.random()|0];e(n)})}checkAtHash(e){return rY(this,void 0,void 0,(function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)}))}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",t={}){return"code"===this.responseType?this.initCodeFlow(e,t):this.initImplicitFlow(e,t)}initCodeFlow(e="",t={}){""!==this.loginUrl?this.initCodeFlowInternal(e,t):this.events.pipe(hg(e=>"discovery_document_loaded"===e.type)).subscribe(i=>this.initCodeFlowInternal(e,t))}initCodeFlowInternal(e="",t={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use Http. Also check property requireHttps.");this.createLoginUrl(e,"",null,!1,t).then((function(e){location.href=e})).catch(e=>{console.error("Error in initAuthorizationCodeFlow"),console.error(e)})}createChallangeVerifierPairForPKCE(){return rY(this,void 0,void 0,(function*(){if(!this.crypto)throw new Error("PKCI support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const e=yield this.createNonce();return[gY(yield this.crypto.calcHash(e,"sha-256")),e]}))}}return e.\u0275fac=function(t){return new(t||e)(We(ou),We(VK),We(pY,8),We(mY,8),We(SY,8),We(vY),We(dY),We(kY,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();class IY{}class TY{}class _Y{handleError(e){return Wb(e)}}let FY=(()=>{class e{constructor(e,t,i,n){this.authStorage=e,this.oAuthService=t,this.errorHandler=i,this.moduleConfig=n}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(t=>e.startsWith(t))}intercept(e,t){const i=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer?this.moduleConfig.resourceServer.allowedUrls&&!this.checkUrl(i)?t.handle(e):this.moduleConfig.resourceServer.sendAccessToken?K(tg(this.oAuthService.getAccessToken()).pipe(hg(e=>!!e)),this.oAuthService.events.pipe(hg(e=>"token_received"===e.type),function(e,t=ib){return function(e,t,i=ib){return n=>{let s=Kb(e),r=s?+e-i.now():Math.abs(e);return n.lift(new cY(r,s,t,i))}}(e,Wb(new lY),t)}(this.oAuthService.waitForTokenInMsec||0),Ig(e=>tg(null)),L(e=>this.oAuthService.getAccessToken()))).pipe(Fg(1),j(i=>{if(i){const t=e.headers.set("Authorization","Bearer "+i);e=e.clone({headers:t})}return t.handle(e).pipe(Ig(e=>this.errorHandler.handleError(e)))})):t.handle(e).pipe(Ig(e=>this.errorHandler.handleError(e))):t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(pY),We(EY),We(TY),We(IY,8))},e.\u0275prov=ue({token:e,factory:e.\u0275fac}),e})();function DY(){return console}function AY(){return"undefined"!=typeof sessionStorage?sessionStorage:null}class RY extends class{validateAtHash(e){return rY(this,void 0,void 0,(function*(){let t=this.inferHashAlgorithm(e.idTokenHeader),i=yield this.calcHash(e.accessToken,t),n=gY(i.substr(0,i.length/2)),s=e.idTokenClaims.at_hash.replace(/=/g,"");return n!==s&&(console.error("exptected at_hash: "+n),console.error("actual at_hash: "+s)),n===s}))}inferHashAlgorithm(e){let t=e.alg;if(!t.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+t);return"sha-"+t.substr(2)}}{constructor(){super(...arguments),this.allowedAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.gracePeriodInSec=600}validateSignature(e,t=!1){if(!e.idToken)throw new Error("Parameter idToken expected!");if(!e.idTokenHeader)throw new Error("Parameter idTokenHandler expected.");if(!e.jwks)throw new Error("Parameter jwks expected!");if(!e.jwks.keys||!Array.isArray(e.jwks.keys)||0===e.jwks.keys.length)throw new Error("Array keys in jwks missing!");let i,n=e.idTokenHeader.kid,s=e.jwks.keys,r=e.idTokenHeader.alg;if(n)i=s.find(e=>e.kid===n);else{let e=this.alg2kty(r),t=s.filter(t=>t.kty===e&&"sig"===t.use);if(t.length>1){let e="More than one matching key found. Please specify a kid in the id_token header.";return console.error(e),Promise.reject(e)}1===t.length&&(i=t[0])}if(!i&&!t&&e.loadKeys)return e.loadKeys().then(t=>e.jwks=t).then(t=>this.validateSignature(e,!0));if(!i&&t&&!n){let e="No matching key found.";return console.error(e),Promise.reject(e)}if(!i&&t&&n){let e="expected key not found in property jwks. This property is most likely loaded with the discovery document. Expected key id (kid): "+n;return console.error(e),Promise.reject(e)}let o=hY.KEYUTIL.getKey(i);return hY.KJUR.jws.JWS.verifyJWT(e.idToken,o,{alg:this.allowedAlgorithms,gracePeriod:this.gracePeriodInSec})?Promise.resolve():Promise.reject("Signature not valid")}alg2kty(e){switch(e.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+e)}}calcHash(e,t){let i=new hY.KJUR.crypto.MessageDigest({alg:t}).digestString(e),n=this.toByteArrayAsString(i);return Promise.resolve(n)}toByteArrayAsString(e){let t="";for(let i=0;i<e.length;i+=2){let n=e.charAt(i)+e.charAt(i+1),s=parseInt(n,16);t+=String.fromCharCode(s)}return t}}let OY=(()=>{class e{static forRoot(t=null,i=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}}){return{ngModule:e,providers:[EY,vY,{provide:dY,useFactory:DY},{provide:pY,useFactory:AY},{provide:mY,useClass:i},{provide:kY,useClass:RY},{provide:TY,useClass:_Y},{provide:IY,useValue:t},{provide:BK,useClass:FY,multi:!0}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})();function PY(){return localStorage}let NY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:Wf,useValue:Zf},{provide:pY,useFactory:PY}]}),e})(),MY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})(),LY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,gb]]}),e})(),VY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})(),HY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})(),BY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})(),zY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh]]}),e})(),jY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[MY,LY,VY,HY,zY,BY]}),e})(),UY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Kh,nY,Ed,$f,MC,LC,sY,aI,uI,RW,bK,Ty,IF,jx,nN,jY,B_]]}),e})(),GY=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[eW,tW,By,tW,Qf],imports:[[Kh,XK]]}),e})(),qY=(()=>{class e{}return e.\u0275mod=vt({type:e,bootstrap:[Uy]}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:Wu,useClass:Ju},{provide:pY,useFactory:PY}],imports:[[Ed,$f,MC,sY,NY,nY,GY,UY,OY.forRoot({resourceServer:{allowedUrls:["*"],sendAccessToken:!0}})]]}),e})();(function(){if(Cn)throw new Error("Cannot enable prod mode after platform setup.");wn=!1})(),xd().bootstrapModule(qY).catch(e=>console.error(e))},zn8P:function(e,t){function i(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"}},[[0,0]]]);