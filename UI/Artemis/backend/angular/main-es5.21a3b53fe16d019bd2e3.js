var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_templateObject31,_templateObject32,_templateObject33,_templateObject34,_templateObject35,_templateObject36,_templateObject37,_templateObject38,_templateObject39,_templateObject40,_templateObject41,_templateObject42,_templateObject43,_templateObject44,_templateObject45,_templateObject46,_templateObject47,_templateObject48,_templateObject49,_templateObject50,_templateObject51,_templateObject52,_templateObject53,_templateObject54,_templateObject55,_templateObject56,_templateObject57,_templateObject58,_templateObject59,_templateObject60,_templateObject61,_templateObject62,_templateObject63,_templateObject64,_templateObject65,_templateObject66,_templateObject67,_templateObject68,_templateObject69,_templateObject70,_templateObject71,_templateObject72,_templateObject73,_templateObject74,_templateObject75,_templateObject76,_templateObject77,_templateObject78,_templateObject79,_templateObject80,_templateObject81,_templateObject82,_templateObject83,_templateObject84,_templateObject85,_templateObject86,_templateObject87,_templateObject88,_templateObject89,_templateObject90,_templateObject91,_templateObject92,_templateObject93,_templateObject94,_templateObject95,_templateObject96,_templateObject97,_templateObject98,_templateObject99,_templateObject100,_templateObject101,_templateObject102,_templateObject103,_templateObject104,_templateObject105,_templateObject106,_templateObject107,_templateObject108,_templateObject109,_templateObject110,_templateObject111,_templateObject112,_templateObject113,_templateObject114,_templateObject115;function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(s.push(i.value),!t||s.length!==t);a=!0);}catch(l){o=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(o)throw r}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,o=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){o=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(o)throw s}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},E21t:function(e){e.exports=JSON.parse('{"a":"https://artemisdbwebapp.azurewebsites.net/","b":false}')},gfpf:function(e,t){var n={userAgent:!1},i={};if(void 0===r)var r={};r.lang={extend:function(e,t,i){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),i){var s;for(s in i)e.prototype[s]=i[s];var o=function(){},l=["toString","valueOf"];try{/MSIE/.test(n.userAgent)&&(o=function(e,t){for(s=0;s<l.length;s+=1){var n=l[s],i=t[n];"function"==typeof i&&i!=Object.prototype[n]&&(e[n]=i)}})}catch(a){}o(e.prototype,i)}}};var s,a,o,l,u,c,h,f,d,p,v,g=g||(s=Math,o=(a={}).lib={},l=o.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=o.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var s=0;s<r;s++)t[i+s>>>2]|=(n[s>>>2]>>>24-s%4*8&255)<<24-(i+s)%4*8;else for(s=0;s<r;s+=4)t[i+s>>>2]=n[s>>>2];return this.sigBytes+=r,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=s.ceil(t/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(4294967296*s.random()|0);return new u.init(t,e)}}),c=a.enc={},h=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var s=t[r>>>2]>>>24-r%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new u.init(n,t/2)}},f=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++)i.push(String.fromCharCode(t[r>>>2]>>>24-r%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new u.init(n,t)}},d=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,n=t.words,i=t.sigBytes,r=this.blockSize,a=i/(4*r),o=(a=e?s.ceil(a):s.max((0|a)-this._minBufferSize,0))*r,l=s.min(4*o,i);if(o){for(var c=0;c<o;c+=r)this._doProcessBlock(n,c);var h=n.splice(0,o);t.sigBytes-=l}return new u.init(h,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),o.Hasher=p.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),v=a.algo={},a);!function(e){var t,n=(t=g).lib,i=n.Base,r=n.WordArray;(t=t.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],i=0;i<t;i++){var s=e[i];n.push(s.high),n.push(s.low)}return r.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),g.lib.Cipher||function(e){var t=(d=g).lib,n=t.Base,i=t.WordArray,r=t.BufferedBlockAlgorithm,s=d.enc.Base64,a=d.algo.EvpKDF,o=t.Cipher=r.extend({cfg:n.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){r.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,n,i){return("string"==typeof n?p:f).encrypt(e,t,n,i)},decrypt:function(t,n,i){return("string"==typeof n?p:f).decrypt(e,t,n,i)}}}});t.StreamCipher=o.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=d.mode={},u=function(e,t,n){var i=this._iv;i?this._iv=void 0:i=this._prevBlock;for(var r=0;r<n;r++)e[t+r]^=i[r]},c=(t.BlockCipherMode=n.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();c.Encryptor=c.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize;u.call(this,e,t,i),n.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),c.Decryptor=c.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,r=e.slice(t,t+i);n.decryptBlock(e,t),u.call(this,e,t,i),this._prevBlock=r}}),l=l.CBC=c,c=(d.pad={}).Pkcs7={pad:function(e,t){for(var n,r=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,s=[],a=0;a<n;a+=4)s.push(r);n=i.create(s,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=o.extend({cfg:o.cfg.extend({mode:l,padding:c}),reset:function(){o.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var h=t.CipherParams=n.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),f=(l=(d.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(s)},parse:function(e){var t=(e=s.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return h.create({ciphertext:e,salt:n})}},t.SerializableCipher=n.extend({cfg:n.extend({format:l}),encrypt:function(e,t,n,i){i=this.cfg.extend(i);var r=e.createEncryptor(n,i);return t=r.finalize(t),h.create({ciphertext:t,key:n,iv:(r=r.cfg).iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:i.format})},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),e.createDecryptor(n,i).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),d=(d.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=i.random(8)),e=a.create({keySize:t+n}).compute(e,r),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,h.create({key:e,iv:n,salt:r})}},p=t.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:d}),encrypt:function(e,t,n,i){return n=(i=this.cfg.extend(i)).kdf.execute(n,e.keySize,e.ivSize),i.iv=n.iv,(e=f.encrypt.call(this,e,t,n.key,i)).mixIn(n),e},decrypt:function(e,t,n,i){return i=this.cfg.extend(i),t=this._parse(t,i.format),n=i.kdf.execute(n,e.keySize,e.ivSize,t.salt),i.iv=n.iv,f.decrypt.call(this,e,t,n.key,i)}})}(),function(){for(var e=g,t=e.lib.BlockCipher,n=e.algo,i=[],r=[],s=[],a=[],o=[],l=[],u=[],c=[],h=[],f=[],d=[],p=0;256>p;p++)d[p]=128>p?p<<1:p<<1^283;var v=0,m=0;for(p=0;256>p;p++){var y;i[v]=y=(y=m^m<<1^m<<2^m<<3^m<<4)>>>8^255&y^99,r[y]=v;var k=d[v],b=d[k],C=d[b],w=257*d[y]^16843008*y;s[v]=w<<24|w>>>8,a[v]=w<<16|w>>>16,o[v]=w<<8|w>>>24,l[v]=w,u[y]=(w=16843009*C^65537*b^257*k^16843008*v)<<24|w>>>8,c[y]=w<<16|w>>>16,h[y]=w<<8|w>>>24,f[y]=w,v?(v=k^d[d[d[C^k]]],m^=d[d[m]]):v=m=1}var _=[0,1,2,4,8,16,32,64,128,27,54];n=n.AES=t.extend({_doReset:function(){for(var e=(n=this._key).words,t=n.sigBytes/4,n=4*((this._nRounds=t+6)+1),r=this._keySchedule=[],s=0;s<n;s++)if(s<t)r[s]=e[s];else{var a=r[s-1];s%t?6<t&&4==s%t&&(a=i[a>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a]):(a=i[(a=a<<8|a>>>24)>>>24]<<24|i[a>>>16&255]<<16|i[a>>>8&255]<<8|i[255&a],a^=_[s/t|0]<<24),r[s]=r[s-t]^a}for(e=this._invKeySchedule=[],t=0;t<n;t++)s=n-t,a=t%4?r[s]:r[s-4],e[t]=4>t||4>=s?a:u[i[a>>>24]]^c[i[a>>>16&255]]^h[i[a>>>8&255]]^f[i[255&a]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,a,o,l,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,c,h,f,r),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,i,r,s,a,o){for(var l=this._nRounds,u=e[t]^n[0],c=e[t+1]^n[1],h=e[t+2]^n[2],f=e[t+3]^n[3],d=4,p=1;p<l;p++){var v=i[u>>>24]^r[c>>>16&255]^s[h>>>8&255]^a[255&f]^n[d++],g=i[c>>>24]^r[h>>>16&255]^s[f>>>8&255]^a[255&u]^n[d++],m=i[h>>>24]^r[f>>>16&255]^s[u>>>8&255]^a[255&c]^n[d++];f=i[f>>>24]^r[u>>>16&255]^s[c>>>8&255]^a[255&h]^n[d++],u=v,c=g,h=m}v=(o[u>>>24]<<24|o[c>>>16&255]<<16|o[h>>>8&255]<<8|o[255&f])^n[d++],g=(o[c>>>24]<<24|o[h>>>16&255]<<16|o[f>>>8&255]<<8|o[255&u])^n[d++],m=(o[h>>>24]<<24|o[f>>>16&255]<<16|o[u>>>8&255]<<8|o[255&c])^n[d++],f=(o[f>>>24]<<24|o[u>>>16&255]<<16|o[c>>>8&255]<<8|o[255&h])^n[d++],e[t]=v,e[t+1]=g,e[t+2]=m,e[t+3]=f},keySize:8}),e.AES=t._createHelper(n)}(),function(){function e(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function t(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var n,i=g,r=(n=i.lib).WordArray,s=i.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],o=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],c=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=s.DES=(n=n.BlockCipher).extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;56>n;n++){var i=a[n]-1;t[n]=e[i>>>5]>>>31-i%32&1}for(e=this._subKeys=[],i=0;16>i;i++){var r=e[i]=[],s=l[i];for(n=0;24>n;n++)r[n/6|0]|=t[(o[n]-1+s)%28]<<31-n%6,r[4+(n/6|0)]|=t[28+(o[n+24]-1+s)%28]<<31-n%6;for(r[0]=r[0]<<1|r[0]>>>31,n=1;7>n;n++)r[n]>>>=4*(n-1)+3;r[7]=r[7]<<5|r[7]>>>27}for(t=this._invSubKeys=[],n=0;16>n;n++)t[n]=e[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(n,i,r){this._lBlock=n[i],this._rBlock=n[i+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var s=0;16>s;s++){for(var a=r[s],o=this._lBlock,l=this._rBlock,h=0,f=0;8>f;f++)h|=u[f][((l^a[f])&c[f])>>>0];this._lBlock=l,this._rBlock=o^h}r=this._lBlock,this._lBlock=this._rBlock,this._rBlock=r,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),n[i]=this._lBlock,n[i+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});i.DES=n._createHelper(h),s=s.TripleDES=n.extend({_doReset:function(){var e=this._key.words;this._des1=h.createEncryptor(r.create(e.slice(0,2))),this._des2=h.createEncryptor(r.create(e.slice(2,4))),this._des3=h.createEncryptor(r.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),i.TripleDES=n._createHelper(s)}(),function(){var e=g.lib.WordArray;g.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var r=0;r<n;r+=3)for(var s=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;4>a&&r+.75*a<n;a++)e.push(i.charAt(s>>>6*(3-a)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(t){var n=t.length,i=this._map;(r=i.charAt(64))&&-1!=(r=t.indexOf(r))&&(n=r);for(var r=[],s=0,a=0;a<n;a++)if(a%4){var o=i.indexOf(t.charAt(a-1))<<a%4*2,l=i.indexOf(t.charAt(a))>>>6-a%4*2;r[s>>>2]|=(o|l)<<24-s%4*8,s++}return e.create(r,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,n,i,r,s,a){return((e=e+(t&n|~t&i)+r+a)<<s|e>>>32-s)+t}function n(e,t,n,i,r,s,a){return((e=e+(t&i|n&~i)+r+a)<<s|e>>>32-s)+t}function i(e,t,n,i,r,s,a){return((e=e+(t^n^i)+r+a)<<s|e>>>32-s)+t}function r(e,t,n,i,r,s,a){return((e=e+(n^(t|~i))+r+a)<<s|e>>>32-s)+t}for(var s=g,a=(l=s.lib).WordArray,o=l.Hasher,l=s.algo,u=[],c=0;64>c;c++)u[c]=4294967296*e.abs(e.sin(c+1))|0;l=l.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,s){for(var a=0;16>a;a++)e[o=s+a]=16711935&((l=e[o])<<8|l>>>24)|4278255360&(l<<24|l>>>8);var o,l=e[s+1],c=e[s+2],h=e[s+3],f=e[s+4],d=e[s+5],p=e[s+6],v=e[s+7],g=e[s+8],m=e[s+9],y=e[s+10],k=e[s+11],b=e[s+12],C=e[s+13],w=e[s+14],_=e[s+15],S=t(S=(a=this._hash.words)[0],I=a[1],E=a[2],x=a[3],o=e[s+0],7,u[0]),x=t(x,S,I,E,l,12,u[1]),E=t(E,x,S,I,c,17,u[2]),I=t(I,E,x,S,h,22,u[3]);S=t(S,I,E,x,f,7,u[4]),x=t(x,S,I,E,d,12,u[5]),E=t(E,x,S,I,p,17,u[6]),I=t(I,E,x,S,v,22,u[7]),S=t(S,I,E,x,g,7,u[8]),x=t(x,S,I,E,m,12,u[9]),E=t(E,x,S,I,y,17,u[10]),I=t(I,E,x,S,k,22,u[11]),S=t(S,I,E,x,b,7,u[12]),x=t(x,S,I,E,C,12,u[13]),E=t(E,x,S,I,w,17,u[14]),S=n(S,I=t(I,E,x,S,_,22,u[15]),E,x,l,5,u[16]),x=n(x,S,I,E,p,9,u[17]),E=n(E,x,S,I,k,14,u[18]),I=n(I,E,x,S,o,20,u[19]),S=n(S,I,E,x,d,5,u[20]),x=n(x,S,I,E,y,9,u[21]),E=n(E,x,S,I,_,14,u[22]),I=n(I,E,x,S,f,20,u[23]),S=n(S,I,E,x,m,5,u[24]),x=n(x,S,I,E,w,9,u[25]),E=n(E,x,S,I,h,14,u[26]),I=n(I,E,x,S,g,20,u[27]),S=n(S,I,E,x,C,5,u[28]),x=n(x,S,I,E,c,9,u[29]),E=n(E,x,S,I,v,14,u[30]),S=i(S,I=n(I,E,x,S,b,20,u[31]),E,x,d,4,u[32]),x=i(x,S,I,E,g,11,u[33]),E=i(E,x,S,I,k,16,u[34]),I=i(I,E,x,S,w,23,u[35]),S=i(S,I,E,x,l,4,u[36]),x=i(x,S,I,E,f,11,u[37]),E=i(E,x,S,I,v,16,u[38]),I=i(I,E,x,S,y,23,u[39]),S=i(S,I,E,x,C,4,u[40]),x=i(x,S,I,E,o,11,u[41]),E=i(E,x,S,I,h,16,u[42]),I=i(I,E,x,S,p,23,u[43]),S=i(S,I,E,x,m,4,u[44]),x=i(x,S,I,E,b,11,u[45]),E=i(E,x,S,I,_,16,u[46]),S=r(S,I=i(I,E,x,S,c,23,u[47]),E,x,o,6,u[48]),x=r(x,S,I,E,v,10,u[49]),E=r(E,x,S,I,w,15,u[50]),I=r(I,E,x,S,d,21,u[51]),S=r(S,I,E,x,b,6,u[52]),x=r(x,S,I,E,h,10,u[53]),E=r(E,x,S,I,y,15,u[54]),I=r(I,E,x,S,l,21,u[55]),S=r(S,I,E,x,g,6,u[56]),x=r(x,S,I,E,_,10,u[57]),E=r(E,x,S,I,p,15,u[58]),I=r(I,E,x,S,C,21,u[59]),S=r(S,I,E,x,f,6,u[60]),x=r(x,S,I,E,k,10,u[61]),E=r(E,x,S,I,c,15,u[62]),I=r(I,E,x,S,m,21,u[63]),a[0]=a[0]+S|0,a[1]=a[1]+I|0,a[2]=a[2]+E|0,a[3]=a[3]+x|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;n[r>>>5]|=128<<24-r%32;var s=e.floor(i/4294967296);for(n[15+(r+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),n[14+(r+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;4>i;i++)n[i]=16711935&((r=n[i])<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=o._createHelper(l),s.HmacMD5=o._createHmacHelper(l)}(Math),function(){var e=g,t=(r=e.lib).WordArray,n=r.Hasher,i=[],r=e.algo.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],s=n[1],a=n[2],o=n[3],l=n[4],u=0;80>u;u++){if(16>u)i[u]=0|e[t+u];else{var c=i[u-3]^i[u-8]^i[u-14]^i[u-16];i[u]=c<<1|c>>>31}c=(r<<5|r>>>27)+l+i[u],c=20>u?c+(1518500249+(s&a|~s&o)):40>u?c+(1859775393+(s^a^o)):60>u?c+((s&a|s&o|a&o)-1894007588):c+((s^a^o)-899497514),l=o,o=a,a=s<<30|s>>>2,s=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+s|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(i+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=n._createHelper(r),e.HmacSHA1=n._createHmacHelper(r)}(),function(e){for(var t=g,n=(r=t.lib).WordArray,i=r.Hasher,r=t.algo,s=[],a=[],o=function(e){return 4294967296*(e-(0|e))|0},l=2,u=0;64>u;){var c;e:{for(var h=e.sqrt(c=l),f=2;f<=h;f++)if(!(c%f)){c=!1;break e}c=!0}c&&(8>u&&(s[u]=o(e.pow(l,.5))),a[u]=o(e.pow(l,1/3)),u++),l++}var d=[];r=r.SHA256=i.extend({_doReset:function(){this._hash=new n.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],s=n[2],o=n[3],l=n[4],u=n[5],c=n[6],h=n[7],f=0;64>f;f++){if(16>f)d[f]=0|e[t+f];else{var p=d[f-15],v=d[f-2];d[f]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[f-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+d[f-16]}p=h+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&u^~l&c)+a[f]+d[f],v=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&s^r&s),h=c,c=u,u=l,l=o+p|0,o=s,s=r,r=i,i=p+v|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0,n[5]=n[5]+u|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(r+64>>>9<<4)]=e.floor(i/4294967296),n[15+(r+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=i._createHelper(r),t.HmacSHA256=i._createHmacHelper(r)}(Math),function(){var e=g,t=e.lib.WordArray,n=(i=e.algo).SHA256,i=i.SHA224=n.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=n._createHelper(i),e.HmacSHA224=n._createHmacHelper(i)}(),function(){function e(){return i.create.apply(i,arguments)}for(var t=g,n=t.lib.Hasher,i=(s=t.x64).Word,r=s.WordArray,s=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],o=[],l=0;80>l;l++)o[l]=e();s=s.SHA512=n.extend({_doReset:function(){this._hash=new r.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n,i=(n=this._hash.words)[0],r=n[1],s=n[2],l=n[3],u=n[4],c=n[5],h=n[6],f=i.high,d=i.low,p=r.high,v=r.low,g=s.high,m=s.low,y=l.high,k=l.low,b=u.high,C=u.low,w=c.high,_=c.low,S=h.high,x=h.low,E=(n=n[7]).high,I=n.low,T=f,F=d,A=p,D=v,O=g,R=m,P=y,L=k,N=b,M=C,V=w,H=_,j=S,B=x,z=E,U=I,G=0;80>G;G++){var q=o[G];if(16>G)var K=q.high=0|e[t+2*G],W=q.low=0|e[t+2*G+1];else{K=((W=(K=o[G-15]).high)>>>1|($=K.low)<<31)^(W>>>8|$<<24)^W>>>7;var $=($>>>1|W<<31)^($>>>8|W<<24)^($>>>7|W<<25),Z=((W=(Z=o[G-2]).high)>>>19|(Y=Z.low)<<13)^(W<<3|Y>>>29)^W>>>6,Y=(Y>>>19|W<<13)^(Y<<3|W>>>29)^(Y>>>6|W<<26);q.high=K=(K=(K=K+(Q=(W=o[G-7]).high)+((W=$+W.low)>>>0<$>>>0?1:0))+Z+((W+=Y)>>>0<Y>>>0?1:0))+(ne=(J=o[G-16]).high)+((W+=J=J.low)>>>0<J>>>0?1:0),q.low=W}var Q=N&V^~N&j,J=M&H^~M&B,X=(q=T&A^T&O^A&O,F&D^F&R^D&R),ee=(Y=a[G]).high,te=Y.low,ne=z+((N>>>14|M<<18)^(N>>>18|M<<14)^(N<<23|M>>>9))+((Y=U+((M>>>14|N<<18)^(M>>>18|N<<14)^(M<<23|N>>>9)))>>>0<U>>>0?1:0);z=j,U=B,j=V,B=H,V=N,H=M,N=P+(ne=(ne=(ne=ne+Q+((Y+=J)>>>0<J>>>0?1:0))+ee+((Y+=te)>>>0<te>>>0?1:0))+K+((Y+=W)>>>0<W>>>0?1:0))+((M=L+Y|0)>>>0<L>>>0?1:0)|0,P=O,L=R,O=A,R=D,A=T,D=F,T=ne+(q=($=(T>>>28|F<<4)^(T<<30|F>>>2)^(T<<25|F>>>7))+q+((W=(Z=(F>>>28|T<<4)^(F<<30|T>>>2)^(F<<25|T>>>7))+X)>>>0<Z>>>0?1:0))+((F=Y+W|0)>>>0<Y>>>0?1:0)|0}d=i.low=d+F,i.high=f+T+(d>>>0<F>>>0?1:0),v=r.low=v+D,r.high=p+A+(v>>>0<D>>>0?1:0),m=s.low=m+R,s.high=g+O+(m>>>0<R>>>0?1:0),k=l.low=k+L,l.high=y+P+(k>>>0<L>>>0?1:0),C=u.low=C+M,u.high=b+N+(C>>>0<M>>>0?1:0),_=c.low=_+H,c.high=w+V+(_>>>0<H>>>0?1:0),x=h.low=x+B,h.high=S+j+(x>>>0<B>>>0?1:0),I=n.low=I+U,n.high=E+z+(I>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[30+(i+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(i+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(s),t.HmacSHA512=n._createHmacHelper(s)}(),function(){var e=g,t=(r=e.x64).Word,n=r.WordArray,i=(r=e.algo).SHA512,r=r.SHA384=i.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=i._createHelper(r),e.HmacSHA384=i._createHmacHelper(r)}(),function(){var e=g,t=(i=e.lib).WordArray,n=i.Hasher,i=e.algo,r=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),s=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),a=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),o=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=t.create([0,1518500249,1859775393,2400959708,2840853838]),u=t.create([1352829926,1548603684,1836072691,2053994217,0]);i=i.RIPEMD160=n.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;16>n;n++)e[i=t+n]=16711935&((C=e[i])<<8|C>>>24)|4278255360&(C<<24|C>>>8);var i,c,h,f,d,p,v,g,m,y,k,b,C=l.words,w=u.words,_=r.words,S=s.words,x=a.words,E=o.words;for(v=c=(i=this._hash.words)[0],g=h=i[1],m=f=i[2],y=d=i[3],k=p=i[4],n=0;80>n;n+=1)b=c+e[t+_[n]]|0,b=16>n?b+((h^f^d)+C[0]):32>n?b+((h&f|~h&d)+C[1]):48>n?b+(((h|~f)^d)+C[2]):64>n?b+((h&d|f&~d)+C[3]):b+((h^(f|~d))+C[4]),b=(b=(b|=0)<<x[n]|b>>>32-x[n])+p|0,c=p,p=d,d=f<<10|f>>>22,f=h,h=b,b=v+e[t+S[n]]|0,b=16>n?b+((g^(m|~y))+w[0]):32>n?b+((g&y|m&~y)+w[1]):48>n?b+(((g|~m)^y)+w[2]):64>n?b+((g&m|~g&y)+w[3]):b+((g^m^y)+w[4]),b=(b=(b|=0)<<E[n]|b>>>32-E[n])+k|0,v=k,k=y,y=m<<10|m>>>22,m=g,g=b;b=i[1]+f+y|0,i[1]=i[2]+d+k|0,i[2]=i[3]+p+v|0,i[3]=i[4]+c+g|0,i[4]=i[0]+h+m|0,i[0]=b},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;for(t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,n=0;5>n;n++)t[n]=16711935&((i=t[n])<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=n._createHelper(i),e.HmacRIPEMD160=n._createHmacHelper(i)}(Math),function(){var e=g.enc.Utf8;g.algo.HMAC=g.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=e.parse(n));var i=t.blockSize,r=4*i;n.sigBytes>r&&(n=t.finalize(n)),n.clamp();for(var s=this._oKey=n.clone(),a=this._iKey=n.clone(),o=s.words,l=a.words,u=0;u<i;u++)o[u]^=1549556828,l[u]^=909522486;s.sigBytes=a.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=g,n=(e=t.lib).Base,i=e.WordArray,r=(e=t.algo).HMAC,s=e.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=r.create((c=this.cfg).hasher,e),s=i.create(),a=i.create([1]),o=s.words,l=a.words,u=c.keySize,c=c.iterations;o.length<u;){var h=n.update(t).finalize(a);n.reset();for(var f=h.words,d=f.length,p=h,v=1;v<c;v++){p=n.finalize(p),n.reset();for(var g=p.words,m=0;m<d;m++)f[m]^=g[m]}s.concat(h),l[0]++}return s.sigBytes=4*u,s}});t.PBKDF2=function(e,t,n){return s.create(n).compute(e,t)}}();var m,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function k(e){var t,n,i="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),i+=y.charAt(n>>6)+y.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),i+=y.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),i+=y.charAt(n>>2)+y.charAt((3&n)<<4));(3&i.length)>0;)i+="=";return i}function b(e){var t,n,i,r="",s=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(i=y.indexOf(e.charAt(t)))<0||(0==s?(r+=I(i>>2),n=3&i,s=1):1==s?(r+=I(n<<2|i>>4),n=15&i,s=2):2==s?(r+=I(n),r+=I(i>>2),n=3&i,s=3):(r+=I(n<<2|i>>4),r+=I(15&i),s=0));return 1==s&&(r+=I(n<<2)),r}function C(e){var t,n=b(e),i=new Array;for(t=0;2*t<n.length;++t)i[t]=parseInt(n.substring(2*t,2*t+2),16);return i}function w(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):this.fromString(e,null==t&&"string"!=typeof e?256:t))}function _(){return new w(null)}"Microsoft Internet Explorer"==n.appName?(w.prototype.am=function(e,t,n,i,r,s){for(var a=32767&t,o=t>>15;--s>=0;){var l=32767&this[e],u=this[e++]>>15,c=o*l+u*a;r=((l=a*l+((32767&c)<<15)+n[i]+(1073741823&r))>>>30)+(c>>>15)+o*u+(r>>>30),n[i++]=1073741823&l}return r},m=30):"Netscape"!=n.appName?(w.prototype.am=function(e,t,n,i,r,s){for(;--s>=0;){var a=t*this[e++]+n[i]+r;r=Math.floor(a/67108864),n[i++]=67108863&a}return r},m=26):(w.prototype.am=function(e,t,n,i,r,s){for(var a=16383&t,o=t>>14;--s>=0;){var l=16383&this[e],u=this[e++]>>14,c=o*l+u*a;r=((l=a*l+((16383&c)<<14)+n[i]+r)>>28)+(c>>14)+o*u,n[i++]=268435455&l}return r},m=28),w.prototype.DB=m,w.prototype.DM=(1<<m)-1,w.prototype.DV=1<<m,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-m,w.prototype.F2=2*m-52;var S,x,E=new Array;for(S="0".charCodeAt(0),x=0;x<=9;++x)E[S++]=x;for(S="a".charCodeAt(0),x=10;x<36;++x)E[S++]=x;for(S="A".charCodeAt(0),x=10;x<36;++x)E[S++]=x;function I(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function T(e,t){var n=E[e.charCodeAt(t)];return null==n?-1:n}function F(e){var t=_();return t.fromInt(e),t}function A(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function D(e){this.m=e}function O(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function R(e,t){return e&t}function P(e,t){return e|t}function L(e,t){return e^t}function N(e,t){return e&~t}function M(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function V(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function H(){}function j(e){return e}function B(e){this.r2=_(),this.q3=_(),w.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}D.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},D.prototype.revert=function(e){return e},D.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},D.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},D.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},O.prototype.convert=function(e){var t=_();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(w.ZERO)>0&&this.m.subTo(t,t),t},O.prototype.revert=function(e){var t=_();return e.copyTo(t),this.reduce(t),t},O.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],i=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,i,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},O.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},O.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},w.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},w.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},w.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var i=e.length,r=!1,s=0;--i>=0;){var a=8==n?255&e[i]:T(e,i);a<0?"-"==e.charAt(i)&&(r=!0):(r=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),r&&w.ZERO.subTo(this,this)},w.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},w.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},w.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},w.prototype.lShiftTo=function(e,t){var n,i=e%this.DB,r=this.DB-i,s=(1<<r)-1,a=Math.floor(e/this.DB),o=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>r|o,o=(this[n]&s)<<i;for(n=a-1;n>=0;--n)t[n]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},w.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var i=e%this.DB,r=this.DB-i,s=(1<<i)-1;t[0]=this[n]>>i;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&s)<<r,t[a-n]=this[a]>>i;i>0&&(t[this.t-n-1]|=(this.s&s)<<r),t.t=this.t-n,t.clamp()}},w.prototype.subTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]-e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i-=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i-=e[n],t[n++]=i&this.DM,i>>=this.DB;i-=e.s}t.s=i<0?-1:0,i<-1?t[n++]=this.DV+i:i>0&&(t[n++]=i),t.t=n,t.clamp()},w.prototype.multiplyTo=function(e,t){var n=this.abs(),i=e.abs(),r=n.t;for(t.t=r+i.t;--r>=0;)t[r]=0;for(r=0;r<i.t;++r)t[r+n.t]=n.am(0,i[r],t,r,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&w.ZERO.subTo(t,t)},w.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var i=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,i,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},w.prototype.divRemTo=function(e,t,n){var i=e.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=_());var s=_(),a=this.s,o=e.s,l=this.DB-A(i[i.t-1]);l>0?(i.lShiftTo(l,s),r.lShiftTo(l,n)):(i.copyTo(s),r.copyTo(n));var u=s.t,c=s[u-1];if(0!=c){var h=c*(1<<this.F1)+(u>1?s[u-2]>>this.F2:0),f=this.FV/h,d=(1<<this.F1)/h,p=1<<this.F2,v=n.t,g=v-u,m=null==t?_():t;for(s.dlShiftTo(g,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),w.ONE.dlShiftTo(u,m),m.subTo(s,s);s.t<u;)s[s.t++]=0;for(;--g>=0;){var y=n[--v]==c?this.DM:Math.floor(n[v]*f+(n[v-1]+p)*d);if((n[v]+=s.am(0,y,n,g,0,u))<y)for(s.dlShiftTo(g,m),n.subTo(m,n);n[v]<--y;)n.subTo(m,n)}null!=t&&(n.drShiftTo(u,t),a!=o&&w.ZERO.subTo(t,t)),n.t=u,n.clamp(),l>0&&n.rShiftTo(l,n),a<0&&w.ZERO.subTo(n,n)}}},w.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},w.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},w.prototype.exp=function(e,t){if(e>4294967295||e<1)return w.ONE;var n=_(),i=_(),r=t.convert(this),s=A(e)-1;for(r.copyTo(n);--s>=0;)if(t.sqrTo(n,i),(e&1<<s)>0)t.mulTo(i,r,n);else{var a=n;n=i,i=a}return t.revert(n)},w.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,i=(1<<t)-1,r=!1,s="",a=this.t,o=this.DB-a*this.DB%t;if(a-- >0)for(o<this.DB&&(n=this[a]>>o)>0&&(r=!0,s=I(n));a>=0;)o<t?(n=(this[a]&(1<<o)-1)<<t-o,n|=this[--a]>>(o+=this.DB-t)):(n=this[a]>>(o-=t)&i,o<=0&&(o+=this.DB,--a)),n>0&&(r=!0),r&&(s+=I(n));return r?s:"0"},w.prototype.negate=function(){var e=_();return w.ZERO.subTo(this,e),e},w.prototype.abs=function(){return this.s<0?this.negate():this},w.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},w.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+A(this[this.t-1]^this.s&this.DM)},w.prototype.mod=function(e){var t=_();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(w.ZERO)>0&&e.subTo(t,t),t},w.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new D(t):new O(t),this.exp(e,n)},w.ZERO=F(0),w.ONE=F(1),H.prototype.convert=j,H.prototype.revert=j,H.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},H.prototype.sqrTo=function(e,t){e.squareTo(t)},B.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=_();return e.copyTo(t),this.reduce(t),t},B.prototype.revert=function(e){return e},B.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},B.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},B.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var z,U,G,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],K=(1<<26)/q[q.length-1];function W(){this.i=0,this.j=0,this.S=new Array}function $(){!function(e){U[G++]^=255&e,U[G++]^=e>>8&255,U[G++]^=e>>16&255,U[G++]^=e>>24&255,G>=256&&(G-=256)}((new Date).getTime())}if(w.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},w.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),i=F(n),r=_(),s=_(),a="";for(this.divRemTo(i,r,s);r.signum()>0;)a=(n+s.intValue()).toString(e).substr(1)+a,r.divRemTo(i,r,s);return s.intValue().toString(e)+a},w.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),i=Math.pow(t,n),r=!1,s=0,a=0,o=0;o<e.length;++o){var l=T(e,o);l<0?"-"==e.charAt(o)&&0==this.signum()&&(r=!0):(a=t*a+l,++s>=n&&(this.dMultiply(i),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(t,s)),this.dAddOffset(a,0)),r&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(w.ONE.shiftLeft(e-1),P,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(w.ONE.shiftLeft(e-1),this);else{var i=new Array,r=7&e;i.length=1+(e>>3),t.nextBytes(i),r>0?i[0]&=(1<<r)-1:i[0]=0,this.fromString(i,256)}},w.prototype.bitwiseTo=function(e,t,n){var i,r,s=Math.min(e.t,this.t);for(i=0;i<s;++i)n[i]=t(this[i],e[i]);if(e.t<this.t){for(r=e.s&this.DM,i=s;i<this.t;++i)n[i]=t(this[i],r);n.t=this.t}else{for(r=this.s&this.DM,i=s;i<e.t;++i)n[i]=t(r,e[i]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},w.prototype.changeBit=function(e,t){var n=w.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},w.prototype.addTo=function(e,t){for(var n=0,i=0,r=Math.min(e.t,this.t);n<r;)i+=this[n]+e[n],t[n++]=i&this.DM,i>>=this.DB;if(e.t<this.t){for(i+=e.s;n<this.t;)i+=this[n],t[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<e.t;)i+=e[n],t[n++]=i&this.DM,i>>=this.DB;i+=e.s}t.s=i<0?-1:0,i>0?t[n++]=i:i<-1&&(t[n++]=this.DV+i),t.t=n,t.clamp()},w.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},w.prototype.multiplyLowerTo=function(e,t,n){var i,r=Math.min(this.t+e.t,t);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,e[r],n,r,0,this.t);for(i=Math.min(e.t,t);r<i;++r)this.am(0,e[r],n,r,0,t-r);n.clamp()},w.prototype.multiplyUpperTo=function(e,t,n){--t;var i=n.t=this.t+e.t-t;for(n.s=0;--i>=0;)n[i]=0;for(i=Math.max(t-this.t,0);i<e.t;++i)n[this.t+i-t]=this.am(t-i,e[i],n,0,0,this.t+i-t);n.clamp(),n.drShiftTo(1,n)},w.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var i=this.t-1;i>=0;--i)n=(t*n+this[i])%e;return n},w.prototype.millerRabin=function(e){var t=this.subtract(w.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var i=t.shiftRight(n);(e=e+1>>1)>q.length&&(e=q.length);for(var r=_(),s=0;s<e;++s){r.fromInt(q[Math.floor(Math.random()*q.length)]);var a=r.modPow(i,this);if(0!=a.compareTo(w.ONE)&&0!=a.compareTo(t)){for(var o=1;o++<n&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},w.prototype.clone=function(){var e=_();return this.copyTo(e),e},w.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},w.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},w.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},w.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},w.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,i=this.DB-e*this.DB%8,r=0;if(e-- >0)for(i<this.DB&&(n=this[e]>>i)!=(this.s&this.DM)>>i&&(t[r++]=n|this.s<<this.DB-i);e>=0;)i<8?(n=(this[e]&(1<<i)-1)<<8-i,n|=this[--e]>>(i+=this.DB-8)):(n=this[e]>>(i-=8)&255,i<=0&&(i+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==r&&(128&this.s)!=(128&n)&&++r,(r>0||n!=this.s)&&(t[r++]=n);return t},w.prototype.equals=function(e){return 0==this.compareTo(e)},w.prototype.min=function(e){return this.compareTo(e)<0?this:e},w.prototype.max=function(e){return this.compareTo(e)>0?this:e},w.prototype.and=function(e){var t=_();return this.bitwiseTo(e,R,t),t},w.prototype.or=function(e){var t=_();return this.bitwiseTo(e,P,t),t},w.prototype.xor=function(e){var t=_();return this.bitwiseTo(e,L,t),t},w.prototype.andNot=function(e){var t=_();return this.bitwiseTo(e,N,t),t},w.prototype.not=function(){for(var e=_(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},w.prototype.shiftLeft=function(e){var t=_();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},w.prototype.shiftRight=function(e){var t=_();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},w.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+M(this[e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=V(this[n]^t);return e},w.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},w.prototype.setBit=function(e){return this.changeBit(e,P)},w.prototype.clearBit=function(e){return this.changeBit(e,N)},w.prototype.flipBit=function(e){return this.changeBit(e,L)},w.prototype.add=function(e){var t=_();return this.addTo(e,t),t},w.prototype.subtract=function(e){var t=_();return this.subTo(e,t),t},w.prototype.multiply=function(e){var t=_();return this.multiplyTo(e,t),t},w.prototype.divide=function(e){var t=_();return this.divRemTo(e,t,null),t},w.prototype.remainder=function(e){var t=_();return this.divRemTo(e,null,t),t},w.prototype.divideAndRemainder=function(e){var t=_(),n=_();return this.divRemTo(e,t,n),new Array(t,n)},w.prototype.modPow=function(e,t){var n,i,r=e.bitLength(),s=F(1);if(r<=0)return s;n=r<18?1:r<48?3:r<144?4:r<768?5:6,i=r<8?new D(t):t.isEven()?new B(t):new O(t);var a=new Array,o=3,l=n-1,u=(1<<n)-1;if(a[1]=i.convert(this),n>1){var c=_();for(i.sqrTo(a[1],c);o<=u;)a[o]=_(),i.mulTo(c,a[o-2],a[o]),o+=2}var h,f,d=e.t-1,p=!0,v=_();for(r=A(e[d])-1;d>=0;){for(r>=l?h=e[d]>>r-l&u:(h=(e[d]&(1<<r+1)-1)<<l-r,d>0&&(h|=e[d-1]>>this.DB+r-l)),o=n;0==(1&h);)h>>=1,--o;if((r-=o)<0&&(r+=this.DB,--d),p)a[h].copyTo(s),p=!1;else{for(;o>1;)i.sqrTo(s,v),i.sqrTo(v,s),o-=2;o>0?i.sqrTo(s,v):(f=s,s=v,v=f),i.mulTo(v,a[h],s)}for(;d>=0&&0==(e[d]&1<<r);)i.sqrTo(s,v),f=s,s=v,v=f,--r<0&&(r=this.DB-1,--d)}return i.revert(s)},w.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return w.ZERO;for(var n=e.clone(),i=this.clone(),r=F(1),s=F(0),a=F(0),o=F(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(r.isEven()&&s.isEven()||(r.addTo(this,r),s.subTo(e,s)),r.rShiftTo(1,r)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),t?(a.isEven()&&o.isEven()||(a.addTo(this,a),o.subTo(e,o)),a.rShiftTo(1,a)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);n.compareTo(i)>=0?(n.subTo(i,n),t&&r.subTo(a,r),s.subTo(o,s)):(i.subTo(n,i),t&&a.subTo(r,a),o.subTo(s,o))}return 0!=i.compareTo(w.ONE)?w.ZERO:o.compareTo(e)>=0?o.subtract(e):o.signum()<0?(o.addTo(e,o),o.signum()<0?o.add(e):o):o},w.prototype.pow=function(e){return this.exp(e,new H)},w.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var i=t;t=n,n=i}var r=t.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return t;for(r<s&&(s=r),s>0&&(t.rShiftTo(s,t),n.rShiftTo(s,n));t.signum()>0;)(r=t.getLowestSetBit())>0&&t.rShiftTo(r,t),(r=n.getLowestSetBit())>0&&n.rShiftTo(r,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n},w.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(n[0]==q[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<q.length;){for(var i=q[t],r=t+1;r<q.length&&i<K;)i*=q[r++];for(i=n.modInt(i);t<r;)if(i%q[t++]==0)return!1}return n.millerRabin(e)},w.prototype.square=function(){var e=_();return this.squareTo(e),e},W.prototype.init=function(e){var t,n,i;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)i=this.S[t],this.S[t]=this.S[n=n+this.S[t]+e[t%e.length]&255],this.S[n]=i;this.i=0,this.j=0},W.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==U){var Z;if(U=new Array,G=0,void 0!==i&&(void 0!==i.crypto||void 0!==i.msCrypto)){var Y=i.crypto||i.msCrypto;if(Y.getRandomValues){var Q=new Uint8Array(32);for(Y.getRandomValues(Q),Z=0;Z<32;++Z)U[G++]=Q[Z]}else if("Netscape"==n.appName&&n.appVersion<"5"){var J=i.crypto.random(32);for(Z=0;Z<J.length;++Z)U[G++]=255&J.charCodeAt(Z)}}for(;G<256;)Z=Math.floor(65536*Math.random()),U[G++]=Z>>>8,U[G++]=255&Z;G=0,$()}function X(){if(null==z){for($(),(z=new W).init(U),G=0;G<U.length;++G)U[G]=0;G=0}return z.next()}function ee(){}function te(e,t){return new w(e,t)}function ne(e,t,n){for(var i="",r=0;i.length<t;)i+=n(String.fromCharCode.apply(String,e.concat([(4278190080&r)>>24,(16711680&r)>>16,(65280&r)>>8,255&r]))),r+=1;return i}function ie(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function re(e,t,n){for(var i="",r=0;i.length<t;)i+=n(e+String.fromCharCode.apply(String,[(4278190080&r)>>24,(16711680&r)>>16,(65280&r)>>8,255&r])),r+=1;return i}function se(e,t){this.x=t,this.q=e}function ae(e,t,n,i){this.curve=e,this.x=t,this.y=n,this.z=null==i?w.ONE:i,this.zinv=null}function oe(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new ae(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=X()},ie.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ie.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},ie.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,i=e.length-1;i>=0&&t>0;){var r=e.charCodeAt(i--);r<128?n[--t]=r:r>127&&r<2048?(n[--t]=63&r|128,n[--t]=r>>6|192):(n[--t]=63&r|128,n[--t]=r>>6&63|128,n[--t]=r>>12|224)}n[--t]=0;for(var s=new ee,a=new Array;t>2;){for(a[0]=0;0==a[0];)s.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new w(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i},ie.prototype.encryptOAEP=function(e,t,n){var i=function(e,t,n,i){var r=ue.crypto.MessageDigest,s=ue.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=r.getCanonicalAlgName(n),i=r.getHashLength(a),n=function(e){return _e(s.hashHex(Se(e),a))}),e.length+2*i+2>t)throw"Message too long for RSA";var o,l="";for(o=0;o<t-e.length-2*i-2;o+=1)l+="\0";var u=n("")+l+"\x01"+e,c=new Array(i);(new ee).nextBytes(c);var h=ne(c,u.length,n),f=[];for(o=0;o<u.length;o+=1)f[o]=u.charCodeAt(o)^h.charCodeAt(o);var d=ne(f,c.length,n),p=[0];for(o=0;o<c.length;o+=1)p[o+1]=c[o]^d.charCodeAt(o);return new w(p.concat(f))}(e,this.n.bitLength()+7>>3,t,n);if(null==i)return null;var r=this.doPublic(i);if(null==r)return null;var s=r.toString(16);return 0==(1&s.length)?s:"0"+s},ie.prototype.type="RSA",ie.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),n=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(n)<0;)t=t.add(this.p);return t.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},ie.prototype.setPrivate=function(e,t,n){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=n;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(n,16)}},ie.prototype.setPrivateEx=function(e,t,n,i,r,s,a,o){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(n,16),this.p=te(i,16),this.q=te(r,16),this.dmp1=te(s,16),this.dmq1=te(a,16),this.coeff=te(o,16)},ie.prototype.generate=function(e,t){var n=new ee,i=e>>1;this.e=parseInt(t,16);for(var r=new w(t,16);;){for(;this.p=new w(e-i,1,n),0!=this.p.subtract(w.ONE).gcd(r).compareTo(w.ONE)||!this.p.isProbablePrime(10););for(;this.q=new w(i,1,n),0!=this.q.subtract(w.ONE).gcd(r).compareTo(w.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var a=this.p.subtract(w.ONE),o=this.q.subtract(w.ONE),l=a.multiply(o);if(0==l.gcd(r).compareTo(w.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=r.modInverse(l),this.dmp1=this.d.mod(a),this.dmq1=this.d.mod(o),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},ie.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=te(e,16),n=this.doPrivate(t);return null==n?null:function(e,t){for(var n=e.toByteArray(),i=0;i<n.length&&0==n[i];)++i;if(n.length-i!=t-1||2!=n[i])return null;for(++i;0!=n[i];)if(++i>=n.length)return null;for(var r="";++i<n.length;){var s=255&n[i];s<128?r+=String.fromCharCode(s):s>191&&s<224?(r+=String.fromCharCode((31&s)<<6|63&n[i+1]),++i):(r+=String.fromCharCode((15&s)<<12|(63&n[i+1])<<6|63&n[i+2]),i+=2)}return r}(n,this.n.bitLength()+7>>3)},ie.prototype.decryptOAEP=function(e,t,n){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var i=te(e,16),r=this.doPrivate(i);return null==r?null:function(e,t,n,i){var r=ue.crypto.MessageDigest,s=ue.crypto.Util,a=null;for(n||(n="sha1"),"string"==typeof n&&(a=r.getCanonicalAlgName(n),i=r.getHashLength(a),n=function(e){return _e(s.hashHex(Se(e),a))}),e=e.toByteArray(),o=0;o<e.length;o+=1)e[o]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*i+2)throw"Cipher too short";var o,l=e.substr(1,i),u=e.substr(i+1),c=re(u,i,n),h=[];for(o=0;o<l.length;o+=1)h[o]=l.charCodeAt(o)^c.charCodeAt(o);var f=re(String.fromCharCode.apply(String,h),e.length-i,n),d=[];for(o=0;o<u.length;o+=1)d[o]=u.charCodeAt(o)^f.charCodeAt(o);if((d=String.fromCharCode.apply(String,d)).substr(0,i)!==n(""))throw"Hash mismatch";var p=(d=d.substr(i)).indexOf("\x01");if((-1!=p?d.substr(0,p).lastIndexOf("\0"):-1)+1!=p)throw"Malformed data";return d.substr(p+1)}(r,this.n.bitLength()+7>>3,t,n)},se.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},se.prototype.toBigInteger=function(){return this.x},se.prototype.negate=function(){return new se(this.q,this.x.negate().mod(this.q))},se.prototype.add=function(e){return new se(this.q,this.x.add(e.toBigInteger()).mod(this.q))},se.prototype.subtract=function(e){return new se(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},se.prototype.multiply=function(e){return new se(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},se.prototype.square=function(){return new se(this.q,this.x.square().mod(this.q))},se.prototype.divide=function(e){return new se(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},ae.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},ae.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(w.ZERO))},ae.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(w.ZERO)&&!this.y.toBigInteger().equals(w.ZERO)},ae.prototype.negate=function(){return new ae(this.curve,this.x,this.y.negate(),this.z)},ae.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(w.ZERO.equals(n))return w.ZERO.equals(t)?this.twice():this.curve.getInfinity();var i=new w("3"),r=this.x.toBigInteger(),s=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),o=a.multiply(n),l=r.multiply(a),u=t.square().multiply(this.z),c=u.subtract(l.shiftLeft(1)).multiply(e.z).subtract(o).multiply(n).mod(this.curve.q),h=l.multiply(i).multiply(t).subtract(s.multiply(o)).subtract(u.multiply(t)).multiply(e.z).add(t.multiply(o)).mod(this.curve.q),f=o.multiply(this.z).multiply(e.z).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(c),this.curve.fromBigInteger(h),f)},ae.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new w("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),i=n.multiply(this.z),r=i.multiply(n).mod(this.curve.q),s=this.curve.a.toBigInteger(),a=t.square().multiply(e);w.ZERO.equals(s)||(a=a.add(this.z.square().multiply(s)));var o=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(r)).shiftLeft(1).multiply(i).mod(this.curve.q),l=a.multiply(e).multiply(t).subtract(r.shiftLeft(1)).shiftLeft(2).multiply(r).subtract(a.square().multiply(a)).mod(this.curve.q),u=i.square().multiply(i).shiftLeft(3).mod(this.curve.q);return new ae(this.curve,this.curve.fromBigInteger(o),this.curve.fromBigInteger(l),u)},ae.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,i=n.multiply(new w("3")),r=this.negate(),s=this,a=this.curve.q.subtract(e),o=a.multiply(new w("3")),l=new ae(this.curve,this.x,this.y),u=l.negate();for(t=i.bitLength()-2;t>0;--t){s=s.twice();var c=i.testBit(t);c!=n.testBit(t)&&(s=s.add(c?this:r))}for(t=o.bitLength()-2;t>0;--t){l=l.twice();var h=o.testBit(t);h!=a.testBit(t)&&(l=l.add(h?l:u))}return s},ae.prototype.multiplyTwo=function(e,t,n){var i;i=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var r=this.curve.getInfinity(),s=this.add(t);i>=0;)r=r.twice(),e.testBit(i)?r=n.testBit(i)?r.add(s):r.add(this):n.testBit(i)&&(r=r.add(t)),--i;return r},oe.prototype.getQ=function(){return this.q},oe.prototype.getA=function(){return this.a},oe.prototype.getB=function(){return this.b},oe.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},oe.prototype.getInfinity=function(){return this.infinity},oe.prototype.fromBigInteger=function(e){return new se(this.q,e)},oe.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),i=e.substr(t+2,t);return new ae(this,this.fromBigInteger(new w(n,16)),this.fromBigInteger(new w(i,16)));default:return null}},se.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},ae.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),i=this.getY().toBigInteger(),r=t(n,32);return e?i.isEven()?r.unshift(2):r.unshift(3):(r.unshift(4),r=r.concat(t(i,32))),r},ae.decodeFrom=function(e,t){var n=t.length-1,i=t.slice(1,1+n/2),r=t.slice(1+n/2,1+n);i.unshift(0),r.unshift(0);var s=new w(i),a=new w(r);return new ae(e,e.fromBigInteger(s),e.fromBigInteger(a))},ae.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,i=t.substr(2,n/2),r=t.substr(2+n/2,n/2),s=new w(i,16),a=new w(r,16);return new ae(e,e.fromBigInteger(s),e.fromBigInteger(a))},ae.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),i=n.square().subtract(this.x).subtract(e.x),r=n.multiply(this.x.subtract(i)).subtract(this.y);return new ae(this.curve,i,r)},ae.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(w.valueOf(2)),t=this.curve.fromBigInteger(w.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),i=n.square().subtract(this.x.multiply(e)),r=n.multiply(this.x.subtract(i)).subtract(this.y);return new ae(this.curve,i,r)},ae.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,i=n.multiply(new w("3")),r=this.negate(),s=this;for(t=i.bitLength()-2;t>0;--t){s=s.twice();var a=i.testBit(t);a!=n.testBit(t)&&(s=s.add2D(a?this:r))}return s},ae.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),i=this.curve.getB().toBigInteger(),r=this.curve.getQ(),s=t.multiply(t).mod(r),a=e.multiply(e).multiply(e).add(n.multiply(e)).add(i).mod(r);return s.equals(a)},ae.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},ae.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(w.ONE)<0||t.compareTo(e.subtract(w.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(w.ONE)<0||n.compareTo(e.subtract(w.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var le=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e,t,i){return t?n[t]:String.fromCharCode(parseInt(i,16))}var r=new String(""),s=Object.hasOwnProperty;return function(n,a){var o,l,u=n.match(e),c=u[0],h=!1;"{"===c?o={}:"["===c?o=[]:(o=[],h=!0);for(var f=[o],d=1-h,p=u.length;d<p;++d){var v;switch((c=u[d]).charCodeAt(0)){default:(v=f[0])[l||v.length]=+c,l=void 0;break;case 34:if(-1!==(c=c.substring(1,c.length-1)).indexOf("\\")&&(c=c.replace(t,i)),v=f[0],!l){if(!(v instanceof Array)){l=c||r;break}l=v.length}v[l]=c,l=void 0;break;case 91:f.unshift((v=f[0])[l||v.length]=[]),l=void 0;break;case 93:f.shift();break;case 102:(v=f[0])[l||v.length]=!1,l=void 0;break;case 110:(v=f[0])[l||v.length]=null,l=void 0;break;case 116:(v=f[0])[l||v.length]=!0,l=void 0;break;case 123:f.unshift((v=f[0])[l||v.length]={}),l=void 0;break;case 125:f.shift()}}if(h){if(1!==f.length)throw new Error;o=o[0]}else if(f.length)throw new Error;if(a){o=function e(t,n){var i=t[n];if(i&&"object"==typeof i){var r=null;for(var o in i)if(s.call(i,o)&&i!==t){var l=e(i,o);void 0!==l?i[o]=l:(r||(r=[]),r.push(o))}if(r)for(var u=r.length;--u>=0;)delete i[r[u]]}return a.call(t,n,i)}({"":o},"")}return o}}();void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),ue.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var i="",r=0;r<n;r++)i+="f";t=new w(i,16).xor(e).add(w.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Te(e,t)},this.newObject=function(e){var t=ue.asn1,n=t.DERBoolean,i=t.DERInteger,r=t.DERBitString,s=t.DEROctetString,a=t.DERNull,o=t.DERObjectIdentifier,l=t.DEREnumerated,u=t.DERUTF8String,c=t.DERNumericString,h=t.DERPrintableString,f=t.DERTeletexString,d=t.DERIA5String,p=t.DERUTCTime,v=t.DERGeneralizedTime,g=t.DERVisibleString,m=t.DERBMPString,y=t.DERSequence,k=t.DERSet,b=t.DERTaggedObject,C=t.ASN1Util.newObject,w=Object.keys(e);if(1!=w.length)throw"key of param shall be only one.";var _=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+_+":"))throw new Error("undefined key: "+_);if("bool"==_)return new n(e[_]);if("int"==_)return new i(e[_]);if("bitstr"==_)return new r(e[_]);if("octstr"==_)return new s(e[_]);if("null"==_)return new a(e[_]);if("oid"==_)return new o(e[_]);if("enum"==_)return new l(e[_]);if("utf8str"==_)return new u(e[_]);if("numstr"==_)return new c(e[_]);if("prnstr"==_)return new h(e[_]);if("telstr"==_)return new f(e[_]);if("ia5str"==_)return new d(e[_]);if("utctime"==_)return new p(e[_]);if("gentime"==_)return new v(e[_]);if("visstr"==_)return new g(e[_]);if("bmpstr"==_)return new m(e[_]);if("seq"==_){for(var S=e[_],x=[],E=0;E<S.length;E++){var I=C(S[E]);x.push(I)}return new y({array:x})}if("set"==_){for(S=e[_],x=[],E=0;E<S.length;E++)I=C(S[E]),x.push(I);return new k({array:x})}if("tag"==_){var T=e[_];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var F=C(T[2]);return new b({tag:T[0],explicit:T[1],obj:F})}var A={};if(void 0!==T.explicit&&(A.explicit=T.explicit),void 0!==T.tag&&(A.tag=T.tag),void 0===T.obj)throw"obj shall be specified for 'tag'.";return A.obj=C(T.obj),new b(A)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ue.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),i=(t=Math.floor(n/40)+"."+n%40,""),r=2;r<e.length;r+=2){var s=("00000000"+parseInt(e.substr(r,2),16).toString(2)).slice(-8);i+=s.substr(1,7),"0"==s.substr(0,1)&&(t=t+"."+new w(i,2).toString(10),i="")}return t},ue.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",i=new w(e,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var s="",a=0;a<r;a++)s+="0";for(i=s+i,a=0;a<i.length-1;a+=7){var o=i.substr(a,7);a!=i.length-7&&(o="1"+o),n+=t(parseInt(o,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",r=e.split("."),s=40*parseInt(r[0])+parseInt(r[1]);i+=t(s),r.splice(0,2);for(var a=0;a<r.length;a++)i+=n(r[a]);return i},ue.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ue.asn1.DERAbstractString=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Ce(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},r.lang.extend(ue.asn1.DERAbstractString,ue.asn1.ASN1Object),ue.asn1.DERAbstractTime=function(e){ue.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var i=this.zeroPadding,r=this.localDateToUTC(e),s=String(r.getFullYear());"utc"==t&&(s=s.substr(2,2));var a=s+i(String(r.getMonth()+1),2)+i(String(r.getDate()),2)+i(String(r.getHours()),2)+i(String(r.getMinutes()),2)+i(String(r.getSeconds()),2);if(!0===n){var o=r.getMilliseconds();if(0!=o){var l=i(String(o),3);a=a+"."+(l=l.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ge(e)},this.setByDateValue=function(e,t,n,i,r,s){var a=new Date(Date.UTC(e,t-1,n,i,r,s,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},r.lang.extend(ue.asn1.DERAbstractTime,ue.asn1.ASN1Object),ue.asn1.DERAbstractStructured=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},r.lang.extend(ue.asn1.DERAbstractStructured,ue.asn1.ASN1Object),ue.asn1.DERBoolean=function(){ue.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},r.lang.extend(ue.asn1.DERBoolean,ue.asn1.ASN1Object),ue.asn1.DERInteger=function(e){ue.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},r.lang.extend(ue.asn1.DERInteger,ue.asn1.ASN1Object),ue.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ue.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var i="";for(n=0;n<e.length-1;n+=8){var r=e.substr(n,8),s=parseInt(r,2).toString(16);1==s.length&&(s="0"+s),i+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+t+i},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)t+=1==e[n]?"1":"0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},r.lang.extend(ue.asn1.DERBitString,ue.asn1.ASN1Object),ue.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ue.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},r.lang.extend(ue.asn1.DEROctetString,ue.asn1.DERAbstractString),ue.asn1.DERNull=function(){ue.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},r.lang.extend(ue.asn1.DERNull,ue.asn1.ASN1Object),ue.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",i=new w(e,10).toString(2),r=7-i.length%7;7==r&&(r=0);for(var s="",a=0;a<r;a++)s+="0";for(i=s+i,a=0;a<i.length-1;a+=7){var o=i.substr(a,7);a!=i.length-7&&(o="1"+o),n+=t(parseInt(o,2))}return n};ue.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var i="",r=e.split("."),s=40*parseInt(r[0])+parseInt(r[1]);i+=t(s),r.splice(0,2);for(var a=0;a<r.length;a++)i+=n(r[a]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=i},this.setValueName=function(e){var t=ue.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},r.lang.extend(ue.asn1.DERObjectIdentifier,ue.asn1.ASN1Object),ue.asn1.DEREnumerated=function(e){ue.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new w(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},r.lang.extend(ue.asn1.DEREnumerated,ue.asn1.ASN1Object),ue.asn1.DERUTF8String=function(e){ue.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},r.lang.extend(ue.asn1.DERUTF8String,ue.asn1.DERAbstractString),ue.asn1.DERNumericString=function(e){ue.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},r.lang.extend(ue.asn1.DERNumericString,ue.asn1.DERAbstractString),ue.asn1.DERPrintableString=function(e){ue.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},r.lang.extend(ue.asn1.DERPrintableString,ue.asn1.DERAbstractString),ue.asn1.DERTeletexString=function(e){ue.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},r.lang.extend(ue.asn1.DERTeletexString,ue.asn1.DERAbstractString),ue.asn1.DERIA5String=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},r.lang.extend(ue.asn1.DERIA5String,ue.asn1.DERAbstractString),ue.asn1.DERVisibleString=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},r.lang.extend(ue.asn1.DERVisibleString,ue.asn1.DERAbstractString),ue.asn1.DERBMPString=function(e){ue.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},r.lang.extend(ue.asn1.DERBMPString,ue.asn1.DERAbstractString),ue.asn1.DERUTCTime=function(e){ue.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ge(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ge(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},r.lang.extend(ue.asn1.DERUTCTime,ue.asn1.DERAbstractTime),ue.asn1.DERGeneralizedTime=function(e){ue.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ge(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ge(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},r.lang.extend(ue.asn1.DERGeneralizedTime,ue.asn1.DERAbstractTime),ue.asn1.DERSequence=function(e){ue.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},r.lang.extend(ue.asn1.DERSequence,ue.asn1.DERAbstractStructured),ue.asn1.DERSet=function(e){ue.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++)e.push(this.asn1Array[t].getEncodedHex());return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},r.lang.extend(ue.asn1.DERSet,ue.asn1.DERAbstractStructured),ue.asn1.DERTaggedObject=function(e){ue.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},r.lang.extend(ue.asn1.DERTaggedObject,ue.asn1.ASN1Object);var ue,ce,he,fe=new function(){};function de(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function pe(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function ve(e){for(var t="",n=0;n<e.length;n++){var i=e[n].toString(16);1==i.length&&(i="0"+i),t+=i}return t}function ge(e){return ve(de(e))}function me(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function ke(e){return e.length%2==1&&(e="0"+e),me(k(e))}function be(e){return b(ye(e))}function Ce(e){return Oe(Me(e))}function we(e){return decodeURIComponent(Re(e))}function _e(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function Se(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function xe(e){return k(e)}function Ee(e){return xe(e).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Ie(e){return b(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Te(e,t){return"-----BEGIN "+t+"-----\r\n"+Ee(e)+"\r\n-----END "+t+"-----\r\n"}function Fe(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Ie(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Ae(e){var t,n,i,r,s,a,o,l,u,c,h;if(h=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=h[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(h[2])-1,i=parseInt(h[3]),r=parseInt(h[4]),s=parseInt(h[5]),a=parseInt(h[6]),o=0,""!==(u=h[7])&&(c=(u.substr(1)+"00").substr(0,3),o=parseInt(c)),Date.UTC(t,n,i,r,s,a,o);throw"unsupported zulu format: "+e}function De(e){return~~(Ae(e)/1e3)}function Oe(e){return e.replace(/%/g,"")}function Re(e){return e.replace(/(..)/g,"%$1")}function Pe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var i=":".repeat(7-n+2),r=(e=e.replace("::",i)).split(":");if(8!=r.length)throw t;for(var s=0;s<8;s++)r[s]=("0000"+r[s]).slice(-4);return r.join("")}function Le(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var i=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===i)return e.slice(1,-1);var r="";for(n=0;n<i.length;n++)i[n].length>r.length&&(r=i[n]);return(e=e.replace(r,"::")).slice(1,-1)}function Ne(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Le(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(a){throw t}}function Me(e){for(var t=encodeURIComponent(e),n="",i=0;i<t.length;i++)"%"==t[i]?(n+=t.substr(i,3),i+=2):n=n+"%"+ge(t[i]);return n}function Ve(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function He(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,n){var i=parseInt(e);if(i<0||255<i)throw"integer not in range 0-255";return("00"+i.toString(16)).slice(-2)})).join("")}catch(a){throw"malformed integer array string: "+a}}fe.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},fe.getL=function(e,t){var n=fe.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},fe.getVblen=function(e,t){var n;return""==(n=fe.getL(e,t))?-1:("8"===n.substr(0,1)?new w(n.substr(2),16):new w(n,16)).intValue()},fe.getVidx=function(e,t){var n=fe.getLblen(e,t);return n<0?n:t+2*(n+1)},fe.getV=function(e,t){var n=fe.getVidx(e,t),i=fe.getVblen(e,t);return e.substr(n,2*i)},fe.getTLV=function(e,t){return e.substr(t,2)+fe.getL(e,t)+fe.getV(e,t)},fe.getNextSiblingIdx=function(e,t){return fe.getVidx(e,t)+2*fe.getVblen(e,t)},fe.getChildIdx=function(e,t){var n=fe,i=new Array,r=n.getVidx(e,t);"03"==e.substr(t,2)?i.push(r+2):i.push(r);for(var s=n.getVblen(e,t),a=r,o=0;;){var l=n.getNextSiblingIdx(e,a);if(null==l||l-r>=2*s)break;if(o>=200)break;i.push(l),a=l,o++}return i},fe.getNthChildIdx=function(e,t,n){return fe.getChildIdx(e,t)[n]},fe.getIdxbyList=function(e,t,n,i){var r,s,a=fe;if(0==n.length){if(void 0!==i&&e.substr(t,2)!==i)throw Error("checking tag doesn't match: "+e.substr(t,2)+"!="+i);return t}return r=n.shift(),s=a.getChildIdx(e,t),a.getIdxbyList(e,s[r],n,i)},fe.getIdxbyListEx=function(e,t,n,i){var r,s,a=fe;if(0==n.length)return void 0!==i&&e.substr(t,2)!==i?-1:t;r=n.shift(),s=a.getChildIdx(e,t);for(var o=0,l=0;l<s.length;l++){var u=e.substr(s[l],2);if("number"==typeof r&&!a.isContextTag(u)&&o==r||"string"==typeof r&&a.isContextTag(u,r))return a.getIdxbyListEx(e,s[l],n,i);a.isContextTag(u)||o++}return-1},fe.getTLVbyList=function(e,t,n,i){var r=fe,s=r.getIdxbyList(e,t,n);if(void 0===s)throw new Error("can't find nthList object");if(void 0!==i&&e.substr(s,2)!=i)throw new Error("checking tag doesn't match: "+e.substr(s,2)+"!="+i);return r.getTLV(e,s)},fe.getTLVbyListEx=function(e,t,n,i){var r=fe,s=r.getIdxbyListEx(e,t,n,i);return-1==s?null:r.getTLV(e,s)},fe.getVbyList=function(e,t,n,i,r){var s,a,o=fe;if(void 0===(s=o.getIdxbyList(e,t,n,i)))throw"can't find nthList object";return a=o.getV(e,s),!0===r&&(a=a.substr(2)),a},fe.getVbyListEx=function(e,t,n,i,r){var s,a,o=fe;return-1==(s=o.getIdxbyListEx(e,t,n,i))?null:(a=o.getV(e,s),"03"==e.substr(s,2)&&!1!==r&&(a=a.substr(2)),a)},fe.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],i=e.substr(0,2),r=parseInt(i,16);n[0]=new String(Math.floor(r/40)),n[1]=new String(r%40);for(var s=e.substr(2),a=[],o=0;o<s.length/2;o++)a.push(parseInt(s.substr(2*o,2),16));var l=[],u="";for(o=0;o<a.length;o++)128&a[o]?u+=t((127&a[o]).toString(2),7):(u+=t((127&a[o]).toString(2),7),l.push(new String(parseInt(u,2))),u="");var c=n.join(".");return l.length>0&&(c=c+"."+l.join(".")),c},fe.dump=function(e,t,n,i){var r=fe,s=r.getV,a=r.dump,o=r.getChildIdx,l=e;e instanceof ue.asn1.ASN1Object&&(l=e.getEncodedHex());var u=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===i&&(i="");var c,h=t.ommit_long_octet;if("01"==(c=l.substr(n,2)))return"00"==(f=s(l,n))?i+"BOOLEAN FALSE\n":i+"BOOLEAN TRUE\n";if("02"==c)return i+"INTEGER "+u(f=s(l,n),h)+"\n";if("03"==c){var f=s(l,n);return r.isASN1HEX(f.substr(2))?(w=i+"BITSTRING, encapsulates\n")+a(f.substr(2),t,0,i+"  "):i+"BITSTRING "+u(f,h)+"\n"}if("04"==c)return f=s(l,n),r.isASN1HEX(f)?(w=i+"OCTETSTRING, encapsulates\n")+a(f,t,0,i+"  "):i+"OCTETSTRING "+u(f,h)+"\n";if("05"==c)return i+"NULL\n";if("06"==c){var d=s(l,n),p=ue.asn1.ASN1Util.oidHexToInt(d),v=ue.asn1.x509.OID.oid2name(p),g=p.replace(/\./g," ");return""!=v?i+"ObjectIdentifier "+v+" ("+g+")\n":i+"ObjectIdentifier ("+g+")\n"}if("0c"==c)return i+"UTF8String '"+we(s(l,n))+"'\n";if("13"==c)return i+"PrintableString '"+we(s(l,n))+"'\n";if("14"==c)return i+"TeletexString '"+we(s(l,n))+"'\n";if("16"==c)return i+"IA5String '"+we(s(l,n))+"'\n";if("17"==c)return i+"UTCTime "+we(s(l,n))+"\n";if("18"==c)return i+"GeneralizedTime "+we(s(l,n))+"\n";if("1a"==c)return i+"VisualString '"+we(s(l,n))+"'\n";if("1e"==c)return i+"BMPString '"+we(s(l,n))+"'\n";if("30"==c){if("3000"==l.substr(n,4))return i+"SEQUENCE {}\n";w=i+"SEQUENCE\n";var m=t;if((2==(b=o(l,n)).length||3==b.length)&&"06"==l.substr(b[0],2)&&"04"==l.substr(b[b.length-1],2)){v=r.oidname(s(l,b[0]));var y=JSON.parse(JSON.stringify(t));y.x509ExtName=v,m=y}for(var k=0;k<b.length;k++)w+=a(l,m,b[k],i+"  ");return w}if("31"==c){w=i+"SET\n";var b=o(l,n);for(k=0;k<b.length;k++)w+=a(l,t,b[k],i+"  ");return w}if(0!=(128&(c=parseInt(c,16)))){var C=31&c;if(0!=(32&c)){var w=i+"["+C+"]\n";for(b=o(l,n),k=0;k<b.length;k++)w+=a(l,t,b[k],i+"  ");return w}return"68747470"==(f=s(l,n)).substr(0,8)&&(f=we(f)),"subjectAltName"===t.x509ExtName&&2==C&&(f=we(f)),i+"["+C+"] "+f+"\n"}return i+"UNKNOWN("+c+") "+s(l,n)+"\n"},fe.isContextTag=function(e,t){var n,i;e=e.toLowerCase();try{n=parseInt(e,16)}catch(f){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((i=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==i}catch(f){return!1}},fe.isASN1HEX=function(e){var t=fe;if(e.length%2==1)return!1;var n=t.getVblen(e,0),i=e.substr(0,2),r=t.getL(e,0);return e.length-i.length-r.length==2*n},fe.checkStrictDER=function(e,t,n,i,r){var s=fe;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ue.lang.String.isHex(e))throw new Error("not hex string");n=e.length,r=(i=e.length/2)<128?1:Math.ceil(i.toString(16))+1}if(s.getL(e,t).length>2*r)throw new Error("L of TLV too long: idx="+t);var a=s.getVblen(e,t);if(a>i)throw new Error("value of L too long than hex: idx="+t);var o=s.getTLV(e,t),l=o.length-2-s.getL(e,t).length;if(l!==2*a)throw new Error("V string length and L's value not the same:"+l+"/"+2*a);if(0===t&&e.length!=o.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+o.length);var u=e.substr(t,2);if("02"===u){var c=s.getVidx(e,t);if("00"==e.substr(c,2)&&e.charCodeAt(c+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(u,16)){for(var h=s.getVblen(e,t),f=0,d=s.getChildIdx(e,t),p=0;p<d.length;p++)f+=s.getTLV(e,d[p]).length,s.checkStrictDER(e,d[p],n,i,r);if(2*h!=f)throw new Error("sum of children's TLV length and L unmatch: "+2*h+"!="+f)}},fe.oidname=function(e){var t=ue.asn1;ue.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.x509&&ue.asn1.x509||(ue.asn1.x509={}),ue.asn1.x509.Certificate=function(e){ue.asn1.x509.Certificate.superclass.constructor.call(this);var t=ue.asn1,n=t.DERSequence,i=t.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var e=new ue.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});e.init(this.prvKey),e.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=e.sign(),this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new n({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(e){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=e,this.asn1Sig=new i({hex:"00"+this.hexSig});var t=new n({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+Ee(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==e&&(void 0!==e.tbscertobj&&(this.asn1TBSCert=e.tbscertobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},r.lang.extend(ue.asn1.x509.Certificate,ue.asn1.ASN1Object),ue.asn1.x509.TBSCertificate=function(e){ue.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ue.asn1,n=t.DERSequence,i=t.DERInteger,r=t.DERTaggedObject,s=t.x509,a=s.Time,o=s.X500Name,l=s.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new r({obj:new i({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(e){this.asn1SerialNumber=new i(e)},this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new s.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new o(e)},this.setNotBeforeByParam=function(e){this.asn1NotBefore=new a(e)},this.setNotAfterByParam=function(e){this.asn1NotAfter=new a(e)},this.setSubjectByParam=function(e){this.asn1Subject=new o(e)},this.setSubjectPublicKey=function(e){this.asn1SubjPKey=new l(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=je.getKey(e);this.asn1SubjPKey=new l(t)},this.appendExtension=function(e){this.extensionsArray.push(e)},this.appendExtensionByName=function(e,t){ue.asn1.x509.Extension.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var e=new n({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(e),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var t=new n({array:this.extensionsArray}),i=new r({explicit:!0,tag:"a3",obj:t});this.asn1Array.push(i)}var s=new n({array:this.asn1Array});return this.hTLV=s.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},r.lang.extend(ue.asn1.x509.TBSCertificate,ue.asn1.ASN1Object),ue.asn1.x509.Extension=function(e){ue.asn1.x509.Extension.superclass.constructor.call(this);var t=ue.asn1,n=t.DERObjectIdentifier,i=t.DEROctetString,r=t.DERBoolean,s=t.DERSequence;this.getEncodedHex=function(){var e=new n({oid:this.oid}),t=new i({hex:this.getExtnValueHex()}),a=new Array;return a.push(e),this.critical&&a.push(new r),a.push(t),new s({array:a}).getEncodedHex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},r.lang.extend(ue.asn1.x509.Extension,ue.asn1.ASN1Object),ue.asn1.x509.Extension.appendByNameToArray=function(e,t,n){var i=e.toLowerCase(),r=ue.asn1.x509;if("basicconstraints"==i){var s=new r.BasicConstraints(t);n.push(s)}else if("keyusage"==i)s=new r.KeyUsage(t),n.push(s);else if("crldistributionpoints"==i)s=new r.CRLDistributionPoints(t),n.push(s);else if("extkeyusage"==i)s=new r.ExtKeyUsage(t),n.push(s);else if("authoritykeyidentifier"==i)s=new r.AuthorityKeyIdentifier(t),n.push(s);else if("subjectkeyidentifier"==i)s=new r.SubjectKeyIdentifier(t),n.push(s);else if("authorityinfoaccess"==i)s=new r.AuthorityInfoAccess(t),n.push(s);else if("subjectaltname"==i)s=new r.SubjectAltName(t),n.push(s);else if("issueraltname"==i)s=new r.IssuerAltName(t),n.push(s);else{if("certificatepolicies"!=i)throw new Error("unsupported extension name: "+e);s=new r.CertificatePolicies(t),n.push(s)}},ue.asn1.x509.KeyUsage=function(e){ue.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=qe.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==e&&(void 0!==e.bin&&(this.asn1ExtnValue=new ue.asn1.DERBitString(e)),void 0!==e.names&&void 0!==e.names.length)){for(var n=e.names,i="000000000",r=0;r<n.length;r++)for(var s=0;s<t.length;s++)n[r]===t[s]&&(i=i.substring(0,s)+"1"+i.substring(s+1,i.length));this.asn1ExtnValue=new ue.asn1.DERBitString({bin:i})}},r.lang.extend(ue.asn1.x509.KeyUsage,ue.asn1.x509.Extension),ue.asn1.x509.BasicConstraints=function(e){ue.asn1.x509.BasicConstraints.superclass.constructor.call(this,e),this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new ue.asn1.DERBoolean),this.pathLen>-1&&e.push(new ue.asn1.DERInteger({int:this.pathLen}));var t=new ue.asn1.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},r.lang.extend(ue.asn1.x509.BasicConstraints,ue.asn1.x509.Extension),ue.asn1.x509.CRLDistributionPoints=function(e){ue.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ue.asn1,n=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(e){this.asn1ExtnValue=new t.DERSequence({array:e})},this.setByOneURI=function(e){var t=new n.GeneralNames([{uri:e}]),i=new n.DistributionPointName(t),r=new n.DistributionPoint({dpobj:i});this.setByDPArray([r])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},r.lang.extend(ue.asn1.x509.CRLDistributionPoints,ue.asn1.x509.Extension),ue.asn1.x509.CertificatePolicies=function(e){ue.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERSequence,i=t.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new i(this.params.array[t]));var r=new n({array:e});return this.asn1ExtnValue=r,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},r.lang.extend(ue.asn1.x509.CertificatePolicies,ue.asn1.x509.Extension),ue.asn1.x509.PolicyInformation=function(e){ue.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERSequence,i=t.DERObjectIdentifier,r=t.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new i({oid:this.params.policyoid})];if(void 0!==this.params.array){for(var t=[],s=0;s<this.params.array.length;s++)t.push(new r(this.params.array[s]));t.length>0&&e.push(new n({array:t}))}return new n({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},r.lang.extend(ue.asn1.x509.PolicyInformation,ue.asn1.ASN1Object),ue.asn1.x509.PolicyQualifierInfo=function(e){ue.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERSequence,i=t.DERIA5String,r=t.DERObjectIdentifier,s=t.x509.UserNotice;this.params=null,this.getEncodedHex=function(){return void 0!==this.params.cps?new n({array:[new r({oid:"1.3.6.1.5.5.7.2.1"}),new i({str:this.params.cps})]}).getEncodedHex():null!=this.params.unotice?new n({array:[new r({oid:"1.3.6.1.5.5.7.2.2"}),new s(this.params.unotice)]}).getEncodedHex():void 0},void 0!==e&&(this.params=e)},r.lang.extend(ue.asn1.x509.PolicyQualifierInfo,ue.asn1.ASN1Object),ue.asn1.x509.UserNotice=function(e){ue.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ue.asn1.DERSequence,n=ue.asn1.x509.DisplayText,i=ue.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new i(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new n(this.params.exptext)),new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},r.lang.extend(ue.asn1.x509.UserNotice,ue.asn1.ASN1Object),ue.asn1.x509.NoticeReference=function(e){ue.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ue.asn1.DERSequence,n=ue.asn1.DERInteger,i=ue.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var e=[];if(void 0!==this.params.org&&e.push(new i(this.params.org)),void 0!==this.params.noticenum){for(var r=[],s=this.params.noticenum,a=0;a<s.length;a++)r.push(new n(s[a]));e.push(new t({array:r}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},r.lang.extend(ue.asn1.x509.NoticeReference,ue.asn1.ASN1Object),ue.asn1.x509.DisplayText=function(e){ue.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},r.lang.extend(ue.asn1.x509.DisplayText,ue.asn1.DERAbstractString),ue.asn1.x509.ExtKeyUsage=function(e){ue.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ue.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var n=0;n<e.length;n++){var i=new t.DERObjectIdentifier(e[n]);this.asn1ExtnValue.appendASN1Object(i)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},r.lang.extend(ue.asn1.x509.ExtKeyUsage,ue.asn1.x509.Extension),ue.asn1.x509.AuthorityKeyIdentifier=function(e){ue.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ue.asn1,n=t.DERTaggedObject,i=t.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new n({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new n({explicit:!1,tag:"a1",obj:new i([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new n({explicit:!1,tag:"82",obj:this.asn1CertSN}));var r=new t.DERSequence({array:e});return this.asn1ExtnValue=r,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ue.asn1.DEROctetString(e);else if("object"==typeof e&&ue.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=je.getKey(e));var n=je.getKeyID(t);this.asn1KID=new ue.asn1.DEROctetString({hex:n})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ue.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ue.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ue.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new qe;t.readCertPEM(e);var n=t.getSerialNumberHex();this.asn1CertSN=new ue.asn1.DERInteger({hex:n})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},r.lang.extend(ue.asn1.x509.AuthorityKeyIdentifier,ue.asn1.x509.Extension),ue.asn1.x509.SubjectKeyIdentifier=function(e){ue.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ue.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ue.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var n=e;"string"==typeof e&&(n=je.getKey(e));var i=je.getKeyID(n);this.asn1KID=new ue.asn1.DEROctetString({hex:i})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},r.lang.extend(ue.asn1.x509.SubjectKeyIdentifier,ue.asn1.x509.Extension),ue.asn1.x509.AuthorityInfoAccess=function(e){ue.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,n=ue.asn1,i=n.DERSequence,r=0;r<e.length;r++){var s=new i({array:[new n.DERObjectIdentifier(e[r].accessMethod),new n.x509.GeneralName(e[r].accessLocation)]});t.push(s)}this.asn1ExtnValue=new i({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},r.lang.extend(ue.asn1.x509.AuthorityInfoAccess,ue.asn1.x509.Extension),ue.asn1.x509.SubjectAltName=function(e){ue.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ue.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},r.lang.extend(ue.asn1.x509.SubjectAltName,ue.asn1.x509.Extension),ue.asn1.x509.IssuerAltName=function(e){ue.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ue.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},r.lang.extend(ue.asn1.x509.IssuerAltName,ue.asn1.x509.Extension),ue.asn1.x509.CRL=function(e){ue.asn1.x509.CRL.superclass.constructor.call(this),this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new ue.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg,prov:"cryptojs/jsrsa"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new ue.asn1.DERBitString({hex:"00"+this.hexSig});var e=new ue.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+Ee(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==e&&(void 0!==e.tbsobj&&(this.asn1TBSCertList=e.tbsobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},r.lang.extend(ue.asn1.x509.CRL,ue.asn1.ASN1Object),ue.asn1.x509.TBSCertList=function(e){ue.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ue.asn1,n=t.DERSequence,i=t.x509,r=i.Time;this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new i.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new i.X500Name(e)},this.setThisUpdateByParam=function(e){this.asn1ThisUpdate=new r(e)},this.setNextUpdateByParam=function(e){this.asn1NextUpdate=new r(e)},this.addRevokedCert=function(e,t){var n={};null!=e&&null!=e&&(n.sn=e),null!=t&&null!=t&&(n.time=t);var r=new i.CRLEntry(n);this.aRevokedCert.push(r)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var e=new n({array:this.aRevokedCert});this.asn1Array.push(e)}var t=new n({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},r.lang.extend(ue.asn1.x509.TBSCertList,ue.asn1.ASN1Object),ue.asn1.x509.CRLEntry=function(e){ue.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ue.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},r.lang.extend(ue.asn1.x509.CRLEntry,ue.asn1.ASN1Object),ue.asn1.x509.X500Name=function(e){ue.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var t,n=ue.asn1,i=n.x509;this.setByString=function(e){var t=e.split("/");t.shift();for(var n=[],r=0;r<t.length;r++)if(t[r].match(/^[^=]+=.+$/))n.push(t[r]);else{var s=n.length-1;n[s]=n[s]+"/"+t[r]}for(r=0;r<n.length;r++)this.asn1Array.push(new i.RDN({str:n[r]}))},this.setByLdapString=function(e){var t=i.X500Name.ldapToCompat(e);this.setByString(t)},this.setByObject=function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=new ue.asn1.x509.RDN({str:t+"="+e[t]});this.asn1Array?this.asn1Array.push(n):this.asn1Array=[n]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new n.DERSequence({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new qe).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new qe).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e))},r.lang.extend(ue.asn1.x509.X500Name,ue.asn1.ASN1Object),ue.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),(t=t.map((function(e){return e.replace(/,/,"\\,")}))).join(",")},ue.asn1.x509.X500Name.onelineToLDAP=function(e){return ue.asn1.x509.X500Name.compatToLDAP(e)},ue.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),n=!1,i=[],r=0;t.length>0;r++){var s=t.shift();if(!0===n){var a=(i.pop()+","+s).replace(/\\,/g,",");i.push(a),n=!1}else i.push(s);"\\"===s.substr(-1,1)&&(n=!0)}return(i=i.map((function(e){return e.replace("/","\\/")}))).reverse(),"/"+i.join("/")},ue.asn1.x509.X500Name.ldapToOneline=function(e){return ue.asn1.x509.X500Name.ldapToCompat(e)},ue.asn1.x509.RDN=function(e){ue.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(e){this.asn1Array.push(new ue.asn1.x509.AttributeTypeAndValue({str:e}))},this.addByMultiValuedString=function(e){for(var t=ue.asn1.x509.RDN.parseString(e),n=0;n<t.length;n++)this.addByString(t[n])},this.getEncodedHex=function(){var e=new ue.asn1.DERSet({array:this.asn1Array});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.addByMultiValuedString(e.str)},r.lang.extend(ue.asn1.x509.RDN,ue.asn1.ASN1Object),ue.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),n=!1,i=[],r=0;t.length>0;r++){var s=t.shift();if(!0===n){var a=(i.pop()+"+"+s).replace(/\\\+/g,"+");i.push(a),n=!1}else i.push(s);"\\"===s.substr(-1,1)&&(n=!0)}var o=!1,l=[];for(r=0;i.length>0;r++){if(s=i.shift(),!0===o){var u=l.pop();s.match(/"$/)?(a=(u+"+"+s).replace(/^([^=]+)="(.*)"$/,"$1=$2"),l.push(a),o=!1):l.push(u+"+"+s)}else l.push(s);s.match(/^[^=]+="/)&&(o=!0)}return l},ue.asn1.x509.AttributeTypeAndValue=function(e){ue.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var t=ue.asn1;this.setByString=function(e){var t=e.match(/^([^=]+)=(.+)$/);if(!t)throw"malformed attrTypeAndValueStr: "+e;this.setByAttrTypeAndValueStr(t[1],t[2])},this.setByAttrTypeAndValueStr=function(e,t){this.typeObj=ue.asn1.x509.OID.atype2obj(e);var n="utf8";"C"==e&&(n="prn"),this.valueObj=this.getValueObj(n,t)},this.getValueObj=function(e,n){if("utf8"==e)return new t.DERUTF8String({str:n});if("prn"==e)return new t.DERPrintableString({str:n});if("tel"==e)return new t.DERTeletexString({str:n});if("ia5"==e)return new t.DERIA5String({str:n});throw"unsupported directory string type: type="+e+" value="+n},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.setByString(e.str)},r.lang.extend(ue.asn1.x509.AttributeTypeAndValue,ue.asn1.ASN1Object),ue.asn1.x509.SubjectPublicKeyInfo=function(e){ue.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ue.asn1,n=t.DERInteger,i=t.DERBitString,r=t.DERObjectIdentifier,s=t.DERSequence,a=t.ASN1Util.newObject,o=t.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new s({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var e=this.getASN1Object();return this.hTLV=e.getEncodedHex(),this.hTLV},this.setPubKey=function(e){try{if(e instanceof ie){var t=a({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).getEncodedHex();this.asn1AlgId=new o({name:"rsaEncryption"}),this.asn1SubjPKey=new i({hex:"00"+t})}}catch(u){}try{if(e instanceof ue.crypto.ECDSA){var s=new r({name:e.curveName});this.asn1AlgId=new o({name:"ecPublicKey",asn1params:s}),this.asn1SubjPKey=new i({hex:"00"+e.pubKeyHex})}}catch(u){}try{if(e instanceof ue.crypto.DSA){s=new a({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new o({name:"dsa",asn1params:s});var l=new n({bigint:e.y});this.asn1SubjPKey=new i({hex:"00"+l.getEncodedHex()})}}catch(u){}},void 0!==e&&this.setPubKey(e)},r.lang.extend(ue.asn1.x509.SubjectPublicKeyInfo,ue.asn1.ASN1Object),ue.asn1.x509.Time=function(e){ue.asn1.x509.Time.superclass.constructor.call(this);var t=ue.asn1,n=t.DERUTCTime,i=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.getEncodedHex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new n(this.timeParams):new i(this.timeParams):"utc"==this.type?new n:new i,this.TLV=e.getEncodedHex(),this.TLV},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},r.lang.extend(ue.asn1.x509.Time,ue.asn1.ASN1Object),ue.asn1.x509.AlgorithmIdentifier=function(e){ue.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ue.asn1,n=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var i in n)i===this.nameAlg&&(e=n[i]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var r=[this.asn1Alg];null!==this.asn1Params&&r.push(this.asn1Params);var s=new t.DERSequence({array:r});return this.hTLV=s.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var i=this.nameAlg.toLowerCase();"withdsa"!==i.substr(-7,7)&&"withecdsa"!==i.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},r.lang.extend(ue.asn1.x509.AlgorithmIdentifier,ue.asn1.ASN1Object),ue.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ue.asn1.x509.GeneralName=function(e){ue.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},n=ue.asn1,i=n.DEROctetString,r=n.DERIA5String,s=n.DERTaggedObject,a=n.ASN1Object,o=n.x509.X500Name,l=Fe;this.explicit=!1,this.setByParam=function(e){var n=null;if(void 0!==e){if(void 0!==e.rfc822&&(this.type="rfc822",n=new r({str:e[this.type]})),void 0!==e.dns&&(this.type="dns",n=new r({str:e[this.type]})),void 0!==e.uri&&(this.type="uri",n=new r({str:e[this.type]})),void 0!==e.dn&&(this.type="dn",this.explicit=!0,n="string"==typeof e.dn?new o({str:e.dn}):e.dn instanceof ue.asn1.x509.X500Name?e.dn:new o(e.dn)),void 0!==e.ldapdn&&(this.type="dn",this.explicit=!0,n=new o({ldapstr:e.ldapdn})),void 0!==e.certissuer){this.type="dn",this.explicit=!0;var u=null;if((h=e.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(u=l(h)),null==u)throw"certissuer param not cert";(f=new qe).hex=u;var c=f.getIssuerHex();(n=new a).hTLV=c}if(void 0!==e.certsubj){var h,f;if(this.type="dn",this.explicit=!0,u=null,(h=e.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=h.indexOf("-----BEGIN ")&&(u=l(h)),null==u)throw"certsubj param not cert";(f=new qe).hex=u,c=f.getSubjectHex(),(n=new a).hTLV=c}if(void 0!==e.ip){this.type="ip",this.explicit=!1;var d,p=e.ip,v="malformed IP address";if(p.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(d=He("["+p.split(".").join(",")+"]")).length)throw v}else if(p.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))d=Pe(p);else{if(!p.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw v;d=p}n=new i({hex:d})}if(null==this.type)throw"unsupported type in params="+e;this.asn1Obj=new s({explicit:this.explicit,tag:t[this.type],obj:n})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==e&&this.setByParam(e)},r.lang.extend(ue.asn1.x509.GeneralName,ue.asn1.ASN1Object),ue.asn1.x509.GeneralNames=function(e){ue.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ue.asn1;this.setByParamArray=function(e){for(var n=0;n<e.length;n++){var i=new t.x509.GeneralName(e[n]);this.asn1Array.push(i)}},this.getEncodedHex=function(){return new t.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},r.lang.extend(ue.asn1.x509.GeneralNames,ue.asn1.ASN1Object),ue.asn1.x509.DistributionPointName=function(e){ue.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ue.asn1,n=t.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new n({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==e){if(!t.x509.GeneralNames.prototype.isPrototypeOf(e))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=e}},r.lang.extend(ue.asn1.x509.DistributionPointName,ue.asn1.ASN1Object),ue.asn1.x509.DistributionPoint=function(e){ue.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ue.asn1;this.getEncodedHex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var n=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(n)}return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.dpobj&&(this.asn1DP=e.dpobj)},r.lang.extend(ue.asn1.x509.DistributionPoint,ue.asn1.ASN1Object),ue.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var t=new ue.asn1.DERObjectIdentifier({oid:this.name2oidList[e]});return this.objCache[e]=t,t},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.atype2oidList[e])throw"AttributeType name undefined: "+e;var t=new ue.asn1.DERObjectIdentifier({oid:this.atype2oidList[e]});return this.objCache[e]=t,t}},ue.asn1.x509.OID.oid2name=function(e){var t=ue.asn1.x509.OID.name2oidList;for(var n in t)if(t[n]==e)return n;return""},ue.asn1.x509.OID.oid2atype=function(e){var t=ue.asn1.x509.OID.atype2oidList;for(var n in t)if(t[n]==e)return n;return e},ue.asn1.x509.OID.name2oid=function(e){var t=ue.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ue.asn1.x509.X509Util={},ue.asn1.x509.X509Util.newCertPEM=function(e){var t=ue.asn1.x509,n=t.Certificate,i=new(0,t.TBSCertificate);if(void 0===e.serial)throw"serial number undefined.";if(i.setSerialNumberByParam(e.serial),"string"!=typeof e.sigalg.name)throw"unproper signature algorithm name";if(i.setSignatureAlgByParam(e.sigalg),void 0===e.issuer)throw"issuer name undefined.";if(i.setIssuerByParam(e.issuer),void 0===e.notbefore)throw"notbefore undefined.";if(i.setNotBeforeByParam(e.notbefore),void 0===e.notafter)throw"notafter undefined.";if(i.setNotAfterByParam(e.notafter),void 0===e.subject)throw"subject name undefined.";if(i.setSubjectByParam(e.subject),void 0===e.sbjpubkey)throw"subject public key undefined.";if(i.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var r=0;r<e.ext.length;r++)for(key in e.ext[r])i.appendExtensionByName(key,e.ext[r][key]);if(void 0===e.cakey&&void 0===e.sighex)throw"param cakey and sighex undefined.";var s=null;return e.cakey&&(s=new n({tbscertobj:i,prvkeyobj:!0===e.cakey.isPrivate?e.cakey:je.getKey.apply(null,e.cakey)})).sign(),e.sighex&&(s=new n({tbscertobj:i})).setSignatureHex(e.sighex),s.getPEMString()},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.cms&&ue.asn1.cms||(ue.asn1.cms={}),ue.asn1.cms.Attribute=function(e){var t=ue.asn1;t.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var e,n,i;e=new t.DERObjectIdentifier({oid:this.attrTypeOid}),n=new t.DERSet({array:this.valueList});try{n.getEncodedHex()}catch(r){throw"fail valueSet.getEncodedHex in Attribute(1)/"+r}i=new t.DERSequence({array:[e,n]});try{this.hTLV=i.getEncodedHex()}catch(r){throw"failed seq.getEncodedHex in Attribute(2)/"+r}return this.hTLV}},r.lang.extend(ue.asn1.cms.Attribute,ue.asn1.ASN1Object),ue.asn1.cms.ContentType=function(e){var t=ue.asn1;t.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3";var n=null;void 0!==e&&(n=new t.DERObjectIdentifier(e),this.valueList=[n])},r.lang.extend(ue.asn1.cms.ContentType,ue.asn1.cms.Attribute),ue.asn1.cms.MessageDigest=function(e){var t,n=ue,i=n.asn1,r=i.DEROctetString,s=i.cms;s.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==e&&(e.eciObj instanceof s.EncapsulatedContentInfo&&"string"==typeof e.hashAlg?((t=new r({hex:n.crypto.Util.hashHex(e.eciObj.eContentValueHex,e.hashAlg)})).getEncodedHex(),this.valueList=[t]):((t=new r(e)).getEncodedHex(),this.valueList=[t]))},r.lang.extend(ue.asn1.cms.MessageDigest,ue.asn1.cms.Attribute),ue.asn1.cms.SigningTime=function(e){var t=ue.asn1;if(t.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==e){var n=new t.x509.Time(e);try{n.getEncodedHex()}catch(o){throw"SigningTime.getEncodedHex() failed/"+o}this.valueList=[n]}},r.lang.extend(ue.asn1.cms.SigningTime,ue.asn1.cms.Attribute),ue.asn1.cms.SigningCertificate=function(e){var t=ue,n=t.asn1,i=n.DERSequence,r=n.cms;r.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(e){for(var s=[],a=0;a<e.length;a++){var o=Fe(e[a]),l=t.crypto.Util.hashHex(o,"sha1"),u=new n.DEROctetString({hex:l});u.getEncodedHex();var c=new r.IssuerSerial({cert:e[a]});c.getEncodedHex();var h=new i({array:[u,c]});h.getEncodedHex(),s.push(h)}var f=new i({array:s});f.getEncodedHex(),this.valueList=[f]},void 0!==e&&"object"==typeof e.array&&this.setCerts(e.array)},r.lang.extend(ue.asn1.cms.SigningCertificate,ue.asn1.cms.Attribute),ue.asn1.cms.SigningCertificateV2=function(e){var t=ue.asn1,n=t.DERSequence,i=t.x509,r=t.cms,s=ue.crypto;if(r.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(e,a){for(var o=[],l=0;l<e.length;l++){var u=Fe(e[l]),c=[];"sha256"!==a&&c.push(new i.AlgorithmIdentifier({name:a}));var h=s.Util.hashHex(u,a),f=new t.DEROctetString({hex:h});f.getEncodedHex(),c.push(f);var d=new r.IssuerSerial({cert:e[l]});d.getEncodedHex(),c.push(d);var p=new n({array:c});p.getEncodedHex(),o.push(p)}var v=new n({array:o});v.getEncodedHex(),this.valueList=[v]},void 0!==e&&"object"==typeof e.array){var a="sha256";"string"==typeof e.hashAlg&&(a=e.hashAlg),this.setCerts(e.array,a)}},r.lang.extend(ue.asn1.cms.SigningCertificateV2,ue.asn1.cms.Attribute),ue.asn1.cms.IssuerSerial=function(e){var t=ue.asn1,n=t.DERInteger,i=t.x509,r=i.X500Name,s=i.GeneralNames,a=qe;t.cms.IssuerSerial.superclass.constructor.call(this),this.setByCertPEM=function(e){var t=Fe(e),i=new a;i.hex=t;var s=i.getIssuerHex();this.dIssuer=new r,this.dIssuer.hTLV=s;var o=i.getSerialNumberHex();this.dSerial=new n({hex:o})},this.getEncodedHex=function(){var e=new s([{dn:this.dIssuer}]),n=new t.DERSequence({array:[e,this.dSerial]});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(this.dIssuer=e.issuer instanceof r?e.issuer:new r(e.issuer),this.dSerial=e.serial instanceof n?e.serial:new n(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},r.lang.extend(ue.asn1.cms.IssuerSerial,ue.asn1.ASN1Object),ue.asn1.cms.IssuerAndSerialNumber=function(e){var t=ue.asn1,n=t.DERInteger,i=t.x509.X500Name,r=qe;t.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.setByCertPEM=function(e){var t=Fe(e),s=new r;s.hex=t;var a=s.getIssuerHex();this.dIssuer=new i,this.dIssuer.hTLV=a;var o=s.getSerialNumberHex();this.dSerial=new n({hex:o})},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(this.dIssuer=e.issuer instanceof i?e.issuer:new i(e.issuer),this.dSerial=e.serial instanceof n?e.serial:new n(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},r.lang.extend(ue.asn1.cms.IssuerAndSerialNumber,ue.asn1.ASN1Object),ue.asn1.cms.AttributeList=function(e){var t=ue.asn1,n=t.cms;n.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(e){e instanceof n.Attribute&&this.list.push(e)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new t.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},r.lang.extend(ue.asn1.cms.AttributeList,ue.asn1.ASN1Object),ue.asn1.cms.SignerInfo=function(e){var t=ue.asn1,n=t.DERTaggedObject,i=t.cms,r=i.AttributeList,s=i.ContentType,a=i.EncapsulatedContentInfo,o=i.MessageDigest,l=i.SignedData,u=t.x509.AlgorithmIdentifier,c=ue.crypto,h=je;i.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new t.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new r,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new r,this.setSignerIdentifier=function(e){"string"==typeof e&&-1!=e.indexOf("CERTIFICATE")&&-1!=e.indexOf("BEGIN")&&-1!=e.indexOf("END")&&(this.dSignerIdentifier=new i.IssuerAndSerialNumber({cert:e}))},this.setForContentAndHash=function(e){void 0!==e&&(e.eciObj instanceof a&&(this.dSignedAttrs.add(new s({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new o({eciObj:e.eciObj,hashAlg:e.hashAlg}))),void 0!==e.sdObj&&e.sdObj instanceof l&&-1==e.sdObj.digestAlgNameList.join(":").indexOf(e.hashAlg)&&e.sdObj.digestAlgNameList.push(e.hashAlg),"string"==typeof e.hashAlg&&(this.dDigestAlgorithm=new u({name:e.hashAlg})))},this.sign=function(e,n){this.dSigAlg=new u({name:n});var i=this.dSignedAttrs.getEncodedHex(),r=h.getKey(e),s=new c.Signature({alg:n});s.init(r),s.updateHex(i);var a=s.sign();this.dSig=new t.DEROctetString({hex:a})},this.addUnsigned=function(e){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(e)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof r&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var e=new n({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),i=null;this.dUnsignedAttrs.length()>0&&(i=new n({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var s=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,e,this.dSigAlg,this.dSig];null!=i&&s.push(i);var a=new t.DERSequence({array:s});return this.hTLV=a.getEncodedHex(),this.hTLV}},r.lang.extend(ue.asn1.cms.SignerInfo,ue.asn1.ASN1Object),ue.asn1.cms.EncapsulatedContentInfo=function(e){var t=ue.asn1,n=t.DERTaggedObject,i=t.DERSequence,r=t.DERObjectIdentifier,s=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new r({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(e){this.dEContentType=e.match(/^[0-2][.][0-9.]+$/)?new r({oid:e}):new r({name:e})},this.setContentValue=function(e){void 0!==e&&("string"==typeof e.hex?this.eContentValueHex=e.hex:"string"==typeof e.str&&(this.eContentValueHex=Ce(e.str)))},this.setContentValueHex=function(e){this.eContentValueHex=e},this.setContentValueStr=function(e){this.eContentValueHex=Ce(e)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var e=new s({hex:this.eContentValueHex});this.dEContent=new n({obj:e,tag:"a0",explicit:!0});var t=[this.dEContentType];this.isDetached||t.push(this.dEContent);var r=new i({array:t});return this.hTLV=r.getEncodedHex(),this.hTLV}},r.lang.extend(ue.asn1.cms.EncapsulatedContentInfo,ue.asn1.ASN1Object),ue.asn1.cms.ContentInfo=function(e){var t=ue.asn1,n=t.DERTaggedObject,i=t.DERSequence,r=t.x509;ue.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(e){"string"==typeof e&&(this.dContentType=r.OID.name2obj(e))},this.getEncodedHex=function(){var e=new n({obj:this.dContent,tag:"a0",explicit:!0}),t=new i({array:[this.dContentType,e]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&(e.type&&this.setContentType(e.type),e.obj&&e.obj instanceof t.ASN1Object&&(this.dContent=e.obj))},r.lang.extend(ue.asn1.cms.ContentInfo,ue.asn1.ASN1Object),ue.asn1.cms.SignedData=function(e){var t=ue.asn1,n=t.ASN1Object,i=t.DERInteger,r=t.DERSet,s=t.DERSequence,a=t.DERTaggedObject,o=t.cms,l=o.EncapsulatedContentInfo,u=o.SignerInfo,c=o.ContentInfo,h=t.x509.AlgorithmIdentifier;ue.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new i({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new l,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new u],this.addCertificatesByPEM=function(e){var t=Fe(e),i=new n;i.hTLV=t,this.certificateList.push(i)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var e=[],t=0;t<this.digestAlgNameList.length;t++){var n=new h({name:this.digestAlgNameList[t]});e.push(n)}this.dDigestAlgs=new r({array:e})}var i=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var o=new r({array:this.certificateList});this.dCerts=new a({obj:o,tag:"a0",explicit:!1})}null!=this.dCerts&&i.push(this.dCerts);var l=new r({array:this.signerInfoList});i.push(l);var u=new s({array:i});return this.hTLV=u.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new c({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return Te(this.getContentInfoEncodedHex(),"CMS")}},r.lang.extend(ue.asn1.cms.SignedData,ue.asn1.ASN1Object),ue.asn1.cms.CMSUtil=new function(){},ue.asn1.cms.CMSUtil.newSignedData=function(e){var t=ue.asn1,n=t.cms,i=n.SignerInfo,r=n.SigningTime,s=n.SigningCertificate,a=n.SigningCertificateV2,o=t.cades.SignaturePolicyIdentifier,l=new(0,n.SignedData);if(l.dEncapContentInfo.setContentValue(e.content),"boolean"==typeof e.detached&&(l.dEncapContentInfo.isDetached=e.detached),"object"==typeof e.certs)for(var u=0;u<e.certs.length;u++)l.addCertificatesByPEM(e.certs[u]);for(l.signerInfoList=[],u=0;u<e.signerInfos.length;u++){var c=e.signerInfos[u],h=new i;for(attrName in h.setSignerIdentifier(c.signerCert),h.setForContentAndHash({sdObj:l,eciObj:l.dEncapContentInfo,hashAlg:c.hashAlg}),c.sAttr){var f=c.sAttr[attrName];if("SigningTime"==attrName){var d=new r(f);h.dSignedAttrs.add(d)}"SigningCertificate"==attrName&&(d=new s(f),h.dSignedAttrs.add(d)),"SigningCertificateV2"==attrName&&(d=new a(f),h.dSignedAttrs.add(d)),"SignaturePolicyIdentifier"==attrName&&(d=new o(f),h.dSignedAttrs.add(d))}h.sign(c.signerPrvKey,c.sigAlg),l.signerInfoList.push(h)}return l},ue.asn1.cms.CMSUtil.verifySignedData=function(e){var t=fe.getVbyList,n=fe.getTLVbyList,i=fe.getIdxbyList,r=fe.getChildIdx,s=fe.getTLV,a=fe.oidname,o=ue.crypto.Util.hashHex;void 0===e.cms&&(0,ue.lang.String.isHex)(e.cms);var l=e.cms,u=function(e,s){var o=s.idx;s.signerid_issuer1=n(e,o,[1,0],"30"),s.signerid_serial1=t(e,o,[1,1],"02"),s.hashalg=a(t(e,o,[2,0],"06"));var l=i(e,o,[3],"a0");s.idxSignedAttrs=l,c(e,s,l);var u=r(e,o).length;if(u<6)throw"malformed SignerInfo";s.sigalg=a(t(e,o,[u-2,0],"06")),s.sigval=t(e,o,[u-1],"04")},c=function(e,n,i){var s=r(e,i);n.signedAttrIdxList=s;for(var a=0;a<s.length;a++){var o,l=s[a],u=t(e,l,[0],"06");"2a864886f70d010905"===u?(o=we(t(e,l,[1,0])),n.saSigningTime=o):"2a864886f70d010904"===u&&(o=t(e,l,[1,0],"04"),n.saMessageDigest=o)}},h=function(e,t,n,i){n.verifyDetail={};var a=n.verifyDetail,l=t.parse.econtent,u=n.hashalg,c=n.saMessageDigest;a.validMessageDigest=!1,o(l,u)===c&&(a.validMessageDigest=!0),function(e,t,n,i){var a,o=t.parse.certsIdx;if(void 0===t.certs){a=[],t.certkeys=[];for(var l=r(e,o),u=0;u<l.length;u++){var c=s(e,l[u]),h=new qe;h.readCertHex(c),a[u]=h,t.certkeys[u]=h.getPublicKey()}t.certs=a}else a=t.certs;for(t.cccc=a.length,t.cccci=l.length,u=0;u<a.length;u++){var f=h.getIssuerHex(),d=h.getSerialNumberHex();n.signerid_issuer1===f&&n.signerid_serial1===d&&(n.certkey_idx=u)}}(e,t,n),a.validSignatureValue=!1;var h=n.sigalg,f="31"+s(e,n.idxSignedAttrs).substr(2);n.signedattrshex=f;var d=t.certs[n.certkey_idx].getPublicKey(),p=new ue.crypto.Signature({alg:h});p.init(d),p.updateHex(f);var v=p.verify(n.sigval);a.validSignatureValue_isValid=v,!0===v&&(a.validSignatureValue=!0),n.isValid=!1,a.validMessageDigest&&a.validSignatureValue&&(n.isValid=!0)},f={isValid:!1,parse:{}};return function(e,n){if("2a864886f70d010702"!==t(e,0,[0],"06"))return n;n.cmsType="signedData",n.econtent=t(e,0,[1,0,2,1,0]),function(e,t){for(var n,r=3;r<6;r++)if(void 0!==(n=i(e,0,[1,0,r]))){var s=e.substr(n,2);"a0"===s&&(t.certsIdx=n),"a1"===s&&(t.revinfosIdx=n),"31"===s&&(t.signerinfosIdx=n)}}(e,n),n.signerInfos=[],function(e,t){var n=t.signerinfosIdx;if(void 0!==n){var i=r(e,n);t.signerInfoIdxList=i;for(var s=0;s<i.length;s++){var a={idx:i[s]};u(e,a),t.signerInfos.push(a)}}}(e,n)}(l,f.parse),function(e,t){for(var n=t.parse.signerInfos,i=n.length,r=!0,s=0;s<i;s++){var a=n[s];h(e,t,a),a.isValid||(r=!1)}t.isValid=r}(l,f),f},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.tsp&&ue.asn1.tsp||(ue.asn1.tsp={}),ue.asn1.tsp.Accuracy=function(e){var t=ue.asn1,n=t.DERInteger,i=t.DERSequence,r=t.DERTaggedObject;t.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var e=null,t=null,s=null,a=[];if(null!=this.seconds&&(e=new n({int:this.seconds}),a.push(e)),null!=this.millis){var o=new n({int:this.millis});t=new r({obj:o,tag:"80",explicit:!1}),a.push(t)}if(null!=this.micros){var l=new n({int:this.micros});s=new r({obj:l,tag:"81",explicit:!1}),a.push(s)}var u=new i({array:a});return this.hTLV=u.getEncodedHex(),this.hTLV},void 0!==e&&("number"==typeof e.seconds&&(this.seconds=e.seconds),"number"==typeof e.millis&&(this.millis=e.millis),"number"==typeof e.micros&&(this.micros=e.micros))},r.lang.extend(ue.asn1.tsp.Accuracy,ue.asn1.ASN1Object),ue.asn1.tsp.MessageImprint=function(e){var t=ue.asn1,n=t.DERSequence,i=t.DEROctetString,r=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new n({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==e&&("string"==typeof e.hashAlg&&(this.dHashAlg=new r({name:e.hashAlg})),"string"==typeof e.hashValue&&(this.dHashValue=new i({hex:e.hashValue})))},r.lang.extend(ue.asn1.tsp.MessageImprint,ue.asn1.ASN1Object),ue.asn1.tsp.TimeStampReq=function(e){var t=ue.asn1,n=t.DERSequence,i=t.DERInteger,r=t.DERBoolean,s=t.DERObjectIdentifier,a=t.tsp,o=a.MessageImprint;a.TimeStampReq.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(e){e instanceof o?this.dMessageImprint=e:"object"==typeof e&&(this.dMessageImprint=new o(e))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var e=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&e.push(this.dPolicy),null!=this.dNonce&&e.push(this.dNonce),this.certReq&&e.push(new r);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.mi&&this.setMessageImprint(e.mi),"object"==typeof e.policy&&(this.dPolicy=new s(e.policy)),"object"==typeof e.nonce&&(this.dNonce=new i(e.nonce)),"boolean"==typeof e.certreq&&(this.certReq=e.certreq))},r.lang.extend(ue.asn1.tsp.TimeStampReq,ue.asn1.ASN1Object),ue.asn1.tsp.TSTInfo=function(e){var t=ue.asn1,n=t.DERSequence,i=t.DERInteger,r=t.DERBoolean,s=t.DERGeneralizedTime,a=t.DERObjectIdentifier,o=t.tsp,l=o.MessageImprint,u=o.Accuracy,c=t.x509.X500Name;if(o.TSTInfo.superclass.constructor.call(this),this.dVersion=new i({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(e.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(e.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(e.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new a({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new l(e.messageImprint)),void 0!==e.serialNumber&&(this.dSerialNumber=new i(e.serialNumber)),void 0!==e.genTime&&(this.dGenTime=new s(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new u(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new r),void 0!==e.nonce&&(this.dNonce=new i(e.nonce)),void 0!==e.tsa&&(this.dTsa=new c(e.tsa))}},r.lang.extend(ue.asn1.tsp.TSTInfo,ue.asn1.ASN1Object),ue.asn1.tsp.TimeStampResp=function(e){var t=ue.asn1,n=t.DERSequence,i=t.ASN1Object,r=t.tsp,s=r.PKIStatusInfo;r.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dTST&&e.push(this.dTST);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new s(e.status)),void 0!==e.tst&&e.tst instanceof i&&(this.dTST=e.tst.getContentInfo()))},r.lang.extend(ue.asn1.tsp.TimeStampResp,ue.asn1.ASN1Object),ue.asn1.tsp.PKIStatusInfo=function(e){var t=ue.asn1,n=t.DERSequence,i=t.tsp,r=i.PKIStatus,s=i.PKIFreeText,a=i.PKIFailureInfo;i.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dStatusString&&e.push(this.dStatusString),null!=this.dFailureInfo&&e.push(this.dFailureInfo);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new r(e.status)),"object"==typeof e.statstr&&(this.dStatusString=new s({array:e.statstr})),"object"==typeof e.failinfo&&(this.dFailureInfo=new a(e.failinfo)))},r.lang.extend(ue.asn1.tsp.PKIStatusInfo,ue.asn1.ASN1Object),ue.asn1.tsp.PKIStatus=function(e){var t=ue.asn1,n=t.DERInteger,i=t.tsp,r=i.PKIStatus;if(i.PKIStatus.superclass.constructor.call(this),this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==e)if(void 0!==e.name){var s=r.valueList;if(void 0===s[e.name])throw"name undefined: "+e.name;this.dStatus=new n({int:s[e.name]})}else this.dStatus=new n(e)},r.lang.extend(ue.asn1.tsp.PKIStatus,ue.asn1.ASN1Object),ue.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},ue.asn1.tsp.PKIFreeText=function(e){var t=ue.asn1,n=t.DERSequence,i=t.DERUTF8String;t.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var e=[],t=0;t<this.textList.length;t++)e.push(new i({str:this.textList[t]}));var r=new n({array:e});return this.hTLV=r.getEncodedHex(),this.hTLV},void 0!==e&&"object"==typeof e.array&&(this.textList=e.array)},r.lang.extend(ue.asn1.tsp.PKIFreeText,ue.asn1.ASN1Object),ue.asn1.tsp.PKIFailureInfo=function(e){var t=ue.asn1,n=t.DERBitString,i=t.tsp.PKIFailureInfo;if(i.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var e=new Number(this.value).toString(2),t=new n;return t.setByBinaryString(e),this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e)if("string"==typeof e.name){var r=i.valueList;if(void 0===r[e.name])throw"name undefined: "+e.name;this.value=r[e.name]}else"number"==typeof e.int&&(this.value=e.int)},r.lang.extend(ue.asn1.tsp.PKIFailureInfo,ue.asn1.ASN1Object),ue.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},ue.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ue.asn1.tsp.SimpleTSAAdapter=function(e){var t=ue.asn1.tsp,n=ue.crypto.Util.hashHex;t.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,i){var r=n(e,i);this.params.tstInfo.messageImprint={hashAlg:i,hashValue:r},this.params.tstInfo.serialNumber={int:this.serial++};var s=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:s},t.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},r.lang.extend(ue.asn1.tsp.SimpleTSAAdapter,ue.asn1.tsp.AbstractTSAAdapter),ue.asn1.tsp.FixedTSAAdapter=function(e){var t=ue.asn1.tsp,n=ue.crypto.Util.hashHex;t.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,i){var r=n(e,i);return this.params.tstInfo.messageImprint={hashAlg:i,hashValue:r},t.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},r.lang.extend(ue.asn1.tsp.FixedTSAAdapter,ue.asn1.tsp.AbstractTSAAdapter),ue.asn1.tsp.TSPUtil=new function(){},ue.asn1.tsp.TSPUtil.newTimeStampToken=function(e){var t=ue.asn1,n=t.cms,i=t.tsp.TSTInfo,r=new n.SignedData,s=new i(e.tstInfo).getEncodedHex();if(r.dEncapContentInfo.setContentValue({hex:s}),r.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof e.certs)for(var a=0;a<e.certs.length;a++)r.addCertificatesByPEM(e.certs[a]);var o=r.signerInfoList[0];o.setSignerIdentifier(e.signerCert),o.setForContentAndHash({sdObj:r,eciObj:r.dEncapContentInfo,hashAlg:e.hashAlg});var l=new n.SigningCertificate({array:[e.signerCert]});return o.dSignedAttrs.add(l),o.sign(e.signerPrvKey,e.sigAlg),r},ue.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=fe,n=t.getV,i=t.getTLV,r={certreq:!1},s=(0,t.getChildIdx)(e,0);if(s.length<2)throw"TimeStampReq must have at least 2 items";var a=i(e,s[1]);r.mi=ue.asn1.tsp.TSPUtil.parseMessageImprint(a);for(var o=2;o<s.length;o++){var l=s[o],u=e.substr(l,2);if("06"==u){var c=n(e,l);r.policy=t.hextooidstr(c)}"02"==u&&(r.nonce=n(e,l)),"01"==u&&(r.certreq=!0)}return r},ue.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=fe,n=t.getChildIdx,i=t.getV,r=t.getIdxbyList,s={};if("30"!=e.substr(0,2))throw"head of messageImprint hex shall be '30'";n(e,0);var a=i(e,r(e,0,[0,0])),o=t.hextooidstr(a),l=ue.asn1.x509.OID.oid2name(o);if(""==l)throw"hashAlg name undefined: "+o;var u=l,c=r(e,0,[1]);return s.hashAlg=u,s.hashValue=i(e,c),s},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.cades&&ue.asn1.cades||(ue.asn1.cades={}),ue.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ue.asn1,n=t.DERObjectIdentifier,i=t.DERSequence,r=t.cades,s=r.OtherHashAlgAndValue;if(r.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==e&&"string"==typeof e.oid&&"object"==typeof e.hash){var a=new i({array:[new n({oid:e.oid}),new s(e.hash)]});this.valueList=[a]}},r.lang.extend(ue.asn1.cades.SignaturePolicyIdentifier,ue.asn1.cms.Attribute),ue.asn1.cades.OtherHashAlgAndValue=function(e){var t=ue.asn1,n=t.DERSequence,i=t.DEROctetString,r=t.x509.AlgorithmIdentifier;t.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var e=new n({array:[this.dAlg,this.dHash]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&"string"==typeof e.alg&&"string"==typeof e.hash&&(this.dAlg=new r({name:e.alg}),this.dHash=new i({hex:e.hash}))},r.lang.extend(ue.asn1.cades.OtherHashAlgAndValue,ue.asn1.ASN1Object),ue.asn1.cades.SignatureTimeStamp=function(e){var t=ue.asn1,n=t.ASN1Object;if(t.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==e){if(void 0!==e.res)if("string"==typeof e.res&&e.res.match(/^[0-9A-Fa-f]+$/));else if(!(e.res instanceof n))throw"res param shall be ASN1Object or hex string";if(void 0!==e.tst)if("string"==typeof e.tst&&e.tst.match(/^[0-9A-Fa-f]+$/)){var i=new n;this.tstHex=e.tst,i.hTLV=this.tstHex,i.getEncodedHex(),this.valueList=[i]}else if(!(e.tst instanceof n))throw"tst param shall be ASN1Object or hex string"}},r.lang.extend(ue.asn1.cades.SignatureTimeStamp,ue.asn1.cms.Attribute),ue.asn1.cades.CompleteCertificateRefs=function(e){var t=ue.asn1.cades;t.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(e){this.valueList=[];for(var n=0;n<e.length;n++){var i=new t.OtherCertID(e[n]);this.valueList.push(i)}},void 0!==e&&"object"==typeof e&&"number"==typeof e.length&&this.setByArray(e)},r.lang.extend(ue.asn1.cades.CompleteCertificateRefs,ue.asn1.cms.Attribute),ue.asn1.cades.OtherCertID=function(e){var t=ue.asn1,n=t.cms,i=t.cades;i.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(e){this.dOtherCertHash=new i.OtherHash(e),this.hasIssuerSerial&&(this.dIssuerSerial=new n.IssuerAndSerialNumber(e))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var e=[this.dOtherCertHash];null!=this.dIssuerSerial&&e.push(this.dIssuerSerial);var n=new t.DERSequence({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),"object"==typeof e&&(!1===e.hasis&&(this.hasIssuerSerial=!1),"string"==typeof e.cert&&this.setByCertPEM(e.cert)))},r.lang.extend(ue.asn1.cades.OtherCertID,ue.asn1.ASN1Object),ue.asn1.cades.OtherHash=function(e){var t=ue.asn1,n=t.cades,i=n.OtherHashAlgAndValue,r=ue.crypto.Util.hashHex;if(n.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(e){if(-1==e.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var t=Fe(e),n=r(t,this.alg);this.dOtherHash=new i({alg:this.alg,hash:n})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==e)if("string"==typeof e)if(-1!=e.indexOf("-----BEGIN "))this.setByCertPEM(e);else{if(!e.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new t.DEROctetString({hex:e})}else"object"==typeof e&&("string"==typeof e.cert?("string"==typeof e.alg&&(this.alg=e.alg),this.setByCertPEM(e.cert)):this.dOtherHash=new i(e))},r.lang.extend(ue.asn1.cades.OtherHash,ue.asn1.ASN1Object),ue.asn1.cades.CAdESUtil=new function(){},ue.asn1.cades.CAdESUtil.addSigTS=function(e,t,n){},ue.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=fe.getChildIdx,n=fe.getTLV,i=fe.getIdxbyList,r=ue.asn1,s=r.ASN1Object,a=r.cms.SignedData,o=r.cades.CAdESUtil,l={};if("06092a864886f70d010702"!=(0,fe.getTLVbyList)(e,0,[0]))throw"hex is not CMS SignedData";var u=t(e,i(e,0,[1,0]));if(u.length<4)throw"num of SignedData elem shall be 4 at least";var c=u.shift();l.version=n(e,c);var h=u.shift();l.algs=n(e,h);var f=u.shift();l.encapcontent=n(e,f),l.certs=null,l.revs=null,l.si=[];var d=u.shift();"a0"==e.substr(d,2)&&(l.certs=n(e,d),d=u.shift()),"a1"==e.substr(d,2)&&(l.revs=n(e,d),d=u.shift());var p=d;if("31"!=e.substr(p,2))throw"Can't find signerInfos";for(var v=t(e,p),g=0;g<v.length;g++){var m=o.parseSignerInfoForAddingUnsigned(e,v[g],g);l.si[g]=m}var y=null;for(l.obj=new a,(y=new s).hTLV=l.version,l.obj.dCMSVersion=y,(y=new s).hTLV=l.algs,l.obj.dDigestAlgs=y,(y=new s).hTLV=l.encapcontent,l.obj.dEncapContentInfo=y,(y=new s).hTLV=l.certs,l.obj.dCerts=y,l.obj.signerInfoList=[],g=0;g<l.si.length;g++)l.obj.signerInfoList.push(l.si[g].obj);return l},ue.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,n){var i=fe.getTLV,r=fe.getV,s=ue.asn1,a=s.ASN1Object,o=s.cms,l=o.AttributeList,u=o.SignerInfo,c={},h=(0,fe.getChildIdx)(e,t);if(6!=h.length)throw"not supported items for SignerInfo (!=6)";var f=h.shift();c.version=i(e,f);var d=h.shift();c.si=i(e,d);var p=h.shift();c.digalg=i(e,p);var v=h.shift();c.sattrs=i(e,v);var g=h.shift();c.sigalg=i(e,g);var m=h.shift();c.sig=i(e,m),c.sigval=r(e,m);var y=null;return c.obj=new u,(y=new a).hTLV=c.version,c.obj.dCMSVersion=y,(y=new a).hTLV=c.si,c.obj.dSignerIdentifier=y,(y=new a).hTLV=c.digalg,c.obj.dDigestAlgorithm=y,(y=new a).hTLV=c.sattrs,c.obj.dSignedAttrs=y,(y=new a).hTLV=c.sigalg,c.obj.dSigAlg=y,(y=new a).hTLV=c.sig,c.obj.dSig=y,c.obj.dUnsignedAttrs=new l,c},void 0!==ue.asn1.csr&&ue.asn1.csr||(ue.asn1.csr={}),ue.asn1.csr.CertificationRequest=function(e){var t=ue,n=t.asn1,i=n.DERBitString,r=n.DERSequence,s=n.x509;n.csr.CertificationRequest.superclass.constructor.call(this),this.sign=function(e,n){null==this.prvKey&&(this.prvKey=n),this.asn1SignatureAlg=new s.AlgorithmIdentifier({name:e});var a=new t.crypto.Signature({alg:e});a.init(this.prvKey),a.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=a.sign(),this.asn1Sig=new i({hex:"00"+this.hexSig});var o=new r({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=o.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return Te(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==e&&void 0!==e.csrinfo&&(this.asn1CSRInfo=e.csrinfo)},r.lang.extend(ue.asn1.csr.CertificationRequest,ue.asn1.ASN1Object),ue.asn1.csr.CertificationRequestInfo=function(e){var t=ue.asn1,n=t.DERInteger,i=t.DERSequence,r=t.DERSet,s=t.DERNull,a=t.DERTaggedObject,o=t.DERObjectIdentifier,l=t.x509,u=l.X500Name,c=l.Extension,h=je;t.csr.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new n({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(e){this.asn1Subject=new u(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=h.getKey(e);this.asn1SubjPKey=new l.SubjectPublicKeyInfo(t)},this.appendExtensionByName=function(e,t){c.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new i({array:this.extensionsArray}),t=new r({array:[e]}),n=new i({array:[new o({oid:"1.2.840.113549.1.9.14"}),t]}),l=new a({explicit:!0,tag:"a0",obj:n});this.asn1Array.push(l)}else l=new a({explicit:!1,tag:"a0",obj:new s}),this.asn1Array.push(l);var u=new i({array:this.asn1Array});return this.hTLV=u.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},r.lang.extend(ue.asn1.csr.CertificationRequestInfo,ue.asn1.ASN1Object),ue.asn1.csr.CSRUtil=new function(){},ue.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=je,n=ue.asn1.csr;if(void 0===e.subject)throw"parameter subject undefined";if(void 0===e.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===e.sigalg)throw"parameter sigalg undefined";if(void 0===e.sbjprvkey)throw"parameter sbjpubkey undefined";var i=new n.CertificationRequestInfo;if(i.setSubjectByParam(e.subject),i.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var r=0;r<e.ext.length;r++)for(key in e.ext[r])i.appendExtensionByName(key,e.ext[r][key]);var s=new n.CertificationRequest({csrinfo:i}),a=t.getKey(e.sbjprvkey);return s.sign(e.sigalg,a),s.getPEMString()},ue.asn1.csr.CSRUtil.getInfo=function(e){var t=fe.getTLVbyListEx,n={subject:{},pubkey:{}};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var i=Fe(e,"CERTIFICATE REQUEST");try{n.subject.hex=t(i,0,[0,1])}catch(f){}try{n.subject.name=qe.hex2dn(n.subject.hex)}catch(f){}n.pubkey.hex=t(i,0,[0,2]),n.pubkey.obj=je.getKey(n.pubkey.hex,null,"pkcs8pub");try{n.ext=[];var r=new qe;r.parseExt(e),n.ext.push({subjectAltName:{array:r.getExtSubjectAltName2()}})}catch(f){}return n},void 0!==ue&&ue||(ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),void 0!==ue.asn1.ocsp&&ue.asn1.ocsp||(ue.asn1.ocsp={}),ue.asn1.ocsp.DEFAULT_HASH="sha1",ue.asn1.ocsp.CertID=function(e){var t=ue.asn1,n=t.DEROctetString,i=t.DERInteger,r=t.DERSequence,s=t.x509.AlgorithmIdentifier,a=t.ocsp,o=a.DEFAULT_HASH,l=ue.crypto.Util.hashHex,u=qe,c=fe;if(a.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(e,t,r,a){void 0===a&&(a=o),this.dHashAlg=new s({name:a}),this.dIssuerNameHash=new n({hex:e}),this.dIssuerKeyHash=new n({hex:t}),this.dSerialNumber=new i({hex:r})},this.setByCert=function(e,t,n){void 0===n&&(n=o);var i=new u;i.readCertPEM(t);var r=new u;r.readCertPEM(e);var s=r.getPublicKeyHex(),a=c.getTLVbyList(s,0,[1,0],"30"),h=i.getSerialNumberHex(),f=l(r.getSubjectHex(),n),d=l(a,n);this.setByValue(f,d,h,n),this.hoge=i.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var e=new r({array:[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e){var h=e;if(void 0!==h.issuerCert&&void 0!==h.subjectCert){var f=o;void 0===h.alg&&(f=void 0),this.setByCert(h.issuerCert,h.subjectCert,f)}else{if(void 0===h.namehash||void 0===h.keyhash||void 0===h.serial)throw"invalid constructor arguments";f=o,void 0===h.alg&&(f=void 0),this.setByValue(h.namehash,h.keyhash,h.serial,f)}}},r.lang.extend(ue.asn1.ocsp.CertID,ue.asn1.ASN1Object),ue.asn1.ocsp.Request=function(e){var t=ue.asn1,n=t.DERSequence,i=t.ocsp;if(i.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var r=new i.CertID(e);this.dReqCert=r}},r.lang.extend(ue.asn1.ocsp.Request,ue.asn1.ASN1Object),ue.asn1.ocsp.TBSRequest=function(e){var t=ue.asn1,n=t.DERSequence,i=t.ocsp;i.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],n=0;n<e.length;n++){var r=new i.Request(e[0]);t.push(r)}this.dRequestList=t},this.getEncodedHex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new n({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var i=new n({array:e});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},r.lang.extend(ue.asn1.ocsp.TBSRequest,ue.asn1.ASN1Object),ue.asn1.ocsp.OCSPRequest=function(e){var t=ue.asn1,n=t.DERSequence,i=t.ocsp;if(i.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new n({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList){var r=new i.TBSRequest(e);this.dTbsRequest=r}},r.lang.extend(ue.asn1.ocsp.OCSPRequest,ue.asn1.ASN1Object),ue.asn1.ocsp.OCSPUtil={},ue.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,n){var i=ue.asn1.ocsp;return void 0===n&&(n=i.DEFAULT_HASH),new i.OCSPRequest({reqList:[{alg:n,issuerCert:e,subjectCert:t}]}).getEncodedHex()},ue.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=fe.getVbyList,n=fe.getVbyListEx,i=fe.getIdxbyList,r=fe.getV,s={};try{var a=n(e,0,[0],"0a");s.responseStatus=parseInt(a,16)}catch(c){}if(0!==s.responseStatus)return s;try{var o=i(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(o,2)?s.certStatus="good":"a1"===e.substr(o,2)?(s.certStatus="revoked",s.revocationTime=we(t(e,o,[0]))):"82"===e.substr(o,2)&&(s.certStatus="unknown")}catch(c){}try{var l=i(e,0,[1,0,1,0,0,2,0,2]);s.thisUpdate=we(r(e,l))}catch(c){}try{var u=i(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(u,2)&&(s.nextUpdate=we(t(e,u,[0])))}catch(c){}return s},void 0!==ue&&ue||(ue={}),void 0!==ue.lang&&ue.lang||(ue.lang={}),ue.lang.String=function(){},"function"==typeof Buffer?(ce=function(e){return me(new Buffer(e,"utf8").toString("base64"))},he=function(e){return new Buffer(ye(e),"base64").toString("utf8")}):(ce=function(e){return ke(Oe(Me(e)))},he=function(e){return decodeURIComponent(Re(be(e)))}),ue.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ue.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},ue.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ue.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ue.lang.String.isBase64(e))},ue.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:g.algo.MD5,sha1:g.algo.SHA1,sha224:g.algo.SHA224,sha256:g.algo.SHA256,sha384:g.algo.SHA384,sha512:g.algo.SHA512,ripemd160:g.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var i=this.getDigestInfoHex(e,t),r=n/4;if(i.length+22>r)throw"key is too short for SigAlg: keylen="+n+","+t;for(var s="0001",a="00"+i,o="",l=r-s.length-a.length,u=0;u<l;u+=2)o+="ff";return s+o+a},this.hashString=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ie||e instanceof ue.crypto.DSA||e instanceof ue.crypto.ECDSA}},ue.crypto.Util.md5=function(e){return new ue.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.ripemd160=function(e){return new ue.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.SECURERANDOMGEN=new ee,ue.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(t),ve(t)},ue.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new w(ue.crypto.Util.getRandomHexOfNbytes(e),16)},ue.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],ve(n)},ue.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new w(ue.crypto.Util.getRandomHexOfNbits(e),16)},ue.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ue.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ue.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var i=t.subtract(e);return ue.crypto.Util.getRandomBigIntegerZeroToMax(i).add(e)},ue.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ue.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(s){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+s}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(g.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(s){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+s}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ue.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ue.crypto.MessageDigest.getHashLength=function(e){var t=ue.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ue.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ue.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{this.mac=g.algo.HMAC.create(ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n],this.pass)}catch(h){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+h}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(g.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Se(e)),void(this.pass=g.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Ce(e.utf8)),void 0!==e.rstr&&(t=Se(e.rstr)),void 0!==e.b64&&(t=b(e.b64)),void 0!==e.b64u&&(t=be(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=g.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ue.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",i=t/4-e.length,r=0;r<i;r++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ue.crypto.MessageDigest({alg:this.mdAlgName})}catch(n){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+n)}this.init=function(e,t){var n=null;try{n=void 0===t?je.getKey(e):je.getKey(e,t)}catch(i){throw"init failed:"+i}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ue.crypto.ECDSA&&(this.prvKey=new ue.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ie&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ue.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ue.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ue.crypto.ECDSA&&(this.pubKey=new ue.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ie&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ie&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.ECDSA&&this.pubKey instanceof ue.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.DSA&&this.pubKey instanceof ue.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,this.provName=void 0===e.prov?ue.crypto.Util.DEFAULTPROVIDER[this.algName]:e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=je.getKey(e.prvkeypem),this.init(t)}catch(c){throw"fatal error to load pem private key: "+c}}},ue.crypto.Cipher=function(e){},ue.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof ie&&t.isPublic){var i=ue.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===i)return t.encrypt(e);if("RSAOAEP"===i)return t.encryptOAEP(e,"sha1");var r=i.match(/^RSAOAEP(\d+)$/);if(null!==r)return t.encryptOAEP(e,"sha"+r[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ue.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof ie&&t.isPrivate){var i=ue.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===i)return t.decrypt(e);if("RSAOAEP"===i)return t.decryptOAEP(e,"sha1");var r=i.match(/^RSAOAEP(\d+)$/);if(null!==r)return t.decryptOAEP(e,"sha"+r[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ue.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ie){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ue.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECDSA=function(e){var t=Error,n=w,i=ae,r=ue.crypto.ECDSA,s=ue.crypto.ECParameterDB,a=r.getName,o=fe.getVbyListEx,l=fe.isASN1HEX,u=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),u).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=s.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.getBigRandom(this.ecparams.n),t=this.ecparams.G.multiply(e),n=t.getX().toBigInteger(),i=t.getY().toBigInteger(),r=this.ecparams.keylen/4,s=("0000000000"+e.toString(16)).slice(-r),a="04"+("0000000000"+n.toString(16)).slice(-r)+("0000000000"+i.toString(16)).slice(-r);return this.setPrivateKeyHex(s),this.setPublicKeyHex(a),{ecprvhex:s,ecpubhex:a}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var i=new n(t,16),s=this.ecparams.n,a=new n(e.substring(0,this.ecparams.keylen/4),16);do{var o=this.getBigRandom(s),l=this.ecparams.G.multiply(o).getX().toBigInteger().mod(s)}while(l.compareTo(n.ZERO)<=0);var u=o.modInverse(s).multiply(a.add(i.multiply(l))).mod(s);return r.biRSSigToASN1Sig(l,u)},this.sign=function(e,t){var i=t,r=this.ecparams.n,s=n.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(r),o=this.ecparams.G.multiply(a).getX().toBigInteger().mod(r)}while(o.compareTo(w.ZERO)<=0);var l=a.modInverse(r).multiply(s.add(i.multiply(o))).mod(r);return this.serializeSig(o,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,s){try{var a,o,l=r.parseSigHex(t);a=l.r,o=l.s;var u=i.decodeFromHex(this.ecparams.curve,s),c=new n(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(c,a,o,u)}catch(h){return!1}},this.verify=function(e,t,r){var s,a,o;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);s=l.r,a=l.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";s=t.r,a=t.s}if(r instanceof ae)o=r;else{if(!Bitcoin.Util.isArray(r))throw"Invalid format for pubkey value, must be byte array or ECPointFp";o=i.decodeFrom(this.ecparams.curve,r)}var u=n.fromByteArrayUnsigned(e);return this.verifyRaw(u,s,a,o)},this.verifyRaw=function(e,t,i,r){var s=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(s)>=0)return!1;if(i.compareTo(n.ONE)<0||i.compareTo(s)>=0)return!1;var o=i.modInverse(s),l=e.multiply(o).mod(s),u=t.multiply(o).mod(s);return a.multiply(l).add(r.multiply(u)).getX().toBigInteger().mod(s).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),i=t.toByteArraySigned(),r=[];return r.push(2),r.push(n.length),(r=r.concat(n)).push(2),r.push(i.length),(r=r.concat(i)).unshift(r.length),r.unshift(48),r},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(i),s:n.fromByteArrayUnsigned(r)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var i=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(i),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(i),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,n,i;try{t=o(e,0,["[0]",0],"06"),n=o(e,0,[1],"04");try{i=o(e,0,["[1]",0],"03")}catch(r){}}catch(r){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,i,r;try{o(e,0,[1,0],"06"),n=o(e,0,[1,1],"06"),i=o(e,0,[2,0,1],"04");try{r=o(e,0,[2,0,"[1]",0],"03")}catch(s){}}catch(s){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(i),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var n,i;try{o(e,0,[0,0],"06"),n=o(e,0,[0,1],"06"),i=o(e,0,[1],"03")}catch(r){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},this.readCertPubKeyHex=function(e,n){if(!1===l(e))throw new t("not ASN.1 hex string");var i,r;try{i=o(e,0,[0,5,0,1],"06"),r=o(e,0,[0,5,1],"03")}catch(s){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=a(i),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ue.crypto.ECDSA.parseSigHex=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new w(t.r,16),s:new w(t.s,16)}},ue.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=fe.getChildIdx,n=fe.getV;if(fe.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=t(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var r=i[0],s=i[1];if("02"!=e.substr(r,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(s,2))throw new Error("2nd item not ASN.1 integer");return{r:n(e,r),s:n(e,s)}},ue.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,i=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==i.substr(0,2)&&i.length%32==2&&(i=i.substr(2)),n.length%32==30&&(n="00"+n),i.length%32==30&&(i="00"+i),n.length%32!=0)throw"unknown ECDSA sig r length error";if(i.length%32!=0)throw"unknown ECDSA sig s length error";return n+i},ue.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ue.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ue.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new w(e,16),i=new w(t,16);return ue.crypto.ECDSA.biRSSigToASN1Sig(n,i)},ue.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ue.asn1,i=new n.DERInteger({bigint:e}),r=new n.DERInteger({bigint:t});return new n.DERSequence({array:[i,r]}).getEncodedHex()},ue.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new w(e,16)}this.getByName=function(n){var i=n;if(void 0!==t[i]&&(i=t[n]),void 0!==e[i])return e[i];throw"unregistered EC curve name: "+i},this.regist=function(i,r,s,a,o,l,u,c,h,f,d,p){e[i]={};var v=n(s),g=n(a),m=n(o),y=n(l),k=n(u),b=new oe(v,g,m),C=b.decodePointHex("04"+c+h);e[i].name=i,e[i].keylen=r,e[i].curve=b,e[i].G=C,e[i].n=y,e[i].h=k,e[i].oid=d,e[i].info=p;for(var w=0;w<f.length;w++)t[f[w]]=i}},ue.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ue.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ue.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ue.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ue.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ue.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ue.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ue.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ue&&ue||(ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.DSA=function(){var e=fe.getVbyListEx,t=fe.isASN1HEX,n=w;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,n,i,r){this.isPrivate=!0,this.p=e,this.q=t,this.g=n,this.y=i,this.x=r},this.setPrivateHex=function(e,t,n,i,r){var s,a,o,l,u;s=new w(e,16),a=new w(t,16),o=new w(n,16),l="string"==typeof i&&i.length>1?new w(i,16):null,u=new w(r,16),this.setPrivate(s,a,o,l,u)},this.setPublic=function(e,t,n,i){this.isPublic=!0,this.p=e,this.q=t,this.g=n,this.y=i,this.x=null},this.setPublicHex=function(e,t,n,i){var r,s,a,o;r=new w(e,16),s=new w(t,16),a=new w(n,16),o=new w(i,16),this.setPublic(r,s,a,o)},this.signWithMessageHash=function(e){var t=this.p,n=this.q,i=this.g,r=this.x,s=ue.crypto.Util.getRandomBigIntegerMinToMax(w.ONE.add(w.ONE),n.subtract(w.ONE)),a=new w(e.substr(0,n.bitLength()/4),16),o=i.modPow(s,t).mod(n),l=s.modInverse(n).multiply(a.add(r.multiply(o))).mod(n);return ue.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:o}},{int:{bigint:l}}]})},this.verifyWithMessageHash=function(e,t){var n=this.p,i=this.q,r=this.g,s=this.y,a=this.parseASN1Signature(t),o=a[0],l=a[1],u=new w(e.substr(0,i.bitLength()/4),16);if(w.ZERO.compareTo(o)>0||o.compareTo(i)>0)throw"invalid DSA signature";if(w.ZERO.compareTo(l)>=0||l.compareTo(i)>0)throw"invalid DSA signature";var c=l.modInverse(i),h=u.multiply(c).mod(i),f=o.multiply(c).mod(i);return 0==r.modPow(h,n).multiply(s.modPow(f,n)).mod(n).mod(i).compareTo(o)},this.parseASN1Signature=function(t){try{return[new n(e(t,0,[0],"02"),16),new n(e(t,0,[1],"02"),16)]}catch(i){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(n){var i,r,s,a,o;if(!1===t(n))throw new Error("not ASN.1 hex string");try{i=e(n,0,[1],"02"),r=e(n,0,[2],"02"),s=e(n,0,[3],"02"),a=e(n,0,[4],"02"),o=e(n,0,[5],"02")}catch(l){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(i,r,s,a,o)},this.readPKCS8PrvKeyHex=function(n){var i,r,s,a;if(!1===t(n))throw new Error("not ASN.1 hex string");try{i=e(n,0,[1,1,0],"02"),r=e(n,0,[1,1,1],"02"),s=e(n,0,[1,1,2],"02"),a=e(n,0,[2,0],"02")}catch(o){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(i,r,s,null,a)},this.readPKCS8PubKeyHex=function(n){var i,r,s,a;if(!1===t(n))throw new Error("not ASN.1 hex string");try{i=e(n,0,[0,1,0],"02"),r=e(n,0,[0,1,1],"02"),s=e(n,0,[0,1,2],"02"),a=e(n,0,[1,0],"02")}catch(o){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(i,r,s,a)},this.readCertPubKeyHex=function(n,i){var r,s,a,o;if(!1===t(n))throw new Error("not ASN.1 hex string");try{r=e(n,0,[0,5,0,1,0],"02"),s=e(n,0,[0,5,0,1,1],"02"),a=e(n,0,[0,5,0,1,2],"02"),o=e(n,0,[0,5,1,0],"02")}catch(l){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(r,s,a,o)}};var je=function(){var e=function(e,n,i){return t(g.AES,e,n,i)},t=function(e,t,n,i){var r=g.enc.Hex.parse(t),s=g.enc.Hex.parse(n),a=g.enc.Hex.parse(i),o={};o.key=s,o.iv=a,o.ciphertext=r;var l=e.decrypt(o,s,{iv:a});return g.enc.Hex.stringify(l)},n=function(e,t,n){return i(g.AES,e,t,n)},i=function(e,t,n,i){var r=g.enc.Hex.parse(t),s=g.enc.Hex.parse(n),a=g.enc.Hex.parse(i),o=e.encrypt(r,s,{iv:a}),l=g.enc.Hex.parse(o.toString());return g.enc.Base64.stringify(l)},r={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,i){return t(g.TripleDES,e,n,i)},eproc:function(e,t,n){return i(g.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,i){return t(g.DES,e,n,i)},eproc:function(e,t,n){return i(g.DES,e,t,n)},keylen:8,ivlen:8}},s=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var i=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));i&&(t.type=i[1]);var r=-1,s=0;-1!=e.indexOf("\r\n\r\n")&&(r=e.indexOf("\r\n\r\n"),s=2),-1!=e.indexOf("\n\n")&&(r=e.indexOf("\n\n"),s=1);var a=e.indexOf("-----END");if(-1!=r&&-1!=a){var o=e.substring(r+2*s,a-s);o=o.replace(/\s+/g,""),t.data=o}return t},a=function(e,t,n){for(var i=n.substring(0,16),s=g.enc.Hex.parse(i),a=g.enc.Utf8.parse(t),o=r[e].keylen+r[e].ivlen,l="",u=null;;){var c=g.algo.MD5.create();if(null!=u&&c.update(u),c.update(a),c.update(s),u=c.finalize(),(l+=g.enc.Hex.stringify(u)).length>=2*o)break}var h={};return h.keyhex=l.substr(0,2*r[e].keylen),h.ivhex=l.substr(2*r[e].keylen,2*r[e].ivlen),h},o=function(e,t,n,i){var s=g.enc.Base64.parse(e),a=g.enc.Hex.stringify(s);return(0,r[t].proc)(a,n,i)};return{version:"1.0.0",parsePKCS5PEM:function(e){return s(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return a(e,t,n)},decryptKeyB64:function(e,t,n,i){return o(e,t,n,i)},getDecryptedKeyHex:function(e,t){var n=s(e),i=n.cipher,r=n.ivsalt,l=n.data,u=a(i,t,r);return o(l,i,u.keyhex,r)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,i,s){var o="";if(void 0!==i&&null!=i||(i="AES-256-CBC"),void 0===r[i])throw"KEYUTIL unsupported algorithm: "+i;void 0!==s&&null!=s||(s=function(e){var t=g.lib.WordArray.random(e);return g.enc.Hex.stringify(t)}(r[i].ivlen).toUpperCase());var l=function(e,t,n,i){return(0,r[t].eproc)(e,n,i)}(t,i,a(i,n,s).keyhex,s);return o="-----BEGIN "+e+" PRIVATE KEY-----\r\n",o+="Proc-Type: 4,ENCRYPTED\r\n",o+="DEK-Info: "+i+","+s+"\r\n",o+="\r\n",(o+=l.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=fe.getChildIdx,n=fe.getV,i={},r=t(e,0);if(2!=r.length)throw"malformed format: SEQUENCE(0).items != 2: "+r.length;i.ciphertext=n(e,r[1]);var s=t(e,r[0]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+s.length;if("2a864886f70d01050d"!=n(e,s[0]))throw"this only supports pkcs5PBES2";var a=t(e,s[1]);if(2!=s.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+a.length;var o=t(e,a[1]);if(2!=o.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+o.length;if("2a864886f70d0307"!=n(e,o[0]))throw"this only supports TripleDES";i.encryptionSchemeAlg="TripleDES",i.encryptionSchemeIV=n(e,o[1]);var l=t(e,a[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=n(e,l[0]))throw"this only supports pkcs5PBKDF2";var u=t(e,l[1]);if(u.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+u.length;i.pbkdf2Salt=n(e,u[0]);var c=n(e,u[1]);try{i.pbkdf2Iter=parseInt(c,16)}catch(h){throw"malformed format pbkdf2Iter: "+c}return i},getPBKDF2KeyHexFromParam:function(e,t){var n=g.enc.Hex.parse(e.pbkdf2Salt),i=g.PBKDF2(t,n,{keySize:6,iterations:e.pbkdf2Iter});return g.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Fe(e,"ENCRYPTED PRIVATE KEY"),i=this.parseHexOfEncryptedPKCS8(n),r=je.getPBKDF2KeyHexFromParam(i,t),s={};s.ciphertext=g.enc.Hex.parse(i.ciphertext);var a=g.enc.Hex.parse(r),o=g.enc.Hex.parse(i.encryptionSchemeIV),l=g.TripleDES.decrypt(s,a,{iv:o});return g.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=fe,n=t.getChildIdx,i=t.getV,r={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var s=n(e,0);if(3!=s.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(s[1],2))throw"malformed PKCS8 private key(code:003)";var a=n(e,s[1]);if(2!=a.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 private key(code:005)";if(r.algoid=i(e,a[0]),"06"==e.substr(a[1],2)&&(r.algparam=i(e,a[1])),"04"!=e.substr(s[2],2))throw"malformed PKCS8 private key(code:006)";return r.keyidx=t.getVidx(e,s[2]),r},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Fe(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new ie;else if("2a8648ce380401"==n.algoid)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw"unsupported private key algorithm";t=new ue.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=fe.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new ie;else if("2a8648ce380401"===n)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw"unsupported PKCS#8 public key hex";t=new ue.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=fe.getChildIdx,n=fe.getV,i={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var r=t(e,0);if(2!=r.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(r[0],2))throw"malformed RSA key(code:003)";if(i.n=n(e,r[0]),"02"!=e.substr(r[1],2))throw"malformed RSA key(code:004)";return i.e=n(e,r[1]),i},parsePublicPKCS8Hex:function(e){var t=fe,n=t.getChildIdx,i=t.getV,r={algparam:null},s=n(e,0);if(2!=s.length)throw"outer DERSequence shall have 2 elements: "+s.length;var a=s[0];if("30"!=e.substr(a,2))throw"malformed PKCS8 public key(code:001)";var o=n(e,a);if(2!=o.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(o[0],2))throw"malformed PKCS8 public key(code:003)";if(r.algoid=i(e,o[0]),"06"==e.substr(o[1],2)?r.algparam=i(e,o[1]):"30"==e.substr(o[1],2)&&(r.algparam={},r.algparam.p=t.getVbyList(e,o[1],[0],"02"),r.algparam.q=t.getVbyList(e,o[1],[1],"02"),r.algparam.g=t.getVbyList(e,o[1],[2],"02")),"03"!=e.substr(s[1],2))throw"malformed PKCS8 public key(code:004)";return r.key=i(e,s[1]).substr(2),r}}}();je.getKey=function(e,t,n){var i,r=(k=fe).getChildIdx,s=k.getVbyList,a=ue.crypto,o=a.ECDSA,l=a.DSA,u=ie,c=Fe,h=je;if(void 0!==u&&e instanceof u)return e;if(void 0!==o&&e instanceof o)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new o({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new o({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(D=new u).setPublic(e.n,e.e),D;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(D=new u).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),D;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(D=new u).setPrivate(e.n,e.e,e.d),D;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(D=new l).setPublic(e.p,e.q,e.g,e.y),D;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(D=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),D;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(D=new u).setPublic(be(e.n),be(e.e)),D;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(D=new u).setPrivateEx(be(e.n),be(e.e),be(e.d),be(e.p),be(e.q),be(e.dp),be(e.dq),be(e.qi)),D;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(D=new u).setPrivate(be(e.n),be(e.e),be(e.d)),D;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var f=(A=new o({curve:e.crv})).ecparams.keylen/4,d=("0000000000"+be(e.x)).slice(-f),p=("0000000000"+be(e.y)).slice(-f);return A.setPublicKeyHex(v="04"+d+p),A}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){f=(A=new o({curve:e.crv})).ecparams.keylen/4;var v="04"+(d=("0000000000"+be(e.x)).slice(-f))+(p=("0000000000"+be(e.y)).slice(-f)),g=("0000000000"+be(e.d)).slice(-f);return A.setPublicKeyHex(v),A.setPrivateKeyHex(g),A}if("pkcs5prv"===n){var m,y=e,k=fe;if(9===(m=r(y,0)).length)(D=new u).readPKCS5PrvKeyHex(y);else if(6===m.length)(D=new l).readPKCS5PrvKeyHex(y);else{if(!(m.length>2&&"04"===y.substr(m[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(D=new o).readPKCS5PrvKeyHex(y)}return D}if("pkcs8prv"===n)return h.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return h._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return qe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return qe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var b=Fe(e,"PUBLIC KEY");return h._getKeyFromPublicPKCS8Hex(b)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var C=c(e,"RSA PRIVATE KEY");return h.getKey(C,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var _=s(i=c(e,"DSA PRIVATE KEY"),0,[1],"02"),S=s(i,0,[2],"02"),x=s(i,0,[3],"02"),E=s(i,0,[4],"02"),I=s(i,0,[5],"02");return(D=new l).setPrivate(new w(_,16),new w(S,16),new w(x,16),new w(E,16),new w(I,16)),D}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return C=c(e,"EC PRIVATE KEY"),h.getKey(C,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return h.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var T=h.getDecryptedKeyHex(e,t),F=new ie;return F.readPKCS5PrvKeyHex(T),F}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A,D=s(i=h.getDecryptedKeyHex(e,t),0,[1],"04"),O=s(i,0,[2,0],"06"),R=s(i,0,[3,0],"03").substr(2);if(void 0===ue.crypto.OID.oidhex2name[O])throw"undefined OID(hex) in KJUR.crypto.OID: "+O;return(A=new o({curve:ue.crypto.OID.oidhex2name[O]})).setPublicKeyHex(R),A.setPrivateKeyHex(D),A.isPublic=!1,A}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return _=s(i=h.getDecryptedKeyHex(e,t),0,[1],"02"),S=s(i,0,[2],"02"),x=s(i,0,[3],"02"),E=s(i,0,[4],"02"),I=s(i,0,[5],"02"),(D=new l).setPrivate(new w(_,16),new w(S,16),new w(x,16),new w(E,16),new w(I,16)),D;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return h.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},je.generateKeypair=function(e,t){if("RSA"==e){var n=t;(a=new ie).generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var i=new ie,r=a.n.toString(16),s=a.e.toString(16);return i.setPublic(r,s),i.isPrivate=!1,i.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=i,o}if("EC"==e){var a,o,l=t,u=new ue.crypto.ECDSA({curve:l}).generateKeyPairHex();return(a=new ue.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),a.setPrivateKeyHex(u.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(i=new ue.crypto.ECDSA({curve:l})).setPublicKeyHex(u.ecpubhex),i.isPrivate=!1,i.isPublic=!0,(o={}).prvKeyObj=a,o.pubKeyObj=i,o}throw"unknown algorithm: "+e},je.getPEM=function(e,t,n,i,r,s){var a=ue.asn1,o=a.DERObjectIdentifier,l=a.DERInteger,u=a.ASN1Util.newObject,c=ue.crypto,h=c.DSA,f=c.ECDSA,d=ie;function p(e){return u({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function v(e){return u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function m(e){return u({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==d&&e instanceof d||void 0!==h&&e instanceof h||void 0!==f&&e instanceof f)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Te(C=new(0,a.x509.SubjectPublicKeyInfo)(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===n||null==n)&&1==e.isPrivate)return Te(C=p(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==f&&e instanceof f&&(void 0===n||null==n)&&1==e.isPrivate){var y=new o({name:e.curveName}).getEncodedHex(),k=v(e).getEncodedHex(),b="";return(b+=Te(y,"EC PARAMETERS"))+Te(k,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===n||null==n)&&1==e.isPrivate)return Te(C=m(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==n&&null!=n&&1==e.isPrivate){var C=p(e).getEncodedHex();return void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",C,n,i,s)}if("PKCS5PRV"==t&&void 0!==f&&e instanceof f&&void 0!==n&&null!=n&&1==e.isPrivate)return C=v(e).getEncodedHex(),void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",C,n,i,s);if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==n&&null!=n&&1==e.isPrivate)return C=m(e).getEncodedHex(),void 0===i&&(i="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",C,n,i,s);var w=function(e,t){var n=_(e,t);return new u({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},_=function(e,t){var n=g.lib.WordArray.random(8),i=g.lib.WordArray.random(8),r=g.PBKDF2(t,n,{keySize:6,iterations:100}),s=g.enc.Hex.parse(e),a=g.TripleDES.encrypt(s,r,{iv:i})+"",o={};return o.ciphertext=a,o.pbkdf2Salt=g.enc.Hex.stringify(n),o.pbkdf2Iter=100,o.encryptionSchemeAlg="DES-EDE3-CBC",o.encryptionSchemeIV=g.enc.Hex.stringify(i),o};if("PKCS8PRV"==t&&null!=d&&e instanceof d&&1==e.isPrivate){var S=p(e).getEncodedHex();return C=u({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:S}}]}).getEncodedHex(),void 0===n||null==n?Te(C,"PRIVATE KEY"):Te(k=w(C,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==f&&e instanceof f&&1==e.isPrivate)return S=new u({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),C=u({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:S}}]}).getEncodedHex(),void 0===n||null==n?Te(C,"PRIVATE KEY"):Te(k=w(C,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return S=new l({bigint:e.x}).getEncodedHex(),C=u({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:S}}]}).getEncodedHex(),void 0===n||null==n?Te(C,"PRIVATE KEY"):Te(k=w(C,n),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},je.getKeyFromCSRPEM=function(e){var t=Fe(e,"CERTIFICATE REQUEST");return je.getKeyFromCSRHex(t)},je.getKeyFromCSRHex=function(e){var t=je.parseCSRHex(e);return je.getKey(t.p8pubkeyhex,null,"pkcs8pub")},je.parseCSRHex=function(e){var t=fe.getChildIdx,n=fe.getTLV,i={},r=e;if("30"!=r.substr(0,2))throw"malformed CSR(code:001)";var s=t(r,0);if(s.length<1)throw"malformed CSR(code:002)";if("30"!=r.substr(s[0],2))throw"malformed CSR(code:003)";var a=t(r,s[0]);if(a.length<3)throw"malformed CSR(code:004)";return i.p8pubkeyhex=n(r,a[2]),i},je.getKeyID=function(e){var t=je,n=fe;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var i=Fe(t.getPEM(e)),r=n.getIdxbyList(i,0,[1]),s=n.getV(i,r).substring(2);return ue.crypto.Util.hashHex(s,"sha1")},je.getJWKFromKey=function(e){var t={};if(e instanceof ie&&e.isPrivate)return t.kty="RSA",t.n=ke(e.n.toString(16)),t.e=ke(e.e.toString(16)),t.d=ke(e.d.toString(16)),t.p=ke(e.p.toString(16)),t.q=ke(e.q.toString(16)),t.dp=ke(e.dmp1.toString(16)),t.dq=ke(e.dmq1.toString(16)),t.qi=ke(e.coeff.toString(16)),t;if(e instanceof ie&&e.isPublic)return t.kty="RSA",t.n=ke(e.n.toString(16)),t.e=ke(e.e.toString(16)),t;if(e instanceof ue.crypto.ECDSA&&e.isPrivate){if("P-256"!==(i=e.getShortNISTPCurveName())&&"P-384"!==i)throw"unsupported curve name for JWT: "+i;var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=i,t.x=ke(n.x),t.y=ke(n.y),t.d=ke(e.prvKeyHex),t}if(e instanceof ue.crypto.ECDSA&&e.isPublic){var i;if("P-256"!==(i=e.getShortNISTPCurveName())&&"P-384"!==i)throw"unsupported curve name for JWT: "+i;return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=i,t.x=ke(n.x),t.y=ke(n.y),t}throw"not supported key object"},ie.getPosArrayOfChildrenFromHex=function(e){return fe.getChildIdx(e,0)},ie.getHexValueArrayOfChildrenFromHex=function(e){var t,n=fe.getV,i=n(e,(t=ie.getPosArrayOfChildrenFromHex(e))[0]),r=n(e,t[1]),s=n(e,t[2]),a=n(e,t[3]),o=n(e,t[4]),l=n(e,t[5]),u=n(e,t[6]),c=n(e,t[7]),h=n(e,t[8]);return(t=new Array).push(i,r,s,a,o,l,u,c,h),t},ie.prototype.readPrivateKeyFromPEMString=function(e){var t=Fe(e),n=ie.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},ie.prototype.readPKCS5PrvKeyHex=function(e){var t=ie.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ie.prototype.readPKCS8PrvKeyHex=function(e){var t,n,i,r,s,a,o,l,u=fe.getVbyListEx;if(!1===fe.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=u(e,0,[2,0,1],"02"),n=u(e,0,[2,0,2],"02"),i=u(e,0,[2,0,3],"02"),r=u(e,0,[2,0,4],"02"),s=u(e,0,[2,0,5],"02"),a=u(e,0,[2,0,6],"02"),o=u(e,0,[2,0,7],"02"),l=u(e,0,[2,0,8],"02")}catch(c){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,i,r,s,a,o,l)},ie.prototype.readPKCS5PubKeyHex=function(e){var t=fe,n=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var i=t.getChildIdx(e,0);if(2!==i.length||"02"!==e.substr(i[0],2)||"02"!==e.substr(i[1],2))throw"wrong hex for PKCS#5 public key";var r=n(e,i[0]),s=n(e,i[1]);this.setPublic(r,s)},ie.prototype.readPKCS8PubKeyHex=function(e){var t=fe;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},ie.prototype.readCertPubKeyHex=function(e,t){var n,i;(n=new qe).readCertHex(e),i=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(i)};var Be=new RegExp("[^0-9a-f]","gi");function ze(e,t){for(var n="",i=t/4-e.length,r=0;r<i;r++)n+="0";return n+e}function Ue(e,t,n){for(var i="",r=0;i.length<t;)i+=_e(n(Se(e+String.fromCharCode.apply(String,[(4278190080&r)>>24,(16711680&r)>>16,(65280&r)>>8,255&r])))),r+=1;return i}function Ge(e){for(var t in ue.crypto.Util.DIGESTINFOHEAD){var n=ue.crypto.Util.DIGESTINFOHEAD[t],i=n.length;if(e.substring(0,i)==n)return[t,e.substring(i)]}return[]}function qe(){var e,t=fe,n=t.getChildIdx,i=t.getV,r=t.getTLV,s=t.getVbyList,a=t.getVbyListEx,o=t.getTLVbyList,u=t.getTLVbyListEx,c=t.getIdxbyList,h=t.getVidx,f=t.oidname,d=qe,p=Fe;try{e=ue.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(l){}this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==o(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return s(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){var t=u(this.hex,0,[0,1]);for(var n in e)if(t===e[n])return n;return f(a(this.hex,0,[0,1,0],"06"))},this.getIssuerHex=function(){return o(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return d.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return o(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return d.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=s(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=s(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return c(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return c(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return je.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return f(s(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return s(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),i=o(this.hex,0,[0],"30"),r=new ue.crypto.Signature({alg:t});return r.init(e),r.updateHex(i),r.verify(n)},this.parseExt=function(e){var r,a,o;if(void 0===e){if(3!==this.version)return-1;r=c(o=this.hex,0,[0,7,0],"30"),a=n(o,r)}else{o=Fe(e);var l=c(o,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(o,l))return void(this.aExtInfo=new Array);r=c(o,0,[0,3,0,1,0],"30"),a=n(o,r),this.hex=o}this.aExtInfo=new Array;for(var u=0;u<a.length;u++){var f={critical:!1},d=0;3===n(o,a[u]).length&&(f.critical=!0,d=1),f.oid=t.hextooidstr(s(o,a[u],[0],"06"));var p=c(o,a[u],[1+d]);f.vidx=h(o,p),this.aExtInfo.push(f)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ue.asn1.x509.OID.name2oid(e)),""!==n)for(var i=0;i<t.length;i++)if(t[i].oid===n)return t[i]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=i(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var n=i(t,6);return{cA:!0,pathLen:parseInt(n,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=i(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw new Error("malformed key usage value");var n=parseInt(t.substr(0,2)),r=parseInt(t.substr(2),16).toString(2);return(r=("0000000"+r).slice(-8)).substr(0,r.length-n)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,n=0;n<e.length;n++)"1"==e.substr(n,1)&&t.push(qe.KEYUSAGE_NAME[n]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:i(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var t={},s=r(this.hex,e.vidx),a=n(s,0),o=0;o<a.length;o++)"80"===s.substr(a[o],2)&&(t.kid=i(s,a[o]));return t},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,s=r(this.hex,e.vidx);if(""===s)return t;for(var a=n(s,0),o=0;o<a.length;o++)t.push(f(i(s,a[o])));return t},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,n=0;n<e.length;n++)"DNS"===e[n][0]&&t.push(e[n][1]);return t},this.getExtSubjectAltName2=function(){var e,t,s,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var o=new Array,l=r(this.hex,a.vidx),u=n(l,0),c=0;c<u.length;c++)s=l.substr(u[c],2),e=i(l,u[c]),"81"===s&&(t=we(e),o.push(["MAIL",t])),"82"===s&&(t=we(e),o.push(["DNS",t])),"84"===s&&(t=qe.hex2dn(e,0),o.push(["DN",t])),"86"===s&&(t=we(e),o.push(["URI",t])),"87"===s&&(t=Ne(e),o.push(["IP",t]));return o},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,i=n(this.hex,e.vidx),r=0;r<i.length;r++)try{var a=we(s(this.hex,i[r],[0,0,0],"86"));t.push(a)}catch(o){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},i=n(this.hex,e.vidx),r=0;r<i.length;r++){var a=s(this.hex,i[r],[0],"06"),o=s(this.hex,i[r],[1],"86");"2b06010505073001"===a&&t.ocsp.push(we(o)),"2b06010505073002"===a&&t.caissuer.push(we(o))}return t},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var t=r(this.hex,e.vidx),a=[],o=n(t,0),l=0;l<o.length;l++){var u={},c=n(t,o[l]);if(u.id=f(i(t,c[0])),2===c.length)for(var h=n(t,c[1]),d=0;d<h.length;d++){var p=s(t,h[d],[0],"06");"2b06010505070201"===p?u.cps=we(s(t,h[d],[1])):"2b06010505070202"===p&&(u.unotice=we(s(t,h[d],[1,0])))}a.push(u)}return a},this.readCertPEM=function(e){this.readCertHex(p(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{c(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var e,t,n;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ve(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ve(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var i=0;i<n.length;i++){var r=n[i],s=ue.asn1.x509.OID.oid2name(r.oid);""===s&&(s=r.oid);var a="";if(!0===r.critical&&(a="CRITICAL"),e+="  "+s+" "+a+":\n","basicConstraints"===s){var o=this.getExtBasicConstraints();void 0===o.cA?e+="    {}\n":(e+="    cA=true",void 0!==o.pathLen&&(e+=", pathLen="+o.pathLen),e+="\n")}else if("keyUsage"===s)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===s)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===s){var l=this.getExtAuthorityKeyIdentifier();void 0!==l.kid&&(e+="    kid="+l.kid+"\n")}else if("extKeyUsage"===s)e+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===s)e+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===s)e+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===s){var u=this.getExtAIAInfo();void 0!==u.ocsp&&(e+="    ocsp: "+u.ocsp.join(",")+"\n"),void 0!==u.caissuer&&(e+="    caissuer: "+u.caissuer.join(",")+"\n")}else if("certificatePolicies"===s)for(var c=this.getExtCertificatePolicies(),h=0;h<c.length;h++)void 0!==c[h].id&&(e+="    policy oid: "+c[h].id+"\n"),void 0!==c[h].cps&&(e+="    cps: "+c[h].cps+"\n")}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}ie.prototype.sign=function(e,t){var n=function(e){return ue.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},ie.prototype.signWithMessageHash=function(e,t){var n=te(ue.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return ze(this.doPrivate(n).toString(16),this.n.bitLength())},ie.prototype.signPSS=function(e,t,n){var i,r=(i=Se(e),ue.crypto.Util.hashHex(i,t));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},ie.prototype.signWithMessageHashPSS=function(e,t,n){var i,r=_e(e),s=r.length,a=this.n.bitLength()-1,o=Math.ceil(a/8),l=function(e){return ue.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=s;else if(-2===n)n=o-s-2;else if(n<-2)throw"invalid salt length";if(o<s+n+2)throw"data too long";var u="";n>0&&(u=new Array(n),(new ee).nextBytes(u),u=String.fromCharCode.apply(String,u));var c=_e(l(Se("\0\0\0\0\0\0\0\0"+r+u))),h=[];for(i=0;i<o-n-s-2;i+=1)h[i]=0;var f=String.fromCharCode.apply(String,h)+"\x01"+u,d=Ue(c,f.length,l),p=[];for(i=0;i<f.length;i+=1)p[i]=f.charCodeAt(i)^d.charCodeAt(i);for(p[0]&=~(65280>>8*o-a&255),i=0;i<s;i++)p.push(c.charCodeAt(i));return p.push(188),ze(this.doPrivate(new w(p)).toString(16),this.n.bitLength())},ie.prototype.verify=function(e,t){var n=te(t=(t=t.replace(Be,"")).replace(/[ \n]+/g,""),16);if(n.bitLength()>this.n.bitLength())return 0;var i=Ge(this.doPublic(n).toString(16).replace(/^1f+00/,""));if(0==i.length)return!1;var r=i[0];return i[1]==function(e){return ue.crypto.Util.hashString(e,r)}(e)},ie.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=te(t,16);if(n.bitLength()>this.n.bitLength())return 0;var i=Ge(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=i.length&&i[1]==e},ie.prototype.verifyPSS=function(e,t,n,i){var r,s=(r=Se(e),ue.crypto.Util.hashHex(r,n));return void 0===i&&(i=-1),this.verifyWithMessageHashPSS(s,t,n,i)},ie.prototype.verifyWithMessageHashPSS=function(e,t,n,i){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var r,s=new w(t,16),a=function(e){return ue.crypto.Util.hashHex(e,n)},o=_e(e),l=o.length,u=this.n.bitLength()-1,c=Math.ceil(u/8);if(-1===i||void 0===i)i=l;else if(-2===i)i=c-l-2;else if(i<-2)throw"invalid salt length";if(c<l+i+2)throw"data too long";var h=this.doPublic(s).toByteArray();for(r=0;r<h.length;r+=1)h[r]&=255;for(;h.length<c;)h.unshift(0);if(188!==h[c-1])throw"encoded message does not end in 0xbc";var f=(h=String.fromCharCode.apply(String,h)).substr(0,c-l-1),d=h.substr(f.length,l),p=65280>>8*c-u&255;if(0!=(f.charCodeAt(0)&p))throw"bits beyond keysize not zero";var v=Ue(d,f.length,a),g=[];for(r=0;r<f.length;r+=1)g[r]=f.charCodeAt(r)^v.charCodeAt(r);g[0]&=~p;var m=c-l-i-2;for(r=0;r<m;r+=1)if(0!==g[r])throw"leftmost octets not zero";if(1!==g[m])throw"0x01 marker not found";return d===_e(a(Se("\0\0\0\0\0\0\0\0"+o+String.fromCharCode.apply(String,g.slice(-i)))))},ie.SALT_LEN_HLEN=-1,ie.SALT_LEN_MAX=-2,ie.SALT_LEN_RECOVER=-2,qe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var n=new Array,i=fe.getChildIdx(e,t),r=0;r<i.length;r++)n.push(qe.hex2rdn(e,i[r]));return"/"+(n=n.map((function(e){return e.replace("/","\\/")}))).join("/")},qe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var n=new Array,i=fe.getChildIdx(e,t),r=0;r<i.length;r++)n.push(qe.hex2attrTypeValue(e,i[r]));return(n=n.map((function(e){return e.replace("+","\\+")}))).join("+")},qe.hex2attrTypeValue=function(e,t){var n=fe,i=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var r=n.getChildIdx(e,t);2!==r.length||e.substr(r[0],2);var s=i(e,r[0]),a=ue.asn1.ASN1Util.oidHexToInt(s);return ue.asn1.x509.OID.oid2atype(a)+"="+_e(i(e,r[1]))},qe.getPublicKeyFromCertHex=function(e){var t=new qe;return t.readCertHex(e),t.getPublicKey()},qe.getPublicKeyFromCertPEM=function(e){var t=new qe;return t.readCertPEM(e),t.getPublicKey()},qe.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,i=fe.getVbyList,r={algparam:null};return(t=new qe).readCertPEM(e),n=t.getPublicKeyHex(),r.keyhex=i(n,0,[1],"03").substr(2),r.algoid=i(n,0,[0,0],"06"),"2a8648ce3d0201"===r.algoid&&(r.algparam=i(n,0,[0,1],"06")),r},qe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ue&&ue||(ue={}),void 0!==ue.jws&&ue.jws||(ue.jws={}),ue.jws.JWS=function(){var e=ue.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var i=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==i)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var r=i[1],s=i[2],a=i[3],o=r+"."+s;if(this.parsedJWS={},this.parsedJWS.headB64U=r,this.parsedJWS.payloadB64U=s,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=o,!n){var l=be(a),u=te(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=u}var c=he(r),h=he(s);if(this.parsedJWS.headS=c,this.parsedJWS.payloadS=h,!e(c,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+c}}},ue.jws.JWS.sign=function(e,t,n,i,r){var s,a,o,l=ue.jws.JWS,u=l.readSafeJSONString,c=l.isSafeJSONString,h=ue.crypto,f=h.Mac,d=h.Signature,p=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(s=p.stringify(a=t)),"string"==typeof t){if(!c(s=t))throw"JWS Head is not safe JSON string: "+s;a=u(s)}if(o=n,"object"==typeof n&&(o=p.stringify(n)),""!=e&&null!=e||void 0===a.alg||(e=a.alg),""!=e&&null!=e&&void 0===a.alg&&(a.alg=e,s=p.stringify(a)),e!==a.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+a.alg;var v=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;v=l.jwsalg2sigalg[e];var g=ce(s)+"."+ce(o),m="";if("Hmac"==v.substr(0,4)){if(void 0===i)throw"mac key shall be specified for HS* alg";var y=new f({alg:v,prov:"cryptojs",pass:i});y.updateString(g),m=y.doFinal()}else if(-1!=v.indexOf("withECDSA")){(b=new d({alg:v})).init(i,r),b.updateString(g);var k=b.sign();m=ue.crypto.ECDSA.asn1SigToConcatSig(k)}else{var b;"none"!=v&&((b=new d({alg:v})).init(i,r),b.updateString(g),m=b.sign())}return g+"."+ke(m)},ue.jws.JWS.verify=function(e,t,n){var i,r=ue.jws.JWS,s=r.readSafeJSONString,a=ue.crypto,o=a.ECDSA,l=a.Mac,u=a.Signature;i=ie;var c=e.split(".");if(3!==c.length)return!1;var h,f=c[0]+"."+c[1],d=be(c[2]),p=s(he(c[0])),v=null;if(void 0===p.alg)throw"algorithm not specified in header";if(h=(v=p.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+v+":"))throw"algorithm '"+v+"' not accepted in the list";if("none"!=v&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=je.getKey(t)),!("RS"!=h&&"PS"!=h||t instanceof i))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==h&&!(t instanceof o))throw"key shall be a ECDSA obj for ES* algs";var g=null;if(void 0===r.jwsalg2sigalg[p.alg])throw"unsupported alg name: "+v;if("none"==(g=r.jwsalg2sigalg[v]))throw"not supported";if("Hmac"==g.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var m=new l({alg:g,pass:t});return m.updateString(f),d==m.doFinal()}if(-1!=g.indexOf("withECDSA")){var y,k=null;try{k=o.concatSigToASN1Sig(d)}catch(b){return!1}return(y=new u({alg:g})).init(t),y.updateString(f),y.verify(k)}return(y=new u({alg:g})).init(t),y.updateString(f),y.verify(d)},ue.jws.JWS.parse=function(e){var t,n,i=e.split("."),r={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[1],3==i.length&&(n=i[2]),r.headerObj=ue.jws.JWS.readSafeJSONString(he(i[0])),r.payloadObj=ue.jws.JWS.readSafeJSONString(he(t)),r.headerPP=JSON.stringify(r.headerObj,null,"  "),r.payloadPP=null==r.payloadObj?he(t):JSON.stringify(r.payloadObj,null,"  "),void 0!==n&&(r.sigHex=be(n)),r},ue.jws.JWS.verifyJWT=function(e,t,n){var i=ue.jws,r=i.JWS,s=r.readSafeJSONString,a=r.inArray,o=r.includedArray,l=e.split("."),u=l[0],c=l[1],h=(be(l[2]),s(he(u))),f=s(he(c));if(void 0===h.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(h.alg,n.alg))return!1;if(void 0!==f.iss&&"object"==typeof n.iss&&!a(f.iss,n.iss))return!1;if(void 0!==f.sub&&"object"==typeof n.sub&&!a(f.sub,n.sub))return!1;if(void 0!==f.aud&&"object"==typeof n.aud)if("string"==typeof f.aud){if(!a(f.aud,n.aud))return!1}else if("object"==typeof f.aud&&!o(f.aud,n.aud))return!1;var d=i.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(d=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==f.exp&&"number"==typeof f.exp&&f.exp+n.gracePeriod<d||void 0!==f.nbf&&"number"==typeof f.nbf&&d<f.nbf-n.gracePeriod||void 0!==f.iat&&"number"==typeof f.iat&&d<f.iat-n.gracePeriod||void 0!==f.jti&&void 0!==n.jti&&f.jti!==n.jti||!r.verify(e,t,n.alg))},ue.jws.JWS.includedArray=function(e,t){var n=ue.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var i=0;i<e.length;i++)if(!n(e[i],t))return!1;return!0},ue.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ue.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ue.jws.JWS.isSafeJSONString=function(e,t,n){var i=null;try{return"object"!=typeof(i=le(e))||i.constructor===Array?0:(t&&(t[n]=i),1)}catch(a){return 0}},ue.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=le(e))||t.constructor===Array?null:t}catch(a){return null}},ue.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ue.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=Se(t);return ke(ue.crypto.Util.hashHex(n,"sha256"))},ue.jws.IntDate={},ue.jws.IntDate.get=function(e){var t=ue.jws.IntDate,n=t.getNow,i=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return i(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ue.jws.IntDate.getZulu=function(e){return De(e)},ue.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ue.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ue.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ue&&ue||(ue={}),void 0!==ue.jws&&ue.jws||(ue.jws={}),ue.jws.JWSJS=function(){var e=ue.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,n,i){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var r=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var s=ue.jws.JWS.sign(e,t,this.sPayload,n,i).split(".");this.aHeader.push(s[0]),this.aSignature.push(s[2])}catch(p){throw this.aHeader.length>r&&this.aHeader.pop(),this.aSignature.length>r&&this.aSignature.pop(),"addSignature failed: "+p}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var n=e[t];if(2!==n.length)return!1;if(!1===this.verifyNth(t,n[0],n[1]))return!1}return!0},this.verifyNth=function(t,n,i){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var r=this.aHeader[t]+"."+this.sPayload+"."+this.aSignature[t],s=!1;try{s=e.verify(r,n,i)}catch(p){return!1}return s},this.readJWSJS=function(e){if("string"==typeof e){var n=t(e);if(null==n)throw"argument is not safe JSON object string";this.aHeader=n.headers,this.sPayload=n.payload,this.aSignature=n.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(s){throw"malformed JWS-JS JSON object: "+s}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ee,t.rng_seed_time=$,t.BigInteger=w,t.RSAKey=ie,t.ECDSA=ue.crypto.ECDSA,t.DSA=ue.crypto.DSA,t.Signature=ue.crypto.Signature,t.MessageDigest=ue.crypto.MessageDigest,t.Mac=ue.crypto.Mac,t.Cipher=ue.crypto.Cipher,t.KEYUTIL=je,t.ASN1HEX=fe,t.X509=qe,t.CryptoJS=g,t.b64tohex=b,t.b64toBA=C,t.ECFieldElementFp=se,t.ECPointFp=ae,t.ECCurveFp=oe,t.stoBA=de,t.BAtos=pe,t.BAtohex=ve,t.stohex=ge,t.stob64=function(e){return k(ge(e))},t.stob64u=function(e){return me(k(ge(e)))},t.b64utos=function(e){return pe(C(ye(e)))},t.b64tob64u=me,t.b64utob64=ye,t.hex2b64=k,t.hextob64u=ke,t.b64utohex=be,t.utf8tob64u=ce,t.b64utoutf8=he,t.utf8tob64=function(e){return k(Oe(Me(e)))},t.b64toutf8=function(e){return decodeURIComponent(Re(b(e)))},t.utf8tohex=Ce,t.hextoutf8=we,t.hextorstr=_e,t.rstrtohex=Se,t.hextob64=xe,t.hextob64nl=Ee,t.b64nltohex=Ie,t.hextopem=Te,t.pemtohex=Fe,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),i=0;i<e.length/2;i++)n.setUint8(i,parseInt(e.substr(2*i,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),i=0;i<e.byteLength;i++)t+=("00"+n.getUint8(i).toString(16)).slice(-2);return t},t.zulutomsec=Ae,t.zulutosec=De,t.zulutodate=function(e){return new Date(Ae(e))},t.datetozulu=function(e,t,n){var i,r=e.getUTCFullYear();if(t){if(r<1950||2049<r)throw"not proper year for UTCTime: "+r;i=(""+r).slice(-2)}else i=("000"+r).slice(-4);if(i+=("0"+(e.getUTCMonth()+1)).slice(-2),i+=("0"+e.getUTCDate()).slice(-2),i+=("0"+e.getUTCHours()).slice(-2),i+=("0"+e.getUTCMinutes()).slice(-2),i+=("0"+e.getUTCSeconds()).slice(-2),n){var s=e.getUTCMilliseconds();0!==s&&(i+="."+(s=(s=("00"+s).slice(-3)).replace(/0+$/g,"")))}return i+"Z"},t.uricmptohex=Oe,t.hextouricmp=Re,t.ipv6tohex=Pe,t.hextoipv6=Le,t.hextoip=Ne,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Pe(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var i="";try{for(var r=0;r<4;r++)i+=("0"+parseInt(n[r]).toString(16)).slice(-2);return i}catch(d){throw t}},t.encodeURIComponentAll=Me,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ve,t.intarystrtohex=He,t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var i=0;i<n;i++)if(e.charCodeAt(i)!=t.charCodeAt(i))return i;return e.length!=t.length?n:-1},t.KJUR=ue,t.crypto=ue.crypto,t.asn1=ue.asn1,t.jws=ue.jws,t.lang=ue.lang},zUnb:function(e,t,n){"use strict";var i,r,s,a,o,l,u,c,h;function f(e){return"function"==typeof e}n.r(t);var d=!1,p={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else d&&console.log("RxJS: Back to a better error behavior. Thank you. <3");d=e},get useDeprecatedSynchronousErrorHandling(){return d}};function v(e){setTimeout((function(){throw e}),0)}var g={closed:!0,next:function(e){},error:function(e){if(p.useDeprecatedSynchronousErrorHandling)throw e;v(e)},complete:function(){}},m=Array.isArray||function(e){return e&&"number"==typeof e.length};function y(e){return null!==e&&"object"==typeof e}var k,b=function(){function e(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),C=((k=function(){function e(t){_classCallCheck(this,e),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass(e,[{key:"unsubscribe",value:function(){var t;if(!this.closed){var n=this._parentOrParents,i=this._unsubscribe,r=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(f(i))try{i.call(this)}catch(u){t=u instanceof b?w(u.errors):[u]}if(m(r))for(var a=-1,o=r.length;++a<o;){var l=r[a];if(y(l))try{l.unsubscribe()}catch(u){t=t||[],u instanceof b?t=t.concat(w(u.errors)):t.push(u)}}if(t)throw new b(t)}}},{key:"add",value:function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var i=n;(n=new e)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof e){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new k),k);function w(e){return e.reduce((function(e,t){return e.concat(t instanceof b?t.errors:t)}),[])}var _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;switch(_classCallCheck(this,n),(s=t.call(this)).syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=g;break;case 1:if(!e){s.destination=g;break}if("object"==typeof e){e instanceof n?(s.syncErrorThrowable=e.syncErrorThrowable,s.destination=e,e.add(_assertThisInitialized(s))):(s.syncErrorThrowable=!0,s.destination=new x(_assertThisInitialized(s),e));break}default:s.syncErrorThrowable=!0,s.destination=new x(_assertThisInitialized(s),e,i,r)}return s}return _createClass(n,[{key:_,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}],[{key:"create",value:function(e,t,i){var r=new n(e,t,i);return r.syncErrorThrowable=!1,r}}]),n}(C),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a,o;_classCallCheck(this,n),(a=t.call(this))._parentSubscriber=e;var l=_assertThisInitialized(a);return f(i)?o=i:i&&(o=i.next,r=i.error,s=i.complete,i!==g&&(f((l=Object.create(i)).unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(_assertThisInitialized(a)))),a._context=l,a._next=o,a._error=r,a._complete=s,a}return _createClass(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;p.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=p.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):v(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;v(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};p.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),p.useDeprecatedSynchronousErrorHandling)throw n;v(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!p.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return p.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(v(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(S),E="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(e){return e}function T(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return F(t)}function F(e){return 0===e.length?I:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var A,D=((A=function(){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var i=this.operator,r=function(e,t,n){if(e){if(e instanceof S)return e;if(e[_])return e[_]()}return e||t||n?new S(e,t,n):new S(g)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||p.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),p.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){p.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,i=t.destination,r=t.isStopped;if(n||r)return!1;e=i&&i instanceof S?i:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=O(t))((function(t,i){var r;r=n.subscribe((function(t){try{e(t)}catch(n){i(n),r&&r.unsubscribe()}}),i,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:E,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:F(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=O(e))((function(e,n){var i;t.subscribe((function(e){return i=e}),(function(e){return n(e)}),(function(){return e(i)}))}))}}]),e}()).create=function(e){return new A(e)},A);function O(e){if(e||(e=p.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var R,P=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).subject=e,r.subscriber=i,r.closed=!1,r}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(C),N=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).destination=e,i}return n}(S),M=((R=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass(n,[{key:_,value:function(){return new N(this)}},{key:"lift",value:function(e){var t=new V(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new P;if(!this.isStopped)for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].next(e)}},{key:"error",value:function(e){if(this.closed)throw new P;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,i=t.slice(),r=0;r<n;r++)i[r].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new P;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),i=0;i<t;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new P;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new P;return this.hasError?(e.error(this.thrownError),C.EMPTY):this.isStopped?(e.complete(),C.EMPTY):(this.observers.push(e),new L(this,e))}},{key:"asObservable",value:function(){var e=new D;return e.source=this,e}}]),n}(D)).create=function(e,t){return new V(e,t)},R),V=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).destination=e,r.source=i,r}return _createClass(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):C.EMPTY}}]),n}(M);function H(e){return e&&"function"==typeof e.schedule}var j=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this)).parent=e,s.outerValue=i,s.outerIndex=r,s.index=0,s}return _createClass(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(S),B=function(e){return function(t){for(var n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()}};var z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",U=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function G(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var q=function(e){if(e&&"function"==typeof e[E])return i=e,function(e){var t=i[E]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(U(e))return B(e);if(G(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,v),e};if(e&&"function"==typeof e[z])return t=e,function(e){for(var n=t[z]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,i,r=y(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function K(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new j(e,n,i);if(!r.closed)return t instanceof D?t.subscribe(r):q(t)(r)}var W=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(S);function $(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Z(e,t))}}var Z=function(){function e(t,n){_classCallCheck(this,e),this.project=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Y(e,this.project,this.thisArg))}}]),e}(),Y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).project=i,s.count=0,s.thisArg=r||_assertThisInitialized(s),s}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(S);function Q(e,t){return new D((function(n){var i=new C,r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i}))}function J(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[E]}(e))return function(e,t){return new D((function(n){var i=new C;return i.add(t.schedule((function(){var r=e[E]();i.add(r.subscribe({next:function(e){i.add(t.schedule((function(){return n.next(e)})))},error:function(e){i.add(t.schedule((function(){return n.error(e)})))},complete:function(){i.add(t.schedule((function(){return n.complete()})))}}))}))),i}))}(e,t);if(G(e))return function(e,t){return new D((function(n){var i=new C;return i.add(t.schedule((function(){return e.then((function(e){i.add(t.schedule((function(){n.next(e),i.add(t.schedule((function(){return n.complete()})))})))}),(function(e){i.add(t.schedule((function(){return n.error(e)})))}))}))),i}))}(e,t);if(U(e))return Q(e,t);if(function(e){return e&&"function"==typeof e[z]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new D((function(n){var i,r=new C;return r.add((function(){i&&"function"==typeof i.return&&i.return()})),r.add(t.schedule((function(){i=e[z](),r.add(t.schedule((function(){if(!n.closed){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(s){return void n.error(s)}t?n.complete():(n.next(e),this.schedule())}})))}))),r}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof D?e:new D(q(e))}function X(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(i){return i.pipe(X((function(n,i){return J(e(n,i)).pipe($((function(e,r){return t(n,e,i,r)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new ee(e,n))})}var ee=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,e),this.project=t,this.concurrent=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new te(e,this.project,this.concurrent))}}]),e}(),te=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.concurrent=s,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=new j(this,t,n),r=this.destination;r.add(i);var s=K(this,e,void 0,void 0,i);s!==i&&r.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(W);function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return X(I,e)}function ie(e,t){return t?Q(e,t):new D(B(e))}function re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,s=t[t.length-1];return H(s)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(i=t.pop())):"number"==typeof s&&(i=t.pop()),null===r&&1===t.length&&t[0]instanceof D?t[0]:ne(i)(ie(t,r))}function se(){return function(e){return e.lift(new oe(e))}}var ae,oe=function(){function e(t){_classCallCheck(this,e),this.connectable=t}return _createClass(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var i=new le(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),e}(),le=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).connectable=i,r}return _createClass(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(S),ue={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(ae=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).source=e,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return _createClass(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new C).add(this.source.subscribe(new ce(this.getSubject(),this))),e.closed&&(this._connection=null,e=C.EMPTY)),e}},{key:"refCount",value:function(){return se()(this)}}]),n}(D).prototype)._subscribe},_isComplete:{value:ae._isComplete,writable:!0},getSubject:{value:ae.getSubject},connect:{value:ae.connect},refCount:{value:ae.refCount}},ce=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).connectable=i,r}return _createClass(n,[{key:"_error",value:function(e){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(N);function he(){return new M}function fe(e){return{toString:e}.toString()}function de(e,t,n){return fe((function(){var i=function(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}(t);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof r)return i.apply(this,t),this;var s=_construct(r,t);return a.annotation=s,a;function a(e,t,n){for(var i=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(s),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}))}var pe=de("Inject",(function(e){return{token:e}})),ve=de("Optional"),ge=de("Self"),me=de("SkipSelf"),ye=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ke(e){for(var t in e)if(e[t]===ke)return t;throw Error("Could not find renamed property on target object.")}function be(e,t){for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function we(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function _e(e){return Se(e,e[Ee])||Se(e,e[Fe])}function Se(e,t){return t&&t.token===e?t:null}function xe(e){return e&&(e.hasOwnProperty(Ie)||e.hasOwnProperty(Ae))?e[Ie]:null}var Ee=ke({"\u0275prov":ke}),Ie=ke({"\u0275inj":ke}),Te=ke({"\u0275provFallback":ke}),Fe=ke({ngInjectableDef:ke}),Ae=ke({ngInjectorDef:ke});function De(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(De).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Oe(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}var Re=ke({__forward_ref__:ke});function Pe(e){return e.__forward_ref__=Pe,e.toString=function(){return De(this())},e}function Le(e){return Ne(e)?e():e}function Ne(e){return"function"==typeof e&&e.hasOwnProperty(Re)&&e.__forward_ref__===Pe}var Me,Ve="undefined"!=typeof globalThis&&globalThis,He="undefined"!=typeof window&&window,je="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Be="undefined"!=typeof global&&global,ze=Ve||Be||He||je,Ue=ke({"\u0275cmp":ke}),Ge=ke({"\u0275dir":ke}),qe=ke({"\u0275pipe":ke}),Ke=ke({"\u0275mod":ke}),We=ke({"\u0275loc":ke}),$e=ke({"\u0275fac":ke}),Ze=ke({__NG_ELEMENT_ID__:ke}),Ye=function(){function e(t,n){_classCallCheck(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ce({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),Qe=new Ye("INJECTOR",-1),Je={},Xe=/\n/gm,et=ke({provide:String,useValue:ke}),tt=void 0;function nt(e){var t=tt;return tt=e,t}function it(e){var t=Me;return Me=e,t}function rt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye.Default;if(void 0===tt)throw new Error("inject() must be called from an injection context");return null===tt?at(e,void 0,t):tt.get(e,t&ye.Optional?null:void 0,t)}function st(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye.Default;return(Me||rt)(Le(e),t)}function at(e,t,n){var i=_e(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&ye.Optional)return null;if(void 0!==t)return t;throw new Error("Injector: NOT_FOUND [".concat(De(e),"]"))}function ot(e){for(var t=[],n=0;n<e.length;n++){var i=Le(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,s=ye.Default,a=0;a<i.length;a++){var o=i[a];o instanceof ve||"Optional"===o.ngMetadataName||o===ve?s|=ye.Optional:o instanceof me||"SkipSelf"===o.ngMetadataName||o===me?s|=ye.SkipSelf:o instanceof ge||"Self"===o.ngMetadataName||o===ge?s|=ye.Self:r=o instanceof pe||o===pe?o.token:o}t.push(st(r,s))}else t.push(st(i))}return t}var lt=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je;if(t===Je){var n=new Error("NullInjectorError: No provider for ".concat(De(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}(),ut=function e(){_classCallCheck(this,e)},ct=function e(){_classCallCheck(this,e)};function ht(e,t){for(var n=0;n<e.length;n++)t.push(e[n])}function ft(e,t){e.forEach((function(e){return Array.isArray(e)?ft(e,t):t(e)}))}function dt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function pt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function vt(e,t){for(var n=[],i=0;i<e;i++)n.push(t);return n}function gt(e,t,n){var i=yt(e,t);return i>=0?e[1|i]=n:function(e,t,n,i){var r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i=~i,t,n),i}function mt(e,t){var n=yt(e,t);if(n>=0)return e[1|n]}function yt(e,t){return function(e,t,n){for(var i=0,r=e.length>>1;r!==i;){var s=i+(r-i>>1),a=e[s<<1];if(t===a)return s<<1;a>t?r=s:i=s+1}return~(r<<1)}(e,t)}var kt=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),bt=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ct={},wt=[],_t=0;function St(e){return fe((function(){var t=e.type,n=t.prototype,i={},r={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:e.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||wt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||bt.Emulated,id:"c",styles:e.styles||wt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.directives,a=e.features,o=e.pipes;return r.id+=_t++,r.inputs=Ft(e.inputs,i),r.outputs=Ft(e.outputs),a&&a.forEach((function(e){return e(r)})),r.directiveDefs=s?function(){return("function"==typeof s?s():s).map(xt)}:null,r.pipeDefs=o?function(){return("function"==typeof o?o():o).map(Et)}:null,r}))}function xt(e){return Ot(e)||function(e){return e[Ge]||null}(e)}function Et(e){return function(e){return e[qe]||null}(e)}var It={};function Tt(e){var t={type:e.type,bootstrap:e.bootstrap||wt,declarations:e.declarations||wt,imports:e.imports||wt,exports:e.exports||wt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&fe((function(){It[e.id]=e.type})),t}function Ft(e,t){if(null==e)return Ct;var n={};for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,t&&(t[r]=s)}return n}var At=St;function Dt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ot(e){return e[Ue]||null}function Rt(e,t){return e.hasOwnProperty($e)?e[$e]:null}function Pt(e,t){var n=e[Ke]||null;if(!n&&!0===t)throw new Error("Type ".concat(De(e)," does not have '\u0275mod' property."));return n}function Lt(e){return Array.isArray(e)&&"object"==typeof e[1]}function Nt(e){return Array.isArray(e)&&!0===e[1]}function Mt(e){return 0!=(8&e.flags)}function Vt(e){return 2==(2&e.flags)}function Ht(e){return 1==(1&e.flags)}function jt(e){return null!==e.template}function Bt(e){return 0!=(512&e[2])}var zt=void 0;function Ut(){return void 0!==zt?zt:"undefined"!=typeof document?document:void 0}function Gt(e){return!!e.listen}var qt={createRenderer:function(e,t){return Ut()}};function Kt(e){for(;Array.isArray(e);)e=e[0];return e}function Wt(e,t){return Kt(t[e+20])}function $t(e,t){return Kt(t[e.index])}function Zt(e,t){return e.data[t+20]}function Yt(e,t){return e[t+20]}function Qt(e,t){var n=t[e];return Lt(n)?n:n[0]}function Jt(e){var t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Xt(e){return 4==(4&e[2])}function en(e){return 128==(128&e[2])}function tn(e,t){return null===e||null==t?null:e[t]}function nn(e){e[18]=0}function rn(e,t){e[5]+=t;for(var n=e,i=e[3];null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}var sn={lFrame:In(null),bindingsEnabled:!0,checkNoChangesMode:!1};function an(){return sn.bindingsEnabled}function on(){return sn.lFrame.lView}function ln(){return sn.lFrame.tView}function un(e){sn.lFrame.contextLView=e}function cn(){return sn.lFrame.previousOrParentTNode}function hn(e,t){sn.lFrame.previousOrParentTNode=e,sn.lFrame.isParent=t}function fn(){return sn.lFrame.isParent}function dn(){sn.lFrame.isParent=!1}function pn(){return sn.checkNoChangesMode}function vn(e){sn.checkNoChangesMode=e}function gn(){var e=sn.lFrame,t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function mn(){return sn.lFrame.bindingIndex}function yn(){return sn.lFrame.bindingIndex++}function kn(e){var t=sn.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function bn(e,t){var n=sn.lFrame;n.bindingIndex=n.bindingRootIndex=e,Cn(t)}function Cn(e){sn.lFrame.currentDirectiveIndex=e}function wn(){return sn.lFrame.currentQueryIndex}function _n(e){sn.lFrame.currentQueryIndex=e}function Sn(e,t){var n=En();sn.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function xn(e,t){var n=En(),i=e[1];sn.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function En(){var e=sn.lFrame,t=null===e?null:e.child;return null===t?In(e):t}function In(e){var t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function Tn(){var e=sn.lFrame;return sn.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}var Fn=Tn;function An(){var e=Tn();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Dn(){return sn.lFrame.selectedIndex}function On(e){sn.lFrame.selectedIndex=e}function Rn(){var e=sn.lFrame;return Zt(e.tView,e.selectedIndex)}function Pn(e,t){for(var n=t.directiveStart,i=t.directiveEnd;n<i;n++){var r=e.data[n];r.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-n,r.afterContentInit),r.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,r.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r.afterContentChecked)),r.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-n,r.afterViewInit),r.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,r.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,r.afterViewChecked)),null!=r.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,r.onDestroy)}}function Ln(e,t,n){Vn(e,t,3,n)}function Nn(e,t,n,i){(3&e[2])===n&&Vn(e,t,n,i)}function Mn(e,t){var n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Vn(e,t,n,i){for(var r=null!=i?i:-1,s=0,a=void 0!==i?65535&e[18]:0;a<t.length;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=i&&s>=i)break}else t[a]<0&&(e[18]+=65536),(s<r||-1==r)&&(Hn(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Hn(e,t,n,i){var r=n[i]<0,s=n[i+1],a=e[r?-n[i]:n[i]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,s.call(a)):s.call(a)}var jn=function e(t,n,i){_classCallCheck(this,e),this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i};function Bn(e,t,n){for(var i=Gt(e),r=0;r<n.length;){var s=n[r];if("number"==typeof s){if(0!==s)break;r++;var a=n[r++],o=n[r++],l=n[r++];i?e.setAttribute(t,o,l,a):t.setAttributeNS(a,o,l)}else{var u=s,c=n[++r];Un(u)?i&&e.setProperty(t,u,c):i?e.setAttribute(t,u,c):t.setAttribute(u,c),r++}}return r}function zn(e){return 3===e||4===e||6===e}function Un(e){return 64===e.charCodeAt(0)}function Gn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else for(var n=-1,i=0;i<t.length;i++){var r=t[i];"number"==typeof r?n=r:0===n||qn(e,n,r,null,-1===n||2===n?t[++i]:null)}return e}function qn(e,t,n,i,r){var s=0,a=e.length;if(-1===t)a=-1;else for(;s<e.length;){var o=e[s++];if("number"==typeof o){if(o===t){a=-1;break}if(o>t){a=s-1;break}}}for(;s<e.length;){var l=e[s];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(e[s+1]=r));if(i===e[s+1])return void(e[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==a&&(e.splice(a,0,t),s=a+1),e.splice(s++,0,n),null!==i&&e.splice(s++,0,i),null!==r&&e.splice(s++,0,r)}function Kn(e){return-1!==e}function Wn(e){return 32767&e}function $n(e){return e>>16}function Zn(e,t){for(var n=$n(e),i=t;n>0;)i=i[15],n--;return i}function Yn(e){return"string"==typeof e?e:null==e?"":""+e}function Qn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Yn(e)}var Jn=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ze);function Xn(e){return e instanceof Function?e():e}var ei=!0;function ti(e){var t=ei;return ei=e,t}var ni=0;function ii(e,t){var n=si(e,t);if(-1!==n)return n;var i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,ri(i.data,e),ri(t,null),ri(i.blueprint,null));var r=ai(e,t),s=e.injectorIndex;if(Kn(r))for(var a=Wn(r),o=Zn(r,t),l=o[1].data,u=0;u<8;u++)t[s+u]=o[a+u]|l[a+u];return t[s+8]=r,s}function ri(e,t){e.push(0,0,0,0,0,0,0,0,t)}function si(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function ai(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;for(var n=t[6],i=1;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function oi(e,t,n){!function(e,t,n){var i="string"!=typeof n?n[Ze]:n.charCodeAt(0)||0;null==i&&(i=n[Ze]=ni++);var r=255&i,s=1<<r,a=64&r,o=32&r,l=t.data;128&r?a?o?l[e+7]|=s:l[e+6]|=s:o?l[e+5]|=s:l[e+4]|=s:a?o?l[e+3]|=s:l[e+2]|=s:o?l[e+1]|=s:l[e]|=s}(e,t,n)}function li(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ye.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==e){var s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;var t=e[Ze];return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof s){Sn(t,e);try{var a=s();if(null!=a||i&ye.Optional)return a;throw new Error("No provider for ".concat(Qn(n),"!"))}finally{Fn()}}else if("number"==typeof s){if(-1===s)return new vi(e,t);var o=null,l=si(e,t),u=-1,c=i&ye.Host?t[16][6]:null;for((-1===l||i&ye.SkipSelf)&&(u=-1===l?ai(e,t):t[l+8],pi(i,!1)?(o=t[1],l=Wn(u),t=Zn(u,t)):l=-1);-1!==l;){u=t[l+8];var h=t[1];if(di(s,l,h.data)){var f=ci(l,t,n,o,i,c);if(f!==ui)return f}pi(i,t[1].data[l+8]===c)&&di(s,l,t)?(o=h,l=Wn(u),t=Zn(u,t)):l=-1}}}if(i&ye.Optional&&void 0===r&&(r=null),0==(i&(ye.Self|ye.Host))){var d=t[9],p=it(void 0);try{return d?d.get(n,r,i&ye.Optional):at(n,r,i&ye.Optional)}finally{it(p)}}if(i&ye.Optional)return r;throw new Error("NodeInjector: NOT_FOUND [".concat(Qn(n),"]"))}var ui={};function ci(e,t,n,i,r,s){var a=t[1],o=a.data[e+8],l=hi(o,a,n,null==i?Vt(o)&&ei:i!=a&&3===o.type,r&ye.Host&&s===o);return null!==l?fi(t,a,l,o):ui}function hi(e,t,n,i,r){for(var s=e.providerIndexes,a=t.data,o=65535&s,l=e.directiveStart,u=s>>16,c=r?o+u:e.directiveEnd,h=i?o:o+u;h<c;h++){var f=a[h];if(h<l&&n===f||h>=l&&f.type===n)return h}if(r){var d=a[l];if(d&&jt(d)&&d.type===n)return l}return null}function fi(e,t,n,i){var r=e[n],s=t.data;if(r instanceof jn){var a=r;if(a.resolving)throw new Error("Circular dep for "+Qn(s[n]));var o,l=ti(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(o=it(a.injectImpl)),Sn(e,i);try{r=e[n]=a.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){var i=t.onChanges,r=t.onInit,s=t.doCheck;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-e,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s))}(n,s[n],t)}finally{a.injectImpl&&it(o),ti(l),a.resolving=!1,Fn()}}return r}function di(e,t,n){var i=64&e,r=32&e;return!!((128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t])&1<<e)}function pi(e,t){return!(e&ye.Self||e&ye.Host&&t)}var vi=function(){function e(t,n){_classCallCheck(this,e),this._tNode=t,this._lView=n}return _createClass(e,[{key:"get",value:function(e,t){return li(this._tNode,this._lView,e,void 0,t)}}]),e}();function gi(e){var t=e;if(Ne(e))return function(){var e=gi(Le(t));return e?e():null};var n=Rt(t);if(null===n){var i=xe(t);n=i&&i.factory}return n||null}function mi(e){return fe((function(){for(var t=e.prototype.constructor,n=t[$e]||gi(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;r&&r!==i;){var s=r[$e]||gi(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return function(e){return new e}}))}function yi(e){return e.ngDebugContext}function ki(e){return e.ngOriginalError}function bi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];e.error.apply(e,n)}var Ci=function(){function e(){_classCallCheck(this,e),this._console=console}return _createClass(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||bi}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?yi(e)?yi(e):this._findContext(ki(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=ki(e);t&&ki(t);)t=ki(t);return t}}]),e}(),wi=function(){function e(t){_classCallCheck(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),_i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(wi),Si=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(wi),xi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(wi),Ei=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(wi),Ii=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(wi);function Ti(e){return e instanceof wi?e.changingThisBreaksApplicationSecurity:e}function Fi(e,t){var n=Ai(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error("Required a safe ".concat(t,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===t}function Ai(e){return e instanceof wi&&e.getTypeName()||null}var Di=!0,Oi=!1;function Ri(){return Oi=!0,Di}var Pi=function(){function e(t){_classCallCheck(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var i=this.inertDocument.createElement("html");this.inertDocument.appendChild(i),n=this.inertDocument.createElement("body"),i.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(i){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;var n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),e}(),Li=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ni=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mi(e){return(e=String(e)).match(Li)||e.match(Ni)?e:(Ri()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function Vi(e){var t,n={},i=_createForOfIteratorHelper(e.split(","));try{for(i.s();!(t=i.n()).done;){n[t.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function Hi(){for(var e={},t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(var r=0,s=n;r<s.length;r++){var a=s[r];for(var o in a)a.hasOwnProperty(o)&&(e[o]=!0)}return e}var ji,Bi=Vi("area,br,col,hr,img,wbr"),zi=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ui=Vi("rp,rt"),Gi=Hi(Ui,zi),qi=Hi(Bi,Hi(zi,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hi(Ui,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gi),Ki=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Wi=Vi("srcset"),$i=Hi(Ki,Wi,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Zi=Vi("script,style,template"),Yi=function(){function e(){_classCallCheck(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!qi.hasOwnProperty(t))return this.sanitizedSomething=!0,!Zi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,i=e.attributes,r=0;r<i.length;r++){var s=i.item(r),a=s.name,o=a.toLowerCase();if($i.hasOwnProperty(o)){var l=s.value;Ki[o]&&(l=Mi(l)),Wi[o]&&(n=l,l=(n=String(n)).split(",").map((function(e){return Mi(e.trim())})).join(", ")),this.buf.push(" ",a,'="',Xi(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();qi.hasOwnProperty(t)&&!Bi.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(Xi(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),Qi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ji=/([^\#-~ |!])/g;function Xi(e){return e.replace(/&/g,"&amp;").replace(Qi,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Ji,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function er(e,t){var n=null;try{ji=ji||new Pi(e);var i=t?String(t):"";n=ji.getInertBodyElement(i);var r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=ji.getInertBodyElement(i)}while(i!==s);var a=new Yi,o=a.sanitizeChildren(tr(n)||n);return Ri()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),o}finally{if(n)for(var l=tr(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}function tr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var nr=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),ir=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),rr=/^url\(([^)]+)\)$/;function sr(e){var t=or();return t?t.sanitize(nr.HTML,e)||"":Fi(e,"HTML")?Ti(e):er(Ut(),Yn(e))}function ar(e){var t=or();return t?t.sanitize(nr.URL,e)||"":Fi(e,"URL")?Ti(e):Mi(Yn(e))}function or(){var e=on();return e&&e[12]}function lr(e,t){e.__ngContext__=t}function ur(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function cr(){throw new Error("Cannot mix multi providers and regular providers")}function hr(e,t,n){for(var i=e.length;;){var r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){var s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}function fr(e,t,n){for(var i=0;i<e.length;){var r=e[i++];if(n&&"class"===r){if(-1!==hr((r=e[i]).toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function dr(e){return 0===e.type&&"ng-template"!==e.tagName}function pr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function vr(e,t,n){for(var i=4,r=e.attrs||[],s=function(e){for(var t=0;t<e.length;t++)if(zn(e[t]))return t;return e.length}(r),a=!1,o=0;o<t.length;o++){var l=t[o];if("number"!=typeof l){if(!a)if(4&i){if(i=2|1&i,""!==l&&!pr(e,l,n)||""===l&&1===t.length){if(gr(i))return!1;a=!0}}else{var u=8&i?l:t[++o];if(8&i&&null!==e.attrs){if(!fr(e.attrs,u,n)){if(gr(i))return!1;a=!0}continue}var c=mr(8&i?"class":l,r,dr(e),n);if(-1===c){if(gr(i))return!1;a=!0;continue}if(""!==u){var h;h=c>s?"":r[c+1].toLowerCase();var f=8&i?h:null;if(f&&-1!==hr(f,u,0)||2&i&&u!==h){if(gr(i))return!1;a=!0}}}}else{if(!a&&!gr(i)&&!gr(l))return!1;if(a&&gr(l))continue;a=!1,i=l|1&i}}return gr(i)||a}function gr(e){return 0==(1&e)}function mr(e,t,n,i){if(null===t)return-1;var r=0;if(i||!n){for(var s=!1;r<t.length;){var a=t[r];if(a===e)return r;if(3===a||6===a)s=!0;else{if(1===a||2===a){for(var o=t[++r];"string"==typeof o;)o=t[++r];continue}if(4===a)break;if(0===a){r+=4;continue}}r+=s?1:2}return-1}return function(e,t){var n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){var i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function yr(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<t.length;i++)if(vr(e,t[i],n))return!0;return!1}function kr(e,t){e:for(var n=0;n<t.length;n++){var i=t[n];if(e.length===i.length){for(var r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function br(e,t){return e?":not("+t.trim()+")":t}function Cr(e){for(var t=e[0],n=1,i=2,r="",s=!1;n<e.length;){var a=e[n];if("string"==typeof a)if(2&i){var o=e[++n];r+="["+a+(o.length>0?'="'+o+'"':"")+"]"}else 8&i?r+="."+a:4&i&&(r+=" "+a);else""===r||gr(a)||(t+=br(s,r),r=""),i=a,s=s||!gr(i);n++}return""!==r&&(t+=br(s,r)),t}var wr={};function _r(e){var t=e[3];return Nt(t)?t[3]:t}function Sr(e){return Er(e[13])}function xr(e){return Er(e[4])}function Er(e){for(;null!==e&&!Nt(e);)e=e[4];return e}function Ir(e){Tr(ln(),on(),Dn()+e,pn())}function Tr(e,t,n,i){if(!i)if(3==(3&t[2])){var r=e.preOrderCheckHooks;null!==r&&Ln(t,r,n)}else{var s=e.preOrderHooks;null!==s&&Nn(t,s,0,n)}On(n)}var Fr={marker:"element"},Ar={marker:"comment"};function Dr(e,t){return e<<17|t<<2}function Or(e){return e>>17&32767}function Rr(e){return 2|e}function Pr(e){return(131068&e)>>2}function Lr(e,t){return-131069&e|t<<2}function Nr(e){return 1|e}function Mr(e,t){var n=e.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],s=n[i+1];if(-1!==s){var a=e.data[s];_n(r),a.contentQueries(2,t[s],s)}}}function Vr(e,t,n){return Gt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Hr(e,t,n,i,r,s,a,o,l,u){var c=t.blueprint.slice();return c[0]=r,c[2]=140|i,nn(c),c[3]=c[15]=e,c[8]=n,c[10]=a||e&&e[10],c[11]=o||e&&e[11],c[12]=l||e&&e[12]||null,c[9]=u||e&&e[9]||null,c[6]=s,c[16]=2==t.type?e[16]:c,c}function jr(e,t,n,i,r,s){var a=n+20,o=e.data[a]||function(e,t,n,i,r,s){var a=cn(),o=fn(),l=o?a:a&&a.parent,u=e.data[n]=Yr(0,l&&l!==t?l:null,i,n,r,s);return null===e.firstChild&&(e.firstChild=u),a&&(!o||null!=a.child||null===u.parent&&2!==a.type?o||(a.next=u):a.child=u),u}(e,t,a,i,r,s);return hn(o,!0),o}function Br(e,t,n){xn(t,t[6]);try{var i=e.viewQuery;null!==i&&ks(1,i,n);var r=e.template;null!==r&&Gr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Mr(e,t),e.staticViewQueries&&ks(2,e.viewQuery,n);var s=e.components;null!==s&&function(e,t){for(var n=0;n<t.length;n++)ps(e,t[n])}(t,s)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),a}finally{t[2]&=-5,An()}}function zr(e,t,n,i){var r=t[2];if(256!=(256&r)){xn(t,t[6]);var s=pn();try{nn(t),sn.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Gr(e,t,n,2,i);var a=3==(3&r);if(!s)if(a){var o=e.preOrderCheckHooks;null!==o&&Ln(t,o,null)}else{var l=e.preOrderHooks;null!==l&&Nn(t,l,0,null),Mn(t,0)}if(function(e){for(var t=Sr(e);null!==t;t=xr(t))if(t[2])for(var n=t[9],i=0;i<n.length;i++){var r=n[i],s=r[3];0==(1024&r[2])&&rn(s,1),r[2]|=1024}}(t),function(e){for(var t=Sr(e);null!==t;t=xr(t))for(var n=10;n<t.length;n++){var i=t[n],r=i[1];en(i)&&zr(r,i,r.template,i[8])}}(t),null!==e.contentQueries&&Mr(e,t),!s)if(a){var u=e.contentCheckHooks;null!==u&&Ln(t,u)}else{var c=e.contentHooks;null!==c&&Nn(t,c,1),Mn(t,1)}!function(e,t){try{var n=e.expandoInstructions;if(null!==n)for(var i=e.expandoStartIndex,r=-1,s=0;s<n.length;s++){var a=n[s];"number"==typeof a?a<=0?(On(0-a),r=i+=9+n[++s]):i+=a:(null!==a&&(bn(i,r),a(2,t[r])),r++)}}finally{On(-1)}}(e,t);var h=e.components;null!==h&&function(e,t){for(var n=0;n<t.length;n++)ds(e,t[n])}(t,h);var f=e.viewQuery;if(null!==f&&ks(2,f,i),!s)if(a){var d=e.viewCheckHooks;null!==d&&Ln(t,d)}else{var p=e.viewHooks;null!==p&&Nn(t,p,2),Mn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),s||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,rn(t[3],-1))}finally{An()}}}function Ur(e,t,n,i){var r=t[10],s=!pn(),a=Xt(t);try{s&&!a&&r.begin&&r.begin(),a&&Br(e,t,i),zr(e,t,n,i)}finally{s&&!a&&r.end&&r.end()}}function Gr(e,t,n,i,r){var s=Dn();try{On(-1),2&i&&t.length>20&&Tr(e,t,0,pn()),n(i,r)}finally{On(s)}}function qr(e,t,n){if(Mt(t))for(var i=t.directiveEnd,r=t.directiveStart;r<i;r++){var s=e.data[r];s.contentQueries&&s.contentQueries(1,n[r],r)}}function Kr(e,t,n){an()&&(function(e,t,n,i){var r=n.directiveStart,s=n.directiveEnd;e.firstCreatePass||ii(n,t),lr(i,t);for(var a=n.initialInputs,o=r;o<s;o++){var l=e.data[o],u=jt(l);u&&ls(t,n,l);var c=fi(t,e,o,n);lr(c,t),null!==a&&cs(0,o-r,c,l,0,a),u&&(Qt(n.index,t)[8]=c)}}(e,t,n,$t(n,t)),128==(128&n.flags)&&function(e,t,n){var i=n.directiveStart,r=n.directiveEnd,s=e.expandoInstructions,a=e.firstCreatePass,o=n.index-20,l=sn.lFrame.currentDirectiveIndex;try{On(o);for(var u=i;u<r;u++){var c=e.data[u],h=t[u];Cn(u),null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs?ns(c,h):a&&s.push(null)}}finally{On(-1),Cn(l)}}(e,t,n))}function Wr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$t,i=t.localNames;if(null!==i)for(var r=t.index+1,s=0;s<i.length;s+=2){var a=i[s+1],o=-1===a?n(t,e):e[a];e[r++]=o}}function $r(e){var t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Zr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Zr(e,t,n,i,r,s,a,o,l,u){var c=20+i,h=c+r,f=function(e,t){for(var n=[],i=0;i<t;i++)n.push(i<e?null:wr);return n}(c,h);return f[1]={type:e,id:t,blueprint:f,template:n,queries:null,viewQuery:o,node:null,data:f.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:l,consts:u,incompleteFirstPass:!1}}function Yr(e,t,n,i,r,s){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qr(e,t,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Jr(e,t,n,i,r,s,a,o){var l,u,c=$t(t,n),h=t.inputs;!o&&null!=h&&(l=h[i])?(Ss(e,n,l,i,r),Vt(t)&&function(e,t){var n=Qt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(u=i)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,r=null!=a?a(r,t.tagName||"",i):r,Gt(s)?s.setProperty(c,i,r):Un(i)||(c.setProperty?c.setProperty(i,r):c[i]=r))}function Xr(e,t,n,i){var r=!1;if(an()){var s=function(e,t,n){var i=e.directiveRegistry,r=null;if(i)for(var s=0;s<i.length;s++){var a=i[s];yr(n,a.selectors,!1)&&(r||(r=[]),oi(ii(n,t),e,a.type),jt(a)?(2&n.flags&&ur(n),rs(e,n),r.unshift(a)):r.push(a))}return r}(e,t,n),a=null===i?null:{"":-1};if(null!==s){var o=0;r=!0,as(n,e.data.length,s.length);for(var l=0;l<s.length;l++){var u=s[l];u.providersResolver&&u.providersResolver(u)}is(e,n,s.length);for(var c=!1,h=!1,f=0;f<s.length;f++){var d=s[f];n.mergedAttrs=Gn(n.mergedAttrs,d.hostAttrs),os(e,t,d),ss(e.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!c&&(d.onChanges||d.onInit||d.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),c=!0),h||!d.onChanges&&!d.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),h=!0),es(e,d),o+=d.hostVars}!function(e,t){for(var n=t.directiveEnd,i=e.data,r=t.attrs,s=[],a=null,o=null,l=t.directiveStart;l<n;l++){var u=i[l],c=u.inputs,h=null===r||dr(t)?null:hs(c,r);s.push(h),a=Qr(c,l,a),o=Qr(u.outputs,l,o)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=o}(e,n),ts(e,t,o)}a&&function(e,t,n){if(t)for(var i=e.localNames=[],r=0;r<t.length;r+=2){var s=n[t[r+1]];if(null==s)throw new Error("Export of name '".concat(t[r+1],"' not found!"));i.push(t[r],s)}}(n,i,a)}return n.mergedAttrs=Gn(n.mergedAttrs,n.attrs),r}function es(e,t){var n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function ts(e,t,n){for(var i=0;i<n;i++)t.push(wr),e.blueprint.push(wr),e.data.push(null)}function ns(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function is(e,t,n){var i=20-t.index,r=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function rs(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function ss(e,t,n){if(n){if(t.exportAs)for(var i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;jt(t)&&(n[""]=e)}}function as(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function os(e,t,n){e.data.push(n);var i=n.factory||(n.factory=Rt(n.type)),r=new jn(i,jt(n),null);e.blueprint.push(r),t.push(r)}function ls(e,t,n){var i=$t(t,e),r=$r(n),s=e[10],a=vs(e,Hr(e,r,null,n.onPush?64:16,i,t,s,s.createRenderer(i,n)));e[t.index]=a}function us(e,t,n,i,r,s){var a=$t(e,t),o=t[11];if(null==i)Gt(o)?o.removeAttribute(a,n,s):a.removeAttribute(n);else{var l=null==r?Yn(i):r(i,e.tagName||"",n);Gt(o)?o.setAttribute(a,n,l,s):s?a.setAttributeNS(s,n,l):a.setAttribute(n,l)}}function cs(e,t,n,i,r,s){var a=s[t];if(null!==a)for(var o=i.setInput,l=0;l<a.length;){var u=a[l++],c=a[l++],h=a[l++];null!==o?i.setInput(n,h,u,c):n[c]=h}}function hs(e,t){for(var n=null,i=0;i<t.length;){var r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function fs(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function ds(e,t){var n=Qt(t,e);if(en(n)){var i=n[1];80&n[2]?zr(i,n,i.template,n[8]):n[5]>0&&function e(t){for(var n=Sr(t);null!==n;n=xr(n))for(var i=10;i<n.length;i++){var r=n[i];if(1024&r[2]){var s=r[1];zr(s,r,s.template,r[8])}else r[5]>0&&e(r)}var a=t[1].components;if(null!==a)for(var o=0;o<a.length;o++){var l=Qt(a[o],t);en(l)&&l[5]>0&&e(l)}}(n)}}function ps(e,t){var n=Qt(t,e),i=n[1];!function(e,t){for(var n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Br(i,n,n[8])}function vs(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function gs(e){for(;e;){e[2]|=64;var t=_r(e);if(Bt(e)&&!t)return e;e=t}return null}function ms(e,t,n){var i=t[10];i.begin&&i.begin();try{zr(e,t,e.template,n)}catch(r){throw _s(t,r),r}finally{i.end&&i.end()}}function ys(e){!function(e){for(var t=0;t<e.components.length;t++){var n=e.components[t],i=Jt(n),r=i[1];Ur(r,i,r.template,n)}}(e[8])}function ks(e,t,n){_n(0),t(e,n)}var bs=Promise.resolve(null);function Cs(e){return e[7]||(e[7]=[])}function ws(e){return e.cleanup||(e.cleanup=[])}function _s(e,t){var n=e[9],i=n?n.get(Ci,null):null;i&&i.handleError(t)}function Ss(e,t,n,i,r){for(var s=0;s<n.length;){var a=n[s++],o=n[s++],l=t[a],u=e.data[a];null!==u.setInput?u.setInput(l,r,i,o):l[o]=r}}function xs(e,t,n){var i=Wt(t,e),r=e[11];Gt(r)?r.setValue(i,n):i.textContent=n}function Es(e,t){var n=t[3];return-1===e.index?Nt(n)?n:null:n}function Is(e,t){var n=Es(e,t);return n?js(t[11],n[7]):null}function Ts(e,t,n,i,r){if(null!=i){var s,a=!1;Nt(i)?s=i:Lt(i)&&(a=!0,i=i[0]);var o=Kt(i);0===e&&null!==n?null==r?Vs(t,n,o):Ms(t,n,o,r||null):1===e&&null!==n?Ms(t,n,o,r||null):2===e?Gs(t,o,a):3===e&&t.destroyNode(o),null!=s&&function(e,t,n,i,r){var s=n[7];s!==Kt(n)&&Ts(t,e,i,s,r);for(var a=10;a<n.length;a++){var o=n[a];Ks(o[1],o,e,t,i,s)}}(t,e,s,n,r)}}function Fs(e,t){return Gt(t)?t.createText(e):t.createTextNode(e)}function As(e,t,n,i){var r=Is(e.node,t);r&&Ks(e,t,t[11],n?1:2,r,i)}function Ds(e,t){var n=e[9],i=n.indexOf(t);1024&t[2]&&rn(t[3],-1),n.splice(i,1)}function Os(e,t){if(!(e.length<=10)){var n=10+t,i=e[n];if(i){var r=i[17];null!==r&&r!==e&&Ds(r,i),t>0&&(e[n-1][4]=i[4]);var s=pt(e,10+t);As(i[1],i,!1,null);var a=s[19];null!==a&&a.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function Rs(e,t){if(!(256&t[2])){var n=t[11];Gt(n)&&n.destroyNode&&Ks(e,t,n,3,null,null),function(e){var t=e[13];if(!t)return Ls(e[1],e);for(;t;){var n=null;if(Lt(t))n=t[13];else{var i=t[10];i&&(n=i)}if(!n){for(;t&&!t[4]&&t!==e;)Lt(t)&&Ls(t[1],t),t=Ps(t,e);null===t&&(t=e),Lt(t)&&Ls(t[1],t),n=t&&t[4]}t=n}}(t)}}function Ps(e,t){var n;return Lt(e)&&(n=e[6])&&2===n.type?Es(n,e):e[3]===t?null:e[3]}function Ls(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){var n;if(null!=e&&null!=(n=e.destroyHooks))for(var i=0;i<n.length;i+=2){var r=t[n[i]];if(!(r instanceof jn)){var s=n[i+1];if(Array.isArray(s))for(var a=0;a<s.length;a+=2)s[a+1].call(r[s[a]]);else s.call(r)}}}(e,t),function(e,t){var n=e.cleanup;if(null!==n){for(var i=t[7],r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){var s=n[r+1],a="function"==typeof s?s(t):Kt(t[s]),o=i[n[r+2]],l=n[r+3];"boolean"==typeof l?a.removeEventListener(n[r],o,l):l>=0?i[l]():i[-l].unsubscribe(),r+=2}else n[r].call(i[n[r+1]]);t[7]=null}}(e,t);var n=t[6];n&&3===n.type&&Gt(t[11])&&t[11].destroy();var i=t[17];if(null!==i&&Nt(t[3])){i!==t[3]&&Ds(i,t);var r=t[19];null!==r&&r.detachView(e)}}}function Ns(e,t,n){for(var i=t.parent;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){var r=n[6];return 2===r.type?Is(r,n):n[0]}if(t&&5===t.type&&4&t.flags)return $t(t,n).parentNode;if(2&i.flags){var s=e.data,a=s[s[i.index].directiveStart].encapsulation;if(a!==bt.ShadowDom&&a!==bt.Native)return null}return $t(i,n)}function Ms(e,t,n,i){Gt(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function Vs(e,t,n){Gt(e)?e.appendChild(t,n):t.appendChild(n)}function Hs(e,t,n,i){null!==i?Ms(e,t,n,i):Vs(e,t,n)}function js(e,t){return Gt(e)?e.parentNode(t):t.parentNode}function Bs(e,t){if(2===e.type){var n=Es(e,t);return null===n?null:Us(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?$t(e,t):null}function zs(e,t,n,i){var r=Ns(e,i,t);if(null!=r){var s=t[11],a=Bs(i.parent||t[6],t);if(Array.isArray(n))for(var o=0;o<n.length;o++)Hs(s,r,n[o],a);else Hs(s,r,n,a)}}function Us(e,t){var n=10+e+1;if(n<t.length){var i=t[n],r=i[1].firstChild;if(null!==r)return function e(t,n){if(null!==n){var i=n.type;if(3===i)return $t(n,t);if(0===i)return Us(-1,t[n.index]);if(4===i||5===i){var r=n.child;if(null!==r)return e(t,r);var s=t[n.index];return Nt(s)?Us(-1,s):Kt(s)}var a=t[16],o=a[6],l=_r(a),u=o.projection[n.projection];return null!=u?e(l,u):e(t,n.next)}return null}(i,r)}return t[7]}function Gs(e,t,n){var i=js(e,t);i&&function(e,t,n,i){Gt(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}function qs(e,t,n,i,r,s,a){for(;null!=n;){var o=i[n.index],l=n.type;a&&0===t&&(o&&lr(Kt(o),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(qs(e,t,n.child,i,r,s,!1),Ts(t,e,r,o,s)):1===l?$s(e,t,i,n,r,s):Ts(t,e,r,o,s)),n=a?n.projectionNext:n.next}}function Ks(e,t,n,i,r,s){qs(n,i,e.node.child,t,r,s,!1)}function Ws(e,t,n){$s(t[11],0,t,n,Ns(e,n,t),Bs(n.parent||t[6],t))}function $s(e,t,n,i,r,s){var a=n[16],o=a[6].projection[i.projection];if(Array.isArray(o))for(var l=0;l<o.length;l++)Ts(t,e,r,o[l],s);else qs(e,t,o,a[3],r,s,!0)}function Zs(e,t,n){Gt(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Ys(e,t,n){Gt(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}var Qs,Js,Xs,ea=function(){function e(t,n){_classCallCheck(this,e),this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(e,[{key:"rootNodes",get:function(){var e=this._lView;return null==e[0]?function e(t,n,i,r){for(var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==i;){var a=n[i.index];if(null!==a&&r.push(Kt(a)),Nt(a))for(var o=10;o<a.length;o++){var l=a[o],u=l[1].firstChild;null!==u&&e(l[1],l,u,r)}var c=i.type;if(4===c||5===c)e(t,n,i.child,r);else if(1===c){var h=n[16],f=h[6].projection[i.projection];if(Array.isArray(f))r.push.apply(r,_toConsumableArray(f));else{var d=_r(h);e(d[1],d,f,r,!0)}}i=s?i.projectionNext:i.next}return r}(e[1],e,e[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}Rs(this._lView[1],this._lView)}},{key:"onDestroy",value:function(e){var t,n,i;t=this._lView[1],i=e,Cs(n=this._lView).push(i),t.firstCreatePass&&ws(t).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){gs(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ms(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(e,t,n){vn(!0);try{ms(e,t,n)}finally{vn(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"detachFromAppRef",value:function(){var e;this._appRef=null,Ks(this._lView[1],e=this._lView,e[11],2,null,null)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}]),e}(),ta=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e))._view=e,i}return _createClass(n,[{key:"detectChanges",value:function(){ys(this._view)}},{key:"checkNoChanges",value:function(){!function(e){vn(!0);try{ys(e)}finally{vn(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(ea);function na(e,t,n){return Qs||(Qs=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e)),new Qs($t(t,n))}function ia(e,t,n,i){return Js||(Js=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this))._declarationView=e,s._declarationTContainer=i,s.elementRef=r,s}return _createClass(n,[{key:"createEmbeddedView",value:function(e){var t=this._declarationTContainer.tViews,n=Hr(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];var i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Br(t,n,e),new ea(n)}}]),n}(e)),0===n.type?new Js(i,n,na(t,n,i)):null}function ra(e,t,n,i){var r;Xs||(Xs=function(e){_inherits(i,e);var n=_createSuper(i);function i(e,t,r){var s;return _classCallCheck(this,i),(s=n.call(this))._lContainer=e,s._hostTNode=t,s._hostView=r,s}return _createClass(i,[{key:"element",get:function(){return na(t,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new vi(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var e=ai(this._hostTNode,this._hostView),t=Zn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var i=n.parent.injectorIndex,r=n.parent;null!=r.parent&&i==r.parent.injectorIndex;)r=r.parent;return r}for(var s=$n(e),a=t,o=t[6];s>1;)o=(a=a[15])[6],s--;return o}(e,this._hostView,this._hostTNode);return Kn(e)&&null!=n?new vi(n,t):new vi(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(e,t,n){var i=e.createEmbeddedView(t||{});return this.insert(i,n),i}},{key:"createComponent",value:function(e,t,n,i,r){var s=n||this.parentInjector;if(!r&&null==e.ngModule&&s){var a=s.get(ut,null);a&&(r=a)}var o=e.create(s,i,void 0,r);return this.insert(o.hostView,t),o}},{key:"insert",value:function(e,t){var n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Nt(n[3])){var r=this.indexOf(e);if(-1!==r)this.detach(r);else{var s=n[3],a=new Xs(s,s[6],s[3]);a.detach(a.indexOf(e))}}var o=this._adjustIndex(t);return function(e,t,n,i){var r=10+i,s=n.length;i>0&&(n[r-1][4]=t),i<s-10?(t[4]=n[r],dt(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;var a=t[17];null!==a&&n!==a&&function(e,t){var n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(a,t);var o=t[19];null!==o&&o.insertView(e),t[2]|=128}(i,n,this._lContainer,o),As(i,n,!0,Us(o,this._lContainer)),e.attachToViewContainerRef(this),dt(this._lContainer[8],o,e),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}},{key:"indexOf",value:function(e){var t=this._lContainer[8];return null!==t?t.indexOf(e):-1}},{key:"remove",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1);!function(e,t){var n=Os(e,t);n&&Rs(n[1],n)}(this._lContainer,t),pt(this._lContainer[8],t)}},{key:"detach",value:function(e){this.allocateContainerIfNeeded();var t=this._adjustIndex(e,-1),n=Os(this._lContainer,t);return n&&null!=pt(this._lContainer[8],t)?new ea(n):null}},{key:"_adjustIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==e?this.length+t:e}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),i}(e));var s=i[n.index];if(Nt(s))r=s;else{var a;if(4===n.type)a=Kt(s);else if(a=i[11].createComment(""),Bt(i)){var o=i[11],l=$t(n,i);Ms(o,js(o,l),a,function(e,t){return Gt(e)?e.nextSibling(t):t.nextSibling}(o,l))}else zs(i[1],i,a,n);i[n.index]=r=fs(s,i,a,n),vs(i,r)}return new Xs(r,n,i)}var sa=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return aa()},e}(),aa=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e,t,n){if(!n&&Vt(e)){var i=Qt(e.index,t);return new ea(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new ea(t[16],t):null}(cn(),on(),e)},oa=new Ye("Set Injector scope."),la={},ua={},ca=[],ha=void 0;function fa(){return void 0===ha&&(ha=new lt),ha}function da(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new pa(e,n,t||fa(),i)}var pa=function(){function e(t,n,i){var r=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&ft(n,(function(e){return r.processProvider(e,t,n)})),ft([t],(function(e){return r.processInjectorType(e,[],a)})),this.records.set(Qe,ma(void 0,this));var o=this.records.get(oa);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:De(t))}return _createClass(e,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(e){return e.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Je,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ye.Default;this.assertNotDestroyed();var i,r=nt(this);try{if(!(n&ye.SkipSelf)){var s=this.records.get(e);if(void 0===s){var a=("function"==typeof(i=e)||"object"==typeof i&&i instanceof Ye)&&_e(e);s=a&&this.injectableDefInScope(a)?ma(va(e),la):null,this.records.set(e,s)}if(null!=s)return this.hydrate(e,s)}return(n&ye.Self?fa():this.parent).get(e,t=n&ye.Optional&&t===Je?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(De(e)),r)throw o;return function(e,t,n,i){var r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var r=De(t);if(Array.isArray(t))r=t.map(De).join(" -> ");else if("object"==typeof t){var s=[];for(var a in t)if(t.hasOwnProperty(a)){var o=t[a];s.push(a+":"+("string"==typeof o?JSON.stringify(o):De(o)))}r="{".concat(s.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(e.replace(Xe,"\n  "))}("\n"+e.message,r,"R3InjectorError",i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(o,e,0,this.source)}throw o}finally{nt(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var e=this;this.injectorDefTypes.forEach((function(t){return e.get(t)}))}},{key:"toString",value:function(){var e=[];return this.records.forEach((function(t,n){return e.push(De(n))})),"R3Injector[".concat(e.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(e,t,n){var i=this;if(!(e=Le(e)))return!1;var r=xe(e),s=null==r&&e.ngModule||void 0,a=void 0===s?e:s,o=-1!==n.indexOf(a);if(void 0!==s&&(r=xe(s)),null==r)return!1;if(null!=r.imports&&!o){var l;n.push(a);try{ft(r.imports,(function(e){i.processInjectorType(e,t,n)&&(void 0===l&&(l=[]),l.push(e))}))}finally{}if(void 0!==l)for(var u=function(e){var t=l[e],n=t.ngModule,r=t.providers;ft(r,(function(e){return i.processProvider(e,n,r||ca)}))},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(a),this.records.set(a,ma(r.factory,la));var h=r.providers;if(null!=h&&!o){var f=e;ft(h,(function(e){return i.processProvider(e,f,h)}))}return void 0!==s&&void 0!==e.providers}},{key:"processProvider",value:function(e,t,n){var i=ka(e=Le(e))?e:Le(e&&e.provide),r=function(e,t,n){return ya(e)?ma(void 0,e.useValue):ma(ga(e,t,n),la)}(e,t,n);if(ka(e)||!0!==e.multi){var s=this.records.get(i);s&&void 0!==s.multi&&cr()}else{var a=this.records.get(i);a?void 0===a.multi&&cr():((a=ma(void 0,la,!0)).factory=function(){return ot(a.multi)},this.records.set(i,a)),i=e,a.multi.push(e)}this.records.set(i,r)}},{key:"hydrate",value:function(e,t){var n;return t.value===ua?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(De(e)):t.value===la&&(t.value=ua,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}},{key:"injectableDefInScope",value:function(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}]),e}();function va(e){var t=_e(e),n=null!==t?t.factory:Rt(e);if(null!==n)return n;var i=xe(e);if(null!==i)return i.factory;if(e instanceof Ye)throw new Error("Token ".concat(De(e)," is missing a \u0275prov definition."));if(e instanceof Function)return function(e){var t=e.length;if(t>0){var n=vt(t,"?");throw new Error("Can't resolve all parameters for ".concat(De(e),": (").concat(n.join(", "),")."))}var i=function(e){var t=e&&(e[Ee]||e[Fe]||e[Te]&&e[Te]());if(t){var n=function(e){if(e.hasOwnProperty("name"))return e.name;var t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),t}return null}(e);return null!==i?function(){return i.factory(e)}:function(){return new e}}(e);throw new Error("unreachable")}function ga(e,t,n){var i,r=void 0;if(ka(e)){var s=Le(e);return Rt(s)||va(s)}if(ya(e))r=function(){return Le(e.useValue)};else if((i=e)&&i.useFactory)r=function(){return e.useFactory.apply(e,_toConsumableArray(ot(e.deps||[])))};else if(function(e){return!(!e||!e.useExisting)}(e))r=function(){return st(Le(e.useExisting))};else{var a=Le(e&&(e.useClass||e.provide));if(a||function(e,t,n){var i="";throw e&&t&&(i=" - only instances of Provider and Type are allowed, got: [".concat(t.map((function(e){return e==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(De(e),"'")+i)}(t,n,e),!function(e){return!!e.deps}(e))return Rt(a)||va(a);r=function(){return _construct(a,_toConsumableArray(ot(e.deps)))}}return r}function ma(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:e,value:t,multi:n?[]:void 0}}function ya(e){return null!==e&&"object"==typeof e&&et in e}function ka(e){return"function"==typeof e}var ba=function(e,t,n){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=da(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)},Ca=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?ba(e,t,""):ba(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Je,e.NULL=new lt,e.\u0275prov=Ce({token:e,providedIn:"any",factory:function(){return st(Qe)}}),e.__NG_ELEMENT_ID__=-1,e}(),wa=new Ye("AnalyzeForEntryComponents"),_a=new Map,Sa=new Set;function xa(e){return"string"==typeof e?e:e.text()}function Ea(e,t,n){var i=n?e.styles:null,r=n?e.classes:null,s=0;if(null!==t)for(var a=0;a<t.length;a++){var o=t[a];"number"==typeof o?s=o:1==s?r=Oe(r,o):2==s&&(i=Oe(i,o+": "+t[++a]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Ia=null;function Ta(){if(!Ia){var e=ze.Symbol;if(e&&e.iterator)Ia=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var i=t[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ia=i)}}return Ia}function Fa(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}var Aa=function(){function e(t){_classCallCheck(this,e),this.wrapped=t}return _createClass(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function Da(e){return!!Oa(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ta()in e)}function Oa(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ra(e,t,n){return e[t]=n}function Pa(e,t){return e[t]}function La(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Na(e,t,n,i){var r=La(e,t,n);return La(e,t+1,i)||r}function Ma(e,t,n,i,r){var s=Na(e,t,n,i);return La(e,t+2,r)||s}function Va(e,t,n,i,r,s){var a=Na(e,t,n,i);return Na(e,t+2,r,s)||a}function Ha(e,t,n,i){var r=on();return La(r,yn(),t)&&(ln(),us(Rn(),r,e,t,n,i)),Ha}function ja(e,t,n,i){return La(e,yn(),n)?t+Yn(n)+i:wr}function Ba(e,t,n,i,r,s,a,o){var l=on(),u=ln(),c=e+20,h=u.firstCreatePass?function(e,t,n,i,r,s,a,o,l){var u=t.consts,c=jr(t,n[6],e,0,a||null,tn(u,o));Xr(t,n,c,tn(u,l)),Pn(t,c);var h=c.tViews=Zr(2,-1,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u),f=Yr(0,null,2,-1,null,null);return f.injectorIndex=c.injectorIndex,h.node=f,null!==t.queries&&(t.queries.template(t,c),h.queries=t.queries.embeddedTView(c)),c}(e,u,l,t,n,i,r,s,a):u.data[c];hn(h,!1);var f=l[11].createComment("");zs(u,l,f,h),lr(f,l),vs(l,l[c]=fs(f,l,f,h)),Ht(h)&&Kr(u,l,h),null!=a&&Wr(l,h,o)}function za(e){return Yt(sn.lFrame.contextLView,e)}function Ua(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ye.Default,n=on();return null==n?st(e,t):li(cn(),n,Le(e),t)}function Ga(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;var n=e.attrs;if(n)for(var i=n.length,r=0;r<i;){var s=n[r];if(zn(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(s===t)return n[r+1];r+=2}}return null}(cn(),e)}function qa(){throw new Error("invalid")}function Ka(e,t,n){var i=on();return La(i,yn(),t)&&Jr(ln(),Rn(),i,e,t,i[11],n,!1),Ka}function Wa(e,t,n,i,r){var s=r?"class":"style";Ss(e,n,t.inputs[s],s,i)}function $a(e,t,n,i){var r=on(),s=ln(),a=20+e,o=r[11],l=r[a]=Vr(t,o,sn.lFrame.currentNamespace),u=s.firstCreatePass?function(e,t,n,i,r,s,a){var o=t.consts,l=tn(o,s),u=jr(t,n[6],e,3,r,l);return Xr(t,n,u,tn(o,a)),null!==u.attrs&&Ea(u,u.attrs,!1),null!==u.mergedAttrs&&Ea(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(e,s,r,0,t,n,i):s.data[a];hn(u,!0);var c=u.mergedAttrs;null!==c&&Bn(o,l,c);var h=u.classes;null!==h&&Ys(o,l,h);var f=u.styles;null!==f&&Zs(o,l,f),zs(s,r,l,u),0===sn.lFrame.elementDepthCount&&lr(l,r),sn.lFrame.elementDepthCount++,Ht(u)&&(Kr(s,r,u),qr(s,u,r)),null!==i&&Wr(r,u)}function Za(){var e=cn();fn()?dn():hn(e=e.parent,!1);var t=e;sn.lFrame.elementDepthCount--;var n=ln();n.firstCreatePass&&(Pn(n,e),Mt(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Wa(n,t,on(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Wa(n,t,on(),t.stylesWithoutHost,!1)}function Ya(e,t,n,i){$a(e,t,n,i),Za()}function Qa(e,t,n){var i=on(),r=ln(),s=e+20,a=r.firstCreatePass?function(e,t,n,i,r){var s=t.consts,a=tn(s,i),o=jr(t,n[6],e,4,"ng-container",a);return null!==a&&Ea(o,a,!0),Xr(t,n,o,tn(s,r)),null!==t.queries&&t.queries.elementStart(t,o),o}(e,r,i,t,n):r.data[s];hn(a,!0);var o=i[s]=i[11].createComment("");zs(r,i,o,a),lr(o,i),Ht(a)&&(Kr(r,i,a),qr(r,a,i)),null!=n&&Wr(i,a)}function Ja(){var e=cn(),t=ln();fn()?dn():hn(e=e.parent,!1),t.firstCreatePass&&(Pn(t,e),Mt(e)&&t.queries.elementEnd(e))}function Xa(e,t,n){Qa(e,t,n),Ja()}function eo(){return on()}function to(e){return!!e&&"function"==typeof e.then}function no(e){return!!e&&"function"==typeof e.subscribe}function io(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=on(),s=ln(),a=cn();return function(e,t,n,i,r,s){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],o=arguments.length>7?arguments[7]:void 0,l=Ht(i),u=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),c=Cs(t),h=!0;if(3===i.type){var f=$t(i,t),d=o?o(f):Ct,p=d.target||f,v=c.length,g=o?function(e){return o(Kt(e[i.index])).target}:i.index;if(Gt(n)){var m=null;if(!o&&l&&(m=function(e,t,n,i){var r=e.cleanup;if(null!=r)for(var s=0;s<r.length-1;s+=2){var a=r[s];if(a===n&&r[s+1]===i){var o=t[7],l=r[s+2];return o.length>l?o[l]:null}"string"==typeof a&&(s+=2)}return null}(e,t,r,i.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=s,m.__ngLastListenerFn__=s,h=!1;else{s=so(i,t,s,!1);var y=n.listen(d.name||p,r,s);c.push(s,y),u&&u.push(r,g,v,v+1)}}else s=so(i,t,s,!0),p.addEventListener(r,s,a),c.push(s),u&&u.push(r,g,v,a)}var k,b=i.outputs;if(h&&null!==b&&(k=b[r])){var C=k.length;if(C)for(var w=0;w<C;w+=2){var _=t[k[w]][k[w+1]].subscribe(s),S=c.length;c.push(s,_),u&&u.push(r,i.index,S,-(S+1))}}}(s,r,r[11],a,e,t,n,i),io}function ro(e,t,n){try{return!1!==t(n)}catch(i){return _s(e,i),!1}}function so(e,t,n,i){return function r(s){if(s===Function)return n;var a=2&e.flags?Qt(e.index,t):t;0==(32&t[2])&&gs(a);for(var o=ro(t,n,s),l=r.__ngNextListenerFn__;l;)o=ro(t,l,s)&&o,l=l.__ngNextListenerFn__;return i&&!1===o&&(s.preventDefault(),s.returnValue=!1),o}}function ao(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(e){return(sn.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,sn.lFrame.contextLView))[8]}(e)}function oo(e,t){for(var n=null,i=function(e){var t=e.attrs;if(null!=t){var n=t.indexOf(5);if(0==(1&n))return t[n+1]}return null}(e),r=0;r<t.length;r++){var s=t[r];if("*"!==s){if(null===i?yr(e,s,!0):kr(i,s))return r}else n=r}return n}function lo(e){var t=on()[16][6];if(!t.projection)for(var n=t.projection=vt(e?e.length:1,null),i=n.slice(),r=t.child;null!==r;){var s=e?oo(r,e):0;null!==s&&(i[s]?i[s].projectionNext=r:n[s]=r,i[s]=r),r=r.next}}function uo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=on(),r=ln(),s=jr(r,i[6],e,1,null,n||null);null===s.projection&&(s.projection=t),dn(),Ws(r,i,s)}function co(e,t,n){return ho(e,"",t,"",n),co}function ho(e,t,n,i,r){var s=on(),a=ja(s,t,n,i);return a!==wr&&Jr(ln(),Rn(),s,e,a,s[11],r,!1),ho}var fo=[];function po(e,t,n,i,r){for(var s=e[n+1],a=null===t,o=i?Or(s):Pr(s),l=!1;0!==o&&(!1===l||a);){var u=e[o+1];vo(e[o],t)&&(l=!0,e[o+1]=i?Nr(u):Rr(u)),o=i?Or(u):Pr(u)}l&&(e[n+1]=i?Rr(s):Nr(s))}function vo(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&yt(e,t)>=0}var go={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function mo(e){return e.substring(go.key,go.keyEnd)}function yo(e,t){var n=go.textEnd;return n===t?-1:(t=go.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,go.key=t,n),ko(e,t,n))}function ko(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function bo(e,t,n){return _o(e,t,n,!1),bo}function Co(e,t){return _o(e,t,null,!0),Co}function wo(e,t){for(var n=function(e){return function(e){go.key=0,go.keyEnd=0,go.value=0,go.valueEnd=0,go.textEnd=e.length}(e),yo(e,ko(e,0,go.textEnd))}(t);n>=0;n=yo(t,n))gt(e,mo(t),!0)}function _o(e,t,n,i){var r,s,a=on(),o=ln(),l=kn(2);(o.firstUpdatePass&&xo(o,e,l,i),t!==wr&&La(a,l,t))&&(null==n&&(r=null===(s=sn.lFrame)?null:s.currentSanitizer)&&(n=r),To(o,o.data[Dn()+20],a,a[11],e,a[l+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=De(Ti(e)))),e}(t,n),i,l))}function So(e,t){return t>=e.expandoStartIndex}function xo(e,t,n,i){var r=e.data;if(null===r[n+1]){var s=r[Dn()+20],a=So(e,n);Do(s,i)&&null===t&&!a&&(t=!1),t=function(e,t,n,i){var r=function(e){var t=sn.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e),s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=Io(n=Eo(null,e,t,n,i),t.attrs,i),s=null);else{var a=t.directiveStylingLast;if(-1===a||e[a]!==r)if(n=Eo(r,e,t,n,i),null===s){var o=function(e,t,n){var i=n?t.classBindings:t.styleBindings;if(0!==Pr(i))return e[Or(i)]}(e,t,i);void 0!==o&&Array.isArray(o)&&function(e,t,n,i){e[Or(n?t.classBindings:t.styleBindings)]=i}(e,t,i,o=Io(o=Eo(null,e,t,o[1],i),t.attrs,i))}else s=function(e,t,n){for(var i=void 0,r=t.directiveEnd,s=1+t.directiveStylingLast;s<r;s++)i=Io(i,e[s].hostAttrs,n);return Io(i,t.attrs,n)}(e,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),n}(r,s,t,i),function(e,t,n,i,r,s){var a=s?t.classBindings:t.styleBindings,o=Or(a),l=Pr(a);e[i]=n;var u,c=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||yt(h,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){var f=Or(e[o+1]);e[i+1]=Dr(f,o),0!==f&&(e[f+1]=Lr(e[f+1],i)),e[o+1]=131071&e[o+1]|i<<17}else e[i+1]=Dr(o,0),0!==o&&(e[o+1]=Lr(e[o+1],i)),o=i;else e[i+1]=Dr(l,0),0===o?o=i:e[l+1]=Lr(e[l+1],i),l=i;c&&(e[i+1]=Rr(e[i+1])),po(e,u,i,!0),po(e,u,i,!1),function(e,t,n,i,r){var s=r?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof t&&yt(s,t)>=0&&(n[i+1]=Nr(n[i+1]))}(t,u,e,i,s),a=Dr(o,l),s?t.classBindings=a:t.styleBindings=a}(r,s,t,n,a,i)}}function Eo(e,t,n,i,r){var s=null,a=n.directiveEnd,o=n.directiveStylingLast;for(-1===o?o=n.directiveStart:o++;o<a&&(i=Io(i,(s=t[o]).hostAttrs,r),s!==e);)o++;return null!==e&&(n.directiveStylingLast=o),i}function Io(e,t,n){var i=n?1:2,r=-1;if(null!==t)for(var s=0;s<t.length;s++){var a=t[s];"number"==typeof a?r=a:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gt(e,a,!!n||t[++s]))}return void 0===e?null:e}function To(e,t,n,i,r,s,a,o){if(3===t.type){var l=e.data,u=l[o+1];Ao(1==(1&u)?Fo(l,t,n,r,Pr(u),a):void 0)||(Ao(s)||2==(2&u)&&(s=Fo(l,null,n,r,o,a)),function(e,t,n,i,r){var s=Gt(e);if(t)r?s?e.addClass(n,i):n.classList.add(i):s?e.removeClass(n,i):n.classList.remove(i);else{var a=-1==i.indexOf("-")?void 0:2;null==r?s?e.removeStyle(n,i,a):n.style.removeProperty(i):s?e.setStyle(n,i,r,a):n.style.setProperty(i,r)}}(i,a,Wt(Dn(),n),r,s))}}function Fo(e,t,n,i,r,s){for(var a=null===t,o=void 0;r>0;){var l=e[r],u=Array.isArray(l),c=u?l[1]:l,h=null===c,f=n[r+1];f===wr&&(f=h?fo:void 0);var d=h?mt(f,i):c===i?f:void 0;if(u&&!Ao(d)&&(d=mt(l,i)),Ao(d)&&(o=d,a))return o;var p=e[r+1];r=a?Or(p):Pr(p)}if(null!==t){var v=s?t.residualClasses:t.residualStyles;null!=v&&(o=mt(v,i))}return o}function Ao(e){return void 0!==e}function Do(e,t){return 0!=(e.flags&(t?16:32))}function Oo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=on(),i=ln(),r=e+20,s=i.firstCreatePass?jr(i,n[6],e,3,null,null):i.data[r],a=n[r]=Fs(t,n[11]);zs(i,n,a,s),hn(s,!1)}function Ro(e){return Po("",e,""),Ro}function Po(e,t,n){var i=on(),r=ja(i,e,t,n);return r!==wr&&xs(i,Dn(),r),Po}function Lo(e,t,n,i,r){var s=on(),a=function(e,t,n,i,r,s){var a=Na(e,mn(),n,r);return kn(2),a?t+Yn(n)+i+Yn(r)+s:wr}(s,e,t,n,i,r);return a!==wr&&xs(s,Dn(),a),Lo}function No(e,t,n,i,r,s,a,o,l,u,c){var h=on(),f=function(e,t,n,i,r,s,a,o,l,u,c,h){var f=mn(),d=Va(e,f,n,r,a,l);return d=La(e,f+4,c)||d,kn(5),d?t+Yn(n)+i+Yn(r)+s+Yn(a)+o+Yn(l)+u+Yn(c)+h:wr}(h,e,t,n,i,r,s,a,o,l,u,c);return f!==wr&&xs(h,Dn(),f),No}function Mo(e,t,n){var i=on();return La(i,yn(),t)&&Jr(ln(),Rn(),i,e,t,i[11],n,!0),Mo}function Vo(e,t){var n=Jt(e)[1],i=n.data.length-1;Pn(n,{directiveStart:i,directiveEnd:i+1})}function Ho(e){for(var t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0,i=[e];t;){var r=void 0;if(jt(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);var s=e;s.inputs=jo(e.inputs),s.declaredInputs=jo(e.declaredInputs),s.outputs=jo(e.outputs);var a=r.hostBindings;a&&Uo(e,a);var o=r.viewQuery,l=r.contentQueries;if(o&&Bo(e,o),l&&zo(e,l),be(e.inputs,r.inputs),be(e.declaredInputs,r.declaredInputs),be(e.outputs,r.outputs),jt(r)&&r.data.animation){var u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}s.afterContentChecked=s.afterContentChecked||r.afterContentChecked,s.afterContentInit=e.afterContentInit||r.afterContentInit,s.afterViewChecked=e.afterViewChecked||r.afterViewChecked,s.afterViewInit=e.afterViewInit||r.afterViewInit,s.doCheck=e.doCheck||r.doCheck,s.onDestroy=e.onDestroy||r.onDestroy,s.onInit=e.onInit||r.onInit}var c=r.features;if(c)for(var h=0;h<c.length;h++){var f=c[h];f&&f.ngInherit&&f(e),f===Ho&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){for(var t=0,n=null,i=e.length-1;i>=0;i--){var r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Gn(r.hostAttrs,n=Gn(n,r.hostAttrs))}}(i)}function jo(e){return e===Ct?{}:e===wt?[]:e}function Bo(e,t){var n=e.viewQuery;e.viewQuery=n?function(e,i){t(e,i),n(e,i)}:t}function zo(e,t){var n=e.contentQueries;e.contentQueries=n?function(e,i,r){t(e,i,r),n(e,i,r)}:t}function Uo(e,t){var n=e.hostBindings;e.hostBindings=n?function(e,i){t(e,i),n(e,i)}:t}var Go=function(){function e(t,n,i){_classCallCheck(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=i}return _createClass(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}();function qo(e){e.type.prototype.ngOnChanges&&(e.setInput=Ko,e.onChanges=function(){var e=Wo(this),t=e&&e.current;if(t){var n=e.previous;if(n===Ct)e.previous=t;else for(var i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}})}function Ko(e,t,n,i){var r=Wo(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Ct,current:null}),s=r.current||(r.current={}),a=r.previous,o=this.declaredInputs[n],l=a[o];s[o]=new Go(l&&l.currentValue,t,a===Ct),e[i]=t}function Wo(e){return e.__ngSimpleChanges__||null}function $o(e,t,n,i,r){if(e=Le(e),Array.isArray(e))for(var s=0;s<e.length;s++)$o(e[s],t,n,i,r);else{var a=ln(),o=on(),l=ka(e)?e:Le(e.provide),u=ga(e),c=cn(),h=65535&c.providerIndexes,f=c.directiveStart,d=c.providerIndexes>>16;if(ka(e)||!e.multi){var p=new jn(u,r,Ua),v=Qo(l,t,r?h:h+d,f);-1===v?(oi(ii(c,o),a,l),Zo(a,e,t.length),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(p),o.push(p)):(n[v]=p,o[v]=p)}else{var g=Qo(l,t,h+d,f),m=Qo(l,t,h,h+d),y=g>=0&&n[g],k=m>=0&&n[m];if(r&&!k||!r&&!y){oi(ii(c,o),a,l);var b=function(e,t,n,i,r){var s=new jn(e,n,Ua);return s.multi=[],s.index=t,s.componentProviders=0,Yo(s,r,i&&!n),s}(r?Xo:Jo,n.length,r,i,u);!r&&k&&(n[m].providerFactory=b),Zo(a,e,t.length,0),t.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(b),o.push(b)}else Zo(a,e,g>-1?g:m,Yo(n[r?m:g],u,!r&&i));!r&&i&&k&&n[m].componentProviders++}}}function Zo(e,t,n,i){var r=ka(t);if(r||t.useClass){var s=(t.useClass||t).prototype.ngOnDestroy;if(s){var a=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){var o=a.indexOf(n);-1===o?a.push(n,[i,s]):a[o+1].push(i,s)}else a.push(n,s)}}}function Yo(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qo(e,t,n,i){for(var r=n;r<i;r++)if(t[r]===e)return r;return-1}function Jo(e,t,n,i){return el(this.multi,[])}function Xo(e,t,n,i){var r,s=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,o=fi(n,n[1],this.providerFactory.index,i);el(s,r=o.slice(0,a));for(var l=a;l<o.length;l++)r.push(o[l])}else el(s,r=[]);return r}function el(e,t){for(var n=0;n<e.length;n++)t.push((0,e[n])());return t}function tl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(e,t,n){var i=ln();if(i.firstCreatePass){var r=jt(e);$o(n,i.data,i.blueprint,r,!0),$o(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}}qo.ngInherit=!0;var nl=function e(){_classCallCheck(this,e)},il=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"resolveComponentFactory",value:function(e){throw function(e){var t=Error("No component factory found for ".concat(De(e),". Did you add it to @NgModule.entryComponents?"));return t.ngComponent=e,t}(e)}}]),e}(),rl=function(){var e=function e(){_classCallCheck(this,e)};return e.NULL=new il,e}(),sl=function(){var e=function e(t){_classCallCheck(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return al(e)},e}(),al=function(e){return na(e,cn(),on())},ol=function e(){_classCallCheck(this,e)},ll=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),ul=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return cl()},e}(),cl=function(){var e=on(),t=Qt(cn().index,e);return function(e){var t=e[11];if(Gt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Lt(t)?t:e)},hl=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275prov=Ce({token:e,providedIn:"root",factory:function(){return null}}),e}(),fl=new function e(t){_classCallCheck(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("9.1.13"),dl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return Da(e)}},{key:"create",value:function(e){return new vl(e)}}]),e}(),pl=function(e,t){return t},vl=function(){function e(t){_classCallCheck(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||pl}return _createClass(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,i=0,r=null;t||n;){var s=!n||t&&t.currentIndex<kl(n,i,r)?t:n,a=kl(s,i,r),o=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{r||(r=[]);var l=a-i,u=o-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,f=h+c;u<=f&&f<l&&(r[c]=h+1)}r[s.previousIndex]=u-l}}a!==o&&e(s,a,o)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!Da(e))throw new Error("Error trying to diff '".concat(De(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,i,r,s=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var o=0;o<this.length;o++)i=e[o],r=this._trackByFn(o,i),null!==s&&Fa(s.trackById,r)?(a&&(s=this._verifyReinsertion(s,i,r,o)),Fa(s.item,i)||this._addIdentityChange(s,i)):(s=this._mismatch(s,i,r,o),a=!0),s=s._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var i,r=e[Ta()]();!(i=r.next()).done;)t(i.value)}(e,(function(e){r=t._trackByFn(n,e),null!==s&&Fa(s.trackById,r)?(a&&(s=t._verifyReinsertion(s,e,r,n)),Fa(s.item,e)||t._addIdentityChange(s,e)):(s=t._mismatch(s,e,r,n),a=!0),s=s._next,n++})),this.length=n;return this._truncate(s),this.collection=e,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,i){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Fa(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Fa(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new gl(t,n),r,i),e}},{key:"_verifyReinsertion",value:function(e,t,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new yl),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}]),e}(),gl=function e(t,n){_classCallCheck(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},ml=function(){function e(){_classCallCheck(this,e),this._head=null,this._tail=null}return _createClass(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Fa(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),yl=function(){function e(){_classCallCheck(this,e),this.map=new Map}return _createClass(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new ml,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),e}();function kl(e,t,n){var i=e.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+t+r}var bl=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"supports",value:function(e){return e instanceof Map||Oa(e)}},{key:"create",value:function(){return new Cl}}]),e}(),Cl=function(){function e(){_classCallCheck(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(e,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||Oa(e)))throw new Error("Error trying to diff '".concat(De(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,i){if(n&&n.key===i)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(i,e);n=t._insertBeforeOrAppend(n,r)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var s=new wl(e);return this._records.set(e,s),s.currentValue=t,this._addToAdditions(s),s}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){Fa(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}}]),e}(),wl=function e(t){_classCallCheck(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},_l=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new me,new ve]]}}}]),e}();return e.\u0275prov=Ce({token:e,providedIn:"root",factory:function(){return new e([new dl])}}),e}(),Sl=function(){var e=function(){function e(t){_classCallCheck(this,e),this.factories=t}return _createClass(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var i=n.factories.slice();t=t.concat(i)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new me,new ve]]}}}]),e}();return e.\u0275prov=Ce({token:e,providedIn:"root",factory:function(){return new e([new bl])}}),e}(),xl=[new bl],El=new _l([new dl]),Il=new Sl(xl),Tl=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Fl(e,sl)},e}(),Fl=function(e,t){return ia(e,t,cn(),on())},Al=function(){var e=function e(){_classCallCheck(this,e)};return e.__NG_ELEMENT_ID__=function(){return Dl(e,sl)},e}(),Dl=function(e,t){return ra(e,t,cn(),on())},Ol={},Rl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).ngModule=e,i}return _createClass(n,[{key:"resolveComponentFactory",value:function(e){var t=Ot(e);return new Nl(t,this.ngModule)}}]),n}(rl);function Pl(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}var Ll=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Jn}}),Nl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).componentDef=e,r.ngModule=i,r.componentType=e.type,r.selector=e.selectors.map(Cr).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!i,r}return _createClass(n,[{key:"inputs",get:function(){return Pl(this.componentDef.inputs)}},{key:"outputs",get:function(){return Pl(this.componentDef.outputs)}},{key:"create",value:function(e,t,n,i){var r,s,a=(i=i||this.ngModule)?function(e,t){return{get:function(n,i,r){var s=e.get(n,Ol,r);return s!==Ol||i===Ol?s:t.get(n,i,r)}}}(e,i.injector):e,o=a.get(ol,qt),l=a.get(hl,null),u=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(e,t,n){if(Gt(e))return e.selectRootElement(t,n===bt.ShadowDom);var i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(u,n,this.componentDef.encapsulation):Vr(c,o.createRenderer(null,this.componentDef),function(e){var t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:Jn,clean:bs,playerHandler:null,flags:0},v=Zr(0,-1,null,1,0,null,null,null,null,null),g=Hr(null,v,p,f,null,null,o,u,l,a);xn(g,null);try{var m=function(e,t,n,i,r,s){var a=n[1];n[20]=e;var o=jr(a,null,0,3,null,null),l=o.mergedAttrs=t.hostAttrs;null!==l&&(Ea(o,l,!0),null!==e&&(Bn(r,e,l),null!==o.classes&&Ys(r,e,o.classes),null!==o.styles&&Zs(r,e,o.styles)));var u=i.createRenderer(e,t),c=Hr(n,$r(t),null,t.onPush?64:16,n[20],o,i,u,void 0);return a.firstCreatePass&&(oi(ii(o,n),a,t.type),rs(a,o),as(o,n.length,1)),vs(n,c),n[20]=c}(h,this.componentDef,g,o,u);if(h)if(n)Bn(u,h,["ng-version",fl.full]);else{var y=function(e){for(var t=[],n=[],i=1,r=2;i<e.length;){var s=e[i];if("string"==typeof s)2===r?""!==s&&t.push(s,e[++i]):8===r&&n.push(s);else{if(!gr(r))break;r=s}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]),k=y.attrs,b=y.classes;k&&Bn(u,h,k),b&&b.length>0&&Ys(u,h,b.join(" "))}if(s=Zt(v,0),void 0!==t)for(var C=s.projection=[],w=0;w<this.ngContentSelectors.length;w++){var _=t[w];C.push(null!=_?Array.from(_):null)}r=function(e,t,n,i,r){var s=n[1],a=function(e,t,n){var i=cn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),is(e,i,1),os(e,t,n));var r=fi(t,e,t.length-1,i);lr(r,t);var s=$t(i,t);return s&&lr(s,t),r}(s,n,t);i.components.push(a),e[8]=a,r&&r.forEach((function(e){return e(a,t)})),t.contentQueries&&t.contentQueries(1,a,n.length-1);var o=cn();if(s.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){On(o.index-20);var l=n[1];es(l,t),ts(l,n,t.hostVars),ns(t,a)}return a}(m,this.componentDef,g,p,[Vo]),Br(v,g,null)}finally{An()}var S=new Ml(this.componentType,r,na(sl,s,g),g,s);return n&&!d||(v.node.child=s),S}}]),n}(nl),Ml=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a){var o,l,u,c;return _classCallCheck(this,n),(o=t.call(this)).location=r,o._rootLView=s,o._tNode=a,o.destroyCbs=[],o.instance=i,o.hostView=o.changeDetectorRef=new ta(s),l=s[1],u=s,null==(c=l.node)&&(l.node=c=Yr(0,null,2,-1,null,null)),u[6]=c,o.componentType=e,o}return _createClass(n,[{key:"injector",get:function(){return new vi(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(e){this.destroyCbs&&this.destroyCbs.push(e)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),Vl=void 0,Hl=["en",[["a","p"],["AM","PM"],Vl],[["AM","PM"],Vl,Vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vl,"{1} 'at' {0}",Vl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],jl={};function Bl(e){var t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e),n=Ul(t);if(n)return n;var i=t.split("-")[0];if(n=Ul(i))return n;if("en"===i)return Hl;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}function zl(e){return Bl(e)[Gl.PluralCase]}function Ul(e){return e in jl||(jl[e]=ze.ng&&ze.ng.common&&ze.ng.common.locales&&ze.ng.common.locales[e]),jl[e]}var Gl=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),ql=["zero","one","two","few","many"],Kl=/\ufffd(\d+):?\d*\ufffd/gi,Wl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function $l(e,t,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=[null,null],s=e.split(Kl),a=0,o=0;o<s.length;o++){var l=s[o];if(1&o){var u=parseInt(l,10);r.push(-1-u),a|=Zl(u)}else""!==l&&r.push(l)}return r.push(t<<2|(n?1:0)),n&&r.push(n,i),r[0]=a,r[1]=r.length-2,r}function Zl(e){return 1<<Math.min(e,31)}function Yl(e,t,n,i,r){var s=t.next;i||(i=n),i===n&&t!==n.child?(t.next=n.child,n.child=t):i!==n&&t!==i.next?(t.next=i.next,i.next=t):t.next=null,n!==r[6]&&(t.parent=n);for(var a=t.next;a;)a.next===t&&(a.next=s),a=a.next;if(1===t.type)return Ws(e,r,t),t;zs(e,r,$t(t,r),t);var o=r[t.index];return 0!==t.type&&Nt(o)&&zs(e,r,o[7],t),t}function Ql(e,t,n,i,r,s){var a=cn();t[n+20]=r;var o=jr(e,t[6],n,i,s,null);return a&&a.next===o&&(a.next=null),o}function Jl(e,t,n,i){for(var r=i[11],s=null,a=null,o=[],l=0;l<t.length;l++){var u=t[l];if("string"==typeof u){var c=Fs(u,r),h=t[++l];a=s,s=Ql(n,i,h,3,c,null),o.push(h),dn()}else if("number"==typeof u)switch(7&u){case 1:var f=u>>>17;a=Yl(n,s,f===e?i[6]:Zt(n,f),a,i);break;case 0:var d=u>=0,p=(d?u:~u)>>>3;o.push(p),a=s,(s=Zt(n,p))&&hn(s,d);break;case 5:a=s=Zt(n,u>>>3),hn(s,!1);break;case 4:var v=t[++l],g=t[++l];us(Zt(n,u>>>3),i,v,g,null,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}else switch(u){case Ar:var m=t[++l],y=t[++l],k=r.createComment(m);a=s,s=Ql(n,i,y,5,k,null),o.push(y),lr(k,i),s.activeCaseIndex=null,dn();break;case Fr:var b=t[++l],C=t[++l];a=s,s=Ql(n,i,C,3,r.createElement(b),b),o.push(C);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(u,'"'))}}return dn(),o}function Xl(e,t,n,i){var r=Zt(e,n),s=Wt(n,t);s&&Gs(t[11],s);var a=Yt(t,n);if(Nt(a)){var o=a;0!==r.type&&Gs(t[11],o[7])}i&&(r.flags|=64)}function eu(e,t){!function(e,t,n,i){for(var r=cn().index-20,s=[],a=0;a<i.length;a+=2)for(var o=i[a],l=i[a+1].split(Wl),u=0;u<l.length;u++){var c=l[u];if(1&u)throw new Error("ICU expressions are not yet supported in attributes");if(""!==c)if(c.match(Kl))t.firstCreatePass&&null===t.data[n+20]&&ht($l(c,r,o),s);else{var h=Zt(t,r);3===h.type&&us(h,e,o,c,null,null);var f=null!==h.inputs&&h.inputs[o];f&&Ss(t,e,f,o,c)}}t.firstCreatePass&&null===t.data[n+20]&&(t.data[n+20]=s)}(on(),ln(),e,t)}var tu=0,nu=0;function iu(e){return La(on(),yn(),e)&&(tu|=1<<nu),nu++,iu}function ru(e,t){var n,i,r,s=e.cases.indexOf(t);if(-1===s)switch(e.type){case 1:var a=(n=t,i=zl(su)(parseInt(n,10)),void 0!==(r=ql[i])?r:"other");-1===(s=e.cases.indexOf(a))&&"other"!==a&&(s=e.cases.indexOf("other"));break;case 0:s=e.cases.indexOf("other")}return s}var su="en-US";function au(e){var t;null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(t," <=Actual]"))}(0,t),"string"==typeof e&&(su=e.toLowerCase().replace(/_/g,"-"))}var ou=new Map,lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;_classCallCheck(this,n),(r=t.call(this))._parent=i,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[],r.componentFactoryResolver=new Rl(_assertThisInitialized(r));var s=Pt(e),a=e[We]||null;return a&&au(a),r._bootstrapComponents=Xn(s.bootstrap),r._r3Injector=da(e,i,[{provide:ut,useValue:_assertThisInitialized(r)},{provide:rl,useValue:r.componentFactoryResolver}],De(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return _createClass(n,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ca.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ye.Default;return e===Ca||e===ut||e===Qe?this:this._r3Injector.get(e,t,n)}},{key:"destroy",value:function(){var e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach((function(e){return e()})),this.destroyCbs=null}},{key:"onDestroy",value:function(e){this.destroyCbs.push(e)}}]),n}(ut),uu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).moduleType=e,null!==Pt(e)&&function e(t){if(null!==t.\u0275mod.id){var n=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error("Duplicate module registered for ".concat(e," - ").concat(De(t)," vs ").concat(De(t.name)))})(n,ou.get(n),t),ou.set(n,t)}var i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach((function(t){return e(t)}))}(e),i}return _createClass(n,[{key:"create",value:function(e){return new lu(this.moduleType,e)}}]),n}(ct);function cu(e,t,n){var i=gn()+e,r=on();return r[i]===wr?Ra(r,i,n?t.call(n):t()):Pa(r,i)}function hu(e,t,n,i){return mu(on(),gn(),e,t,n,i)}function fu(e,t,n,i,r){return yu(on(),gn(),e,t,n,i,r)}function du(e,t,n,i,r,s){return ku(on(),gn(),e,t,n,i,r,s)}function pu(e,t,n,i,r,s,a){return function(e,t,n,i,r,s,a,o,l){var u=t+n;return Va(e,u,r,s,a,o)?Ra(e,u+4,l?i.call(l,r,s,a,o):i(r,s,a,o)):gu(e,u+4)}(on(),gn(),e,t,n,i,r,s,a)}function vu(e,t,n,i,r,s,a,o,l){var u=gn()+e,c=on(),h=Va(c,u,n,i,r,s);return Na(c,u+4,a,o)||h?Ra(c,u+6,l?t.call(l,n,i,r,s,a,o):t(n,i,r,s,a,o)):Pa(c,u+6)}function gu(e,t){var n=e[t];return n===wr?void 0:n}function mu(e,t,n,i,r,s){var a=t+n;return La(e,a,r)?Ra(e,a+1,s?i.call(s,r):i(r)):gu(e,a+1)}function yu(e,t,n,i,r,s,a){var o=t+n;return Na(e,o,r,s)?Ra(e,o+2,a?i.call(a,r,s):i(r,s)):gu(e,o+2)}function ku(e,t,n,i,r,s,a,o){var l=t+n;return Ma(e,l,r,s,a)?Ra(e,l+3,o?i.call(o,r,s,a):i(r,s,a)):gu(e,l+3)}function bu(e,t){var n,i=ln(),r=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(var n=t.length-1;n>=0;n--){var i=t[n];if(e===i.name)return i}throw new Error("The pipe '".concat(e,"' could not be found!"))}(t,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var s=n.factory||(n.factory=Rt(n.type)),a=it(Ua),o=ti(!1),l=s();return ti(o),it(a),function(e,t,n,i){var r=n+20;r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=i}(i,on(),e,l),l}function Cu(e,t,n,i){var r=on(),s=Yt(r,e);return Su(r,_u(r,e)?yu(r,gn(),t,s.transform,n,i,s):s.transform(n,i))}function wu(e,t,n,i,r){var s=on(),a=Yt(s,e);return Su(s,_u(s,e)?ku(s,gn(),t,a.transform,n,i,r,a):a.transform(n,i,r))}function _u(e,t){return e[1].data[t+20].pure}function Su(e,t){return Aa.isWrapped(t)&&(t=Aa.unwrap(t),e[mn()]=wr),t}var xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(e=t.call(this)).__isAsync=i,e}return _createClass(n,[{key:"emit",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,i){var r,s=function(e){return null},a=function(){return null};e&&"object"==typeof e?(r=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(r=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(s=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),i&&(a=this.__isAsync?function(){setTimeout((function(){return i()}))}:function(){i()}));var o=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,r,s,a);return e instanceof C&&e.add(o),o}}]),n}(M);function Eu(){return this._results[Ta()]()}var Iu=function(){function e(){_classCallCheck(this,e),this.dirty=!0,this._results=[],this.changes=new xu,this.length=0;var t=Ta(),n=e.prototype;n[t]||(n[t]=Eu)}return _createClass(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?(n===t&&(n=t.slice(0,i)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Tu=function(){function e(t){_classCallCheck(this,e),this.queryList=t,this.matches=null}return _createClass(e,[{key:"clone",value:function(){return new e(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),e}(),Fu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"createEmbeddedView",value:function(t){var n=t.queries;if(null!==n){for(var i=null!==t.contentQueries?t.contentQueries[0]:n.length,r=[],s=0;s<i;s++){var a=n.getByIndex(s);r.push(this.queries[a.indexInDeclarationView].clone())}return new e(r)}return null}},{key:"insertView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"detachView",value:function(e){this.dirtyQueriesWithMatches(e)}},{key:"dirtyQueriesWithMatches",value:function(e){for(var t=0;t<this.queries.length;t++)null!==Ku(e,t).matches&&this.queries[t].setDirty()}}]),e}(),Au=function e(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,e),this.predicate=t,this.descendants=n,this.isStatic=i,this.read=r},Du=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,e),this.queries=t}return _createClass(e,[{key:"elementStart",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}},{key:"elementEnd",value:function(e){for(var t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}},{key:"embeddedTView",value:function(t){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==n?n.push(s):n=[s])}return null!==n?new e(n):null}},{key:"template",value:function(e,t){for(var n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}},{key:"getByIndex",value:function(e){return this.queries[e]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(e){this.queries.push(e)}}]),e}(),Ou=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,e),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(e,[{key:"elementStart",value:function(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}},{key:"elementEnd",value:function(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(e,t){this.elementStart(e,t)}},{key:"embeddedTView",value:function(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}},{key:"isApplyingToNode",value:function(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var t=this._declarationNodeIndex,n=e.parent;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(e,t){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,i=0;i<n.length;i++)this.matchTNodeWithReadOption(e,t,Ru(t,n[i]));else{var r=this.metadata.predicate;r===Tl?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,hi(t,e,r,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(e,t,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===sl||i===Al||i===Tl&&0===t.type)this.addMatch(t.index,-2);else{var r=hi(t,e,i,!1,!1);null!==r&&this.addMatch(t.index,r)}else this.addMatch(t.index,n)}}},{key:"addMatch",value:function(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}]),e}();function Ru(e,t){var n=e.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Pu(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?na(sl,e,t):0===e.type?ia(Tl,sl,e,t):null}(t,e):-2===n?function(e,t,n){return n===sl?na(sl,t,e):n===Tl?ia(Tl,sl,t,e):n===Al?ra(Al,sl,t,e):void 0}(e,t,i):fi(e,e[1],n,t)}function Lu(e,t,n,i){var r=t[19].queries[i];if(null===r.matches){for(var s=e.data,a=n.matches,o=[],l=0;l<a.length;l+=2){var u=a[l];o.push(u<0?null:Pu(t,s[u],a[l+1],n.metadata.read))}r.matches=o}return r.matches}function Nu(e){var t=on(),n=ln(),i=wn();_n(i+1);var r=Ku(n,i);if(e.dirty&&Xt(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{var s=r.crossesNgTemplate?function e(t,n,i,r){var s=t.queries.getByIndex(i),a=s.matches;if(null!==a)for(var o=Lu(t,n,s,i),l=0;l<a.length;l+=2){var u=a[l];if(u>0)r.push(o[l/2]);else{for(var c=a[l+1],h=n[-u],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&e(d[1],d,c,r)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var g=p[v];e(g[1],g,c,r)}}}return r}(n,t,i,[]):Lu(n,t,r,i);e.reset(s),e.notifyOnChanges()}return!0}return!1}function Mu(e,t,n){Hu(ln(),on(),e,t,n,!0)}function Vu(e,t,n){Hu(ln(),on(),e,t,n,!1)}function Hu(e,t,n,i,r,s){e.firstCreatePass&&(qu(e,new Au(n,i,s,r),-1),s&&(e.staticViewQueries=!0)),Gu(e,t)}function ju(e,t,n,i){zu(ln(),on(),t,n,i,!1,cn(),e)}function Bu(e,t,n,i){zu(ln(),on(),t,n,i,!0,cn(),e)}function zu(e,t,n,i,r,s,a,o){e.firstCreatePass&&(qu(e,new Au(n,i,s,r),a.index),function(e,t){var n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,o),s&&(e.staticContentQueries=!0)),Gu(e,t)}function Uu(){return e=on(),t=wn(),e[19].queries[t].queryList;var e,t}function Gu(e,t){var n=new Iu;!function(e,t,n,i){var r=Cs(t);r.push(n),e.firstCreatePass&&ws(e).push(i,r.length-1)}(e,t,n,n.destroy),null===t[19]&&(t[19]=new Fu),t[19].queries.push(new Tu(n))}function qu(e,t,n){null===e.queries&&(e.queries=new Du),e.queries.track(new Ou(t,n))}function Ku(e,t){return e.queries.getByIndex(t)}function Wu(e,t){return ia(Tl,sl,e,t)}var $u=new Ye("Application Initializer"),Zu=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();to(r)&&t.push(r)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st($u,8))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),Yu=new Ye("AppId"),Qu={provide:Yu,useFactory:function(){return"".concat(Ju()).concat(Ju()).concat(Ju())},deps:[]};function Ju(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Xu=new Ye("Platform Initializer"),ec=new Ye("Platform ID"),tc=new Ye("appBootstrapListener"),nc=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),ic=new Ye("LocaleId"),rc=new Ye("DefaultCurrencyCode"),sc=function e(t,n){_classCallCheck(this,e),this.ngModuleFactory=t,this.componentFactories=n},ac=function(e){return new uu(e)},oc=ac,lc=function(e){return Promise.resolve(ac(e))},uc=function(e){var t=ac(e),n=Xn(Pt(e).declarations).reduce((function(e,t){var n=Ot(t);return n&&e.push(new Nl(n)),e}),[]);return new sc(t,n)},cc=uc,hc=function(e){return Promise.resolve(uc(e))},fc=function(){var e=function(){function e(){_classCallCheck(this,e),this.compileModuleSync=oc,this.compileModuleAsync=lc,this.compileModuleAndAllComponentsSync=cc,this.compileModuleAndAllComponentsAsync=hc}return _createClass(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),dc=new Ye("compilerOptions"),pc=Promise.resolve(0);function vc(e){"undefined"==typeof Zone?pc.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var gc=function(){function e(t){var n,i,r=t.enableLongStackTrace,s=void 0!==r&&r,a=t.shouldCoalesceEventChangeDetection,o=void 0!==a&&a;if(_classCallCheck(this,e),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xu(!1),this.onMicrotaskEmpty=new xu(!1),this.onStable=new xu(!1),this.onError=new xu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=o,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var e=ze.requestAnimationFrame,t=ze.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){var n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);var i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,i=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ze,(function(){e.lastRequestAnimationFrameId=-1,bc(e),kc(e)})),bc(e))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:i},onInvokeTask:function(e,t,r,s,a,o){try{return Cc(n),e.invokeTask(r,s,a,o)}finally{i&&"eventTask"===s.type&&i(),wc(n)}},onInvoke:function(e,t,i,r,s,a,o){try{return Cc(n),e.invoke(i,r,s,a,o)}finally{wc(n)}},onHasTask:function(e,t,i,r){e.hasTask(i,r),t===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,bc(n),kc(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,t,i,r){return e.handleError(i,r),n.runOutsideAngular((function(){return n.onError.emit(r)})),!1}})}return _createClass(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,i){var r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,e,yc,mc,mc);try{return r.runTask(s,t,n)}finally{r.cancelTask(s)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function mc(){}var yc={};function kc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function bc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Cc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function wc(e){e._nesting--,kc(e)}var _c,Sc=function(){function e(){_classCallCheck(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xu,this.onMicrotaskEmpty=new xu,this.onStable=new xu,this.onError=new xu}return _createClass(e,[{key:"run",value:function(e,t,n){return e.apply(t,n)}},{key:"runGuarded",value:function(e,t,n){return e.apply(t,n)}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e,t,n,i){return e.apply(t,n)}}]),e}(),xc=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){gc.assertNotInAngularZone(),vc((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())vc((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var i=this,r=-1;t&&t>0&&(r=setTimeout((function(){i._callbacks=i._callbacks.filter((function(e){return e.timeoutId!==r})),e(i._didWork,i.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st(gc))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),Ec=function(){var e=function(){function e(){_classCallCheck(this,e),this._applications=new Map,Ic.addToWindow(this)}return _createClass(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Ic.findTestabilityInTree(this,e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),Ic=new(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Tc=function(e,t,n){var i=e.get(dc,[]).concat(t),r=new uu(n);if(0===_a.size)return Promise.resolve(r);var s,a,o=(s=i.map((function(e){return e.providers})),a=[],s.forEach((function(e){return e&&a.push.apply(a,_toConsumableArray(e))})),a);if(0===o.length)return Promise.resolve(r);var l=function(){var e=ze.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),u=Ca.create({providers:o}).get(l.ResourceLoader);return function(e){var t=[],n=new Map;function i(e){var t=n.get(e);if(!t){var i=function(e){return Promise.resolve(u.get(e))}(e);n.set(e,t=i.then(xa))}return t}return _a.forEach((function(e,n){var r=[];e.templateUrl&&r.push(i(e.templateUrl).then((function(t){e.template=t})));var s=e.styleUrls,a=e.styles||(e.styles=[]),o=e.styles.length;s&&s.forEach((function(t,n){a.push(""),r.push(i(t).then((function(i){a[o+n]=i,s.splice(s.indexOf(t),1),0==s.length&&(e.styleUrls=void 0)})))}));var l=Promise.all(r).then((function(){return function(e){Sa.delete(e)}(n)}));t.push(l)})),_a=new Map,Promise.all(t).then((function(){}))}().then((function(){return r}))},Fc=new Ye("AllowMultipleToken"),Ac=function e(t,n){_classCallCheck(this,e),this.name=t,this.token=n};function Dc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: "+t,r=new Ye(i);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=Oc();if(!s||s.injector.get(Fc,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var a=n.concat(t).concat({provide:r,useValue:!0},{provide:oa,useValue:"platform"});!function(e){if(_c&&!_c.destroyed&&!_c.injector.get(Fc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_c=e.get(Rc);var t=e.get(Xu,null);t&&t.forEach((function(e){return e()}))}(Ca.create({providers:a,name:i}))}return function(e){var t=Oc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Oc(){return _c&&!_c.destroyed?_c:null}var Rc=function(){var e=function(){function e(t){_classCallCheck(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,i,r=this,s=(n=t?t.ngZone:void 0,i=t&&t.ngZoneEventCoalescing||!1,"noop"===n?new Sc:("zone.js"===n?void 0:n)||new gc({enableLongStackTrace:Ri(),shouldCoalesceEventChangeDetection:i})),a=[{provide:gc,useValue:s}];return s.run((function(){var t=Ca.create({providers:a,parent:r.injector,name:e.moduleType.name}),n=e.create(t),i=n.injector.get(Ci,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Mc(r._modules,n)})),s.runOutsideAngular((function(){return s.onError.subscribe({next:function(e){i.handleError(e)}})})),function(e,t,i){try{var s=((a=n.injector.get(Zu)).runInitializers(),a.donePromise.then((function(){return au(n.injector.get(ic,"en-US")||"en-US"),r._moduleDoBootstrap(n),n})));return to(s)?s.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):s}catch(o){throw t.runOutsideAngular((function(){return e.handleError(o)})),o}var a}(i,s)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Pc({},n);return Tc(this.injector,i,e).then((function(e){return t.bootstrapModuleFactory(e,i)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Nc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(De(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st(Ca))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}();function Pc(e,t){return Array.isArray(t)?t.reduce(Pc,e):Object.assign(Object.assign({},e),t)}var Lc,Nc=((Lc=function(){function e(t,n,i,r,s,a){var o=this;_classCallCheck(this,e),this._zone=t,this._console=n,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ri(),this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run((function(){o.tick()}))}});var l=new D((function(e){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular((function(){e.next(o._stable),e.complete()}))})),u=new D((function(e){var t;o._zone.runOutsideAngular((function(){t=o._zone.onStable.subscribe((function(){gc.assertNotInAngularZone(),vc((function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,e.next(!0))}))}))}));var n=o._zone.onUnstable.subscribe((function(){gc.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=re(l,u.pipe((function(e){return se()((t=he,function(e){var n;n="function"==typeof t?t:function(){return t};var i=Object.create(e,ue);return i.source=e,i.subjectFactory=n,i})(e));var t})))}return _createClass(e,[{key:"bootstrap",value:function(e,t){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof nl?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(ut),s=n.create(Ca.NULL,[],t||n.selector,r);s.onDestroy((function(){i._unloadComponent(s)}));var a=s.injector.get(xc,null);return a&&s.injector.get(Ec).registerApplication(s.location.nativeElement,a),this._loadComponent(s),Ri()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}},{key:"tick",value:function(){var e=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var t,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(t=n.n()).done;)t.value.detectChanges()}catch(s){n.e(s)}finally{n.f()}if(this._enforceNoNewChanges){var i,r=_createForOfIteratorHelper(this._views);try{for(r.s();!(i=r.n()).done;)i.value.checkNoChanges()}catch(s){r.e(s)}finally{r.f()}}}catch(a){this._zone.runOutsideAngular((function(){return e._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Mc(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(tc,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Mc(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}()).\u0275fac=function(e){return new(e||Lc)(st(gc),st(nc),st(Ca),st(Ci),st(rl),st(Zu))},Lc.\u0275prov=Ce({token:Lc,factory:Lc.\u0275fac}),Lc);function Mc(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Vc=function e(){_classCallCheck(this,e)},Hc=function e(){_classCallCheck(this,e)},jc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Bc=function(){var e=function(){function e(t,n){_classCallCheck(this,e),this._compiler=t,this._config=n||jc}return _createClass(e,[{key:"load",value:function(e){return this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,i=_slicedToArray(e.split("#"),2),r=i[0],s=i[1];return void 0===s&&(s="default"),n("zn8P")(r).then((function(e){return e[s]})).then((function(e){return zc(e,r,s)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),i=t[0],r=t[1],s="NgFactory";return void 0===r&&(r="default",s=""),n("zn8P")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then((function(e){return e[r+s]})).then((function(e){return zc(e,i,r)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st(fc),st(Hc,8))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}();function zc(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Uc=Dc(null,"core",[{provide:ec,useValue:"unknown"},{provide:Rc,deps:[Ca]},{provide:Ec,deps:[]},{provide:nc,deps:[]}]),Gc=[{provide:Nc,useClass:Nc,deps:[gc,nc,Ca,Ci,rl,Zu]},{provide:Ll,deps:[gc],useFactory:function(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}},{provide:Zu,useClass:Zu,deps:[[new ve,$u]]},{provide:fc,useClass:fc,deps:[]},Qu,{provide:_l,useFactory:function(){return El},deps:[]},{provide:Sl,useFactory:function(){return Il},deps:[]},{provide:ic,useFactory:function(e){return au(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new pe(ic),new ve,new me]]},{provide:rc,useValue:"USD"}],qc=function(){var e=function e(t){_classCallCheck(this,e)};return e.\u0275mod=Tt({type:e}),e.\u0275inj=we({factory:function(t){return new(t||e)(st(Nc))},providers:Gc}),e}(),Kc=null;function Wc(){return Kc}var $c,Zc=new Ye("DocumentToken"),Yc=(($c=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||$c)},$c.\u0275prov=Ce({factory:Qc,token:$c,providedIn:"platform"}),$c);function Qc(){return st(eh)}var Jc,Xc=new Ye("Location Initialized"),eh=((Jc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=Wc().getLocation(),this._history=Wc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Wc().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){Wc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){Wc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(e,t,n){th()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){th()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(Yc)).\u0275fac=function(e){return new(e||Jc)(st(Zc))},Jc.\u0275prov=Ce({factory:nh,token:Jc,providedIn:"platform"}),Jc);function th(){return!!window.history.pushState}function nh(){return new eh(st(Zc))}function ih(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function rh(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function sh(e){return e&&"?"!==e[0]?"?"+e:e}var ah,oh=((ah=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||ah)},ah.\u0275prov=Ce({factory:lh,token:ah,providedIn:"root"}),ah);function lh(e){var t=st(Zc).location;return new dh(st(Yc),t&&t.origin||"")}var uh,ch,hh,fh=new Ye("appBaseHref"),dh=((hh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;if(_classCallCheck(this,n),(r=t.call(this))._platformLocation=e,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,_possibleConstructorReturn(r)}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return ih(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+sh(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+sh(i));this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+sh(i));this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(oh)).\u0275fac=function(e){return new(e||hh)(st(Yc),st(fh,8))},hh.\u0275prov=Ce({token:hh,factory:hh.\u0275fac}),hh),ph=((ch=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._platformLocation=e,r._baseHref="",null!=i&&(r._baseHref=i),r}return _createClass(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=ih(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+sh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}},{key:"replaceState",value:function(e,t,n,i){var r=this.prepareExternalUrl(n+sh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(oh)).\u0275fac=function(e){return new(e||ch)(st(Yc),st(fh,8))},ch.\u0275prov=Ce({token:ch,factory:ch.\u0275fac}),ch),vh=((uh=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._subject=new xu,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=rh(mh(r)),this._platformStrategy.onPopState((function(e){i._subject.emit({url:i.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(e+sh(t))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,mh(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sh(t)),n)}},{key:"replaceState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sh(t)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}]),e}()).\u0275fac=function(e){return new(e||uh)(st(oh),st(Yc))},uh.normalizeQueryParams=sh,uh.joinWithSlash=ih,uh.stripTrailingSlash=rh,uh.\u0275prov=Ce({factory:gh,token:uh,providedIn:"root"}),uh);function gh(){return new vh(st(oh),st(Yc))}function mh(e){return e.replace(/\/index.html$/,"")}var yh=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),kh=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),bh=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),Ch=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),wh=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function _h(e,t){return Fh(Bl(e)[Gl.DateFormat],t)}function Sh(e,t){return Fh(Bl(e)[Gl.TimeFormat],t)}function xh(e,t){return Fh(Bl(e)[Gl.DateTimeFormat],t)}function Eh(e,t){var n=Bl(e),i=n[Gl.NumberSymbols][t];if(void 0===i){if(t===wh.CurrencyDecimal)return n[Gl.NumberSymbols][wh.Decimal];if(t===wh.CurrencyGroup)return n[Gl.NumberSymbols][wh.Group]}return i}var Ih=zl;function Th(e){if(!e[Gl.ExtraData])throw new Error('Missing extra locale data for the locale "'.concat(e[Gl.LocaleId],'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.'))}function Fh(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function Ah(e){var t=_slicedToArray(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}var Dh=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Oh={},Rh=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ph=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),Lh=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),Nh=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function Mh(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,n){return null!=t&&n in t?t[n]:e}))),e}function Vh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,s="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,s=n));for(var a=String(e);a.length<t;)a="0"+a;return i&&(a=a.substr(a.length-t)),s+a}function Hh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return function(s,a){var o,l=function(e,t){switch(e){case Lh.FullYear:return t.getFullYear();case Lh.Month:return t.getMonth();case Lh.Date:return t.getDate();case Lh.Hours:return t.getHours();case Lh.Minutes:return t.getMinutes();case Lh.Seconds:return t.getSeconds();case Lh.FractionalSeconds:return t.getMilliseconds();case Lh.Day:return t.getDay();default:throw new Error('Unknown DateType value "'.concat(e,'".'))}}(e,s);if((n>0||l>-n)&&(l+=n),e===Lh.Hours)0===l&&-12===n&&(l=12);else if(e===Lh.FractionalSeconds)return o=t,Vh(l,3).substr(0,o);var u=Eh(a,wh.MinusSign);return Vh(l,t,u,i,r)}}function jh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kh.Format,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(r,s){return function(e,t,n,i,r,s){switch(n){case Nh.Months:return function(e,t,n){var i=Bl(e),r=Fh([i[Gl.MonthsFormat],i[Gl.MonthsStandalone]],t);return Fh(r,n)}(t,r,i)[e.getMonth()];case Nh.Days:return function(e,t,n){var i=Bl(e),r=Fh([i[Gl.DaysFormat],i[Gl.DaysStandalone]],t);return Fh(r,n)}(t,r,i)[e.getDay()];case Nh.DayPeriods:var a=e.getHours(),o=e.getMinutes();if(s){var l,u=function(e){var t=Bl(e);return Th(t),(t[Gl.ExtraData][2]||[]).map((function(e){return"string"==typeof e?Ah(e):[Ah(e[0]),Ah(e[1])]}))}(t),c=function(e,t,n){var i=Bl(e);Th(i);var r=Fh([i[Gl.ExtraData][0],i[Gl.ExtraData][1]],t)||[];return Fh(r,n)||[]}(t,r,i);if(u.forEach((function(e,t){if(Array.isArray(e)){var n=e[0],i=n.hours,r=n.minutes,s=e[1],u=s.hours,h=s.minutes;a>=i&&o>=r&&(a<u||a===u&&o<h)&&(l=c[t])}else{var f=e.hours,d=e.minutes;f===a&&d===o&&(l=c[t])}})),l)return l}return function(e,t,n){var i=Bl(e),r=Fh([i[Gl.DayPeriodsFormat],i[Gl.DayPeriodsStandalone]],t);return Fh(r,n)}(t,r,i)[a<12?0:1];case Nh.Eras:return function(e,t){return Fh(Bl(e)[Gl.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,s,e,t,n,i)}}function Bh(e){return function(t,n,i){var r=-1*i,s=Eh(n,wh.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Ph.Short:return(r>=0?"+":"")+Vh(a,2,s)+Vh(Math.abs(r%60),2,s);case Ph.ShortGMT:return"GMT"+(r>=0?"+":"")+Vh(a,1,s);case Ph.Long:return"GMT"+(r>=0?"+":"")+Vh(a,2,s)+":"+Vh(Math.abs(r%60),2,s);case Ph.Extended:return 0===i?"Z":(r>=0?"+":"")+Vh(a,2,s)+":"+Vh(Math.abs(r%60),2,s);default:throw new Error('Unknown zone width "'.concat(e,'"'))}}}function zh(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,i){var r,s,a,o;if(t){var l=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();r=1+Math.floor((u+l)/7)}else{var c=(s=n.getFullYear(),a=new Date(s,0,1).getDay(),new Date(s,0,1+(a<=4?4:11)-a)),h=(o=n,new Date(o.getFullYear(),o.getMonth(),o.getDate()+(4-o.getDay()))).getTime()-c.getTime();r=1+Math.round(h/6048e5)}return Vh(r,e,Eh(i,wh.MinusSign))}}var Uh={};function Gh(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function qh(e){return e instanceof Date&&!isNaN(e.valueOf())}var Kh,Wh=function e(){_classCallCheck(this,e)},$h=((Kh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).locale=e,i}return _createClass(n,[{key:"getPluralCategory",value:function(e,t){switch(Ih(t||this.locale)(e)){case yh.Zero:return"zero";case yh.One:return"one";case yh.Two:return"two";case yh.Few:return"few";case yh.Many:return"many";default:return"other"}}}]),n}(Wh)).\u0275fac=function(e){return new(e||Kh)(st(ic))},Kh.\u0275prov=Ce({token:Kh,factory:Kh.\u0275fac}),Kh);function Zh(e,t){t=encodeURIComponent(t);var n,i=_createForOfIteratorHelper(e.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,s=r.indexOf("="),a=_slicedToArray(-1==s?[r,""]:[r.slice(0,s),r.slice(s+1)],2),o=a[0],l=a[1];if(o.trim()===t)return decodeURIComponent(l)}}catch(u){i.e(u)}finally{i.f()}return null}var Yh,Qh,Jh,Xh=((Yh=function(){function e(t,n,i,r){_classCallCheck(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=i,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return _createClass(e,[{key:"klass",set:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"ngClass",set:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(Da(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"ngDoCheck",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+De(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}()).\u0275fac=function(e){return new(e||Yh)(Ua(_l),Ua(Sl),Ua(sl),Ua(ul))},Yh.\u0275dir=At({type:Yh,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),Yh),ef=function(){function e(t,n,i,r){_classCallCheck(this,e),this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),tf=((Qh=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(e,[{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(e){Ri()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=e}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,i,r){if(null==e.previousIndex){var s=t._viewContainer.createEmbeddedView(t._template,new ef(null,t._ngForOf,-1,-1),null===r?void 0:r),a=new nf(e,s);n.push(a)}else if(null==r)t._viewContainer.remove(null===i?void 0:i);else if(null!==i){var o=t._viewContainer.get(i);t._viewContainer.move(o,r);var l=new nf(e,o);n.push(l)}}));for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,s=this._viewContainer.length;r<s;r++){var a=this._viewContainer.get(r);a.context.index=r,a.context.count=s,a.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Qh)(Ua(Al),Ua(Tl),Ua(_l))},Qh.\u0275dir=At({type:Qh,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),Qh),nf=function e(t,n){_classCallCheck(this,e),this.record=t,this.view=n},rf=((Jh=function(){function e(t,n){_classCallCheck(this,e),this._viewContainer=t,this._context=new sf,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(e,[{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){af("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){af("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}()).\u0275fac=function(e){return new(e||Jh)(Ua(Al),Ua(Tl))},Jh.\u0275dir=At({type:Jh,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),Jh),sf=function e(){_classCallCheck(this,e),this.$implicit=null,this.ngIf=null};function af(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(De(t),"'."))}var of,lf,uf,cf,hf,ff,df,pf,vf,gf,mf,yf,kf=function(){function e(t,n){_classCallCheck(this,e),this._viewContainerRef=t,this._templateRef=n,this._created=!1}return _createClass(e,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}]),e}(),bf=((pf=function(){function e(){_classCallCheck(this,e),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _createClass(e,[{key:"ngSwitch",set:function(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}},{key:"_matchCase",value:function(e){var t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}},{key:"_updateDefaultCases",value:function(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(var t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}]),e}()).\u0275fac=function(e){return new(e||pf)},pf.\u0275dir=At({type:pf,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),pf),Cf=((df=function(){function e(t,n,i){_classCallCheck(this,e),this.ngSwitch=i,i._addCase(),this._view=new kf(t,n)}return _createClass(e,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),e}()).\u0275fac=function(e){return new(e||df)(Ua(Al),Ua(Tl),Ua(bf,1))},df.\u0275dir=At({type:df,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),df),wf=((ff=function e(t,n,i){_classCallCheck(this,e),i._addDefault(new kf(t,n))}).\u0275fac=function(e){return new(e||ff)(Ua(Al),Ua(Tl),Ua(bf,1))},ff.\u0275dir=At({type:ff,selectors:[["","ngSwitchDefault",""]]}),ff),_f=((hf=function(){function e(t,n,i){_classCallCheck(this,e),this._ngEl=t,this._differs=n,this._renderer=i,this._ngStyle=null,this._differ=null}return _createClass(e,[{key:"ngStyle",set:function(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}},{key:"_setStyle",value:function(e,t){var n=_slicedToArray(e.split("."),2),i=n[0],r=n[1];null!=(t=null!=t&&r?"".concat(t).concat(r):t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}},{key:"_applyChanges",value:function(e){var t=this;e.forEachRemovedItem((function(e){return t._setStyle(e.key,null)})),e.forEachAddedItem((function(e){return t._setStyle(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._setStyle(e.key,e.currentValue)}))}}]),e}()).\u0275fac=function(e){return new(e||hf)(Ua(sl),Ua(Sl),Ua(ul))},hf.\u0275dir=At({type:hf,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),hf),Sf=((cf=function(){function e(t){_classCallCheck(this,e),this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return _createClass(e,[{key:"ngOnChanges",value:function(e){if(this._shouldRecreateView(e)){var t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}},{key:"_shouldRecreateView",value:function(e){var t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}},{key:"_hasContextShapeChanged",value:function(e){var t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){var i,r=_createForOfIteratorHelper(n);try{for(r.s();!(i=r.n()).done;){var s=i.value;if(-1===t.indexOf(s))return!0}}catch(a){r.e(a)}finally{r.f()}return!1}return!0}},{key:"_updateExistingContext",value:function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t];this._viewRef.context[i]=this.ngTemplateOutletContext[i]}}}]),e}()).\u0275fac=function(e){return new(e||cf)(Ua(Al))},cf.\u0275dir=At({type:cf,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[qo]}),cf),xf=((uf=function(){function e(t){_classCallCheck(this,e),this.locale=t}return _createClass(e,[{key:"transform",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mediumDate",i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if(null==t||""===t||t!=t)return null;try{return function(e,t,n,i){var r=function(e){if(qh(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var i=_slicedToArray(e.split("-").map((function(e){return+e})),3),r=i[0],s=i[1],a=i[2];return new Date(r,s-1,a)}if(t=e.match(Dh))return function(e){var t=new Date(0),n=0,i=0,r=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,o=Number(e[5]||0)-i,l=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(t,a,o,l,u),t}(t)}var o=new Date(e);if(!qh(o))throw new Error('Unable to convert "'.concat(e,'" into a date'));return o}(e);t=function e(t,n){var i=function(e){return Bl(e)[Gl.LocaleId]}(t);if(Oh[i]=Oh[i]||{},Oh[i][n])return Oh[i][n];var r="";switch(n){case"shortDate":r=_h(t,Ch.Short);break;case"mediumDate":r=_h(t,Ch.Medium);break;case"longDate":r=_h(t,Ch.Long);break;case"fullDate":r=_h(t,Ch.Full);break;case"shortTime":r=Sh(t,Ch.Short);break;case"mediumTime":r=Sh(t,Ch.Medium);break;case"longTime":r=Sh(t,Ch.Long);break;case"fullTime":r=Sh(t,Ch.Full);break;case"short":var s=e(t,"shortTime"),a=e(t,"shortDate");r=Mh(xh(t,Ch.Short),[s,a]);break;case"medium":var o=e(t,"mediumTime"),l=e(t,"mediumDate");r=Mh(xh(t,Ch.Medium),[o,l]);break;case"long":var u=e(t,"longTime"),c=e(t,"longDate");r=Mh(xh(t,Ch.Long),[u,c]);break;case"full":var h=e(t,"fullTime"),f=e(t,"fullDate");r=Mh(xh(t,Ch.Full),[h,f])}return r&&(Oh[i][n]=r),r}(n,t)||t;for(var s,a=[];t;){if(!(s=Rh.exec(t))){a.push(t);break}var o=(a=a.concat(s.slice(1))).pop();if(!o)break;t=o}var l=r.getTimezoneOffset();i&&(l=Gh(i,l),r=function(e,t,n){var i=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(Gh(t,i)-i))}(r,i));var u="";return a.forEach((function(e){var t=function(e){if(Uh[e])return Uh[e];var t;switch(e){case"G":case"GG":case"GGG":t=jh(Nh.Eras,bh.Abbreviated);break;case"GGGG":t=jh(Nh.Eras,bh.Wide);break;case"GGGGG":t=jh(Nh.Eras,bh.Narrow);break;case"y":t=Hh(Lh.FullYear,1,0,!1,!0);break;case"yy":t=Hh(Lh.FullYear,2,0,!0,!0);break;case"yyy":t=Hh(Lh.FullYear,3,0,!1,!0);break;case"yyyy":t=Hh(Lh.FullYear,4,0,!1,!0);break;case"M":case"L":t=Hh(Lh.Month,1,1);break;case"MM":case"LL":t=Hh(Lh.Month,2,1);break;case"MMM":t=jh(Nh.Months,bh.Abbreviated);break;case"MMMM":t=jh(Nh.Months,bh.Wide);break;case"MMMMM":t=jh(Nh.Months,bh.Narrow);break;case"LLL":t=jh(Nh.Months,bh.Abbreviated,kh.Standalone);break;case"LLLL":t=jh(Nh.Months,bh.Wide,kh.Standalone);break;case"LLLLL":t=jh(Nh.Months,bh.Narrow,kh.Standalone);break;case"w":t=zh(1);break;case"ww":t=zh(2);break;case"W":t=zh(1,!0);break;case"d":t=Hh(Lh.Date,1);break;case"dd":t=Hh(Lh.Date,2);break;case"E":case"EE":case"EEE":t=jh(Nh.Days,bh.Abbreviated);break;case"EEEE":t=jh(Nh.Days,bh.Wide);break;case"EEEEE":t=jh(Nh.Days,bh.Narrow);break;case"EEEEEE":t=jh(Nh.Days,bh.Short);break;case"a":case"aa":case"aaa":t=jh(Nh.DayPeriods,bh.Abbreviated);break;case"aaaa":t=jh(Nh.DayPeriods,bh.Wide);break;case"aaaaa":t=jh(Nh.DayPeriods,bh.Narrow);break;case"b":case"bb":case"bbb":t=jh(Nh.DayPeriods,bh.Abbreviated,kh.Standalone,!0);break;case"bbbb":t=jh(Nh.DayPeriods,bh.Wide,kh.Standalone,!0);break;case"bbbbb":t=jh(Nh.DayPeriods,bh.Narrow,kh.Standalone,!0);break;case"B":case"BB":case"BBB":t=jh(Nh.DayPeriods,bh.Abbreviated,kh.Format,!0);break;case"BBBB":t=jh(Nh.DayPeriods,bh.Wide,kh.Format,!0);break;case"BBBBB":t=jh(Nh.DayPeriods,bh.Narrow,kh.Format,!0);break;case"h":t=Hh(Lh.Hours,1,-12);break;case"hh":t=Hh(Lh.Hours,2,-12);break;case"H":t=Hh(Lh.Hours,1);break;case"HH":t=Hh(Lh.Hours,2);break;case"m":t=Hh(Lh.Minutes,1);break;case"mm":t=Hh(Lh.Minutes,2);break;case"s":t=Hh(Lh.Seconds,1);break;case"ss":t=Hh(Lh.Seconds,2);break;case"S":t=Hh(Lh.FractionalSeconds,1);break;case"SS":t=Hh(Lh.FractionalSeconds,2);break;case"SSS":t=Hh(Lh.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Bh(Ph.Short);break;case"ZZZZZ":t=Bh(Ph.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Bh(Ph.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Bh(Ph.Long);break;default:return null}return Uh[e]=t,t}(e);u+=t?t(r,n,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")})),u}(t,n,r||this.locale,i)}catch(s){throw function(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(De(e),"'"))}(e,s.message)}}}]),e}()).\u0275fac=function(e){return new(e||uf)(Ua(ic))},uf.\u0275pipe=Dt({name:"date",type:uf,pure:!0}),uf),Ef=((lf=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:lf}),lf.\u0275inj=we({factory:function(e){return new(e||lf)},providers:[{provide:Wh,useClass:$h}]}),lf),If=((of=function e(){_classCallCheck(this,e)}).\u0275prov=Ce({token:of,providedIn:"root",factory:function(){return new Tf(st(Zc),window,st(Ci))}}),of),Tf=function(){function e(t,n,i){_classCallCheck(this,e),this.document=t,this.window=n,this.errorHandler=i,this.offset=function(){return[0,0]}}return _createClass(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(i){this.errorHandler.handleError(i)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),Ff=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(e,t){return e[t]}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"getValue",value:function(e){return e.value}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Af||(Af=document.querySelector("base"))?Af.getAttribute("href"):null;return null==n?null:(t=n,vf||(vf=document.createElement("a")),vf.setAttribute("href",t),"/"===vf.pathname.charAt(0)?vf.pathname:"/"+vf.pathname)}},{key:"resetBaseElement",value:function(){Af=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return Zh(document.cookie,e)}}],[{key:"makeCurrent",value:function(){var e;e=new n,Kc||(Kc=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function e(){_classCallCheck(this,e)}}())),Af=null,Df=new Ye("TRANSITION_ID"),Of=[{provide:$u,useFactory:function(e,t,n){return function(){n.get(Zu).donePromise.then((function(){var n=Wc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter((function(t){return t.getAttribute("ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[Df,Zc,Ca],multi:!0}],Rf=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToWindow",value:function(e){ze.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},ze.getAllAngularTestabilities=function(){return e.getAllTestabilities()},ze.getAllAngularRootElements=function(){return e.getAllRootElements()},ze.frameworkStabilizers||(ze.frameworkStabilizers=[]),ze.frameworkStabilizers.push((function(e){var t=ze.getAllAngularTestabilities(),n=t.length,i=!1,r=function(t){i=i||t,0==--n&&e(i)};t.forEach((function(e){e.whenStable(r)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var i=e.getTestability(t);return null!=i?i:n?Wc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}],[{key:"init",value:function(){!function(e){Ic=e}(new e)}}]),e}(),Pf=new Ye("EventManagerPlugins"),Lf=((gf=function(){function e(t,n){var i=this;_classCallCheck(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=i})),this._plugins=t.slice().reverse()}return _createClass(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event "+e)}}]),e}()).\u0275fac=function(e){return new(e||gf)(st(Pf),st(gc))},gf.\u0275prov=Ce({token:gf,factory:gf.\u0275fac}),gf),Nf=function(){function e(t){_classCallCheck(this,e),this._doc=t}return _createClass(e,[{key:"addGlobalEventListener",value:function(e,t,n){var i=Wc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(t));return this.addEventListener(i,t,n)}}]),e}(),Mf=((yf=function(){function e(){_classCallCheck(this,e),this._stylesSet=new Set}return _createClass(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}()).\u0275fac=function(e){return new(e||yf)},yf.\u0275prov=Ce({token:yf,factory:yf.\u0275fac}),yf),Vf=((mf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i._hostNodes=new Set,i._styleNodes=new Set,i._hostNodes.add(e.head),i}return _createClass(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var i=n._doc.createElement("style");i.textContent=e,n._styleNodes.add(t.appendChild(i))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return Wc().remove(e)}))}}]),n}(Mf)).\u0275fac=function(e){return new(e||mf)(st(Zc))},mf.\u0275prov=Ce({token:mf,factory:mf.\u0275fac}),mf),Hf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},jf=/%COMP%/g;function Bf(e,t,n){for(var i=0;i<t.length;i++){var r=t[i];Array.isArray(r)?Bf(e,r,n):(r=r.replace(jf,e),n.push(r))}return n}function zf(e){return function(t){if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Uf,Gf,qf,Kf,Wf,$f,Zf=((Uf=function(){function e(t,n,i){_classCallCheck(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Yf(t)}return _createClass(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case bt.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Qf(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case bt.Native:case bt.ShadowDom:return new Jf(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var i=Bf(t.id,t.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||Uf)(st(Lf),st(Vf),st(Yu))},Uf.\u0275prov=Ce({token:Uf,factory:Uf.\u0275fac}),Uf),Yf=function(){function e(t){_classCallCheck(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Hf[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,i){if(i){t=i+":"+t;var r=Hf[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var i=Hf[n];i?e.removeAttributeNS(i,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,i){i&ll.DashCase?e.style.setProperty(t,n,i&ll.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&ll.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,zf(n)):this.eventManager.addEventListener(e,t,zf(n))}}]),e}(),Qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;_classCallCheck(this,n),(a=t.call(this,e)).component=r;var o,l=Bf(s+"-"+r.id,r.styles,[]);return i.addStyles(l),a.contentAttr="_ngcontent-%COMP%".replace(jf,s+"-"+r.id),a.hostAttr=(o=s+"-"+r.id,"_nghost-%COMP%".replace(jf,o)),a}return _createClass(n,[{key:"applyToHost",value:function(e){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,e,t);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(Yf),Jf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;_classCallCheck(this,n),(a=t.call(this,e)).sharedStylesHost=i,a.hostEl=r,a.component=s,a.shadowRoot=s.encapsulation===bt.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var o=Bf(s.id,s.styles,[]),l=0;l<o.length;l++){var u=document.createElement("style");u.textContent=o[l],a.shadowRoot.appendChild(u)}return a}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,i)}},{key:"removeChild",value:function(e,t){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Yf),Xf=((Gf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var i=this;return e.addEventListener(t,n,!1),function(){return i.removeEventListener(e,t,n)}}},{key:"removeEventListener",value:function(e,t,n){return e.removeEventListener(t,n)}}]),n}(Nf)).\u0275fac=function(e){return new(e||Gf)(st(Zc))},Gf.\u0275prov=Ce({token:Gf,factory:Gf.\u0275fac}),Gf),ed=["alt","control","meta","shift"],td={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},id={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},rd=((Wf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return _createClass(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,i){var r=n.parseEventName(t),s=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return Wc().onAndCancel(e,r.domEventName,s)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),i=t.shift();if(0===t.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(t.pop()),s="";if(ed.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),s+=e+".")})),s+=r,0!=t.length||0===r.length)return null;var a={};return a.domEventName=i,a.fullKey=s,a}},{key:"getEventFullKey",value:function(e){var t="",n=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&nd.hasOwnProperty(t)&&(t=nd[t]))}return td[t]||t}(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),ed.forEach((function(i){i!=n&&(0,id[i])(e)&&(t+=i+".")})),t+=n}},{key:"eventCallback",value:function(e,t,i){return function(r){n.getEventFullKey(r)===e&&i.runGuarded((function(){return t(r)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Nf)).\u0275fac=function(e){return new(e||Wf)(st(Zc))},Wf.\u0275prov=Ce({token:Wf,factory:Wf.\u0275fac}),Wf),sd=((Kf=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Kf)},Kf.\u0275prov=Ce({factory:function(){return st(ad)},token:Kf,providedIn:"root"}),Kf),ad=((qf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._doc=e,i}return _createClass(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case nr.NONE:return t;case nr.HTML:return Fi(t,"HTML")?Ti(t):er(this._doc,String(t));case nr.STYLE:return Fi(t,"Style")?Ti(t):function(e){if(!(e=String(e).trim()))return"";var t=e.match(rr);return t&&Mi(t[1])===t[1]||e.match(ir)&&function(e){for(var t=!0,n=!0,i=0;i<e.length;i++){var r=e.charAt(i);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(Ri()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t);case nr.SCRIPT:if(Fi(t,"Script"))return Ti(t);throw new Error("unsafe value used in a script context");case nr.URL:return Ai(t),Fi(t,"URL")?Ti(t):Mi(String(t));case nr.RESOURCE_URL:if(Fi(t,"ResourceURL"))return Ti(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"bypassSecurityTrustHtml",value:function(e){return new _i(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new Si(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new xi(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new Ei(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new Ii(e)}}]),n}(sd)).\u0275fac=function(e){return new(e||qf)(st(Zc))},qf.\u0275prov=Ce({factory:function(){return e=st(Qe),new ad(e.get(Zc));var e},token:qf,providedIn:"root"}),qf),od=Dc(Uc,"browser",[{provide:ec,useValue:"browser"},{provide:Xu,useValue:function(){Ff.makeCurrent(),Rf.init()},multi:!0},{provide:Zc,useFactory:function(){return function(e){zt=e}(document),document},deps:[]}]),ld=[[],{provide:oa,useValue:"root"},{provide:Ci,useFactory:function(){return new Ci},deps:[]},{provide:Pf,useClass:Xf,multi:!0,deps:[Zc,gc,ec]},{provide:Pf,useClass:rd,multi:!0,deps:[Zc]},[],{provide:Zf,useClass:Zf,deps:[Lf,Vf,Yu]},{provide:ol,useExisting:Zf},{provide:Mf,useExisting:Vf},{provide:Vf,useClass:Vf,deps:[Zc]},{provide:xc,useClass:xc,deps:[gc]},{provide:Lf,useClass:Lf,deps:[Pf,gc]},[]],ud=(($f=function(){function e(t){if(_classCallCheck(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:Yu,useValue:t.appId},{provide:Df,useExisting:Yu},Of]}}}]),e}()).\u0275mod=Tt({type:$f}),$f.\u0275inj=we({factory:function(e){return new(e||$f)(st($f,12))},providers:ld,imports:[Ef,qc]}),$f);"undefined"!=typeof window&&window;var cd=function e(){_classCallCheck(this,e)};function hd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:t,timings:e}}function fd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function dd(e){return{type:6,styles:e,offset:null}}function pd(e,t,n){return{type:0,name:e,styles:t,options:n}}function vd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:e,animation:t,options:n}}function gd(e){Promise.resolve(null).then(e)}var md=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;gd((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),yd=function(){function e(t){var n=this;_classCallCheck(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var i=0,r=0,s=0,a=this.players.length;0==a?gd((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++i==a&&n._onFinish()})),e.onDestroy((function(){++r==a&&n._onDestroy()})),e.onStart((function(){++s==a&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function kd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function bd(e){switch(e.length){case 0:return new md;case 1:return e[0];default:return new yd(e)}}function Cd(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=[],o=[],l=-1,u=null;if(i.forEach((function(e){var n=e.offset,i=n==l,c=i&&u||{};Object.keys(e).forEach((function(n){var i=n,o=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,a),o){case"!":o=r[n];break;case"*":o=s[n];break;default:o=t.normalizeStyleValue(n,i,o,a)}c[i]=o})),i||o.push(c),u=c,l=n})),a.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(a.join(c)))}return o}function wd(e,t,n,i){switch(t){case"start":e.onStart((function(){return i(n&&_d(n,"start",e))}));break;case"done":e.onDone((function(){return i(n&&_d(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return i(n&&_d(n,"destroy",e))}))}}function _d(e,t,n){var i=n.totalTime,r=Sd(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),s=e._data;return null!=s&&(r._data=s),r}function Sd(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!a}}function xd(e,t,n){var i;return e instanceof Map?(i=e.get(t))||e.set(t,i=n):(i=e[t])||(i=e[t]=n),i}function Ed(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var Id=function(e,t){return!1},Td=function(e,t){return!1},Fd=function(e,t,n){return[]},Ad=kd();(Ad||"undefined"!=typeof Element)&&(Id=function(e,t){return e.contains(t)},Td=function(){if(Ad||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Td}(),Fd=function(e,t,n){var i=[];if(n)i.push.apply(i,_toConsumableArray(e.querySelectorAll(t)));else{var r=e.querySelector(t);r&&i.push(r)}return i});var Dd=null,Od=!1;function Rd(e){Dd||(Dd=("undefined"!=typeof document?document.body:null)||{},Od=!!Dd.style&&"WebkitAppearance"in Dd.style);var t=!0;return Dd.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in Dd.style)&&Od)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Dd.style),t}var Pd=Td,Ld=Id,Nd=Fd;function Md(e){var t={};return Object.keys(e).forEach((function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]})),t}var Vd,Hd=((Vd=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Rd(e)}},{key:"matchesElement",value:function(e,t){return Pd(e,t)}},{key:"containsElement",value:function(e,t){return Ld(e,t)}},{key:"query",value:function(e,t,n){return Nd(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,i,r){return arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6],new md(n,i)}}]),e}()).\u0275fac=function(e){return new(e||Vd)},Vd.\u0275prov=Ce({token:Vd,factory:Vd.\u0275fac}),Vd),jd=function(){var e=function e(){_classCallCheck(this,e)};return e.NOOP=new Hd,e}();function Bd(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:zd(parseFloat(t[1]),t[2])}function zd(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Ud(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var i,r=0,s="";if("string"==typeof e){var a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};i=zd(parseFloat(a[1]),a[2]);var o=a[3];null!=o&&(r=zd(parseFloat(o),a[4]));var l=a[5];l&&(s=l)}else i=e;if(!n){var u=!1,c=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&t.splice(c,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:i,delay:r,easing:s}}(e,t,n)}function Gd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function qd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var i in e)n[i]=e[i];else Gd(e,n);return n}function Kd(e,t,n){return n?t+":"+n+";":""}function Wd(e){for(var t="",n=0;n<e.style.length;n++){var i=e.style.item(n);t+=Kd(0,i,e.style.getPropertyValue(i))}for(var r in e.style)e.style.hasOwnProperty(r)&&!r.startsWith("_")&&(t+=Kd(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[r]));e.setAttribute("style",t)}function $d(e,t,n){e.style&&(Object.keys(t).forEach((function(i){var r=np(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]})),kd()&&Wd(e))}function Zd(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=np(t);e.style[n]=""})),kd()&&Wd(e))}function Yd(e){return Array.isArray(e)?1==e.length?e[0]:fd(e):e}var Qd=new RegExp("{{\\s*(.+?)\\s*}}","g");function Jd(e){var t=[];if("string"==typeof e){for(var n;n=Qd.exec(e);)t.push(n[1]);Qd.lastIndex=0}return t}function Xd(e,t,n){var i=e.toString(),r=i.replace(Qd,(function(e,i){var r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()}));return r==i?e:r}function ep(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var tp=/-+([a-z0-9])/g;function np(e){return e.replace(tp,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function ip(e,t){return 0===e||0===t}function rp(e,t,n){var i=Object.keys(n);if(i.length&&t.length){var r=t[0],s=[];if(i.forEach((function(e){r.hasOwnProperty(e)||s.push(e),r[e]=n[e]})),s.length)for(var a=function(){var n=t[o];s.forEach((function(t){n[t]=ap(e,t)}))},o=1;o<t.length;o++)a()}return t}function sp(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function ap(e,t){return window.getComputedStyle(e)[t]}function op(e,t){var n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}var r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var s=r[1],a=r[2],o=r[3];t.push(cp(s,o)),"<"!=a[0]||"*"==s&&"*"==o||t.push(cp(o,s))}(e,n,t)})):n.push(e),n}var lp=new Set(["true","1"]),up=new Set(["false","0"]);function cp(e,t){var n=lp.has(e)||up.has(e),i=lp.has(t)||up.has(t);return function(r,s){var a="*"==e||e==r,o="*"==t||t==s;return!a&&n&&"boolean"==typeof r&&(a=r?lp.has(e):up.has(e)),!o&&i&&"boolean"==typeof s&&(o=s?lp.has(t):up.has(t)),a&&o}}var hp=new RegExp("s*:selfs*,?","g");function fp(e,t,n){return new dp(e).build(t,n)}var dp=function(){function e(t){_classCallCheck(this,e),this._driver=t}return _createClass(e,[{key:"build",value:function(e,t){var n=new pp(t);return this._resetContextStyleTimingState(n),sp(this,Yd(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,i=t.queryCount=0,r=t.depCount=0,s=[],a=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var o=e,l=o.name;l.toString().split(/\s*,\s*/).forEach((function(e){o.name=e,s.push(n.visitState(o,t))})),o.name=l}else if(1==e.type){var u=n.visitTransition(e,t);i+=u.queryCount,r+=u.depCount,a.push(u)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:s,transitions:a,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){var r=new Set,s=i||{};if(n.styles.forEach((function(e){if(vp(e)){var t=e;Object.keys(t).forEach((function(e){Jd(t[e]).forEach((function(e){s.hasOwnProperty(e)||r.add(e)}))}))}})),r.size){var a=ep(r.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(a.join(", ")))}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n=sp(this,Yd(e.animation),t);return{type:1,matchers:op(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:gp(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return sp(n,e,t)})),options:gp(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,i=t.currentTime,r=0,s=e.steps.map((function(e){t.currentTime=i;var s=sp(n,e,t);return r=Math.max(r,t.currentTime),s}));return t.currentTime=r,{type:3,steps:s,options:gp(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,i=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return mp(Ud(e,t).duration,0,"");var i=e;if(i.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var r=mp(0,0,"");return r.dynamic=!0,r.strValue=i,r}return mp((n=n||Ud(i,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;var r=e.styles?e.styles:dd({});if(5==r.type)n=this.visitKeyframes(r,t);else{var s=e.styles,a=!1;if(!s){a=!0;var o={};i.easing&&(o.easing=i.easing),s=dd(o)}t.currentTime+=i.duration+i.delay;var l=this.visitStyle(s,t);l.isEmptyStep=a,n=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var i=!1,r=null;return n.forEach((function(e){if(vp(e)){var t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(var s in t)if(t[s].toString().indexOf("{{")>=0){i=!0;break}}})),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(i){if(n._driver.validateStyleProperty(i)){var a=t.collectedStyles[t.currentQuerySelector],o=a[i],l=!0;o&&(s!=r&&s>=o.startTime&&r<=o.endTime&&(t.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(o.startTime,'ms" and "').concat(o.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(s,'ms" and "').concat(r,'ms"')),l=!1),s=o.startTime),l&&(a[i]={startTime:s,endTime:r}),t.options&&function(e,t,n){var i=t.params||{},r=Jd(e);r.length&&r.forEach((function(e){i.hasOwnProperty(e)||n.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))}))}(e[i],t.options,t.errors)}else t.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,s=[],a=!1,o=!1,l=0,u=e.steps.map((function(e){var i=n._makeStyleAst(e,t),u=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(vp(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(vp(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),o=o||c<0||c>1,a=a||c<l,l=c,s.push(c),i}));o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),a&&t.errors.push("Please ensure that all keyframe offsets are in order");var c=e.steps.length,h=0;r>0&&r<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var f=c-1,d=t.currentTime,p=t.currentAnimateTimings,v=p.duration;return u.forEach((function(e,r){var a=h>0?r==f?1:h*r:s[r],o=a*v;t.currentTime=d+p.delay+o,p.duration=o,n._validateStyleAst(e,t),e.offset=a,i.styles.push(e)})),i}},{key:"visitReference",value:function(e,t){return{type:8,animation:sp(this,Yd(e.animation),t),options:gp(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:gp(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:gp(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;var r=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(hp,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),s=r[0],a=r[1];t.currentQuerySelector=n.length?n+" "+s:s,xd(t.collectedStyles,t.currentQuerySelector,{});var o=sp(this,Yd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:a,animation:o,originalSelector:e.selector,options:gp(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ud(e.timings,t.errors,!0);return{type:12,animation:sp(this,Yd(e.animation),t),timings:n,options:null}}}]),e}(),pp=function e(t){_classCallCheck(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function vp(e){return!Array.isArray(e)&&"object"==typeof e}function gp(e){var t;return e?(e=Gd(e)).params&&(e.params=(t=e.params)?Gd(t):null):e={},e}function mp(e,t,n){return{duration:e,delay:t,easing:n}}function yp(e,t,n,i,r,s){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:a,subTimeline:o}}var kp=function(){function e(){_classCallCheck(this,e),this._map=new Map}return _createClass(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,i=this._map.get(e);i||this._map.set(e,i=[]),(n=i).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),bp=new RegExp(":enter","g"),Cp=new RegExp(":leave","g");function wp(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},o=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new _p).buildKeyframes(e,t,n,i,r,s,a,o,l,u)}var _p=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"buildKeyframes",value:function(e,t,n,i,r,s,a,o,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new kp;var c=new xp(e,t,l,i,r,u,[]);c.options=o,c.currentTimeline.setStyles([s],null,c.errors,o),sp(this,n,c);var h=c.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(a).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([a],null,c.errors,o)}return h.length?h.map((function(e){return e.buildKeyframes()})):[yp(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var i=t.currentTimeline.currentTime,r=null!=n.duration?Bd(n.duration):null,s=null!=n.delay?Bd(n.delay):null;return 0!==r&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,r,s);i=Math.max(i,n.duration+n.delay)})),i}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),sp(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&((r=t.createSubContext(s)).transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Sp);var a=Bd(s.delay);r.delayNextStep(a)}e.steps.length&&(e.steps.forEach((function(e){return sp(n,e,r)})),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Bd(e.options.delay):0;e.steps.forEach((function(a){var o=t.createSubContext(e.options);s&&o.delayNextStep(s),sp(n,a,o),r=Math.max(r,o.currentTimeline.currentTime),i.push(o.currentTimeline)})),i.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(r),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return Ud(t.params?Xd(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());var r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,s=t.createSubContext().currentTimeline;s.easing=n.easing,e.styles.forEach((function(e){s.forwardTime((e.offset||0)*r),s.setStyles(e.styles,e.easing,t.errors,t.options),s.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(s),t.transformIntoNewTimeline(i+r),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Bd(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Sp);var a=i,o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=o.length;var l=null;o.forEach((function(i,r){t.currentQueryIndex=r;var o=t.createSubContext(e.options,i);s&&o.delayNextStep(s),i===t.element&&(l=o.currentTimeline),sp(n,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),a=Math.max(a,o.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(a),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,i=t.currentTimeline,r=e.timings,s=Math.abs(r.duration),a=s*(t.currentQueryTotal-1),o=s*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":o=a-o;break;case"full":o=n.currentStaggerTime}var l=t.currentTimeline;o&&l.delayNextStep(o);var u=l.currentTime;sp(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),e}(),Sp={},xp=function(){function e(t,n,i,r,s,a,o,l){_classCallCheck(this,e),this._driver=t,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=a,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Ep(this._driver,n,0),o.push(this.currentTimeline)}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(e,t){var n=this;if(e){var i=e,r=this.options;null!=i.duration&&(r.duration=Bd(i.duration)),null!=i.delay&&(r.delay=Bd(i.delay));var s=i.params;if(s){var a=r.params;a||(a=this.options.params={}),Object.keys(s).forEach((function(e){t&&a.hasOwnProperty(e)||(a[e]=Xd(s[e],a,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,s=new e(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=Sp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new Ip(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,i,r,s){var a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(bp,"."+this._enterClassName)).replace(Cp,"."+this._leaveClassName);var o=this._driver.query(this.element,e,1!=n);0!==n&&(o=n<0?o.slice(o.length+n,o.length):o.slice(0,n)),a.push.apply(a,_toConsumableArray(o))}return r||0!=a.length||s.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),a}}]),e}(),Ep=function(){function e(t,n,i,r){_classCallCheck(this,e),this._driver=t,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,i){var r=this;t&&(this._previousKeyframe.easing=t);var s=i&&i.params||{},a=function(e,t){var n,i={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){i[e]="*"})):qd(e,!1,i)})),i}(e,this._globalTimelineStyles);Object.keys(a).forEach((function(e){var t=Xd(a[e],s,n);r._pendingStyles[e]=t,r._localTimelineStyles.hasOwnProperty(e)||(r._backFill[e]=r._globalTimelineStyles.hasOwnProperty(e)?r._globalTimelineStyles[e]:"*"),r._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var i=t._styleSummary[n],r=e._styleSummary[n];(!i||r.time>i.time)&&t._updateStyle(n,r.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach((function(s,a){var o=qd(s,!0);Object.keys(o).forEach((function(e){var i=o[e];"!"==i?t.add(e):"*"==i&&n.add(e)})),i||(o.offset=a/e.duration),r.push(o)}));var s=t.size?ep(t.values()):[],a=n.size?ep(n.values()):[];if(i){var o=r[0],l=Gd(o);o.offset=0,l.offset=1,r=[o,l]}return yp(this.element,r,s,a,this.duration,this.startTime,this.easing,!1)}}]),e}(),Ip=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a,o){var l,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(l=t.call(this,e,i,o.delay)).element=i,l.keyframes=r,l.preStyleProps=s,l.postStyleProps=a,l._stretchStartingKeyframe=u,l.timings={duration:o.duration,delay:o.delay,easing:o.easing},l}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,i=t.duration,r=t.easing;if(this._stretchStartingKeyframe&&n){var s=[],a=i+n,o=n/a,l=qd(e[0],!1);l.offset=0,s.push(l);var u=qd(e[0],!1);u.offset=Tp(o),s.push(u);for(var c=e.length-1,h=1;h<=c;h++){var f=qd(e[h],!1);f.offset=Tp((n+f.offset*i)/a),s.push(f)}i=a,n=0,r="",e=s}return yp(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(Ep);function Tp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var Fp=function e(){_classCallCheck(this,e)},Ap=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(e,t){return np(e)}},{key:"normalizeStyleValue",value:function(e,t,n,i){var r="",s=n.toString().trim();if(Dp[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return s+r}}]),n}(Fp),Dp=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function Op(e,t,n,i,r,s,a,o,l,u,c,h,f){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:a,timelines:o,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:f}}var Rp={},Pp=function(){function e(t,n,i){_classCallCheck(this,e),this._triggerName=t,this.ast=n,this._stateStyles=i}return _createClass(e,[{key:"match",value:function(e,t,n,i){return function(e,t,n,i,r){return e.some((function(e){return e(t,n,i,r)}))}(this.ast.matchers,e,t,n,i)}},{key:"buildStyles",value:function(e,t,n){var i=this._stateStyles["*"],r=this._stateStyles[e],s=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):s}},{key:"build",value:function(e,t,n,i,r,s,a,o,l,u){var c=[],h=this.ast.options&&this.ast.options.params||Rp,f=this.buildStyles(n,a&&a.params||Rp,c),d=o&&o.params||Rp,p=this.buildStyles(i,d,c),v=new Set,g=new Map,m=new Map,y="void"===i,k={params:Object.assign(Object.assign({},h),d)},b=u?[]:wp(e,t,this.ast.animation,r,s,f,p,k,l,c),C=0;if(b.forEach((function(e){C=Math.max(e.duration+e.delay,C)})),c.length)return Op(t,this._triggerName,n,i,y,f,p,[],[],g,m,C,c);b.forEach((function(e){var n=e.element,i=xd(g,n,{});e.preStyleProps.forEach((function(e){return i[e]=!0}));var r=xd(m,n,{});e.postStyleProps.forEach((function(e){return r[e]=!0})),n!==t&&v.add(n)}));var w=ep(v.values());return Op(t,this._triggerName,n,i,y,f,p,b,w,g,m,C)}}]),e}(),Lp=function(){function e(t,n){_classCallCheck(this,e),this.styles=t,this.defaultParams=n}return _createClass(e,[{key:"buildStyles",value:function(e,t){var n={},i=Gd(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(i[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var r=e;Object.keys(r).forEach((function(e){var s=r[e];s.length>1&&(s=Xd(s,i,t)),n[e]=s}))}})),n}}]),e}(),Np=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){i.states[e.name]=new Lp(e.style,e.options&&e.options.params||{})})),Mp(this.states,"true","1"),Mp(this.states,"false","0"),n.transitions.forEach((function(e){i.transitionFactories.push(new Pp(t,e,i.states))})),this.fallbackTransition=new Pp(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass(e,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(e,t,n,i){return this.transitionFactories.find((function(r){return r.match(e,t,n,i)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}]),e}();function Mp(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var Vp=new kp,Hp=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(e,[{key:"register",value:function(e,t){var n=[],i=fp(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}},{key:"_buildPlayer",value:function(e,t,n){var i=e.element,r=Cd(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=[],a=this._animations[e],o=new Map;if(a?(n=wp(this._driver,t,a,"ng-enter","ng-leave",{},{},r,Vp,s)).forEach((function(e){var t=xd(o,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(s.push("The requested animation doesn't exist or has already been destroyed"),n=[]),s.length)throw new Error("Unable to create the animation due to the following errors: "+s.join("\n"));o.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=i._driver.computeStyle(t,n,"*")}))}));var l=bd(n.map((function(e){var t=o.get(e.element);return i._buildPlayer(e,{},t)})));return this._playersById[e]=l,l.onDestroy((function(){return i.destroy(e)})),this.players.push(l),l}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,i){var r=Sd(t,"","","");return wd(this._getPlayer(e),n,r,i),function(){}}},{key:"command",value:function(e,t,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,i[0]||{});else this.register(e,i[0])}}]),e}(),jp=[],Bp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Up=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,e),this.namespaceId=n;var i,r=t&&t.hasOwnProperty("value");if(this.value=null!=(i=r?t.value:t)?i:null,r){var s=Gd(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}return _createClass(e,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}}]),e}(),Gp=new Up("void"),qp=function(){function e(t,n,i){_classCallCheck(this,e),this.id=t,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Jp(n,this._hostClassName)}return _createClass(e,[{key:"listen",value:function(e,t,n,i){var r,s=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var a=xd(this._elementListeners,e,[]),o={name:t,phase:n,callback:i};a.push(o);var l=xd(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(Jp(e,"ng-trigger"),Jp(e,"ng-trigger-"+t),l[t]=Gp),function(){s._engine.afterFlush((function(){var e=a.indexOf(o);e>=0&&a.splice(e,1),s._triggers[t]||delete l[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=this._getTrigger(t),a=new Wp(this.id,t,e),o=this._engine.statesByElement.get(e);o||(Jp(e,"ng-trigger"),Jp(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));var l=o[t],u=new Up(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),o[t]=u,l||(l=Gp),"void"===u.value||l.value!==u.value){var c=xd(this._engine.playersByElement,e,[]);c.forEach((function(e){e.namespaceId==i.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=s.matchTransition(l.value,u.value,e,u.params),f=!1;if(!h){if(!r)return;h=s.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:u,player:a,isFallbackTransition:f}),f||(Jp(e,"ng-animate-queued"),a.onStart((function(){Xp(e,"ng-animate-queued")}))),a.onDone((function(){var t=i.players.indexOf(a);t>=0&&i.players.splice(t,1);var n=i._engine.playersByElement.get(e);if(n){var r=n.indexOf(a);r>=0&&n.splice(r,1)}})),this.players.push(a),c.push(a),a}if(!function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var s=n[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(l.params,u.params)){var d=[],p=s.matchStyles(l.value,l.params,d),v=s.matchStyles(u.value,u.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush((function(){Zd(e,p),$d(e,v)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,i){t._elementListeners.set(i,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this,i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach((function(e){if(!e.__ng_removed){var i=n._engine.fetchNamespacesByElement(e);i.size?i.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}})),this._engine.afterFlushAnimationsDone((function(){return i.forEach((function(e){return n.clearElementCache(e)}))}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,i){var r=this,s=this._engine.statesByElement.get(e);if(s){var a=[];if(Object.keys(s).forEach((function(t){if(r._triggers[t]){var n=r.trigger(e,t,"void",i);n&&a.push(n)}})),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&bd(a).onDone((function(){return r._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var i=new Set;n.forEach((function(n){var r=n.name;if(!i.has(r)){i.add(r);var s=t._triggers[r].fallbackTransition,a=t._engine.statesByElement.get(e)[r]||Gp,o=new Up("void"),l=new Wp(t.id,r,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:r,transition:s,fromState:a,toState:o,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),!this.triggerLeaveAnimation(e,t,!0)){var r=!1;if(i.totalAnimations){var s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else for(var a=e;a=a.parentNode;)if(i.statesByElement.get(a)){r=!0;break}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{var o=e.__ng_removed;o&&o!==Bp||(i.afterFlush((function(){return n.clearElementCache(e)})),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}}},{key:"insertNode",value:function(e,t){Jp(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(i){var r=i.player;if(!r.destroyed){var s=i.element,a=t._elementListeners.get(s);a&&a.forEach((function(t){if(t.name==i.triggerName){var n=Sd(s,i.triggerName,i.fromState.value,i.toState.value);n._data=e,wd(i.player,t.phase,n,t.callback)}})),r.markedForDestroy?t._engine.afterFlush((function(){r.destroy()})):n.push(i)}})),this._queue=[],n.sort((function(e,n){var i=e.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),Kp=function(){function e(t,n,i){_classCallCheck(this,e),this.bodyNode=t,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}},{key:"createNamespace",value:function(e,t){var n=new qp(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var i=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(i);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return i.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var s=n[i[r]].namespaceId;if(s){var a=this._fetchNamespace(s);a&&t.add(a)}}return t}},{key:"trigger",value:function(e,t,n,i){if($p(t)){var r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}},{key:"insertNode",value:function(e,t,n,i){if($p(t)){var r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){var a=this._fetchNamespace(e);a&&a.insertNode(t,n)}i&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Jp(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Xp(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,i){if($p(t)){var r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){var s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}}else this._onRemovalComplete(t,i)}},{key:"markElementAsRemoved",value:function(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,i,r){return $p(t)?this._fetchNamespace(e).listen(t,n,i,r):function(){}}},{key:"_buildInstruction",value:function(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return bd(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=Bp,n.namespaceId){this.destroyInnerAnimations(e);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Jp(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,t)}finally{for(var s=0;s<r.length;s++)r[s]()}}else for(var a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var o=this._whenQuietFns;this._whenQuietFns=[],n.length?bd(n).onDone((function(){o.forEach((function(e){return e()}))})):o.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,i=new kp,r=[],s=new Map,a=[],o=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach((function(e){c.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),i=0;i<t.length;i++)c.add(t[i])}));var h=this.bodyNode,f=Array.from(this.statesByElement.keys()),d=Qp(f,this.collectedEnterElements),p=new Map,v=0;d.forEach((function(e,t){var n="ng-enter"+v++;p.set(t,n),e.forEach((function(e){return Jp(e,n)}))}));for(var g=[],m=new Set,y=new Set,k=0;k<this.collectedLeaveElements.length;k++){var b=this.collectedLeaveElements[k],C=b.__ng_removed;C&&C.setForRemoval&&(g.push(b),m.add(b),C.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach((function(e){return m.add(e)})):y.add(b))}var w=new Map,_=Qp(f,Array.from(m));_.forEach((function(e,t){var n="ng-leave"+v++;w.set(t,n),e.forEach((function(e){return Jp(e,n)}))})),e.push((function(){d.forEach((function(e,t){var n=p.get(t);e.forEach((function(e){return Xp(e,n)}))})),_.forEach((function(e,t){var n=w.get(t);e.forEach((function(e){return Xp(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var S=[],x=[],E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach((function(e){var t=e.player,s=e.element;if(S.push(t),n.collectedEnterElements.length){var c=s.__ng_removed;if(c&&c.setForMove)return void t.destroy()}var f=!h||!n.driver.containsElement(h,s),d=w.get(s),v=p.get(s),g=n._buildInstruction(e,i,v,d,f);if(g.errors&&g.errors.length)x.push(g);else{if(f)return t.onStart((function(){return Zd(s,g.fromStyles)})),t.onDestroy((function(){return $d(s,g.toStyles)})),void r.push(t);if(e.isFallbackTransition)return t.onStart((function(){return Zd(s,g.fromStyles)})),t.onDestroy((function(){return $d(s,g.toStyles)})),void r.push(t);g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),i.append(s,g.timelines),a.push({instruction:g,player:t,element:s}),g.queriedElements.forEach((function(e){return xd(o,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var i=l.get(t);i||l.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}})),g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),i=u.get(t);i||u.set(t,i=new Set),n.forEach((function(e){return i.add(e)}))}))}}));if(x.length){var I=[];x.forEach((function(e){I.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return I.push("- ".concat(e,"\n"))}))})),S.forEach((function(e){return e.destroy()})),this.reportError(I)}var T=new Map,F=new Map;a.forEach((function(e){var t=e.element;i.has(t)&&(F.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,T))})),r.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){xd(T,t,[]).push(e),e.destroy()}))}));var A=g.filter((function(e){return tv(e,l,u)})),D=new Map;Yp(D,this.driver,y,u,"*").forEach((function(e){tv(e,l,u)&&A.push(e)}));var O=new Map;d.forEach((function(e,t){Yp(O,n.driver,new Set(e),l,"!")})),A.forEach((function(e){var t=D.get(e),n=O.get(e);D.set(e,Object.assign(Object.assign({},t),n))}));var R=[],P=[],L={};a.forEach((function(e){var t=e.element,a=e.player,o=e.instruction;if(i.has(t)){if(c.has(t))return a.onDestroy((function(){return $d(t,o.toStyles)})),a.disabled=!0,a.overrideTotalTime(o.totalTime),void r.push(a);var l=L;if(F.size>1){for(var u=t,h=[];u=u.parentNode;){var f=F.get(u);if(f){l=f;break}h.push(u)}h.forEach((function(e){return F.set(e,l)}))}var d=n._buildAnimation(a.namespaceId,o,T,s,O,D);if(a.setRealPlayer(d),l===L)R.push(a);else{var p=n.playersByElement.get(l);p&&p.length&&(a.parentPlayer=bd(p)),r.push(a)}}else Zd(t,o.fromStyles),a.onDestroy((function(){return $d(t,o.toStyles)})),P.push(a),c.has(t)&&r.push(a)})),P.forEach((function(e){var t=s.get(e.element);if(t&&t.length){var n=bd(t);e.setRealPlayer(n)}})),r.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var N=0;N<g.length;N++){var M=g[N],V=M.__ng_removed;if(Xp(M,"ng-leave"),!V||!V.hasAnimation){var H=[];if(o.size){var j=o.get(M);j&&j.length&&H.push.apply(H,_toConsumableArray(j));for(var B=this.driver.query(M,".ng-animating",!0),z=0;z<B.length;z++){var U=o.get(B[z]);U&&U.length&&H.push.apply(H,_toConsumableArray(U))}}var G=H.filter((function(e){return!e.destroyed}));G.length?ev(this,M,G):this.processLeaveNode(M)}}return g.length=0,R.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),R}},{key:"elementContainsData",value:function(e,t){var n=!1,i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,i,r){var s=[];if(t){var a=this.playersByQueriedElement.get(e);a&&(s=a)}else{var o=this.playersByElement.get(e);if(o){var l=!r||"void"==r;o.forEach((function(e){e.queued||(l||e.triggerName==i)&&s.push(e)}))}}return(n||i)&&(s=s.filter((function(e){return!(n&&n!=e.namespaceId||i&&i!=e.triggerName)}))),s}},{key:"_beforeAnimationBuild",value:function(e,t,n){var i,r=this,s=t.element,a=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName,l=_createForOfIteratorHelper(t.timelines);try{var u=function(){var e=i.value.element,l=e!==s,u=xd(n,e,[]);r._getPreviousPlayers(e,l,a,o,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),u.push(e)}))};for(l.s();!(i=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}Zd(s,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,i,r,s){var a=this,o=t.triggerName,l=t.element,u=[],c=new Set,h=new Set,f=t.timelines.map((function(t){var f=t.element;c.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new md(t.duration,t.delay);var p,v,g=f!==l,m=(p=(n.get(f)||jp).map((function(e){return e.getRealPlayer()})),v=[],function e(t,n){for(var i=0;i<t.length;i++){var r=t[i];r instanceof yd?e(r.players,n):n.push(r)}}(p,v),v).filter((function(e){return!!e.element&&e.element===f})),y=r.get(f),k=s.get(f),b=Cd(0,a._normalizer,0,t.keyframes,y,k),C=a._buildPlayer(t,b,m);if(t.subTimeline&&i&&h.add(f),g){var w=new Wp(e,o,f);w.setRealPlayer(C),u.push(w)}return C}));u.forEach((function(e){xd(a.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var i;if(e instanceof Map){if(i=e.get(t)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&e.delete(t)}}else if(i=e[t]){if(i.length){var s=i.indexOf(n);i.splice(s,1)}0==i.length&&delete e[t]}return i}(a.playersByQueriedElement,e.element,e)}))})),c.forEach((function(e){return Jp(e,"ng-animating")}));var d=bd(f);return d.onDestroy((function(){c.forEach((function(e){return Xp(e,"ng-animating")})),$d(l,t.toStyles)})),h.forEach((function(e){xd(i,e,[]).push(d)})),d}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new md(e.duration,e.delay)}}]),e}(),Wp=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.triggerName=n,this.element=i,this._player=new md,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return wd(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){xd(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function $p(e){return e&&1===e.nodeType}function Zp(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function Yp(e,t,n,i,r){var s=[];n.forEach((function(e){return s.push(Zp(e))}));var a=[];i.forEach((function(n,i){var s={};n.forEach((function(e){var n=s[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=zp,a.push(i))})),e.set(i,s)}));var o=0;return n.forEach((function(e){return Zp(e,s[o++])})),a}function Qp(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var i=new Set(t),r=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var s=r.get(t);if(s)return s;var a=t.parentNode;return s=n.has(a)?a:i.has(a)?1:e(a),r.set(t,s),s}(e);1!==t&&n.get(t).push(e)})),n}function Jp(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function Xp(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function ev(e,t,n){bd(n).onDone((function(){return e.processLeaveNode(t)}))}function tv(e,t,n){var i=n.get(e);if(!i)return!1;var r=t.get(e);return r?i.forEach((function(e){return r.add(e)})):t.set(e,i),n.delete(e),!0}var nv=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new Kp(t,n,i),this._timelineEngine=new Hp(t,n,i),this._transitionEngine.onRemovalComplete=function(e,t){return r.onRemovalComplete(e,t)}}return _createClass(e,[{key:"registerTrigger",value:function(e,t,n,i,r){var s=e+"-"+i,a=this._triggerCache[s];if(!a){var o=[],l=fp(this._driver,r,o);if(o.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(o.join("\n - ")));a=function(e,t){return new Np(e,t)}(i,l),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}},{key:"onRemove",value:function(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(Ed(n),2),s=r[0],a=r[1];this._timelineEngine.command(s,t,a,i)}else this._transitionEngine.trigger(e,t,n,i)}},{key:"listen",value:function(e,t,n,i,r){if("@"==n.charAt(0)){var s=_slicedToArray(Ed(n),2),a=s[0],o=s[1];return this._timelineEngine.listen(a,t,o,r)}return this._transitionEngine.listen(e,t,n,i,r)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),e}();function iv(e,t){var n=null,i=null;return Array.isArray(t)&&t.length?(n=sv(t[0]),t.length>1&&(i=sv(t[t.length-1]))):t&&(n=sv(t)),n||i?new rv(e,n,i):null}var rv=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;var r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}return _createClass(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&$d(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&($d(this._element,this._initialStyles),this._endStyles&&($d(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Zd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zd(this._element,this._endStyles),this._endStyles=null),$d(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function sv(e){for(var t=null,n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];av(r)&&((t=t||{})[r]=e[r])}return t}function av(e){return"display"===e||"position"===e}var ov=function(){function e(t,n,i,r,s,a,o){var l=this;_classCallCheck(this,e),this._element=t,this._name=n,this._duration=i,this._delay=r,this._easing=s,this._fillMode=a,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return _createClass(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=dv(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),fv(e,"",t),hv(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){lv(this._element,this._name,"paused")}},{key:"resume",value:function(){lv(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=uv(this._element,this._name);this._position=e*this._duration,fv(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),hv(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,i;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=dv(e,"").split(","),(i=cv(n,t))>=0&&(n.splice(i,1),fv(e,"",n.join(","))))}}]),e}();function lv(e,t,n){fv(e,"PlayState",n,uv(e,t))}function uv(e,t){var n=dv(e,"");return n.indexOf(",")>0?cv(n.split(","),t):cv([n],t)}function cv(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function hv(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function fv(e,t,n,i){var r="animation"+t;if(null!=i){var s=e.style[r];if(s.length){var a=s.split(",");a[i]=n,n=a.join(",")}}e.style[r]=n}function dv(e,t){return e.style["animation"+t]}var pv=function(){function e(t,n,i,r,s,a,o,l){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=s,this._finalStyles=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=a||"linear",this.totalTime=r+s,this._buildStyler()}return _createClass(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new ov(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(i){"offset"!=i&&(t[i]=n?e._finalStyles[i]:ap(e.element,i))}))}this.currentSnapshot=t}}]),e}(),vv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).element=e,r._startingStyles={},r.__initialized=!1,r._styles=Md(i),r}return _createClass(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(md),gv=function(){function e(){_classCallCheck(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Rd(e)}},{key:"matchesElement",value:function(e,t){return Pd(e,t)}},{key:"containsElement",value:function(e,t){return Ld(e,t)}},{key:"query",value:function(e,t,n){return Nd(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return Md(e)}));var i="@keyframes ".concat(t," {\n"),r="";n.forEach((function(e){r=" ";var t=parseFloat(e.offset);i+="".concat(r).concat(100*t,"% {\n"),r+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(t,": ").concat(n,";\n"))}})),i+=r+"}\n"})),i+="}\n";var s=document.createElement("style");return s.innerHTML=i,s}},{key:"animate",value:function(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;a&&this._notifyFaultyScrubber();var o=s.filter((function(e){return e instanceof pv})),l={};ip(n,i)&&o.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var u=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=rp(e,t,l));if(0==n)return new vv(e,u);var c="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,c,t);document.querySelector("head").appendChild(h);var f=iv(e,t),d=new pv(e,t,c,n,i,r,u,f);return d.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),d}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),mv=function(){function e(t,n,i,r){_classCallCheck(this,e),this.element=t,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:ap(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),yv=function(){function e(){_classCallCheck(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(kv().toString()),this._cssKeyframesDriver=new gv}return _createClass(e,[{key:"validateStyleProperty",value:function(e){return Rd(e)}},{key:"matchesElement",value:function(e,t){return Pd(e,t)}},{key:"containsElement",value:function(e,t){return Ld(e,t)}},{key:"query",value:function(e,t,n){return Nd(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,i,r){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=arguments.length>6?arguments[6]:void 0;if(!a&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,s);var o={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(o.easing=r);var l={},u=s.filter((function(e){return e instanceof mv}));ip(n,i)&&u.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var c=iv(e,t=rp(e,t=t.map((function(e){return qd(e,!1)})),l));return new mv(e,t,o,c)}}]),e}();function kv(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var bv,Cv=((bv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._nextAnimationId=0,r._renderer=e.createRenderer(i.body,{id:"0",encapsulation:bt.None,styles:[],data:{animation:[]}}),r}return _createClass(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?fd(e):e;return Sv(this._renderer,null,t,"register",[n]),new wv(t,this._renderer)}}]),n}(cd)).\u0275fac=function(e){return new(e||bv)(st(ol),st(Zc))},bv.\u0275prov=Ce({token:bv,factory:bv.\u0275fac}),bv),wv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this))._id=e,r._renderer=i,r}return _createClass(n,[{key:"create",value:function(e,t){return new _v(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck(this,e)}}()),_v=function(){function e(t,n,i,r){_classCallCheck(this,e),this.id=t,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Sv(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function Sv(e,t,n,i,r){return e.setProperty(t,"@@".concat(n,":").concat(i),r)}var xv,Ev,Iv,Tv,Fv,Av=((xv=function(){function e(t,n,i){_classCallCheck(this,e),this.delegate=t,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass(e,[{key:"createRenderer",value:function(e,t){var n=this,i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var r=this._rendererCache.get(i);return r||(r=new Dv("",i,this.engine),this._rendererCache.set(i,r)),r}var s=t.id,a=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(a,e),t.data.animation.forEach((function t(i){Array.isArray(i)?i.forEach(t):n.engine.registerTrigger(s,a,e,i.name,i)})),new Ov(this,a,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var i=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){i._zone.run((function(){i._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),i._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}()).\u0275fac=function(e){return new(e||xv)(st(ol),st(nv),st(gc))},xv.\u0275prov=Ce({token:xv,factory:xv.\u0275fac}),xv),Dv=function(){function e(t,n,i){_classCallCheck(this,e),this.namespaceId=t,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass(e,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,i){this.delegate.setStyle(e,t,n,i)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}}]),e}(),Ov=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,i,r,s)).factory=e,a.namespaceId=i,a}return _createClass(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var i,r,s=this;if("@"==t.charAt(0)){var a,o=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),l=t.substr(1),u="";return"@"!=l.charAt(0)&&(r=(i=l).indexOf("."),l=(a=_slicedToArray([i.substring(0,r),i.substr(r+1)],2))[0],u=a[1]),this.engine.listen(this.namespaceId,o,l,u,(function(e){s.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(Dv),Rv=((Ev=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){return _classCallCheck(this,n),t.call(this,e.body,i,r)}return n}(nv)).\u0275fac=function(e){return new(e||Ev)(st(Zc),st(jd),st(Fp))},Ev.\u0275prov=Ce({token:Ev,factory:Ev.\u0275fac}),Ev),Pv=[{provide:jd,useFactory:function(){return"function"==typeof kv()?new yv:new gv}},{provide:new Ye("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:cd,useClass:Cv},{provide:Fp,useFactory:function(){return new Ap}},{provide:nv,useClass:Rv},{provide:ol,useFactory:function(e,t,n){return new Av(e,t,n)},deps:[Zf,nv,gc]}],Lv=((Iv=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:Iv}),Iv.\u0275inj=we({factory:function(e){return new(e||Iv)},providers:Pv,imports:[ud]}),Iv),Nv=n("E21t"),Mv=new Ye("app.config"),Vv={appId:"2A108563-6752-4DC3-813E-6E77CCAB67AF",appTitle:"Artemis Migration",lobName:"Artemis",lob:"ArtemisMP",cacheTime:7200,region:"USA",businessEntity:"ARTEMIS",businessSubEntity:"Migration Programme",enablePing:Nv.b,landingPageUrl:Nv.a},Hv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._value=e,i}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new P;return this._value}},{key:"next",value:function(e){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=e)}}]),n}(M),jv=((Fv=function(){function e(){_classCallCheck(this,e);var t=localStorage.getItem("currentUser");this._currentUserSubject=new Hv(null==t||null==t?t:JSON.parse(localStorage.getItem("currentUser"))),this.currentUserObservable=this._currentUserSubject.asObservable()}return _createClass(e,[{key:"currentUser",get:function(){return this._currentUserSubject.value},set:function(e){e?localStorage.setItem("currentUser",JSON.stringify(e)):localStorage.removeItem("currentUser"),this._currentUserSubject.next(e)}}]),e}()).\u0275fac=function(e){return new(e||Fv)},Fv.\u0275prov=Ce({token:Fv,factory:Fv.\u0275fac,providedIn:"root"}),Fv),Bv=((Tv=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"transform",value:function(e){var t=e;if(e){var n=e.split(" ");if(n.length>0){var i=n.length,r=n[i-1],s="";n.forEach((function(e,n){if(i-1===n)return(t=s?"".concat(r,", ").concat(s):""+r).toUpperCase();s="".concat(s," ").concat(e)}))}}return t}}]),e}()).\u0275fac=function(e){return new(e||Tv)},Tv.\u0275pipe=Dt({name:"nameFormat",type:Tv,pure:!0}),Tv);function zv(e,t){if(1&e&&($a(0,"div",7),$a(1,"ul",8),$a(2,"li",9),Oo(3),bu(4,"nameFormat"),Za(),Za(),Za()),2&e){var n=ao();Ir(3),Po(" ",(i=n.user,r=on(),s=Yt(r,4),Su(r,_u(r,4)?mu(r,gn(),1,s.transform,i,s):s.transform(i)))," ")}var i,r,s}var Uv,Gv=((Uv=function(){function e(t,n){_classCallCheck(this,e),this.userContextService=t,this.appConfig=n,this.user="Rajesh D"}return _createClass(e,[{key:"businessEntity",get:function(){return this.appConfig.businessEntity}},{key:"businessSubEntity",get:function(){return this.appConfig.businessSubEntity}},{key:"isLoggedIn",get:function(){return!0}},{key:"ngOnInit",value:function(){}},{key:"navigateToDiracHome",value:function(){window.open(this.appConfig.landingPageUrl,"_self")}},{key:"logout",value:function(){return!0}},{key:"isPingDisabled",get:function(){return!this.appConfig.enablePing}}]),e}()).\u0275fac=function(e){return new(e||Uv)(Ua(jv),Ua(Mv))},Uv.\u0275cmp=St({type:Uv,selectors:[["app-header"]],decls:10,vars:3,consts:[[1,"ar-header"],[1,"ar-header__left",3,"keypress","click"],["tabindex","0",1,"ar-header__logo"],["src","./../../../../assets/shell_logo.png","alt","shell logo"],["tabindex","0",1,"ar-header__title"],[1,"ar-header__subtitle"],["class","ar-header__right",4,"ngIf"],[1,"ar-header__right"],[1,"ar-header__info"],["tabindex","0",1,"ar-header__info-item"]],template:function(e,t){1&e&&($a(0,"header",0),$a(1,"div",1),io("keypress",(function(){return t.navigateToDiracHome()}))("click",(function(){return t.navigateToDiracHome()})),$a(2,"span",2),Ya(3,"img",3),Za(),$a(4,"h1",4),$a(5,"span"),Oo(6),Za(),$a(7,"span",5),Oo(8),Za(),Za(),Za(),Ba(9,zv,5,3,"div",6),Za()),2&e&&(Ir(6),Ro(t.businessEntity),Ir(2),Ro(t.businessSubEntity),Ir(1),Ka("ngIf",t.isLoggedIn))},directives:[rf],pipes:[Bv],styles:[""]}),Uv);function qv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return H(i)?(t.pop(),Q(t,i)):ie(t)}var Kv=function(){function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e}(),Wv={};function $v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=null,r=null;return H(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(i=t.pop()),1===t.length&&m(t[0])&&(t=t[0]),ie(t,r).lift(new Zv(i))}var Zv=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yv(e,this.resultSelector))}}]),e}(),Yv=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return _createClass(n,[{key:"_next",value:function(e){this.values.push(Wv),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var i=e[n];this.add(K(this,i,i,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,r){var s=this.values,a=this.toRespond?s[n]===Wv?--this.toRespond:this.toRespond:0;s[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(W),Qv=new D((function(e){return e.complete()}));function Jv(e){return e?function(e){return new D((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Qv}function Xv(e){return new D((function(t){var n;try{n=e()}catch(i){return void t.error(i)}return(n?J(n):Jv()).subscribe(t)}))}function eg(){return ne(1)}function tg(e,t){return function(n){return n.lift(new ng(e,t))}}var ng=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.thisArg=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ig(e,this.predicate,this.thisArg))}}]),e}(),ig=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).predicate=i,s.thisArg=r,s.count=0,s}return _createClass(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(S),rg=function(){function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e}();function sg(e){return function(t){return 0===e?Jv():t.lift(new ag(e))}}var ag=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new rg}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new og(e,this.total))}}]),e}(),og=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.ring=new Array,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var s=t++%n;e.next(i[s])}e.complete()}}]),n}(S);function lg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hg;return function(t){return t.lift(new ug(e))}}var ug=function(){function e(t){_classCallCheck(this,e),this.errorFactory=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new cg(e,this.errorFactory))}}]),e}(),cg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).errorFactory=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(e){this.hasValue=!0,this.destination.next(e)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}]),n}(S);function hg(){return new Kv}function fg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new dg(e))}}var dg=function(){function e(t){_classCallCheck(this,e),this.defaultValue=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new pg(e,this.defaultValue))}}]),e}(),pg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).defaultValue=i,r.isEmpty=!0,r}return _createClass(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(S);function vg(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?tg((function(t,n){return e(t,n,i)})):I,sg(1),n?fg(t):lg((function(){return new Kv})))}}function gg(e){return function(t){var n=new mg(e),i=t.lift(n);return n.caught=i}}var mg=function(){function e(t){_classCallCheck(this,e),this.selector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new yg(e,this.selector,this.caught))}}]),e}(),yg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).selector=i,s.caught=r,s}return _createClass(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(s){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,s)}this._unsubscribeAndRecycle();var i=new j(this,void 0,void 0);this.add(i);var r=K(this,t,void 0,void 0,i);r!==i&&this.add(r)}}}]),n}(W);function kg(e){return function(t){return 0===e?Jv():t.lift(new bg(e))}}var bg=function(){function e(t){if(_classCallCheck(this,e),this.total=t,this.total<0)throw new rg}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Cg(e,this.total))}}]),e}(),Cg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(S);function wg(e,t){var n=arguments.length>=2;return function(i){return i.pipe(e?tg((function(t,n){return e(t,n,i)})):I,kg(1),n?fg(t):lg((function(){return new Kv})))}}var _g=function(){function e(t,n,i){_classCallCheck(this,e),this.predicate=t,this.thisArg=n,this.source=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Sg(e,this.predicate,this.thisArg,this.source))}}]),e}(),Sg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e)).predicate=i,a.thisArg=r,a.source=s,a.index=0,a.thisArg=r||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(S);function xg(e,t){return"function"==typeof t?function(n){return n.pipe(xg((function(n,i){return J(e(n,i)).pipe($((function(e,r){return t(n,e,i,r)})))})))}:function(t){return t.lift(new Eg(e))}}var Eg=function(){function e(t){_classCallCheck(this,e),this.project=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Ig(e,this.project))}}]),e}(),Ig=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).project=i,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new j(this,t,n),s=this.destination;s.add(r),this.innerSubscription=K(this,e,void 0,void 0,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,i,r){this.destination.next(t)}}]),n}(W);function Tg(){return eg()(qv.apply(void 0,arguments))}function Fg(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new Ag(e,t,n))}}var Ag=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.accumulator=t,this.seed=n,this.hasSeed=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Dg(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),Dg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e)).accumulator=i,a._seed=r,a.hasSeed=s,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}},{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(i){this.destination.error(i)}this.seed=t,this.destination.next(t)}}]),n}(S);function Og(e,t){return X(e,t,1)}function Rg(){}function Pg(e,t,n){return function(i){return i.lift(new Ng(e,t,n))}}var Lg,Ng=function(){function e(t,n,i){_classCallCheck(this,e),this.nextOrObserver=t,this.error=n,this.complete=i}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Mg(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),Mg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e))._tapNext=Rg,a._tapError=Rg,a._tapComplete=Rg,a._tapError=r||Rg,a._tapComplete=s||Rg,f(i)?(a._context=_assertThisInitialized(a),a._tapNext=i):i&&(a._context=i,a._tapNext=i.next||Rg,a._tapError=i.error||Rg,a._tapComplete=i.complete||Rg),a}return _createClass(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(S),Vg=function(){function e(t){_classCallCheck(this,e),this.callback=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Hg(e,this.callback))}}]),e}(),Hg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).add(new C(i)),r}return n}(S),jg=function e(t,n){_classCallCheck(this,e),this.id=t,this.url=n},Bg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(r=t.call(this,e,i)).navigationTrigger=s,r.restoredState=a,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(jg),zg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).urlAfterRedirects=r,s}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(jg),Ug=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).reason=r,s}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(jg),Gg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).error=r,s}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(jg),qg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=s,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(jg),Kg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=s,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(jg),Wg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,i)).urlAfterRedirects=r,o.state=s,o.shouldActivate=a,o}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(jg),$g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=s,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(jg),Zg=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,i)).urlAfterRedirects=r,a.state=s,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(jg),Yg=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Qg=function(){function e(t){_classCallCheck(this,e),this.route=t}return _createClass(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Jg=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Xg=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),em=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),tm=function(){function e(t){_classCallCheck(this,e),this.snapshot=t}return _createClass(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),nm=function(){function e(t,n,i){_classCallCheck(this,e),this.routerEvent=t,this.position=n,this.anchor=i}return _createClass(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),im=((Lg=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||Lg)},Lg.\u0275cmp=St({type:Lg,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Ya(0,"router-outlet")},directives:function(){return[pk]},encapsulation:2}),Lg),rm=function(){function e(t){_classCallCheck(this,e),this.params=t||{}}return _createClass(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function sm(e){return new rm(e)}function am(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function om(e,t,n){var i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;for(var r={},s=0;s<i.length;s++){var a=i[s],o=e[s];if(a.startsWith(":"))r[a.substring(1)]=o;else if(a!==o.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}var lm=function e(t,n){_classCallCheck(this,e),this.routes=t,this.module=n};function um(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var i=e[n];cm(i,hm(t,i))}}function cm(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&um(e.children,t)}function hm(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function fm(e){var t=e.children&&e.children.map(fm),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=im),n}function dm(e,t){var n,i=Object.keys(e),r=Object.keys(t);if(!i||!r||i.length!=r.length)return!1;for(var s=0;s<i.length;s++)if(!pm(e[n=i[s]],t[n]))return!1;return!0}function pm(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every((function(e){return t.indexOf(e)>-1})):e===t}function vm(e){return Array.prototype.concat.apply([],e)}function gm(e){return e.length>0?e[e.length-1]:null}function mm(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function ym(e){return no(e)?e:to(e)?J(Promise.resolve(e)):qv(e)}function km(e,t,n){return n?function(e,t){return dm(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!_m(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return pm(e[n],t[n])}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,r){if(n.segments.length>r.length)return!!_m(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!_m(n.segments,r))return!1;for(var s in i.children){if(!n.children[s])return!1;if(!e(n.children[s],i.children[s]))return!1}return!0}var a=r.slice(0,n.segments.length),o=r.slice(n.segments.length);return!!_m(n.segments,a)&&!!n.children.primary&&t(n.children.primary,i,o)}(t,n,n.segments)}(e.root,t.root)}var bm=function(){function e(t,n,i){_classCallCheck(this,e),this.root=t,this.queryParams=n,this.fragment=i}return _createClass(e,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=sm(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Im.serialize(this)}}]),e}(),Cm=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.segments=t,this.children=n,this.parent=null,mm(n,(function(e,t){return e.parent=i}))}return _createClass(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Tm(this)}}]),e}(),wm=function(){function e(t,n){_classCallCheck(this,e),this.path=t,this.parameters=n}return _createClass(e,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=sm(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Pm(this)}}]),e}();function _m(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function Sm(e,t){var n=[];return mm(e.children,(function(e,i){"primary"===i&&(n=n.concat(t(e,i)))})),mm(e.children,(function(e,i){"primary"!==i&&(n=n.concat(t(e,i)))})),n}var xm=function e(){_classCallCheck(this,e)},Em=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"parse",value:function(e){var t=new Hm(e);return new bm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return Tm(t);if(n){var i=t.children.primary?e(t.children.primary,!1):"",r=[];return mm(t.children,(function(t,n){"primary"!==n&&r.push("".concat(n,":").concat(e(t,!1)))})),r.length>0?"".concat(i,"(").concat(r.join("//"),")"):i}var s=Sm(t,(function(n,i){return"primary"===i?[e(t.children.primary,!1)]:["".concat(i,":").concat(e(n,!1))]}));return"".concat(Tm(t),"/(").concat(s.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(Am(e),"=").concat(Am(t))})).join("&"):"".concat(Am(e),"=").concat(Am(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),Im=new Em;function Tm(e){return e.segments.map((function(e){return Pm(e)})).join("/")}function Fm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Am(e){return Fm(e).replace(/%3B/gi,";")}function Dm(e){return Fm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Om(e){return decodeURIComponent(e)}function Rm(e){return Om(e.replace(/\+/g,"%20"))}function Pm(e){return"".concat(Dm(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(Dm(e),"=").concat(Dm(t[e]))})).join("")));var t}var Lm=/^[^\/()?;=#]+/;function Nm(e){var t=e.match(Lm);return t?t[0]:""}var Mm=/^[^=?&#]+/,Vm=/^[^?&#]+/,Hm=function(){function e(t){_classCallCheck(this,e),this.url=t,this.remaining=t}return _createClass(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cm([],{}):new Cm([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Cm(e,t)),n}},{key:"parseSegment",value:function(){var e=Nm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new wm(Om(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=Nm(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var i=Nm(this.remaining);i&&(n=i,this.capture(n))}e[Om(t)]=Om(n)}}},{key:"parseQueryParam",value:function(e){var t,n,i=(t=this.remaining,(n=t.match(Mm))?n[0]:"");if(i){this.capture(i);var r="";if(this.consumeOptional("=")){var s=function(e){var t=e.match(Vm);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}var a=Rm(i),o=Rm(r);if(e.hasOwnProperty(a)){var l=e[a];Array.isArray(l)||(l=[l],e[a]=l),l.push(o)}else e[a]=o}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Nm(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");var s=this.parseChildren();t[r]=1===Object.keys(s).length?s.primary:new Cm([],s),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),jm=function(){function e(t){_classCallCheck(this,e),this._root=t}return _createClass(e,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=Bm(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=Bm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=zm(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return zm(e,this._root).map((function(e){return e.value}))}}]),e}();function Bm(e,t){if(e===t.value)return t;var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r=Bm(e,n.value);if(r)return r}}catch(s){i.e(s)}finally{i.f()}return null}function zm(e,t){if(e===t.value)return[t];var n,i=_createForOfIteratorHelper(t.children);try{for(i.s();!(n=i.n()).done;){var r=zm(e,n.value);if(r.length)return r.unshift(t),r}}catch(s){i.e(s)}finally{i.f()}return[]}var Um=function(){function e(t,n){_classCallCheck(this,e),this.value=t,this.children=n}return _createClass(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Gm(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var qm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).snapshot=i,Qm(_assertThisInitialized(r),e),r}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(jm);function Km(e,t){var n=function(e,t){var n=new Zm([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Ym("",new Um(n,[]))}(e,t),i=new Hv([new wm("",{})]),r=new Hv({}),s=new Hv({}),a=new Hv({}),o=new Hv(""),l=new Wm(i,r,a,o,s,"primary",t,n.root);return l.snapshot=n.root,new qm(new Um(l,[]),n)}var Wm=function(){function e(t,n,i,r,s,a,o,l){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this._futureSnapshot=l}return _createClass(e,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe($((function(e){return sm(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe($((function(e){return sm(e)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),e}();function $m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,i=0;if("always"!==t)for(i=n.length-1;i>=1;){var r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(i))}var Zm=function(){function e(t,n,i,r,s,a,o,l,u,c,h){_classCallCheck(this,e),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=a,this.component=o,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass(e,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=sm(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=sm(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),e}(),Ym=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,i)).url=e,Qm(_assertThisInitialized(r),i),r}return _createClass(n,[{key:"toString",value:function(){return Jm(this._root)}}]),n}(jm);function Qm(e,t){t.value._routerState=e,t.children.forEach((function(t){return Qm(e,t)}))}function Jm(e){var t=e.children.length>0?" { ".concat(e.children.map(Jm).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Xm(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,dm(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),dm(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!dm(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),dm(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ey(e,t){var n,i;return dm(e.params,t.params)&&_m(n=e.url,i=t.url)&&n.every((function(e,t){return dm(e.parameters,i[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||ey(e.parent,t.parent))}function ty(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ny(e,t,n,i,r){var s={};return i&&mm(i,(function(e,t){s[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new bm(n.root===e?t:function e(t,n,i){var r={};return mm(t.children,(function(t,s){r[s]=t===n?i:e(t,n,i)})),new Cm(t.segments,r)}(n.root,e,t),s,r)}var iy=function(){function e(t,n,i){if(_classCallCheck(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&ty(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(r&&r!==gm(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),ry=function e(t,n,i){_classCallCheck(this,e),this.segmentGroup=t,this.processChildren=n,this.index=i};function sy(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function ay(e,t,n){if(e||(e=new Cm([],{})),0===e.segments.length&&e.hasChildren())return oy(e,t,n);var i=function(e,t,n){for(var i=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(i>=n.length)return s;var a=e.segments[r],o=sy(n[i]),l=i<n.length-1?n[i+1]:null;if(r>0&&void 0===o)break;if(o&&l&&"object"==typeof l&&void 0===l.outlets){if(!hy(o,l,a))return s;i+=2}else{if(!hy(o,{},a))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){var s=new Cm(e.segments.slice(0,i.pathIndex),{});return s.children.primary=new Cm(e.segments.slice(i.pathIndex),e.children),oy(s,0,r)}return i.match&&0===r.length?new Cm(e.segments,{}):i.match&&!e.hasChildren()?ly(e,t,n):i.match?oy(e,0,r):ly(e,t,n)}function oy(e,t,n){if(0===n.length)return new Cm(e.segments,{});var i=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),r={};return mm(i,(function(n,i){null!==n&&(r[i]=ay(e.children[i],t,n))})),mm(e.children,(function(e,t){void 0===i[t]&&(r[t]=e)})),new Cm(e.segments,r)}function ly(e,t,n){for(var i=e.segments.slice(0,t),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var s=uy(n[r].outlets);return new Cm(i,s)}if(0===r&&ty(n[0]))i.push(new wm(e.segments[t].path,n[0])),r++;else{var a=sy(n[r]),o=r<n.length-1?n[r+1]:null;a&&o&&ty(o)?(i.push(new wm(a,cy(o))),r+=2):(i.push(new wm(a,{})),r++)}}return new Cm(i,{})}function uy(e){var t={};return mm(e,(function(e,n){null!==e&&(t[n]=ly(new Cm([],{}),0,e))})),t}function cy(e){var t={};return mm(e,(function(e,n){return t[n]=""+e})),t}function hy(e,t,n){return e==n.path&&dm(t,n.parameters)}var fy=function(){function e(t,n,i,r){_classCallCheck(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r}return _createClass(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Xm(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var i=this,r=Gm(t);e.children.forEach((function(e){var t=e.value.outlet;i.deactivateRoutes(e,r[t],n),delete r[t]})),mm(r,(function(e,t){i.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(i===r)if(i.component){var s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:i,route:e,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,i=t.getContext(e.value.outlet);if(i){var r=Gm(e),s=e.value.component?i.children:t;mm(r,(function(e,t){return n.deactivateRouteAndItsChildren(e,s)})),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var i=this,r=Gm(t);e.children.forEach((function(e){i.activateRoutes(e,r[e.value.outlet],n),i.forwardEvent(new tm(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Xg(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var i=e.value,r=t?t.value:null;if(Xm(i),i===r)if(i.component){var s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,n);else if(i.component){var a=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var o=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(o.contexts),a.attachRef=o.componentRef,a.route=o.route.value,a.outlet&&a.outlet.attach(o.componentRef,o.route.value),dy(o.route)}else{var l=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=l?l.module.componentFactoryResolver:null;a.attachRef=null,a.route=i,a.resolver=u,a.outlet&&a.outlet.activateWith(i,u),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function dy(e){Xm(e.value),e.children.forEach(dy)}function py(e){return"function"==typeof e}function vy(e){return e instanceof bm}var gy=function e(t){_classCallCheck(this,e),this.segmentGroup=t||null},my=function e(t){_classCallCheck(this,e),this.urlTree=t};function yy(e){return new D((function(t){return t.error(new gy(e))}))}function ky(e){return new D((function(t){return t.error(new my(e))}))}function by(e){return new D((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Cy=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.configLoader=n,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(ut)}return _createClass(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe($((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(gg((function(t){if(t instanceof my)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof gy)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe($((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(gg((function(e){if(e instanceof gy)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var i=e.segments.length>0?new Cm([],{primary:e}):e;return new bm(i,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe($((function(e){return new Cm([],e)}))):this.expandSegment(e,n,t,n.segments,i,!0)}},{key:"expandChildren",value:function(e,t,n){var i=this;return function(n,r){if(0===Object.keys(n).length)return qv({});var s=[],a=[],o={};return mm(n,(function(n,r){var l,u,c=(l=r,u=n,i.expandSegmentGroup(e,t,u,l)).pipe($((function(e){return o[r]=e})));"primary"===r?s.push(c):a.push(c)})),qv.apply(null,s.concat(a)).pipe(eg(),vg(),$((function(){return o})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,i,r,s){var a=this;return qv.apply(void 0,_toConsumableArray(n)).pipe($((function(o){return a.expandSegmentAgainstRoute(e,t,n,o,i,r,s).pipe(gg((function(e){if(e instanceof gy)return qv(null);throw e})))})),eg(),wg((function(e){return!!e})),gg((function(e,n){if(e instanceof Kv||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,i,r))return qv(new Cm([],{}));throw new gy(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,i,r,s,a){return xy(i)!==s?yy(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s):yy(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,s)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,i){var r=this,s=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ky(s):this.lineralizeSegments(n,s).pipe(X((function(n){var s=new Cm(n,{});return r.expandSegment(e,s,t,n,i,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,i,r,s){var a=this,o=wy(t,i,r),l=o.matched,u=o.consumedSegments,c=o.lastChild,h=o.positionalParamSegments;if(!l)return yy(t);var f=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?ky(f):this.lineralizeSegments(i,f).pipe(X((function(i){return a.expandSegment(e,t,n,i.concat(r.slice(c)),s,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,i){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe($((function(e){return n._loadedConfig=e,new Cm(i,{})}))):qv(new Cm(i,{}));var s=wy(t,n,i),a=s.matched,o=s.consumedSegments,l=s.lastChild;if(!a)return yy(t);var u=i.slice(l);return this.getChildConfig(e,n,i).pipe(X((function(e){var n=e.module,i=e.routes,s=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some((function(n){return Sy(e,t,n)&&"primary"!==xy(n)}))}(e,n,i)?{segmentGroup:_y(new Cm(t,function(e,t){var n={};n.primary=t;var i,r=_createForOfIteratorHelper(e);try{for(r.s();!(i=r.n()).done;){var s=i.value;""===s.path&&"primary"!==xy(s)&&(n[xy(s)]=new Cm([],{}))}}catch(a){r.e(a)}finally{r.f()}return n}(i,new Cm(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return Sy(e,t,n)}))}(e,n,i)?{segmentGroup:_y(new Cm(e.segments,function(e,t,n,i){var r,s={},a=_createForOfIteratorHelper(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;Sy(e,t,o)&&!i[xy(o)]&&(s[xy(o)]=new Cm([],{}))}}catch(l){a.e(l)}finally{a.f()}return Object.assign(Object.assign({},i),s)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,u,i),a=s.segmentGroup,l=s.slicedSegments;return 0===l.length&&a.hasChildren()?r.expandChildren(n,i,a).pipe($((function(e){return new Cm(o,e)}))):0===i.length&&0===l.length?qv(new Cm(o,{})):r.expandSegment(n,a,i,l,"primary",!0).pipe($((function(e){return new Cm(o.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var i=this;return t.children?qv(new lm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?qv(t._loadedConfig):function(e,t,n){var i,r=t.canLoad;return r&&0!==r.length?J(r).pipe($((function(i){var r,s=e.get(i);if(function(e){return e&&py(e.canLoad)}(s))r=s.canLoad(t,n);else{if(!py(s))throw new Error("Invalid CanLoad guard");r=s(t,n)}return ym(r)}))).pipe(eg(),(i=function(e){return!0===e},function(e){return e.lift(new _g(i,void 0,e))})):qv(!0)}(e.injector,t,n).pipe(X((function(n){return n?i.configLoader.load(e.injector,t).pipe($((function(e){return t._loadedConfig=e,e}))):function(e){return new D((function(t){return t.error(am("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):qv(new lm([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],i=t.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return qv(n);if(i.numberOfChildren>1||!i.children.primary)return by(e.redirectTo);i=i.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,i){var r=this.createSegmentGroup(e,t.root,n,i);return new bm(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return mm(e,(function(e,i){if("string"==typeof e&&e.startsWith(":")){var r=e.substring(1);n[i]=t[r]}else n[i]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,i){var r=this,s=this.createSegments(e,t.segments,n,i),a={};return mm(t.children,(function(t,s){a[s]=r.createSegmentGroup(e,t,n,i)})),new Cm(s,a)}},{key:"createSegments",value:function(e,t,n,i){var r=this;return t.map((function(t){return t.path.startsWith(":")?r.findPosParam(e,t,i):r.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var i=n[t.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return i}},{key:"findOrReturn",value:function(e,t){var n,i=0,r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s.path===e.path)return t.splice(i),s;i++}}catch(a){r.e(a)}finally{r.f()}return e}}]),e}();function wy(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var i=(t.matcher||om)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function _y(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Cm(e.segments.concat(t.segments),t.children)}return e}function Sy(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function xy(e){return e.outlet||"primary"}var Ey=function e(t){_classCallCheck(this,e),this.path=t,this.route=this.path[this.path.length-1]},Iy=function e(t,n){_classCallCheck(this,e),this.component=t,this.route=n};function Ty(e,t,n){var i=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Fy(e,t,n){var i=Gm(e),r=e.value;mm(i,(function(e,i){Fy(e,r.component?t?t.children.getContext(i):null:t,n)})),n.canDeactivateChecks.push(new Iy(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}var Ay=Symbol("INITIAL_VALUE");function Dy(){return xg((function(e){return $v.apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe(kg(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return H(i)?(t.pop(),function(e){return Tg(t,e,i)}):function(e){return Tg(t,e)}}(Ay))})))).pipe(Fg((function(e,t){var n=!1;return t.reduce((function(e,i,r){if(e!==Ay)return e;if(i===Ay&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||vy(i))return i}return e}),e)}),Ay),tg((function(e){return e!==Ay})),$((function(e){return vy(e)?e:!0===e})),kg(1))}))}function Oy(e,t){return null!==e&&t&&t(new em(e)),qv(!0)}function Ry(e,t){return null!==e&&t&&t(new Jg(e)),qv(!0)}function Py(e,t,n){var i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?qv(i.map((function(i){return Xv((function(){var r,s=Ty(i,t,n);if(function(e){return e&&py(e.canActivate)}(s))r=ym(s.canActivate(t,e));else{if(!py(s))throw new Error("Invalid CanActivate guard");r=ym(s(t,e))}return r.pipe(wg())}))}))).pipe(Dy()):qv(!0)}function Ly(e,t,n){var i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Xv((function(){return qv(t.guards.map((function(r){var s,a=Ty(r,t.node,n);if(function(e){return e&&py(e.canActivateChild)}(a))s=ym(a.canActivateChild(i,e));else{if(!py(a))throw new Error("Invalid CanActivateChild guard");s=ym(a(i,e))}return s.pipe(wg())}))).pipe(Dy())}))}));return qv(r).pipe(Dy())}var Ny=function e(){_classCallCheck(this,e)},My=function(){function e(t,n,i,r,s,a){_classCallCheck(this,e),this.rootComponentType=t,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=a}return _createClass(e,[{key:"recognize",value:function(){try{var e=jy(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Zm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Um(n,t),r=new Ym(this.url,i);return this.inheritParamsAndData(r._root),qv(r)}catch(s){return new D((function(e){return e.error(s)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,i=$m(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,i=this,r=Sm(t,(function(t,n){return i.processSegmentGroup(e,t,n)}));return n={},r.forEach((function(e){var t=n[e.value.outlet];if(t){var i=t.url.map((function(e){return e.toString()})).join("/"),r=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(i,"' and '").concat(r,"'."))}n[e.value.outlet]=e.value})),r.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),r}},{key:"processSegment",value:function(e,t,n,i){var r,s=_createForOfIteratorHelper(e);try{for(s.s();!(r=s.n()).done;){var a=r.value;try{return this.processSegmentAgainstRoute(a,t,n,i)}catch(o){if(!(o instanceof Ny))throw o}}}catch(l){s.e(l)}finally{s.f()}if(this.noLeftoversInUrl(t,n,i))return[];throw new Ny}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,i){if(e.redirectTo)throw new Ny;if((e.outlet||"primary")!==i)throw new Ny;var r,s=[],a=[];if("**"===e.path){var o=n.length>0?gm(n).parameters:{};r=new Zm(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Uy(e),i,e.component,e,Vy(t),Hy(t)+n.length,Gy(e))}else{var l=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Ny;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(t.matcher||om)(n,e,t);if(!i)throw new Ny;var r={};mm(i.posParams,(function(e,t){r[t]=e.path}));var s=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s}}(t,e,n);s=l.consumedSegments,a=n.slice(l.lastChild),r=new Zm(s,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Uy(e),i,e.component,e,Vy(t),Hy(t)+s.length,Gy(e))}var u=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),c=jy(t,s,a,u,this.relativeLinkResolution),h=c.segmentGroup,f=c.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(u,h);return[new Um(r,d)]}if(0===u.length&&0===f.length)return[new Um(r,[])];var p=this.processSegment(u,h,f,"primary");return[new Um(r,p)]}}]),e}();function Vy(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function Hy(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function jy(e,t,n,i,r){if(n.length>0&&function(e,t,n){return n.some((function(n){return By(e,t,n)&&"primary"!==zy(n)}))}(e,n,i)){var s=new Cm(t,function(e,t,n,i){var r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;var s,a=_createForOfIteratorHelper(n);try{for(a.s();!(s=a.n()).done;){var o=s.value;if(""===o.path&&"primary"!==zy(o)){var l=new Cm([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,r[zy(o)]=l}}}catch(u){a.e(u)}finally{a.f()}return r}(e,t,i,new Cm(n,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return By(e,t,n)}))}(e,n,i)){var a=new Cm(e.segments,function(e,t,n,i,r,s){var a,o={},l=_createForOfIteratorHelper(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(By(e,n,u)&&!r[zy(u)]){var c=new Cm([],{});c._sourceSegment=e,c._segmentIndexShift="legacy"===s?e.segments.length:t.length,o[zy(u)]=c}}}catch(h){l.e(h)}finally{l.f()}return Object.assign(Object.assign({},r),o)}(e,t,n,i,e.children,r));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:n}}var o=new Cm(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function By(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function zy(e){return e.outlet||"primary"}function Uy(e){return e.data||{}}function Gy(e){return e.resolve||{}}function qy(e,t,n,i){var r=Ty(e,t,i);return ym(r.resolve?r.resolve(t,n):r(t,n))}function Ky(e){return function(t){return t.pipe(xg((function(t){var n=e(t);return n?J(n).pipe($((function(){return t}))):J([t])})))}}var Wy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),$y=new Ye("ROUTES"),Zy=function(){function e(t,n,i,r){_classCallCheck(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return _createClass(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe($((function(i){n.onLoadEndListener&&n.onLoadEndListener(t);var r=i.create(e);return new lm(vm(r.injector.get($y)).map(fm),r)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?J(this.loader.load(e)):ym(e()).pipe(X((function(e){return e instanceof ct?qv(e):J(t.compiler.compileModuleAsync(e))})))}}]),e}(),Yy=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Qy(e){throw e}function Jy(e,t,n){return t.parse("/")}function Xy(e,t){return qv(null)}var ek,tk,nk,ik=((nk=function(){function e(t,n,i,r,s,a,o,l){var u=this;_classCallCheck(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=i,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new M,this.errorHandler=Qy,this.malformedUriErrorHandler=Jy,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xy,afterPreactivation:Xy},this.urlHandlingStrategy=new Yy,this.routeReuseStrategy=new Wy,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(ut),this.console=s.get(nc);var c=s.get(gc);this.isNgZoneEnabled=c instanceof gc,this.resetConfig(l),this.currentUrlTree=new bm(new Cm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zy(a,o,(function(e){return u.triggerEvent(new Yg(e))}),(function(e){return u.triggerEvent(new Qg(e))})),this.routerState=Km(this.currentUrlTree,this.rootComponentType),this.transitions=new Hv({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(tg((function(e){return 0!==e.id})),$((function(e){return Object.assign(Object.assign({},e),{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),xg((function(e){var i,r,s,a,o=!1,l=!1;return qv(e).pipe(Pg((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign(Object.assign({},t.lastSuccessfulNavigation),{previousNavigation:null}):null}})),xg((function(e){var i,r,s,a,o=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||o)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return qv(e).pipe(xg((function(e){var i=t.transitions.getValue();return n.next(new Bg(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==t.transitions.getValue()?Qv:[e]})),xg((function(e){return Promise.resolve(e)})),(i=t.ngModule.injector,r=t.configLoader,s=t.urlSerializer,a=t.config,function(e){return e.pipe(xg((function(e){return function(e,t,n,i,r){return new Cy(e,t,n,i,r).apply()}(i,r,s,e.extractedUrl,a).pipe($((function(t){return Object.assign(Object.assign({},e),{urlAfterRedirects:t})})))})))}),Pg((function(e){t.currentNavigation=Object.assign(Object.assign({},t.currentNavigation),{finalUrl:e.urlAfterRedirects})})),function(e,n,i,r,s){return function(i){return i.pipe(X((function(i){return function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new My(e,t,n,i,r,s).recognize()}(e,n,i.urlAfterRedirects,(a=i.urlAfterRedirects,t.serializeUrl(a)),r,s).pipe($((function(e){return Object.assign(Object.assign({},i),{targetSnapshot:e})})));var a})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Pg((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Pg((function(e){var i=new qg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(i)})));if(o&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.id,u=e.extractedUrl,c=e.source,h=e.restoredState,f=e.extras,d=new Bg(l,t.serializeUrl(u),c,h);n.next(d);var p=Km(u,t.rootComponentType).snapshot;return qv(Object.assign(Object.assign({},e),{targetSnapshot:p,urlAfterRedirects:u,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Qv})),Ky((function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,s=e.rawUrl,a=e.extras,o=a.skipLocationChange,l=a.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!o,replaceUrl:!!l})})),Pg((function(e){var n=new Kg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),$((function(e){return Object.assign(Object.assign({},e),{guards:(n=e.targetSnapshot,i=e.currentSnapshot,r=t.rootContexts,s=n._root,function e(t,n,i,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Gm(n);return t.children.forEach((function(t){!function(t,n,i,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=n?n.value:null,l=i?i.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var u=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!_m(e.url,t.url);case"pathParamsOrQueryParamsChange":return!_m(e.url,t.url)||!dm(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ey(e,t)||!dm(e.queryParams,t.queryParams);case"paramsChange":default:return!ey(e,t)}}(o,a,a.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new Ey(r)):(a.data=o.data,a._resolvedData=o._resolvedData),e(t,n,a.component?l?l.children:null:i,r,s),u&&s.canDeactivateChecks.push(new Iy(l&&l.outlet&&l.outlet.component||null,o))}else o&&Fy(n,l,s),s.canActivateChecks.push(new Ey(r)),e(t,null,a.component?l?l.children:null:i,r,s)}(t,a[t.value.outlet],i,r.concat([t.value]),s),delete a[t.value.outlet]})),mm(a,(function(e,t){return Fy(e,i.getContext(t),s)})),s}(s,i?i._root:null,r,[s.value]))});var n,i,r,s})),function(e,t){return function(n){return n.pipe(X((function(n){var i=n.targetSnapshot,r=n.currentSnapshot,s=n.guards,a=s.canActivateChecks,o=s.canDeactivateChecks;return 0===o.length&&0===a.length?qv(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return J(e).pipe(X((function(e){return function(e,t,n,i,r){var s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?qv(s.map((function(s){var a,o=Ty(s,t,r);if(function(e){return e&&py(e.canDeactivate)}(o))a=ym(o.canDeactivate(e,t,n,i));else{if(!py(o))throw new Error("Invalid CanDeactivate guard");a=ym(o(e,t,n,i))}return a.pipe(wg())}))).pipe(Dy()):qv(!0)}(e.component,e.route,n,t,i)})),wg((function(e){return!0!==e}),!0))}(o,i,r,e).pipe(X((function(n){return n&&"boolean"==typeof n?function(e,t,n,i){return J(t).pipe(Og((function(t){return J([Ry(t.route.parent,i),Oy(t.route,i),Ly(e,t.path,n),Py(e,t.route,n)]).pipe(eg(),wg((function(e){return!0!==e}),!0))})),wg((function(e){return!0!==e}),!0))}(i,a,e,t):qv(n)})),$((function(e){return Object.assign(Object.assign({},n),{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Pg((function(e){if(vy(e.guardsResult)){var n=am('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Pg((function(e){var n=new Wg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),tg((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var i=new Ug(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(i),e.resolve(!1),!1}return!0})),Ky((function(e){if(e.guards.canActivateChecks.length)return qv(e).pipe(Pg((function(e){var n=new $g(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,i=t.ngModule.injector,function(e){return e.pipe(X((function(e){var t=e.targetSnapshot,r=e.guards.canActivateChecks;return r.length?J(r).pipe(Og((function(e){return function(e,t,n,i){return function(e,t,n,i){var r=Object.keys(e);if(0===r.length)return qv({});if(1===r.length){var s=r[0];return qy(e[s],t,n,i).pipe($((function(e){return _defineProperty({},s,e)})))}var a={};return J(r).pipe(X((function(r){return qy(e[r],t,n,i).pipe($((function(e){return a[r]=e,e})))}))).pipe(vg(),$((function(){return a})))}(e._resolve,e,t,i).pipe($((function(t){return e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),$m(e,n).resolve),null})))}(e.route,t,n,i)})),function(e,t){return arguments.length>=2?function(n){return T(Fg(e,t),sg(1),fg(t))(n)}:function(t){return T(Fg((function(t,n,i){return e(t,n,i+1)})),sg(1))(t)}}((function(e,t){return e})),$((function(t){return e}))):qv(e)})))}),Pg((function(e){var n=new Zg(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,i})),Ky((function(e){var n=e.targetSnapshot,i=e.id,r=e.extractedUrl,s=e.rawUrl,a=e.extras,o=a.skipLocationChange,l=a.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:s,skipLocationChange:!!o,replaceUrl:!!l})})),$((function(e){var n=function(e,t,n){var i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){var r=i.value;r._futureSnapshot=n.value;var s=function(t,n,i){return n.children.map((function(n){var r,s=_createForOfIteratorHelper(i.children);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(t.shouldReuseRoute(a.value.snapshot,n.value))return e(t,n,a)}}catch(o){s.e(o)}finally{s.f()}return e(t,n)}))}(t,n,i);return new Um(r,s)}var a=t.retrieve(n.value);if(a){var o=a.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,o),o}var l,u=new Wm(new Hv((l=n.value).url),new Hv(l.params),new Hv(l.queryParams),new Hv(l.fragment),new Hv(l.data),l.outlet,l.component,l),c=n.children.map((function(n){return e(t,n)}));return new Um(u,c)}(e,t._root,n?n._root:void 0);return new qm(i,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:n})})),Pg((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(r=t.rootContexts,s=t.routeReuseStrategy,a=function(e){return t.triggerEvent(e)},$((function(e){return new fy(s,e.targetRouterState,e.currentRouterState,a).activate(r),e}))),Pg({next:function(){o=!0},complete:function(){o=!0}}),(i=function(){if(!o&&!l){t.resetUrlToCurrentUrlTree();var i=new Ug(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(i),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new Vg(i))}),gg((function(i){if(l=!0,(o=i)&&o.ngNavigationCancelingError){var r=vy(i.url);r||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var s=new Ug(e.id,t.serializeUrl(e.extractedUrl),i.message);n.next(s),r?setTimeout((function(){var n=t.urlHandlingStrategy.merge(i.url,t.rawUrlTree);return t.scheduleNavigation(n,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})}),0):e.resolve(!1)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var a=new Gg(e.id,t.serializeUrl(e.extractedUrl),i);n.next(a);try{e.resolve(t.errorHandler(i))}catch(u){e.reject(u)}}var o;return Qv})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),i="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,i,r,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){um(e),this.config=e.map(fm),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,i=t.queryParams,r=t.fragment,s=t.preserveQueryParams,a=t.queryParamsHandling,o=t.preserveFragment;Ri()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,u=o?this.currentUrlTree.fragment:r,c=null;if(a)switch(a){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=i||null}else c=s?this.currentUrlTree.queryParams:i||null;return null!==c&&(c=this.removeEmptyProps(c)),function(e,t,n,i,r){if(0===n.length)return ny(t.root,t.root,t,i,r);var s=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new iy(!0,0,e);var t=0,n=!1,i=e.reduce((function(e,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var s={};return mm(i.outlets,(function(e,t){s[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:s}])}if(i.segmentPath)return[].concat(_toConsumableArray(e),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(e),[i]):0===r?(i.split("/").forEach((function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))})),e):[].concat(_toConsumableArray(e),[i])}),[]);return new iy(n,t,i)}(n);if(s.toRoot())return ny(t.root,new Cm([],{}),t,i,r);var a=function(e,t,n){if(e.isAbsolute)return new ry(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new ry(n.snapshot._urlSegment,!0,0);var i=ty(e.commands[0])?0:1;return function(e,t,n){for(var i=e,r=t,s=n;s>r;){if(s-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new ry(i,!1,r-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(s,t,e),o=a.processChildren?oy(a.segmentGroup,a.index,s.commands):ay(a.segmentGroup,a.index,s.commands);return ny(a.segmentGroup,o,t,i,r)}(l,this.currentUrlTree,e,c,u)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Ri()&&this.isNgZoneEnabled&&!gc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=vy(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(vy(e))return km(this.currentUrlTree,e,t);var n=this.parseUrl(e);return km(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var i=e[n];return null!=i&&(t[n]=i),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new zg(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,i,r){var s,a,o,l=this.getTransition();if(l&&"imperative"!==t&&"imperative"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"hashchange"==t&&"popstate"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(l&&"popstate"==t&&"hashchange"===l.source&&l.rawUrl.toString()===e.toString())return Promise.resolve(!0);r?(s=r.resolve,a=r.reject,o=r.promise):o=new Promise((function(e,t){s=e,a=t}));var u=++this.navigationId;return this.setTransition({id:u,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:s,reject:a,promise:o,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),o.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,i){var r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),e}()).\u0275fac=function(e){qa()},nk.\u0275dir=At({type:nk}),nk),rk=((tk=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.router=t,this.route=n,this.commands=[],null==i&&r.setAttribute(s.nativeElement,"tabindex","0")}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Ri()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"onClick",value:function(){var e={skipLocationChange:ak(this.skipLocationChange),replaceUrl:ak(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ak(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ak(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||tk)(Ua(ik),Ua(Wm),Ga("tabindex"),Ua(ul),Ua(sl))},tk.\u0275dir=At({type:tk,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&io("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),tk),sk=((ek=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.router=t,this.route=n,this.locationStrategy=i,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof zg&&r.updateTargetUrlAndHref()}))}return _createClass(e,[{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){Ri()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,i){if(0!==e||t||n||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var r={skipLocationChange:ak(this.skipLocationChange),replaceUrl:ak(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,r),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:ak(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:ak(this.preserveFragment)})}}]),e}()).\u0275fac=function(e){return new(e||ek)(Ua(ik),Ua(Wm),Ua(oh))},ek.\u0275dir=At({type:ek,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&io("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(Mo("href",t.href,ar),Ha("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[qo]}),ek);function ak(e){return""===e||!!e}var ok,lk,uk,ck,hk=((ok=function(){function e(t,n,i,r,s){var a=this;_classCallCheck(this,e),this.router=t,this.element=n,this.renderer=i,this.link=r,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(e){e instanceof zg&&a.update()}))}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.links.changes.subscribe((function(t){return e.update()})),this.linksWithHrefs.changes.subscribe((function(t){return e.update()})),this.update()}},{key:"routerLinkActive",set:function(e){var t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter((function(e){return!!e}))}},{key:"ngOnChanges",value:function(e){this.update()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"update",value:function(){var e=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var t=e.hasActiveLinks();e.isActive!==t&&(e.isActive=t,e.classes.forEach((function(n){t?e.renderer.addClass(e.element.nativeElement,n):e.renderer.removeClass(e.element.nativeElement,n)})))}))}},{key:"isLinkActive",value:function(e){var t=this;return function(n){return e.isActive(n.urlTree,t.routerLinkActiveOptions.exact)}}},{key:"hasActiveLinks",value:function(){var e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}]),e}()).\u0275fac=function(e){return new(e||ok)(Ua(ik),Ua(sl),Ua(ul),Ua(rk,8),Ua(sk,8))},ok.\u0275dir=At({type:ok,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,n){var i;1&e&&(ju(n,rk,!0),ju(n,sk,!0)),2&e&&(Nu(i=Uu())&&(t.links=i),Nu(i=Uu())&&(t.linksWithHrefs=i))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[qo]}),ok),fk=function e(){_classCallCheck(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new dk,this.attachRef=null},dk=function(){function e(){_classCallCheck(this,e),this.contexts=new Map}return _createClass(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new fk,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),pk=((lk=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.parentContexts=t,this.location=n,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new xu,this.deactivateEvents=new xu,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new vk(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),e}()).\u0275fac=function(e){return new(e||lk)(Ua(dk),Ua(Al),Ua(rl),Ga("name"),Ua(sa))},lk.\u0275dir=At({type:lk,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),lk),vk=function(){function e(t,n,i){_classCallCheck(this,e),this.route=t,this.childContexts=n,this.parent=i}return _createClass(e,[{key:"get",value:function(e,t){return e===Wm?this.route:e===dk?this.childContexts:this.parent.get(e,t)}}]),e}(),gk=function e(){_classCallCheck(this,e)},mk=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return qv(null)}}]),e}(),yk=((ck=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new Zy(n,i,(function(e){return t.triggerEvent(new Yg(e))}),(function(e){return t.triggerEvent(new Qg(e))}))}return _createClass(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(tg((function(e){return e instanceof zg})),Og((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(ut);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,i=[],r=_createForOfIteratorHelper(t);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s.loadChildren&&!s.canLoad&&s._loadedConfig){var a=s._loadedConfig;i.push(this.processRoutes(a.module,a.routes))}else s.loadChildren&&!s.canLoad?i.push(this.preloadConfig(e,s)):s.children&&i.push(this.processRoutes(e,s.children))}}catch(o){r.e(o)}finally{r.f()}return J(i).pipe(ne(),$((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(X((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}()).\u0275fac=function(e){return new(e||ck)(st(ik),st(Vc),st(fc),st(Ca),st(gk))},ck.\u0275prov=Ce({token:ck,factory:ck.\u0275fac}),ck),kk=((uk=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.router=t,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Bg?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zg&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof nm&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new nm(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){qa()},uk.\u0275dir=At({type:uk}),uk),bk=new Ye("ROUTER_CONFIGURATION"),Ck=new Ye("ROUTER_FORROOT_GUARD"),wk=[vh,{provide:xm,useClass:Em},{provide:ik,useFactory:function(e,t,n,i,r,s,a){var o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,c=new ik(null,e,t,n,i,r,s,vm(a));if(l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),o.errorHandler&&(c.errorHandler=o.errorHandler),o.malformedUriErrorHandler&&(c.malformedUriErrorHandler=o.malformedUriErrorHandler),o.enableTracing){var h=Wc();c.events.subscribe((function(e){h.logGroup("Router Event: "+e.constructor.name),h.log(e.toString()),h.log(e),h.logGroupEnd()}))}return o.onSameUrlNavigation&&(c.onSameUrlNavigation=o.onSameUrlNavigation),o.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=o.paramsInheritanceStrategy),o.urlUpdateStrategy&&(c.urlUpdateStrategy=o.urlUpdateStrategy),o.relativeLinkResolution&&(c.relativeLinkResolution=o.relativeLinkResolution),c},deps:[xm,dk,vh,Ca,Vc,fc,$y,bk,[function(){return function e(){_classCallCheck(this,e)}}(),new ve],[function(){return function e(){_classCallCheck(this,e)}}(),new ve]]},dk,{provide:Wm,useFactory:function(e){return e.routerState.root},deps:[ik]},{provide:Vc,useClass:Bc},yk,mk,function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"preload",value:function(e,t){return t().pipe(gg((function(){return qv(null)})))}}]),e}(),{provide:bk,useValue:{enableTracing:!1}}];function _k(){return new Ac("Router",ik)}var Sk,xk=((Sk=function(){function e(t,n){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[wk,Fk(t),{provide:Ck,useFactory:Tk,deps:[[ik,new ve,new me]]},{provide:bk,useValue:n||{}},{provide:oh,useFactory:Ik,deps:[Yc,[new pe(fh),new ve],bk]},{provide:kk,useFactory:Ek,deps:[ik,If,bk]},{provide:gk,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:mk},{provide:Ac,multi:!0,useFactory:_k},[Dk,{provide:$u,multi:!0,useFactory:Ok,deps:[Dk]},{provide:Pk,useFactory:Rk,deps:[Dk]},{provide:tc,multi:!0,useExisting:Pk}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[Fk(t)]}}}]),e}()).\u0275mod=Tt({type:Sk}),Sk.\u0275inj=we({factory:function(e){return new(e||Sk)(st(Ck,8),st(ik,8))}}),Sk);function Ek(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new kk(e,t,n)}function Ik(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new ph(e,t):new dh(e,t)}function Tk(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Fk(e){return[{provide:wa,multi:!0,useValue:e},{provide:$y,multi:!0,useValue:e}]}var Ak,Dk=((Ak=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new M}return _createClass(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(Xc,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),i=e.injector.get(ik),r=e.injector.get(bk);if(e.isLegacyDisabled(r)||e.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)i.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(r.initialNavigation,"'"));i.hooks.afterPreactivation=function(){return e.initNavigation?qv(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},i.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(bk),n=this.injector.get(yk),i=this.injector.get(kk),r=this.injector.get(ik),s=this.injector.get(Nc);e===s.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}()).\u0275fac=function(e){return new(e||Ak)(st(Ca))},Ak.\u0275prov=Ce({token:Ak,factory:Ak.\u0275fac}),Ak);function Ok(e){return e.appInitializer.bind(e)}function Rk(e){return e.bootstrapListener.bind(e)}var Pk=new Ye("Router Initializer");function Lk(e,t){1&e&&($a(0,"a",6),Ya(1,"i",7),$a(2,"span",8),Oo(3,"Samples"),Za(),Za())}var Nk,Mk,Vk=function(e){return{"ar-aside--expanded":e}},Hk=((Nk=function(){function e(){_classCallCheck(this,e),this.isAsideExpanded=!1,this.logged=!1,this.isVisible=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.isVisible=!0}},{key:"toggleAside",value:function(){this.isAsideExpanded=!this.isAsideExpanded}}]),e}()).\u0275fac=function(e){return new(e||Nk)},Nk.\u0275cmp=St({type:Nk,selectors:[["app-aside"]],decls:10,vars:4,consts:[[1,"ar-aside",3,"ngClass"],[1,"ar-aside__list"],[1,"ar-aside__list-item","ar-aside__list-item--toggler",3,"click"],[1,"ar-aside__list-item-icn","fas","fa-bars"],["routerLink","/home","routerLinkActive","active","class","ar-aside__list-item",4,"ngIf"],[1,"ar-aside__copyright"],["routerLink","/home","routerLinkActive","active",1,"ar-aside__list-item"],[1,"ar-aside__list-item-icn","fas","fa-dice-d6"],[1,"ar-aside__list-item-txt"]],template:function(e,t){1&e&&($a(0,"div",0),$a(1,"ul",1),$a(2,"li"),$a(3,"a",2),io("click",(function(){return t.toggleAside()})),Ya(4,"i",3),Za(),Za(),$a(5,"li"),Ba(6,Lk,4,0,"a",4),Za(),Ya(7,"li"),Za(),$a(8,"p",5),Oo(9," \xa9 Shell 2020 "),Za(),Za()),2&e&&(Ka("ngClass",hu(2,Vk,t.isAsideExpanded)),Ir(6),Ka("ngIf",t.isVisible))},directives:[Xh,rf,sk,hk],styles:[""]}),Nk),jk=function(e){return e.Success="Success",e.Error="Error",e.Info="Information",e.Warning="Warning",e}({}),Bk=((Mk=function(){function e(){_classCallCheck(this,e),this.subject=new M}return _createClass(e,[{key:"getAlert",value:function(){return this.subject.asObservable()}},{key:"success",value:function(e){this.alert(jk.Success,e)}},{key:"error",value:function(e){this.alert(jk.Error,e)}},{key:"info",value:function(e){this.alert(jk.Info,e)}},{key:"warn",value:function(e){this.alert(jk.Warning,e)}},{key:"alert",value:function(e,t){this.subject.next({type:e,message:t})}},{key:"clear",value:function(){this.subject.next()}}]),e}()).\u0275fac=function(e){return new(e||Mk)},Mk.\u0275prov=Ce({token:Mk,factory:Mk.\u0275fac}),Mk);function zk(e,t){if(1&e){var n=eo();$a(0,"section",1),$a(1,"span",2),io("click",(function(){un(n);var e=t.$implicit;return ao().removeAlert(e)})),Za(),$a(2,"span",3),Ya(3,"span",4),Za(),$a(4,"div",5),$a(5,"h1",6),Oo(6),Za(),$a(7,"p",7),Oo(8),Za(),Za(),Za()}if(2&e){var i=t.$implicit,r=ao();Ka("ngClass",r.alertType(i)),Ir(3),Ka("ngClass",r.alertIcon(i)),Ir(3),Ro(i.type),Ir(2),Ro(i.message)}}var Uk,Gk,qk=((Gk=function(){function e(t){_classCallCheck(this,e),this.toastService=t,this.alerts=[],this.subscribeForAlerts()}return _createClass(e,[{key:"subscribeForAlerts",value:function(){var e=this;this.alertSubsription=this.toastService.getAlert().subscribe((function(t){e.alerts.push(t),setTimeout((function(){e.removeAlert(t)}),3e3)}))}},{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){this.alertSubsription.unsubscribe()}},{key:"removeAlert",value:function(e){this.alerts=this.alerts.filter((function(t){return t!==e}))}},{key:"alertType",value:function(e){if(e)switch(e.type){case jk.Success:return"ar-toast--success";case jk.Error:return"ar-toast--error";case jk.Info:return"ar-toast--info";case jk.Warning:return"ar-toast--warning"}}},{key:"alertIcon",value:function(e){if(e)switch(e.type){case jk.Success:return"fas fa-check";case jk.Error:return"far fa-times-circle";case jk.Info:case jk.Warning:return"fas fa-exclamation-circle"}}}]),e}()).\u0275fac=function(e){return new(e||Gk)(Ua(Bk))},Gk.\u0275cmp=St({type:Gk,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","ar-toast ar-toast--active","style","z-index: 1000;",3,"ngClass",4,"ngFor","ngForOf"],[1,"ar-toast","ar-toast--active",2,"z-index","1000",3,"ngClass"],[1,"ar-toast__close","fas","fa-times",3,"click"],[1,"ar-toast__icn"],[3,"ngClass"],["role","alert",1,"ar-toast__content"],[1,"ar-toast__title"],[1,"ar-toast__desc"]],template:function(e,t){1&e&&Ba(0,zk,9,4,"section",0),2&e&&Ka("ngForOf",t.alerts)},directives:[tf,Xh],styles:[""]}),Gk),Kk=((Uk=function e(){_classCallCheck(this,e),this.title="Artemis"}).\u0275fac=function(e){return new(e||Uk)},Uk.\u0275cmp=St({type:Uk,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"ar-main"],[1,"ar-body"],[1,"ar-body__content"]],template:function(e,t){1&e&&($a(0,"main",0),Ya(1,"app-header"),$a(2,"section",1),Ya(3,"app-aside"),$a(4,"section",2),Ya(5,"router-outlet"),Ya(6,"app-toast"),Za(),Za(),Za())},directives:[Gv,Hk,pk,qk],styles:[""]}),Uk),Wk=function(e,t){return function(n){return t(e(n))}},$k=function(e,t,n){return e.addEventListener&&e.addEventListener(t,n)},Zk=function(e,t,n){return e&&e.removeEventListener&&e.removeEventListener(t,n)},Yk=function(){},Qk=function(e){return e.preventDefault()},Jk=/touch/;function Xk(e){return e.type.match(Jk)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var eb,tb=((eb=function(){function e(t){var n=this,i=t.press,r=void 0===i?Yk:i,s=t.drag,a=void 0===s?Yk:s,o=t.release,l=void 0===o?Yk:o,u=t.mouseOnly,c=void 0!==u&&u;_classCallCheck(this,e),this._pressHandler=Wk(Xk,r),this._dragHandler=Wk(Xk,a),this._releaseHandler=Wk(Xk,l),this._ignoreMouse=!1,this._mouseOnly=c,this._touchstart=function(e){1===e.touches.length&&n._pressHandler(e)},this._touchmove=function(e){1===e.touches.length&&n._dragHandler(e)},this._touchend=function(e){0===e.touches.length&&1===e.changedTouches.length&&(n._releaseHandler(e),n._ignoreMouse=!0,setTimeout(n._restoreMouse,2e3))},this._restoreMouse=function(){n._ignoreMouse=!1},this._mousedown=function(e){var t=e.which;t&&t>1||n._ignoreMouse||($k(n.document,"mousemove",n._mousemove),$k(n.document,"mouseup",n._mouseup),n._pressHandler(e))},this._mousemove=function(e){n._dragHandler(e)},this._mouseup=function(e){Zk(n.document,"mousemove",n._mousemove),Zk(n.document,"mouseup",n._mouseup),n._releaseHandler(e)},this._pointerdown=function(e){e.isPrimary&&0===e.button&&($k(n.document,"pointermove",n._pointermove),$k(n.document,"pointerup",n._pointerup),$k(n.document,"pointercancel",n._pointerup),$k(n.document,"contextmenu",Qk),n._pressHandler(e))},this._pointermove=function(e){e.isPrimary&&n._dragHandler(e)},this._pointerup=function(e){e.isPrimary&&(Zk(n.document,"pointermove",n._pointermove),Zk(n.document,"pointerup",n._pointerup),Zk(n.document,"pointercancel",n._pointerup),Zk(n.document,"contextmenu",Qk),n._releaseHandler(e))}}return _createClass(e,[{key:"document",get:function(){return this._element?this._element.ownerDocument:document}},{key:"bindTo",value:function(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}},{key:"_bindToCurrent",value:function(){var e=this._element;this._usePointers()?$k(e,"pointerdown",this._pointerdown):($k(e,"mousedown",this._mousedown),this._mouseOnly||($k(e,"touchstart",this._touchstart),$k(e,"touchmove",this._touchmove),$k(e,"touchend",this._touchend)))}},{key:"_unbindFromCurrent",value:function(){var e=this._element;if(this._usePointers())return Zk(e,"pointerdown",this._pointerdown),Zk(this.document,"pointermove",this._pointermove),Zk(this.document,"pointerup",this._pointerup),Zk(this.document,"contextmenu",Qk),void Zk(this.document,"pointercancel",this._pointerup);Zk(e,"mousedown",this._mousedown),this._mouseOnly||(Zk(e,"touchstart",this._touchstart),Zk(e,"touchmove",this._touchmove),Zk(e,"touchend",this._touchend))}},{key:"_usePointers",value:function(){return!this._mouseOnly&&e.supportPointerEvent()}},{key:"update",value:function(e){var t=e.press,n=void 0===t?Yk:t,i=e.drag,r=void 0===i?Yk:i,s=e.release,a=void 0===s?Yk:s,o=e.mouseOnly,l=void 0!==o&&o;this._pressHandler=Wk(Xk,n),this._dragHandler=Wk(Xk,r),this._releaseHandler=Wk(Xk,a),this._mouseOnly=l}},{key:"destroy",value:function(){this._unbindFromCurrent(),this._element=null}}],[{key:"supportPointerEvent",value:function(){return"undefined"!=typeof window&&window.PointerEvent}}]),e}()).default=eb,eb),nb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this)}return _createClass(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(C)),ib=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck(this,e),this.SchedulerAction=t,this.now=n}return _createClass(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),rb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ib.now;return _classCallCheck(this,n),(i=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():r()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t,i)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(ib),sb=new rb(nb),ab=function(){function e(t){_classCallCheck(this,e),this.durationSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new ob(e,this.durationSelector))}}]),e}(),ob=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).durationSelector=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t;try{t=(0,this.durationSelector)(e)}catch(i){return this.destination.error(i)}var n=K(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}},{key:"notifyNext",value:function(e,t,n,i){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(W);function lb(e){return!m(e)&&e-parseFloat(e)+1>=0}function ub(e){var t=e.index,n=e.period,i=e.subscriber;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function cb(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sb;return t=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return lb(t)?i=Number(t)<1?1:Number(t):H(t)&&(n=t),H(n)||(n=sb),new D((function(t){var r=lb(e)?e:+e-n.now();return n.schedule(ub,r,{index:0,period:i,subscriber:t})}))}(e,n)},function(e){return e.lift(new ab(t))}}function hb(e,t,n,i){return f(n)&&(i=n,n=void 0),i?hb(e,t,n).pipe($((function(e){return m(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new D((function(i){!function e(t,n,i,r,s){var a;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var o=t;t.addEventListener(n,i,s),a=function(){return o.removeEventListener(n,i,s)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,i),a=function(){return l.off(n,i)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var u=t;t.addListener(n,i),a=function(){return u.removeListener(n,i)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,h=t.length;c<h;c++)e(t[c],n,i,r,s)}r.add(a)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)}))}var fb,db,pb,vb,gb,mb,yb,kb=function(){return"undefined"!=typeof document},bb=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue)},Cb=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.some((function(e){return bb(e,t,n)}))},wb=function(e){return e&&e.observers.length>0},_b=function(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e},Sb=((vb=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.enableDrag=!0,this.kendoPress=new xu,this.kendoDrag=new xu,this.kendoRelease=new xu}return _createClass(e,[{key:"ngOnInit",value:function(){this.toggleDraggable()}},{key:"ngOnChanges",value:function(e){bb("enableDrag",e)&&this.toggleDraggable()}},{key:"ngOnDestroy",value:function(){this.destroyDraggable()}},{key:"toggleDraggable",value:function(){var e=this;kb()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new tb({drag:function(t){return e.kendoDrag.next(t)},press:function(t){return e.kendoPress.next(t)},release:function(t){return e.kendoRelease.next(t)}}),this.ngZone.runOutsideAngular((function(){return e.draggable.bindTo(e.element.nativeElement)}))))}},{key:"destroyDraggable",value:function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}]),e}()).\u0275fac=function(e){return new(e||vb)(Ua(sl),Ua(gc))},vb.\u0275dir=At({type:vb,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[qo]}),vb),xb=((pb=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:pb}),pb.\u0275inj=we({factory:function(e){return new(e||pb)},imports:[[Ef]]}),pb),Eb=((db=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.renderer=i,this.events={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.element&&this.element.nativeElement){var t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular((function(){for(var n in t)t.hasOwnProperty(n)&&e.subscriptions.push(e.renderer.listen(e.element.nativeElement,n,e.scope?t[n].bind(e.scope):t[n]))}))}}},{key:"ngOnDestroy",value:function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}]),e}()).\u0275fac=function(e){return new(e||db)(Ua(sl),Ua(gc),Ua(ul))},db.\u0275dir=At({type:db,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),db),Ib=((fb=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:fb}),fb.\u0275inj=we({factory:function(e){return new(e||fb)}}),fb),Tb=function(){function e(t){_classCallCheck(this,e),this.resizeBatchService=t,this.resize=new xu,this.acceptedSize=!1,this.state=0}return _createClass(e,[{key:"acceptSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.measure();this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}},{key:"checkChanges",value:function(){kb()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}},{key:"destroy",value:function(){this.resizeBatchService.cancel(this)}},{key:"checkSize",value:function(){if(this.parentElement){var e=this.measure(),t=e.width,n=e.height;return t===this.lastWidth&&n===this.lastHeight?void 0:(this.lastWidth=t,this.lastHeight=n,this.acceptedSize=!1,this.resize.emit(),!0)}}},{key:"initSize",value:function(){var e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}},{key:"measure",value:function(){var e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}]),e}(),Fb=function(e){var t=document.createElement("div");return t.style.cssText=e,t},Ab="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",Db=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).element=i,s.ngZone=r,s}return _createClass(n,[{key:"checkChanges",value:function(){2!==this.state?_get(_getPrototypeOf(n.prototype),"checkChanges",this).call(this):this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}},{key:"destroy",value:function(){if(_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.subscription&&this.subscription.unsubscribe(),this.expand){var e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}},{key:"checkSize",value:function(){if(_get(_getPrototypeOf(n.prototype),"checkSize",this).call(this))return this.reset(),!0}},{key:"init",value:function(){var e=this.parentElement=this.element.nativeElement.parentElement;"static"===getComputedStyle(e,null).getPropertyValue("position")&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}},{key:"render",value:function(){var e=this.element.nativeElement;e.style.cssText=Ab,e.setAttribute("dir","ltr"),this.expand=Fb(Ab),this.expandChild=Fb("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=Fb(Ab);var t=Fb("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}},{key:"reset",value:function(){var e=this.expandChild;e.style.width="100000px",e.style.height="100000px";var t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;var n=this.shrink;n.scrollLeft=1e5,n.scrollTop=1e5}},{key:"subscribe",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.subscription=re(hb(e.shrink,"scroll"),hb(e.expand,"scroll")).subscribe((function(){e.checkSize()}))}))}}]),n}(Tb),Ob="undefined"!=typeof ResizeObserver,Rb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).element=i,s.ngZone=r,s}return _createClass(n,[{key:"destroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}},{key:"init",value:function(){var e=this;this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular((function(){e.resizeObserver=new ResizeObserver((function(){e.checkSize()})),e.resizeObserver.observe(e.parentElement)}))}}],[{key:"supported",value:function(){return Ob}}]),n}(Tb),Pb=((yb=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}return _createClass(e,[{key:"schedule",value:function(e,t){var n=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular((function(){n.subscription=J(n.resolvedPromise).subscribe(n.flush)}))}},{key:"isScheduled",value:function(e){return Boolean(this.scheduled.find((function(t){return t.instance===e})))}},{key:"cancel",value:function(e){for(var t=this.scheduled,n=t.length,i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"flush",value:function(){this.scheduled.forEach((function(e){e.method.call(e.instance)})),this.scheduled=[],this.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||yb)(st(gc))},yb.\u0275prov=Ce({token:yb,factory:yb.\u0275fac}),yb),Lb=((mb=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.rateLimit=10,this.resize=new xu;var s=Rb.supported()?Rb:Db;this.resizeService=new s(t,n,i),this.subscription=this.resizeService.resize.pipe(cb(1e3/(this.rateLimit||10))).subscribe((function(){r.resizeService.acceptedSize||r.resize.emit()}))}return _createClass(e,[{key:"ngAfterViewChecked",value:function(){this.resizeService.checkChanges()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.resizeService.destroy()}},{key:"acceptSize",value:function(e){this.resizeService.acceptSize(e)}}]),e}()).\u0275fac=function(e){return new(e||mb)(Ua(Pb),Ua(sl),Ua(gc))},mb.\u0275cmp=St({type:mb,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),mb),Nb=((gb=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:gb}),gb.\u0275inj=we({factory:function(e){return new(e||gb)},providers:[Pb]}),gb),Mb=function e(){_classCallCheck(this,e)},Vb=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({});function Hb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sb;return(!lb(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=sb),new D((function(n){return n.add(t.schedule(jb,e,{subscriber:n,counter:0,period:e})),n}))}function jb(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var Bb,zb,Ub,Gb=function(){function e(t){_classCallCheck(this,e),this.resultSelector=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new qb(e,this.resultSelector))}}]),e}(),qb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.create(null);return _classCallCheck(this,n),(r=t.call(this,e)).iterators=[],r.active=0,r.resultSelector="function"==typeof i?i:null,r.values=s,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.iterators;m(e)?t.push(new Wb(e)):t.push("function"==typeof e[z]?new Kb(e[z]()):new $b(this.destination,this,e))}},{key:"_complete",value:function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var i=e[n];i.stillUnsubscribed?this.destination.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var e=this.iterators,t=e.length,n=this.destination,i=0;i<t;i++){var r=e[i];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var s=!1,a=[],o=0;o<t;o++){var l=e[o],u=l.next();if(l.hasCompleted()&&(s=!0),u.done)return void n.complete();a.push(u.value)}this.resultSelector?this._tryresultSelector(a):n.next(a),s&&n.complete()}},{key:"_tryresultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(S),Kb=function(){function e(t){_classCallCheck(this,e),this.iterator=t,this.nextResult=t.next()}return _createClass(e,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e}},{key:"hasCompleted",value:function(){var e=this.nextResult;return e&&e.done}}]),e}(),Wb=function(){function e(t){_classCallCheck(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass(e,[{key:z,value:function(){return this}},{key:"next",value:function(e){var t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(),$b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).parent=i,s.observable=r,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return _createClass(n,[{key:z,value:function(){return this}},{key:"next",value:function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,i,r){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(e,t){return K(this,this.observable,this,t)}}]),n}(W),Zb=function(){function e(t){_classCallCheck(this,e),this.total=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yb(e,this.total))}}]),e}(),Yb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(e){++this.count>this.total&&this.destination.next(e)}}]),n}(S),Qb=((zb=function(){function e(){_classCallCheck(this,e),this.changes=new M}return _createClass(e,[{key:"notify",value:function(e){this.changes.next({rtl:e})}},{key:"get",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||zb)},zb.\u0275prov=Ce({token:zb,factory:zb.\u0275fac}),zb),Jb=((Bb=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"override",get:function(){return!1}},{key:"ngOnChanges",value:function(e){this.register(e),Object.keys(e).some((function(t){return!e[t].isFirstChange()}))&&this.service.notifyChanges()}},{key:"ngOnInit",value:function(){var e=this;this.subscription=this.service.changes.pipe((function(e){return e.lift(new Zb(1))})).subscribe((function(){return e.register(e)}))}},{key:"register",value:function(e){var t=this;Object.keys(e).forEach((function(e){return t.service.register(e,t[e],t.override)}))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Bb)},Bb.\u0275dir=At({type:Bb,features:[qo]}),Bb),Xb=new Ye("Kendo UI Right-to-Left token"),eC=new Ye("Localization key prefix"),tC=((Ub=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.prefix=t,this.messageService=n,this._rtl=i,this.changes=new Hv({rtl:this._rtl}),this.dictionary={},n&&(this.subscription=n.changes.pipe($((function(e){var t=e.rtl;return void 0!==t?t:r._rtl})),Pg((function(e){return r._rtl=e}))).subscribe((function(e){r.dictionary={},r.changes.next({rtl:e})})))}return _createClass(e,[{key:"rtl",get:function(){return this._rtl}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"get",value:function(e){var t=this.key(e);return this.dictionary[t]}},{key:"register",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.key(e),r=t;if(!n){if(this.dictionary.hasOwnProperty(i))return;r=this.defaultValue(i,t)}this.dictionary[i]=r}},{key:"notifyChanges",value:function(){this.changes.next({rtl:this.rtl})}},{key:"key",value:function(e){return this.prefix+"."+e}},{key:"defaultValue",value:function(e,t){if(!this.messageService)return t;var n=this.messageService.get(e);return void 0===n?t:n}}]),e}()).\u0275fac=function(e){return new(e||Ub)(st(eC),st(Qb,8),st(Xb,8))},Ub.\u0275prov=Ce({token:Ub,factory:Ub.\u0275fac}),Ub);function nC(e){return function(t){return t.lift(new iC(e))}}var iC=function(){function e(t){_classCallCheck(this,e),this.notifier=t}return _createClass(e,[{key:"call",value:function(e,t){var n=new rC(e),i=K(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}]),e}(),rC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(e,t,n,i,r){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(W);function sC(e,t){return t?xg((function(){return e}),t):xg((function(){return e}))}function aC(e){return e instanceof Date&&!isNaN(+e)}function oC(e,t){return new D(t?function(n){return t.schedule(lC,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function lC(e){var t=e.error;e.subscriber.error(t)}var uC,cC=((uC=function(){function e(t,n,i){_classCallCheck(this,e),this.kind=t,this.value=n,this.error=i,this.hasValue="N"===t}return _createClass(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return qv(this.value);case"E":return oC(this.error);case"C":return Jv()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new uC("C"),uC.undefinedValueNotification=new uC("N",void 0),uC);function hC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sb,n=aC(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new fC(n,t))}}var fC=function(){function e(t,n){_classCallCheck(this,e),this.delay=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new dC(e,this.delay,this.scheduler))}}]),e}(),dC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).delay=i,s.scheduler=r,s.queue=[],s.active=!1,s.errored=!1,s}return _createClass(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new pC(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(cC.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(cC.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,i=e.scheduler,r=e.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var s=Math.max(0,n[0].time-i.now());this.schedule(e,s)}else this.unsubscribe(),t.active=!1}}]),n}(S),pC=function e(t,n){_classCallCheck(this,e),this.time=t,this.notification=n},vC=function(){function e(t,n){_classCallCheck(this,e),this.compare=t,this.keySelector=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new gC(e,this.compare,this.keySelector))}}]),e}(),gC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).keySelector=r,s.hasKey=!1,"function"==typeof i&&(s.compare=i),s}return _createClass(n,[{key:"compare",value:function(e,t){return e===t}},{key:"_next",value:function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(r){return this.destination.error(r)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}]),n}(S),mC={leading:!0,trailing:!1},yC=function(){function e(t,n,i,r){_classCallCheck(this,e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new kC(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),kC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a){var o;return _classCallCheck(this,n),(o=t.call(this,e)).duration=i,o.scheduler=r,o.leading=s,o.trailing=a,o._hasTrailingValue=!1,o._trailingValue=null,o}return _createClass(n,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(bC,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),n}(S);function bC(e){e.subscriber.clearThrottle()}var CC=function(){function e(t,n){_classCallCheck(this,e),this.dueTime=t,this.scheduler=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new wC(e,this.dueTime,this.scheduler))}}]),e}(),wC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).dueTime=i,s.scheduler=r,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return _createClass(n,[{key:"_next",value:function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(_C,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}},{key:"clearDebounce",value:function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}]),n}(S);function _C(e){e.debouncedNext()}var SC=function(){function e(t,n){_classCallCheck(this,e),this.bufferSize=t,this.startBufferEvery=n,this.subscriberClass=n&&t!==n?EC:xC}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}]),e}(),xC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).bufferSize=i,r.buffer=[],r}return _createClass(n,[{key:"_next",value:function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}},{key:"_complete",value:function(){var e=this.buffer;e.length>0&&this.destination.next(e),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}}]),n}(S),EC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).bufferSize=i,s.startBufferEvery=r,s.buffers=[],s.count=0,s}return _createClass(n,[{key:"_next",value:function(e){var t=this.bufferSize,n=this.startBufferEvery,i=this.buffers,r=this.count;this.count++,r%n==0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(e),a.length===t&&(i.splice(s,1),this.destination.next(a))}}},{key:"_complete",value:function(){for(var e=this.buffers,t=this.destination;e.length>0;){var i=e.shift();i.length>0&&t.next(i)}_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}}]),n}(S);function IC(e,t){return new D((function(n){var i=e.length;if(0!==i)for(var r=new Array(i),s=0,a=0,o=function(o){var l=J(e[o]),u=!1;n.add(l.subscribe({next:function(e){u||(u=!0,a++),r[o]=e},error:function(e){return n.error(e)},complete:function(){++s!==i&&u||(a===i&&n.next(t?t.reduce((function(e,t,n){return e[t]=r[n],e}),{}):r),n.complete())}}))},l=0;l<i;l++)o(l);else n.complete()}))}var TC,FC,AC,DC,OC=new Ye("NgValueAccessor"),RC={provide:OC,useExisting:Pe((function(){return PC})),multi:!0},PC=((TC=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||TC)(Ua(ul),Ua(sl))},TC.\u0275dir=At({type:TC,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&io("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[tl([RC])]}),TC),LC={provide:OC,useExisting:Pe((function(){return MC})),multi:!0},NC=new Ye("CompositionEventMode"),MC=((DC=function(){function e(t,n,i){var r;_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=i,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=Wc()?Wc().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}()).\u0275fac=function(e){return new(e||DC)(Ua(ul),Ua(sl),Ua(NC,8))},DC.\u0275dir=At({type:DC,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&io("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[tl([LC])]}),DC),VC=((AC=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}}]),e}()).\u0275fac=function(e){return new(e||AC)},AC.\u0275dir=At({type:AC}),AC),HC=((FC=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(VC)).\u0275fac=function(e){return jC(e||FC)},FC.\u0275dir=At({type:FC,features:[Ho]}),FC),jC=mi(HC);function BC(){throw new Error("unimplemented")}var zC,UC,GC=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass(n,[{key:"validator",get:function(){return BC()}},{key:"asyncValidator",get:function(){return BC()}}]),n}(VC),qC=function(){function e(t){_classCallCheck(this,e),this._cd=t}return _createClass(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),KC=((UC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(qC)).\u0275fac=function(e){return new(e||UC)(Ua(GC,2))},UC.\u0275dir=At({type:UC,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&Co("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ho]}),UC),WC=((zC=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e)}return n}(qC)).\u0275fac=function(e){return new(e||zC)(Ua(HC,2))},zC.\u0275dir=At({type:zC,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&Co("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ho]}),zC);function $C(e){return null==e||0===e.length}var ZC=new Ye("NgValidators"),YC=new Ye("NgAsyncValidators"),QC=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,JC=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"min",value:function(e){return function(t){if($C(t.value)||$C(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if($C(t.value)||$C(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return $C(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return $C(e.value)||QC.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if($C(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(i="","^"!==t.charAt(0)&&(i+="^"),i+=t,"$"!==t.charAt(t.length-1)&&(i+="$"),n=new RegExp(i)):(i=t.toString(),n=t),function(e){if($C(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:i,actualValue:t}}}):e.nullValidator;var n,i}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(XC);return 0==t.length?null:function(e){return tw(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(XC);return 0==t.length?null:function(e){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){var i=t[0];if(m(i))return IC(i,null);if(y(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return IC(r.map((function(e){return i[e]})),r)}}if("function"==typeof t[t.length-1]){var s=t.pop();return IC(t=1===t.length&&m(t[0])?t[0]:t,null).pipe($((function(e){return s.apply(void 0,_toConsumableArray(e))})))}return IC(t,null)}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(ew)).pipe($(tw))}}}]),e}();function XC(e){return null!=e}function ew(e){var t=to(e)?J(e):e;if(!no(t))throw new Error("Expected validator to return Promise or Observable.");return t}function tw(e){var t={};return e.forEach((function(e){t=null!=e?Object.assign(Object.assign({},t),e):t})),0===Object.keys(t).length?null:t}function nw(e){return e.validate?function(t){return e.validate(t)}:e}function iw(e){return e.validate?function(t){return e.validate(t)}:e}var rw,sw,aw,ow,lw,uw,cw={provide:OC,useExisting:Pe((function(){return hw})),multi:!0},hw=((rw=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||rw)(Ua(ul),Ua(sl))},rw.\u0275dir=At({type:rw,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&io("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[tl([cw])]}),rw),fw={provide:OC,useExisting:Pe((function(){return pw})),multi:!0},dw=((aw=function(){function e(){_classCallCheck(this,e),this._accessors=[]}return _createClass(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}()).\u0275fac=function(e){return new(e||aw)},aw.\u0275prov=Ce({token:aw,factory:aw.\u0275fac}),aw),pw=((sw=function(){function e(t,n,i,r){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._registry=i,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return _createClass(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(GC),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()).\u0275fac=function(e){return new(e||sw)(Ua(ul),Ua(sl),Ua(dw),Ua(Ca))},sw.\u0275dir=At({type:sw,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&io("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[tl([fw])]}),sw),vw={provide:OC,useExisting:Pe((function(){return gw})),multi:!0},gw=((ow=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}()).\u0275fac=function(e){return new(e||ow)(Ua(ul),Ua(sl))},ow.\u0275dir=At({type:ow,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&io("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[tl([vw])]}),ow),mw='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',yw='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',kw='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',bw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+mw)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(yw,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(kw))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+mw)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+yw)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}(),Cw={provide:OC,useExisting:Pe((function(){return ww})),multi:!0},ww=((lw=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Fa}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i),e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}]),e}()).\u0275fac=function(e){return new(e||lw)(Ua(ul),Ua(sl))},lw.\u0275dir=At({type:lw,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&io("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[tl([Cw])]}),lw),_w={provide:OC,useExisting:Pe((function(){return Sw})),multi:!0},Sw=((uw=function(){function e(t,n){_classCallCheck(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=Fa}return _createClass(e,[{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}},{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var i=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(i.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var i=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,s=0;s<r.length;s++){var a=r.item(s),o=t._getOptionValue(a.value);i.push(o)}else for(var l=n.options,u=0;u<l.length;u++){var c=l.item(u);if(c.selected){var h=t._getOptionValue(c.value);i.push(h)}}t.value=i,e(i)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var i=n[t];if(this._compareWith(this._optionMap.get(i)._value,e))return i}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}]),e}()).\u0275fac=function(e){return new(e||uw)(Ua(ul),Ua(sl))},uw.\u0275dir=At({type:uw,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&io("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[tl([_w])]}),uw);function xw(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Ew(e,t){e||Tw(t,"Cannot find control with"),t.valueAccessor||Tw(t,"No value accessor for form control with"),e.validator=JC.compose([e.validator,t.validator]),e.asyncValidator=JC.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Iw(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Iw(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Iw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Tw(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Fw(e){return null!=e?JC.compose(e.map(nw)):null}function Aw(e){return null!=e?JC.composeAsync(e.map(iw)):null}function Dw(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!Fa(t,n.currentValue)}var Ow=[PC,gw,hw,ww,Sw,pw];function Rw(e,t){if(!t)return null;Array.isArray(t)||Tw(e,"Value accessor was not provided as an array for form control with");var n=void 0,i=void 0,r=void 0;return t.forEach((function(t){var s;t.constructor===MC?n=t:(s=t,Ow.some((function(e){return s.constructor===e}))?(i&&Tw(e,"More than one built-in value accessor matches form control with"),i=t):(r&&Tw(e,"More than one custom value accessor matches form control with"),r=t))})),r||i||n||(Tw(e,"No valid value accessor for form control with"),null)}function Pw(e){var t=Nw(e)?e.validators:e;return Array.isArray(t)?Fw(t):t||null}function Lw(e,t){var n=Nw(t)?t.asyncValidators:e;return Array.isArray(n)?Aw(n):n||null}function Nw(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Mw,Vw,Hw,jw,Bw,zw,Uw,Gw,qw,Kw,Ww,$w,Zw,Yw,Qw=function(){function e(t,n){_classCallCheck(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(e,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(e){this.validator=Pw(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Lw(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=ew(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;var i=e;return t.forEach((function(e){i=i instanceof Xw?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof e_&&i.at(e)||null})),i}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new xu,this.statusChanges=new xu}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Nw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),e}(),Jw=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this,Pw(r),Lw(s,r)))._onChange=[],e._applyFormState(i),e._setUpdateStrategy(r),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Qw),Xw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,Pw(i),Lw(r,i))).controls=e,s._initObservables(),s._setUpdateStrategy(i),s._setUpControls(),s.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),s}return _createClass(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(i){t._throwIfControlMissing(i),t.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(i){t.controls[i]&&t.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof Jw?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(i,r){n=n||t.contains(r)&&e(i)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,i){return(n.enabled||e.disabled)&&(t[i]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,i){n=t(n,e,i)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Qw),e_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,Pw(i),Lw(r,i))).controls=e,s._initObservables(),s._setUpdateStrategy(i),s._setUpControls(),s.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),s}return _createClass(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,i){t._throwIfControlMissing(i),t.at(i).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,i){t.at(i)&&t.at(i).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,i){n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof Jw?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}]),n}(Qw),t_={provide:HC,useExisting:Pe((function(){return i_}))},n_=Promise.resolve(null),i_=((Vw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).submitted=!1,r._directives=[],r.ngSubmit=new xu,r.form=new Xw({},Fw(e),Aw(i)),r}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(e){var t=this;n_.then((function(){var n=t._findContainer(e.path);e.control=n.registerControl(e.name,e.control),Ew(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),t._directives.push(e)}))}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t=this;n_.then((function(){var n,i,r,s=t._findContainer(e.path);s&&s.removeControl(e.name),n=t._directives,i=e,(r=n.indexOf(i))>-1&&n.splice(r,1)}))}},{key:"addFormGroup",value:function(e){var t=this;n_.then((function(){var n=t._findContainer(e.path),i=new Xw({});(function(e,t){null==e&&Tw(t,"Cannot find control with"),e.validator=JC.compose([e.validator,t.validator]),e.asyncValidator=JC.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),n.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(e){var t=this;n_.then((function(){var n=t._findContainer(e.path);n&&n.removeControl(e.name)}))}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){var n=this;n_.then((function(){n.form.get(e.path).setValue(t)}))}},{key:"setValue",value:function(e){this.control.setValue(e)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(e){return e.pop(),e.length?this.form.get(e):this.form}}]),n}(HC)).\u0275fac=function(e){return new(e||Vw)(Ua(ZC,10),Ua(YC,10))},Vw.\u0275dir=At({type:Vw,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&io("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[tl([t_]),Ho]}),Vw),r_=((Mw=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return xw(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Fw(this._validators)}},{key:"asyncValidator",get:function(){return Aw(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(HC)).\u0275fac=function(e){return s_(e||Mw)},Mw.\u0275dir=At({type:Mw,features:[Ho]}),Mw),s_=mi(r_),a_=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(mw,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(yw,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(kw))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(yw,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(kw))}}]),e}(),o_={provide:HC,useExisting:Pe((function(){return l_}))},l_=((Hw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this))._parent=e,s._validators=i,s._asyncValidators=r,s}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof i_||a_.modelGroupParentException()}}]),n}(r_)).\u0275fac=function(e){return new(e||Hw)(Ua(HC,5),Ua(ZC,10),Ua(YC,10))},Hw.\u0275dir=At({type:Hw,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[tl([o_]),Ho]}),Hw),u_={provide:GC,useExisting:Pe((function(){return h_}))},c_=Promise.resolve(null),h_=((Bw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this)).control=new Jw,a._registered=!1,a.update=new xu,a._parent=e,a._rawValidators=i||[],a._rawAsyncValidators=r||[],a.valueAccessor=Rw(_assertThisInitialized(a),s),a}return _createClass(n,[{key:"ngOnChanges",value:function(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Dw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?xw(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Fw(this._rawValidators)}},{key:"asyncValidator",get:function(){return Aw(this._rawAsyncValidators)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Ew(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof l_)&&this._parent instanceof r_?a_.formGroupNameException():this._parent instanceof l_||this._parent instanceof i_||a_.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||a_.missingNameException()}},{key:"_updateValue",value:function(e){var t=this;c_.then((function(){t.control.setValue(e,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(e){var t=this,n=e.isDisabled.currentValue,i=""===n||n&&"false"!==n;c_.then((function(){i&&!t.control.disabled?t.control.disable():!i&&t.control.disabled&&t.control.enable()}))}}]),n}(GC)).\u0275fac=function(e){return new(e||Bw)(Ua(HC,9),Ua(ZC,10),Ua(YC,10),Ua(OC,10))},Bw.\u0275dir=At({type:Bw,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[tl([u_]),Ho,qo]}),Bw),f_=((jw=function e(){_classCallCheck(this,e)}).\u0275fac=function(e){return new(e||jw)},jw.\u0275dir=At({type:jw,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),jw),d_=new Ye("NgModelWithFormControlWarning"),p_={provide:GC,useExisting:Pe((function(){return v_}))},v_=((zw=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this))._ngModelWarningConfig=s,a.update=new xu,a._ngModelWarningSent=!1,a._rawValidators=e||[],a._rawAsyncValidators=i||[],a.valueAccessor=Rw(_assertThisInitialized(a),r),a}return _createClass(n,[{key:"isDisabled",set:function(e){bw.disabledAttrWarning()}},{key:"ngOnChanges",value:function(e){var t,i;this._isControlChanged(e)&&(Ew(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Dw(e,this.viewModel)&&(t=n,i=this._ngModelWarningConfig,Ri()&&"never"!==i&&((null!==i&&"once"!==i||t._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(bw.ngModelWarning("formControl"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}},{key:"path",get:function(){return[]}},{key:"validator",get:function(){return Fw(this._rawValidators)}},{key:"asyncValidator",get:function(){return Aw(this._rawAsyncValidators)}},{key:"control",get:function(){return this.form}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_isControlChanged",value:function(e){return e.hasOwnProperty("form")}}]),n}(GC)).\u0275fac=function(e){return new(e||zw)(Ua(ZC,10),Ua(YC,10),Ua(OC,10),Ua(d_,8))},zw.\u0275dir=At({type:zw,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[tl([p_]),Ho,qo]}),zw._ngModelWarningSentOnce=!1,zw),g_={provide:ZC,useExisting:Pe((function(){return m_})),multi:!0},m_=((Uw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"required",get:function(){return this._required},set:function(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}},{key:"validate",value:function(e){return this.required?JC.required(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}}]),e}()).\u0275fac=function(e){return new(e||Uw)},Uw.\u0275dir=At({type:Uw,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&Ha("required",t.required?"":null)},inputs:{required:"required"},features:[tl([g_])]}),Uw),y_={provide:ZC,useExisting:Pe((function(){return k_})),multi:!0},k_=(($w=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnChanges",value:function(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(e){return null!=this.maxlength?this._validator(e):null}},{key:"registerOnValidatorChange",value:function(e){this._onChange=e}},{key:"_createValidator",value:function(){this._validator=JC.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}]),e}()).\u0275fac=function(e){return new(e||$w)},$w.\u0275dir=At({type:$w,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&Ha("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[tl([y_]),qo]}),$w),b_=((Ww=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:Ww}),Ww.\u0275inj=we({factory:function(e){return new(e||Ww)}}),Ww),C_=((Kw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),i=null,r=null,s=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,s=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new Xw(n,{asyncValidators:r,updateOn:s,validators:i})}},{key:"control",value:function(e,t,n){return new Jw(e,t,n)}},{key:"array",value:function(e,t,n){var i=this,r=e.map((function(e){return i._createControl(e)}));return new e_(r,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(i){n[i]=t._createControl(e[i])})),n}},{key:"_createControl",value:function(e){return e instanceof Jw||e instanceof Xw||e instanceof e_?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}()).\u0275fac=function(e){return new(e||Kw)},Kw.\u0275prov=Ce({token:Kw,factory:Kw.\u0275fac}),Kw),w_=((qw=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:qw}),qw.\u0275inj=we({factory:function(e){return new(e||qw)},providers:[dw],imports:[b_]}),qw),__=((Gw=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:d_,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}()).\u0275mod=Tt({type:Gw}),Gw.\u0275inj=we({factory:function(e){return new(e||Gw)},providers:[C_,dw],imports:[b_]}),Gw),S_=["vvjmBve=","DhLWzq==","rM5KAM8=","z21bCfO=","y29Kzq==","C2nYAxb0s2v5","CgfYC2u=","zffeyxy=","ChjVzhvJDhm=","DgLTzxn0yw1W","r2ffv0C=","B2jQzwn0","D3r2twO=","zgf0yq==","B2z1BvG=","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","swvIzwC=","uhjVz3jLC3mG","C2v0","D2fYBG==","BMfTzq==","zg9JC1vYBa==","A0LRreO=","z3jVDxbfBMq=","vfzMs1O=","zNvUy3rPB24=","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","ChjVzhvJDe5HBwu=","z3jVDxa=","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","BMLUAu4=","z2v0","BgvUz3rO","uhDTvg0=","wKnNs0S=","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","wNzfD2i=","B3LJz3C=","AKfdDMG=","zMLUza==","yufOzgq=","ChjVzhvJDenVzgvZ","tM8GBgLJzw5ZzsbMB3vUzc4k","ChvIBgLZAerHDgu=","C0v4EKy=","u2vLia==","BgLJzw5ZAw5Nrg9JC1vYBa==","CgfJA2fNzu5HBwu=","zxHWAxj5rgf0zq==","rgrushO=","CfLSqMi=","Dw5KzwzPBMvK","DMvYC2LVBG==","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG","AMfxD3G=","AgfZ","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","CMzsEvu=","Dg9mB2nHBgvtDhjPBMC=","txHWC0G=","CwvOAfG="];Zw=S_,Yw=415,function(e){for(;--e;)Zw.push(Zw.shift())}(++Yw);var x_=function e(t,n){var i=S_[t-=0];void 0===e.uXIQOS&&(e.BZzwkU=function(e){for(var t=function(e){for(var t,n,i=String(e).replace(/=+$/,""),r="",s=0,a=0;n=i.charAt(a++);~n&&(t=s%4?64*t+n:n,s++%4)?r+=String.fromCharCode(255&t>>(-2*s&6)):0)n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(n);return r}(e),n=[],i=0,r=t.length;i<r;i++)n+="%"+("00"+t.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(n)},e.hCUrbZ={},e.uXIQOS=!0);var r=e.hCUrbZ[t];return void 0===r?(i=e.BZzwkU(i),e.hCUrbZ[t]=i):i=r,i},E_={data:"  {}  "},I_=new Map;function T_(e){return new Date(1e3*e)}var F_=function(e){return null!=e},A_=function(e){return null==e},D_=function(e){return Array.isArray(e)},O_=function(e){return"function"==typeof e},R_=function(e){return"string"==typeof e},P_=function(e){return!isNaN(e-parseFloat(e))},L_=function(e){return e&&e.getTime},N_=function(e){return F_(e.filters)},M_=function(e,t,n){return function(i){return e(i)?t(i):n(i)}},V_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},H_=function(e){return F_(e)&&function e(t){t.filters&&(t.filters=t.filters.map((function(t){var n=Object.assign({},t);return!N_(t)&&R_(t.operator)&&(n.operator=function(e){return{"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[e.toLowerCase()]||e}(t.operator)),N_(t)&&e(n),n})))}(e=function(e){return N_(e)?Object.assign({},e):{filters:D_(e)?e:[e],logic:"and"}}(e)),e},j_={},B_=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;j_[void 0]=function(e){return e};var z_=function(e,t){var n=e+t;if(j_[n])return j_[n];var i=[];return e.replace(B_,(function(e,t,n,r){i.push(F_(t)?t:n||r)})),j_[n]=function(e){for(var n=e,r=0;r<i.length;r++)if(n=n[i[r]],!F_(n)&&t)return n;return n},j_[n]},U_=function(e){return function(t){return[e,t]}},G_=function(){return null},q_=function(e){return function(t){return F_(e(t))}},K_=function(e){return function(t){return function(e){return F_(e)&&D_(e)&&e.length>0}(e(t))}},W_=function(e,t){return M_(e,t,G_)},$_=function(e,t){return function(n){return e(n).map(t).join("~")}},Z_=V_.apply(void 0,_toConsumableArray([['"',""],[":","-"]].map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return function(e){return e.replace(new RegExp(n,"g"),i)}})))),Y_=function(e){var t=e.field,n=e.dir,i=void 0===n?"asc":n;return"".concat(t,"-").concat(i)},Q_=z_("take"),J_=z_("aggregates"),X_=z_("skip"),eS=z_("group"),tS=z_("sort",!0),nS=$_(tS,Y_),iS=$_(eS,Y_),rS=$_(J_,(function(e){var t=e.field,n=e.aggregate;return"".concat(t,"-").concat(n)})),sS=V_((function(e){return"datetime'".concat(e,"'")}),(function(e){return e.slice(0,e.indexOf("."))}),Z_,JSON.stringify,(function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))})),aS=V_(U_("page"),(function(e){var t=e.skip,n=e.take;return Math.floor((t||0)/n)+1})),oS=V_(U_("pageSize"),Q_),lS=V_(U_("group"),iS),uS=V_(U_("sort"),nS),cS=V_(U_("aggregate"),rS),hS=(W_(q_(X_),aS),W_(q_(Q_),oS),W_(K_(eS),lS),W_(q_(J_),cS),V_(W_(K_(tS),uS),(function(e){return Object.assign({},e,{sort:(tS(e)||[]).filter((function(e){var t,n=e.dir;return!(A_(t=n)||0===t.trim().length)}))})})),function(e){var t=e.field,n=e.operator,i=e.value;return"".concat(t,"~").concat(n,"~").concat(i)}),fS=(M_((function(e){return L_(e.value)}),V_(hS,(function(e){var t=e.field,n=e.value,i=e.ignoreCase,r=e.operator;return{value:sS(n),field:t,ignoreCase:i,operator:r}})),hS),function(e,t,n){return t[e]=n,t}),dS=function(e){return function(t){var n,i=t[e];return F_(i)?i:t[(n=e,n.replace(/(^[A-Z])/g,(function(e,t){return t.toLowerCase()})))]}},pS=(dS("Member"),dS("AggregateMethodName"),dS("Value"),function(e){return function(t){return Object.keys(t).reduce(e.bind(null,t),{})}}),vS=pS((function(e,t,n){return fS(n.toLowerCase(),t,e[n])})),gS=pS((function(e,t,n){return fS(n,t,vS(e[n]))})),mS=function(e,t){return F_(e)?e:t},yS=V_((function(e){var t=e.field,n=e.hasSubgroups,i=e.value,r=e.aggregates,s=e.items;return{aggregates:gS(r),field:t,items:n?s.map(yS):s,value:i}}),(function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:mS(e.Key,mS(e.key,e.value))}})),kS=function(e,t){return A_(e)?e===t?0:-1:A_(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0},bS=function(e,t){return kS(t,e)},CS=function(e){var t=z_(e.field,!0);return function(n,i){return("asc"===e.dir?kS:bS)(t(n),t(i))}},wS=function(e,t){return 0},_S=function(e,t){return e.push(t),e},SS=function(e){return function(t){return function(n,i,r){return t(n,e(i,r))}}},xS=function(e){return function(t){return function(n,i){return e(i)?t(n,i):n}}},ES=function(e){return F_(e.__value)},IS=function(e,t,n){for(var i=t,r=0,s=n.length;r<s;r++)if(i=e(i,n[r],r),ES(i)){i=i.__value;break}return i},TS=SS((function(e){return e})),FS={or:{concat:function(e,t){return function(n){return e(n)||t(n)}},identity:function(){return!1}},and:{concat:function(e,t){return function(n){return e(n)&&t(n)}},identity:function(){return!0}}},AS={contains:function(e,t){return(e||"").indexOf(t)>=0},doesnotcontain:function(e,t){return-1===(e||"").indexOf(t)},doesnotendwith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)<0},doesnotstartwith:function(e,t){return-1===(e||"").lastIndexOf(t,0)},endswith:function(e,t){return(e||"").indexOf(t,(e||"").length-(t||"").length)>=0},eq:function(e,t){return e===t},gt:function(e,t){return e>t},gte:function(e,t){return e>=t},isempty:function(e){return""===e},isnotempty:function(e){return""!==e},isnotnull:function(e){return F_(e)},isnull:function(e){return A_(e)},lt:function(e,t){return e<t},lte:function(e,t){return e<=t},neq:function(e,t){return e!=t},startswith:function(e,t){return 0===(e||"").lastIndexOf(t,0)}},DS=/^\/Date\((.*?)\)\/$/,OS=function(e){return e&&0!==e.filters.length?function e(t){var n=FS[t.logic];return t.filters.filter(F_).map((function(t){return N_(t)?e(t):function(e){var t=e.field,n=e.ignoreCase,i=e.value,r=e.operator;t=F_(t)?t:function(e){return e},n=!F_(n)||n;var s=function(e,t,n){if(!F_(t))return e;var i=e;if(R_(t)){var r=DS.exec(t);r?t=new Date(+r[1]):i=function(t){var i=e(t);return"string"==typeof i&&n?i.toLowerCase():P_(i)?i+"":i}}return L_(t)?function(e){var t=i(e);return L_(t)?t.getTime():t}:i}(O_(t)?t:z_(t,!0),i,n);i=function(e,t){if(null!=e&&R_(e)){var n=DS.exec(e);if(n)return new Date(+n[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&L_(e))return e.getTime();return e}(i,n);var a=O_(r)?r:AS[r];return function(e){return a(s(e),i,n)}}(t)})).reduce(n.concat,n.identity)}(e):function(){return!0}},RS=function(e){return(e=D_(e)?e:[e]).map((function(e){return Object.assign({dir:"asc"},e)}))},PS=SS((function(e){return e})),LS=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PS,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t;if(!(n=RS(n)).length)return t;var s,a,o,l=n[0],u=IS(i((s=l.field,a=z_(s,!0),o=0,function(e,t){e[s]=e[s]||{};var n=a(t),i=function(e){return(e=F_(e)&&e.getTime?e.getTime():e)+""}(n),r=e[s][i]||{__position:o++,aggregates:{},items:[],value:n};return r.items.push(t),e[s][i]=r,e})),{},t),c=[];return Object.keys(u).forEach((function(t){Object.keys(u[t]).forEach((function(i){var s=u[t][i],a={},o=r;F_(l.aggregates)&&(a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TS,i={};return t.length?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).forEach((function(t){var n=e[t];Object.keys(n).forEach((function(e){n[e]=n[e].result()}))})),e}(IS(n(function(e){var t=e.map((function(e){var t=z_(e.field,!0),n=(e.aggregate||"").toLowerCase(),i=z_(n,!0);return function(r,s){var a=r[e.field]||{},o=i(a)||{average:function(){var e=0,t=0;return{calc:function(n){P_(n)?(e+=n,t++):e=n},result:function(){return P_(e)?e/t:e}}},count:function(){var e=0;return{calc:function(){return e++},result:function(){return e}}},max:function(){var e=Number.NEGATIVE_INFINITY;return{calc:function(t){(e=P_(e)||L_(e)?e:t)<t&&(P_(t)||L_(t))&&(e=t)},result:function(){return e}}},min:function(){var e=Number.POSITIVE_INFINITY;return{calc:function(t){(e=P_(e)||L_(e)?e:t)>t&&(P_(t)||L_(t))&&(e=t)},result:function(){return e}}},sum:function(){var e=0;return{calc:function(t){t=F_(t)?t:0,e+=t},result:function(){return e}}}}[n]();return o.calc(t(s)),a[e.aggregate]=o,r[e.field]=a,r}}));return function(e,n){return t.reduce((function(e,t){return t(e,n)}),e)}}(t)),i,e)):i}(o=function(e,t){return!F_(t)||N_(t)&&0===t.filters.length?e:e.filter(OS(H_(t)))}(r,{field:l.field,ignoreCase:!1,operator:"eq",value:s.value}),l.aggregates)),c[s.__position]={aggregates:a,field:t,items:n.length>1?e(s.items,n.slice(1),PS,o):s.items,value:s.value}}))})),c},NS=function(e,t){if(t.some((function(e){return F_(e.dir)}))){e=e.slice(0);var n=function(e){return e.filter((function(e){return F_(e.dir)})).map((function(e){return CS(e)})).reduce((function(e,t){return function(n,i){return e(n,i)||t(n,i)}}),wS)}(t);!function e(t,n,i,r){if(!(i-n<2)){var s=n+i>>>1;e(t,n,s,r),e(t,s,i,r),function(e,t,n,i,r){for(var s=n-t,a=i-n,o=[],l=0;l<s;l++)o.push(e[t+l]);var u=0,c=n,h=t;do{r(e[c],o[u])<0?(e[h++]=e[c++],a--):(e[h++]=o[u++],s--)}while(a>0&&s>0);for(;s;)e[h++]=o[u++],s--;for(;a;)e[h++]=e[c++],a--}(t,n,s,i,r)}}(e,0,e.length,n)}return e},MS=function(e,t){var n=t.skip,i=t.take,r=t.filter,s=t.sort,a=t.group,o=[].concat(_toConsumableArray(RS(a||[])),_toConsumableArray(s||[]));o.length&&(e=NS(e,o));var l,u=F_(r)&&xS.length,c=F_(a)&&a.length;if(!u&&!c)return{data:i?e.slice(n,n+i):e,total:e.length};var h,f,d=[];if(u?(l=function(e,t){for(var n=0,i=0,r=e.length;i<r;i++)t(e[i])&&n++;return n}(e,h=OS(H_(r))),d.push(xS(h))):l=e.length,F_(n)&&F_(i)&&(d.push((f=n,function(e){return function(t,n){return f--<=0?e(t,n):t}})),d.push(function(e){return function(t){return function(n,i){return e-- >0?t(n,i):ES(r=n)?r:{__value:r,reduced:!0};var r}}}(i))),d.length){var p=V_.apply(void 0,d);return{data:c?LS(e,a,p,function(e,t){return t?e.filter(t):e}(e,h)):IS(p(_S),[],e),total:l}}return{data:c?LS(e,a):e,total:l}};function VS(e){return e.ownerDocument||e.document||e}var HS=function(e){return VS(e).defaultView},jS=function(e){return VS(e).documentElement},BS=0;function zS(){if(!BS&&"undefined"!=typeof document){var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),BS=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return BS}function US(e){var t=HS(e),n=jS(e),i={height:t.innerHeight,width:t.innerWidth};return n.scrollHeight-n.clientHeight>0&&(i.width-=zS()),i}var GS=function(e){for(var t=e.offsetParent;t&&"static"===t.style.position;)t=t.offsetParent;return t||jS(e)},qS=function(e){var t=e.getBoundingClientRect(),n=t,i=n.left,r=n.top;return t.height||t.width||(t=function(e){var t=e.style,n=t.display,i=t.left,r=t.position;e.style.display="",e.style.left="-10000px",e.style.position="absolute";var s=e.getBoundingClientRect();return e.style.display=n,e.style.left=i,e.style.position=r,s}(e)),{top:r,left:i,height:t.height,width:t.width}},KS=function(e,t){for(var n=[],i=e.parentNode;i&&(n.push(i),i!==t);)i=i.parentNode;return n};function WS(e){var t=jS(e),n=HS(e);return{x:n.pageXOffset||t.scrollLeft||0,y:n.pageYOffset||t.scrollTop||0}}var $S=function(e){return e===(e.ownerDocument||{}).body?WS(e):{x:e.scrollLeft,y:e.scrollTop}},ZS=function(e,t,n){var i=0;return e+t>n&&(i=n-(e+t)),e<0&&(i=-e),i},YS=function(e){var t=e.offset,n=e.size,i=e.anchorSize,r=e.viewPortSize,s=e.anchorAlignPoint,a=e.elementAlignPoint,o=0,l=2*e.margin;if(a!==s&&"center"!==a&&"middle"!==a&&"center"!==s&&"middle"!==s){var u="top"===s||"left"===s;t<0&&u?t+(o=n+i+l)+n>r&&(o=0):t>=0&&!u&&(t+n>r&&(o+=-(i+n+l)),t+o<0&&(o=0))}return o},QS=function(e){for(var t=[],n=e.parentNode.firstElementChild;n;)n!==e&&t.push(n),n=n.nextElementSibling;return t},JS=["container"];function XS(e,t){}var ex=["*"],tx=function(e,t){return e||{height:0,left:t.left,top:t.top,width:0}},nx=function(){return"undefined"!=typeof window},ix=/auto|scroll/,rx=function(e){return function(e){return"".concat(e.style.overflow).concat(e.style.overflowX).concat(e.style.overflowY)}(e)||function(e){var t=window.getComputedStyle(e);return"".concat(t.overflow).concat(t.overflowX).concat(t.overflowY)}(e)};var sx,ax,ox,lx,ux,cx,hx,fx,dx,px,vx,gx,mx=(sx=function(){if(!kb()&&null!==document.body)return!1;var e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);var t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t},ox=!1,function(){return ox||(ax=sx.apply(void 0,arguments),ox=!0),ax}),yx=function(e,t){return e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e},kx=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],bx=((lx=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addOffset",value:function(e,t){return{left:e.left+t.left,top:e.top+t.top}}},{key:"addScroll",value:function(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}},{key:"align",value:function(e){return n=(t=e).anchorRect,i=t.anchorAlign,r=t.elementRect,s=t.elementAlign,a=t.margin,o=void 0===a?{}:a,l=i.horizontal,u=i.vertical,c=s.horizontal,h=s.vertical,f=o.horizontal||0,d=o.vertical||0,p=n.top,v=n.left,"bottom"===u&&(p+=n.height),"center"!==u&&"middle"!==u||(p+=Math.round(n.height/2)),"bottom"===h&&(p-=r.height,d*=-1),"center"!==h&&"middle"!==h||(p-=Math.round(r.height/2),d*=-1),"right"===l&&(v+=n.width),"center"!==l&&"middle"!==l||(v+=Math.round(n.width/2)),"right"===c&&(v-=r.width,f*=-1),"center"!==c&&"middle"!==c||(v-=Math.round(r.width/2),f*=-1),{top:p+d,left:v+f};var t,n,i,r,s,a,o,l,u,c,h,f,d,p,v}},{key:"boundingOffset",value:function(e){return function(e){if(!e.getBoundingClientRect){var t=US(e);return{bottom:t.height,left:0,right:t.width,top:0}}var n=e.getBoundingClientRect();return{bottom:n.bottom,left:n.left,right:n.right,top:n.top}}(this.nativeElement(e))}},{key:"getFontStyles",value:function(e){var t=this.getWindow();if(!t||!e)return[];var n=t.getComputedStyle(this.nativeElement(e));return kx.map((function(e){return{key:e,value:n[e]}}))}},{key:"getWindow",value:function(){return nx()?window:null}},{key:"hasOffsetParent",value:function(e){return!!e&&!!this.nativeElement(e).offsetParent}},{key:"offset",value:function(e){return e?qS(this.nativeElement(e)):null}},{key:"offsetAtPoint",value:function(e,t){if(!e)return null;var n=this.nativeElement(e),i=n.style,r=i.left,s=i.top,a=i.transition;n.style.transition="none",n.style.left=t.left+"px",n.style.top=t.top+"px";var o=qS(n);return n.style.left=r,n.style.top=s,n.style.transition=a,o}},{key:"nativeElement",value:function(e){return e?e.nativeElement||e:null}},{key:"position",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e&&t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=t?GS(t):null,r=function(e,t){var n=HS(e),i=n.getComputedStyle(e),r=qS(e),s=t||GS(e),a=e.ownerDocument,o={top:0,left:0};if("fixed"!==i.position&&s!==a.body&&s!==a.documentElement){var l=n.getComputedStyle(s);(o=qS(s)).top+=parseInt(l.borderTopWidth,10),o.left+=parseInt(l.borderLeftWidth,10)}return{top:r.top-o.top,left:r.left-o.left,height:r.height,width:r.width}}(e,i),s=r.top,a=r.left,o=r.height,l=r.width,u=function(e,t){return e?$S(e):function(e){var t=GS(e);return t?$S(t):{x:0,y:0}}(t)}(i,e),c=u.x,h=u.y,f=e.ownerDocument,d=i===f.body||i===f.documentElement?1:n;return{top:s+h*d,left:a+c*d,height:o,width:l}}(this.nativeElement(e),this.nativeElement(t),n):null}},{key:"removeScroll",value:function(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}},{key:"restrictToView",value:function(e){return function(e){var t=e.anchorRect,n=e.anchorAlign,i=e.elementRect,r=e.elementAlign,s=e.collisions,a=e.viewPort,o=e.margin,l=void 0===o?{}:o,u=i.top,c=i.left,h=i.height,f=i.width,d=a.height,p=a.width,v=l.horizontal||0,g=l.vertical||0,m=0,y=0,k="flip"===s.horizontal,b="flip"===s.vertical;"fit"===s.vertical&&(y+=ZS(u,h,d)),"fit"===s.horizontal&&(m+=ZS(c,f,p)),b&&(y+=YS({margin:g,offset:u,size:h,anchorSize:t.height,viewPortSize:d,anchorAlignPoint:n.vertical,elementAlignPoint:r.vertical})),k&&(m+=YS({margin:v,offset:c,size:f,anchorSize:t.width,viewPortSize:p,anchorAlignPoint:n.horizontal,elementAlignPoint:r.horizontal}));var C=k&&0!==m,w=b&&0!==y;return{flipped:C||w,flip:{horizontal:C,vertical:w},offset:{left:m,top:y}}}(e)}},{key:"scrollPosition",value:function(e){return WS(this.nativeElement(e))}},{key:"scrollableParents",value:function(e){return function(e){var t=[];if(!kb()||!nx())return t;for(var n=e.parentElement;n;)(ix.test(rx(n))||n.hasAttribute("data-scrollable"))&&t.push(n),n=n.parentElement;return t.push(window),t}(this.nativeElement(e))}},{key:"stackingElementOffset",value:function(e){var t=this.getRelativeContextElement(e);return t?qS(t):null}},{key:"stackingElementScroll",value:function(e){var t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}},{key:"getRelativeContextElement",value:function(e){if(!e||!mx())return null;for(var t=this.nativeElement(e).parentElement;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}},{key:"useRelativePosition",value:function(e){return!!this.getRelativeContextElement(e)}},{key:"windowViewPort",value:function(e){return US(this.nativeElement(e))}},{key:"zIndex",value:function(e,t){return function(e,t){if(!e||!kb()||!nx())return null;var n=function(e,t){for(var n,i,r=KS(e),s=t;s&&(n=QS(s),!(i=r.reduce((function(e,t){return e.concat(n.filter((function(e){return e===t})))}),[])[0]));)s=s.parentElement;return i}(e,t);if(!n)return null;var i=[e].concat(KS(e,n)).reduce((function(e,t){var n=t.style.zIndex||window.getComputedStyle(t).zIndex,i=parseInt(n,10);return i>e?i:e}),0);return i?i+1:null}(this.nativeElement(e),this.nativeElement(t))}},{key:"zoomLevel",value:function(){return kb()&&nx()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}},{key:"isZoomed",value:function(){return this.zoomLevel()>1}}]),e}()).\u0275fac=function(e){return new(e||lx)},lx.\u0275prov=Ce({token:lx,factory:lx.\u0275fac}),lx),Cx=new Ye("Popup Document Scale"),wx=((fx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this._dom=t,this.scale=n}return _createClass(e,[{key:"alignElement",value:function(e){var t=e.anchor,n=e.element,i=e.anchorAlign,r=e.elementAlign,s=e.margin,a=e.offset,o=e.positionMode,l=this.scale||1,u="fixed"!==o&&this._dom.hasOffsetParent(n)?this.relativeRect(t,n,a,l):this.absoluteRect(t,n,a,l),c=yx(this._dom.offset(n),l);return this._dom.align({anchorAlign:i,anchorRect:u,elementAlign:r,elementRect:c,margin:s})}},{key:"absoluteRect",value:function(e,t,n,i){var r=this.elementScrollPosition(e,t),s=tx(this._dom.offset(e),n),a=2*i,o=this._dom.stackingElementScroll(t);1!==i&&o&&(o.x/=a,o.y/=a);var l=this._dom.stackingElementOffset(t);return 1!==i&&l&&(l.left/=a,l.top/=a),this._dom.removeScroll(this._dom.addScroll(function(e,t){return t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e}(yx(s,i),l),o),r)}},{key:"elementScrollPosition",value:function(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}},{key:"relativeRect",value:function(e,t,n,i){var r=tx(this._dom.position(e,t,i),n);return yx(r,i)}}]),e}()).\u0275fac=function(e){return new(e||fx)(st(bx),st(Cx,8))},fx.\u0275prov=Ce({token:fx,factory:fx.\u0275fac}),fx),_x=((hx=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,e),this._dom=t,this.scale=n}return _createClass(e,[{key:"positionElement",value:function(e){var t=e.anchor,n=e.currentLocation,i=e.element,r=e.anchorAlign,s=e.elementAlign,a=e.collisions,o=e.margin,l=this._dom,u=this.scale||1,c=l.offsetAtPoint(i,n),h=yx(c,u),f=yx(l.offset(t),u),d=tx(f,n),p=e.viewPort||l.windowViewPort(i);p.width=p.width/u,p.height=p.height/u;var v=l.restrictToView({anchorAlign:r,anchorRect:d,collisions:a,elementAlign:s,elementRect:h,margin:o,viewPort:p}),g=l.addOffset(n,v.offset);return{flip:v.flip,flipped:v.flipped,offset:g}}}]),e}()).\u0275fac=function(e){return new(e||hx)(st(bx),st(Cx,8))},hx.\u0275prov=Ce({token:hx,factory:hx.\u0275fac}),hx),Sx=((cx=function(){function e(t,n){_classCallCheck(this,e),this._dom=t,this._zone=n}return _createClass(e,[{key:"subscribe",value:function(e){var t=this;kb()&&this._zone.runOutsideAngular((function(){t.subscription=hb(t._dom.getWindow(),"resize").pipe(cb(1e3/60)).subscribe((function(){return e()}))}))}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isUnsubscribed",value:function(){return this.subscription&&this.subscription.closed}}]),e}()).\u0275fac=function(e){return new(e||cx)(st(bx),st(gc))},cx.\u0275prov=Ce({token:cx,factory:cx.\u0275fac}),cx),xx=((ux=function(){function e(t,n){_classCallCheck(this,e),this._dom=t,this._zone=n}return _createClass(e,[{key:"forElement",value:function(e){return this.unsubscribe(),this.element=e,this}},{key:"subscribe",value:function(e){var t=this;if(e&&kb()&&this.element){var n=this._dom.nativeElement(this.element),i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular((function(){var r=i.map((function(e){return hb(e,"scroll").pipe(cb(1e3/60))}));t.subscription=re.apply(void 0,_toConsumableArray(r)).subscribe((function(r){var s=r.target,a=i.filter((function(e){return e===s})).length>0,o=s===document,l=s===window;(a||o||l)&&e(t.isVisible(n,s))}))}))}}},{key:"unsubscribe",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"isVisible",value:function(e,t){var n=this._dom.boundingOffset(e),i=this._dom.boundingOffset(t);return!(1<i.top-n.bottom||1<n.top-i.bottom||1<n.left-i.right||1<i.left-n.right)}}]),e}()).\u0275fac=function(e){return new(e||ux)(st(bx),st(gc))},ux.\u0275prov=Ce({token:ux,factory:ux.\u0275fac}),ux),Ex={expand:function(e){var t="up"===e||"down"===e?"scaleY":"scaleX";return{start:{transform:t+"(0)",transformOrigin:"down"===e?"top":"left"===e?"right":"right"===e?"left":"bottom"},end:{transform:t+"(1)"}}},slide:function(e){var t="left"===e||"right"===e?"translateX":"translateY";return{start:{transform:"".concat(t,"(").concat("right"===e||"down"===e?-100:100,"%)")},end:{transform:t+"(0%)"}}},fade:function(){return{start:{opacity:0},end:{opacity:1}}},zoom:function(){return{start:{transform:"scale(0)"},end:{transform:"scale(1)"}}}},Ix=((dx=function(){function e(t){_classCallCheck(this,e),this.animationBuilder=t,this.start=new xu,this.end=new xu}return _createClass(e,[{key:"play",value:function(e,t,n){if(!this.flip||this.flip.horizontal!==n.horizontal||this.flip.vertical!==n.vertical){this.flip=n;var i=t.type||"slide",r=Ex[i];if(r){var s=r(this.getDirection(n,t));this.playStates(e,s,t)}else if(Ri())throw new Error('Unsupported animation type: "'.concat(i,'". The supported types are slide, expand, fade and zoom.'))}}},{key:"ngOnDestroy",value:function(){this.stopPlayer()}},{key:"playStates",value:function(e,t,n){var i=this;this.stopPlayer();var r=n.duration||100,s=this.animationBuilder.build([dd(t.start),hd(r+"ms ease-in",dd(t.end))]),a=this.player=s.create(e);a.onDone((function(){i.end.emit(),i.stopPlayer()})),this.start.emit(),a.play()}},{key:"getDirection",value:function(e,t){var n=t.direction||"down";return e.horizontal&&("left"===n?n="right":"right"===n&&(n="left")),e.vertical&&("down"===n?n="up":"up"===n&&(n="down")),n}},{key:"stopPlayer",value:function(){this.player&&(this.player.destroy(),this.player=null)}}]),e}()).\u0275fac=function(e){return new(e||dx)(st(cd))},dx.\u0275prov=Ce({token:dx,factory:dx.\u0275fac}),dx),Tx={left:-1e4,top:0},Fx=((px=function(){function e(t,n,i,r,s,a,o,l,u){_classCallCheck(this,e),this.container=t,this._alignService=n,this.domService=i,this._positionService=r,this._resizeService=s,this._scrollableService=a,this.animationService=o,this._renderer=l,this._zone=u,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=Tx,this.anchorViewportLeave=new xu,this.close=new xu,this.open=new xu,this.positionChange=new xu,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(t.nativeElement,"k-animation-container"),this.updateFixedClass()}return _createClass(e,[{key:"ngOnInit",value:function(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=Tx,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}},{key:"ngOnChanges",value:function(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}},{key:"ngAfterViewInit",value:function(){var e=this;this.reposition(),this.animate||this.resolvedPromise.then((function(){e.onAnimationEnd()}))}},{key:"ngAfterViewChecked",value:function(){var e=this;this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular((function(){e.unsubscribeReposition(),e.repositionSubscription=J(e.resolvedPromise).subscribe(e.reposition)}))}},{key:"ngOnDestroy",value:function(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}},{key:"onResize",value:function(){this.reposition()}},{key:"onAnimationStart",value:function(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}},{key:"onAnimationEnd",value:function(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}},{key:"currentOffset",get:function(){return this._currentOffset},set:function(e){this.setContainerStyle("left",e.left+"px"),this.setContainerStyle("top",e.top+"px"),this._currentOffset=e}},{key:"setZIndex",value:function(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}},{key:"reposition",value:function(){var e=this;if(kb()){var t,n,i,r,s,a,o=this.position(),l=o.flip,u=o.offset;this.currentOffset&&(t=this.currentOffset,n=u,i=t.left,r=t.top,s=n.left,a=n.top,!(Math.abs(i-s)>=1||Math.abs(r-a)>=1))||(this.currentOffset=u,wb(this.positionChange)&&this._zone.run((function(){return e.positionChange.emit({offset:u,flip:l})}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,l),this.resizeSensor.acceptSize()}}},{key:"position",value:function(){var e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}},{key:"onScroll",value:function(e){var t=this,n=wb(this.anchorViewportLeave);e||!n?this.reposition():n&&this._zone.run((function(){t.anchorViewportLeave.emit()}))}},{key:"copyFontStyles",value:function(){var e=this;this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach((function(t){return e.setContainerStyle(t.key,t.value)}))}},{key:"updateFixedClass",value:function(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}},{key:"setContainerStyle",value:function(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}},{key:"unsubscribeReposition",value:function(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||px)(Ua(sl),Ua(wx),Ua(bx),Ua(_x),Ua(Sx),Ua(xx),Ua(Ix),Ua(ul),Ua(gc))},px.\u0275cmp=St({type:px,selectors:[["kendo-popup"]],viewQuery:function(e,t){var n;1&e&&(Vu(JS,!0),Vu(Lb,!0)),2&e&&(Nu(n=Uu())&&(t.contentContainer=n.first),Nu(n=Uu())&&(t.resizeSensor=n.first))},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[tl([wx,Ix,bx,_x,Sx,xx]),qo],ngContentSelectors:ex,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,t){1&e&&(lo(),$a(0,"div",0,1),uo(2),Ba(3,XS,0,0,"ng-template",2),$a(4,"kendo-resize-sensor",3),io("resize",(function(){return t.onResize()})),Za(),Za()),2&e&&(Ka("ngClass",t.popupClass),Ir(3),Ka("ngTemplateOutlet",t.content)("ngIf",t.content),Ir(1),Ka("rateLimit",100))},directives:[Xh,Sf,rf,Lb],encapsulation:2}),px),Ax=new Ye("Popup Container"),Dx=((gx=function(){function e(t,n,i,r){_classCallCheck(this,e),this.applicationRef=t,this.componentFactoryResolver=n,this.injector=i,this.container=r}return _createClass(e,[{key:"rootViewContainer",get:function(){var e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}},{key:"rootViewContainerNode",get:function(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.contentFrom(e.content),n=t.component,i=t.nodes,r=this.appendPopup(i,e.appendTo),s=r.instance;this.projectComponentInputs(r,e),r.changeDetectorRef.detectChanges(),n&&n.changeDetectorRef.detectChanges();var a=this.getComponentRootNode(r);return{close:function(){var e;n&&n.destroy(),r.destroy(),(e=a)&&e.parentNode&&e.parentNode.removeChild(e)},content:n,popup:r,popupAnchorViewportLeave:s.anchorViewportLeave,popupClose:s.close,popupElement:a,popupOpen:s.open,popupPositionChange:s.positionChange}}},{key:"appendPopup",value:function(e,t){var n=this.createComponent(Fx,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(n)),n}},{key:"getComponentRootNode",value:function(e){return e.location.nativeElement}},{key:"getComponentFactory",value:function(e){return this.componentFactoryResolver.resolveComponentFactory(e)}},{key:"createComponent",value:function(e,t,n){var i=this.getComponentFactory(e);if(n)return n.createComponent(i,void 0,this.injector,t);var r=i.create(this.injector,t);return this.applicationRef.attachView(r.hostView),r}},{key:"projectComponentInputs",value:function(e,t){return Object.getOwnPropertyNames(t).filter((function(e){return"content"!==e||t.content instanceof Tl})).map((function(n){e.instance[n]=t[n]})),e}},{key:"contentFrom",value:function(e){if(!e||e instanceof Tl)return{component:null,nodes:[[]]};var t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}}]),e}()).\u0275fac=function(e){return new(e||gx)(st(Nc),st(rl),st(Ca),st(Ax,8))},gx.\u0275prov=Ce({token:gx,factory:gx.\u0275fac}),gx),Ox=((vx=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:vx}),vx.\u0275inj=we({factory:function(e){return new(e||vx)},providers:[Dx],imports:[[Ef,Nb]]}),vx),Rx=function(){return"undefined"!=typeof window},Px={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},Lx={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},Nx={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},Mx={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},Vx=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},Hx=Rx()&&window.navigator?window.navigator.userAgent:null,jx=Hx?function(e){var t=null,n=[];for(var i in Nx)if(Nx.hasOwnProperty(i)&&(n=e.match(Nx[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(Hx):null,Bx=Hx?function(e){var t,n=[];for(var i in Px)if(Px.hasOwnProperty(i)){if(!(n=e.match(Px[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var r={};return r.device=i,r.browser=Vx(e,Mx,"default"),r.name=Vx(i,Lx),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3]?n[3].replace("_","."):".0",t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(Hx):null,zx=Rx()&&"ontouchstart"in window,Ux=jx&&!jx.chrome&&window.MSPointerEvent,Gx=jx&&!jx.chrome&&window.PointerEvent,qx=Bx&&(zx||Ux||Gx),Kx=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,Wx={undefined:function(e){return e}};function $x(e){return function(t){return t.lift(new Zx(e))}}var Zx=function(){function e(t){_classCallCheck(this,e),this.predicate=t}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new Yx(e,this.predicate))}}]),e}(),Yx=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).predicate=i,r.skipping=!0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}},{key:"tryCallPredicate",value:function(e){try{var t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(n){this.destination.error(n)}}}]),n}(S),Qx=["input"],Jx=function(e,t){return{focus:e,blur:t}},Xx=["content"],eE=["list"];function tE(e,t){}var nE=function(e,t){return{templateRef:e,$implicit:t}};function iE(e,t){if(1&e&&Ba(0,tE,0,0,"ng-template",9),2&e){var n=ao(2);Ka("templateContext",fu(1,nE,n.fixedGroupTemplate.templateRef,n.currentGroup))}}function rE(e,t){if(1&e&&($a(0,"strong"),Oo(1),Za()),2&e){var n=ao(2);Ir(1),Ro(n.currentGroup)}}var sE=function(e){return{"k-virtual-item":e}},aE=function(e,t,n){return{"height.px":e,"minHeight.px":t,boxSizing:n}};function oE(e,t){if(1&e&&($a(0,"div",7),Ba(1,iE,1,4,void 0,5),Ba(2,rE,2,1,"ng-template",8),Za()),2&e){var n=ao();Ka("ngClass",hu(4,sE,n.virtual))("ngStyle",du(6,aE,null==n.virtual?null:n.virtual.itemHeight,null==n.virtual?null:n.virtual.itemHeight,n.virtual?"border-box":"inherit")),Ir(1),Ka("ngIf",n.fixedGroupTemplate),Ir(1),Ka("ngIf",!n.fixedGroupTemplate)}}function lE(e,t){}function uE(e,t){if(1&e&&Ba(0,lE,0,0,"ng-template",9),2&e){var n=ao().$implicit,i=ao(2);Ka("templateContext",fu(1,nE,i.template.templateRef,n))}}function cE(e,t){if(1&e&&Oo(0),2&e){var n=ao().$implicit;Ro(ao(2).getText(n))}}var hE=function(e,t){return{"k-virtual-item":e,"k-state-disabled":t}};function fE(e,t){if(1&e&&($a(0,"li",11),Ba(1,uE,1,4,void 0,5),Ba(2,cE,1,1,"ng-template",8),Za()),2&e){var n=t.$implicit,i=t.index,r=ao(2);Ka("height",null==r.virtual?null:r.virtual.itemHeight)("index",i+r.startFrom)("multipleSelection",r.multipleSelection)("ngClass",fu(8,hE,r.virtual,r.isDisabled(i))),Ha("id",r.optionPrefix+"-"+r.getValue(n))("tabIndex",-1),Ir(1),Ka("ngIf",r.template),Ir(1),Ka("ngIf",!r.template)}}function dE(e,t){1&e&&Ba(0,fE,3,11,"ng-template",10),2&e&&Ka("ngForOf",ao().data)}function pE(e,t){}function vE(e,t){if(1&e&&Ba(0,pE,0,0,"ng-template",9),2&e){var n=ao(2).$implicit,i=ao(2);Ka("templateContext",fu(1,nE,i.groupTemplate.templateRef,n.value))}}function gE(e,t){if(1&e&&($a(0,"strong"),Oo(1),Za()),2&e){var n=ao(2).$implicit;Ir(1),Po(" ",n.value,"")}}function mE(e,t){if(1&e&&($a(0,"li",14),Ba(1,vE,1,4,void 0,5),Ba(2,gE,2,1,"ng-template",8),Za()),2&e){var n=ao().$implicit,i=ao(2);Ka("ngClass",hu(7,sE,i.virtual))("ngStyle",du(9,aE,null==i.virtual?null:i.virtual.itemHeight,null==i.virtual?null:i.virtual.itemHeight,i.virtual?"border-box":"inherit")),Ha("group-index",n.index)("id",i.optionPrefix+"-"+i.getValue(n.value))("tabIndex",-1),Ir(1),Ka("ngIf",i.groupTemplate),Ir(1),Ka("ngIf",!i.groupTemplate)}}function yE(e,t){}function kE(e,t){if(1&e&&Ba(0,yE,0,0,"ng-template",9),2&e){var n=ao(2).$implicit,i=ao(2);Ka("templateContext",fu(1,nE,i.template.templateRef,n.value))}}function bE(e,t){if(1&e&&Oo(0),2&e){var n=ao(2).$implicit;Ro(ao(2).getText(n.value))}}function CE(e,t){if(1&e&&($a(0,"li",11),Ba(1,kE,1,4,void 0,5),Ba(2,bE,1,1,"ng-template",8),Za()),2&e){var n=ao().$implicit,i=ao(2);Ka("height",null==i.virtual?null:i.virtual.itemHeight)("index",n.offsetIndex)("multipleSelection",i.multipleSelection)("ngClass",fu(9,hE,i.virtual,i.isDisabled(n.offsetIndex))),Ha("absolute-index",n.index)("id",i.optionPrefix+"-"+i.getValue(n.value))("tabIndex",-1),Ir(1),Ka("ngIf",i.template),Ir(1),Ka("ngIf",!i.template)}}function wE(e,t){if(1&e&&(Ba(0,mE,3,13,"li",12),Ba(1,CE,3,12,"li",13)),2&e){var n=t.$implicit;Ka("ngIf",n.header&&n.index>0),Ir(1),Ka("ngIf",!n.header)}}function _E(e,t){1&e&&Ba(0,wE,2,2,"ng-template",10),2&e&&Ka("ngForOf",ao().data)}function SE(e,t){if(1&e&&($a(0,"div",15),Ya(1,"div"),Za()),2&e){var n=ao();Ir(1),bo("height",n.scrollHeight,"px")}}var xE=function(e,t){return{"k-virtual-content":e,"k-list-scroller":t}},EE=function(e){return{"k-virtual-list":e}},IE=["container"],TE=["popupTemplate"],FE=["optionsList"],AE=["noDataText",$localize(_templateObject||(_templateObject=_taggedTemplateLiteral([":kendo.autocomplete.noDataText|The text displayed in the popup when there are no items\u241f4e9993e088a293543eb0c2801343518c115b6f20\u241f2690656529626907484:NO DATA FOUND"]))),"clearTitle",$localize(_templateObject2||(_templateObject2=_taggedTemplateLiteral([":kendo.autocomplete.clearTitle|The title of the clear button\u241f7cf49cc2d50eebd29f8d61564512383caaaac7a6\u241f4821453594854847070:clear"])))];function DE(e,t){if(1&e){var n=eo();$a(0,"span",8),io("click",(function(e){return un(n),ao().clearValue(e)}))("mousedown",(function(e){return un(n),e.preventDefault()})),Za()}2&e&&Ha("title",ao().clearTitle)}function OE(e,t){1&e&&Ya(0,"span",9)}function RE(e,t){}var PE=function(e){return{templateRef:e}};function LE(e,t){if(1&e&&Ba(0,RE,0,0,"ng-template",14),2&e){var n=ao(2);Ka("templateContext",hu(1,PE,n.headerTemplate.templateRef))}}function NE(e,t){}function ME(e,t){if(1&e&&($a(0,"div"),Oo(1),Za()),2&e){var n=ao(3);Ir(1),Ro(n.noDataText)}}function VE(e,t){if(1&e&&($a(0,"div",15),Ba(1,NE,0,0,"ng-template",16),Ba(2,ME,2,1,"ng-template",6),Za()),2&e){var n=ao(2);Ir(1),Ka("ngIf",n.noDataTemplate)("templateContext",hu(3,PE,null==n.noDataTemplate?null:n.noDataTemplate.templateRef)),Ir(1),Ka("ngIf",!n.noDataTemplate)}}function HE(e,t){}function jE(e,t){if(1&e&&Ba(0,HE,0,0,"ng-template",14),2&e){var n=ao(2);Ka("templateContext",hu(1,PE,n.footerTemplate.templateRef))}}function BE(e,t){if(1&e){var n=eo();Ba(0,LE,1,3,void 0,10),$a(1,"kendo-list",11,12),io("pageChange",(function(e){return un(n),ao().pageChange(e)})),Za(),Ba(3,VE,3,5,"div",13),Ba(4,jE,1,3,void 0,10)}if(2&e){var i=ao();Ka("ngIf",i.headerTemplate),Ir(1),Ka("id",i.listBoxId)("optionPrefix",i.optionPrefix)("data",i.data)("textField",i.valueField)("valueField",i.valueField)("template",i.template)("groupTemplate",i.groupTemplate)("fixedGroupTemplate",i.fixedGroupTemplate)("height",i.listHeight)("show",i.isOpen)("virtual",i.virtual),Ir(2),Ka("ngIf",0===i.data.length),Ir(1),Ka("ngIf",i.footerTemplate)}}function zE(e,t){if(1&e){var n=eo();$a(0,"kendo-resize-sensor",17),io("resize",(function(){return un(n),ao().onResize()})),Za()}}var UE=["wrapper"];$localize(_templateObject3||(_templateObject3=_taggedTemplateLiteral([":kendo.combobox.noDataText|The text displayed in the popup when there are no items\u241f2b6e00c74a6d9c98c03a6274d0224e9bd457ff89\u241f7708502966028483300:NO DATA FOUND"]))),$localize(_templateObject4||(_templateObject4=_taggedTemplateLiteral([":kendo.combobox.clearTitle|The title of the clear button\u241f069e8fae80677e3e785861123bef446b3ff41ab4\u241f2025597431468961462:clear"])));var GE=["noDataText",$localize(_templateObject5||(_templateObject5=_taggedTemplateLiteral([":kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items\u241f4fc2f70c9c8cf7b18affd6b938105996d6ac3306\u241f8289552890585138350:NO DATA FOUND"])))];function qE(e,t){}function KE(e,t){if(1&e&&Ba(0,qE,0,0,"ng-template",10),2&e){var n=ao();Ka("templateContext",fu(1,nE,n.valueTemplate.templateRef,n.dataItem))}}function WE(e,t){1&e&&Oo(0),2&e&&Ro(ao().getText())}function $E(e,t){if(1&e){var n=eo();$a(0,"span",14),io("click",(function(e){return un(n),e.stopImmediatePropagation()})),$a(1,"input",15),io("ngModelChange",(function(e){return un(n),ao(2).filterText=e}))("keydown",(function(e){return un(n),ao(2).keydown(e)}))("input",(function(e){return un(n),ao(2).handleFilter(e)}))("focus",(function(){return un(n),ao(2).onFilterFocus()}))("blur",(function(){return un(n),ao(2).blurFilterInput()})),Za(),Ya(2,"span",16),Za()}if(2&e){var i=ao(2);Ir(1),Ka("filterInput",i.isFocused&&!i.touchEnabled)("dir",i.direction)("ngModel",i.filterText),Ha("aria-owns",i.ariaOwns)("aria-activedescendant",i.ariaActivedescendant)("aria-label",i.noDataLabel)}}var ZE=function(e){return{"k-state-disabled":e}};function YE(e,t){if(1&e&&($a(0,"div",17),Oo(1),Za()),2&e){var n=ao(2);Ka("ngClass",hu(3,ZE,n.isDisabledDefaultItem))("index",-1),Ir(1),Po(" ",n.getDefaultItemText()," ")}}function QE(e,t){}function JE(e,t){if(1&e&&($a(0,"div",17),Ba(1,QE,0,0,"ng-template",10),Za()),2&e){var n=ao(2);Ka("ngClass",hu(3,ZE,n.isDisabledDefaultItem))("index",-1),Ir(1),Ka("templateContext",fu(5,nE,n.itemTemplate.templateRef,n.defaultItem))}}function XE(e,t){}function eI(e,t){if(1&e&&Ba(0,XE,0,0,"ng-template",10),2&e){var n=ao(2);Ka("templateContext",hu(1,PE,n.headerTemplate.templateRef))}}function tI(e,t){}function nI(e,t){if(1&e&&($a(0,"div"),Oo(1),Za()),2&e){var n=ao(3);Ir(1),Ro(n.noDataText)}}function iI(e,t){if(1&e&&($a(0,"div",18),Ba(1,tI,0,0,"ng-template",19),Ba(2,nI,2,1,"ng-template",5),Za()),2&e){var n=ao(2);Ir(1),Ka("ngIf",n.noDataTemplate)("templateContext",hu(3,PE,n.noDataTemplate?n.noDataTemplate.templateRef:void 0)),Ir(1),Ka("ngIf",!n.noDataTemplate)}}function rI(e,t){}function sI(e,t){if(1&e&&Ba(0,rI,0,0,"ng-template",10),2&e){var n=ao(2);Ka("templateContext",hu(1,PE,n.footerTemplate.templateRef))}}function aI(e,t){if(1&e){var n=eo();Ba(0,$E,3,6,"ng-template",5),Ba(1,YE,2,5,"ng-template",5),Ba(2,JE,2,8,"ng-template",5),Ba(3,eI,1,3,void 0,4),$a(4,"kendo-list",11,12),io("pageChange",(function(e){return un(n),ao().pageChange(e)})),Za(),Ba(6,iI,3,5,"div",13),Ba(7,sI,1,3,void 0,4)}if(2&e){var i=ao();Ka("ngIf",i.filterable),Ir(1),Ka("ngIf",i.defaultItem&&!i.itemTemplate),Ir(1),Ka("ngIf",i.defaultItem&&i.itemTemplate),Ir(1),Ka("ngIf",i.headerTemplate),Ir(1),Ka("id",i.listBoxId)("optionPrefix",i.optionPrefix)("data",i.data)("textField",i.textField)("valueField",i.valueField)("template",i.itemTemplate)("groupTemplate",i.groupTemplate)("fixedGroupTemplate",i.fixedGroupTemplate)("height",i.listHeight)("show",i.isOpen)("virtual",i.virtual),Ir(2),Ka("ngIf",0===i.data.length),Ir(1),Ka("ngIf",i.footerTemplate)}}function oI(e,t){if(1&e){var n=eo();$a(0,"kendo-resize-sensor",20),io("resize",(function(){return un(n),ao().onResize()})),Za()}}var lI=function(e,t){return{"k-dropdown-wrap":!0,"k-state-default":e,"k-state-disabled":t}};$localize(_templateObject6||(_templateObject6=_taggedTemplateLiteral([":kendo.multiselect.noDataText|The text displayed in the popup when there are no items\u241f3cc1323f79a5fe012960578e513f8a35b2af1e96\u241f1450213984397806503:NO DATA FOUND"]))),$localize(_templateObject7||(_templateObject7=_taggedTemplateLiteral([":kendo.combobox.clearTitle|The title of the clear button\u241f069e8fae80677e3e785861123bef446b3ff41ab4\u241f2025597431468961462:clear"])));var uI,cI,hI,fI,dI,pI,vI,gI,mI,yI,kI,bI,CI,wI,_I,SI,xI,EI,II,TI,FI,AI,DI,OI,RI,PI,LI,NI,MI=function(e){return null!=e},VI=function(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n},HI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(MI(e))return n?t&&MI(e[t])?e[t]:e:t?e[t]:e},jI=function(e,t,n){if(!MI(e))return!1;var i=String(e);return n&&(i=i.toLowerCase()),0===i.indexOf(t)},BI=function(e){return e.className.includes("ng-untouched")},zI=function(e){},UI=((vI=function(){function e(t,n){_classCallCheck(this,e),this.localization=t,this.valueChange=new xu,this.onBlur=new xu,this.onFocus=new xu,this.onClick=new xu,this.onNavigate=new xu,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=t.rtl?"rtl":"ltr",this.renderer=n}return _createClass(e,[{key:"userInput",get:function(){return this._userInput},set:function(e){this._userInput=e||""}},{key:"value",get:function(){return this.input.nativeElement.value}},{key:"placeholder",get:function(){return this._placeholder},set:function(e){this._placeholder=e||"",this.setInputSize()}},{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;return e.direction=n?"rtl":"ltr"}))}},{key:"ngOnChanges",value:function(e){var t,n,i;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;var r=this.input.nativeElement.selectionStart,s=t.length===r;this.writeInputValue(this.suggestedText?(n=this.userInput).concat((i=this.suggestedText).substr(i.toLowerCase().indexOf(n.toLowerCase())+n.length)):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):s?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(r,r),this._previousValue=this.userInput}}},{key:"ngOnDestroy",value:function(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"writeInputValue",value:function(e){kb()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}},{key:"setInputSelection",value:function(e,t){if(kb()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(n){}}},{key:"handleInput",value:function(e){var t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}},{key:"handleFocus",value:function(e){this.onFocus.emit(e)}},{key:"handleBlur",value:function(e){this.onBlur.emit(e)}},{key:"handleKeydown",value:function(e){[Vb.ArrowUp,Vb.ArrowDown,Vb.ArrowLeft,Vb.ArrowRight,Vb.Enter,Vb.Escape,Vb.Delete,Vb.Backspace,Vb.Home,Vb.End].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}},{key:"focus",value:function(){kb()&&this.input.nativeElement.focus()}},{key:"blur",value:function(){kb()&&this.input.nativeElement.blur()}},{key:"setInputSize",value:function(){var e=function(e){return e?e.length:0},t=this.input.nativeElement,n=e(this.placeholder),i=e(this.value),r=Math.max(n,i,1);this.renderer.setAttribute(t,"size",r.toString())}}]),e}()).\u0275fac=function(e){return new(e||vI)(Ua(tC),Ua(ul))},vI.\u0275cmp=St({type:vI,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){var n;1&e&&Mu(Qx,!0),2&e&&Nu(n=Uu())&&(t.input=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&Co("k-searchbar",t.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[qo],decls:2,vars:21,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope","input","keydown"],["input",""]],template:function(e,t){1&e&&($a(0,"input",0,1),io("input",(function(e){return t.handleInput(e)}))("keydown",(function(e){return t.handleKeydown(e)})),Za()),2&e&&(function(e,t,n,i){var r=ln(),s=kn(2);r.firstUpdatePass&&xo(r,null,s,!0);var a=on();if(n!==wr&&La(a,s,n)){var o=r.data[Dn()+20];if(Do(o,!0)&&!So(r,s)){var l=o.classesWithoutHost;null!==l&&(n=Oe(l,n||"")),Wa(r,o,a,n,!0)}else!function(e,t,n,i,r,s,a,o){r===wr&&(r=fo);for(var l=0,u=0,c=0<r.length?r[0]:null,h=0<s.length?s[0]:null;null!==c||null!==h;){var f=l<r.length?r[l+1]:void 0,d=u<s.length?s[u+1]:void 0,p=null,v=void 0;c===h?(l+=2,u+=2,f!==d&&(p=h,v=d)):null===h||null!==c&&c<h?(l+=2,p=c):(u+=2,p=h,v=d),null!==p&&To(e,t,n,i,p,v,!0,o),c=l<r.length?r[l]:null,h=u<s.length?s[u]:null}}(r,o,a,a[11],a[s+1],a[s+1]=function(e,t,n){if(null==n||""===n)return fo;var i=[],r=Ti(n);if(Array.isArray(r))for(var s=0;s<r.length;s++)e(i,r[s],!0);else if("object"==typeof r)for(var a in r)r.hasOwnProperty(a)&&e(i,a,r[a]);else"string"==typeof r&&t(i,r);return i}(e,t,n),0,s)}}(gt,wo,"k-input"),Ka("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",fu(18,Jx,t.handleFocus,t.handleBlur))("scope",t),Ha("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.popupOpen)("aria-owns",t.listId)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-label",t.noDataLabel))},directives:[Eb],encapsulation:2}),vI),GI=((pI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||pI)(Ua(Tl))},pI.\u0275dir=At({type:pI,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),pI),qI=((dI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||dI)(Ua(Tl))},dI.\u0275dir=At({type:dI,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""]]}),dI),KI=((fI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||fI)(Ua(Tl))},fI.\u0275dir=At({type:fI,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""]]}),fI),WI=((hI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||hI)(Ua(Tl))},hI.\u0275dir=At({type:hI,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),hI),$I=((cI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||cI)(Ua(Tl))},cI.\u0275dir=At({type:cI,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),cI),ZI=((uI=function(){function e(){_classCallCheck(this,e),this.onSelect=new xu,this.onChange=new xu,this.onFocus=new xu,this.total=0,this.selectedIndices=[]}return _createClass(e,[{key:"getTotal",value:function(){return this.total}},{key:"isSelected",value:function(e){return MI(this.selectedIndices.find((function(t){return t===e})))}},{key:"isFocused",value:function(e){return e===this.focused}},{key:"focus",value:function(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}},{key:"select",value:function(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:MI(e)}))}},{key:"add",value:function(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}},{key:"unselect",value:function(e){if(this.isSelected(e)){var t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}}},{key:"change",value:function(e){var t=MI(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}},{key:"resetSelection",value:function(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}},{key:"selected",get:function(){return this.selectedIndices.slice()}},{key:"focused",get:function(){return this.focusedIndex},set:function(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}]),e}()).\u0275fac=function(e){return new(e||uI)},uI.\u0275prov=Ce({token:uI,factory:uI.\u0275fac}),uI),YI=function(e){return e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Enter=3]="Enter",e[e.Tab=4]="Tab",e[e.Esc=5]="Esc",e[e.Delete=6]="Delete",e[e.Backspace=7]="Backspace",e[e.Home=8]="Home",e[e.End=9]="End",e[e.Up=10]="Up",e[e.Down=11]="Down",e[e.Left=12]="Left",e[e.Right=13]="Right",e}({}),QI=((mI=function(){function e(){_classCallCheck(this,e),this.grouped=!1,this.groupIndices=[]}return _createClass(e,[{key:"data",get:function(){return this.grouped?this._flatData:this._data},set:function(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}},{key:"itemsCount",get:function(){return MI(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter((function(e){return!e.header})):this.data).length:0}},{key:"isGrouped",value:function(e){return MI(e)&&0!==e.length&&MI(e[0])&&(n=["aggregates","field","items","value"],!!MI(t=e[0])&&n.every((function(e){return t.hasOwnProperty(e)})));var t,n}},{key:"getGroupIndices",value:function(e){for(var t=[],n=0;n<=e.length-1;n++)t[n]=(t[n-1]||0)+e[n].items.length;return t}},{key:"filter",value:function(e){var t=[];if(this.isGrouped(this.data))for(var n=0;n<=this.groupIndices.length-1;n++){var i=this.data[n].items.filter(e);i&&(t=t.concat(i))}else t=this.data.filter(e);return t}},{key:"indexOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=function(t){return t===e};return this.grouped&&(n=function(t){return t.value===e}),this.findIndex(n,t)}},{key:"findIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;if(this.grouped){var i=this._flatData.filter((function(e){return!e.header&&e.offsetIndex>=t}));n=i.findIndex(e),n=i[n]?i[n].offsetIndex:-1}else{var r=this.data.slice(t).findIndex(e);n=-1!==r?r+t:-1}return n}},{key:"closestGroup",value:function(e){for(var t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}},{key:"find",value:function(e){var t=this.findIndex(e);return this.itemAt(t)}},{key:"flatIndex",value:function(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;var t=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));return t?t.index:-1}},{key:"itemAt",value:function(e){var t;if(0===this.itemsCount)return t;if(this.grouped){var n=this._flatData.find((function(t){return!t.header&&t.offsetIndex===e}));n&&(t=n.value)}else t=this.data[e];return t}},{key:"groupAt",value:function(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find((function(t){return t.header&&t.index===e}))}},{key:"groupField",value:function(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}},{key:"itemGroup",value:function(e){if(e&&0!==this.itemsCount&&this.isGrouped){var t=this.groupField();return t?e[t]:void 0}}},{key:"flatten",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=[];MI(t)&&r.push({header:!0,index:i+n,offsetIndex:i,value:t});for(var s=0;s<e.length;s++){var a=[];e[s].items?(a=this.flatten(e[s].items,e[s].value,n,s),n+=e[s].items.length):a.push({header:!1,index:i+n+s+1,offsetIndex:n+s,value:e[s]}),r=r.concat(a)}return r}}]),e}()).\u0275fac=function(e){return new(e||mI)},mI.\u0275prov=Ce({token:mI,factory:mI.\u0275fac}),mI),JI=((gI=function(){function e(t){_classCallCheck(this,e),this.dataService=t,this.itemDisabled=null}return _createClass(e,[{key:"isIndexDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.itemAt(e);if(MI(t))return this.itemDisabled({dataItem:t,index:e});if(MI(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}},{key:"isItemDisabled",value:function(e){if(this.itemDisabled){var t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(MI(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}]),e}()).\u0275fac=function(e){return new(e||gI)(st(QI))},gI.\u0275prov=Ce({token:gI,factory:gI.\u0275fac}),gI),XI=function e(t,n){_classCallCheck(this,e),this.index=t,this.originalEvent=n},eT=((kI=function(){function e(t,n){_classCallCheck(this,e),this.disabledItemsService=t,this.selectionService=n,this.open=new xu,this.close=new xu,this.enter=new xu,this.tab=new xu,this.esc=new xu,this.up=new xu,this.right=new xu,this.down=new xu,this.left=new xu,this.delete=new xu,this.backspace=new xu,this.home=new xu,this.end=new xu}return _createClass(e,[{key:"process",value:function(e){var t,n=e.originalEvent.keyCode,i=e.originalEvent.altKey,r=YI.Undefined;i&&n===Vb.ArrowDown?r=YI.Open:i&&n===Vb.ArrowUp?r=YI.Close:n===Vb.Enter?r=YI.Enter:n===Vb.Escape?r=YI.Esc:n===Vb.Tab?r=YI.Tab:n===Vb.ArrowUp?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),r=YI.Up):n===Vb.ArrowLeft?(t=this.next({current:e.current,start:e.min,end:e.max,step:-1}),r=YI.Left):n===Vb.ArrowDown?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),r=YI.Down):n===Vb.ArrowRight?(t=this.next({current:e.current,start:e.min,end:e.max,step:1}),r=YI.Right):n===Vb.Home?(t=this.isDisabled(0)?e.current:0,r=YI.Home):n===Vb.End?(t=this.isDisabled(e.max)?e.current:e.max,r=YI.End):n===Vb.Delete?r=YI.Delete:n===Vb.Backspace&&(r=YI.Backspace);var s=new XI(t,e.originalEvent);return r!==YI.Undefined&&this[YI[r].toLowerCase()].emit(s),r}},{key:"next",value:function(e){var t=e.current,n=e.start,i=e.end,r=e.step,s=MI(t)?this.clampIndex(t+r,n,i):n,a=this.firstFocusableIndex(s,n,i,r);return MI(a)?a:this.selectionService.isSelected(t)&&t>=n?t:this.firstFocusableIndex(s,n,i,-1*r)}},{key:"clampIndex",value:function(e,t,n){return!MI(e)||e<t?t:e>n?n:e}},{key:"firstFocusableIndex",value:function(e,t,n,i){for(;t<=e&&e<=n;){if(!this.isDisabled(e))return e;e+=i}}},{key:"isDisabled",value:function(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}]),e}()).\u0275fac=function(e){return new(e||kI)(st(JI),st(ZI))},kI.\u0275prov=Ce({token:kI,factory:kI.\u0275fac}),kI),tT=((yI=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||yI)(Ua(Tl))},yI.\u0275dir=At({type:yI,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""]]}),yI),nT=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),iT=function e(){_classCallCheck(this,e)},rT=((CI=function e(t){_classCallCheck(this,e),this.element=t}).\u0275fac=function(e){return new(e||CI)(Ua(sl))},CI.\u0275dir=At({type:CI,selectors:[["li","role","option"],["li","role","group"]]}),CI),sT=((bI=function(){function e(t,n,i,r,s,a,o){var l=this;_classCallCheck(this,e),this.dataService=t,this.wrapper=n,this.selectionService=i,this.disabledItemsService=r,this.cdr=s,this.zone=a,this.renderer=o,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new xu,this.pageChange=new xu,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=re(this.selectionService.onSelect.pipe($((function(e){return e.indices[0]}))),this.selectionService.onFocus).pipe(xg((function(e){return l.zone.onStable.pipe(kg(1),$((function(){return e})))}))).subscribe(this.scrollToItem.bind(this))}return _createClass(e,[{key:"data",get:function(){return this._data},set:function(e){this._data=e[0]&&e[0].header?e.slice(0):e}},{key:"items",get:function(){return this._items},set:function(e){this._items=e}},{key:"pageSize",get:function(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}},{key:"scrollHeight",get:function(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}},{key:"ngOnChanges",value:function(e){bb("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.scrollSubscription=hb(e.content.nativeElement,"scroll").pipe(cb(100),Pg(e.prefetchData.bind(e)),Pg(e.findCurrentGroup.bind(e))).subscribe((function(){e.lastScrollTop=e.content.nativeElement.scrollTop}))}))}},{key:"ngAfterViewChecked",value:function(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}},{key:"ngOnDestroy",value:function(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}},{key:"firstVisibleItem",value:function(){var e=this,t=this.content.nativeElement,n=t.getBoundingClientRect(),i=Array.prototype.slice.call(t.querySelectorAll(".k-state-disabled"));i.forEach((function(t){return e.renderer.setStyle(t,"pointer-events","auto")}));var r=document.elementFromPoint(n.left+1,n.top+1);return i.forEach((function(t){return e.renderer.setStyle(t,"pointer-events","none")})),r}},{key:"findCurrentGroup",value:function(){if(this.dataService.grouped){var e,t=this.firstVisibleItem();t?"group"===t.getAttribute("role")?(e=parseInt(t.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(e).value):(e=parseInt(t.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(e))):this.currentGroup=void 0,this.cdr.detectChanges()}else this.currentGroup=void 0}},{key:"prefetchData",value:function(){if(this.virtual){var e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,n=Math.trunc(t/this.virtual.itemHeight),i=t>this.lastScrollTop,r=this.lastLoaded-this.pageSize+e>=n-(this.pageSize-(this.lastLoaded-this.startFrom));i&&n+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(n),!i&&r&&this.changePage(n-this.pageSize+e+1)}}},{key:"changePage",value:function(e){var t=this;this.zone.run((function(){var n=t.pageSize+e;n>t.virtual.total&&(e--,n=t.virtual.total),e<0&&(e=0),t.startFrom=e,t.lastLoaded=n,t.pageChange.emit({skip:e,take:t.pageSize})}))}},{key:"index",value:function(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}},{key:"getText",value:function(e){return HI(e,this.textField)}},{key:"getValue",value:function(e){return HI(e,this.valueField)}},{key:"isDisabled",value:function(e){return MI(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}},{key:"scrollToItem",value:function(e){var t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0),this.virtual&&t>-1)this.scrollToIndex(t);else{var n=this.items.toArray();MI(n[t])&&-1!==t&&this.scroll(n[t].element)}}},{key:"scrollToIndex",value:function(e){var t=this.content.nativeElement,n=t.scrollTop,i=e*this.virtual.itemHeight,r=t.clientHeight,s=i+this.virtual.itemHeight;n>i?n=i:s>n+r&&(n=s-r),t.scrollTop=n}},{key:"scroll",value:function(e){if(e){var t=e.nativeElement,n=this.content.nativeElement,i=t.offsetTop,r=n.scrollTop,s=n.clientHeight,a=i+t.offsetHeight;r>i?r=i:a>r+s&&(r=a-s),n.scrollTop=r}}},{key:"positionItems",value:function(){var e=this;this.items.forEach((function(t,n){e.renderer.setStyle(t.element.nativeElement,"transform","translateY(".concat((n+e.startFrom)*e.virtual.itemHeight,"px"))}))}},{key:"firstGroupHeaderInTargetedPage",value:function(e){return!MI(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}}]),e}()).\u0275fac=function(e){return new(e||bI)(Ua(QI),Ua(sl),Ua(ZI),Ua(JI),Ua(sa),Ua(gc),Ua(ul))},bI.\u0275cmp=St({type:bI,selectors:[["kendo-list"]],viewQuery:function(e,t){var n;1&e&&(Vu(Xx,!0),Vu(eE,!0),Vu(rT,!0)),2&e&&(Nu(n=Uu())&&(t.content=n.first),Nu(n=Uu())&&(t.list=n.first),Nu(n=Uu())&&(t.items=n))},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange"},features:[qo],decls:8,vars:15,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",1,"k-list","k-reset",3,"ngClass"],["list",""],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","presentation",1,"k-height-container"]],template:function(e,t){1&e&&(Ba(0,oE,3,10,"div",0),$a(1,"div",1,2),$a(3,"ul",3,4),Ba(5,dE,1,1,void 0,5),Ba(6,_E,1,1,void 0,5),Za(),Ba(7,SE,2,2,"div",6),Za()),2&e&&(Ka("ngIf",t.dataService.grouped),Ir(1),bo("max-height",t.height,"px"),Ka("ngClass",fu(10,xE,t.virtual,!t.virtual)),Ir(2),Ka("ngClass",hu(13,EE,t.virtual)),Ha("id",t.id)("aria-hidden",!t.show),Ir(2),Ka("ngIf",!t.dataService.grouped&&t.show),Ir(1),Ka("ngIf",t.dataService.grouped),Ir(1),Ka("ngIf",t.virtual))},directives:function(){return[rf,Xh,_f,pT,tf,rT,vT]},encapsulation:2}),bI),aT={pageSize:50,itemHeight:28},oT=function(e){return!0===e?aT:e?Object.assign({pageSize:aT.pageSize},e):null},lT={multi:!0,provide:OC,useExisting:Pe((function(){return uT}))},uT=((wI=function(){function e(t,n,i,r,s,a,o,l,u,c){_classCallCheck(this,e),this.localization=t,this.dataService=n,this.popupService=i,this.selectionService=r,this.navigationService=s,this.disabledItemsService=a,this._zone=o,this.cdr=l,this.renderer=u,this.highlightFirst=!0,this.focusableId="k-"+VI(),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new xu,this.filterChange=new xu,this.open=new xu,this.close=new xu,this.onFocus=new xu,this.onBlur=new xu,this.widgetClasses=!0,this.listBoxId=VI(),this.optionPrefix=VI(),this.onChangeCallback=zI,this.onTouchedCallback=zI,this.popupMouseDownHandler=function(e){return e.preventDefault()},this._popupSettings={animate:!0},this._open=!1,this._value="",this.valueChangeSubject=new M,this._isFocused=!1,this.direction=t.rtl?"rtl":"ltr",this.wrapper=c.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}return _createClass(e,[{key:"width",get:function(){var e=0;kb()&&(e=this.wrapper.offsetWidth);var t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}},{key:"height",get:function(){var e=this.popupSettings.height;return MI(e)?e+"px":"auto"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"suggestion",get:function(){if(this.text&&this.suggestedText){var e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}this.suggestedText=void 0}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){var n=MI(e)?e:!t._open;t._toggle(n)}))}},{key:"isOpen",get:function(){return this._open}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}},{key:"activeDescendant",get:function(){if(!this.isOpen||!MI(this.selectionService.focused)||-1===this.selectionService.focused)return null;var e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+HI(e,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.data.length)return this.noDataText}},{key:"clearTitle",get:function(){return this.localization.get("clearTitle")}},{key:"data",get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data},set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=HI(this.dataService.itemAt(0),this.valueField))}},{key:"value",get:function(){return this._value||""},set:function(e){this.verifySettings(e),this._value=e||"",this.text=this.value,this.cdr.markForCheck()}},{key:"popupSettings",get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({animate:!0},e)}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"tabIndex",get:function(){return this.tabindex},set:function(e){this.tabindex=e}},{key:"virtual",get:function(){return this._virtualSettings},set:function(e){this._virtualSettings=oT(e)}},{key:"isFocused",get:function(){return this._isFocused},set:function(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-state-focused"),this._isFocused=e}},{key:"isDisabled",get:function(){return this.disabled}},{key:"dir",get:function(){return this.direction}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize})}},{key:"reset",value:function(){this.value=""}},{key:"clearValue",value:function(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}},{key:"writeValue",value:function(e){this.value=e}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){this.disabled||this.searchbar.focus()}},{key:"blur",value:function(){this.disabled||this.searchbar.blur()}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"emitChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}},{key:"verifySettings",value:function(e){if(Ri()&&MI(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}},{key:"search",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),n):-1,this.disabledItemsService.isIndexDisabled(t)?t+1<this.dataService.itemsCount?this.search(e,t+1):this.selectionService.focus(-1):(this.selectionService.focus(t),this.suggest&&(this.suggestedText=HI(this.dataService.itemAt(t),this.valueField)))}},{key:"navigate",value:function(e){this.isOpen&&this.selectionService.focus(e)}},{key:"handleNavigate",value:function(e){var t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(!(this.disabled||this.readonly||isNaN(t))){var n=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});n!==YI.Undefined&&n!==YI.Backspace&&n!==YI.Delete&&n!==YI.Home&&n!==YI.End&&n!==YI.Left&&n!==YI.Right&&(n===YI.Enter&&this.isOpen||n!==YI.Enter)&&e.preventDefault()}}},{key:"handleEnter",value:function(e){var t,n=this.selectionService.focused;if(this.isOpen&&e.originalEvent.preventDefault(),n>=0)t=HI(this.dataService.itemAt(n),this.valueField);else{var i=this.suggest&&this.suggestedText&&this.data.length&&HI(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();t=this.isOpen&&i?this.suggestedText:this.searchbar.value}this.change(t)}},{key:"handleEscape",value:function(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}},{key:"searchBarChange",value:function(e){var t=MI(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}},{key:"handleFocus",value:function(){var e=this;this.isFocused=!0,wb(this.onFocus)&&this._zone.run((function(){e.onFocus.emit()}))}},{key:"handleBlur",value:function(){var e,t,n=this,i=this.filterable?this.selectionService.focused:-1;this.searchbar.input.nativeElement.scrollLeft=0,-1!==i?(e=this.dataService.itemAt(i),t=HI(e,this.valueField,!0)||""):t=this.searchbar.value;var r=t===this.searchbar.value,s=t.toLowerCase()===this.searchbar.value.toLowerCase();!r&&s&&this.selectionService.resetSelection([]),this.isFocused=!1;var a=this.value!==this.text;wb(this.onBlur)||wb(this.close)||BI(this.wrapper)||a?this._zone.run((function(){a&&n.change(n.searchbar.value),n.onBlur.emit(),n.onTouchedCallback(),n.togglePopup(!1)})):this.togglePopup(!1)}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"change",value:function(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}},{key:"subscribeEvents",value:function(){var e=this;kb()&&(this.valueChangeSubscription=this.valueChangeSubject.subscribe((function(t){var n=e.value!==t;e.value=t,e.text=t,n&&e.emitChange(t)})),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=re(this.navigationService.up,this.navigationService.down).subscribe((function(t){return e.navigate(t.index)})),this.closeSubscription=this.navigationService.close.subscribe((function(){return e.togglePopup(!1)})),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}},{key:"unsubscribeEvents",value:function(){kb()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())}},{key:"handleItemChange",value:function(e){var t=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),MI(t)){var n=HI(this.dataService.itemAt(t),this.valueField);this.change(n)}}},{key:"handleItemFocus",value:function(e){var t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=HI(this.dataService.itemAt(t),this.valueField))}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:t,vertical:"top"},anchorAlign:{horizontal:t,vertical:"bottom"}});var n=this.popupRef.popupElement,i=this.width,r=i.min,s=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=r,n.style.width=s,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"_toggle",value:function(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new nT;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"firstFocusableIndex",value:function(e){var t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"findIndexPredicate",value:function(e){var t=this;return this.dataService.grouped?function(n){var i=HI(n.value,t.valueField);return(i=MI(i)?i.toString().toLowerCase():"").startsWith(e.toLowerCase())}:function(n){var i=HI(n,t.valueField);return(i=MI(i)?i.toString().toLowerCase():"").startsWith(e.toLowerCase())}}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}}]),e}()).\u0275fac=function(e){return new(e||wI)(Ua(tC),Ua(QI),Ua(Dx),Ua(ZI),Ua(eT),Ua(JI),Ua(gc),Ua(sa),Ua(ul),Ua(sl))},wI.\u0275cmp=St({type:wI,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,n){var i;1&e&&(ju(n,GI,!0),ju(n,qI,!0),ju(n,KI,!0),ju(n,tT,!0),ju(n,WI,!0),ju(n,$I,!0)),2&e&&(Nu(i=Uu())&&(t.template=i.first),Nu(i=Uu())&&(t.headerTemplate=i.first),Nu(i=Uu())&&(t.footerTemplate=i.first),Nu(i=Uu())&&(t.noDataTemplate=i.first),Nu(i=Uu())&&(t.groupTemplate=i.first),Nu(i=Uu())&&(t.fixedGroupTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(Vu(IE,!0,Al),Vu(TE,!0),Vu(UI,!0),Vu(FE,!0)),2&e&&(Nu(n=Uu())&&(t.container=n.first),Nu(n=Uu())&&(t.popupTemplate=n.first),Nu(n=Uu())&&(t.searchbar=n.first),Nu(n=Uu())&&(t.optionsList=n.first))},hostVars:9,hostBindings:function(e,t){2&e&&(Ha("dir",t.dir),Co("k-widget",t.widgetClasses)("k-autocomplete",t.widgetClasses)("k-header",t.widgetClasses)("k-state-disabled",t.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[tl([lT,QI,ZI,eT,JI,tC,{provide:eC,useValue:"kendo.autocomplete"},{provide:iT,useExisting:Pe((function(){return wI}))},{provide:Mb,useExisting:Pe((function(){return wI}))}]),qo],decls:11,vars:15,consts:[["kendoAutoCompleteLocalizedMessages","",6,"noDataText","clearTitle"],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Qa(0,0),eu(1,AE),Ja(),$a(2,"kendo-searchbar",1,2),io("onNavigate",(function(e){return t.handleNavigate(e)}))("valueChange",(function(e){return t.searchBarChange(e)}))("onBlur",(function(){return t.handleBlur()}))("onFocus",(function(){return t.handleFocus()})),Za(),Ba(4,DE,1,1,"span",3),Ba(5,OE,1,0,"span",4),Ba(6,BE,5,14,"ng-template",null,5,Wu),Ba(8,zE,1,0,"ng-template",6),Xa(9,null,7)),2&e&&(Ir(2),Ka("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),Ir(2),Ka("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),Ir(1),Ka("ngIf",t.loading),Ir(3),Ka("ngIf",t.isOpen))},directives:function(){return[yT,UI,rf,sT,pT,Lb]},encapsulation:2}),wI),cT=new Ye("dropdowns-touch-enabled"),hT=((_I=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||_I)(Ua(Tl))},_I.\u0275dir=At({type:_I,selectors:[["","kendoDropDownListValueTemplate",""]]}),_I),fT={multi:!0,provide:OC,useExisting:Pe((function(){return dT}))},dT=((II=function(){function e(t,n,i,r,s,a,o,l,u,c,h){_classCallCheck(this,e),this.localization=t,this.popupService=n,this.selectionService=i,this.navigationService=r,this.disabledItemsService=s,this.dataService=a,this._zone=o,this.renderer=l,this.hostElement=u,this.cdr=c,this.touchEnabled=h,this.focusableId="k-"+VI(),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new xu,this.filterChange=new xu,this.selectionChange=new xu,this.open=new xu,this.close=new xu,this.onFocus=new xu,this.onBlur=new xu,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=VI(),this.optionPrefix=VI(),this.filterText="",this._isFocused=!1,this.onTouchedCallback=function(e){},this.onChangeCallback=function(e){},this.word="",this.last="",this.filterFocused=new xu,this.filterBlurred=new xu,this.wrapperFocused=new xu,this.wrapperBlurred=new xu,this.selectionSubscription=new C,this._open=!1,this._popupSettings={animate:!0},this.direction=t.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}return _createClass(e,[{key:"width",get:function(){var e=kb()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}},{key:"height",get:function(){var e=this.popupSettings.height;return MI(e)?e+"px":"auto"}},{key:"widgetTabIndex",get:function(){if(!this.disabled){var e=Number(this.tabIndex);return isNaN(e)?0:e}}},{key:"ariaExpanded",get:function(){return this.isOpen}},{key:"ariaOwns",get:function(){if(this.isOpen)return this.listBoxId}},{key:"ariaActivedescendant",get:function(){if(MI(this.dataItem))return this.optionPrefix+"-"+HI(this.dataItem,this.valueField)}},{key:"noDataLabel",get:function(){if(0===this.dataService.itemsCount)return this.noDataText}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"data",get:function(){var e=this.virtual;if(e){var t=e.skip||0,n=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,n)}return this.dataService.data},set:function(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}},{key:"value",get:function(){return this._value},set:function(e){MI(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}},{key:"popupSettings",get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({animate:!0},e)}},{key:"itemDisabled",set:function(e){if("function"!=typeof e)throw new Error("itemDisabled must be a function, but received ".concat(JSON.stringify(e),"."));this.disabledItemsService.itemDisabled=e}},{key:"virtual",get:function(){return this._virtualSettings},set:function(e){this._virtualSettings=oT(e)}},{key:"valuePrimitive",get:function(){return MI(this._valuePrimitive)?this._valuePrimitive:!MI(this.valueField)},set:function(e){this._valuePrimitive=e}},{key:"tabIndex",get:function(){return this.tabindex},set:function(e){this.tabindex=e}},{key:"blurComponent",value:function(){this.wrapperBlurred.emit()}},{key:"blurFilterInput",value:function(){this.filterBlurred.emit()}},{key:"focusComponent",value:function(){var e=this;this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,wb(this.onFocus)&&this._zone.run((function(){e.onFocus.emit()})))}},{key:"keydown",value:function(e){var t=MI(this.defaultItem)?-1:0,n=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,i=0;if(!(this.disabled||this.readonly||this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===Vb.Home||e.keyCode===Vb.End))){var r=MI(this.selectionService.selected[0]),s=MI(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);r&&!s||(e.keyCode===Vb.ArrowDown||e.keyCode===Vb.ArrowRight?i=-1:e.keyCode!==Vb.ArrowUp&&e.keyCode!==Vb.ArrowLeft||(i=1));var a=e,o=this.navigationService.process({current:n+i,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:a});o===YI.Undefined||o===YI.Tab||o===YI.Backspace||o===YI.Delete||(o===YI.Left||o===YI.Right)&&this.filterable||o===YI.Enter||a.preventDefault()}}},{key:"keypress",value:function(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}},{key:"click",value:function(e){e.preventDefault(),this.focus(),this.togglePopup(!this.isOpen)}},{key:"onResize",value:function(){if(this._open){var e=this.popupRef.popupElement,t=this.width,n=t.min,i=t.max;e.style.minWidth=n,e.style.width=i}}},{key:"dir",get:function(){return this.direction}},{key:"isFocused",get:function(){return this._isFocused},set:function(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e}},{key:"ngOnInit",value:function(){var e=this;this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr",e.setMessages()})),this.setMessages(),this.assignAriaDescribedBy()}},{key:"isEmpty",value:function(){var e=this.value;return!(0===e||!1===e||e||this.defaultItem)}},{key:"onFilterFocus",value:function(){this.filterFocused.emit()}},{key:"ngOnDestroy",value:function(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){var t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),bb("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),Cb(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}},{key:"ngAfterContentChecked",value:function(){this.verifySettings()}},{key:"focus",value:function(){this.disabled||this.wrapper.nativeElement.focus()}},{key:"blur",value:function(){this.disabled||this.wrapper.nativeElement.blur()}},{key:"toggle",value:function(e){var t=this;Promise.resolve(null).then((function(){var n=MI(e)?e:!t._open;t._toggle(n)}))}},{key:"_toggle",value:function(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}},{key:"triggerPopupEvents",value:function(e){var t=new nT;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}},{key:"togglePopup",value:function(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}},{key:"isOpen",get:function(){return this._open}},{key:"reset",value:function(){this.value=void 0}},{key:"writeValue",value:function(e){this.value=null===e?void 0:e}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"buttonClasses",get:function(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}},{key:"listContainerClasses",get:function(){var e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}},{key:"isDisabledDefaultItem",get:function(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}},{key:"getText",value:function(){return this.text}},{key:"getDefaultItemText",value:function(){return HI(this.defaultItem,this.textField)}},{key:"createPopup",value:function(){var e=this;this.virtual&&(this.virtual.skip=0);var t="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:t,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:t,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});var n=this.popupRef.popupElement,i=this.width,r=i.min,s=i.max;n.addEventListener("mousedown",this.popupMouseDownHandler),n.style.minWidth=r,n.style.width=s,n.style.height=this.height,n.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe((function(){e.cdr.detectChanges(),e.optionsList.scrollToItem(e.selectionService.focused)})),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe((function(){return e.togglePopup(!1)}))}},{key:"destroyPopup",value:function(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}},{key:"updateState",value:function(e){var t=e.dataItem,n=e.confirm,i=void 0!==n&&n;this.dataItem=t,this.text=this.prop(this.textField,this.valuePrimitive)(t),i&&(this._previousDataItem=t)}},{key:"clearState",value:function(){this.text=void 0,this.dataItem=void 0}},{key:"resetSelection",value:function(e){var t=!MI(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}},{key:"onSelectionChange",value:function(e){var t=e.dataItem;this.updateState({dataItem:t}),this.selectionChange.emit(t),this.assignAriaDescribedBy()}},{key:"subscribeEvents",value:function(){var e=this;kb()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(tg((function(t){return e.isOpen})),$(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(re(this.selectionService.onSelect.pipe(tg((function(t){return!e.isOpen}))),this.selectionService.onChange).pipe($(this.itemFromEvent.bind(this)),Pg((function(t){return e.togglePopup(!1)}))).subscribe((function(t){var n=t.dataItem,i=t.value;t.newSelection&&e.onSelectionChange({dataItem:n});var r=!MI(n)&&e._previousDataItem,s=i!==e.prop(e.valueField,e.valuePrimitive)(e.value);r?(e.updateState({dataItem:e._previousDataItem}),e.resetSelection()):s&&(e.value=e.valuePrimitive?i:n,e._previousDataItem=n,e.emitChange(e.value)),e.clearFilter()}))),this.navigationSubscription=re(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe($x((function(){return e.filterable}))),this.navigationService.right.pipe($x((function(){return e.filterable}))),this.navigationService.home,this.navigationService.end).pipe(tg((function(e){return!isNaN(e.index)}))).subscribe((function(t){return e.selectionService.select(t.index)})),this.openSubscription=this.navigationService.open.subscribe((function(){return e.togglePopup(!0)})),this.closeSubscription=this.navigationService.close.subscribe((function(){e.togglePopup(!1),e.focus()})),this.enterSubscription=this.navigationService.enter.pipe(Pg((function(e){return e.originalEvent.preventDefault()}))).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(Og((function(){return Hb(10).pipe(kg(1),nC(e.wrapperFocused))}))).subscribe((function(){e.wrapperBlurred.emit()})),this._zone.runOutsideAngular((function(){e.componentBlurredSubscription=re(e.wrapperBlurred.pipe(Og((function(){return Hb(10).pipe(kg(1),nC(e.filterFocused))}))),e.navigationService.tab).pipe(Pg((function(t){return t instanceof XI&&e.focus()})),tg((function(){return e.isFocused}))).subscribe((function(){return e.componentBlur()}))})))}},{key:"unsubscribeEvents",value:function(){kb()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}},{key:"itemFromEvent",value:function(e){var t=e.indices[0],n=this.dataService.itemAt(t);n=MI(n)?n:this.currentOrDefault(t);var i=this.prop(this.valueField,this.valuePrimitive)(n);return{dataItem:n,index:t,newSelection:e.newSelection,value:i}}},{key:"currentOrDefault",value:function(e){return MI(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}},{key:"firstFocusableIndex",value:function(e){var t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}},{key:"handleEnter",value:function(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}},{key:"handleEscape",value:function(){MI(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}},{key:"clearFilter",value:function(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}},{key:"verifySettings",value:function(){if(Ri()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&MI(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&MI(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!MI(this.valueField)!=!MI(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}},{key:"componentBlur",value:function(){var e=this;this.isFocused=!1;var t=this.prop(this.valueField,this.valuePrimitive),n=MI(this.selectionService.selected[0])&&t(this.value)!==t(this.dataService.itemAt(this.selectionService.selected[0]));n||wb(this.close)||wb(this.onBlur)||wb(this.filterChange)||BI(this.hostElement.nativeElement)?this._zone.run((function(){n&&e.selectionService.change(e.selectionService.selected[0]),e.togglePopup(!1),e.clearFilter(),e.onBlur.emit(),e.onTouchedCallback()})):this.togglePopup(!1)}},{key:"onMouseDown",value:function(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}},{key:"onKeyPress",value:function(e){if(0!==e.which&&e.keyCode!==Vb.Enter){var t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}}},{key:"search",value:function(){var e=this;clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout((function(){e.word=""}),this.delay),this.selectNext())}},{key:"selectNext",value:function(){var e,t,n,i=this,r=this.dataService.filter((function(e){return MI(e)&&!e.header&&!i.disabledItemsService.isItemDisabled(e)})).map((function(e){return i.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:i.dataService.indexOf(e)}})),s=function(e,t){for(var n=0;n<e.length;n++)if(e.charAt(n)!==t)return!1;return!0}(this.word,this.last),a=r.length,o=!isNaN(this.selectionService.selected[0]),l=o?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(n={item:this.defaultItem,itemIndex:-1},a+=1,l+=1),r=function(e,t,n){var i=e;return n&&(i=[n].concat(i)),i.slice(t).concat(i.slice(0,t))}(r,l+=s&&o?1:0,n),t=0;t<a;t++){e=HI(r[t].item,this.textField);var u=Boolean(s&&jI(e,this.last,this.ignoreCase)),c=Boolean(jI(e,this.word,this.ignoreCase));if(u||c){t=r[t].itemIndex;break}}t!==a&&this.navigate(t)}},{key:"emitChange",value:function(e){this.onChangeCallback(e),this.valueChange.emit(e)}},{key:"navigate",value:function(e){this.selectionService.select(e)}},{key:"prop",value:function(e,t){return function(n){return MI(n)?t?e&&MI(i=n)&&"object"==typeof i?n[e]:n:n[e]:null;var i}}},{key:"findDataItem",value:function(e){var t,n=e.primitive,i=e.valueField,r=e.value,s={dataItem:null,index:-1},a=this.prop(i,n);t=this.dataService.grouped?function(e){return a(e.value)===a(r)}:function(e){return a(e)===a(r)};var o=this.dataService.findIndex(t);return s.dataItem=this.dataService.itemAt(o),s.index=o,s}},{key:"setState",value:function(){var e=this.value,t=this.valueField,n=this.textField,i=this.valuePrimitive;if(this.defaultItem){var r=this.prop(t,i)(this.defaultItem),s=this.prop(t,i)(e);if(!MI(e)||s===r)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}var a=this.findDataItem({primitive:i,valueField:t,value:e}),o=!(i&&n);a.dataItem?(this.updateState({dataItem:a.dataItem,confirm:!0}),this.resetSelection(a.index)):MI(e)&&o?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}},{key:"handleFilter",value:function(e){this.filterChange.emit(e.target.value)}},{key:"pageChange",value:function(e){this.virtual.skip=e.skip}},{key:"setMessages",value:function(){var e=this;this._zone.runOutsideAngular((function(){clearTimeout(e.messagesTimeout),e.messagesTimeout=setTimeout((function(){e.noDataText=e.localization.get("noDataText"),e.cdr.detectChanges()}))}))}},{key:"assignAriaDescribedBy",value:function(){var e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=VI();var t="".concat(this.valueLabelId," ").concat(e).trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}}]),e}()).\u0275fac=function(e){return new(e||II)(Ua(tC),Ua(Dx),Ua(ZI),Ua(eT),Ua(JI),Ua(QI),Ua(gc),Ua(ul),Ua(sl),Ua(sa),Ua(cT,8))},II.\u0275cmp=St({type:II,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,n){var i;1&e&&(ju(n,GI,!0),ju(n,WI,!0),ju(n,$I,!0),ju(n,hT,!0),ju(n,qI,!0),ju(n,KI,!0),ju(n,tT,!0)),2&e&&(Nu(i=Uu())&&(t.itemTemplate=i.first),Nu(i=Uu())&&(t.groupTemplate=i.first),Nu(i=Uu())&&(t.fixedGroupTemplate=i.first),Nu(i=Uu())&&(t.valueTemplate=i.first),Nu(i=Uu())&&(t.headerTemplate=i.first),Nu(i=Uu())&&(t.footerTemplate=i.first),Nu(i=Uu())&&(t.noDataTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(Vu(IE,!0,Al),Vu(TE,!0),Mu(UE,!0),Vu(FE,!0)),2&e&&(Nu(n=Uu())&&(t.container=n.first),Nu(n=Uu())&&(t.popupTemplate=n.first),Nu(n=Uu())&&(t.wrapper=n.first),Nu(n=Uu())&&(t.optionsList=n.first))},hostVars:7,hostBindings:function(e,t){2&e&&(Ha("dir",t.dir),Co("k-widget",t.widgetClasses)("k-dropdown",t.widgetClasses)("k-header",t.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",valuePrimitive:"valuePrimitive",tabIndex:"tabIndex",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[tl([fT,QI,ZI,eT,JI,tC,{provide:eC,useValue:"kendo.dropdownlist"},{provide:iT,useExisting:Pe((function(){return II}))},{provide:Mb,useExisting:Pe((function(){return II}))}]),qo],decls:14,vars:24,consts:[["kendoDropDownListLocalizedMessages","",6,"noDataText"],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","kendoEventsOutsideAngular","scope","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],["unselectable","on",1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Qa(0,0),eu(1,GE),Ja(),$a(2,"span",1,2),io("keydown",(function(e){return t.keydown(e)}))("keypress",(function(e){return t.keypress(e)}))("click",(function(e){return t.click(e)})),$a(4,"span",3),Ba(5,KE,1,4,void 0,4),Ba(6,WE,1,1,"ng-template",5),Za(),$a(7,"span",6),Ya(8,"span",7),Za(),Ba(9,aI,8,17,"ng-template",null,8,Wu),Za(),Ba(11,oI,1,0,"ng-template",5),Xa(12,null,9)),2&e&&(Ir(2),Ka("id",t.focusableId)("ngClass",fu(18,lI,!t.disabled,t.disabled))("kendoEventsOutsideAngular",fu(21,Jx,t.focusComponent,t.blurComponent))("scope",t),Ha("dir",t.direction)("readonly",t.readonly)("tabindex",t.widgetTabIndex)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("aria-activedescendant",t.ariaActivedescendant)("aria-label",t.noDataLabel),Ir(2),Ka("id",t.valueLabelId),Ir(1),Ka("ngIf",t.valueTemplate),Ir(1),Ka("ngIf",!t.valueTemplate),Ir(2),Ka("ngClass",t.buttonClasses),Ir(3),Ka("ngIf",t.isOpen))},directives:function(){return[yT,Xh,Eb,rf,pT,sT,MC,ST,KC,h_,vT,Lb]},encapsulation:2}),II),pT=((EI=function(){function e(t){_classCallCheck(this,e),this.viewContainerRef=t}return _createClass(e,[{key:"templateContext",set:function(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}]),e}()).\u0275fac=function(e){return new(e||EI)(Ua(Al))},EI.\u0275dir=At({type:EI,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),EI),vT=((xI=function(){function e(t){_classCallCheck(this,e),this.multipleSelection=!1,this.selectionService=t}return _createClass(e,[{key:"focusedClassName",get:function(){return this.selectionService.isFocused(this.index)}},{key:"selectedClassName",get:function(){return this.selectionService.isSelected(this.index)}},{key:"onClick",value:function(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}}]),e}()).\u0275fac=function(e){return new(e||xI)(Ua(ZI))},xI.\u0275dir=At({type:xI,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&io("click",(function(e){return t.onClick(e)})),2&e&&(Ha("index",t.index),bo("height",t.height,"px")("min-height",t.height,"px"),Co("k-state-focused",t.focusedClassName)("k-state-selected",t.selectedClassName))},inputs:{multipleSelection:"multipleSelection",index:"index",height:"height"}}),xI),gT=((SI=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Jb)).\u0275fac=function(e){return mT(e||SI)},SI.\u0275dir=At({type:SI,inputs:{noDataText:"noDataText",clearTitle:"clearTitle"},features:[Ho]}),SI),mT=mi(gT),yT=((DI=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(gT)).\u0275fac=function(e){return new(e||DI)(Ua(tC))},DI.\u0275dir=At({type:DI,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""]],features:[tl([{provide:gT,useExisting:Pe((function(){return DI}))}]),Ho]}),DI),kT=((AI=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:AI}),AI.\u0275inj=we({factory:function(e){return new(e||AI)}}),AI),bT=((FI=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:FI}),FI.\u0275inj=we({factory:function(e){return new(e||FI)},imports:[[Ef,w_,Ox,Nb,kT,Ib],Ef,w_,Ox,Nb,kT,Ib]}),FI),CT=((TI=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:TI}),TI.\u0275inj=we({factory:function(e){return new(e||TI)},imports:[[bT],kT]}),TI),wT=qx,_T=((PI=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:PI}),PI.\u0275inj=we({factory:function(e){return new(e||PI)},providers:[{provide:cT,useValue:wT}],imports:[[bT],kT]}),PI),ST=((RI=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.zone=n}return _createClass(e,[{key:"ngOnChanges",value:function(){var e=this;this.focused&&this.nextTick((function(){return e.element.nativeElement.focus()}))}},{key:"nextTick",value:function(e){this.zone.runOutsideAngular((function(){return setTimeout(e)}))}}]),e}()).\u0275fac=function(e){return new(e||RI)(Ua(sl),Ua(gc))},RI.\u0275dir=At({type:RI,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[qo]}),RI),xT=((OI=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:OI}),OI.\u0275inj=we({factory:function(e){return new(e||OI)},imports:[[bT],kT]}),OI),ET=qx,IT=((NI=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:NI}),NI.\u0275inj=we({factory:function(e){return new(e||NI)},providers:[{provide:cT,useValue:ET}],imports:[[bT],kT]}),NI),TT=((LI=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:LI}),LI.\u0275inj=we({factory:function(e){return new(e||LI)},imports:[CT,_T,xT,IT]}),LI),FT=function(){return"undefined"!=typeof window},AT={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},DT={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},OT={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},RT={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},PT=function(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return i;return void 0!==n?n:e},LT=FT()&&window.navigator?window.navigator.userAgent:null,NT=LT?function(e){var t=null,n=[];for(var i in OT)if(OT.hasOwnProperty(i)&&(n=e.match(OT[i]))){(t={})[i]=!0,t[n[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||n[2],10);break}return t}(LT):null,MT=LT?function(e){var t,n=[];for(var i in AT)if(AT.hasOwnProperty(i)){if(!(n=e.match(AT[i])))continue;if("windows"===i&&"plugins"in window.navigator)return null;var r={};return r.device=i,r.browser=PT(e,RT,"default"),r.name=PT(i,DT),r[r.name]=!0,r.majorVersion=n[2],r.minorVersion=n[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),r.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||r.cordova,r}return null}(LT):null;function VT(e){return"string"==typeof e}FT()&&window,NT&&!NT.chrome&&window,NT&&!NT.chrome&&window;var HT,jT=/\{(\d+)}?\}/g,BT=function(){function e(t){var n=t.name,i=t.message;if(_classCallCheck(this,e),!n||!i)throw new Error("{ name: string, message: string } object is required!");this.name=n,this.message=i}return _createClass(e,[{key:"formatMessage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=zT(t),r=this.message.replace(jT,(function(e,t){return i[parseInt(t,10)]}));return"".concat(this.name,": ").concat(r)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Error(this.formatMessage(t))}}]),e}(),zT=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])},UT=(HT={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(HT).reduce((function(e,t){return e[t]=new BT({name:t,message:HT[t]}),e}),{})),GT={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function qT(e){return VT(e)?KT(e):e}function KT(e){if(GT[e])return GT[e];if(GT.supplemental.likelySubtags){var t=e.split("-"),n=t[0],i=t.slice(1),r=function(e,t){for(var n=GT.supplemental.likelySubtags,i=0;i<t.length;i++){var r=n[e+"-"+t[i]];if(r)return r}if(n[e])return n[e]}(n,i),s=r?function(e,t){var n=e.split("-"),i=n[0],r=n[1],s=n[2];return GT[e]||-1!==t.indexOf(s)&&GT[i+"-"+s]||-1!==t.indexOf(r)&&GT[i+"-"+r]||GT[i]}(r,i):null;if(s)return s}throw UT.NoLocale.error(e)}function WT(e){if(e.territory)return e.territory;var t,n=e.identity;return t=n&&n.territory?n.territory:function(e,t){var n=GT.supplemental.likelySubtags,i=e.split("-");if(n){var r=n[e]||n[i[0]];r&&(i=r.split("-"))}if(t)for(var s=i.length-1;s>=1;s--){var a=i[s];a!==t.variant&&a!==t.script||i.splice(s,1)}var o=i.length;if(o>1)return i[o-1].toUpperCase()}(e.name,n),e.territory=t,t}function $T(e,t){var n,i=t.type,r=t.nameType,s=t.standAlone,a=t.lower,o=(a?"lower-":"")+r,l=qT(e).calendar[i][s?"stand-alone":"format"],u=l[o];return!u&&a&&(u=l[o]=(n=l[r],Array.isArray(n)?function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toLowerCase());return t}(n):function(e){var t={};for(var n in e)t[n]=e[n].toLowerCase();return t}(n))),u}function ZT(e){var t=e.split("-"),n=parseInt(t[0],10),i=parseInt(t[1],10)-1,r=parseInt(t[2],10);return new Date(n,i,r)}var YT=UT.NoCurrency,QT=UT.NoCurrencyDisplay,JT=UT.NoSupplementalCurrency,XT=UT.NoCurrencyRegion,eF=UT.NoValidCurrency,tF={"001":"USD",150:"EUR"};function nF(e,t,n){var i=qT(e).numbers.currencies;if(i){var r=i[t];if(r)return r;if(n)throw QT.error()}else if(n)throw YT.error()}function iF(e,t){return t.length-e.length}function rF(e,t){var n=qT(e),i=n.numbers;if(!i.localeCurrency){var r=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(tF[e])return tF[e];var n=GT.supplemental.currencyData;if(n){var i=n.region[e];if(i)return function(e){for(var t,n,i,r,s=0;s<e.length;s++){var a=e[s],o=Object.keys(a)[0],l=a[o];if("XXX"!==o&&"false"!==l._tender&&l._from)if(l._to){if(!i){var u=ZT(l._from),c=ZT(l._to);(!n||n.to<c||n.from<u)&&(t=o,n={from:u,to:c})}}else{var h=ZT(l._from);(!r||r<h)&&(i=o,r=h)}}return i||t}(i);if(t)throw XT.error(e)}else if(t)throw JT.error()}(WT(n),t);if(!r&&t)throw eF.error(n.name);i.localeCurrency=r}return i.localeCurrency}var sF=["sun","mon","tue","wed","thu","fri","sat"],aF=UT.NoWeekData,oF=UT.NoFirstDay;function lF(e){var t=qT(e);if(!isNaN(t.firstDay))return t.firstDay;var n=GT.supplemental.weekData;if(!n)throw aF.error();var i=n.firstDay[WT(t)]||n.firstDay["001"];if(!i)throw oF.error();return t.firstDay=sF.indexOf(i),t.firstDay}function uF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.currency||(t.currency=rF(e,!0)),function(e,t){var n=t.value,i=t.currency,r=t.currencyDisplay,s=void 0===r?"symbol":r;if("code"===s)return i;var a=nF(e,i,!0);return"symbol"===s?a["symbol-alt-narrow"]||a.symbol:void 0===typeof n||1!==n?a["displayName-count-other"]:a["displayName-count-one"]}(e,t)}function cF(e,t,n,i,r){var s=r.numbers.symbols,a=e.indexOf(s.decimal),o=i.groupSize.slice(),l=o.shift(),u=-1!==a?a:n+1,c=e.substring(t,u),h=e,f=c.length;if(f>=l){for(var d=f,p=[];d>-1;){var v=c.substring(d-l,d);v&&p.push(v),d-=l;var g=o.shift();if(0===(l=void 0!==g?g:l)){(v=c.substring(0,d))&&p.push(v);break}}c=p.reverse().join(s.group),h=e.substring(0,t)+c+e.substring(u)}return h}function hF(e){return"currency"===e||"accounting"===e}function fF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t-String(e).length,r=e;if(i>0){var s=new Array(i+1).join("0");r=n?e+s:s+e}return r}function dF(e,t){var n=e,i=t||0;return n=n.toString().split("e"),n=(n=Math.round(Number(n[0]+"e"+(n[1]?Number(n[1])+i:i)))).toString().split("e"),(n=Number(n[0]+"e"+(n[1]?Number(n[1])-i:-i))).toFixed(Math.min(i,20))}var pF=/0+$/,vF=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,gF=/(\.(?:[0-9]*[1-9])?)0+$/g,mF=/\.$/,yF=/\,/g;function kF(e,t,n){return-1===e&&-1!==t?t:-1!==e&&-1===t?e:n?Math.min(e,t):Math.max(e,t)}var bF=/^(n|c|p|e|a)(\d*)$/i;function CF(e){return VT(e)?function(e){var t=bF.exec(e);if(t){var n={style:"decimal"},i=t[1].toLowerCase();return"c"===i?n.style="currency":"a"===i?n.style="accounting":"p"===i?n.style="percent":"e"===i&&(n.style="scientific"),t[2]&&(n.minimumFractionDigits=n.maximumFractionDigits=parseInt(t[2],10)),n}}(e):e}function wF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"n",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(null==e)return"";if(!isFinite(e))return String(e);var i=KT(n),r=CF(t);return r?function(e,t,n){var i=n.numbers.symbols,r=t.style,s=hF(r);if("scientific"===r)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(".",i.decimal);var a,o=e;s&&(t.value=o,a=uF(n,t)),"percent"===r&&(o*=100,a=i.percentSign);var l=function(e){var t,n=e.minimumFractionDigits,i=e.maximumFractionDigits,r=e.style,s=hF(r);return s&&(t=function(e){var t=2,n=2,i=((GT.supplemental.currencyData||{}).fractions||{})[e];return i&&i._digits&&(n=t=parseInt(i._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:n}}(e.currency)),void 0===n&&(n=s?t.minimumFractionDigits:0),void 0===i&&(i="percent"===r?Math.max(n,0):s?Math.max(n,t.maximumFractionDigits):Math.max(n,3)),{minimumFractionDigits:n,maximumFractionDigits:i}}(t),u=l.minimumFractionDigits,c=(o=dF(o,l.maximumFractionDigits))<0,h=o.split("."),f=h[0],d=fF(h[1]?h[1].replace(pF,""):"",u,!0);c&&(f=f.substring(1)),t.minimumIntegerDigits&&(f=fF(f,t.minimumIntegerDigits));var p,v=!1!==t.useGrouping?cF(f,0,f.length,t,n):f;if(d&&(v+=i.decimal+d),s&&"name"===t.currencyDisplay)p=function(e,t){var n=e.numbers.currency,i=1!==t?n["unitPattern-count-other"]:n["unitPattern-count-one"];return t<0&&(i=i.replace("n","-n")),i}(n,e);else{var g=t.patterns;p=c?g[1]||"-"+g[0]:g[0]}return"n"!==p||c?function(e,t,n){for(var i="",r=0,s=t.length;r<s;r++){var a=t.charAt(r);i+="n"===a?e:"$"===a||"%"===a?n:a}return i}(v,p,a):v}(e,Object.assign({},i.numbers[r.style||"decimal"],r),i):function(e,t,n){var i={negative:e<0,number:Math.abs(e),format:t};return function(e){var t=e.number,n=e.format;if(n=n.split(";"),e.negative&&n[1])n=n[1],e.hasNegativeFormat=!0;else if(0===t){var i=n[2];n=i||n[0],i&&function(e){return-1===e.indexOf("#")&&-1===e.indexOf("0")}(i)&&(e.constant=i)}else n=n[0];e.format=n}(i),i.constant?i.constant:(function(e){var t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){var n=e.literals=[];e.format=t.replace(vF,(function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");return n.push(i),"__??__"}))}}(i),function(e,t){var n=e.format;-1!==n.indexOf("%")&&(e.style="percent",e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==n.indexOf("$")&&(e.style="currency",e.symbol=uF(t))}(i,n),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(yF,""))}(i),function(e){var t,n,i,r=e.number,s=e.format,a=s.indexOf(".");if(-1!==a){var o=s.lastIndexOf("0")-a,l=s.lastIndexOf("#")-a,u=o>-1,c=l>-1,h=r.toString().split("e"),f=(h=(h=h[1]?dF(r,Math.abs(h[1])):h[0]).split(".")[1]||"").length,d=-1;u||c?u&&o>l?f=o:l>o&&(c&&f>l?f=l:u&&f<o&&(f=o),d=u?o:0):(e.format=s.substring(0,a)+s.substring(a+1),a=-1,f=0),f>-1&&(r=dF(r,f),d>-1&&(t=r,i=0===(n=d)?gF:new RegExp("(\\.[0-9]{".concat(n,"}[1-9]*)0+$"),"g"),r=t.replace(i,"$1").replace(mF,"")))}else r=dF(r);e.negative&&-1*r>=0&&(e.negative=!1),e.number=r,e.decimalIndex=a}(i),function(e){var t=e.format,n=t.indexOf("#"),i=t.indexOf("0"),r=kF(n,i,!0),s=kF(n=t.lastIndexOf("#"),i=t.lastIndexOf("0"));r===t.length&&(s=r),e.start=r,e.end=s,e.lastZeroIndex=i}(i),function(e,t){var n=e.number;return-1!==e.start&&(n=function(e,t){var n=e;if(t)for(var i=t.length,r=0;r<i;r++)n=n.replace("__??__",t[r]);return n}(n=function(e,t,n){var i=e;if("currency"===t||"percent"===t){i="";for(var r=0,s=e.length;r<s;r++){var a=e.charAt(r);i+="$"===a||"%"===a?n:a}}return i}(n=function(e,t){var n=e.start,i=e.end,r=e.negative,s=e.format,a=e.decimalIndex,o=e.lastZeroIndex,l=e.hasNegativeFormat,u=e.hasGroup,c=e.number,h=c.toString().split("."),f=s.length,d=h[0],p=h[1]||"",v=d.length,g="";c=s.substring(0,n),r&&!l&&(c+="-");for(var m=n;m<f;m++){var y=s.charAt(m);if(-1===a){if(i-m<v){c+=d;break}}else if(-1!==o&&o<m&&(g=""),a-m<=v&&a-m>-1&&(c+=d,m=a),a===m){c+=(p?t.numbers.symbols.decimal:"")+p,m+=i-a+1;continue}"0"===y?(c+=y,g=y):"#"===y&&(c+=g)}return u&&(c=cF(c,n+(r&&!l?1:0),Math.max(i,v+n),t.numbers.decimal,t)),i>=n&&(c+=s.substring(i+1)),c}(e,t),e.style,e.symbol),e.literals)),n}(i,n))}(e,t,i)}function _F(e){return"number"==typeof e}var SF=/[eE][\-+]?[0-9]+/,xF=/\u00A0/g;function EF(e,t){if(t.length>1){var n=(t[1]||"").replace("$","").split("n");if(e.indexOf(n[0])>-1&&e.indexOf(n[1])>-1)return e.replace(n[0],"").replace(n[1],"")}}var IF=/\{(\d+)}/g;function TF(e){var t=arguments;return e.replace(IF,(function(e,n){return t[parseInt(n,10)+1]}))}var FF=[2,1,5,3,4],AF=(_defineProperty(i={},(-2).toString(),8),_defineProperty(i,(-1).toString(),6),_defineProperty(i,2..toString(),6),_defineProperty(i,1..toString(),3),i),DF={numeric:1,"2-digit":2,short:3,long:4,narrow:5},OF=/[hHmsSzZoOvVxX]/,RF=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],PF={e:"c",E:"c",M:"L",Q:"q"},LF={},NF={};function MF(e){return LF[e]||(LF[e]=new RegExp(e+"+")),LF[e]}function VF(e){for(var t=[],n=e.charAt(0),i=n,r=1;r<e.length;r++){var s=e.charAt(r);s===i?n+=s:(t.push(n),n=i=s)}return t.push(n),t}function HF(e,t){var n,i,r=e.length,s=-Number.MAX_VALUE;for(var a in t){for(var o=[],l=a.replace("v","z"),u=0,c=0;c<r;c++){var h=e[c],f=(MF(h[0]).exec(l)||[])[0];if(f){if(l=l.replace(f,""),f.length!==h.length){var d=Math.max(Math.min(FF[f.length]-FF[h.length],2),-2);u-=AF[d]}}else u-=120;if(o.push(f),u<s)break}l.length&&(u-=20*VF(l).length),u>s&&(s=u,n=o,i=t[a])}i=i.replace("v","z");for(var p=0;p<r;p++){var v=n[p];if(v&&v!==e[p]){var g=n[p][0];i=i.replace(MF(g),e[p]),PF[g]&&(i=i.replace(MF(PF[g]),e[p]))}}return i}function jF(e,t){var n,i=t.calendar;if(VT(e))n=i.patterns[e]?i.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;var r=e.skeleton;r||(e.datetime?n=TF(i.dateTimeFormats[e.datetime],i.timeFormats[e.datetime],i.dateFormats[e.datetime]):e.date?n=i.dateFormats[e.date]:e.time?n=i.timeFormats[e.time]:r=function(e){for(var t=[],n=0;n<RF.length;n++){var i=RF[n],r=e[i.key];if(r){var s=i.specifier||i.getSpecifier(e);t.push(s.repeat(DF[r]))}}return t.join("")}(e)),r&&(n=function(e,t){var n=t.calendar.dateTimeFormats.availableFormats;if(n[e])return n[e];if(NF[t.name]&&NF[t.name][e])return NF[t.name][e];var i,r=e.search(OF);if(r>0){var s=e.substr(0,r),a=e.substr(r);i=TF(t.calendar.dateTimeFormats.short,n[a]||HF(VF(a),n),n[s]||HF(VF(s),n))}else i=HF(VF(e),n);return function(e,t,n){NF[n]||(NF[n]={}),NF[n][e]=t}(e,i,t.name),i}(r,t))}return n||(n=i.patterns.d),n}function BF(e){var t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function zF(e,t,n,i,r){return $T(e,{type:t,nameType:BF(n),standAlone:i,lower:r})}function UF(e){return"function"==typeof e}function GF(e){return Boolean(e)&&UF(e.getTime)&&UF(e.getMonth)}var qF={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},KF=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function WF(e,t,n,i){return t<=2?fF(e+1,t):zF(n,"months",t,i)[e]}function $F(e,t,n,i){var r=Math.floor(e.getMonth()/3);return t<3?r+1:zF(n,"quarters",t,i)[r]}function ZF(e,t,n){var i=n.shortHours,r=n.optionalMinutes,s=n.separator,a=n.localizedName,o=n.zZeroOffset,l=e.getTimezoneOffset()/60;if(0===l&&o)return"Z";var u=l<=0?"+":"-",c=Math.abs(l).toString().split("."),h=c[1]||0,f=u+(i?c[0]:fF(c[0],2));return!h&&r||(f+=(s?":":"")+fF(h,2)),a&&(f=TF(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,f)),f}function YF(e,t,n,i){var r,s;return t<3?(r=e.getDay(),s=lF(n),(r<s?7-s+r:r-s)+1):zF(n,"days",t,i)[e.getDay()]}var QF,JF=((QF={d:function(e,t){return fF(e.getDate(),t)},E:function(e,t,n){return zF(n,"days",t)[e.getDay()]},M:function(e,t,n){return WF(e.getMonth(),t,n,!1)},L:function(e,t,n){return WF(e.getMonth(),t,n,!0)},y:function(e,t){var n=e.getFullYear();return 2===t&&(n%=100),fF(n,t)},h:function(e,t){return fF(e.getHours()%12||12,t)},H:function(e,t){return fF(e.getHours(),t)},k:function(e,t){return fF(e.getHours()||24,t)},K:function(e,t){return fF(e.getHours()%12,t)},m:function(e,t){return fF(e.getMinutes(),t)},s:function(e,t){return fF(e.getSeconds(),t)},S:function(e,t){return 0!==e.getMilliseconds()?String(e.getMilliseconds()/1e3).split(".")[1].substr(0,t):fF("",t)},a:function(e,t,n){return zF(n,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},z:function(e,t,n){return ZF(e,n,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Z:function(e,t,n){return ZF(e,n,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},x:function(e,t,n){return ZF(e,n,{optionalMinutes:1===t,separator:3===t||5===t})},X:function(e,t,n){return ZF(e,n,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},G:function(e,t,n){var i=e.getFullYear()>=0?1:0;return zF(n,"eras",t)[i]}}).e=YF,QF.c=function(e,t,n){return YF(e,t,n,!0)},QF.q=function(e,t,n){return $F(e,t,n,!0)},QF.Q=$F,QF);function XF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(!GF(e))return null==e?"":e;var i=KT(n);return jF(t,i).replace(KF,(function(t){var n=t.length;return t.includes("'")||t.includes('"')?t.slice(1,n-1):JF[t[0]](e,n,i)}))}function eA(e,t,n){var i=e.getTimezoneOffset(),r=new Date(e.getTime()+6e4*(t-n)),s=r.getTimezoneOffset();return new Date(r.getTime()+6e4*(s-i))}var tA=/([+|\-]\d{1,2})(:?)(\d{2})?/,nA=/^\/Date\((.*?)\)\/$/,iA=/[+-]\d*/,rA={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},sA=/\d+/,aA=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],oA=["G","g","F","Y","y","M","m","D","d","y","T","t"];function lA(e,t,n){return!(e>=t&&e<=n)}function uA(e,t){for(var n=t.format,i=t.idx,r=0;n[i]===e;)r++,i++;return r>0&&(i-=1),t.idx=i,r}function cA(e,t){var n=e?rA[e]||new RegExp("^\\d{1,"+e+"}"):sA,i=t.value.substr(t.valueIdx,e).match(n);return i?(i=i[0],t.valueIdx+=i.length,parseInt(i,10)):null}function hA(e,t,n){for(var i,r,s,a=0,o=e.length,l=0,u=0;a<o;a++)r=(i=e[a]).length,s=t.value.substr(t.valueIdx,r),n&&(s=s.toLowerCase()),s===i&&r>l&&(l=r,u=a);return l?(t.valueIdx+=l,u+1):null}function fA(e){var t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function dA(e,t,n){var i=n.shortHours,r=n.noSeparator,s=n.optionalMinutes,a=n.localizedName,o=n.zLiteral;if(e.UTC=!0,o&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(a&&!hA(function(e){var t=e.gmtFormat,n=e.gmtZeroFormat;if(!t)throw UT.NoGMTInfo.error();return[t.replace("{0}","").toLowerCase(),n.replace("{0}","").toLowerCase()]}(t.calendar),e,!0))return!0;var l=tA.exec(e.value.substr(e.valueIdx,6));if(!l)return!a;var u=l[1],c=l[3],h=parseInt(u,10),f=l[2],d=parseInt(c,10);return!!(isNaN(h)||!i&&3!==u.length||!s&&isNaN(d)||r&&f)||(isNaN(d)&&(d=null),!!(lA(h,-12,13)||d&&lA(d,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=h,void(e.minutesOffset=d)))}function pA(e,t,n){var i=uA(e,t),r=zF(n,"months",i,"L"===e,!0),s=i<3?cA(2,t):hA(r,t,!0);if(null===s||lA(s,1,12))return!0;t.month=s-1}function vA(e,t,n){var i=uA(e,t),r=zF(n,"days",i,"c"===e,!0),s=i<3?cA(1,t):hA(r,t,!0);if(!s&&0!==s||lA(s,1,7))return!0}var gA={d:function(e){uA("d",e);var t=cA(2,e);if(null===t||lA(t,1,31))return!0;null===e.day&&(e.day=t)},E:function(e,t){if(null===hA(zF(t,"days",uA("E",e),!1,!0),e,!0))return!0},M:function(e,t){return pA("M",e,t)},L:function(e,t){return pA("L",e,t)},y:function(e){var t=uA("y",e),n=cA(1===t?void 0:t,e);if(null===n)return!0;if(2===t){var i=(new Date).getFullYear();(n=i-i%100+n)>2029&&(n-=100)}e.year=n},h:function(e){uA("h",e);var t=cA(2,e);if(12===t&&(t=0),null===t||lA(t,0,11))return!0;e.hours=t},K:function(e){uA("K",e);var t=cA(2,e);if(null===t||lA(t,0,11))return!0;e.hours=t},a:function(e,t){var n=zF(t,"dayPeriods",uA("a",e),!1,!0),i=hA([n.pm],e,!0);if(!i&&!hA([n.am],e,!0))return!0;e.pmHour=i},H:function(e){uA("H",e);var t=cA(2,e);if(null===t||lA(t,0,23))return!0;e.hours=t},k:function(e){uA("k",e);var t=cA(2,e);if(null===t||lA(t,1,24))return!0;e.hours=24===t?0:t},m:function(e){uA("m",e);var t=cA(2,e);if(null===t||lA(t,0,59))return!0;e.minutes=t},s:function(e){uA("s",e);var t=cA(2,e);if(null===t||lA(t,0,59))return!0;e.seconds=t},S:function(e){var t=uA("S",e),n=e.value.substr(e.valueIdx,t),i=null;if(isNaN(parseInt(n,10))||(i=dF(i=parseFloat("0."+n,10),3),i*=1e3,e.valueIdx+=t),null===i||lA(i,0,999))return!0;e.milliseconds=i},z:function(e,t){var n=uA("z",e)<4,i=dA(e,t,{shortHours:n,optionalMinutes:n,localizedName:!0});if(i)return i},Z:function(e,t){var n=uA("Z",e),i=dA(e,t,{noSeparator:n<4,zLiteral:5===n,localizedName:4===n});if(i)return i},x:function(e,t){var n=uA("x",e),i=dA(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n});if(i)return i},X:function(e,t){var n=uA("X",e),i=dA(e,t,{noSeparator:3!==n&&5!==n,optionalMinutes:1===n,zLiteral:!0});if(i)return i},G:function(e,t){var n=zF(t,"eras",uA("G",e),!1,!0);if(null===hA([n[0],n[1]],e,!0))return!0},e:function(e,t){return vA("e",e,t)},c:function(e,t){return vA("c",e,t)}};function mA(e,t,n){for(var i=jF(t,n).split(""),r={format:i,idx:0,value:e,valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},s=i.length,a=!1;r.idx<s;r.idx++){var o=i[r.idx];if(a)"'"===o&&(a=!1),fA(r);else if(gA[o]){if(gA[o](r,n))return null}else if("'"===o)a=!0,fA(r);else if(!fA(r))return null}return r.valueIdx<e.length?null:function(e){var t,n=e.year,i=e.month,r=e.day,s=e.hours,a=e.minutes,o=e.seconds,l=e.milliseconds,u=e.pmHour,c=e.UTC,h=e.hoursOffset,f=e.minutesOffset,d=null!==s||null!==a||o||null,p=new Date;return null===n&&null===i&&null===r&&d?(n=p.getFullYear(),i=p.getMonth(),r=p.getDate()):(null===n&&(n=p.getFullYear()),null===r&&(r=1)),u&&s<12&&(s+=12),c?(h&&(s+=-h),f&&(a+=-f*(h<0?-1:1)),t=new Date(Date.UTC(n,i,r,s,a,o,l))):function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(t=new Date(n,i,r,s,a,o,l),s),n<100&&t.setFullYear(n),t.getDate()!==r&&void 0===c?null:t}(r)||null}var yA={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}};function kA(e,t){var n=e[e.length-1];n&&"literal"===n.type?n.pattern+=t:e.push({type:"literal",pattern:t})}function bA(e){return"h"===e||"K"===e}var CA=/\{(\d+)(:[^\}]+)?\}/g;function wA(e,t,n){if(t){if(GF(e))return XF(e,t,n);if(_F(e))return wF(e,t,n)}return null!=e?e:""}var _A,SA=((_A=function(){function e(){_classCallCheck(this,e),this.changes=new xu}return _createClass(e,[{key:"notify",value:function(){this.changes.emit()}}]),e}()).\u0275fac=function(e){return new(e||_A)},_A.\u0275prov=Ce({token:_A,factory:_A.\u0275fac}),_A),xA="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",EA={NoCurrency:"Solution: ".concat(xA,"#toc-no-currency"),NoCurrencyDisplay:"Solution: ".concat(xA,"#toc-no-currency-display"),NoCurrencyRegion:"Solution: ".concat(xA,"#toc-no-currency-region"),NoDateFieldNames:"Solution: ".concat(xA,"#toc-no-date-filed-names"),NoFirstDay:"Solution: ".concat(xA,"#toc-no-first-day"),NoGMTInfo:"Solution: ".concat(xA,"#toc-no-gmt-info"),NoLocale:"Solution: ".concat(xA,"#toc-no-locale"),NoValidCurrency:"Solution: ".concat(xA,"#toc-no-valid-currency"),NoWeekData:"Solution: ".concat(xA,"#toc-no-week-data")};function IA(e){return function(){try{for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(null,n)}catch(r){throw r.message=function(e){var t=e.message,n=EA[Object.keys(EA).filter((function(e){return 0===t.indexOf(e)}))[0]];return n?"".concat(t," ").concat(n):t}(r),r}}}var TA,FA,AA=IA($T),DA=IA((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=KT(t).calendar.dateFields;if(!n)throw UT.NoDateFieldNames.error();var i=n[e.type]||{};return i[e.nameType]||i.wide})),OA=IA(lF),RA=IA((function(e,t,n){return e.replace(CA,(function(e,i,r){return wA(t[parseInt(i,10)],r?r.substring(1):"",n)}))})),PA=IA(XF),LA=IA(wF),NA=IA((function(e){return qT(e).numbers.symbols})),MA=IA((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(!e)return null;if(GF(e))return e;var i=String(e).trim(),r=function(e){if(e&&0===e.indexOf("/D")){var t=nA.exec(e);if(t){t=t[1];var n=iA.exec(t.substring(1));return t=new Date(parseInt(t,10)),n&&(n=function(e){var t="-"===e.substr(0,1)?-1:1,n=e.substring(1);return t*(n=60*parseInt(n.substr(0,2),10)+parseInt(n.substring(2),10))}(n[0]),t=eA(t,t.getTimezoneOffset(),0),t=eA(t,0,-1*n)),t}}}(i);if(r)return r;for(var s=KT(n),a=t||function(e){for(var t=[],n=e.patterns,i=oA.length,r=0;r<i;r++)t.push(n[oA[r]]);return t.concat(aA)}(s.calendar),o=(a=Array.isArray(a)?a:[a]).length,l=0;l<o;l++)if(r=mA(i,a[l],s))return r;return r})),VA=IA((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e&&0!==e)return null;if(_F(e))return e;var i,r=KT(t),s=r.numbers.symbols,a=e.toString();if(SF.test(a))return a=parseFloat(a.replace(s.decimal,".")),isNaN(a)?null:a;var o=a.indexOf("-");if(o>0)return null;var l=o>-1,u=function(e,t,n){var i,r=CF(n)||{},s=hF(r.style),a=e,o=r.currency||rF(t,s);if(o){var l=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=nF(e,t,n);if(i){if(!i.displays){var r=[t];for(var s in i)r.push(i[s]);r.sort(iF),i.displays=r}return i.displays}}(t,o,s);if(l)for(var u=0;u<l.length;u++){var c=l[u];if(a.includes(c)){a=a.replace(c,""),s=!0;break}}if(s){var h=EF(a,t.numbers.currency.patterns)||EF(a,t.numbers.accounting.patterns);h&&(i=!0,a=h)}}return{number:a,negative:i}}(a,r,n),c=u.negative,h=u.number;return a=h,l=void 0!==c?c:l,("percent"===n.style||a.indexOf(s.percentSign)>-1)&&(a=a.replace(s.percentSign,""),i=!0),a=a.replace("-","").replace(xF," ").split(s.group.replace(xF," ")).join("").replace(s.decimal,"."),a=parseFloat(a),isNaN(a)?a=null:l&&(a*=-1),a&&i&&(a/=100),a})),HA=IA((function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en",n=jF(e,KT(t)),i=[],r=KF.lastIndex=0,s=KF.exec(n);s;){var a=s[0];if(r<s.index&&kA(i,n.substring(r,s.index)),a.startsWith('"')||a.startsWith("'"))kA(i,a);else{var o=a[0],l=qF[o],u={type:l,pattern:a};"hour"===l&&(u.hour12=bA(a));var c=yA[l];if(c){var h=_F(c.minLength)?c.minLength:c.minLength[o],f=a.length;f>=h&&(u.names={type:c.type,nameType:BF(f),standAlone:c.standAlone===o})}i.push(u)}r=KF.lastIndex,s=KF.exec(n)}return r<n.length&&kA(i,n.substring(r)),i})),jA=IA(wA),BA=/_/g,zA=((FA=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).localeId=e,i}return _createClass(n,[{key:"localeId",get:function(){return this.locale},set:function(e){var t=e.replace(BA,"-");t!==this.locale&&(this.locale=t,this.notify())}},{key:"format",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return RA(e,n,this.localeId)}},{key:"toString",value:function(e,t,n){return jA(e,t,n||this.localeId)}},{key:"formatDate",value:function(e,t,n){return PA(e,t,n||this.localeId)}},{key:"parseDate",value:function(e,t,n){return MA(e,t,n||this.localeId)}},{key:"parseNumber",value:function(e,t,n){return VA(e,n||this.localeId,t)}},{key:"formatNumber",value:function(e,t,n){return LA(e,t,n||this.localeId)}},{key:"dateFieldName",value:function(e,t){return DA(e,t||this.localeId)}},{key:"dateFormatNames",value:function(e,t){return AA(t||this.localeId,e)}},{key:"splitDateFormat",value:function(e,t){return HA(e,t||this.localeId)}},{key:"numberSymbols",value:function(e){return NA(e||this.localeId)}},{key:"firstDay",value:function(e){return OA(e||this.localeId)}}]),n}(SA)).\u0275fac=function(e){return new(e||FA)(st(ic))},FA.\u0275prov=Ce({token:FA,factory:FA.\u0275fac}),FA),UA=((TA=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:TA}),TA.\u0275inj=we({factory:function(e){return new(e||TA)},providers:[{provide:SA,useClass:zA}]}),TA),GA=function(){var e=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}return _createClass(e,[{key:"schedule",value:function(e,t){var n=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular((function(){n.subscription=J(n.resolvedPromise).subscribe(n.flush)}))}},{key:"isScheduled",value:function(e){return Boolean(this.scheduled.find((function(t){return t.instance===e})))}},{key:"cancel",value:function(e){for(var t=this.scheduled,n=t.length,i=0;i<n;i++)if(t[i].instance===e)return t.splice(i,1),void(t.length||this.unsubscribe())}},{key:"ngOnDestroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}},{key:"flush",value:function(){this.scheduled.forEach((function(e){e.method.call(e.instance)})),this.scheduled=[],this.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st(gc))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),qA=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=Tt({type:e}),e.\u0275inj=we({factory:function(t){return new(t||e)},providers:[GA]}),e}();$localize(_templateObject8||(_templateObject8=_taggedTemplateLiteral([":kendo.slider.increment|The title of the **Increase** button of the Slider.\u241f0fa71630d40c425b9c366afd7f6c3cecc5bef59d\u241f8302125540024939132:increment"]))),$localize(_templateObject9||(_templateObject9=_taggedTemplateLiteral([":kendo.slider.decrement|The title of the **Decrease** button of the Slider.\u241f042c26f68d78afd6834ea46a5f7533850fe8c800\u241f652458644240352212:decrement"]))),$localize(_templateObject10||(_templateObject10=_taggedTemplateLiteral([":kendo.slider.dragHandle|The title of the drag handle of the Slider.\u241f481eb98e9cd8ef8e8b22051796441901e883763d\u241f9117416417579607469:Drag"]))),$localize(_templateObject11||(_templateObject11=_taggedTemplateLiteral([":kendo.switch.on|The **On** label of the Switch.\u241f155f0a38198ffbf0429c5dbf9765e74f246a8617\u241f818154782831456441:ON"]))),$localize(_templateObject12||(_templateObject12=_taggedTemplateLiteral([":kendo.switch.off|The **Off** label of the Switch.\u241f79df1a6d2b35c32b2948e3cee56dd3ffe28127bc\u241f759820891948194060:OFF"])));var KA=["numericInput"],WA=["numericWrap"],$A=["increment",$localize(_templateObject13||(_templateObject13=_taggedTemplateLiteral([":kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox\u241f0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5\u241f4467784268438010275:Increase value"]))),"decrement",$localize(_templateObject14||(_templateObject14=_taggedTemplateLiteral([":kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox\u241fdf4751834075bf970c77d0da2c960b4e19a6b0dd\u241f3960022057994897997:Decrease value"])))],ZA=function(e,t){return{mouseup:e,mouseleave:t}},YA=function(e){return{mousedown:e}};function QA(e,t){if(1&e&&($a(0,"span",6),$a(1,"span",7),Ya(2,"span",8),Za(),$a(3,"span",9),Ya(4,"span",10),Za(),Za()),2&e){var n=ao();Ka("kendoEventsOutsideAngular",fu(11,ZA,n.releaseArrow,n.releaseArrow)),Ir(1),Co("k-state-active",n.arrowDirection===n.ArrowDirection.Up),Ka("kendoEventsOutsideAngular",hu(14,YA,n.increasePress))("title",n.incrementTitle),Ha("aria-label",n.incrementTitle),Ir(2),Co("k-state-active",n.arrowDirection===n.ArrowDirection.Down),Ka("kendoEventsOutsideAngular",hu(16,YA,n.decreasePress))("title",n.decrementTitle),Ha("aria-label",n.decrementTitle)}}var JA=function(e,t){return{mousewheel:e,DOMMouseScroll:t}},XA=function(e,t,n,i,r){return{dragenter:e,keydown:t,input:n,focus:i,blur:r}},eD=function(e){return(String(e).split(".")[1]||"").length},tD=function(e,t){var n=Math.min(t,20);return parseFloat(e.toFixed(n))},nD=function(e){return e[e.backspace=8]="backspace",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.shift=16]="shift",e[e.ctrl=17]="ctrl",e[e.alt=18]="alt",e[e.space=32]="space",e[e.page_up=33]="page_up",e[e.page_down=34]="page_down",e[e.end=35]="end",e[e.home=36]="home",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e[e.delete=46]="delete",e[e.numpad_dot=110]="numpad_dot",e}({}),iD=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return e.some((function(e){return function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t[e]&&(!t[e].isFirstChange()||!n)&&t[e].previousValue!==t[e].currentValue}(e,t,n)}))},rD=function(e){return e.observers.length>0};function sD(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,i)}var aD,oD=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},lD=((aD=function(){function e(t,n){_classCallCheck(this,e),this.renderer=t,this.inputElement=n,this.onFocus=new xu,this.onBlur=new xu,this.onValueChange=new xu,this.listeners=[]}return _createClass(e,[{key:"hostClass",get:function(){return!0}},{key:"value",get:function(){return this.inputElement.nativeElement.value},set:function(e){this.inputElement&&(this.inputElement.nativeElement.value=null==e?"":e,this.onValueChange.emit())}},{key:"id",get:function(){return this.inputElement.nativeElement.id},set:function(e){this.renderer.setAttribute(this.inputElement.nativeElement,"id",e)}},{key:"ngAfterViewInit",value:function(){var e=this,t=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(t,"focus",(function(){return e.onFocus.emit()})),this.renderer.listen(t,"blur",(function(){return e.onBlur.emit()}))]}},{key:"ngOnDestroy",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}()).\u0275fac=function(e){return new(e||aD)(Ua(ul),Ua(sl))},aD.\u0275dir=At({type:aD,selectors:[["input","kendoTextBox",""]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-textbox",t.hostClass)},inputs:{value:"value"}}),aD),uD=/[eE][\-+]?[0-9]+/,cD=function(e){return e>=0?Math.floor(e):Math.ceil(e)},hD=function(e){},fD=function(e){return!isNaN(e)&&null!==e};function dD(e,t){var n=t-String(e).length,i=e;if(n>0){var r=new Array(n+1).join("0");i=parseFloat(e+r)}return i}var pD,vD,gD,mD,yD,kD,bD,CD,wD,_D=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({}),SD=["min","max","step","decimals"],xD={decimals:null,max:null,min:null,step:1},ED=((pD=function(){function e(t,n,i,r,s,a,o){var l=this;_classCallCheck(this,e),this.intl=t,this.renderer=n,this.localizationService=i,this.injector=r,this.ngZone=s,this.changeDetector=a,this.hostElement=o,this.focusableId="k-".concat(oD()).concat(oD(),"-").concat(oD(),"-").concat(oD(),"-").concat(oD(),"-").concat(oD()).concat(oD()).concat(oD()),this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.value=null,this.valueChange=new xu,this.onFocus=new xu,this.onBlur=new xu,this.ArrowDirection=_D,this.arrowDirection=_D.None,this.inputValue="",this.minValidateFn=hD,this.maxValidateFn=hD,this._format="n2",this.increasePress=function(e){l.arrowPress(_D.Up,e)},this.decreasePress=function(e){l.arrowPress(_D.Down,e)},this.releaseArrow=function(){clearTimeout(l.spinTimeout),l.arrowDirection!==_D.None&&(l.arrowDirection=_D.None,l.changeDetector.detectChanges())},this.handleInput=function(){var e=l.numericInput.nativeElement,t=e.selectionStart,n=e.selectionEnd,i=e.value;if(l.pressedKey===nD.numpad_dot&&(i=l.replaceNumpadDotValue()),!l.isValid(i))return e.value=l.inputValue,void l.setSelection(t-1,n-1);var r=l.intl.parseNumber(i),s=l.restrictDecimals(r);if(l.autoCorrect){var a=l.limitInputValue(s);s=a.value,t=a.selectionStart,n=a.selectionEnd}r!==s||l.hasTrailingZeros(i)||!l.focused?(l.setInputValue(s),l.setSelection(t,n)):l.inputValue=i,l.updateValue(s),l.previousSelection=null},this.handleDragEnter=function(){l.focused||l.isDisabled||l.setInputValue(l.value,!0)},this.handleFocus=function(){l.focused||(l.focused=!0,l.isDisabled||(l.setInputValue(),l.ngZone.runOutsideAngular((function(){setTimeout((function(){l.setSelection(0,l.inputValue.length)}),0)})))),rD(l.onFocus)&&l.ngZone.run((function(){l.onFocus.emit()}))},this.handleBlur=function(){var e;l.focused=!1,l.inputValue!==l.elementValue&&l.handleInput(),l.setInputValue(),(rD(l.onBlur)||(e=l.control)&&(!e.touched||e.control&&"blur"===e.control.updateOn))&&l.ngZone.run((function(){l.ngTouched(),l.onBlur.emit()}))},this.handleKeyDown=function(e){if(!l.isDisabled){var t;e.keyCode===nD.down?t=-1:e.keyCode===nD.up&&(t=1),t&&l.step&&(e.preventDefault(),l.addStep(t));var n=l.numericInput.nativeElement;l.previousSelection={end:n.selectionEnd,start:n.selectionStart},l.pressedKey=e.keyCode}},this.handleWheel=function(e){if(l.focused&&!l.isDisabled){e.preventDefault();var t=function(e){var t=0;return e.wheelDelta?t=(t=e.wheelDelta/120)>0?Math.ceil(t):Math.floor(t):e.detail&&(t=Math.round(-e.detail/3)),t}(e);l.addStep(t)}},this.ngChange=function(e){},this.ngTouched=function(){},this.direction=i.rtl?"rtl":"ltr"}return _createClass(e,[{key:"format",get:function(){var e=this._format;return null!=e?e:"n2"},set:function(e){this._format=e}},{key:"tabIndex",get:function(){return this.tabindex},set:function(e){this.tabindex=e}},{key:"widgetClasses",get:function(){return!0}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.localizationService.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr"})),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(GC,null)}},{key:"ngOnChanges",value:function(e){var t,n;iD(SD,e,!1)&&this.parseOptions(SD.filter((function(t){return e[t]}))),this.verifySettings(),iD(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(n=this.min,function(e){return null!==e.value&&e.value<n?{minError:{minValue:n,value:e.value}}:null}):hD,this.maxValidateFn=this.rangeValidation?(t=this.max,function(e){return null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null}):hD),iD(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,iD(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"writeValue",value:function(e){this.verifyValue(e);var t=this.restrictModelValue(e);this.value=t,this.setInputValue()}},{key:"registerOnChange",value:function(e){this.ngChange=e}},{key:"registerOnTouched",value:function(e){this.ngTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"focus",value:function(){sD(this.numericInput,"focus")}},{key:"blur",value:function(){sD(this.numericInput,"blur")}},{key:"notifyValueChange",value:function(){this.setInputValue()}},{key:"incrementTitle",get:function(){return this.localizationService.get("increment")}},{key:"decrementTitle",get:function(){return this.localizationService.get("decrement")}},{key:"decimalSeparator",get:function(){return this.intl.numberSymbols().decimal}},{key:"elementValue",get:function(){return this.numericInput.nativeElement.value},set:function(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}},{key:"focused",get:function(){return this.isFocused},set:function(e){if(this.isFocused!==e&&this.numericWrap){var t=this.numericWrap.nativeElement,n=this.numericInput.nativeElement;e?(this.renderer.addClass(t,"k-state-focused"),this.isDisabled||this.renderer.removeClass(n,"k-formatted-value")):(this.renderer.removeClass(t,"k-state-focused"),this.renderer.addClass(n,"k-formatted-value")),this.isFocused=e}}},{key:"hasDecimals",get:function(){return null!==this.decimals&&this.decimals>=0}},{key:"isDisabled",get:function(){return this.disabled||this.readonly}},{key:"arrowPress",value:function(e,t){t.preventDefault(),this.isDisabled||(MT||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}},{key:"updateValue",value:function(e){var t,n,i=this;(t=this.value)===(n=e)||null===t&&void 0===n||void 0===t&&null===n||this.ngZone.run((function(){i.value=e,i.ngChange(e),i.valueChange.emit(e),i.changeDetector.markForCheck()}))}},{key:"replaceNumpadDotValue",value:function(){var e=this.inputValue||"";if(this.previousSelection){var t=this.numericInput.nativeElement,n=t.selectionStart,i=t.selectionEnd,r=this.previousSelection,s=r.start,a=r.end;t.value=e=e.substring(0,s)+this.decimalSeparator+e.substring(a),this.setSelection(n,i)}return e}},{key:"isValid",value:function(e){return this.numericRegex||(this.numericRegex=(t={autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator},i=t.autoCorrect,r=t.min,"."===(s=t.separator)&&(s="\\"+s),n=0===t.decimals?"\\d*":"(?:(?:\\d+(".concat(s,"\\d*)?)|(?:").concat(s,"\\d*))?"),new RegExp("^".concat(i&&null!==r&&r>=0?"":"-?").concat(n,"$")))),this.numericRegex.test(e);var t,n,i,r,s}},{key:"spin",value:function(e,t){var n=this;clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout((function(){n.spin(e,50)}),t),this.addStep(e)}},{key:"addStep",value:function(e){var t,n,i,r=(t=this.value||0,n=this.step*e,i=function(e,t){return Math.max(eD(e),eD(t))}(t,n),tD(t+n,i));r=this.limitValue(r),r=this.restrictDecimals(r),this.setInputValue(r),this.updateValue(r)}},{key:"setSelection",value:function(e,t){this.focused&&sD(this.numericInput,"setSelectionRange",e,t)}},{key:"limitValue",value:function(e){var t=e;return this.isInRange(e)||(fD(this.max)&&e>this.max&&(t=this.max),fD(this.min)&&e<this.min&&(t=this.min)),t}},{key:"limitInputValue",value:function(e){var t=this.numericInput.nativeElement,n=t.selectionStart,i=t.selectionEnd,r=t.value,s=e,a=!1;if(!this.isInRange(e)){var o,l,u=r.length-String(this.inputValue).length,c=this.min,h=this.max,f=fD(h),d=fD(c),p=e;if(0===n&&this.inputValue.substr(1)===r)return{selectionEnd:i,selectionStart:n,value:null};if(f&&e>h?e>0?l=!0:o=h:d&&e<c&&(e>0?o=c:l=!0),o){var v=this.tryPadValue(e,o);v&&cD(e)!==cD(o)&&(p=v,a=!0)}else l&&this.inputValue&&n!==r.length&&(p=parseFloat(r.substr(0,n)+r.substr(n+u)));s=this.limitValue(p),a=(a||s!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+u>0}return{selectionEnd:a?String(s).length:i,selectionStart:n,value:s}}},{key:"tryPadValue",value:function(e,t){var n,i=String(Math.floor(t)).length,r=dD(e,i),s=dD(e,i+1);return this.isInRange(r)?n=r:this.isInRange(s)&&(n=s),n}},{key:"isInRange",value:function(e){return!fD(e)||(!fD(this.min)||this.min<=e)&&(!fD(this.max)||e<=this.max)}},{key:"restrictModelValue",value:function(e){var t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}},{key:"restrictDecimals",value:function(e,t){var n=e;if(e&&this.hasDecimals){var i=this.decimals,r=String(e);if(t||uD.test(r))n=tD(e,i);else{var s=r.split("."),a=s[1];a&&a.length>i&&(a=a.substr(0,i),n=parseFloat("".concat(s[0],".").concat(a)))}}return n}},{key:"formatInputValue",value:function(e){return String(e).replace(".",this.decimalSeparator)}},{key:"formatValue",value:function(e,t){return null!==e&&function(e){return void 0!==e}(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):""}},{key:"setInputValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.focused,n=this.formatValue(e,t);this.elementValue=n,this.inputValue=n}},{key:"verifySettings",value:function(){if(Ri()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ri()&&e&&"number"!=typeof e)throw new Error("The NumericTextBox component requires value of type Number and ".concat(JSON.stringify(e)," was set."))}},{key:"parseOptions",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=this[n];if("string"==typeof i){var r=parseFloat(i),s=!isNaN(r);if(Ri()&&!s&&""!==i)throw new Error("The NumericTextBox component requires value of type Number or a String representing a number for the ".concat(n," property and ").concat(JSON.stringify(i)," was set."));this[n]=s?r:xD[n]}}}},{key:"intlChange",value:function(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}},{key:"hasTrailingZeros",value:function(e){if(this.hasDecimals&&this.focused){var t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}}]),e}()).\u0275fac=function(e){return new(e||pD)(Ua(SA),Ua(ul),Ua(tC),Ua(Ca),Ua(gc),Ua(sa),Ua(sl))},pD.\u0275cmp=St({type:pD,selectors:[["kendo-numerictextbox"]],viewQuery:function(e,t){var n;1&e&&(Vu(KA,!0),Vu(WA,!0)),2&e&&(Nu(n=Uu())&&(t.numericInput=n.first),Nu(n=Uu())&&(t.numericWrap=n.first))},hostVars:5,hostBindings:function(e,t){2&e&&(Ha("dir",t.direction),Co("k-widget",t.widgetClasses)("k-numerictextbox",t.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[tl([tC,{provide:eC,useValue:"kendo.numerictextbox"},{provide:OC,useExisting:Pe((function(){return pD})),multi:!0},{provide:ZC,useExisting:Pe((function(){return pD})),multi:!0}]),qo],decls:7,vars:23,consts:[["kendoNumericTextBoxLocalizedMessages","",6,"increment","decrement"],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],[1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){var n,i,r,s,a,o,l,u,c;1&e&&(Qa(0,0),eu(1,$A),Ja(),$a(2,"span",1,2),Ya(4,"input",3,4),Ba(6,QA,5,18,"span",5),Za()),2&e&&(Ir(2),Co("k-state-disabled",t.disabled),Ka("kendoEventsOutsideAngular",fu(14,JA,t.handleWheel,t.handleWheel)),Ir(2),Ka("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",(n=XA,i=t.handleDragEnter,r=t.handleKeyDown,s=t.handleInput,a=t.handleFocus,o=t.handleBlur,l=gn()+17,u=on(),c=Va(u,l,i,r,s,a),La(u,l+4,o)||c?Ra(u,l+5,n(i,r,s,a,o)):Pa(u,l+5))),Ha("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder),Ir(2),Ka("ngIf",t.spinners))},directives:function(){return[LD,DD,rf]},encapsulation:2}),pD),ID=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Jb);return e.\u0275fac=function(t){return TD(t||e)},e.\u0275dir=At({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[Ho]}),e}(),TD=mi(ID),FD=((wD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return _createClass(n,[{key:"override",get:function(){return!0}}]),n}(ID)).\u0275fac=function(e){return new(e||wD)(Ua(tC))},wD.\u0275cmp=St({type:wD,selectors:[["kendo-numerictextbox-messages"]],features:[tl([{provide:ID,useExisting:Pe((function(){return wD}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),wD),AD=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=Tt({type:e}),e.\u0275inj=we({factory:function(t){return new(t||e)},providers:[{provide:SA,useClass:zA}],imports:[[Ef]]}),e}(),DD=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.renderer=i,this.events={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.element&&this.element.nativeElement){var t=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular((function(){for(var n in t)t.hasOwnProperty(n)&&e.subscriptions.push(e.renderer.listen(e.element.nativeElement,n,t[n]))}))}}},{key:"ngOnDestroy",value:function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ua(sl),Ua(gc),Ua(ul))},e.\u0275dir=At({type:e,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"]}}),e}(),OD=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=Tt({type:e}),e.\u0275inj=we({factory:function(t){return new(t||e)}}),e}(),RD=((CD=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:CD}),CD.\u0275inj=we({factory:function(e){return new(e||CD)},providers:[{provide:SA,useClass:zA}],imports:[[Ef,AD,OD,qA]]}),CD),PD=((bD=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:bD}),bD.\u0275inj=we({factory:function(e){return new(e||bD)},providers:[{provide:SA,useClass:zA}],imports:[[Ef,OD,qA]]}),bD),LD=((kD=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(ID)).\u0275fac=function(e){return new(e||kD)(Ua(tC))},kD.\u0275dir=At({type:kD,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[tl([{provide:ID,useExisting:Pe((function(){return kD}))}]),Ho]}),kD),ND=((yD=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:yD}),yD.\u0275inj=we({factory:function(e){return new(e||yD)},providers:[{provide:SA,useClass:zA}],imports:[[Ef,OD]]}),yD),MD=((mD=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:mD}),mD.\u0275inj=we({factory:function(e){return new(e||mD)},providers:[{provide:SA,useClass:zA}],imports:[[Ef,OD]]}),mD),VD=((gD=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:gD}),gD.\u0275inj=we({factory:function(e){return new(e||gD)},imports:[[Ef]]}),gD),HD=((vD=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:vD}),vD.\u0275inj=we({factory:function(e){return new(e||vD)},providers:[{provide:SA,useClass:zA}],imports:[[Ef],VD,RD,PD,ND,MD]}),vD),jD=function(e){return e?new Date(e.getTime()):null},BD=function(e,t){var n=jD(e);return 0===t&&23===n.getHours()&&n.setHours(n.getHours()+2),n},zD=function(e,t){var n=jD(e);return n.setDate(n.getDate()+t),BD(n,e.getHours())},UD=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,o=new Date(e,t,n,i,r,s,a);return e>-1&&e<100&&o.setFullYear(o.getFullYear()-1900),BD(o,i)},GD=function(e){return UD(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0)},qD=function(e,t){return!e&&!t||e&&t&&e.getTime()===t.getTime()},KD=function(e){var t=UD(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return zD(t,-1)},WD=function e(t,n){var i=jD(t),r=(12+(i.getMonth()+n)%12)%12;return i.setMonth(i.getMonth()+n),function(t,n){return t.getMonth()!==n?KD(e(t,-1)):t}(BD(i,t.getHours()),r)},$D=function(e,t){var n=e.getMonth(),i=UD(t,n,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getMonth()===n?i:KD(WD(i,-1))},ZD=function(e,t){return BD($D(e,e.getFullYear()+t),e.getHours())},YD=function(e,t){return ZD(e,10*t)},QD=function(e,t){return ZD(e,100*t)},JD=function(e,t){return $D(e,t(e.getFullYear()))},XD=function(e){return JD(e,(function(e){return e-e%100}))},eO=function(e){return JD(e,(function(e){return e-e%100+90}))},tO=function(e){return JD(e,(function(e){return e-e%10}))},nO=function(e,t){return(XD(t).getFullYear()-XD(e).getFullYear())/100},iO=function(e){return JD(e,(function(e){return e-e%10+9}))},rO=function(e,t){return(tO(t).getFullYear()-tO(e).getFullYear())/10},sO=function(e,t){return zD(e,7*t)},aO=function(e){return UD(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},oO=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({}),lO=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oO.Forward,i=jD(e),r=(t-i.getDay()+7*n)%7;return i.setDate(i.getDate()+r),BD(i,e.getHours())},uO=function(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())},cO=function(e,t){var n=e.getDate(),i=UD(e.getFullYear(),t,n,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return i.getDate()===n?i:KD(WD(i,-1))},hO=function(e){return cO(e,0)},fO=function(e){return cO(e,11)},dO=function(e,t){return t.getFullYear()-e.getFullYear()},pO=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({}),vO=function(e,t){var n=UD(e.getFullYear(),0,1,-6),i=function(e,t){return t!==pO.Monday?zD(function(e,t){return lO(e,t,oO.Backward)}(e,t),4):zD(e,4-(e.getDay()||7))}(e,t).getTime()-n.getTime(),r=Math.floor(i/864e5);return 1+Math.floor(r/7)},gO=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pO.Monday;e=GD(e);var n=zD(e,-7),i=zD(e,7),r=vO(e,t);return 0===r?vO(n,t)+1:53===r&&vO(i,t)>1?1:r},mO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return _createClass(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):e.flush(this)}}]),n}(nb),yO=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(rb))(mO),kO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(r=t.call(this,e)).scheduler=i,r.delay=s,r}return _createClass(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new bO(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(cC.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(cC.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(cC.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(S),bO=function e(t,n){_classCallCheck(this,e),this.notification=t,this.destination=n},CO=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,s=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(e=t.call(this)).scheduler=s,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=i<1?1:i,e._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new wO(this._getNow(),e)),this._trimBufferThenGetEvents(),_get(_getPrototypeOf(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;if(this.closed)throw new P;if(this.isStopped||this.hasError?t=C.EMPTY:(this.observers.push(e),t=new L(this,e)),r&&e.add(e=new kO(e,r)),n)for(var a=0;a<s&&!e.closed;a++)e.next(i[a]);else for(var o=0;o<s&&!e.closed;o++)e.next(i[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||yO).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,s=0;s<r&&!(e-i[s].time<n);)s++;return r>t&&(s=Math.max(s,r-t)),s>0&&i.splice(0,s),i}}]),n}(M),wO=function e(t,n){_classCallCheck(this,e),this.time=t,this.value=n},_O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).scheduler=e,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))}},{key:"recycleAsyncId",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}]),n}(nb),SO=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,i=-1,r=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++i<r&&(e=n.shift()));if(this.active=!1,t){for(;++i<r&&(e=n.shift());)e.unsubscribe();throw t}}}]),n}(rb))(_O),xO=function(){function e(t,n){_classCallCheck(this,e),this.predicate=t,this.inclusive=n}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new EO(e,this.predicate,this.inclusive))}}]),e}(),EO=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).predicate=i,s.inclusive=r,s.index=0,s}return _createClass(n,[{key:"_next",value:function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(e,t)}},{key:"nextOrComplete",value:function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())}}]),n}(S),IO=["*"],TO=["list"];function FO(e,t){if(1&e&&Oo(0),2&e){var n=ao().$implicit;Ro(ao().service.navigationTitle(n))}}function AO(e,t){}var DO=function(e,t,n){return{$implicit:e,activeView:t,date:n}};function OO(e,t){if(1&e&&($a(0,"li"),$a(1,"span"),Ba(2,FO,1,1,"ng-template",5),Ba(3,AO,0,0,"ng-template",6),Za(),Za()),2&e){var n=t.$implicit,i=t.index,r=ao();Ha("data-date-index",i),Ir(1),Co("k-calendar-navigation-marker",r.service.isRangeStart(n)),Ir(1),Ka("ngIf",!r.templateRef),Ir(1),Ka("ngIf",r.templateRef)("ngTemplateOutlet",r.templateRef)("ngTemplateOutletContext",du(7,DO,r.service.navigationTitle(n),r.activeViewValue,n))}}var RO=function(e){return{click:e}};function PO(e,t){if(1&e&&($a(0,"th"),Oo(1),Za()),2&e){var n=t.$implicit;bo("width",ao(2).colWidth,"%"),Ir(1),Ro(n)}}function LO(e,t){if(1&e&&($a(0,"table",6),$a(1,"thead"),$a(2,"tr"),Ba(3,PO,2,3,"th",7),Za(),Za(),Za()),2&e){var n=ao();Ir(3),Ka("ngForOf",n.weekNames)}}function NO(e,t){1&e&&Ya(0,"col")}function MO(e,t){if(1&e){var n=eo();$a(0,"tbody",8),io("change",(function(e){return un(n),ao().handleDateChange(e)})),Za()}if(2&e){var i=t.$implicit,r=ao();Ka("activeView",r.activeView)("isActive",r.isActive)("min",r.min)("max",r.max)("cellUID",r.cellUID)("focusedDate",r.focusedDate)("selectedDate",r.value)("weekNumber",r.weekNumber)("templateRef",r.cellTemplateRef)("weekNumberTemplateRef",r.weekNumberTemplateRef)("viewDate",i)}}var VO=["today",$localize(_templateObject15||(_templateObject15=_taggedTemplateLiteral([":kendo.calendar.today|The label for the today button in the calendar header\u241f2df64767cd895a8fabe3e18b94b5b6b6f9e2e3f0\u241f826701167553276328:TODAY"])))];function HO(e,t){if(1&e){var n=eo();$a(0,"kendo-calendar-navigation",4),io("valueChange",(function(e){return un(n),ao().handleNavigation(e)}))("pageChange",(function(){return un(n),ao().onPageChange()})),Za()}if(2&e){var i=ao();Ka("activeView",i.activeViewEnum)("focusedDate",i.focusedDate)("min",i.min)("max",i.max)("templateRef",null==i.navigationItemTemplate?null:i.navigationItemTemplate.templateRef)}}var jO=["dateInput"],BO=["wrap"],zO=["increment",$localize(_templateObject16||(_templateObject16=_taggedTemplateLiteral([":kendo.dateinput.increment|The label for the **Increment** button in the DateInput\u241fa55944f9de69e7cc86b91200fe96f980a947d704\u241f589112377451589685:Increase value"]))),"decrement",$localize(_templateObject17||(_templateObject17=_taggedTemplateLiteral([":kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput\u241f0eded761107e6dad120997006a7f915bade9b15c\u241f6980524091606682769:Decrease value"])))];function UO(e,t){if(1&e){var n=eo();$a(0,"span",6),io("mousedown",(function(e){return un(n),e.preventDefault()})),$a(1,"span",7),io("mousedown",(function(){un(n);var e=ao();return e.arrowDirection=e.arrow.Up}))("mouseleave",(function(){un(n);var e=ao();return e.arrowDirection=e.arrow.None}))("click",(function(){return un(n),ao().handleButtonClick(1)})),Ya(2,"span",8),Za(),$a(3,"span",9),io("click",(function(){return un(n),ao().handleButtonClick(-1)}))("mousedown",(function(){un(n);var e=ao();return e.arrowDirection=e.arrow.Down}))("mouseleave",(function(){un(n);var e=ao();return e.arrowDirection=e.arrow.None})),Ya(4,"span",10),Za(),Za()}if(2&e){var i=ao();Ir(1),Co("k-state-active",i.arrowDirection===i.arrow.Up),Ka("title",i.localization.get("increment")),Ha("aria-label",i.localization.get("increment")),Ir(2),Co("k-state-active",i.arrowDirection===i.arrow.Down),Ka("title",i.localization.get("decrement")),Ha("aria-label",i.localization.get("decrement"))}}var GO=function(e,t,n,i,r,s,a){return{click:e,focus:t,mousedown:n,touchstart:i,dragstart:r,drop:s,blur:a}},qO=["container"],KO=["popupTemplate"],WO=["wrapper"],$O=["today",$localize(_templateObject18||(_templateObject18=_taggedTemplateLiteral([":kendo.datepicker.today|The label for the today button in the calendar header\u241f91a84f2d4871dbe7e90d84865d4a4d83c8ae041e\u241f1910980355989755624:TODAY"]))),"toggle",$localize(_templateObject19||(_templateObject19=_taggedTemplateLiteral([":kendo.datepicker.toggle|The label for the toggle button in the datepicker component\u241ff6c28c2d80dbe993c4b33f4dc4010364f41cc2ae\u241f4817467473728423164:Toggle calendar"])))];function ZO(e,t){}var YO=function(e){return{keydown:e}};function QO(e,t){if(1&e){var n=eo();$a(0,"kendo-calendar",9,10),io("valueChange",(function(e){un(n);var t=ao();return t.handleChange(t.mergeTime(e))})),Ya(2,"kendo-calendar-messages",11),Za(),Ba(3,ZO,0,0,"ng-template")}if(2&e){var i=ao();Ka("min",i.min)("max",i.max)("navigation",i.navigation)("activeView",i.activeView)("bottomView",i.bottomView)("topView",i.topView)("weekNumber",i.weekNumber)("cellTemplate",i.cellTemplate)("monthCellTemplate",i.monthCellTemplate)("yearCellTemplate",i.yearCellTemplate)("decadeCellTemplate",i.decadeCellTemplate)("centuryCellTemplate",i.centuryCellTemplate)("weekNumberTemplate",i.weekNumberTemplate)("headerTitleTemplate",i.headerTitleTemplate)("navigationItemTemplate",i.navigationItemTemplate)("focusedDate",i.focusedDate)("value",i.value)("kendoEventsOutsideAngular",hu(21,YO,i.handleKeydown))("scope",i)("disabledDates",i.disabledDates),Ir(2),Ka("today",i.localization.get("today"))}}var JO=function(e,t){return{click:e,mousedown:t}};function XO(e,t){1&e&&Oo(0),2&e&&Ro(ao().title)}function eR(e,t){}$localize(_templateObject20||(_templateObject20=_taggedTemplateLiteral([":kendo.timepicker.accept|The Accept button text in the timepicker component\u241f4c3bf42192220c7611c09ece1c5de14855139dd0\u241f7519663530416240229:Set"]))),$localize(_templateObject21||(_templateObject21=_taggedTemplateLiteral([":kendo.timepicker.acceptLabel|The label for the Accept button in the timepicker component\u241f93c2a9c3aa49f56e452c0aecbaabe3bb33fa4222\u241f4355879331538595758:Set time"]))),$localize(_templateObject22||(_templateObject22=_taggedTemplateLiteral([":kendo.timepicker.cancel|The Cancel button text in the timepicker component\u241f132eefca16bd41d489b4647724b91e93793603aa\u241f1086687567255473060:Cancel"]))),$localize(_templateObject23||(_templateObject23=_taggedTemplateLiteral([":kendo.timepicker.cancelLabel|The label for the Cancel button in the timepicker component\u241f2cf6f4ca4470810944b4016c9b6f87943d3390ab\u241f83621966901491941:Cancel changes"]))),$localize(_templateObject24||(_templateObject24=_taggedTemplateLiteral([":kendo.timepicker.now|The Now button text in the timepicker component\u241fbbc99bb74ae75a503bd813aad0c7253d3553e923\u241f5912507758515138116:Now"]))),$localize(_templateObject25||(_templateObject25=_taggedTemplateLiteral([":kendo.timepicker.nowLabel|The label for the Now button in the timepicker component\u241fdf1a696f318275aa934e27850920889d494c2740\u241f371982627910576599:Select now"]))),$localize(_templateObject26||(_templateObject26=_taggedTemplateLiteral([":kendo.timepicker.toggle|The label for the toggle button in the timepicker component\u241ff2c196786ed2d3ecb2369750c36aac9a4053fb30\u241f6938407659294495526:Toggle time list"]))),$localize(_templateObject27||(_templateObject27=_taggedTemplateLiteral([":kendo.datetimepicker.dateTab|The Date tab text in the datetimepicker popup header\u241f5bb17f81ae8dbc109499ce3792afffa6b7cef855\u241f3360129034450596425:Date"]))),$localize(_templateObject28||(_templateObject28=_taggedTemplateLiteral([":kendo.datetimepicker.dateTabLabel|The label for the Date tab in the datetimepicker popup header\u241f2a400c9e364a4c6d83ac39b5513c962805db54b2\u241f1810540079817643910:Date tab"]))),$localize(_templateObject29||(_templateObject29=_taggedTemplateLiteral([":kendo.datetimepicker.timeTab|The Time tab text in the datetimepicker popup header\u241fe9b2b760a6916040e7520a9a2926d65de175944d\u241f3807284594201983607:Time"]))),$localize(_templateObject30||(_templateObject30=_taggedTemplateLiteral([":kendo.datetimepicker.timeTabLabel|The label for the Time tab in the datetimepicker popup header\u241f13bf7e3a1036140119732c6d5952f7a20c22999e\u241f2577682127494513393:Time tab"]))),$localize(_templateObject31||(_templateObject31=_taggedTemplateLiteral([":kendo.datetimepicker.toggle|The label for the toggle button in the datetimepicker component\u241f60296a83f0d3e3d07aaba87c4f8e91b0aca3c22a\u241f3159207801887264026:Toggle popup"]))),$localize(_templateObject32||(_templateObject32=_taggedTemplateLiteral([":kendo.datetimepicker.accept|The Accept button text in the datetimepicker component\u241f4359b59db7ded88e106ada877e744c71b188f8f9\u241f3915774704336012538:Set"]))),$localize(_templateObject33||(_templateObject33=_taggedTemplateLiteral([":kendo.datetimepicker.acceptLabel|The label for the Accept button in the datetimepicker component\u241fcbea4571cca81ad9767a6b29f0287d1f3f6372dc\u241f4770689705864890748:Set"]))),$localize(_templateObject34||(_templateObject34=_taggedTemplateLiteral([":kendo.datetimepicker.cancel|The Cancel button text in the datetimepicker component\u241f17ab795d6f7527dd962a309759ca58cb4edd7e52\u241f5100781969600382158:Cancel"]))),$localize(_templateObject35||(_templateObject35=_taggedTemplateLiteral([":kendo.datetimepicker.cancelLabel|The label for the Cancel button in the datetimepicker component\u241fba26795ab9f4c21d66b17549ba854a96fcdac1f9\u241f3535986227615756275:Cancel"]))),$localize(_templateObject36||(_templateObject36=_taggedTemplateLiteral([":kendo.datetimepicker.now|The Now button text in the timepicker component\u241f7172e7e9a1741f6b63439ec89e498c995cb23b0d\u241f5497093725885127701:NOW"]))),$localize(_templateObject37||(_templateObject37=_taggedTemplateLiteral([":kendo.datetimepicker.nowLabel|The label for the Now button in the timepicker component\u241f52d90641b26b1ce4c011cadf0437ce36c1dac1d5\u241f5046379108717037514:Select now"]))),$localize(_templateObject38||(_templateObject38=_taggedTemplateLiteral([":kendo.datetimepicker.today|The label for the today button in the calendar header\u241f7ee30b9ae5918cc544fbd87a4135694397aeefaf\u241f7904626229769721311:TODAY"]))),$localize(_templateObject39||(_templateObject39=_taggedTemplateLiteral([":kendo.multiviewcalendar.today|The label for the today button in the calendar header\u241f063d99483243b27bc8282abfb5f2c76877e1112e\u241f3892034896682737327:TODAY"]))),$localize(_templateObject40||(_templateObject40=_taggedTemplateLiteral([":kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar\u241fe783e2af4828224b846fa92148ea1cc52b21bb13\u241f9101635325676663492:Navigate to previous view"]))),$localize(_templateObject41||(_templateObject41=_taggedTemplateLiteral([":kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar\u241f3e3a529a242f39d22f841c3bd8045ec75b696b7a\u241f3994336778698343633:Navigate to next view"])));var tR=["kendoCalendarView",""];function nR(e,t){1&e&&($a(0,"td",3),Oo(1,"\xa0"),Za())}function iR(e,t){if(1&e&&($a(0,"tr",4),$a(1,"th",5),Oo(2),Za(),Za()),2&e){var n=ao();Ir(1),Ka("colSpan",n.colSpan),Ir(1),Ro(n.title)}}function rR(e,t){if(1&e&&($a(0,"th"),Oo(1),Za()),2&e){var n=t.$implicit;Ir(1),Ro(n)}}function sR(e,t){if(1&e&&($a(0,"tr",4),Ba(1,rR,2,1,"th",6),Za()),2&e){var n=ao();Ir(1),Ka("ngForOf",n.weekNames)}}function aR(e,t){if(1&e&&Oo(0),2&e){var n=ao(3).$implicit,i=ao();Po(" ",i.getWeekNumber(i.firstDate(n))," ")}}function oR(e,t){}var lR=function(e,t){return{$implicit:e,cellContext:t}};function uR(e,t){if(1&e&&($a(0,"td",10),Ba(1,aR,1,1,"ng-template",7),Ba(2,oR,0,0,"ng-template",11),Za()),2&e){var n=ao(2).$implicit,i=ao();Ir(1),Ka("ngIf",!i.weekNumberTemplateRef),Ir(1),Ka("ngIf",i.weekNumberTemplateRef)("ngTemplateOutlet",i.weekNumberTemplateRef)("ngTemplateOutletContext",fu(4,lR,i.firstDate(n),i.getWeekNumberContext(n)))}}function cR(e,t){if(1&e&&Ba(0,uR,3,7,"td",9),2&e){var n=ao().$implicit,i=ao(),r=za(1);Ka("ngIf",i.firstDate(n))("ngIfElse",r)}}function hR(e,t){1&e&&Oo(0),2&e&&Ro(ao(2).$implicit.formattedValue)}function fR(e,t){}function dR(e,t){if(1&e&&Ba(0,fR,0,0,"ng-template",16),2&e){var n=ao(2).$implicit;Ka("ngTemplateOutlet",ao(2).templateRef)("ngTemplateOutletContext",fu(2,lR,n.value,n))}}function pR(e,t){if(1&e&&($a(0,"td",13),$a(1,"span",14),Ba(2,hR,1,1,"ng-template",7),Ba(3,dR,1,5,void 0,15),Za(),Za()),2&e){var n=ao(),i=n.$implicit,r=n.index,s=ao().index,a=ao();Ka("ngClass",a.getStyles(i))("title",i.title),Ha("id",i.id)("data-cell-index",a.tableCellIndex(s,r))("aria-selected",i.isSelected||i.isRangeStart||i.isRangeMid||i.isRangeEnd)("aria-disabled",i.isDisabled),Ir(2),Ka("ngIf",!a.templateRef),Ir(1),Ka("ngIf",a.templateRef)}}function vR(e,t){if(1&e&&(Qa(0),Ba(1,pR,4,8,"td",12),Ja()),2&e){var n=t.$implicit;ao(2);var i=za(1);Ir(1),Ka("ngIf",n)("ngIfElse",i)}}function gR(e,t){if(1&e&&($a(0,"tr",4),Ba(1,cR,1,2,"ng-template",7),Ba(2,vR,2,2,"ng-container",8),Za()),2&e){var n=t.$implicit,i=ao();Ir(1),Ka("ngIf",i.weekNumber),Ir(1),Ka("kForOf",n)}}$localize(_templateObject42||(_templateObject42=_taggedTemplateLiteral([":kendo.timeselector.accept|The Accept button text in the timeselector component\u241f801811aa1609e3f173c86baa82cee037f75a215f\u241f5362895271044573681:Set"]))),$localize(_templateObject43||(_templateObject43=_taggedTemplateLiteral([":kendo.timeselector.acceptLabel|The label for the Accept button in the timeselector component\u241fb4b1e5ac55f0330f6c4e32b866ae4339ad969978\u241f3417396278000787211:Set time"]))),$localize(_templateObject44||(_templateObject44=_taggedTemplateLiteral([":kendo.timeselector.cancel|The Cancel button text in the timeselector component\u241f3004d7704ffa6202a3b3925fcea490e486203a3e\u241f1890188482755567622:Cancel"]))),$localize(_templateObject45||(_templateObject45=_taggedTemplateLiteral([":kendo.timeselector.cancelLabel|The label for the Cancel button in the timeselector component\u241f08dfbdfffd662371a6ff4c0b6ed82b9faa48143b\u241f5738120209397145846:Cancel changes"]))),$localize(_templateObject46||(_templateObject46=_taggedTemplateLiteral([":kendo.timeselector.now|The Now button text in the timeselector component\u241f98cba1ae36a7bbe15e1bac1837e07922ec109e7d\u241f1926162752852226109:Now"]))),$localize(_templateObject47||(_templateObject47=_taggedTemplateLiteral([":kendo.timeselector.nowLabel|The label for the Now button in the timeselector component\u241f08e6a8a51d970609e138950fdd89c5cf201869f3\u241f7789175884909488647:Select now"])));var mR,yR,kR,bR,CR,wR,_R,SR,xR=((mR={})[mR.Left=0]="Left",mR[mR.Right=1]="Right",mR[mR.Up=2]="Up",mR[mR.Down=3]="Down",mR[mR.PrevView=4]="PrevView",mR[mR.NextView=5]="NextView",mR[mR.FirstInView=6]="FirstInView",mR[mR.LastInView=7]="LastInView",mR[mR.LowerView=8]="LowerView",mR[mR.UpperView=9]="UpperView",mR),ER={start:null,end:null},IR=new Date(1900,0,1),TR=new Date(2099,11,31),FR=function(e){return null!=e},AR=function(e,t){var n=jD(e);return n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n},DR=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=[],r=e;r<t;r+=n)i.push(r);return i},OR=function(e,t,n){return!e||!(t&&t>e||n&&n<e)},RR=function(e,t){return!FR(e)||!FR(t)||e<=t},PR=function(e,t,n){return e?t&&e<t?jD(t):n&&e>n?jD(n):e:e},LR=function(){return GD(new Date)},NR=function(e){},MR=function(e,t){return e.slice(t).concat(e.slice(0,t))},VR=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(e);return r.className=n,Object.keys(i).map((function(e){return r.style[e]=i[e]})),"string"==typeof t?r.innerHTML=t||"":(t||[]).forEach((function(e){return e&&r.appendChild(e)})),r}},HR=function(e,t){return void 0!==e[t]},jR=function(e,t){return e[t]&&null!=e[t].currentValue},BR=function(e,t){var n=t||ER,i=n.start,r=n.end;return!(!i||!r)&&i<e&&e<r},zR=[[]],UR=(_defineProperty(r={},xR.Left,(function(e){return YD(e,-1)})),_defineProperty(r,xR.Up,(function(e){return YD(e,-5)})),_defineProperty(r,xR.Right,(function(e){return YD(e,1)})),_defineProperty(r,xR.Down,(function(e){return YD(e,5)})),_defineProperty(r,xR.PrevView,(function(e){return QD(e,-1)})),_defineProperty(r,xR.NextView,(function(e){return QD(e,1)})),_defineProperty(r,xR.FirstInView,(function(e){return XD(e)})),_defineProperty(r,xR.LastInView,(function(e){return eO(e)})),r),GR=((yR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToDate",value:function(e,t){return QD(e,t)}},{key:"datesList",value:function(e,t){return DR(0,t).map((function(t){return QD(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,s=e.max,a=e.min,o=e.selectedDate,l=e.selectionRange,u=void 0===l?ER:l,c=e.viewDate;if(!c)return zR;var h=DR(0,5),f=XD(c),d=eO(c),p=OR(o,a,s),v=LR();return DR(0,2).map((function(e){var l=YD(f,5*e);return h.map((function(e){var c=t.normalize(YD(l,e),a,s);if(!t.isInRange(c,a,s))return null;var h=t.isEqual(c,u.start),g=t.isEqual(c,u.end),m=!h&&!g&&BR(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&p&&t.isEqual(c,o),isWeekend:!1,isRangeStart:h,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&t.isEqual(c,d),isRangeSplitStart:m&&t.isEqual(c,f),isToday:t.isEqual(c,v),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&tO(e).getFullYear()===tO(t).getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+99}},{key:"isInRange",value:function(e,t,n){var i=tO(e).getFullYear(),r=!t||tO(t).getFullYear()<=i,s=!n||i<=tO(n).getFullYear();return r&&s}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=tO(XD(e));return UD(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%1e3==0}},{key:"move",value:function(e,t){var n=UR[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return tO(e).getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?XD(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(XD(e).getFullYear()," - ").concat(eO(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return nO(t,e)}},{key:"total",value:function(e,t){return nO(e,t)+1}},{key:"value",value:function(e){return e?tO(e).getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?QD(e,-1*(n-i)):e}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?jD(t):e>n&&this.isEqual(e,n)?jD(n):e}}]),e}()).\u0275fac=function(e){return new(e||yR)},yR.\u0275prov=Ce({token:yR,factory:yR.\u0275fac}),yR),qR=[[]],KR=(_defineProperty(s={},xR.Left,(function(e){return ZD(e,-1)})),_defineProperty(s,xR.Up,(function(e){return ZD(e,-5)})),_defineProperty(s,xR.Right,(function(e){return ZD(e,1)})),_defineProperty(s,xR.Down,(function(e){return ZD(e,5)})),_defineProperty(s,xR.PrevView,(function(e){return YD(e,-1)})),_defineProperty(s,xR.NextView,(function(e){return YD(e,1)})),_defineProperty(s,xR.FirstInView,(function(e){return tO(e)})),_defineProperty(s,xR.LastInView,(function(e){return iO(e)})),s),WR=((kR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"addToDate",value:function(e,t){return YD(e,t)}},{key:"datesList",value:function(e,t){return DR(0,t).map((function(t){return YD(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,s=e.max,a=e.min,o=e.selectedDate,l=e.selectionRange,u=void 0===l?ER:l,c=e.viewDate;if(!c)return qR;var h=DR(0,5),f=tO(c),d=iO(c),p=OR(o,a,s),v=LR();return DR(0,2).map((function(e){var l=ZD(f,5*e);return h.map((function(e){var c=t.normalize(ZD(l,e),a,s);if(!t.isInRange(c,a,s))return null;var h=t.isEqual(c,u.start),g=t.isEqual(c,u.end),m=!h&&!g&&BR(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&p&&t.isEqual(c,o),isWeekend:!1,isRangeStart:h,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&t.isEqual(c,d),isRangeSplitStart:m&&t.isEqual(c,f),isToday:t.isEqual(c,v),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()+9}},{key:"isInRange",value:function(e,t,n){var i=e.getFullYear(),r=!t||t.getFullYear()<=i,s=!n||i<=n.getFullYear();return r&&s}},{key:"beginningOfPeriod",value:function(e){if(!e)return e;var t=tO(e);return UD(t.getFullYear(),0,1)}},{key:"isRangeStart",value:function(e){return e.getFullYear()%100==0}},{key:"move",value:function(e,t){var n=KR[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return e.getFullYear().toString()}},{key:"navigationTitle",value:function(e){return e?tO(e).getFullYear().toString():""}},{key:"title",value:function(e){return e?"".concat(tO(e).getFullYear()," - ").concat(iO(e).getFullYear()):""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return rO(t,e)}},{key:"total",value:function(e,t){return rO(e,t)+1}},{key:"value",value:function(e){return e?e.getFullYear().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?YD(e,-1*(n-i)):e}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?jD(t):e>n&&this.isEqual(e,n)?jD(n):e}}]),e}()).\u0275fac=function(e){return new(e||kR)},kR.\u0275prov=Ce({token:kR,factory:kR.\u0275fac}),kR),$R=[[]],ZR=(_defineProperty(a={},xR.Left,(function(e){return zD(e,-1)})),_defineProperty(a,xR.Up,(function(e){return sO(e,-1)})),_defineProperty(a,xR.Right,(function(e){return zD(e,1)})),_defineProperty(a,xR.Down,(function(e){return sO(e,1)})),_defineProperty(a,xR.PrevView,(function(e){return WD(e,-1)})),_defineProperty(a,xR.NextView,(function(e){return WD(e,1)})),_defineProperty(a,xR.FirstInView,(function(e){return aO(e)})),_defineProperty(a,xR.LastInView,(function(e){return KD(e)})),a),YR=((bR=function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"addToDate",value:function(e,t){return WD(e,t)}},{key:"datesList",value:function(e,t){return DR(0,t).map((function(t){return WD(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,s=e.max,a=e.min,o=e.selectedDate,l=e.selectionRange,u=void 0===l?ER:l,c=e.viewDate,h=e.isDateDisabled,f=void 0===h?function(){return!1}:h;if(!c)return $R;var d=aO(c),p=GD(d),v=KD(c),g=GD(v),m=OR(o,a,s),y=lO(d,this._intlService.firstDay(),-1),k=DR(0,7),b=LR();return DR(0,6).map((function(e){var l=zD(y,7*e);return k.map((function(e){var c=t.normalize(zD(l,e),a,s),h=GD(c);if(h<p||h>g||c<a||c>s)return null;var y=t.isEqual(c,u.start),k=t.isEqual(c,u.end),C=!y&&!k&&BR(c,u);return{formattedValue:t.value(c),id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&m&&t.isEqual(c,o),isWeekend:t.isWeekend(c),isRangeStart:y,isRangeMid:C,isRangeEnd:k,isRangeSplitStart:C&&t.isEqual(c,d),isRangeSplitEnd:C&&t.isEqual(c,v),isToday:t.isEqual(c,b),title:t.cellTitle(c),value:c,isDisabled:f(c)}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&GD(e).getTime()===GD(t).getTime()}},{key:"isInArray",value:function(e,t){if(0===t.length)return!1;var n=this.beginningOfPeriod(t[0]),i=this.beginningOfPeriod(WD(t[t.length-1],1));return n<=e&&e<i}},{key:"isInRange",value:function(e,t,n){var i=GD(e),r=!t||GD(t)<=i,s=!n||i<=GD(n);return r&&s}},{key:"beginningOfPeriod",value:function(e){return e?UD(e.getFullYear(),e.getMonth(),1):e}},{key:"isRangeStart",value:function(e){return!e.getMonth()}},{key:"move",value:function(e,t){var n=ZR[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return this._intlService.formatDate(e,"D")}},{key:"navigationTitle",value:function(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}},{key:"title",value:function(e){return"".concat(this.wideMonthNames()[e.getMonth()]," ").concat(e.getFullYear())}},{key:"rowLength",value:function(e){return 7+(e?1:0)}},{key:"skip",value:function(e,t){return uO(t,e)}},{key:"total",value:function(e,t){return uO(e,t)+1}},{key:"value",value:function(e){return e?e.getDate().toString():""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?WD(e,-1*(n-i)):e}},{key:"isWeekend",value:function(e){var t=this._intlService.weekendRange(),n=t.start,i=t.end,r=e.getDay();return i<n?r<=i||n<=r:n<=r&&r<=i}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?jD(t):e>n&&this.isEqual(e,n)?jD(n):e}},{key:"wideMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}}]),e}()).\u0275fac=function(e){return new(e||bR)(st(SA))},bR.\u0275prov=Ce({token:bR,factory:bR.\u0275fac}),bR),QR=[[]],JR=(_defineProperty(o={},xR.Left,(function(e){return WD(e,-1)})),_defineProperty(o,xR.Up,(function(e){return WD(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t})),_defineProperty(o,xR.Right,(function(e){return WD(e,1)})),_defineProperty(o,xR.Down,(function(e){return WD(e,(t=e.getMonth())<7?5:t<10?7:2);var t})),_defineProperty(o,xR.PrevView,(function(e){return ZD(e,-1)})),_defineProperty(o,xR.NextView,(function(e){return ZD(e,1)})),_defineProperty(o,xR.FirstInView,(function(e){return hO(e)})),_defineProperty(o,xR.LastInView,(function(e){return fO(e)})),o),XR=((CR=function(){function e(t){_classCallCheck(this,e),this._intlService=t}return _createClass(e,[{key:"addToDate",value:function(e,t){return ZD(e,t)}},{key:"datesList",value:function(e,t){return DR(0,t).map((function(t){return ZD(e,t)}))}},{key:"data",value:function(e){var t=this,n=e.cellUID,i=e.focusedDate,r=e.isActiveView,s=e.max,a=e.min,o=e.selectedDate,l=e.selectionRange,u=void 0===l?ER:l,c=e.viewDate;if(!c)return QR;var h=this.abbrMonthNames(),f=OR(o,a,s),d=hO(c),p=fO(c),v=d.getFullYear(),g=DR(0,5),m=LR();return DR(0,3).map((function(e){var l=WD(d,5*e);return g.map((function(e){var c=t.normalize(WD(l,e),a,s),g=v<c.getFullYear();if(!t.isInRange(c,a,s)||g)return null;var y=t.isEqual(c,u.start),k=t.isEqual(c,u.end),b=!y&&!k&&BR(c,u);return{formattedValue:h[c.getMonth()],id:"".concat(n).concat(c.getTime()),isFocused:t.isEqual(c,i),isSelected:r&&f&&t.isEqual(c,o),isWeekend:!1,isRangeStart:y,isRangeMid:b,isRangeEnd:k,isRangeSplitEnd:b&&t.isEqual(c,p),isRangeSplitStart:b&&t.isEqual(c,d),isToday:t.isEqual(c,m),title:t.cellTitle(c),value:c}}))}))}},{key:"isEqual",value:function(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}},{key:"isInArray",value:function(e,t){if(!t.length)return!1;var n=e.getFullYear();return t[0].getFullYear()<=n&&n<=t[t.length-1].getFullYear()}},{key:"isInRange",value:function(e,t,n){var i=UD(e.getFullYear(),e.getMonth(),1),r=!t||UD(t.getFullYear(),t.getMonth(),1)<=i,s=!n||i<=UD(n.getFullYear(),n.getMonth(),1);return r&&s}},{key:"beginningOfPeriod",value:function(e){return e?UD(e.getFullYear(),0,1):e}},{key:"isRangeStart",value:function(e){return e.getFullYear()%10==0}},{key:"move",value:function(e,t){var n=JR[t];return n?n(e):e}},{key:"cellTitle",value:function(e){return"".concat(e.getFullYear()," ").concat(this.value(e))}},{key:"navigationTitle",value:function(e){return this.title(e)}},{key:"title",value:function(e){return e?e.getFullYear().toString():""}},{key:"rowLength",value:function(e){return 5}},{key:"skip",value:function(e,t){return dO(t,e)}},{key:"total",value:function(e,t){return dO(e,t)+1}},{key:"value",value:function(e){return e?this.abbrMonthNames()[e.getMonth()]:""}},{key:"viewDate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=this.total(e,t);return i<n?ZD(e,-1*(n-i)):e}},{key:"abbrMonthNames",value:function(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}},{key:"normalize",value:function(e,t,n){return e<t&&this.isEqual(e,t)?jD(t):e>n&&this.isEqual(e,n)?jD(n):e}}]),e}()).\u0275fac=function(e){return new(e||CR)(st(SA))},CR.\u0275prov=Ce({token:CR,factory:CR.\u0275fac}),CR),eP=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({}),tP=(_defineProperty(l={},eP.month,YR),_defineProperty(l,eP.year,XR),_defineProperty(l,eP.decade,WR),_defineProperty(l,eP.century,GR),l),nP=((wR=function(){function e(t){_classCallCheck(this,e),this.injector=t,this.viewChanged=new xu,this.bottom=eP.month,this.top=eP.century}return _createClass(e,[{key:"configure",value:function(e,t){this.bottom=e,this.top=t}},{key:"service",value:function(e){var t=tP[e];return t?this.injector.get(t):null}},{key:"moveDown",value:function(e){this.move(e,-1)}},{key:"moveUp",value:function(e){this.move(e,1)}},{key:"moveToBottom",value:function(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}},{key:"canMoveDown",value:function(e){return this.bottom<e}},{key:"canMoveUp",value:function(e){return e<this.top}},{key:"clamp",value:function(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}},{key:"move",value:function(e,t){var n=this.clamp(function(e,t){var n=eP[eP[e+t]];return void 0!==n?n:e}(e,t));n!==e&&this.viewChanged.emit({view:n})}}]),e}()).\u0275fac=function(e){return new(e||wR)(st(Ca))},wR.\u0275prov=Ce({token:wR,factory:wR.\u0275fac}),wR),iP=function(e){return e&&(!e.touched||e.control&&"blur"===e.control.updateOn)},rP=function(e){return e.preventDefault()},sP=function(e){return null!=e},aP=VR("div"),oP=VR("ul"),lP=VR("li"),uP=VR("td"),cP=VR("th"),hP=VR("tr"),fP=VR("tbody"),dP=VR("thead"),pP=VR("table"),vP=function(e,t){return new Array(e).fill("1").map(t)},gP=function(e){return aP(e,"k-content k-scrollable")},mP=function(){return kb?(_R||(_R=aP([gP([oP([lP("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),_R):null},yP=function(e,t,n){var i,r=e.cells,s=e.rows;return function(){return kb?(i||(i=function(e,t,n){return aP([aP('\n            <span class="k-button k-bare k-title">March 2017</span>\n            <span class="k-today">TODAY</span>\n        ',"k-calendar-header"),n?pP([dP([hP([cP("MO")])])],"k-calendar-weekdays"):null,gP([e,e])],t,{left:"-10000px",position:"absolute"})}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return pP([fP([hP([cP("1")])].concat(vP(e,(function(){return hP(vP(t,(function(e){return uP('<span class="k-link">'.concat(e,"</span>"))})))}))))])}(s,r),t,n)),i):null}},kP=function(e){return e.querySelector(".k-scrollable")},bP=function(e){return kP(e).classList.add("k-scrollable-horizontal"),e},CP=yP({cells:7,rows:6},"k-calendar-view k-calendar-monthview",!0),wP=yP({cells:5,rows:3},"k-calendar-view k-calendar-yearview",!1),_P=yP({cells:5,rows:2},"k-calendar-view k-calendar-decadeview",!1),SP=function(e){return parseFloat(window.getComputedStyle(e).height)||e.offsetHeight},xP=function(e){var t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},EP=function(e){return e.querySelector("tbody")},IP=((SR=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ensureHeights",value:function(){void 0===this.calendarHeight&&this.calculateHeights()}},{key:"calculateHeights",value:function(e){var t=this;kb()&&(this.hostContainer=e,this.batch(CP(),(function(e){var n=EP(e);t.calendarHeight=SP(e),t.monthViewHeight=SP(n),t.headerHeight=SP(n.children[0]),t.scrollableContentHeight=SP(kP(e))})),this.batch(bP(CP()),(function(e){var n=EP(e);t.calendarWidth=xP(e),t.monthViewWidth=xP(n),t.scrollableContentWidth=xP(kP(e))})),this.batch(wP(),(function(e){t.yearViewHeight=SP(EP(e)),t.scrollableYearContentHeight=SP(kP(e))})),this.batch(bP(wP()),(function(e){t.yearViewWidth=xP(EP(e))})),this.batch(_P(),(function(e){t.decadeViewHeight=SP(EP(e)),t.centuryViewHeight=t.decadeViewHeight})),this.batch(bP(_P()),(function(e){t.decadeViewWidth=xP(EP(e)),t.centuryViewWidth=t.decadeViewWidth})),this.batch(mP(),(function(e){t.navigationItemHeight=SP(e.querySelector("li"))})))}},{key:"viewHeight",value:function(e){return this.viewDimension(e,"height")}},{key:"viewWidth",value:function(e){return this.viewDimension(e,"width")}},{key:"viewDimension",value:function(e,t){var n="height"===t?"ViewHeight":"ViewWidth";switch(e){case eP.month:return this["month"+n];case eP.year:return this["year"+n];case eP.decade:return this["decade"+n];case eP.century:return this["century"+n];default:return 1}}},{key:"batch",value:function(e,t){if(sP(this.hostContainer)){var n=this.hostContainer.cloneNode();document.body.appendChild(n);try{t(n.appendChild(e))}catch(i){throw i}finally{document.body.removeChild(n)}}}}]),e}()).\u0275fac=function(e){return new(e||SR)},SR.\u0275prov=Ce({token:SR,factory:SR.\u0275fac}),SR),TP=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.total=t,this.rowHeight=n,this.detailRowHeight=i,this.offsets=[],this.heights=[];for(var r=0,s=0;s<t;s++)this.offsets.push(r),r+=n,this.heights.push(n)}return _createClass(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,n,i){return void 0!==t?t:n===e?i:n>e?i-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.heights[e]+=t,this.offsets=function(e,t,n){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+n}))))}(this.offsets,e,t)}}]),e}(),FP=function(e){return Math.max(e,0)},AP=function e(t){_classCallCheck(this,e),this.offset=t},DP=function e(t){_classCallCheck(this,e),this.skip=t},OP=function(){function e(t){_classCallCheck(this,e),this.scrollObservable=t,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}return _createClass(e,[{key:"create",value:function(e,t,n,i){var r=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"vertical";this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScroll=0,this.topOffset=s,this.bottomOffset=a,this.direction=o;var l=new CO(2),u=this.rowsForHeight(s),c=FP(t-u);return l.next(new AP(this.rowOffset(c))),u&&l.next(new DP(c)),this.subscription=D.create((function(e){r.unsubscribe(),r.scrollSubscription=r.scrollObservable.subscribe((function(t){return r.onScroll(t,e)}))})).subscribe((function(e){return l.next(e)})),l}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var n=e.scrollLeft,i=e.scrollTop,r=e.offsetHeight,s=e.offsetWidth,a="vertical"===this.direction?i:n,o="vertical"===this.direction?r:s;if(this.lastScroll!==a){var l=this.lastScroll>=a;this.lastScroll=a;var u=this.rowHeightService.index(FP(a-this.topOffset)),c=this.rowHeightService.index(FP(a+o-this.bottomOffset));if(!l&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=u,t.next(new AP(this.rowOffset(u))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new DP(this.firstLoaded))),l&&u<=this.firstLoaded){var h=Math.floor(.3*this.take);this.firstLoaded=FP(u-h),t.next(new AP(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new DP(this.firstLoaded))}}}},{key:"rowOffset",value:function(e){return this.rowHeightService.offset(e)+this.topOffset}},{key:"rowsForHeight",value:function(e){return Math.ceil(e/this.rowHeightService.height(0))}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}]),e}(),RP=new Ye("dateinputs-scroll-service-factory");function PP(e){return new OP(e)}var LP,NP,MP,VP,HP,jP,BP,zP,UP,GP,qP,KP,WP,$P,ZP,YP,QP,JP,XP,eL,tL,nL,iL,rL,sL,aL,oL,lL,uL,cL,hL,fL,dL,pL,vL=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({}),gL=(_defineProperty(u={},vL.Forward,(function(e){return function(t){return t+e}})),_defineProperty(u,vL.Backward,(function(e){return function(t){return t-e}})),u),mL=(_defineProperty(c={},vL.Forward,(function(e){return function(t){return Math.min(t,e)}})),_defineProperty(c,vL.Backward,(function(e){return function(t){return Math.max(t,e)}})),c),yL=(_defineProperty(h={},vL.Forward,(function(e){return function(t){return t<e}})),_defineProperty(h,vL.Backward,(function(e){return function(t){return t>e}})),h),kL=((LP=function(){function e(t,n,i,r){_classCallCheck(this,e),this.container=n,this.renderer=i,this.zone=r,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new xu,this.pageChange=new xu,this.scrollChange=new xu,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new M,this.scroller=t(this.dispatcher)}return _createClass(e,[{key:"totalVertexLength",get:function(){var e=this.totalSize+"px";return"vertical"===this.direction?{height:e}:{width:e}}},{key:"containerOffsetSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}},{key:"containerScrollSize",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}},{key:"containerScrollPosition",get:function(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}},{key:"wrapperClasses",get:function(){return!0}},{key:"horizontalClass",get:function(){return"horizontal"===this.direction}},{key:"ngOnChanges",value:function(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}},{key:"ngOnInit",value:function(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}},{key:"ngAfterViewInit",value:function(){var e=this;this.zone.runOutsideAngular((function(){e.containerScrollSubscription=e.scroll$().pipe($((function(e){return e.target}))).subscribe((function(t){e.dispatcher.next(t),e.emitActiveIndex()}))}))}},{key:"ngOnDestroy",value:function(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}},{key:"getContainerProperty",value:function(e){return this.container.nativeElement[e]}},{key:"activeIndex",value:function(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}},{key:"itemIndex",value:function(e){return this.rowHeightService.index(e)}},{key:"itemOffset",value:function(e){return this.rowHeightService.offset(e)}},{key:"isIndexVisible",value:function(e){if(!this.rowHeightService)return!1;var t=this.containerScrollPosition,n=t+this.containerOffsetSize,i=this.rowHeightService.offset(e),r=i+this.rowHeightService.height(e);return i>=t&&r<=n}},{key:"isListScrolled",value:function(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}},{key:"scrollTo",value:function(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}},{key:"scrollToIndex",value:function(e){var t=this;this.zone.runOutsideAngular((function(){t.resolvedPromise.then((function(){t.scrollTo(t.rowHeightService.offset(e))}))}))}},{key:"scrollToBottom",value:function(){this.scrollTo(this.totalSize)}},{key:"animateToIndex",value:function(e){var t=this;this.animationSubscription&&this.animationSubscription.unsubscribe();var n=this.rowHeightService.offset(e),i=this.getContainerScrollDirection(n),r=this.scrollRange(n,i),s=r.start,a=r.end;if(s!==a){var o=this.scrollStep(s,a),l=gL[i](o),u=mL[i](a),c=yL[i](l(a));this.zone.runOutsideAngular((function(){t.animationSubscription=$v(qv(s),Hb(0,SO)).pipe($((function(e){return e[0]})),Fg(l),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return n.lift(new xO(e,t))}}(c),$(u)).subscribe((function(e){return t.scrollTo(e)}))}))}}},{key:"scrollRange",value:function(e,t){var n=this.containerScrollPosition;if(parseInt(e,10)===parseInt(n,10))return{start:e,end:e};var i,r=this.containerMaxScroll(),s=t===vL.Backward?1:-1,a=(i=this.maxScrollDifference,Math.min(Math.abs(e-n),i)),o=Math.min(e,r);return{start:Math.min(Math.max(o+s*a,0),r),end:o}}},{key:"scrollStep",value:function(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}},{key:"scroll$",value:function(){return kb()?hb(this.container.nativeElement,"scroll"):Qv}},{key:"initServices",value:function(){var e=this;this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe((function(t){t instanceof DP?e.pageChange.emit(t):e.scrollChange.emit(t)}))}},{key:"createRowHeightService",value:function(){return new TP(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}},{key:"emitActiveIndex",value:function(){var e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}},{key:"containerMaxScroll",value:function(){return this.containerScrollSize-this.containerOffsetSize}},{key:"getContainerScrollDirection",value:function(e){return e<this.containerScrollPosition?vL.Backward:vL.Forward}}]),e}()).\u0275fac=function(e){return new(e||LP)(Ua(RP),Ua(sl),Ua(ul),Ua(gc))},LP.\u0275cmp=St({type:LP,selectors:[["kendo-virtualization"]],hostVars:6,hostBindings:function(e,t){2&e&&Co("k-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[tl([{provide:RP,useValue:PP}]),qo],ngContentSelectors:IO,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(lo(),uo(0),Ya(1,"div",0)),2&e&&(Ir(1),Co("k-scrollable-horizontal-placeholder","horizontal"===t.direction),Ka("ngStyle",t.totalVertexLength))},directives:[_f],encapsulation:2}),LP),bL=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},CL=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},wL=((MP=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.bus=t,this.dom=n,this.intl=i,this.cdr=r,this.renderer=s,this.min=new Date(IR),this.max=new Date(TR),this.focusedDate=new Date,this.valueChange=new xu,this.pageChange=new xu,this.dates=[],this.take=30,this.indexToScroll=-1}return _createClass(e,[{key:"getComponentClass",get:function(){return!0}},{key:"ngOnInit",value:function(){this.dom.ensureHeights();var e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.activeViewValue=eP[this.activeView];var t=PR(this.focusedDate,this.min,this.max),n=this.service.total(this.min,this.max),i=this.total&&this.total!==n;this.skip=this.service.skip(t,this.min),this.total=n,!i&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||i)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,n=this.list.nativeElement,i="translateY(".concat(t,"px)");this.renderer.setStyle(n,"transform",i),this.renderer.setStyle(n,"-ms-transform",i)}},{key:"handleDateChange",value:function(e){var t=bL(e.target,(function(e){return e.hasAttribute("data-date-index")}),this.list.nativeElement);if(t){var n=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(jD(this.dates[n]))}}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"intlChange",value:function(){this.activeView===eP.month&&this.cdr.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||MP)(Ua(nP),Ua(IP),Ua(SA),Ua(sa),Ua(ul))},MP.\u0275cmp=St({type:MP,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){var n;1&e&&(Vu(kL,!0),Mu(TO,!0)),2&e&&(Nu(n=Uu())&&(t.virtualization=n.first),Nu(n=Uu())&&(t.list=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&Co("k-calendar-navigation",t.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[qo],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ya(0,"span",0),$a(1,"kendo-virtualization",1),io("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)})),$a(2,"ul",2,3),Ba(4,OO,4,11,"li",4),Za(),Za()),2&e&&(Ir(1),Ka("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),Ir(1),Ka("kendoEventsOutsideAngular",hu(10,RO,t.handleDateChange))("scope",t),Ir(2),Ka("kForOf",t.dates))},directives:function(){return[kL,Eb,rN,rf,Sf]},encapsulation:2,changeDetection:0}),MP),_L=((NP=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.bus=t,this.cdr=n,this.intl=i,this.dom=r,this.renderer=s,this.isActive=!0,this.min=new Date(IR),this.max=new Date(TR),this.activeDateChange=new xu,this.valueChange=new xu,this.pageChange=new xu,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}return _createClass(e,[{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.isMonthView()},set:function(e){this.showWeekNumbers=e}},{key:"getComponentClass",get:function(){return!0}},{key:"getComponentMonthClass",get:function(){return this.activeView===eP.month}},{key:"getComponentYearClass",get:function(){return this.activeView===eP.year}},{key:"getComponentDecadeClass",get:function(){return this.activeView===eP.decade}},{key:"getComponentCenturyClass",get:function(){return this.activeView===eP.century}},{key:"ngOnInit",value:function(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}},{key:"ngOnChanges",value:function(e){if(this.service=this.bus.service(this.activeView),this.service){this.cols=new Array(this.service.rowLength(this.weekNumber)).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=HR(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;var t,n,i=HR(e,"activeView"),r=this.focusedDate,s=PR(this.service.viewDate(r,this.max,this.minViewsToRender),this.min,this.max),a=this.service.total(this.min,this.max),o=this.total&&this.total!==a||!this.service.isInArray(r,this.dates);this.skip=this.service.skip(s,this.min),this.total=a,this.animateToIndex=!i,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),o&&(this.dates=this.service.datesList(s,this.getTake(this.skip))),n=r,(t=this.activeDate)&&n&&t.getFullYear()===n.getFullYear()&&t.getMonth()===n.getMonth()||(this.activeDate=jD(r));var l=HR(e,"focusedDate")||i;(o||l||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(r,this.min))}}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe()}},{key:"ngAfterViewInit",value:function(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}},{key:"ngAfterViewChecked",value:function(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}},{key:"onPageChange",value:function(e){var t=e.skip;this.dates=this.service.datesList(this.service.addToDate(this.min,t),this.getTake(t)),this.pageChange.emit()}},{key:"scrollChange",value:function(e){var t=e.offset,n=this.list.nativeElement,i="translateY(".concat(t,"px)");this.renderer.setStyle(n,"transform",i),this.renderer.setStyle(n,"-ms-transform",i)}},{key:"setActiveDate",value:function(e){var t=this.service.addToDate(this.min,e);qD(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}},{key:"handleDateChange",value:function(e){this.valueChange.emit(e)}},{key:"isMonthView",value:function(){return this.activeView===eP.month}},{key:"isScrolled",value:function(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}},{key:"getBottomOffset",value:function(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}},{key:"getScrollableHeight",value:function(){return this.activeView===eP.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}},{key:"getTake",value:function(e){return Math.min(this.total-e,this.take)}},{key:"getWeekNames",value:function(){var e=MR(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}},{key:"intlChange",value:function(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}}]),e}()).\u0275fac=function(e){return new(e||NP)(Ua(nP),Ua(sa),Ua(SA),Ua(IP),Ua(ul))},NP.\u0275cmp=St({type:NP,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){var n;1&e&&(Vu(kL,!0),Mu(TO,!0)),2&e&&(Nu(n=Uu())&&(t.virtualization=n.first),Nu(n=Uu())&&(t.list=n.first))},hostVars:10,hostBindings:function(e,t){2&e&&Co("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",value:"value"},outputs:{activeDateChange:"activeDateChange",valueChange:"valueChange",pageChange:"pageChange"},features:[qo],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","today"],["class","k-calendar-weekdays","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],["list",""],[4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change",4,"kFor","kForOf"],[1,"k-calendar-weekdays",2,"table-layout","auto"],[3,"width",4,"ngFor","ngForOf"],["kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDate","weekNumber","templateRef","weekNumberTemplateRef","viewDate","change"]],template:function(e,t){1&e&&($a(0,"kendo-calendar-header",0),io("today",(function(e){return t.handleDateChange(e)})),Za(),Ba(1,LO,4,1,"table",1),$a(2,"kendo-virtualization",2),io("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)}))("activeIndexChange",(function(e){return t.setActiveDate(e)})),$a(3,"table",null,3),$a(5,"colgroup"),Ba(6,NO,1,0,"col",4),Za(),Ba(7,MO,1,11,"tbody",5),Za(),Za()),2&e&&(Ka("currentDate",t.activeDate)("min",t.min)("max",t.max)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),Ir(1),Ka("ngIf",t.isMonthView()),Ir(1),Ka("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),Ir(4),Ka("ngForOf",t.cols),Ir(1),Ka("kForOf",t.dates))},directives:function(){return[sN,rf,kL,tf,rN,oN]},encapsulation:2,changeDetection:0}),NP),SL={33:xR.PrevView,34:xR.NextView,35:xR.LastInView,36:xR.FirstInView,37:xR.Left,38:xR.Up,39:xR.Right,40:xR.Down,"meta+38":xR.UpperView,"meta+40":xR.LowerView},xL=function(){var e=function(){function e(t){_classCallCheck(this,e),this.bus=t}return _createClass(e,[{key:"action",value:function(e){return SL["".concat(e.ctrlKey||e.metaKey?"meta+":"").concat(e.keyCode)]}},{key:"move",value:function(e,t,n){var i=this.bus.service(n);return i?t===xR.UpperView&&this.bus.canMoveUp(n)?(this.bus.moveUp(n),e):t===xR.LowerView&&this.bus.canMoveDown(n)?(this.bus.moveDown(n),e):i.move(e,t):e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st(nP))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),EL=((WP=function(){function e(t,n){_classCallCheck(this,e),this.dom=t,this.zone=n}return _createClass(e,[{key:"configure",value:function(e){var t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=function(e){return function(t){return Math.floor(t/e)}}(t),this.powerByMagnitude=function(e){return function(t){return t*e}}(t)}},{key:"sync",value:function(e,t){var n=this;this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular((function(){var i,r;n.navSubscription=e.scroll$().subscribe((function(e){r?r=!1:(i=!0,n.scrollSiblingOf(e.target))})),n.viewSubscription=t.scroll$().subscribe((function(e){i?i=!1:(r=!0,n.scrollSiblingOf(e.target))}))})))}},{key:"scrollSiblingOf",value:function(e){var t=this.siblingComponent(e),n=this.calculateScroll(t,e.scrollTop);t.scrollTo(n)}},{key:"siblingComponent",value:function(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}},{key:"calculateScroll",value:function(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}},{key:"destroy",value:function(){this.unsubscribe()}},{key:"unsubscribe",value:function(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||WP)(st(IP),st(gc))},WP.\u0275prov=Ce({token:WP,factory:WP.\u0275fac}),WP),IL=((KP=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||KP)(Ua(Tl))},KP.\u0275dir=At({type:KP,selectors:[["","kendoCalendarCellTemplate",""]]}),KP),TL=((qP=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||qP)(Ua(Tl))},qP.\u0275dir=At({type:qP,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),qP),FL=((GP=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||GP)(Ua(Tl))},GP.\u0275dir=At({type:GP,selectors:[["","kendoCalendarYearCellTemplate",""]]}),GP),AL=((UP=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||UP)(Ua(Tl))},UP.\u0275dir=At({type:UP,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),UP),DL=((zP=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||zP)(Ua(Tl))},zP.\u0275dir=At({type:zP,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),zP),OL=((BP=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||BP)(Ua(Tl))},BP.\u0275dir=At({type:BP,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),BP),RL=((jP=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||jP)(Ua(Tl))},jP.\u0275dir=At({type:jP,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),jP),PL=((HP=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||HP)(Ua(Tl))},HP.\u0275dir=At({type:HP,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),HP),LL=((VP=function e(){_classCallCheck(this,e),this.onFocus=new xu,this.onBlur=new xu,this.sameDateSelected=new xu,this.dateCompletenessChange=new xu}).\u0275prov=Ce({token:VP,factory:VP.\u0275fac=function(e){return new(e||VP)}}),VP),NL=function(e){return function(t){return e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null}},ML=function(e){return function(t){return e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null}},VL=function(){return!1},HL=(($P=function(){function e(){_classCallCheck(this,e),this.changes=new M,this.isDateDisabled=VL}return _createClass(e,[{key:"initialize",value:function(e){if("function"==typeof e)this.isDateDisabled=function(t){return e(GD(t))};else if(i=e,Array.isArray(i)&&i.length>0&&i.every((function(e){return"number"==typeof e}))){var t=new Set(e);this.isDateDisabled=function(e){return t.has(e.getDay())}}else if(function(e){return Array.isArray(e)&&e.length>0&&e.every((function(e){return e instanceof Date}))}(e)){var n=new Set(e.map((function(e){return GD(e).getTime()})));this.isDateDisabled=function(e){return n.has(GD(e).getTime())}}else this.isDateDisabled=VL,this.notifyInvalidInput(e);var i;this.notifyServiceChange()}},{key:"notifyInvalidInput",value:function(e){if(sP(e)&&Ri())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}},{key:"notifyServiceChange",value:function(){this.changes.next()}}]),e}()).\u0275fac=function(e){return new(e||$P)},$P.\u0275prov=Ce({token:$P,factory:$P.\u0275fac}),$P),jL=function(e){return e?e.virtualization:null},BL={multi:!0,provide:OC,useExisting:Pe((function(){return GL}))},zL={multi:!0,provide:ZC,useExisting:Pe((function(){return GL}))},UL={provide:Mb,useExisting:Pe((function(){return GL}))},GL=((ZP=function(){function e(t,n,i,r,s,a,o,l,u,c,h){_classCallCheck(this,e),this.bus=t,this.dom=n,this.element=i,this.navigator=r,this.renderer=s,this.cdr=a,this.ngZone=o,this.injector=l,this.scrollSyncService=u,this.disabledDatesService=c,this.pickerService=h,this.id=_b(),this.rangeValidation=!1,this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=eP[eP.month],this.bottomView=eP[eP.month],this.topView=eP[eP.century],this.weekNumber=!1,this.activeViewChange=new xu,this.activeViewDateChange=new xu,this.valueChange=new xu,this.isActive=!1,this.cellUID=_b(),this._min=new Date(IR),this._max=new Date(TR),this._focusedDate=LR(),this.onControlChange=NR,this.onControlTouched=NR,this.onValidatorChange=NR,this.minValidateFn=NR,this.maxValidateFn=NR,this.syncNavigation=!0,this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,this.setClasses(i.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}return _createClass(e,[{key:"focusedDate",get:function(){return this._focusedDate},set:function(e){this._focusedDate=e||LR(),this.setAriaActivedescendant()}},{key:"min",get:function(){return this._min},set:function(e){this._min=e||new Date(IR)}},{key:"max",get:function(){return this._max},set:function(e){this._max=e||new Date(TR)}},{key:"value",get:function(){return this._value},set:function(e){this.verifyValue(e),this._value=jD(e)}},{key:"tabIndex",get:function(){return this.tabindex},set:function(e){this.tabindex=e}},{key:"disabledDates",set:function(e){this.disabledDatesService.initialize(e)}},{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"activeViewEnum",get:function(){var e=eP[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}},{key:"bottomViewEnum",get:function(){return eP[this.bottomView]}},{key:"topViewEnum",get:function(){return eP[this.topView]}},{key:"widgetId",get:function(){return this.id}},{key:"widgetRole",get:function(){return"grid"}},{key:"calendarTabIndex",get:function(){return this.disabled?void 0:this.tabIndex}},{key:"ariaDisabled",get:function(){return this.disabled}},{key:"ngOnInit",value:function(){var e=this;this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.viewChangeSubscription=this.bus.viewChanged.subscribe((function(t){var n=t.view;e.activeView=eP[n],e.emitEvent(e.activeViewChange,e.activeView),e.scrollSyncService.configure(n),e.detectChanges()})),this.control=this.injector.get(GC,null),this.element&&this.ngZone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum);var t=jR(e,"value")&&!jR(e,"focusedDate"),n=PR(jD(t?this.value:this.focusedDate),this.min,this.max);this.focusedDate=qD(this.focusedDate,n)?this.focusedDate:n,e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?NL(this.min):NR,this.maxValidateFn=this.rangeValidation?ML(this.max):NR,this.onValidatorChange())}},{key:"ngAfterViewInit",value:function(){this.setAriaActivedescendant()}},{key:"ngAfterViewChecked",value:function(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(jL(this.navigationView),jL(this.monthView)))}},{key:"ngOnDestroy",value:function(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.destroyed=!0}},{key:"onResize",value:function(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}},{key:"focus",value:function(){this.element&&this.element.nativeElement.focus()}},{key:"blur",value:function(){this.element&&this.element.nativeElement.blur()}},{key:"containsElement",value:function(e){var t=this;return Boolean(CL(e,(function(e){return e===t.element.nativeElement})))}},{key:"handleNavigation",value:function(e){if(!this.disabled){var t=e?new Date(jD(e).setDate(1)):this.focusedDate;this.focusedDate=PR(t,this.min,this.max),this.detectChanges()}}},{key:"onPageChange",value:function(){var e=this;gc.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=J(this.resolvedPromise).subscribe((function(){e.detectChanges()})))}},{key:"handleDateChange",value:function(e){var t=this,n=this.bus.canMoveDown(this.activeViewEnum),i=!n&&qD(e,this.value);this.focusedDate=jD(e)||this.focusedDate,this.disabled||(i?this.emitSameDate():n?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(e)||this.ngZone.run((function(){t.value=jD(e),t.onControlChange(jD(e)),t.valueChange.emit(jD(e)),t.cdr.markForCheck()})))}},{key:"writeValue",value:function(e){this.verifyValue(e),this.focusedDate=PR(jD(e)||this.focusedDate,this.min,this.max),this.value=jD(e),this.cdr.markForCheck()}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"activeCellTemplate",value:function(){switch(this.activeViewEnum){case eP.month:return this.monthCellTemplate||this.cellTemplate;case eP.year:return this.yearCellTemplate;case eP.decade:return this.decadeCellTemplate;case eP.century:return this.centuryCellTemplate;default:return null}}},{key:"emitEvent",value:function(e,t){wb(e)&&this.ngZone.run((function(){e.emit(t)}))}},{key:"setClasses",value:function(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-infinite")}},{key:"verifyChanges",value:function(){if(Ri()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}},{key:"verifyValue",value:function(e){if(Ri()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json for possible resolution.")}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",rP),this.renderer.listen(e,"click",this.handleClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}},{key:"emitBlur",value:function(e){this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"emitFocus",value:function(){this.pickerService&&this.pickerService.onFocus.emit()}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,!this.pickerService&&iP(this.control)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e),t.cdr.markForCheck()})):(this.emitBlur(e),this.detectChanges())}},{key:"handleFocus",value:function(){this.isActive=!0,gc.isInAngularZone()||this.detectChanges(),this.emitFocus()}},{key:"handleClick",value:function(){this.isActive||(this.monthView.isScrolled()&&(this.focusedDate=jD(this.focusedDate),this.detectChanges()),this.focus())}},{key:"handleKeydown",value:function(e){var t=-1!==[Vb.ArrowUp,Vb.ArrowRight,Vb.ArrowDown,Vb.ArrowLeft].indexOf(e.keyCode);if(!(sP(this.pickerService)&&t&&e.altKey)){var n=PR(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);qD(this.focusedDate,n)||(this.focusedDate=n,this.detectChanges(),e.preventDefault()),e.keyCode===Vb.Enter&&this.handleDateChange(this.focusedDate)}}},{key:"detectChanges",value:function(){this.destroyed||this.cdr.detectChanges()}},{key:"emitSameDate",value:function(){this.pickerService&&this.pickerService.sameDateSelected.emit()}},{key:"setAriaActivedescendant",value:function(){if(sP(this.element)){var e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}}}]),e}()).\u0275fac=function(e){return new(e||ZP)(Ua(nP),Ua(IP),Ua(sl),Ua(xL),Ua(ul),Ua(sa),Ua(gc),Ua(Ca),Ua(EL),Ua(HL),Ua(LL,8))},ZP.\u0275cmp=St({type:ZP,selectors:[["kendo-calendar"]],contentQueries:function(e,t,n){var i;1&e&&(Bu(n,IL,!0),Bu(n,TL,!0),Bu(n,FL,!0),Bu(n,AL,!0),Bu(n,DL,!0),Bu(n,OL,!0),Bu(n,RL,!0),Bu(n,PL,!0)),2&e&&(Nu(i=Uu())&&(t.cellTemplate=i.first),Nu(i=Uu())&&(t.monthCellTemplate=i.first),Nu(i=Uu())&&(t.yearCellTemplate=i.first),Nu(i=Uu())&&(t.decadeCellTemplate=i.first),Nu(i=Uu())&&(t.centuryCellTemplate=i.first),Nu(i=Uu())&&(t.weekNumberTemplate=i.first),Nu(i=Uu())&&(t.headerTitleTemplate=i.first),Nu(i=Uu())&&(t.navigationItemTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(Vu(wL,!0),Vu(_L,!0)),2&e&&(Nu(n=Uu())&&(t.navigationView=n.first),Nu(n=Uu())&&(t.monthView=n.first))},hostVars:8,hostBindings:function(e,t){2&e&&(Ha("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled),Co("k-week-number",t.weekNumber)("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[tl([nP,BL,zL,UL,tC,HL,{provide:eC,useValue:"kendo.calendar"},xL,EL]),qo],decls:5,vars:12,consts:[["kendoCalendarLocalizedMessages","",6,"today"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","value","valueChange","activeDateChange","pageChange"],[3,"resize"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"]],template:function(e,t){if(1&e&&(Qa(0,0),eu(1,VO),Ja(),Ba(2,HO,1,5,"kendo-calendar-navigation",1),$a(3,"kendo-calendar-viewlist",2),io("valueChange",(function(e){return t.handleDateChange(e)}))("activeDateChange",(function(e){return t.emitEvent(t.activeViewDateChange,e)}))("pageChange",(function(){return t.onPageChange()})),Za(),$a(4,"kendo-resize-sensor",3),io("resize",(function(){return t.onResize()})),Za()),2&e){var n,i=null==(n=t.activeCellTemplate())?null:n.templateRef;Ir(2),Ka("ngIf",t.navigation),Ir(1),Ka("activeView",t.activeViewEnum)("isActive",t.isActive)("cellTemplateRef",i)("headerTitleTemplateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("value",t.value)}},directives:function(){return[fN,rf,_L,Lb,wL]},encapsulation:2,changeDetection:0}),ZP),qL=function(){return function(e,t){return!sP(e.value)&&t?{incompleteDate:!0}:null}},KL=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({}),WL=/year|month|<day>/,$L=/hour|minute|second|millisecond/,ZL=/d|M|H|h|m|s/,YL=function(e){return e.replace(/^0*/,"")},QL=function e(){_classCallCheck(this,e),this.symbols=""},JL=function(){function e(t,n,i,r){if(_classCallCheck(this,e),this.intl=t,this.formatPlaceholder=n,this.format=i,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=GD(new Date),this.knownParts="adHhmMsEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",y:"y"},this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),r)this.value=jD(r);else{this.value=GD(new Date);for(var s=this.dateFormatString(this.value,this.format).symbols,a=0;a<s.length;a++)this.setExisting(s[a],!1)}}return _createClass(e,[{key:"hasValue",value:function(){var e=this;return this.intl.splitDateFormat(this.format).reduce((function(t,n){return t||"literal"!==n.type&&"dayperiod"!==n.type&&e.getExisting(n.pattern[0])}),!1)}},{key:"getDateObject",value:function(){for(var e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return jD(this.value)}},{key:"getTextAndFormat",value:function(){return this.merge(this.intl.formatDate(this.value,this.format),this.dateFormatString(this.value,this.format))}},{key:"getExisting",value:function(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;default:return!0}}},{key:"setExisting",value:function(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;default:return}}},{key:"modifyPart",value:function(e,t){var n=jD(this.value);switch(e){case"y":n.setFullYear(n.getFullYear()+t);break;case"M":n=WD(this.value,t);break;case"d":case"E":n.setDate(n.getDate()+t);break;case"h":case"H":n.setHours(n.getHours()+t);break;case"m":n.setMinutes(n.getMinutes()+t);break;case"s":n.setSeconds(n.getSeconds()+t);break;case"a":n.setHours(n.getHours()+12*t)}n.getFullYear()>0&&(this.setExisting(e,!0),this.value=n)}},{key:"parsePart",value:function(e,t,n){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};for(var i=this.intl.formatDate(this.value,this.format),r=this.dateFormatString(this.value,this.format),s=r.symbols,a=!1,o="",l="",u="",c=0;c<i.length;c++)s[c]===e?(l+=this.getExisting(e)?i[c]:"0",a=!0):a?u+=i[c]:o+=i[c];var h=l.length-3,f=null,d=this.matchMonth(t),p=this.matchDayPeriod(t,e),v="0"===t,g=(this.leadingZero||{})[e]||0;v?0!==parseInt(n?t:l+t,10)||this.isAbbrMonth(r.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(var m=Math.max(0,h);m<=l.length;m++){var y=n?t:l.substring(m)+t,k=parseInt(y,10);if(!(f=this.intl.parseDate(o+y+u,this.format))&&!isNaN(k)&&!isNaN(parseInt(t,10))){if("M"===e&&!d){var b=k-1;b>-1&&b<12&&((f=jD(this.value)).setMonth(b),f.getMonth()!==b&&(f=KD(WD(f,-1))))}"y"===e&&(f=UD(parseInt(y,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&f.getDate()!==this.value.getDate()&&(f=KD(WD(f,-1))))}if(f){var C=this.partPattern(r.partMap,e).pattern,w=this.intl.parseDate("".concat(o).concat(this.peek(y,C)).concat(u),this.format),_=this.patternLength(C)||C.length,S=g+(YL(y)||t).length>=_,x=null===w||S;return this.value=f,this.setExisting(e,!0),{value:this.value,switchToNext:x}}}return d&&(f=this.intl.parseDate(o+d+u,this.format))?(this.value=f,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):p&&(f=this.intl.parseDate(o+p+u,this.format))?(this.value=f,{value:this.value,switchToNext:!0}):(v&&this.setExisting(e,!1),{value:null,switchToNext:!1})}},{key:"resetLeadingZero",value:function(){var e=null!==this.leadingZero;return this.setLeadingZero(null),e}},{key:"setLeadingZero",value:function(e){this.leadingZero=e}},{key:"incrementLeadingZero",value:function(e){var t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}},{key:"isAbbrMonth",value:function(e,t){var n=this.partPattern(e,t);return"month"===n.type&&n.names}},{key:"partPattern",value:function(e,t){return e.filter((function(e){return-1!==e.pattern.indexOf(t)}))[0]}},{key:"peek",value:function(e,t){var n=YL(e)+"0";return function(e){return new Array(Math.max(e,0)).fill("0").join("")}(t.length-n.length)+n}},{key:"matchMonth",value:function(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(var t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];var n=parseInt(this.typedMonthPart,10);if(n>=1&&n<=12&&n.toString()===this.typedMonthPart)return this.monthNames[n-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}},{key:"matchDayPeriod",value:function(e,t){var n=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(n))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(n))return this.dayPeriods.pm}return""}},{key:"allFormatedMonths",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"allDayPeriods",value:function(){for(var e=this.intl.splitDateFormat(this.format),t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}},{key:"patternLength",value:function(e){return"y"===e[0]?4:ZL.test(e)?2:0}},{key:"dateFormatString",value:function(e,t){for(var n=this.intl.splitDateFormat(t),i=[],r=[],s=0;s<n.length;s++)for(var a=this.intl.formatDate(e,{pattern:n[s].pattern}).length;a>0;)i.push(this.symbols[n[s].pattern[0]]||"_"),r.push(n[s]),a--;var o=new QL;return o.symbols=i.join(""),o.partMap=r,o}},{key:"merge",value:function(e,t){for(var n="",i="",r=t.symbols,s=r.length-1;s>=0;s--)if(-1===this.knownParts.indexOf(r[s])||this.getExisting(r[s]))n=e[s]+n,i=r[s]+i;else{for(var a=r[s];s>=0&&a===r[s];)s--;for(s++,n=this.leadingZero&&this.leadingZero[a]?"0"+n:this.dateFieldName(t.partMap[s])+n;i.length<n.length;)i=r[s]+i}return[n,i]}},{key:"dateFieldName",value:function(e){var t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}}]),e}(),XL=((YP=function(){function e(t,n,i,r,s,a,o,l){_classCallCheck(this,e),this.cdr=t,this.intl=n,this.renderer=i,this.element=r,this.ngZone=s,this.injector=a,this.localization=o,this.pickerService=l,this.focusableId="k-"+_b(),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="spinbutton",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.rangeValidation=!0,this.autoCorrect=!1,this.incompleteDateValidation=!1,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new xu,this.valueUpdate=new xu,this.onFocus=new xu,this.onBlur=new xu,this.arrow=KL,this.arrowDirection=KL.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.isDateIncomplete=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidator=NR,this.maxValidator=NR,this.incompleteValidator=NR,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=NR,this.onControlTouched=NR,this.onValidatorChange=NR,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}return _createClass(e,[{key:"tabIndex",get:function(){return this.tabindex},set:function(e){this.tabindex=e}},{key:"value",get:function(){return this._value},set:function(e){this.verifyValue(e),this.autoCorrect&&!OR(e,this.min,this.max)||(this._value=jD(e),this.valueUpdate.emit(jD(e)))}},{key:"wrapperClass",get:function(){return!0}},{key:"disabledClass",get:function(){return this.disabled}},{key:"inputElement",get:function(){return this.dateInput?this.dateInput.nativeElement:null}},{key:"inputValue",get:function(){return(this.inputElement||{}).value||""}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrap&&!sP(this.pickerService)){var t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}},{key:"isEmpty",value:function(){return!this.currentValue||!String(this.currentValue).trim()}},{key:"containsElement",value:function(e){var t=this;return Boolean(CL(e,(function(e){return e===t.element.nativeElement})))}},{key:"ngOnChanges",value:function(e){this.verifyRange(),(e.min||e.max||e.rangeValidation||e.incompleteDateValidation)&&(this.minValidator=this.rangeValidation?NL(this.min):NR,this.maxValidator=this.rangeValidation?ML(this.max):NR,this.incompleteValidator=this.incompleteDateValidation?qL():NR,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());var t=this.kendoDate&&qD(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}},{key:"ngOnDestroy",value:function(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach((function(e){return e()}))}},{key:"validate",value:function(e){return this.minValidator(e)||this.maxValidator(e)||this.incompleteValidator(e,this.isDateIncomplete)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"ngOnInit",value:function(){var e=this;this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.ngControl=this.injector.get(GC,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"writeValue",value:function(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=jD(e),this.updateElementValue(this.isActive)}},{key:"triggerChange",value:function(){var e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=jD(e),this.notify())}},{key:"notify",value:function(){var e=this;this.ngZone.run((function(){e.onControlChange(jD(e.value)),e.valueChange.emit(jD(e.value))}))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"focus",value:function(){var e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}},{key:"blur",value:function(){var e=this.inputElement;e&&e.blur()}},{key:"handleButtonClick",value:function(e){this.arrowDirection=KL.None,this.modifyDateSegmentValue(e)}},{key:"modifyDateSegmentValue",value:function(e){var t=this.caret(),n=this.currentFormat[t[0]];this.kendoDate.modifyPart(n,e*((this.steps||{})[this.symbolsMap[n]]||1)),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(n),this.updateIncompleteValidationStatus()}},{key:"switchDateSegment",value:function(e){var t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;for(var n=this.currentFormat[t[0]],i=t[0]+e;i>0&&i<this.currentFormat.length&&(this.currentFormat[i]===n||"_"===this.currentFormat[i]);)i+=e;if("_"===this.currentFormat[i])return!1;for(var r=i;r>=0&&r<this.currentFormat.length&&this.currentFormat[r]===this.currentFormat[i];)r+=e;return i>r&&(r+1!==t[0]||i+1!==t[1])?(this.caret(r+1,i+1),this.resetSegmentValue=!0,!0):i<r&&(i!==t[0]||r!==t[1])&&(this.caret(i,r),this.resetSegmentValue=!0,!0)}},{key:"selectDateSegment",value:function(e){for(var t=-1,n=0,i=0;i<this.currentFormat.length;i++)this.currentFormat[i]===e&&(n=i+1,-1===t&&(t=i));t<0&&(t=0),this.caret(0,0),this.caret(t,n)}},{key:"handleClick",value:function(){if(this.hasMousedown=!1,this.isActive){var e=this.inputElement.selectionStart!==this.inputElement.selectionEnd,t=sP(this.placeholder)&&!this.kendoDate.hasValue()&&!this.focusedPriorToMousedown,n=!e&&t?0:this.caret()[0];this.selectNearestSegment(n)}}},{key:"handleDragAndDrop",value:function(e){e.preventDefault()}},{key:"handleMousedown",value:function(){this.hasMousedown=!0,this.focusedPriorToMousedown=this.isActive}},{key:"handleFocus",value:function(e){var t=this;this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,wb(this.onFocus)?this.ngZone.run((function(){t.emitFocus(e)})):this.emitFocus(e)}},{key:"handleBlur",value:function(e){var t=this;this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),wb(this.onBlur)||iP(this.ngControl)?this.ngZone.run((function(){t.onControlTouched(),t.emitBlur(e),t.cdr.markForCheck()})):this.emitBlur(e)}},{key:"getKendoDate",value:function(e){var t=(this.kendoDate||{}||null).leadingZero,n=new JL(this.intl,this.formatPlaceholder,this.format,e);return n.setLeadingZero(this.isActive?t:null),n}},{key:"dateSymbolMap",value:function(){return this.intl.splitDateFormat(this.format).reduce((function(e,t){return e[t.pattern[0]]=t.type,e}),{})}},{key:"updateElementValue",value:function(e){var t=this.caret()[0],n=this.kendoDate.getTextAndFormat(),i=!this.isActive&&sP(this.placeholder)&&!this.kendoDate.hasValue(),r=this.inputElement;this.currentFormat=n[1],this.currentValue=i?"":n[0],this.renderer.setProperty(r,"value",this.currentValue),r.placeholder!==this.placeholder&&this.renderer.setProperty(r,"placeholder",this.placeholder),e&&this.selectNearestSegment(t)}},{key:"caret",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=void 0!==e,i=[e,e],r=this.inputElement;if(!n||!this.disabled&&!this.readonly){try{void 0!==r.selectionStart&&(n&&(kb()&&document.activeElement!==r&&r.focus(),r.setSelectionRange(e,t)),i=[r.selectionStart,r.selectionEnd])}catch(s){i=[]}return i}}},{key:"selectNearestSegment",value:function(e){for(var t=e,n=e-1;t<this.currentFormat.length||n>=0;t++,n--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(n>=0&&"_"!==this.currentFormat[n])return void this.selectDateSegment(this.currentFormat[n])}}},{key:"verifyRange",value:function(){if(Ri()&&!RR(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ri()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}},{key:"putDateInRange",value:function(){var e=this.kendoDate.getDateObject(),t=PR(e,this.min,this.max);this.autoCorrect&&!qD(e,t)&&(this.kendoDate=this.getKendoDate(t))}},{key:"updateFormatSections",value:function(){this.formatSections=this.intl.splitDateFormat(this.format).reduce((function(e,t){var n=e.date,i=e.time;return{date:n||WL.test(t.type),time:i||$L.test(t.type)}}),{date:!1,time:!1})}},{key:"intlChange",value:function(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}},{key:"updateOnPaste",value:function(){var e=this.intl.parseDate(this.inputValue,this.format)||this.value,t=+e!=+this.value;this.writeValue(e),t&&this.notify()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}},{key:"handleMouseWheel",value:function(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}},{key:"handlePaste",value:function(){this.paste=!0}},{key:"handleKeydown",value:function(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==Vb.Tab)if(e.keyCode!==Vb.Backspace){switch(e.keyCode){case Vb.ArrowDown:this.modifyDateSegmentValue(-1);break;case Vb.ArrowUp:this.modifyDateSegmentValue(1);break;case Vb.ArrowRight:this.switchDateSegment(1);break;case Vb.ArrowLeft:this.switchDateSegment(-1);break;case Vb.Home:this.selectNearestSegment(0);break;case Vb.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}},{key:"handleInput",value:function(){if(!this.disabled&&!this.readonly){if(this.paste)return this.updateOnPaste(),void(this.paste=!1);var e=function(e,t,n,i){var r=i+e.length-n.length,s=e[r],a=e.substring(0,i+e.length-n.length),o=n.substring(0,i),l=[];if(a===o&&i>0)return l.push([t[i-1],o[i-1]]),l;if(0===a.indexOf(o)&&(0===o.length||t[o.length-1]!==t[o.length])){var u="";1===o.length&&l.push([t[0],o[0]]);for(var c=o.length;c<a.length;c++)t[c]!==u&&"_"!==t[c]&&(u=t[c],l.push([u,""]));return l}if(0===o.indexOf(a)||"_"===t[i-1]){for(var h=t[0],f=Math.max(0,a.length-1);f<t.length;f++)if("_"!==t[f]){h=t[f];break}return[[h,o[i-1]]]}return" "===o[o.length-1]||o[o.length-1]===s&&"_"===t[r]?[[t[i-1],"_"]]:[[t[i-1],o[i-1]]]}(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1],n=!1;if(!t){for(var i=0;i<e.length;i++)n=this.kendoDate.parsePart(e[i][0],e[i][1],this.resetSegmentValue).switchToNext;var r=this.kendoDate.getDateObject();this.value&&r&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(AR(this.value,r)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.updateIncompleteValidationStatus(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(n||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}}},{key:"emitFocus",value:function(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}},{key:"emitBlur",value:function(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}},{key:"updateIncompleteValidationStatus",value:function(){var e=this,t=this.isDateIncomplete;this.isDateIncomplete=this.kendoDate.hasValue()&&null===this.value,t!==this.isDateIncomplete&&this.incompleteDateValidation&&(sP(this.ngControl)&&!sP(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run((function(){return e.onValidatorChange()}))):sP(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}}]),e}()).\u0275fac=function(e){return new(e||YP)(Ua(sa),Ua(SA),Ua(ul),Ua(sl),Ua(gc),Ua(Ca),Ua(tC),Ua(LL,8))},YP.\u0275cmp=St({type:YP,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){var n;1&e&&(Mu(jO,!0),Vu(BO,!0)),2&e&&(Nu(n=Uu())&&(t.dateInput=n.first),Nu(n=Uu())&&(t.wrap=n.first))},hostVars:6,hostBindings:function(e,t){2&e&&Co("k-widget",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",format:"format",placeholder:"placeholder",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",incompleteDateValidation:"incompleteDateValidation",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder",steps:"steps",max:"max",min:"min"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[tl([{provide:OC,useExisting:Pe((function(){return YP})),multi:!0},{provide:ZC,useExisting:Pe((function(){return YP})),multi:!0},{provide:eC,useValue:"kendo.dateinput"},{provide:Mb,useExisting:Pe((function(){return YP}))},tC]),qo],decls:7,vars:21,consts:[["kendoDateInputLocalizedMessages","",6,"increment","decrement"],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){var n,i,r,s,a,o,l,u,c,h,f;1&e&&(Qa(0,0),eu(1,zO),Ja(),$a(2,"span",1,2),Ya(4,"input",3,4),Ba(6,UO,5,8,"span",5),Za()),2&e&&(Ir(4),Ka("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",(n=GO,i=t.handleClick,r=t.handleFocus,s=t.handleMousedown,a=t.handleMousedown,o=t.handleDragAndDrop,l=t.handleDragAndDrop,u=t.handleBlur,c=gn()+13,h=on(),f=Va(h,c,i,r,s,a),Ma(h,c+4,o,l,u)||f?Ra(h,c+7,n(i,r,s,a,o,l,u)):Pa(h,c+7)))("scope",t),Ha("role",t.role)("aria-readonly",t.ariaReadOnly)("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup),Ir(2),Ka("ngIf",t.spinners))},directives:function(){return[yN,Eb,rf]},encapsulation:2,changeDetection:0}),YP),eN=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),tN=new Ye("dateinputs-touch-enabled"),nN=((QP=function(){function e(t,n,i,r,s,a,o,l,u,c){_classCallCheck(this,e),this.zone=t,this.localization=n,this.cdr=i,this.popupService=r,this.element=s,this.renderer=a,this.injector=o,this.pickerService=l,this.disabledDatesService=u,this.touchEnabled=c,this.focusableId="k-"+_b(),this.activeView=eP[eP.month],this.bottomView=eP[eP.month],this.topView=eP[eP.century],this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.navigation=!0,this.min=jD(IR),this.max=jD(TR),this.incompleteDateValidation=!1,this.focusedDate=null,this.format="d",this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new xu,this.onFocus=new xu,this.onBlur=new xu,this.open=new xu,this.close=new xu,this.wrapperClasses=!0,this.popupUID=_b(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=NR,this.onControlTouched=NR,this.onValidatorChange=NR,this.minValidateFn=NR,this.maxValidateFn=NR,this.disabledDatesValidateFn=NR,this.incompleteValidator=NR,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}return _createClass(e,[{key:"cellTemplateRef",set:function(e){this.cellTemplate=e}},{key:"monthCellTemplateRef",set:function(e){this.monthCellTemplate=e}},{key:"yearCellTemplateRef",set:function(e){this.yearCellTemplate=e}},{key:"decadeCellTemplateRef",set:function(e){this.decadeCellTemplate=e}},{key:"centuryCellTemplateRef",set:function(e){this.centuryCellTemplate=e}},{key:"weekNumberTemplateRef",set:function(e){this.weekNumberTemplate=e}},{key:"headerTitleTemplateRef",set:function(e){this.headerTitleTemplate=e}},{key:"navigationItemTemplateRef",set:function(e){this.navigationItemTemplate=e}},{key:"popupSettings",get:function(){return this._popupSettings},set:function(e){this._popupSettings=Object.assign({},{animate:!0},e)}},{key:"value",get:function(){return this._value},set:function(e){this.verifyValue(e),this._value=jD(e)}},{key:"tabIndex",get:function(){return this.tabindex},set:function(e){this.tabindex=e}},{key:"disabledDates",get:function(){return this._disabledDates},set:function(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}},{key:"disabledClass",get:function(){return this.disabled}},{key:"inputRole",get:function(){return this.readOnlyInput?"listbox":"spinbutton"}},{key:"isActive",get:function(){return this._active},set:function(e){if(this._active=e,this.wrapper){var t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}},{key:"show",get:function(){return this._show},set:function(e){var t=this;e&&(this.disabled||this.readonly)||(e||this._show&&wb(this.close)?this.zone.run((function(){t.togglePopup(e)})):this.togglePopup(e))}},{key:"isEmpty",value:function(){return!this.value&&this.input.isEmpty()}},{key:"ngOnInit",value:function(){var e=this;this.localizationChangeSubscription=this.localization.changes.subscribe((function(){return e.cdr.markForCheck()})),this.control=this.injector.get(GC,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular((function(){e.bindEvents()})))}},{key:"ngOnChanges",value:function(e){var t;this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?NL(this.min):NR,this.maxValidateFn=this.rangeValidation?ML(this.max):NR,this.disabledDatesValidateFn=this.disabledDatesValidation?(t=this.disabledDatesService.isDateDisabled,function(e){return t&&e.value&&t(e.value)?{disabledDate:!0}:null}):NR,this.incompleteValidator=this.incompleteDateValidation?qL():NR,this.onValidatorChange())}},{key:"ngOnDestroy",value:function(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach((function(e){return e()})),this.pickerSubscriptions.unsubscribe()}},{key:"isOpen",get:function(){return this.show}},{key:"writeValue",value:function(e){this.verifyValue(e),this.value=jD(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}},{key:"registerOnChange",value:function(e){this.onControlChange=e}},{key:"registerOnTouched",value:function(e){this.onControlTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cdr.markForCheck()}},{key:"validate",value:function(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.input&&this.input.isDateIncomplete)}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChange=e}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){(this.calendar||this.input).blur()}},{key:"toggle",value:function(e){var t=this;this.disabled||this.readonly||this.resolvedPromise.then((function(){t._toggle(void 0===e?!t.show:e)}))}},{key:"handleIconClick",value:function(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}},{key:"handleMousedown",value:function(e){e.preventDefault()}},{key:"handleChange",value:function(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(jD(e)),this.valueChange.emit(jD(e))}},{key:"handleInputChange",value:function(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}},{key:"popupClasses",get:function(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}},{key:"appendTo",get:function(){var e=this.popupSettings.appendTo;if(e&&"root"!==e)return"component"===e?this.container:e}},{key:"input",get:function(){return this.pickerService.input}},{key:"calendar",get:function(){return this.pickerService.calendar}},{key:"mergeTime",value:function(e){return this.value&&e?AR(e,this.value):e}},{key:"handleKeydown",value:function(e){var t=e.altKey,n=e.keyCode;n===Vb.Escape&&(this.show=!1),t&&(n!==Vb.ArrowDown||this.show||(this.show=!0),n===Vb.ArrowUp&&(this.show=!1)),n===Vb.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}},{key:"togglePopup",value:function(e){var t=new eN;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}},{key:"_toggle",value:function(e){var t=this;if(e!==this._show)if(this._show=e,e){var n=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:n},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:n},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe((function(){return t.show=!1}))}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()}},{key:"focusInput",value:function(){this.touchEnabled||this.input.focus()}},{key:"toggleFocus",value:function(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}},{key:"verifySettings",value:function(){if(Ri()&&!RR(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}},{key:"verifyValue",value:function(e){if(Ri()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}},{key:"bindEvents",value:function(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),"undefined"!=typeof window&&(this.windowBlurSubscription=hb(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}},{key:"handleFocus",value:function(){var e=this;this.isActive||(this.isActive=!0,wb(this.onFocus)&&this.zone.run((function(){e.onFocus.emit()})))}},{key:"handleWindowBlur",value:function(){this.isOpen&&(this.show=!1)}},{key:"handleBlur",value:function(e){var t=this,n=e&&(e.relatedTarget||document.activeElement);n&&(this.input.containsElement(n)||this.calendar&&this.calendar.containsElement(n))||(wb(this.onBlur)||this.show&&wb(this.close)||iP(this.control)?this.zone.run((function(){t.blurComponent(),t.cdr.markForCheck()})):this.blurComponent())}},{key:"blurComponent",value:function(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}},{key:"handleSameSelection",value:function(){this.show&&(this.focusInput(),this.show=!1)}},{key:"handleDateCompletenessChange",value:function(){var e=this;this.cdr.markForCheck(),this.zone.run((function(){return e.onValidatorChange()}))}}]),e}()).\u0275fac=function(e){return new(e||QP)(Ua(gc),Ua(tC),Ua(sa),Ua(Dx),Ua(sl),Ua(ul),Ua(Ca),Ua(LL),Ua(HL),Ua(tN,8))},QP.\u0275cmp=St({type:QP,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,n){var i;1&e&&(ju(n,IL,!0),ju(n,TL,!0),ju(n,FL,!0),ju(n,AL,!0),ju(n,DL,!0),ju(n,OL,!0),ju(n,RL,!0),ju(n,PL,!0)),2&e&&(Nu(i=Uu())&&(t.cellTemplate=i.first),Nu(i=Uu())&&(t.monthCellTemplate=i.first),Nu(i=Uu())&&(t.yearCellTemplate=i.first),Nu(i=Uu())&&(t.decadeCellTemplate=i.first),Nu(i=Uu())&&(t.centuryCellTemplate=i.first),Nu(i=Uu())&&(t.weekNumberTemplate=i.first),Nu(i=Uu())&&(t.headerTitleTemplate=i.first),Nu(i=Uu())&&(t.navigationItemTemplate=i.first))},viewQuery:function(e,t){var n;1&e&&(Vu(qO,!0,Al),Vu(KO,!0),Vu(WO,!0)),2&e&&(Nu(n=Uu())&&(t.container=n.first),Nu(n=Uu())&&(t.popupTemplate=n.first),Nu(n=Uu())&&(t.wrapper=n.first))},hostVars:6,hostBindings:function(e,t){2&e&&Co("k-widget",t.wrapperClasses)("k-datepicker",t.wrapperClasses)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",focusedDate:"focusedDate",format:"format",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[tl([{provide:OC,useExisting:Pe((function(){return QP})),multi:!0},{provide:ZC,useExisting:Pe((function(){return QP})),multi:!0},{provide:Mb,useExisting:Pe((function(){return QP}))},tC,LL,HL,{provide:eC,useValue:"kendo.datepicker"}]),qo],decls:12,vars:25,consts:[["kendoDatePickerLocalizedMessages","",6,"today","toggle"],[1,"k-picker-wrap"],["wrapper",""],[3,"role","focusableId","hasPopup","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","format","formatPlaceholder","placeholder","min","max","incompleteDateValidation","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"min","max","navigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today"]],template:function(e,t){1&e&&(Qa(0,0),eu(1,$O),Ja(),$a(2,"span",1,2),$a(4,"kendo-dateinput",3,4),io("valueChange",(function(e){return t.handleInputChange(e)})),Za(),$a(6,"span",5),Ya(7,"span",6),Za(),Za(),Xa(8,null,7),Ba(10,QO,4,23,"ng-template",null,8,Wu)),2&e&&(Ir(2),Co("k-state-disabled",t.disabled),Ir(2),Ka("role",t.inputRole)("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("ariaReadOnly",t.readonly)("tabindex",t.tabindex)("title",t.title)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("incompleteDateValidation",t.incompleteDateValidation)("value",t.value),Ir(2),Ka("kendoEventsOutsideAngular",fu(22,JO,t.handleIconClick,t.handleMousedown))("scope",t),Ha("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")))},directives:function(){return[wN,XL,Eb,GL,dN]},encapsulation:2,changeDetection:0}),QP),iN=function(){function e(t,n,i,r){_classCallCheck(this,e),this.$implicit=t,this.kForOf=n,this.index=i,this.count=r}return _createClass(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),rN=((iL=function(){function e(t,n,i){_classCallCheck(this,e),this._viewContainer=t,this._template=n,this._differs=i,this._differ=null}return _createClass(e,[{key:"kForTemplate",set:function(e){e&&(this._template=e)}},{key:"ngOnChanges",value:function(e){if("kForOf"in e){var t=e.kForOf.currentValue;if(this._differ||!t)return;try{this._differ=this._differs.find(t).create(this.kForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((n=t).name||typeof n,"'."))}}var n}},{key:"ngDoCheck",value:function(){if(this._differ){var e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}},{key:"_applyChanges",value:function(e){if(kb()){var t=this._viewContainer.length,n=this.kForOf.length,i={};e.forEachOperation((function(e,t,n){null!==n&&(i[n]=e.item)}));for(var r=t;r<n;r++)this._viewContainer.createEmbeddedView(this._template,new iN(null,this.kForOf,-1,-1),r);for(var s=this._viewContainer.length;s>n;s--)this._viewContainer.remove(s-1);for(var a=0;a<this._viewContainer.length;a++){var o=this._viewContainer.get(a);o.context.index=a,o.context.count=length,o.context.$implicit=i[a]||null}}}}]),e}()).\u0275fac=function(e){return new(e||iL)(Ua(Al),Ua(Tl),Ua(_l))},iL.\u0275dir=At({type:iL,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[qo]}),iL),sN=function(){var e=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.bus=t,this.cdr=n,this.localization=i,this.intl=r,this.disabledDatesService=s,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(IR),this.max=new Date(TR),this.rangeLength=1,this.today=new xu,this.subscriptions=new C}return _createClass(e,[{key:"getComponentClass",get:function(){return!0}},{key:"ngOnInit",value:function(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}},{key:"ngOnChanges",value:function(e){this.bus.service(this.activeView)&&(this.activeViewValue=eP[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}},{key:"handleTodayClick",value:function(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.today.emit(PR(LR(),this.min,this.max)))}},{key:"handleNavigation",value:function(){this.navigate&&this.bus.moveUp(this.activeView)}},{key:"intlChange",value:function(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}},{key:"l10nChange",value:function(){this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}},{key:"getTitle",value:function(){if(!this.currentDate)return"";var e=this.bus.service(this.activeView),t=this.rangeLength-1,n=e.title(this.currentDate),i=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(i,this.min,this.max)?n:"".concat(n," - ").concat(e.title(i))}},{key:"setTodayAvailability",value:function(){var e=LR(),t=OR(e,GD(this.min),GD(this.max)),n=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!n,this.cdr.markForCheck()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ua(nP),Ua(sa),Ua(tC),Ua(SA),Ua(HL))},e.\u0275cmp=St({type:e,selectors:[["kendo-calendar-header"]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-calendar-header",t.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{today:"today"},features:[qo],decls:5,vars:21,consts:[[1,"k-button","k-bare","k-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-today",3,"kendoEventsOutsideAngular","scope"]],template:function(e,t){1&e&&($a(0,"span",0),Ba(1,XO,1,1,"ng-template",1),Ba(2,eR,0,0,"ng-template",2),Za(),$a(3,"span",3),Oo(4),Za()),2&e&&(Co("k-state-disabled",!t.navigate),Ka("kendoEventsOutsideAngular",hu(13,RO,t.handleNavigation))("scope",t),Ir(1),Ka("ngIf",!t.templateRef),Ir(1),Ka("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",du(15,DO,t.title,t.activeViewValue,t.currentDate)),Ir(1),Co("k-state-disabled",!t.todayAvailable),Ka("kendoEventsOutsideAngular",hu(19,RO,t.handleTodayClick))("scope",t),Ir(1),Po(" ",t.todayMessage," "))},directives:[Eb,rf,Sf],encapsulation:2}),e}(),aN=((nL=function(){function e(t){_classCallCheck(this,e),this.intl=t}return _createClass(e,[{key:"getWeekNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=MR(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}}]),e}()).\u0275fac=function(e){return new(e||nL)(st(SA))},nL.\u0275prov=Ce({token:nL,factory:nL.\u0275fac}),nL),oN=((tL=function(){function e(t,n,i,r,s,a,o,l){_classCallCheck(this,e),this.bus=t,this.intl=n,this.cdr=i,this.weekService=r,this.element=s,this.zone=a,this.renderer=o,this.disabledDatesService=l,this.direction="vertical",this.isActive=!0,this.change=new xu,this.cellEnter=new xu,this.cellLeave=new xu,this.weekNames=[],this.colSpan=0,this.subscriptions=new C,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}return _createClass(e,[{key:"weekNumber",get:function(){return this.showWeekNumbers&&this.activeView===eP.month},set:function(e){this.showWeekNumbers=e}},{key:"ngOnInit",value:function(){var e=this;this.element&&this.zone.runOutsideAngular((function(){e.bindEvents()}))}},{key:"ngOnChanges",value:function(e){this.service=this.bus.service(this.activeView),this.service&&(this.isHorizontal()&&0===this.weekNames.length&&(e.weekNumber||e.direction)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.colSpan=this.service.rowLength(this.weekNumber),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.domEvents.forEach((function(e){return e()}))}},{key:"isHorizontal",value:function(){return"horizontal"===this.direction}},{key:"isMonthView",value:function(){return this.activeView===eP.month}},{key:"firstDate",value:function(e){var t=this.firstWeekDateContext(e);return t?t.value:null}},{key:"getWeekNumber",value:function(e){return this.weekNumber?gO(e,this.intl.firstDay()):null}},{key:"getWeekNumberContext",value:function(e){var t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;var n=gO(t.value,this.intl.firstDay()).toString();return{formattedValue:n,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:n,value:jD(t.value)}}},{key:"getStyles",value:function(e){var t,n=e.isRangeEnd,i=e.isRangeStart;return t={"k-range-end":n,"k-range-mid":e.isRangeMid,"k-range-split-end":e.isRangeSplitEnd,"k-range-split-start":e.isRangeSplitStart,"k-range-start":i,"k-state-active":"start"===this.activeRangeEnd&&i||"end"===this.activeRangeEnd&&n,"k-state-focused":this.isActive&&e.isFocused,"k-state-selected":e.isSelected||i||n,"k-today":e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled},Object.keys(t).reduce((function(e,n){return t[n]?e.concat(n):e}),[]).join(" ")}},{key:"tableCellIndex",value:function(e,t){return"".concat(e,":").concat(t)}},{key:"firstWeekDateContext",value:function(e){if(!this.weekNumber)return null;for(var t=0,n=e[t];!n&&t<e.length;)n=e[++t];return n}},{key:"updateData",value:function(){var e=this.selectedDate||LR(),t=AR(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDate:this.selectedDate,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled})}},{key:"intlChange",value:function(){this.updateData(),this.isHorizontal()&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),this.cdr.markForCheck()}},{key:"disabledDatesChange",value:function(){this.updateData(),this.cdr.markForCheck()}},{key:"bindEvents",value:function(){var e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}},{key:"clickHandler",value:function(e){var t=this.closestCell(e);if(t){var n=t.getAttribute("data-cell-index"),i=this.cellByIndex(n);i.isDisabled||this.change.emit(i.value)}}},{key:"mouseLeaveHandler",value:function(){this.currentCellIndex&&this.emitCellLeave()}},{key:"cellMouseoverHandler",value:function(e){var t=this.closestCell(e);if(t){var n=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==n&&this.emitCellLeave();var i=this.cellByIndex(n).value;this.cellEnter.emit(i),this.currentCellIndex=n}else this.currentCellIndex&&this.emitCellLeave()}},{key:"closestCell",value:function(e){return bL(e.target,(function(e){return e.hasAttribute("data-cell-index")}),this.element.nativeElement)}},{key:"emitCellLeave",value:function(){var e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}},{key:"cellByIndex",value:function(e){var t=_slicedToArray(e.split(":"),2),n=t[0],i=t[1];return this.data[n][i]}}]),e}()).\u0275fac=function(e){return new(e||tL)(Ua(nP),Ua(SA),Ua(sa),Ua(aN),Ua(sl),Ua(gc),Ua(ul),Ua(HL))},tL.\u0275cmp=St({type:tL,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",selectedDate:"selectedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{change:"change",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[qo],attrs:tR,decls:5,vars:3,consts:[["emptyCell",""],["role","row",4,"ngIf"],["role","row",4,"kFor","kForOf"],[1,"k-empty"],["role","row"],["scope","col",3,"colSpan"],[4,"ngFor","ngForOf"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt",4,"ngIf","ngIfElse"],[1,"k-alt"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ba(0,nR,2,0,"ng-template",null,0,Wu),Ba(2,iR,3,2,"tr",1),Ba(3,sR,2,1,"tr",1),Ba(4,gR,3,2,"tr",2)),2&e&&(Ir(2),Ka("ngIf",!t.isHorizontal()),Ir(1),Ka("ngIf",t.isMonthView()&&t.isHorizontal()),Ir(1),Ka("kForOf",t.data))},directives:[rf,rN,tf,Sf,Xh],encapsulation:2}),tL),lN=((eL=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:eL}),eL.\u0275inj=we({factory:function(e){return new(e||eL)},imports:[[Ef,Ib]]}),eL),uN=((XP=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:XP}),XP.\u0275inj=we({factory:function(e){return new(e||XP)}}),XP),cN=((JP=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Jb)).\u0275fac=function(e){return hN(e||JP)},JP.\u0275dir=At({type:JP,inputs:{today:"today"},features:[Ho]}),JP),hN=mi(cN),fN=((lL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(cN)).\u0275fac=function(e){return new(e||lL)(Ua(tC))},lL.\u0275dir=At({type:lL,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[tl([{provide:cN,useExisting:Pe((function(){return lL}))}]),Ho]}),lL),dN=((oL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return _createClass(n,[{key:"override",get:function(){return!0}}]),n}(cN)).\u0275fac=function(e){return new(e||oL)(Ua(tC))},oL.\u0275cmp=St({type:oL,selectors:[["kendo-calendar-messages"]],features:[tl([{provide:cN,useExisting:Pe((function(){return oL}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),oL),pN=((aL=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:aL}),aL.\u0275inj=we({factory:function(e){return new(e||aL)},imports:[[Ef]]}),aL),vN=((sL=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:sL}),sL.\u0275inj=we({factory:function(e){return new(e||sL)},providers:[IP,GR,WR,YR,XR,aN],imports:[[Ef,lN,UA,uN,pN,Ib,Nb],lN,uN]}),sL),gN=((rL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Jb)).\u0275fac=function(e){return mN(e||rL)},rL.\u0275dir=At({type:rL,inputs:{decrement:"decrement",increment:"increment"},features:[Ho]}),rL),mN=mi(gN),yN=((hL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(gN)).\u0275fac=function(e){return new(e||hL)(Ua(tC))},hL.\u0275dir=At({type:hL,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[tl([{provide:gN,useExisting:Pe((function(){return hL}))}]),Ho]}),hL),kN=((cL=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:cL}),cL.\u0275inj=we({factory:function(e){return new(e||cL)},imports:[[Ef,UA,Ib]]}),cL),bN=((uL=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Jb)).\u0275fac=function(e){return CN(e||uL)},uL.\u0275dir=At({type:uL,inputs:{today:"today",toggle:"toggle"},features:[Ho]}),uL),CN=mi(bN),wN=((dL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(bN)).\u0275fac=function(e){return new(e||dL)(Ua(tC))},dL.\u0275dir=At({type:dL,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[tl([{provide:bN,useExisting:Pe((function(){return dL}))}]),Ho]}),dL),_N=((fL=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return _createClass(n,[{key:"override",get:function(){return!0}}]),n}(bN)).\u0275fac=function(e){return new(e||fL)(Ua(tC))},fL.\u0275cmp=St({type:fL,selectors:[["kendo-datepicker-messages"]],features:[tl([{provide:bN,useExisting:Pe((function(){return fL}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),fL),SN=qx,xN=((pL=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:pL}),pL.\u0275inj=we({factory:function(e){return new(e||pL)},providers:[{provide:tN,useValue:SN}],imports:[[Ef,kN,vN,UA,Ox,uN,Ib],uN]}),pL);$localize(_templateObject48||(_templateObject48=_taggedTemplateLiteral([":kendo.floatinglabel.optional|The text for the optional segment of a FloatingLabel component\u241fd6b1dd6fb7530bd600b430042425d10b22163d1f\u241f356911862062553631:Optional"])));var EN=["*"],IN=["optional",$localize(_templateObject49||(_templateObject49=_taggedTemplateLiteral([":kendo.label.optional|The text for the optional segment of a Label component\u241fa1cd4a8f359a22151d7e73f2887fbb2967cd389a\u241f3476218486854814180:Optional"])))];function TN(e,t){if(1&e&&($a(0,"span",3),Oo(1),Za()),2&e){var n=ao();Ir(1),Po("(",n.textFor("optional"),")")}}var FN,AN,DN,ON,RN,PN,LN=((FN=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.label=t,this.renderer=n,this.zone=i,this.labelClass=!0,this.handleClick=function(){var e=r.getFocusableComponent();e&&(function(e){return e.wrapper&&"KENDO-UPLOAD"===e.wrapper.tagName}(e)&&e.fileSelect.nativeElement.click(),e.focus&&e.focus(),function(e,t){return function(e){return e instanceof HTMLInputElement&&/^(checkbox|radio)$/.test(e.type)&&!e.hidden}(e)&&!function(e,t){return e.parentElement===t||t.hasAttribute("for")}(e,t)}(e,r.label.nativeElement)&&e.click())}}return _createClass(e,[{key:"labelFor",get:function(){if("string"==typeof this.for)return this.for;if(!kb())return null;var e=this.getFocusableComponent()||{};return e.focusableId||e.id||null}},{key:"ngAfterViewInit",value:function(){var e=this;this.setAriaLabelledby(),this.zone.runOutsideAngular((function(){return e.clickListener=e.renderer.listen(e.label.nativeElement,"click",e.handleClick)}))}},{key:"ngOnDestroy",value:function(){this.clickListener&&this.clickListener()}},{key:"setAriaLabelledby",value:function(){if(kb()){var e=this.getFocusableComponent();if(e&&e.focusableId){var t=function(e){if(!e)return null;for(var t=e;t.parentElement;)t=t.parentElement;return t}(this.label.nativeElement).querySelector("#"+e.focusableId);if(!t)return;var n=this.label.nativeElement,i=n.id||"k-"+_b();n.getAttribute("id")||this.renderer.setAttribute(n,"id",i),this.renderer.setAttribute(t,"aria-labelledby",i)}}}},{key:"getFocusableComponent",value:function(){var e=this.for;return e&&void 0!==e.focus?e:null}}]),e}()).\u0275fac=function(e){return new(e||FN)(Ua(sl),Ua(ul),Ua(gc))},FN.\u0275dir=At({type:FN,selectors:[["label","for",""]],hostVars:3,hostBindings:function(e,t){2&e&&(Ha("for",t.labelFor),Co("k-label",t.labelClass))},inputs:{for:"for"}}),FN),NN=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Jb);return e.\u0275fac=function(t){return MN(t||e)},e.\u0275dir=At({type:e,inputs:{optional:"optional"},features:[Ho]}),e}(),MN=mi(NN),VN=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(NN);return e.\u0275fac=function(t){return new(t||e)(Ua(tC))},e.\u0275dir=At({type:e,selectors:[["","kendoLabelLocalizedMessages",""],["","kendoFloatingLabelLocalizedMessages",""]],features:[tl([{provide:NN,useExisting:Pe((function(){return e}))}]),Ho]}),e}(),HN=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=Tt({type:e}),e.\u0275inj=we({factory:function(t){return new(t||e)}}),e}(),jN=((PN=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:PN}),PN.\u0275inj=we({factory:function(e){return new(e||PN)},imports:[[Ef,HN],HN]}),PN),BN=((RN=function(){function e(t,n,i){_classCallCheck(this,e),this.elementRef=t,this.renderer=n,this.localization=i,this.subscriptions=new C,this.direction=i.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}return _createClass(e,[{key:"ngAfterContentInit",value:function(){if(this.for)this.control=this.for;else{var e=this.elementRef.nativeElement.querySelector("kendo-label > input, kendo-label > textarea, kendo-label > select");if(e)return e.hasAttribute("id")||this.renderer.setAttribute(e,"id","k-"+_b()),void(this.control=e);this.control=this.kendoInput}}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions.add(this.localization.changes.subscribe((function(t){var n=t.rtl;e.direction=n?"rtl":"ltr"})))}},{key:"ngAfterViewInit",value:function(){this.labelDirective.setAriaLabelledby()}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"textFor",value:function(e){return this.localization.get(e)}}]),e}()).\u0275fac=function(e){return new(e||RN)(Ua(sl),Ua(ul),Ua(tC))},RN.\u0275cmp=St({type:RN,selectors:[["kendo-label"]],contentQueries:function(e,t,n){var i;1&e&&Bu(n,Mb,!0),2&e&&Nu(i=Uu())&&(t.kendoInput=i.first)},viewQuery:function(e,t){var n;1&e&&Mu(LN,!0),2&e&&Nu(n=Uu())&&(t.labelDirective=n.first)},hostVars:1,hostBindings:function(e,t){2&e&&Ha("dir",t.direction)},inputs:{text:"text",for:"for",optional:"optional"},exportAs:["kendoLabel"],features:[tl([tC,{provide:eC,useValue:"kendo.label"}])],ngContentSelectors:EN,decls:6,vars:5,consts:[["kendoLabelLocalizedMessages","",6,"optional"],[3,"for"],["class","k-label-optional",4,"ngIf"],[1,"k-label-optional"]],template:function(e,t){1&e&&(lo(),Qa(0,0),eu(1,IN),Ja(),$a(2,"label",1),Oo(3),Ba(4,TN,2,1,"span",2),Za(),uo(5)),2&e&&(Ir(2),Co("k-label-empty",!t.text),Ka("for",t.control),Ir(1),Po(" ",t.text,""),Ir(1),Ka("ngIf",t.optional))},directives:[VN,LN,rf],encapsulation:2}),RN),zN=((ON=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:ON}),ON.\u0275inj=we({factory:function(e){return new(e||ON)},imports:[[Ef,HN],jN,HN]}),ON),UN=((DN=function(){function e(){_classCallCheck(this,e),this.buttonLookChange=new Hv("default"),this.buttonClicked=new M,this.buttonClicked$=this.buttonClicked.asObservable()}return _createClass(e,[{key:"click",value:function(e){this.buttonClicked.next(e)}},{key:"setButtonLook",value:function(e){this.buttonLookChange.next(e)}}]),e}()).\u0275fac=function(e){return new(e||DN)},DN.\u0275prov=Ce({token:DN,factory:DN.\u0275fac}),DN),GN=((AN=function(){function e(t,n,i,r,s){var a=this;_classCallCheck(this,e),this.service=i,this.ngZone=s,this.toggleable=!1,this.primary=!1,this.look="default",this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this.tabIndex=0,this.selectedChange=new xu,this.domEvents=[],this.direction=r.rtl?"rtl":"ltr",this.localizationChangeSubscription=r.changes.subscribe((function(e){var t=e.rtl;return a.direction=t?"rtl":"ltr"})),this.element=t.nativeElement,this.renderer=n}return _createClass(e,[{key:"togglable",get:function(){return this.toggleable},set:function(e){this.toggleable=e}},{key:"selected",get:function(){return this._selected||!1},set:function(e){this._selected=e}},{key:"icon",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIcon=!0,t.addIcon("k-icon k-i-"+e)})):(this.isIcon=!1,this.updateIconNode())}},{key:"iconClass",set:function(e){var t=this;e?this.iconSetter(e,(function(){t.isIconClass=!0,t.addIcon(e)})):(this.isIconClass=!1,this.updateIconNode())}},{key:"imageUrl",set:function(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}},{key:"disabled",set:function(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}},{key:"classButton",get:function(){return!0}},{key:"classDisabled",get:function(){return this.isDisabled}},{key:"classPrimary",get:function(){return this.primary}},{key:"isFlat",get:function(){return"flat"===this.look}},{key:"isBare",get:function(){return"bare"===this.look}},{key:"isOutline",get:function(){return"outline"===this.look}},{key:"classActive",get:function(){return this.selected}},{key:"ngOnInit",value:function(){var e=this;this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(tg((function(e){return"default"!==e}))).subscribe((function(t){return e.look=t}))),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.ngZone.runOutsideAngular((function(){e.domEvents.push(e.renderer.listen(e.element,"click",e._onButtonClick.bind(e)))}))}},{key:"ngOnChanges",value:function(e){(bb("togglable",e)||bb("toggleable",e))&&this.toggleAriaCheckbox(this.toggleable)}},{key:"ngAfterViewChecked",value:function(){this.setIconTextClasses()}},{key:"ngOnDestroy",value:function(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach((function(e){return e()}))}},{key:"focus",value:function(){kb()&&this.element.focus()}},{key:"blur",value:function(){kb()&&this.element.blur()}},{key:"setAttribute",value:function(e,t){this.renderer.setAttribute(this.element,e,t)}},{key:"removeAttribute",value:function(e){this.renderer.removeAttribute(this.element,e)}},{key:"setSelected",value:function(e){var t=this,n=this.selected!==e;this.selected=e,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),n&&wb(this.selectedChange)&&this.ngZone.run((function(){t.selectedChange.emit(e)}))}},{key:"toggleAriaCheckbox",value:function(e){kb()&&(e?(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.selected.toString())):(this.removeAttribute("role"),this.removeAttribute("aria-checked")))}},{key:"hasText",value:function(){return!!kb()&&String(this.element.textContent).trim().length>0}},{key:"addImgIcon",value:function(e){var t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):kb()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}},{key:"addIcon",value:function(e){var t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):kb()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}},{key:"prependChild",value:function(e){var t=this;this.defer((function(){t.renderer&&e!==t.element.firstChild&&t.renderer.insertBefore(t.element,e,t.element.firstChild)}))}},{key:"defer",value:function(e){var t=this;this.ngZone.runOutsideAngular((function(){t.deferTimeout=setTimeout(e,0)}))}},{key:"iconSetter",value:function(e,t){e&&t(e),this.setIconTextClasses()}},{key:"removeImageNode",value:function(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}},{key:"removeIconNode",value:function(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}},{key:"updateIconNode",value:function(){this.isIcon||this.isIconClass||this.removeIconNode()}},{key:"setIconTextClasses",value:function(){var e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}},{key:"toggleClass",value:function(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}},{key:"_onButtonClick",value:function(){var e=this;this.toggleable&&(!this.disabled&&this.service&&this.ngZone.run((function(){e.service.click(e)})),this.service||this.setSelected(!this.selected))}}]),e}()).\u0275fac=function(e){return new(e||AN)(Ua(sl),Ua(ul),Ua(UN,8),Ua(tC),Ua(gc))},AN.\u0275dir=At({type:AN,selectors:[["button","kendoButton",""]],hostVars:15,hostBindings:function(e,t){2&e&&(Ha("dir",t.direction),Co("k-button",t.classButton)("k-state-disabled",t.classDisabled)("k-primary",t.classPrimary)("k-flat",t.isFlat)("k-bare",t.isBare)("k-outline",t.isOutline)("k-state-active",t.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",tabIndex:"tabIndex",togglable:"togglable",selected:"selected",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},exportAs:["kendoButton"],features:[tl([tC,{provide:eC,useValue:"kendo.button"}]),qo]}),AN),qN=function e(){_classCallCheck(this,e)};function KN(e){return void 0!==e}var WN=Math.PI/180,$N=Number.MAX_VALUE,ZN=-Number.MAX_VALUE;function YN(e){return e*WN}function QN(e,t){var n,i=(n=t)?Math.pow(10,n):1;return Math.round(e*i)/i}var JN,XN=((JN=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;return _classCallCheck(this,n),(e=t.call(this)).a=i,e.b=r,e.c=s,e.d=a,e.e=o,e.f=l,e}return _createClass(n,[{key:"multiplyCopy",value:function(e){return new n(this.a*e.a+this.c*e.b,this.b*e.a+this.d*e.b,this.a*e.c+this.c*e.d,this.b*e.c+this.d*e.d,this.a*e.e+this.c*e.f+this.e,this.b*e.e+this.d*e.f+this.f)}},{key:"invert",value:function(){var e=this.a,t=this.b,i=this.c,r=this.d,s=this.e,a=this.f,o=e*r-t*i;return 0===o?null:new n(r/o,-t/o,-i/o,e/o,(i*a-r*s)/o,(t*s-e*a)/o)}},{key:"clone",value:function(){return new n(this.a,this.b,this.c,this.d,this.e,this.f)}},{key:"equals",value:function(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}},{key:"round",value:function(e){return this.a=QN(this.a,e),this.b=QN(this.b,e),this.c=QN(this.c,e),this.d=QN(this.d,e),this.e=QN(this.e,e),this.f=QN(this.f,e),this}},{key:"toArray",value:function(e){var t=[this.a,this.b,this.c,this.d,this.e,this.f];if(KN(e))for(var n=0;n<t.length;n++)t[n]=QN(t[n],e);return t}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return this.toArray(e).join(t)}}],[{key:"translate",value:function(e,t){return new n(1,0,0,1,e,t)}},{key:"unit",value:function(){return new n(1,0,0,1,0,0)}},{key:"rotate",value:function(e,t,i){var r=new n;return r.a=Math.cos(YN(e)),r.b=Math.sin(YN(e)),r.c=-r.b,r.d=r.a,r.e=t-t*r.a+i*r.b||0,r.f=i-i*r.a-t*r.b||0,r}},{key:"scale",value:function(e,t){return new n(e,0,0,t,0,0)}}]),n}(qN)).IDENTITY=JN.unit(),JN),eM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"observers",value:function(){return this._observers=this._observers||[],this._observers}},{key:"addObserver",value:function(e){return this._observers?this._observers.push(e):this._observers=[e],this}},{key:"removeObserver",value:function(e){var t=this.observers(),n=t.indexOf(e);return-1!==n&&t.splice(n,1),this}},{key:"trigger",value:function(e,t){var n=this._observers;if(n&&!this._suspended)for(var i=0;i<n.length;i++){var r=n[i];r[e]&&r[e](t)}return this}},{key:"optionsChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.element=this,this.trigger("optionsChange",e)}},{key:"geometryChange",value:function(){this.trigger("geometryChange",{element:this})}},{key:"suspend",value:function(){return this._suspended=(this._suspended||0)+1,this}},{key:"resume",value:function(){return this._suspended=Math.max((this._suspended||0)-1,0),this}},{key:"_observerField",value:function(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}}]),n}(qN);function tM(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function nM(e){return function(){return this[e]}}var iM=function(e,t){var n=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e);return function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.charAt(0).toUpperCase()+i.substring(1,i.length);e["set"+r]=tM(i),e["get"+r]=nM(i)}}(n.prototype,t),n};function rM(e){return e&&"function"==typeof e.matrix?e.matrix():e}var sM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).x=e||0,r.y=i||0,r}return _createClass(n,[{key:"equals",value:function(e){return e&&e.x===this.x&&e.y===this.y}},{key:"clone",value:function(){return new n(this.x,this.y)}},{key:"rotate",value:function(e,t){var i=n.create(t)||n.ZERO;return this.transform(XN.rotate(e,i.x,i.y))}},{key:"translate",value:function(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}},{key:"translateWith",value:function(e){return this.translate(e.x,e.y)}},{key:"move",value:function(e,t){return this.x=this.y=0,this.translate(e,t)}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.x*=e,this.y*=t,this.geometryChange(),this}},{key:"scaleCopy",value:function(e,t){return this.clone().scale(e,t)}},{key:"transform",value:function(e){var t=rM(e),n=this.x,i=this.y;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this.geometryChange(),this}},{key:"transformCopy",value:function(e){var t=this.clone();return e&&t.transform(e),t}},{key:"distanceTo",value:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)}},{key:"round",value:function(e){return this.x=QN(this.x,e),this.y=QN(this.y,e),this.geometryChange(),this}},{key:"toArray",value:function(e){var t=KN(e);return[t?QN(this.x,e):this.x,t?QN(this.y,e):this.y]}},{key:"toString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",n=this.x,i=this.y;return KN(e)&&(n=QN(n,e),i=QN(i,e)),n+t+i}}],[{key:"create",value:function(e,t){if(KN(e))return e instanceof n?e:1===arguments.length&&2===e.length?new n(e[0],e[1]):new n(e,t)}},{key:"min",value:function(){for(var e=$N,t=$N,i=0;i<arguments.length;i++){var r=arguments[i];e=Math.min(r.x,e),t=Math.min(r.y,t)}return new n(e,t)}},{key:"max",value:function(){for(var e=ZN,t=ZN,i=0;i<arguments.length;i++){var r=arguments[i];e=Math.max(r.x,e),t=Math.max(r.y,t)}return new n(e,t)}},{key:"minPoint",value:function(){return new n(ZN,ZN)}},{key:"maxPoint",value:function(){return new n($N,$N)}},{key:"ZERO",get:function(){return new n(0,0)}}]),n}(iM(eM,["x","y"])),aM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).width=e||0,r.height=i||0,r}return _createClass(n,[{key:"equals",value:function(e){return e&&e.width===this.width&&e.height===this.height}},{key:"clone",value:function(){return new n(this.width,this.height)}},{key:"toArray",value:function(e){var t=KN(e);return[t?QN(this.width,e):this.width,t?QN(this.height,e):this.height]}}],[{key:"create",value:function(e,t){if(KN(e))return e instanceof n?e:1===arguments.length&&2===e.length?new n(e[0],e[1]):new n(e,t)}},{key:"ZERO",get:function(){return new n(0,0)}}]),n}(iM(eM,["width","height"])),oM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new sM,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new aM,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(e=t.call(this)).setOrigin(i),e.setSize(r),e.setCornerRadius(s),e}return _createClass(n,[{key:"clone",value:function(){return new n(this.origin.clone(),this.size.clone())}},{key:"equals",value:function(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}},{key:"setOrigin",value:function(e){return this._observerField("origin",sM.create(e)),this.geometryChange(),this}},{key:"getOrigin",value:function(){return this.origin}},{key:"setCornerRadius",value:function(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this}},{key:"getCornerRadius",value:function(){return this.cornerRadius}},{key:"setSize",value:function(e){return this._observerField("size",aM.create(e)),this.geometryChange(),this}},{key:"getSize",value:function(){return this.size}},{key:"width",value:function(){return this.size.width}},{key:"height",value:function(){return this.size.height}},{key:"topLeft",value:function(){return this.origin.clone()}},{key:"bottomRight",value:function(){return this.origin.clone().translate(this.width(),this.height())}},{key:"topRight",value:function(){return this.origin.clone().translate(this.width(),0)}},{key:"bottomLeft",value:function(){return this.origin.clone().translate(0,this.height())}},{key:"center",value:function(){return this.origin.clone().translate(this.width()/2,this.height()/2)}},{key:"bbox",value:function(e){var t=this.topLeft().transformCopy(e),i=this.topRight().transformCopy(e),r=this.bottomRight().transformCopy(e),s=this.bottomLeft().transformCopy(e);return n.fromPoints(t,i,r,s)}},{key:"transformCopy",value:function(e){return n.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}},{key:"expand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}},{key:"expandCopy",value:function(e,t){return this.clone().expand(e,t)}},{key:"containsPoint",value:function(e){var t=this.origin,n=this.bottomRight();return!(e.x<t.x||e.y<t.y||n.x<e.x||n.y<e.y)}},{key:"_isOnPath",value:function(e,t){var n=this.expandCopy(t,t),i=this.expandCopy(-t,-t);return n.containsPoint(e)&&!i.containsPoint(e)}}],[{key:"fromPoints",value:function(){var e=sM.min.apply(null,arguments),t=sM.max.apply(null,arguments),i=new aM(t.x-e.x,t.y-e.y);return new n(e,i)}},{key:"union",value:function(e,t){return n.fromPoints(sM.min(e.topLeft(),t.topLeft()),sM.max(e.bottomRight(),t.bottomRight()))}},{key:"intersect",value:function(e,t){var i={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},r={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(i.left<=r.right&&r.left<=i.right&&i.top<=r.bottom&&r.top<=i.bottom)return n.fromPoints(new sM(Math.max(i.left,r.left),Math.max(i.top,r.top)),new sM(Math.min(i.right,r.right),Math.min(i.bottom,r.bottom)))}}]),n}(eM),lM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:XN.unit();return _classCallCheck(this,n),(e=t.call(this))._matrix=i,e}return _createClass(n,[{key:"clone",value:function(){return new n(this._matrix.clone())}},{key:"equals",value:function(e){return e&&e._matrix.equals(this._matrix)}},{key:"translate",value:function(e,t){return this._matrix=this._matrix.multiplyCopy(XN.translate(e,t)),this._optionsChange(),this}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=n;return i&&(i=sM.create(i),this._matrix=this._matrix.multiplyCopy(XN.translate(i.x,i.y))),this._matrix=this._matrix.multiplyCopy(XN.scale(e,t)),i&&(this._matrix=this._matrix.multiplyCopy(XN.translate(-i.x,-i.y))),this._optionsChange(),this}},{key:"rotate",value:function(e,t){var n=sM.create(t)||sM.ZERO;return this._matrix=this._matrix.multiplyCopy(XN.rotate(e,n.x,n.y)),this._optionsChange(),this}},{key:"multiply",value:function(e){var t=rM(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}},{key:"matrix",value:function(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}},{key:"_optionsChange",value:function(){this.optionsChange({field:"transform",value:this})}}]),n}(eM);function uM(e){return null===e?null:e instanceof lM?e:new lM(e)}Math,iM(eM,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),Math,iM(eM,["radius"]),"undefined"!=typeof document&&(document.createElement("div").style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");var cM={}.toString,hM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var s in _classCallCheck(this,n),(i=t.call(this)).prefix=r,e){var a=e[s];a=i._wrap(a,s),i[s]=a}return i}return _createClass(n,[{key:"get",value:function(e){for(var t=e.split("."),n=this;t.length&&n;)n=n[t.shift()];return n}},{key:"set",value:function(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}},{key:"_set",value:function(e,t){var i=e.indexOf(".")>=0,r=this,s=e;if(i){for(var a=s.split("."),o=this.prefix;a.length>1;){o+=(s=a.shift())+".";var l=r[s];l||((l=new n({},o)).addObserver(this),r[s]=l),r=l}s=a[0]}r._clear(s),r[s]=t}},{key:"_clear",value:function(e){var t=this[e];t&&t.removeObserver&&t.removeObserver(this)}},{key:"_wrap",value:function(e,t){var i=cM.call(e),r=e;return null!==r&&KN(r)&&"[object Object]"===i&&(e instanceof n||e instanceof qN||(r=new n(r,this.prefix+t+".")),r.addObserver(this)),r}}]),n}(eM),fM=1;function dM(){return"kdef"+fM++}function pM(e){return""===e||null===e||"none"===e||"transparent"===e||!KN(e)}var vM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this))._initOptions(e),i}return _createClass(n,[{key:"nodeType",get:function(){return"Rect"}},{key:"_initOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.clip,n=e.transform;n&&(e.transform=uM(n)),t&&!t.id&&(t.id=dM()),this.options=new hM(e),this.options.addObserver(this)}},{key:"transform",value:function(e){if(!KN(e))return this.options.get("transform");this.options.set("transform",uM(e))}},{key:"parentTransform",value:function(){for(var e,t=this;t.parent;){var n=(t=t.parent).transform();n&&(e=n.matrix().multiplyCopy(e||XN.unit()))}if(e)return uM(e)}},{key:"currentTransform",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parentTransform(),n=rM(this.transform()),i=rM(t);if(e=n&&i?i.multiplyCopy(n):n||i)return uM(e)}},{key:"visible",value:function(e){return KN(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}},{key:"clip",value:function(e){var t=this.options;return KN(e)?(e&&!e.id&&(e.id=dM()),t.set("clip",e),this):t.get("clip")}},{key:"opacity",value:function(e){return KN(e)?(this.options.set("opacity",e),this):function(e,t){return KN(e)?e:1}(this.options.get("opacity"))}},{key:"clippedBBox",value:function(e){var t=this._clippedBBox(e);if(t){var n=this.clip();return n?oM.intersect(t,n.bbox(e)):t}}},{key:"containsPoint",value:function(e,t){if(this.visible()){var n=this.currentTransform(t),i=e;return n&&(i=e.transformCopy(n.matrix().invert())),this._hasFill()&&this._containsPoint(i)||this._isOnPath&&this._hasStroke()&&this._isOnPath(i)}return!1}},{key:"_hasFill",value:function(){var e=this.options.fill;return e&&!pM(e.color)}},{key:"_hasStroke",value:function(){var e=this.options.stroke;return e&&e.width>0&&!pM(e.color)}},{key:"_clippedBBox",value:function(e){return this.bbox(e)}}]),n}(eM),gM=function(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"fill",value:function(e,t){var n=this.options;if(KN(e)){if(e&&"Gradient"!==e.nodeType){var i={color:e};KN(t)&&(i.opacity=t),n.set("fill",i)}else n.set("fill",e);return this}return n.get("fill")}},{key:"stroke",value:function(e,t,n){return KN(e)?(this.options.set("stroke.color",e),KN(t)&&this.options.set("stroke.width",t),KN(n)&&this.options.set("stroke.opacity",n),this):this.options.get("stroke")}}]),n}(e)};function mM(e){var t="_"+e;return function(e){return KN(e)?(this._observerField(t,sM.create(e)),this.geometryChange(),this):this[t]}}var yM=function(e,t){var n=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e);return function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=mM(t[n])}(n.prototype,t),n};gM(yM(vM,["position"]));var kM=[].push,bM=[].pop,CM=[].splice,wM=[].shift,_M=[].slice,SM=[].unshift,xM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,n),(e=t.call(this)).length=0,e._splice(0,i.length,i),e}return _createClass(n,[{key:"elements",value:function(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}},{key:"push",value:function(){var e=arguments,t=kM.apply(this,e);return this._add(e),t}},{key:"slice",value:function(){return _M.call(this)}},{key:"pop",value:function(){var e=this.length,t=bM.apply(this);return e&&this._remove([t]),t}},{key:"splice",value:function(e,t){var n=_M.call(arguments,2),i=this._splice(e,t,n);return this._change(),i}},{key:"shift",value:function(){var e=this.length,t=wM.apply(this);return e&&this._remove([t]),t}},{key:"unshift",value:function(){var e=arguments,t=SM.apply(this,e);return this._add(e),t}},{key:"indexOf",value:function(e){for(var t=this.length,n=0;n<t;n++)if(this[n]===e)return n;return-1}},{key:"_splice",value:function(e,t,n){var i=CM.apply(this,[e,t].concat(n));return this._clearObserver(i),this._setObserver(n),i}},{key:"_add",value:function(e){this._setObserver(e),this._change()}},{key:"_remove",value:function(e){this._clearObserver(e),this._change()}},{key:"_setObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].addObserver(this)}},{key:"_clearObserver",value:function(e){for(var t=0;t<e.length;t++)e[t].removeObserver(this)}},{key:"_change",value:function(){}}]),n}(eM),EM=XN.IDENTITY.toString(),IM=function(e){return function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"bbox",value:function(e){var t,n=rM(this.currentTransform(e)),i=n?n.toString():EM;this._bboxCache&&this._matrixHash===i?t=this._bboxCache.clone():(t=this._bbox(n),this._bboxCache=t?t.clone():null,this._matrixHash=i);var r=this.options.get("stroke.width");return r&&t&&t.expand(r/2),t}},{key:"geometryChange",value:function(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}}]),n}(e)};function TM(e){var t="_"+e;return function(e){return KN(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}yM(eM,["anchor","controlIn","controlOut"]),gM(IM(vM)),gM(IM(vM));var FM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["geometry"],n=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e);return function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=TM(t[n])}(n.prototype,t),n};FM(vM,["rect"]);var AM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_change",value:function(){this.optionsChange({field:"stops"})}}]),n}(xM);function DM(e){return function(t){return KN(t)?(this.options.set(e,t),this):this.options.get(e)}}var OM=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this)).options=new hM({offset:e,color:i,opacity:KN(r)?r:1}),s.options.addObserver(_assertThisInitialized(s)),s}return _createClass(n,null,[{key:"create",value:function(e){if(KN(e))return e instanceof n?e:e.length>1?new n(e[0],e[1],e[2]):new n(e.offset,e.color,e.opacity)}}]),n}(function(e,t){var n=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(e);return function(e,t){for(var n=0;n<t.length;n++)e[t[n]]=DM(t[n])}(n.prototype,t),n}(eM,["offset","color","opacity"])),RM=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this)).stops=new AM(e._createStops(i.stops)),e.stops.addObserver(_assertThisInitialized(e)),e._userSpace=i.userSpace,e.id=dM(),e}return _createClass(n,[{key:"nodeType",get:function(){return"Gradient"}},{key:"userSpace",value:function(e){return KN(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}},{key:"_createStops",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=0;n<e.length;n++)t.push(OM.create(e[n]));return t}},{key:"addStop",value:function(e,t,n){this.stops.push(new OM(e,t,n))}},{key:"removeStop",value:function(e){var t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}},{key:"optionsChange",value:function(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}},{key:"geometryChange",value:function(){this.optionsChange()}}]),n}(eM);function PM(e,t){var n="";if(null!=e)if(Array.isArray(e))for(var i=0;i<e.length;++i)n+=t(e[i],i);else"object"==typeof e&&Object.keys(e).forEach((function(i,r){n+=t(e[i],i,r)}));return n}yM(RM,["start","end"]),gM(IM(FM(vM))),"undefined"!=typeof Element&&Element.prototype&&Element,"undefined"!=typeof window&&window.kendo&&window,yM(RM,["center"]),JSON;var LM=function(e){var t=e.logic,n=e.criteria;return"\n<customFilters ".concat("and"===t?'and="1"':"",">\n").concat(PM(n,(function(e){var t=HM.customOperator(e);return"<customFilter ".concat(t?'operator="'.concat(t,'"'):"",' val="').concat(HM.customValue(e),'"/>')})),"\n</customFilters>")},NM=function(e){var t=e.type;return'<dynamicFilter type="'.concat(HM.dynamicFilterType(t),'" />')},MM=function(e){var t=e.type,n=e.value;return'<top10 percent="'.concat(/percent$/i.test(t)?1:0,'"\n       top="').concat(/^top/i.test(t)?1:0,'"\n       val="').concat(n,'" />')},VM=function(e){var t=e.blanks,n=e.values;return"<filters ".concat(t?'blank="1"':"",">\n    ").concat(PM(n,(function(e){return'\n      <filter val="'.concat(e,'" />')})),"\n  </filters>")};function HM(e){return t={ref:e.ref,columns:e.columns,generators:{custom:LM,dynamic:NM,top:MM,value:VM}},n=t.columns,i=t.generators,'\n<autoFilter ref="'.concat(t.ref,'">\n  ').concat(PM(n,(function(e){return'\n    <filterColumn colId="'.concat(e.index,'">\n      ').concat(i[e.filter](e),"\n    </filterColumn>\n  ")})),"\n</autoFilter>");var t,n,i}HM.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},HM.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},HM.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e};var jM=["lockedHeader"],BM=["header"],zM=["ariaRoot"],UM=["footer"],GM=["groupPanelEmpty",$localize(_templateObject50||(_templateObject50=_taggedTemplateLiteral([":kendo.grid.groupPanelEmpty|The label visible in the Grid group panel when it is empty\u241f30bcb3a2fbc22fcab6ca805e74b90adb8ba1ae96\u241f1430663748859427158:Drag a column header and drop it here to group by that column"]))),"noRecords",$localize(_templateObject51||(_templateObject51=_taggedTemplateLiteral([":kendo.grid.noRecords|The label visible in the Grid when there are no records\u241fff9cfd4bf3e40305db251f2b6961796c0550b4b0\u241f1243399825085142134:No records available."]))),"pagerFirstPage",$localize(_templateObject52||(_templateObject52=_taggedTemplateLiteral([":kendo.grid.pagerFirstPage|The label for the first page button in Grid pager\u241fb405dfc5ee42415daa08d54847d3010de1821111\u241f5647145449685906398:Go to the first page"]))),"pagerPreviousPage",$localize(_templateObject53||(_templateObject53=_taggedTemplateLiteral([":kendo.grid.pagerPreviousPage|The label for the previous page button in Grid pager\u241f47aa4fe05f5a2577d3336971d7c44ce48802b860\u241f6745088753482690847:Go to the previous page"]))),"pagerNextPage",$localize(_templateObject54||(_templateObject54=_taggedTemplateLiteral([":kendo.grid.pagerNextPage|The label for the next page button in Grid pager\u241f90031133fca899b4e491d9fc51128c1a184afb30\u241f5510985262435270859:Go to the next page"]))),"pagerLastPage",$localize(_templateObject55||(_templateObject55=_taggedTemplateLiteral([":kendo.grid.pagerLastPage|The label for the last page button in Grid pager\u241ffe84f2ea868286ce03e50b6e55558c16d675c753\u241f4539768510520419313:Go to the last page"]))),"pagerPage",$localize(_templateObject56||(_templateObject56=_taggedTemplateLiteral([":kendo.grid.pagerPage|The label before the current page number in the Grid pager\u241f89c1f616c25bb610824cd8a26473a03921df48bd\u241f5228228287003939680:Page"]))),"pagerOf",$localize(_templateObject57||(_templateObject57=_taggedTemplateLiteral([":kendo.grid.pagerOf|The label before the total pages number in the Grid pager\u241f0c9abe48f5d4bd2cb51846712e41864fc64aad6a\u241f7004642096327889102:of"]))),"pagerItems",$localize(_templateObject58||(_templateObject58=_taggedTemplateLiteral([":kendo.grid.pagerItems|The label after the total pages number in the Grid pager\u241f7c1704d11bfb77340485acd891439c2b6c6616ca\u241f700193548223931835:items"]))),"pagerPageNumberInputTitle",$localize(_templateObject59||(_templateObject59=_taggedTemplateLiteral([":kendo.grid.pagerPageNumberInputTitle|The label for the pager input in the Grid pager\u241ff8bad8f2c7345e4fe531480e3034f7d3e954d383\u241f2090461908134774363:Page Number"]))),"pagerItemsPerPage",$localize(_templateObject60||(_templateObject60=_taggedTemplateLiteral([":kendo.grid.pagerItemsPerPage|The label for the page size chooser in the Grid pager\u241f3331fe7ec45f299afaa4c1e08ea25c493eda9144\u241f8838594644885628398:items per page"]))),"filter",$localize(_templateObject61||(_templateObject61=_taggedTemplateLiteral([":kendo.grid.filter|The label of the filter cell or icon\u241f21a04b7b090dac60e0449cb6e435b7e879173c75\u241f7977992299945497789:Filter"]))),"filterEqOperator",$localize(_templateObject62||(_templateObject62=_taggedTemplateLiteral([":kendo.grid.filterEqOperator|The text of the equal filter operator\u241f8b31e1604d10a2f8709dcb1ed5c237e33cffc135\u241f4328959145426393682:Is equal to"]))),"filterNotEqOperator",$localize(_templateObject63||(_templateObject63=_taggedTemplateLiteral([":kendo.grid.filterNotEqOperator|The text of the not equal filter operator\u241fd46e14d35d89d2fadf5c852abf5557643510a013\u241f8497658332767349737:Is not equal to"]))),"filterIsNullOperator",$localize(_templateObject64||(_templateObject64=_taggedTemplateLiteral([":kendo.grid.filterIsNullOperator|The text of the is null filter operator\u241f078c50eb1fe8b2b43fcc40c5e7f4493152310c2f\u241f1298299704757177797:Is null"]))),"filterIsNotNullOperator",$localize(_templateObject65||(_templateObject65=_taggedTemplateLiteral([":kendo.grid.filterIsNotNullOperator|The text of the is not null filter operator\u241f70b39eeaf2674907b2e59b414baf17e032b464dc\u241f8362279767336741540:Is not null"]))),"filterIsEmptyOperator",$localize(_templateObject66||(_templateObject66=_taggedTemplateLiteral([":kendo.grid.filterIsEmptyOperator|The text of the is empty filter operator\u241fa4e77e444b4e9b63851ac818e20136212b06c750\u241f4762263229995523226:Is empty"]))),"filterIsNotEmptyOperator",$localize(_templateObject67||(_templateObject67=_taggedTemplateLiteral([":kendo.grid.filterIsNotEmptyOperator|The text of the is not empty filter operator\u241fdee7553c341248e90aef4a8e7438c52e667e68be\u241f8245213618709258015:Is not empty"]))),"filterStartsWithOperator",$localize(_templateObject68||(_templateObject68=_taggedTemplateLiteral([":kendo.grid.filterStartsWithOperator|The text of the starts with filter operator\u241fda43b363b636156e3ccdbb64a0788bdeab51e992\u241f6087783423599420507:Starts with"]))),"filterContainsOperator",$localize(_templateObject69||(_templateObject69=_taggedTemplateLiteral([":kendo.grid.filterContainsOperator|The text of the contains filter operator\u241f5b568a46d2e34ebde7dd53a7e599cbbb7dc6bae1\u241f3831180413287131758:Contains"]))),"filterNotContainsOperator",$localize(_templateObject70||(_templateObject70=_taggedTemplateLiteral([":kendo.grid.filterNotContainsOperator|The text of the does not contain filter operator\u241fbe06aa4fde7fa722c9de5a45f241ff595071d718\u241f7331253838216904826:Does not contain"]))),"filterEndsWithOperator",$localize(_templateObject71||(_templateObject71=_taggedTemplateLiteral([":kendo.grid.filterEndsWithOperator|The text of the ends with filter operator\u241fa54b2ecffb41f0603ceedc7ea5a40b7d130e2fa1\u241f3662435311670509156:Ends with"]))),"filterGteOperator",$localize(_templateObject72||(_templateObject72=_taggedTemplateLiteral([":kendo.grid.filterGteOperator|The text of the greater than or equal filter operator\u241f68471603db771d0304d02fe086da9701c16911c3\u241f4542824413455511831:Is greater than or equal to"]))),"filterGtOperator",$localize(_templateObject73||(_templateObject73=_taggedTemplateLiteral([":kendo.grid.filterGtOperator|The text of the greater than filter operator\u241fae68acc0e18252a348bdfb32112996d81e5305de\u241f1527483349261806183:Is greater than"]))),"filterLteOperator",$localize(_templateObject74||(_templateObject74=_taggedTemplateLiteral([":kendo.grid.filterLteOperator|The text of the less than or equal filter operator\u241fe48d50a6422c616a00b95025adc5283aff4fa8cb\u241f4840714404733417604:Is less than or equal to"]))),"filterLtOperator",$localize(_templateObject75||(_templateObject75=_taggedTemplateLiteral([":kendo.grid.filterLtOperator|The text of the less than filter operator\u241fc4d58f0e509cb7e37014715dd91546a724210d70\u241f498627126459578706:Is less than"]))),"filterIsTrue",$localize(_templateObject76||(_templateObject76=_taggedTemplateLiteral([":kendo.grid.filterIsTrue|The text of the IsTrue boolean filter option\u241fd5f1e9028bc60c30e8f8e0f9cfeb872512446cea\u241f2361673238316312251:Is True"]))),"filterIsFalse",$localize(_templateObject77||(_templateObject77=_taggedTemplateLiteral([":kendo.grid.filterIsFalse|The text of the IsFalse boolean filter option\u241f6d34731320e2536fd78f4a9e08f0b8dcd01edf3d\u241f7759366406135608407:Is False"]))),"filterBooleanAll",$localize(_templateObject78||(_templateObject78=_taggedTemplateLiteral([":kendo.grid.filterBooleanAll|The text of the (All) boolean filter option\u241f4da1456a62bafe2614ed2bc05a2c790a64a4dd0b\u241f9215343856736761875:(All)"]))),"filterAfterOrEqualOperator",$localize(_templateObject79||(_templateObject79=_taggedTemplateLiteral([":kendo.grid.filterAfterOrEqualOperator|The text of the after or equal date filter operator\u241fd7dac1bbc2372d578a9d2bca099de766043aed7e\u241f1964413288176201979:Is after or equal to"]))),"filterAfterOperator",$localize(_templateObject80||(_templateObject80=_taggedTemplateLiteral([":kendo.grid.filterAfterOperator|The text of the after date filter operator\u241fbff777df0d0831cc02679227422fab4ef2763fa9\u241f3078502182807244703:Is after"]))),"filterBeforeOperator",$localize(_templateObject81||(_templateObject81=_taggedTemplateLiteral([":kendo.grid.filterBeforeOperator|The text of the before date filter operator\u241f35ef5cf367670f15432c9f8761bc85fbdb2b1830\u241f3348865631071358219:Is before"]))),"filterBeforeOrEqualOperator",$localize(_templateObject82||(_templateObject82=_taggedTemplateLiteral([":kendo.grid.filterBeforeOrEqualOperator|The text of the before or equal date filter operator\u241f27a6b29ffbc1eb498de8d7af20051461a2e842ec\u241f6582064037090631388:Is before or equal to"]))),"filterFilterButton",$localize(_templateObject83||(_templateObject83=_taggedTemplateLiteral([":kendo.grid.filterFilterButton|The text of the filter button\u241f4f1c08d0b056646cdb668da669e2e15825adfe4d\u241f5185263258022896121:Filter"]))),"filterClearButton",$localize(_templateObject84||(_templateObject84=_taggedTemplateLiteral([":kendo.grid.filterClearButton|The text of the clear filter button\u241f06e4e4dadede6f91f261cdbb7fb174246a135238\u241f3031209415830321799:Clear"]))),"filterAndLogic",$localize(_templateObject85||(_templateObject85=_taggedTemplateLiteral([":kendo.grid.filterAndLogic|The text of the And filter logic\u241ff73fbcc2f813d469e4a34491950ca01ea1ac8f60\u241f512662285155477884:And"]))),"filterOrLogic",$localize(_templateObject86||(_templateObject86=_taggedTemplateLiteral([":kendo.grid.filterOrLogic|The text of the Or filter logic\u241f04e64780de0fc1c3a9986997e0808ec53a5f2a63\u241f1964926727342405367:Or"]))),"loading",$localize(_templateObject87||(_templateObject87=_taggedTemplateLiteral([":kendo.grid.loading|The loading text\u241f781c049cc69efc30bc8053af9ace3cb4b04bd438\u241f5425510787229531767:Loading"]))),"columns",$localize(_templateObject88||(_templateObject88=_taggedTemplateLiteral([":kendo.grid.columns|The text shown in the column menu for the columns item\u241f9b841399fbb3d81f2401f98b4f4763834b72a1e5\u241f5332162737795508854:Columns"]))),"lock",$localize(_templateObject89||(_templateObject89=_taggedTemplateLiteral([":kendo.grid.lock|The text shown in the column menu for the lock item\u241ff356cae509dec3dc1b7156326b9a0328a79c62a8\u241f5849203148124173556:Lock"]))),"unlock",$localize(_templateObject90||(_templateObject90=_taggedTemplateLiteral([":kendo.grid.unlock|The text shown in the column menu for the unlock item\u241ff33355540003068372e39ba7f3def794869ea9f8\u241f6968586378603932789:Unlock"]))),"setColumnPosition",$localize(_templateObject91||(_templateObject91=_taggedTemplateLiteral([":kendo.grid.setColumnPosition|The text shown in the column menu for the set column position item\u241fe5b09fd8ecea276841b1018a376a43d5f26cf187\u241f4152513791950180353:Set Column Position"]))),"stick",$localize(_templateObject92||(_templateObject92=_taggedTemplateLiteral([":kendo.grid.stick|The text shown in the column menu for the stick item\u241f31d7229bfb18a112e19a6e8040d7d2e261293dca\u241f2051035907018784050:Stick"]))),"unstick",$localize(_templateObject93||(_templateObject93=_taggedTemplateLiteral([":kendo.grid.unstick|The text shown in the column menu for the unstick item\u241f01d4c7e75b7fadc09544cf2277208d39b4eef86a\u241f7237321134369658080:Unstick"]))),"sortable",$localize(_templateObject94||(_templateObject94=_taggedTemplateLiteral([":kendo.grid.sortable|The label of the sort icon\u241fa692ba271be066ce379f942ff67094e1ea989f4c\u241f3824304972336788145:Sortable"]))),"sortAscending",$localize(_templateObject95||(_templateObject95=_taggedTemplateLiteral([":kendo.grid.sortAscending|The text shown in the column menu for the sort ascending item\u241f96beffd8446c5455f3bbdc313c946db32df7dcc2\u241f6297762560864270240:Sort Ascending"]))),"sortDescending",$localize(_templateObject96||(_templateObject96=_taggedTemplateLiteral([":kendo.grid.sortDescending|The text shown in the column menu for the sort descending item\u241f208d0538d4c2537a1cbf456941e34a2884053d52\u241f5605073536641230977:Sort Descending"]))),"sortedAscending",$localize(_templateObject97||(_templateObject97=_taggedTemplateLiteral([":kendo.grid.sortedAscending|The status announcement when a column is sorted ascending\u241f947c64329461efd9f8a9aa2c51acbbd099170aa5\u241f6275944032047713540:Sorted Ascending"]))),"sortedDescending",$localize(_templateObject98||(_templateObject98=_taggedTemplateLiteral([":kendo.grid.sortedDescending|The status announcement when a column is sorted descending\u241f092a688d1b2b6d873bdc29beaaf43c3f45336581\u241f8155280769473236383:Sorted Descending"]))),"sortedDefault",$localize(_templateObject99||(_templateObject99=_taggedTemplateLiteral([":kendo.grid.sortedDefault|The status announcement when a column is no longer sorted\u241f66e99ea340974022c07c52a6f668f5573e7edab0\u241f5229177293891232538:Not Sorted"]))),"columnsApply",$localize(_templateObject100||(_templateObject100=_taggedTemplateLiteral([":kendo.grid.columnsApply|The text shown in the column menu or column chooser for the columns apply button\u241f04600bd6e362cf9da9f7f9c4666eab2c88eb6a90\u241f34213208292862969:Apply"]))),"columnsReset",$localize(_templateObject101||(_templateObject101=_taggedTemplateLiteral([":kendo.grid.columnsReset|The text shown in the column menu or column chooser for the columns reset button\u241f94d3b472d99994a5cca9930afd4cf0ac2774c382\u241f4465838259914958827:Reset"]))),"detailExpand",$localize(_templateObject102||(_templateObject102=_taggedTemplateLiteral([":kendo.grid.detailExpand|The title of the expand icon of detail rows.\u241fad6629bb6e79235623cfce486ef48087dbe96fb5\u241f6952757249912226136:Expand Details"]))),"detailCollapse",$localize(_templateObject103||(_templateObject103=_taggedTemplateLiteral([":kendo.grid.detailCollapse|The title of the collapse icon of detail rows.\u241face0c0a58fbb211e8678efb3bd6ac9bb587144c3\u241f6065477639036399169:Collapse Details"]))),"filterDateToday",$localize(_templateObject104||(_templateObject104=_taggedTemplateLiteral([":kendo.grid.filterDateToday|The text of the Today button of the Date filter.\u241f745058f85d92ee5228977277195262978828c4c8\u241f1656723147090613075:TODAY"]))),"filterDateToggle",$localize(_templateObject105||(_templateObject105=_taggedTemplateLiteral([":kendo.grid.filterDateToggle|The title of the Toggle button of the Date filter.\u241f2c916ea2cbd37665e512219650c37dc17b9ef0c0\u241f15438307630389352:Toggle Calendar"]))),"filterNumericDecrement",$localize(_templateObject106||(_templateObject106=_taggedTemplateLiteral([":kendo.grid.filterNumericDecrement|The title of the Decrement button of the Numeric filter.\u241f7f991d698abebb2e50570f9aef14126ae931c513\u241f534533728304192410:Decrement"]))),"filterNumericIncrement",$localize(_templateObject107||(_templateObject107=_taggedTemplateLiteral([":kendo.grid.filterNumericIncrement|The title of the Increment button of the Numeric filter.\u241f25bc8b86968819d3f687aa6dde652800bd4b6b2a\u241f5462143714591662391:Increment"]))),"selectionCheckboxLabel",$localize(_templateObject108||(_templateObject108=_taggedTemplateLiteral([":kendo.grid.selectionCheckboxLabel|The labels of the checkbox column checkboxes.\u241fbe92546944c9cb75e92f8b968456d82a101fc35b\u241f8181603152758207780:Select Row"]))),"selectAllCheckboxLabel",$localize(_templateObject109||(_templateObject109=_taggedTemplateLiteral([":kendo.grid.selectAllCheckboxLabel|The label of the checkbox column select all checkbox.\u241f20fbea69eff950cbfcf690203ca6104e8346fa48\u241f6136285170059274319:Select All Rows"]))),"pagerLabel",$localize(_templateObject110||(_templateObject110=_taggedTemplateLiteral([":kendo.grid.pagerLabel|The label for the Grid pager\u241f03a0df03d11d80b3aeca50cf4827096a51a853fc\u241f941504587982751782:",":INTERPOLATION:"])),"\ufffd0\ufffd"),"filterInputLabel",$localize(_templateObject111||(_templateObject111=_taggedTemplateLiteral([":kendo.grid.filterInputLabel|The label of the filter row and menu inputs\u241f491dbf44b1ca040395b94229d00d4109af48e64c\u241f3836147469421132954:",":INTERPOLATION:"])),"\ufffd0\ufffd"),"filterMenuTitle",$localize(_templateObject112||(_templateObject112=_taggedTemplateLiteral([":kendo.grid.filterMenuTitle|The title of the filter menu icon\u241f04e8a1bee6d2dd6edfc921e890fae44a01ceb18c\u241f7968307322474586314:",":INTERPOLATION:"])),"\ufffd0\ufffd"),"filterMenuOperatorsDropDownLabel",$localize(_templateObject113||(_templateObject113=_taggedTemplateLiteral([":kendo.grid.filterMenuOperatorsDropDownLabel|The label of the filter menu operators dropdown\u241f884eac0bb5b4a01ea36fea20ffa29c6dfe1987e0\u241f1505989735336544615:",":INTERPOLATION:"])),"\ufffd0\ufffd"),"filterMenuLogicDropDownLabel",$localize(_templateObject114||(_templateObject114=_taggedTemplateLiteral([":kendo.grid.filterMenuLogicDropDownLabel|The label of the filter menu logic dropdown\u241fc9ba4917588987b943dc414dc6ca108392d8cb40\u241f7212349983175276206:",":INTERPOLATION:"])),"\ufffd0\ufffd"),"columnMenu",$localize(_templateObject115||(_templateObject115=_taggedTemplateLiteral([":kendo.grid.columnMenu|The title of the column menu icon\u241f28d8b294e285a6c34641eb1c7982870b412ef106\u241f8738132440639204439:",":INTERPOLATION:"])),"\ufffd0\ufffd")];function qM(e,t){1&e&&Ya(0,"kendo-grid-toolbar",9)}function KM(e,t){if(1&e){var n=eo();$a(0,"kendo-pager",10),io("pageChange",(function(e){return un(n),ao().notifyPageChange("pager",e)})),Za()}if(2&e){var i=ao();Ka("tabindex",i.navigable?"0":"-1")("template",i.pagerTemplate)("pageSize",i.pageSize)("total",i.view.total)("skip",i.skip)("options",i.pageable),Ha("role",i.navigable?"navigation":void 0)}}function WM(e,t){if(1&e){var n=eo();$a(0,"kendo-grid-group-panel",11),io("change",(function(e){return un(n),ao().groupChange.emit(e)})),Za()}if(2&e){var i=ao();Ka("text",i.groupableEmptyText)("groups",i.group)}}function $M(e,t){if(1&e&&($a(0,"div",23,24),$a(2,"table",25),Ya(3,"colgroup",20),Ya(4,"thead",26),Za(),Za()),2&e){var n=ao(3);bo("width",n.lockedWidth,"px"),Ir(2),bo("width",n.lockedWidth,"px"),Ka("locked",!0),Ir(1),Ka("columns",n.lockedLeafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),Ir(1),Ka("resizable",n.resizable)("scrollable",!0)("columns",n.lockedColumns)("totalColumnLevels",n.totalColumnLevels)("sort",n.sort)("groups",n.group)("filter",n.filter)("filterable",n.filterable)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("sortable",n.sortable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate)("tabIndex",n.navigable?"-1":"0")}}function ZM(e,t){if(1&e&&($a(0,"div",27),Ya(1,"div"),Za()),2&e){var n=ao(3);Ir(1),bo("width",n.columnsContainer.unlockedWidth,"px")}}var YM=function(){return[]};function QM(e,t){if(1&e&&($a(0,"div",15),Ba(1,$M,5,24,"div",16),$a(2,"div",17,18),$a(4,"table",19),Ya(5,"colgroup",20),Ya(6,"thead",21),Za(),Ba(7,ZM,2,2,"div",22),Za(),Za()),2&e){var n=ao(2);bo("padding",n.headerPadding),Ir(1),Ka("ngIf",n.isLocked),Ir(1),Ka("kendoGridResizableContainer",n.lockedLeafColumns.length)("lockedWidth",n.lockedWidth+n.scrollbarWidth+2),Ir(2),bo("width",n.nonLockedWidth,"px"),Ka("virtualColumns",n.virtualColumns),Ir(1),Ka("columns",n.headerLeafColumns)("groups",n.isLocked?cu(29,YM):n.group)("detailTemplate",n.detailTemplate),Ir(1),Ka("resizable",n.resizable)("scrollable",!0)("columns",n.headerColumns)("totalColumnLevels",n.totalColumnLevels)("sort",n.sort)("filter",n.filter)("filterable",n.filterable)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("groups",n.isLocked?cu(30,YM):n.group)("sortable",n.sortable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("lockedColumnsCount",n.lockedLeafColumns.length)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate)("tabIndex",n.navigable?"-1":"0"),Ir(1),Ka("ngIf",n.virtualColumns)}}function JM(e,t){if(1&e&&($a(0,"div",35),$a(1,"table",25),Ya(2,"colgroup",33),Ya(3,"tfoot",36),Za(),Za()),2&e){var n=ao(3);bo("width",n.lockedWidth,"px"),Ir(1),bo("width",n.lockedWidth,"px"),Ka("locked",!0),Ir(1),Ka("columns",n.lockedLeafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),Ir(1),Ka("scrollable",!0)("groups",n.group)("columns",n.lockedLeafColumns)("detailTemplate",n.detailTemplate)("logicalRowIndex",n.ariaRowCount)}}function XM(e,t){if(1&e&&($a(0,"div",28),Ba(1,JM,4,13,"div",29),$a(2,"div",30,31),$a(4,"table",32),Ya(5,"colgroup",33),Ya(6,"tfoot",34),Za(),Za(),Za()),2&e){var n=ao(2);bo("padding",n.headerPadding),Ir(1),Ka("ngIf",n.lockedLeafColumns.length),Ir(1),Ka("kendoGridResizableContainer",n.lockedLeafColumns.length)("lockedWidth",n.lockedWidth+n.scrollbarWidth+3),Ir(2),bo("width",n.nonLockedWidth,"px"),Ir(1),Ka("columns",n.nonLockedLeafColumns)("groups",n.isLocked?cu(16,YM):n.group)("detailTemplate",n.detailTemplate),Ir(1),Ka("logicalRowIndex",n.ariaRowCount)("scrollable",!0)("groups",n.isLocked?cu(17,YM):n.group)("columns",n.nonLockedLeafColumns)("lockedColumnsCount",n.lockedLeafColumns.length)("detailTemplate",n.detailTemplate)}}function eV(e,t){if(1&e){var n=eo();Ba(0,QM,8,31,"div",12),$a(1,"kendo-grid-list",13),io("pageChange",(function(e){return un(n),ao().notifyPageChange("list",e)}))("scrollBottom",(function(){return un(n),ao().notifyScrollBottom()}))("contentScroll",(function(e){return un(n),ao().contentScroll.emit(e)})),Za(),Ba(2,XM,7,18,"div",14)}if(2&e){var i=ao();Ka("ngIf",!i.hideHeader),Ir(1),Ka("data",i.view)("rowHeight",i.rowHeight)("detailRowHeight",i.detailRowHeight)("total",i.totalCount)("take",i.pageSize)("groups",i.group)("groupable",i.groupable)("skip",i.skip)("trackBy",i.trackBy)("columns",i.columnsContainer)("selectable",i.selectable)("filterable",i.filterable)("detailTemplate",i.detailTemplate)("noRecordsTemplate",i.noRecordsTemplate)("rowClass",i.rowClass)("rowSticky",i.rowSticky)("loading",i.loading)("isVirtual",i.isVirtual)("virtualColumns",i.virtualColumns)("enableDrag",i.marqueeSelection),Ir(1),Ka("ngIf",i.showFooter)}}function tV(e,t){if(1&e&&Ya(0,"thead",41),2&e){var n=ao(2);Ka("resizable",n.resizable)("scrollable",!1)("columns",n.visibleColumns)("totalColumnLevels",n.totalColumnLevels)("groups",n.group)("groupable",n.showGroupPanel)("reorderable",n.reorderable)("sort",n.sort)("sortable",n.sortable)("filter",n.filter)("filterable",n.filterable)("columnMenu",n.columnMenuOptions)("columnMenuTemplate",n.columnMenuTemplate)("detailTemplate",n.detailTemplate)("tabIndex",n.navigable?"-1":"0")}}function nV(e,t){if(1&e&&Ya(0,"tfoot",42),2&e){var n=ao(2);Ka("scrollable",!1)("logicalRowIndex",n.ariaRowCount)("groups",n.group)("columns",n.leafColumns)("detailTemplate",n.detailTemplate)}}function iV(e,t){1&e&&Ya(0,"div",43)}function rV(e,t){if(1&e&&($a(0,"table"),Ya(1,"colgroup",33),Ba(2,tV,1,15,"thead",37),Ya(3,"tbody",38),Ba(4,nV,1,5,"tfoot",39),Za(),Ba(5,iV,1,0,"div",40)),2&e){var n=ao();bo("table-layout",n.resizable?"fixed":null),Ir(1),Ka("columns",n.leafColumns)("groups",n.group)("detailTemplate",n.detailTemplate),Ir(1),Ka("ngIf",!n.hideHeader),Ir(1),Ka("groups",n.group)("data",n.view)("skip",n.skip)("columns",n.leafColumns)("selectable",n.selectable)("filterable",n.filterable)("noRecordsTemplate",n.noRecordsTemplate)("detailTemplate",n.detailTemplate)("showGroupFooters",n.showGroupFooters)("trackBy",n.trackBy)("rowClass",n.rowClass)("enableDrag",n.marqueeSelection),Ir(1),Ka("ngIf",n.showFooter),Ir(1),Ka("ngIf",n.loading)}}function sV(e,t){if(1&e){var n=eo();$a(0,"kendo-pager",44),io("pageChange",(function(e){return un(n),ao().notifyPageChange("pager",e)})),Za()}if(2&e){var i=ao();Ka("tabindex",i.navigable?"0":"-1")("template",i.pagerTemplate)("pageSize",i.pageSize)("total",i.view.total)("skip",i.skip)("options",i.pageable),Ha("role",i.navigable?"navigation":void 0)}}function aV(e,t){1&e&&Ya(0,"kendo-grid-toolbar",45)}var oV=["container"],lV=["lockedContainer"],uV=["lockedTable"],cV=["table"],hV=function(e,t,n,i){return{keydown:e,scroll:t,mousewheel:n,DOMMouseScroll:i}};function fV(e,t){if(1&e&&($a(0,"div",12,13),$a(2,"div",3),$a(3,"table",14,15),Ya(5,"colgroup",6),Ya(6,"tbody",16),Za(),Ya(7,"kendo-resize-sensor"),Za(),$a(8,"div",9),Ya(9,"div"),Za(),Za()),2&e){var n=ao();bo("width",n.lockedWidth,"px"),Ka("kendoEventsOutsideAngular",pu(25,hV,n.lockedKeydown,n.lockedScroll,n.lockedMousewheel,n.lockedMousewheel))("scope",n),Ir(3),bo("width",n.lockedWidth,"px"),Ka("locked",!0),Ir(2),Ka("groups",n.groups)("columns",n.lockedLeafColumns)("detailTemplate",n.detailTemplate),Ir(1),Ka("groups",n.groups)("isLocked",!0)("data",n.data)("noRecordsText","")("columns",n.lockedLeafColumns)("totalColumnsCount",n.leafColumns.length)("detailTemplate",n.detailTemplate)("showGroupFooters",n.showFooter)("skip",n.skip)("selectable",n.selectable)("trackBy",n.trackBy)("filterable",n.filterable)("rowClass",n.rowClass),Ir(3),bo("height",n.totalHeight,"px")}}function dV(e,t){1&e&&Ya(0,"kendo-resize-sensor")}function pV(e,t){1&e&&Ya(0,"kendo-resize-sensor")}function vV(e,t){if(1&e&&($a(0,"div",17),Ya(1,"div"),Za()),2&e){var n=ao();Ir(1),bo("width",n.totalWidth,"px")}}function gV(e,t){1&e&&Ya(0,"div",18)}var mV=["kendoGridFilterRow",""];function yV(e,t){1&e&&Ya(0,"td",3),2&e&&Co("k-group-cell",!0)}function kV(e,t){1&e&&Ya(0,"td",3),2&e&&Co("k-hierarchy-cell",!0)}function bV(e,t){if(1&e&&Ya(0,"td",4),2&e){var n=t.$implicit,i=t.index,r=ao();Co("k-grid-header-sticky",n.sticky),Ka("ngStyle",n.sticky?r.addStickyStyles(n):null)("column",n)("filter",r.filter)("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",r.lockedColumnsCount+i),Ha("aria-label",r.filterLabel(n))}}var CV=["kendoGridFilterCell",""];function wV(e,t){if(1&e&&(Qa(0),Xa(1,3),Ja()),2&e){var n=ao(2);Ir(1),Ka("column",n.column)("filter",n.filter)}}function _V(e,t){}function SV(e,t){if(1&e&&Ba(0,_V,0,0,"ng-template",5),2&e){var n=ao(3);Ka("ngTemplateOutlet",n.column.filterCellTemplateRef)("ngTemplateOutletContext",n.templateContext)}}function xV(e,t){if(1&e&&(Qa(0),Ba(1,SV,1,2,void 0,4),Ja()),2&e){var n=ao(2);Ir(1),Ka("ngIf",n.column.filterCellTemplateRef)}}function EV(e,t){1&e&&(Qa(0,1),Ba(1,wV,2,2,"ng-container",2),Ba(2,xV,2,1,"ng-container",2),Ja()),2&e&&(Ka("ngSwitch",ao().hasTemplate),Ir(1),Ka("ngSwitchCase",!1),Ir(1),Ka("ngSwitchCase",!0))}var IV=["*"],TV=["dropdown"],FV=function(){return{width:"auto"}};function AV(e,t){if(1&e){var n=eo();$a(0,"kendo-dropdownlist",3,4),io("valueChange",(function(e){return un(n),ao().onChange(e)}))("keydown",(function(e){return un(n),ao().dropdownKeydown(e)})),Za()}if(2&e){var i=ao();Ka("data",i.operators)("value",i.value)("valuePrimitive",!0)("popupSettings",cu(4,FV))}}var DV=function(e){return{"k-clear-button-visible":e}},OV=["kendoGridColGroup",""];function RV(e,t){1&e&&Ya(0,"col"),2&e&&Co("k-group-col",!0)}function PV(e,t){1&e&&Ya(0,"col"),2&e&&Co("k-hierarchy-col",!0)}function LV(e,t){1&e&&Ya(0,"col"),2&e&&bo("width",t.$implicit.width,"px")}function NV(e,t){if(1&e&&(Ba(0,RV,1,2,"col",1),Ba(1,PV,1,2,"col",2),Ba(2,LV,1,2,"col",3)),2&e){var n=ao();Ka("ngForOf",n.groups),Ir(1),Ka("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),Ir(1),Ka("ngForOf",n.columnsToRender)("ngForTrackBy",n.trackBy)}}var MV=["kendoGridLoading",""];function VV(e,t){if(1&e){var n=eo();$a(0,"div",4),io("focusin",(function(e){return un(n),ao().onInnerFocusIn(e,"start")})),Za()}2&e&&(Ka("tabindex",ao().focusTrapTabIndex),Ha("aria-hidden",!0))}function HV(e,t){if(1&e&&Xa(0,5),2&e){var n=ao();Ka("ngTemplateOutlet",n.template.templateRef)("ngTemplateOutletContext",n.templateContext)}}function jV(e,t){1&e&&Ya(0,"kendo-pager-prev-buttons")}function BV(e,t){1&e&&Ya(0,"kendo-pager-numeric-buttons",8),2&e&&Ka("buttonCount",ao(2).settings.buttonCount)}function zV(e,t){1&e&&Ya(0,"kendo-pager-input")}function UV(e,t){1&e&&Ya(0,"kendo-pager-next-buttons")}function GV(e,t){1&e&&Ya(0,"kendo-pager-info")}function qV(e,t){1&e&&Ya(0,"kendo-pager-page-sizes",9,10),2&e&&Ka("pageSizes",ao(2).settings.pageSizes)}function KV(e,t){if(1&e&&(Qa(0),Ba(1,jV,1,0,"kendo-pager-prev-buttons",2),Ba(2,BV,1,1,"kendo-pager-numeric-buttons",6),Ba(3,zV,1,0,"kendo-pager-input",2),Ba(4,UV,1,0,"kendo-pager-next-buttons",2),Ba(5,GV,1,0,"kendo-pager-info",2),Ba(6,qV,2,1,"kendo-pager-page-sizes",7),Ja()),2&e){var n=ao();Ir(1),Ka("ngIf",n.settings.previousNext),Ir(1),Ka("ngIf","numeric"===n.settings.type),Ir(1),Ka("ngIf","input"===n.settings.type),Ir(1),Ka("ngIf",n.settings.previousNext),Ir(1),Ka("ngIf",n.settings.info),Ir(1),Ka("ngIf",n.settings.pageSizes)}}function WV(e,t){if(1&e){var n=eo();$a(0,"div",4),io("focusin",(function(e){return un(n),ao().onInnerFocusIn(e,"end")})),Za()}2&e&&(Ka("tabindex",ao().focusTrapTabIndex),Ha("aria-hidden",!0))}function $V(e,t){if(1&e){var n=eo();$a(0,"kendo-resize-sensor",11),io("resize",(function(){return un(n),ao().resizeHandler()})),Za()}}var ZV=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-first":!0}},YV=function(){return{"k-icon":!0,"k-i-seek-w":!0}},QV=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"":!0}},JV=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},XV=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},eH=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-last":!0}},tH=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function nH(e,t){if(1&e&&($a(0,"option",7),Oo(1,"... "),Za()),2&e){var n=ao();Ha("aria-label",n.pageLabel(n.start-1))}}var iH=function(e){return{"k-link":!0,"k-state-selected":e}};function rH(e,t){if(1&e&&($a(0,"option",8),Oo(1),Za()),2&e){var n=t.$implicit,i=ao();Ka("value",n.toString())("ngClass",hu(5,iH,i.currentPage==n)),Ha("aria-label",i.pageLabel(n))("aria-current",i.currentPage==n?"page":void 0),Ir(1),Po(" ",n," ")}}function sH(e,t){if(1&e&&($a(0,"option",9),Oo(1,"... "),Za()),2&e){var n=ao();Ha("aria-label",n.pageLabel(n.end+1))}}function aH(e,t){if(1&e){var n=eo();$a(0,"li"),$a(1,"span",10),io("click",(function(){un(n);var e=ao();return e.changePage(e.start-2)}))("keydown.enter",(function(){un(n);var e=ao();return e.changePage(e.start-2)})),Oo(2,"..."),Za(),Za()}if(2&e){var i=ao();Ir(1),Ha("aria-label",i.pageLabel(i.start-1))}}var oH=function(e){return{"k-link":!0,"k-state-selected":e,"k-pager-nav":!0}};function lH(e,t){if(1&e){var n=eo();$a(0,"li"),$a(1,"span",11),io("click",(function(){un(n);var e=t.$implicit;return ao().changePage(e-1)}))("keydown.enter",(function(){un(n);var e=t.$implicit;return ao().changePage(e-1)})),Oo(2),Za(),Za()}if(2&e){var i=t.$implicit,r=ao();Ir(1),Ka("ngClass",hu(3,oH,r.currentPage==i)),Ha("aria-label",r.pageLabel(i)),Ir(1),Po(" ",i," ")}}function uH(e,t){if(1&e){var n=eo();$a(0,"li"),$a(1,"span",10),io("click",(function(){un(n);var e=ao();return e.changePage(e.end)}))("keydown.enter",(function(){un(n);var e=ao();return e.changePage(e.end)})),Oo(2,"..."),Za(),Za()}if(2&e){var i=ao();Ir(1),Ha("aria-label",i.pageLabel(i.end+1))}}var cH=function(){return{"k-pager-numbers":!0,"k-reset":!0}},hH=function(){return{"k-pager-input":!0,"k-label":!0}},fH=function(e,t){return{keydown:e,focusout:t}},dH=["kendoGridGroupHeader",""];function pH(e,t){1&e&&Ya(0,"td",4)}function vH(e,t){if(1&e&&Ba(0,pH,1,0,"td",3),2&e){var n=ao();Ka("ngForOf",n.prefixGroupCell(n.item))}}function gH(e,t){if(1&e&&(Oo(0),bu(1,"valueOf")),2&e){var n=ao(3);Lo(" ",n.groupTitle(n.item),": ",wu(1,2,n.item.data,"value",n.formatForGroup(n.item))," ")}}function mH(e,t){}var yH=function(e,t){return{"k-i-collapse":e,"k-i-expand":t}},kH=function(e,t,n,i,r,s,a,o){return{templateRef:e,group:t,aggregates:n,value:i,field:r,index:s,expanded:a,$implicit:o}};function bH(e,t){if(1&e){var n=eo();$a(0,"a",7),io("click",(function(){un(n);var e=ao(2);return e.toggleGroup(e.item)})),Za(),Ba(1,gH,2,6,"ng-template",0),Ba(2,mH,0,0,"ng-template",8)}if(2&e){var i=ao(2);Ka("ngClass",fu(3,yH,i.isExpanded,!i.isExpanded)),Ir(1),Ka("ngIf",!i.groupHeaderTemplate(i.item)),Ir(1),Ka("templateContext",(r=kH,s=i.groupHeaderTemplate(i.item),a=i.item.data,o=null==i.item.data?null:i.item.data.aggregates,l=null==i.item.data?null:i.item.data.value,u=null==i.item.data?null:i.item.data.field,c=i.item.index,h=i.isExpanded,f=i.item.data,d=gn()+6,p=on(),v=Va(p,d,s,a,o,l),Va(p,d+4,u,c,h,f)||v?Ra(p,d+8,r(s,a,o,l,u,c,h,f)):Pa(p,d+8)))}var r,s,a,o,l,u,c,h,f,d,p,v}function CH(e,t){if(1&e&&($a(0,"td",5),$a(1,"p",6),Ba(2,bH,3,15,"ng-template",0),Za(),Za()),2&e){var n=ao();Ka("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",n.skipGroupDecoration)("groupItem",n.item)("colSpan",n.logicalColSpan()),Ha("colspan",n.groupSpan(n.item))("role",n.ariaRole())("aria-expanded",n.isExpanded),Ir(2),Ka("ngIf",!n.skipGroupDecoration)}}var wH=function(e,t,n,i,r,s){return{group:e,aggregates:t,value:n,field:i,index:r,$implicit:s}};function _H(e,t){if(1&e&&Xa(0,12),2&e){var n=ao().$implicit,i=ao(2);Ka("ngTemplateOutlet",n.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",vu(2,wH,i.item.data,null==i.item.data?null:i.item.data.aggregates,null==i.item.data?null:i.item.data.value,null==i.item.data?null:i.item.data.field,i.item.index,i.item.data))}}function SH(e,t){if(1&e&&($a(0,"td",10),Ba(1,_H,1,9,"ng-container",11),Za()),2&e){var n=t.$implicit,i=t.index,r=ao(2);Ka("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",i+1)("logicalSlaveCell",!1)("groupItem",r.item)("colSpan",1),Ir(1),Ka("ngIf",n.groupHeaderColumnTemplateRef)}}function xH(e,t){if(1&e&&(Qa(0),Ba(1,SH,2,6,"td",9),Ja()),2&e){var n=ao();Ir(1),Ka("ngForOf",n.groupHeaderColumns)}}var EH=function(){return{lastTarget:!0}};function IH(e,t){if(1&e&&($a(0,"div",3),Oo(1),Za()),2&e){var n=ao();Ka("context",cu(2,EH)),Ir(1),Po(" ",n.text," ")}}var TH=function(e){return{field:e}},FH=function(e,t){return{field:e,type:"groupIndicator",hint:t}};function AH(e,t){if(1&e){var n=eo();$a(0,"div",3),$a(1,"div",4),io("directionChange",(function(e){return un(n),ao().directionChange(e)}))("remove",(function(e){return un(n),ao().remove(e)})),Za(),Za()}if(2&e){var i=t.$implicit,r=t.index,s=ao();Ka("context",hu(5,TH,i.field)),Ir(1),Ka("enableDrag",!0)("context",fu(7,FH,i.field,s.groupTitles[r]))("group",i)("groupTitle",s.groupTitles[r])}}function DH(e,t){1&e&&($a(0,"div",3),Oo(1,"\xa0"),Za()),2&e&&Ka("context",cu(1,EH))}var OH=["kendoGroupIndicator",""],RH=["anchor"],PH=["template"];function LH(e,t){if(1&e){var n=eo();$a(0,"kendo-grid-filter-menu-container",4),io("close",(function(){return un(n),ao().close()}))("keydown.escape",(function(){return un(n),ao().close()}))("keydown.enter",(function(e){return un(n),e.stopImmediatePropagation()})),Za()}if(2&e){var i=ao();Ka("column",i.column)("filter",i.filter)}}var NH=function(e){return{"k-grid-filter":!0,"k-state-active":e}},MH=function(e,t){return{service:e,column:t}};function VH(e,t){if(1&e&&Xa(0,5),2&e){var n=ao(),i=za(6);Ka("ngTemplateOutlet",n.column.columnMenuTemplateRef||n.columnMenuTemplate||i)("ngTemplateOutletContext",fu(2,MH,n.service,n.column))}}function HH(e,t){if(1&e&&Ya(0,"kendo-grid-columnmenu-sort",10,11),2&e){var n=za(1),i=ao(2);Ka("kendoGridColumnMenuItem",n)("service",i.service)}}function jH(e,t){if(1&e&&Ya(0,"kendo-grid-columnmenu-lock",10,12),2&e){var n=za(1),i=ao(2);Ka("kendoGridColumnMenuItem",n)("service",i.service)}}function BH(e,t){if(1&e&&Ya(0,"kendo-grid-columnmenu-stick",10,13),2&e){var n=za(1),i=ao(2);Ka("kendoGridColumnMenuItem",n)("service",i.service)}}function zH(e,t){if(1&e&&Ya(0,"kendo-grid-columnmenu-position",14,15),2&e){var n=za(1),i=ao(2);Ka("showLock",i.hasLock)("showStick",i.hasStick)("kendoGridColumnMenuItem",n)("service",i.service)("expanded",i.expandedPosition)}}function UH(e,t){if(1&e&&Ya(0,"kendo-grid-columnmenu-chooser",16,17),2&e){var n=za(1),i=ao(2);Ka("kendoGridColumnMenuItem",n)("service",i.service)("expanded",i.expandedColumns)}}function GH(e,t){if(1&e&&Ya(0,"kendo-grid-columnmenu-filter",16,18),2&e){var n=za(1),i=ao(2);Ka("kendoGridColumnMenuItem",n)("service",i.service)("expanded",i.expandedFilter)}}function qH(e,t){if(1&e){var n=eo();$a(0,"kendo-grid-columnmenu-container",6),io("keydown.escape",(function(){return un(n),ao().close()}))("keydown.enter",(function(e){return un(n),e.stopImmediatePropagation()})),Ba(1,HH,2,2,"kendo-grid-columnmenu-sort",7),Ba(2,jH,2,2,"kendo-grid-columnmenu-lock",7),Ba(3,BH,2,2,"kendo-grid-columnmenu-stick",7),Ba(4,zH,2,5,"kendo-grid-columnmenu-position",8),Ba(5,UH,2,3,"kendo-grid-columnmenu-chooser",9),Ba(6,GH,2,3,"kendo-grid-columnmenu-filter",9),Za()}if(2&e){var i=ao();Ir(1),Ka("ngIf",i.hasSort),Ir(1),Ka("ngIf",i.hasLock&&!i.hasPosition),Ir(1),Ka("ngIf",i.hasStick&&!i.hasPosition),Ir(1),Ka("ngIf",i.hasPosition),Ir(1),Ka("ngIf",i.hasColumnChooser),Ir(1),Ka("ngIf",i.hasFilter)}}var KH=function(e){return{"k-state-active":e}},WH=["kendoGridHeader",""];function $H(e,t){1&e&&Ya(0,"th",7)}function ZH(e,t){1&e&&Ya(0,"th",8),2&e&&Ka("logicalRowIndex",ao().index)("logicalColIndex",0)}function YH(e,t){if(1&e&&Ya(0,"kendo-grid-filter-menu",16),2&e){var n=ao(3).$implicit,i=ao(3);Ka("column",n)("filter",i.filter)("tabIndex",i.tabIndex)}}function QH(e,t){if(1&e&&Ya(0,"kendo-grid-column-menu",17),2&e){var n=ao(3).$implicit,i=ao(3);Ka("standalone",!1)("settings",i.columnMenu)("column",n)("columnMenuTemplate",i.columnMenuTemplate)("sort",i.sort)("filter",i.filter)("sortable",i.sortable)("tabIndex",i.tabIndex)}}function JH(e,t){}function XH(e,t){1&e&&Oo(0),2&e&&Ro(ao(3).$implicit.displayTitle)}var ej=function(e,t,n,i){return{templateRef:e,columnIndex:t,column:n,$implicit:i}};function tj(e,t){if(1&e&&(Ba(0,YH,1,3,"kendo-grid-filter-menu",13),Ba(1,QH,1,8,"kendo-grid-column-menu",14),Ba(2,JH,0,0,"ng-template",15),Ba(3,XH,1,1,"ng-template",0)),2&e){var n=ao(2).$implicit,i=ao(3);Ka("ngIf",i.showFilterMenu&&i.isFilterable(n)),Ir(1),Ka("ngIf",i.showColumnMenu(n)),Ir(1),Ka("templateContext",pu(4,ej,n.headerTemplateRef,n.leafIndex,n,n)),Ir(1),Ka("ngIf",!n.headerTemplateRef)}}function nj(e,t){}function ij(e,t){if(1&e&&($a(0,"span",24),Oo(1),Za()),2&e){var n=ao(3).$implicit;Ir(1),Ro(n.displayTitle)}}function rj(e,t){if(1&e&&($a(0,"span",25),Oo(1),Za()),2&e){var n=ao(3).$implicit,i=ao(3);Ir(1),Ro(i.sortOrder(n.field))}}function sj(e,t){if(1&e&&Ya(0,"kendo-grid-filter-menu",16),2&e){var n=ao(3).$implicit,i=ao(3);Ka("column",n)("filter",i.filter)("tabIndex",i.tabIndex)}}function aj(e,t){if(1&e&&Ya(0,"kendo-grid-column-menu",17),2&e){var n=ao(3).$implicit,i=ao(3);Ka("standalone",!1)("settings",i.columnMenu)("column",n)("columnMenuTemplate",i.columnMenuTemplate)("sort",i.sort)("filter",i.filter)("sortable",i.sortable)("tabIndex",i.tabIndex)}}function oj(e,t){if(1&e){var n=eo();$a(0,"span",18),$a(1,"span",19,20),io("click",(function(e){un(n);var t=za(2),i=ao(2).$implicit;return ao(3).onSortClick(i,e,t)})),Ba(3,nj,0,0,"ng-template",15),Ba(4,ij,2,1,"ng-template",0),Ya(5,"span",21),Ba(6,rj,2,1,"span",22),Za(),Ya(7,"span",23),Ba(8,sj,1,3,"kendo-grid-filter-menu",13),Ba(9,aj,1,8,"kendo-grid-column-menu",14),Za()}if(2&e){var i=ao(2).$implicit,r=ao(3);Ir(3),Ka("templateContext",pu(8,ej,i.headerTemplateRef,i.leafIndex,i,i)),Ir(1),Ka("ngIf",!i.headerTemplateRef),Ir(1),Ka("ngClass",r.sortIcon(i.field)),Ha("aria-label",r.sortableLabel),Ir(1),Ka("ngIf",r.showSortNumbering(i)),Ir(1),Ka("innerHtml",r.sortStatus(i),sr),Ir(1),Ka("ngIf",r.showFilterMenu&&r.isFilterable(i)),Ir(1),Ka("ngIf",r.showColumnMenu(i))}}function lj(e,t){if(1&e&&Ya(0,"input",26),2&e){var n=ao(5);Ha("id",n.selectAllCheckboxId())("aria-label",n.selectAllCheckboxLabel)}}function uj(e,t){if(1&e&&Ya(0,"span",27),2&e){var n=ao(2).$implicit,i=ao(3);Ka("column",n)("columns",i.columns)}}var cj=function(e,t,n,i){return{field:e,type:"column",column:t,hint:n,lastColumn:i}};function hj(e,t){if(1&e){var n=eo();$a(0,"th",11),io("keydown",(function(e){un(n);var t=ao().$implicit;return ao(3).onHeaderKeydown(t,e)})),Ba(1,tj,4,9,"ng-template",0),Ba(2,oj,10,13,"ng-template",0),Ba(3,lj,1,2,"ng-template",0),Ba(4,uj,1,2,"span",12),Za()}if(2&e){var i=ao(),r=i.$implicit,s=i.index,a=i.last,o=ao().index,l=ao(2);Co("k-filterable",l.showFilterMenu&&l.isFilterable(r)||l.showColumnMenu(r))("k-first",l.isFirstOnRow(r,s))("k-grid-header-sticky",r.sticky),Ka("logicalRowIndex",o)("logicalColIndex",l.logicalColumnIndex(r))("headerLabelText",r.title||r.field)("colSpan",r.colspan)("rowSpan",r.rowspan(l.totalColumnLevels))("enableDrag",l.shouldActivate(r))("context",pu(22,cj,r.field,r,r.title||r.field,a&&0===s))("ngClass",r.headerClass)("ngStyle",r.sticky?l.addStickyStyles(r):r.headerStyle),Ha("aria-sort",l.sortState(r))("rowspan",r.rowspan(l.totalColumnLevels))("colspan",r.colspan),Ir(1),Ka("ngIf",!l.isSortable(r)),Ir(1),Ka("ngIf",l.isSortable(r)),Ir(1),Ka("ngIf",l.isCheckboxColumn(r)&&!r.headerTemplateRef&&r.showSelectAll),Ir(1),Ka("ngIf",l.resizable)}}function fj(e,t){if(1&e&&Ya(0,"kendo-grid-column-menu",30),2&e){var n=ao(2).$implicit,i=ao(3);Ka("standalone",!1)("settings",i.columnMenu)("column",n)("columnMenuTemplate",i.columnMenuTemplate)}}function dj(e,t){}function pj(e,t){1&e&&Oo(0),2&e&&Ro(ao(2).$implicit.displayTitle)}function vj(e,t){if(1&e&&Ya(0,"span",27),2&e){var n=ao(2).$implicit,i=ao(3);Ka("column",n)("columns",i.columns)}}var gj=function(e,t,n){return{type:"columnGroup",column:e,hint:t,lastColumn:n}};function mj(e,t){if(1&e&&($a(0,"th",28),Ba(1,fj,1,4,"kendo-grid-column-menu",29),Ba(2,dj,0,0,"ng-template",15),Ba(3,pj,1,1,"ng-template",0),Ba(4,vj,1,2,"span",12),Za()),2&e){var n=ao(),i=n.$implicit,r=n.index,s=n.last,a=ao().index,o=ao(2);Co("k-first",o.isFirstOnRow(i,r))("k-filterable",o.showColumnMenu(i))("k-grid-content-sticky",i.sticky),Ka("logicalRowIndex",a)("logicalColIndex",o.logicalColumnIndex(i))("rowSpan",i.rowspan(o.totalColumnLevels))("colSpan",i.colspan)("headerLabelText",i.title||i.field)("enableDrag",o.shouldActivate(i))("context",du(21,gj,i,i.title,s&&0===r))("ngClass",i.headerClass)("ngStyle",i.headerStyle),Ha("rowspan",i.rowspan(o.totalColumnLevels))("colspan",i.colspan),Ir(1),Ka("ngIf",o.showColumnMenu(i)),Ir(1),Ka("templateContext",pu(25,ej,i.headerTemplateRef,o.lockedColumnsCount+r,i,i)),Ir(1),Ka("ngIf",!i.headerTemplateRef),Ir(1),Ka("ngIf",o.resizable)}}function yj(e,t){if(1&e&&(Ba(0,hj,5,27,"th",9),Ba(1,mj,5,30,"th",10)),2&e){var n=t.$implicit,i=ao(3);Ka("ngIf",!i.isColumnGroupComponent(n)),Ir(1),Ka("ngIf",i.isColumnGroupComponent(n))}}function kj(e,t){if(1&e&&($a(0,"tr",3),Ba(1,$H,1,0,"th",4),Ba(2,ZH,1,2,"th",5),Ba(3,yj,2,2,"ng-template",6),Za()),2&e){var n=t.index,i=ao(2);Ka("logicalRowIndex",n)("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),Ir(1),Ka("ngForOf",i.groups),Ir(1),Ka("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),Ir(1),Ka("ngForOf",i.columnsForLevel(n))("ngForTrackBy",i.trackByIndex)}}function bj(e,t){if(1&e&&Ya(0,"tr",31),2&e){var n=ao(2);Ka("columns",n.leafColumns)("filter",n.filter)("groups",n.groups)("detailTemplate",n.detailTemplate)("lockedColumnsCount",n.lockedColumnsCount)("logicalRowIndex",n.totalColumnLevels+1)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount)}}function Cj(e,t){if(1&e&&(Ba(0,kj,4,8,"tr",1),Ba(1,bj,1,9,"tr",2)),2&e){var n=ao();Ka("ngForOf",n.columnLevels),Ir(1),Ka("ngIf",n.showFilterRow)}}var wj=["resetButton"],_j=["filterButton"];function Sj(e,t){if(1&e&&(Qa(0),Xa(1,9),Ja()),2&e){var n=ao();Ir(1),Ka("filterService",n.childService)("column",n.column)("filter",n.childFilter)("menuTabbingService",n.menuTabbingService)}}function xj(e,t){}function Ej(e,t){if(1&e&&Ba(0,xj,0,0,"ng-template",11),2&e){var n=ao(2);Ka("ngTemplateOutlet",n.column.filterMenuTemplateRef)("ngTemplateOutletContext",n.templateContext)}}function Ij(e,t){if(1&e&&(Qa(0),Ba(1,Ej,1,2,void 0,10),Ja()),2&e){var n=ao();Ir(1),Ka("ngIf",n.column.filterMenuTemplateRef)}}function Tj(e,t){if(1&e){var n=eo();$a(0,"kendo-dropdownlist",3),io("valueChange",(function(e){return un(n),ao().logicChange(e)})),Za()}if(2&e){var i=ao();Ka("filterMenuDropDownLabel",i.filterMenuDropDownLabel)("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function Fj(e,t){if(1&e&&Ya(0,"kendo-grid-string-filter-menu-input",4),2&e){var n=ao();Ka("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)("menuTabbingService",n.menuTabbingService)}}function Aj(e,t){if(1&e){var n=eo();$a(0,"kendo-dropdownlist",3),io("valueChange",(function(e){return un(n),ao().logicChange(e)})),Za()}if(2&e){var i=ao();Ka("filterMenuDropDownLabel",i.filterMenuDropDownLabel)("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function Dj(e,t){if(1&e&&Ya(0,"kendo-grid-numeric-filter-menu-input",4),2&e){var n=ao();Ka("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)("format",n.format)("decimals",n.decimals)("spinners",n.spinners)("min",n.min)("max",n.max)("step",n.step)("menuTabbingService",n.menuTabbingService)}}function Oj(e,t){if(1&e){var n=eo();$a(0,"kendo-dropdownlist",3),io("valueChange",(function(e){return un(n),ao().logicChange(e)})),Za()}if(2&e){var i=ao();Ka("filterMenuDropDownLabel",i.filterMenuDropDownLabel)("data",i.logicOperators)("valuePrimitive",!0)("value",null==i.filter?null:i.filter.logic)}}function Rj(e,t){if(1&e&&Ya(0,"kendo-grid-date-filter-menu-input",4),2&e){var n=ao();Ka("operators",n.operators)("currentFilter",n.secondFilter)("filterService",n.filterService)("column",n.column)("filter",n.filter)("activeView",n.activeView)("bottomView",n.bottomView)("topView",n.topView)("format",n.format)("formatPlaceholder",n.formatPlaceholder)("placeholder",n.placeholder)("min",n.min)("max",n.max)("weekNumber",n.weekNumber)("menuTabbingService",n.menuTabbingService)}}function Pj(e,t){if(1&e){var n=eo();$a(0,"li"),$a(1,"input",2,3),io("change",(function(){un(n);var e=t.$implicit,i=za(2);return ao().onChange(e.value,i)}))("keydown.shift.tab",(function(e){return un(n),ao().onShiftTab(e)})),Za(),$a(3,"label",4),Oo(4),Za(),Za()}if(2&e){var i=t.$implicit,r=ao();Ir(1),Ka("columnLabel",r.columnLabel)("name",r.idPrefix)("checked",r.isSelected(i.value)),Ha("id",r.radioId(i.value)),Ir(2),Ha("for",r.radioId(i.value)),Ir(1),Ro(i.text)}}var Lj=["applyButton"];function Nj(e,t){if(1&e&&($a(0,"label",3),Ya(1,"input",4),$a(2,"span",5),Oo(3),Za(),Za()),2&e){var n=t.$implicit,i=t.index,r=ao();Ir(1),Ka("checked",!n.hidden)("disabled",r.isDisabled(n)),Ha("data-index",i),Ir(2),Ro(n.displayTitle)}}function Mj(e,t){if(1&e){var n=eo();$a(0,"div",6),$a(1,"button",7),io("click",(function(){return un(n),ao().cancelChanges()})),Oo(2),Za(),$a(3,"button",8,9),io("keydown.tab",(function(e){return un(n),ao().onTab(e)}))("click",(function(){return un(n),ao().applyChanges()})),Oo(5),Za(),Za()}if(2&e){var i=ao();Ka("ngClass",i.actionsClass),Ir(2),Ro(i.resetText),Ir(3),Ro(i.applyText)}}function Vj(e,t){if(1&e){var n=eo();$a(0,"span",4),Oo(1),Za(),$a(2,"kendo-grid-columnlist",5),io("apply",(function(e){return un(n),ao().onApply(e)}))("columnChange",(function(e){return un(n),ao().onChange(e)})),Za()}if(2&e){var i=ao();Ir(1),Ro(i.localization.get("columns")),Ir(1),Ka("columns",i.columns)("applyText",i.localization.get("columnsApply"))("resetText",i.localization.get("columnsReset"))("autoSync",i.autoSync)("allowHideAll",i.allowHideAll)}}function Hj(e,t){if(1&e){var n=eo();$a(0,"kendo-grid-columnlist",2),io("apply",(function(e){return un(n),ao().onApply(e)})),Za()}if(2&e){var i=ao();Ka("applyText",i.localization.get("columnsApply"))("resetText",i.localization.get("columnsReset"))("columns",i.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",i.actionsClass)("isLast",i.isLast)("isExpanded",i.expanded)("service",i.service)}}function jj(e,t){if(1&e){var n=eo();$a(0,"kendo-grid-filter-menu-container",2),io("keydown.shift.tab",(function(e){return un(n),e.stopImmediatePropagation()}))("close",(function(){return un(n),ao().close()})),Za()}if(2&e){var i=ao();Ka("column",i.service.column)("menuTabbingService",i.service.menuTabbingService)("filter",i.service.filter)("actionsClass",i.actionsClass)("isLast",i.isLast)("isExpanded",i.expanded)}}function Bj(e,t){1&e&&Ya(0,"span",3),2&e&&Ka("ngClass",ao().iconClass)}function zj(e,t){if(1&e&&($a(0,"div",4),Xa(1,5),Ya(2,"div"),Za()),2&e){var n=ao();Ka("@state",n.contentState),Ir(1),Ka("ngTemplateOutlet",n.contentTemplate.templateRef)}}function Uj(e,t){if(1&e){var n=eo();$a(0,"kendo-grid-columnmenu-lock",3),io("keydown.tab",(function(e){un(n);var t=ao(2);return t.onTab(e,!t.showStick)})),Za()}2&e&&Ka("service",ao(2).service)}function Gj(e,t){if(1&e){var n=eo();$a(0,"kendo-grid-columnmenu-stick",3),io("keydown.tab",(function(e){return un(n),ao(2).onTab(e,!0)})),Za()}2&e&&Ka("service",ao(2).service)}function qj(e,t){if(1&e&&(Ba(0,Uj,1,1,"kendo-grid-columnmenu-lock",2),Ba(1,Gj,1,1,"kendo-grid-columnmenu-stick",2)),2&e){var n=ao();Ka("ngIf",n.showLock),Ir(1),Ka("ngIf",n.showStick)}}var Kj=["kendoGridTableBody",""];function Wj(e,t){1&e&&Ya(0,"td",8)}function $j(e,t){1&e&&Ba(0,Wj,1,0,"td",7),2&e&&Ka("ngForOf",ao(2).groups)}function Zj(e,t){1&e&&Ya(0,"td",9),2&e&&Ka("logicalRowIndex",ao(2).addRowLogicalIndex())("logicalColIndex",0)}function Yj(e,t){if(1&e&&Ya(0,"td",10),2&e){var n=t.$implicit,i=t.index,r=ao(2);bo("left",n.sticky?"0":void 0),Co("k-grid-content-sticky",n.sticky),Ka("rowIndex",-1)("columnIndex",r.lockedColumnsCount+i)("isNew",!0)("column",n)("dataItem",r.newDataItem)("ngClass",n.cssClass)("ngStyle",n.sticky?r.addStickyColumnStyles(n):n.style)("logicalRowIndex",r.addRowLogicalIndex())("logicalColIndex",r.logicalColIndex(n))("colSpan",n.colspan),Ha("colspan",n.colspan)}}function Qj(e,t){if(1&e&&($a(0,"tr",4),Ba(1,$j,1,1,"ng-template",0),Ba(2,Zj,1,2,"td",5),Ba(3,Yj,1,15,"td",6),Za()),2&e){var n=ao();Ka("logicalRowIndex",n.addRowLogicalIndex())("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount),Ir(1),Ka("ngIf",!n.skipGroupDecoration),Ir(1),Ka("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),Ir(1),Ka("ngForOf",n.columns)("ngForTrackBy",n.trackByColumns)}}function Jj(e,t){}function Xj(e,t){if(1&e&&(Qa(0),Oo(1),Ja()),2&e){var n=ao(2);Ir(1),Po(" ",n.noRecordsText," ")}}var eB=function(e){return{templateRef:e}};function tB(e,t){if(1&e&&($a(0,"tr",11),$a(1,"td"),Ba(2,Jj,0,0,"ng-template",12),Ba(3,Xj,2,1,"ng-container",13),Za(),Za()),2&e){var n=ao();Ir(1),Ha("colspan",n.colSpan),Ir(1),Ka("ngIf",null==n.noRecordsTemplate?null:n.noRecordsTemplate.templateRef)("templateContext",hu(4,eB,null==n.noRecordsTemplate?null:n.noRecordsTemplate.templateRef)),Ir(1),Ka("ngIf",!(null!=n.noRecordsTemplate&&n.noRecordsTemplate.templateRef))}}function nB(e,t){if(1&e&&Ya(0,"tr",18),2&e){var n=ao(),i=n.$implicit,r=n.index,s=ao();Ka("columns",s.columns)("groups",s.groups)("item",i)("hasDetails",null==s.detailTemplate?null:s.detailTemplate.templateRef)("skipGroupDecoration",s.skipGroupDecoration)("hasGroupHeaderColumn",s.hasGroupHeaderColumn)("groupHeaderColumns",s.groupHeaderColumns)("rowIndex",r+1)("totalColumnsCount",s.totalColumnsCount)("logicalRowIndex",s.logicalRowIndex(r))("logicalSlaveRow",s.lockedColumnsCount>0)("logicalCellsCount",s.columns.length)("logicalSlaveCellsCount",s.groupHeaderSlaveCellsCount)}}function iB(e,t){1&e&&Ya(0,"td",8)}function rB(e,t){1&e&&Ba(0,iB,1,0,"td",7),2&e&&Ka("ngForOf",ao(3).groups)}function sB(e,t){if(1&e){var n=eo();$a(0,"a",24),io("click",(function(){un(n);var e=ao(3).$implicit;return ao().toggleRow(e.index,e.data)})),Za()}if(2&e){var i=ao(3).$implicit,r=ao();Ka("ngClass",r.detailButtonStyles(i)),Ha("title",r.detailButtonTitle(i))}}function aB(e,t){if(1&e&&($a(0,"td",22),Ba(1,sB,1,2,"a",23),Za()),2&e){var n=ao(2),i=n.index,r=n.$implicit,s=ao();Ka("logicalRowIndex",s.logicalRowIndex(i))("logicalColIndex",0)("dataRowIndex",r.index)("dataItem",r.data)("detailExpandCell",!0),Ir(1),Ka("ngIf",s.detailTemplate.showIf(r.data,r.index))}}function oB(e,t){if(1&e&&Ya(0,"td",25),2&e){var n=t.$implicit,i=t.index,r=ao(2),s=r.$implicit,a=r.index,o=ao();Co("k-grid-content-sticky",n.sticky)("k-touch-action-none",o.isSelectable()&&o.selectable.drag)("k-touch-action-auto",!(o.isSelectable()&&o.selectable.drag))("k-grid-edit-cell",o.isEditingCell(s.index,n))("k-state-selected",o.isSelectable&&o.cellSelectionService.isCellSelected(s,n)),Ka("rowIndex",s.index)("columnIndex",o.lockedColumnsCount+i)("column",n)("dataItem",s.data)("logicalRowIndex",o.logicalRowIndex(a))("logicalColIndex",o.logicalColIndex(n))("dataRowIndex",s.index)("dataItem",s.data)("colIndex",i)("colSpan",n.colspan)("ngClass",n.cssClass)("ngStyle",n.sticky?o.addStickyColumnStyles(n):n.style),Ha("data-kendo-grid-column-index",o.lockedColumnsCount+i)("aria-selected",o.isSelectable()?o.isAriaSelected(s,n):void 0)("colspan",n.colspan)}}var lB=function(e,t){return{dataItem:e,index:t}};function uB(e,t){if(1&e&&($a(0,"tr",19),Ba(1,rB,1,1,"ng-template",0),Ba(2,aB,2,6,"td",20),Ba(3,oB,1,25,"td",21),Za()),2&e){var n=ao(),i=n.$implicit,r=n.index,s=ao();Co("k-grid-row-sticky",!!s.rowSticky&&s.rowSticky(fu(22,lB,i.data,i.index)))("k-alt",s.isOdd(i))("k-master-row",null==s.detailTemplate?null:s.detailTemplate.templateRef)("k-grid-edit-row",s.isEditingRow(i.index))("k-state-selected",s.isSelectable()&&s.isRowSelected(i)),Ka("dataRowIndex",i.index)("dataItem",i.data)("logicalRowIndex",s.logicalRowIndex(r))("logicalSlaveRow",s.lockedColumnsCount>0)("logicalCellsCount",s.columns.length)("logicalSlaveCellsCount",s.unlockedColumnsCount)("ngClass",s.rowClass(fu(25,lB,i.data,i.index))),Ha("data-kendo-grid-item-index",i.index),Ir(1),Ka("ngIf",!s.skipGroupDecoration),Ir(1),Ka("ngIf",null==s.detailTemplate?null:s.detailTemplate.templateRef),Ir(1),Ka("ngForOf",s.columns)("ngForTrackBy",s.trackByColumns)}}function cB(e,t){1&e&&Ya(0,"td",31)}function hB(e,t){}var fB=function(e,t,n){return{dataItem:e,rowIndex:t,$implicit:n}};function dB(e,t){if(1&e&&($a(0,"tr",26),Ba(1,cB,1,0,"td",27),Ya(2,"td",28),$a(3,"td",29),Ba(4,hB,0,0,"ng-template",30),Za(),Za()),2&e){var n=ao(),i=n.$implicit,r=n.index,s=ao();Co("k-alt",s.isOdd(i)),Ka("dataRowIndex",i.index)("dataItem",i.data)("logicalRowIndex",s.logicalRowIndex(r)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),Ir(1),Ka("ngForOf",s.groups),Ir(2),Ka("logicalRowIndex",s.logicalRowIndex(r)+1)("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("colIndex",0)("colSpan",s.allColumnsSpan+1),Ha("colspan",s.columnsSpan),Ir(1),Ka("ngTemplateOutlet",s.detailTemplate.templateRef)("ngTemplateOutletContext",du(17,fB,i.data,i.index,i.data))}}function pB(e,t){1&e&&Ya(0,"td",31)}function vB(e,t){1&e&&Ba(0,pB,1,0,"td",27),2&e&&Ka("ngForOf",ao(3).groups)}function gB(e,t){if(1&e&&Ya(0,"td",9),2&e){var n=ao(2).index;Ka("logicalRowIndex",ao().logicalRowIndex(n))("logicalColIndex",0)}}function mB(e,t){}var yB=function(e,t,n,i,r,s){return{templateRef:e,group:t,field:n,column:i,aggregates:r,$implicit:s}};function kB(e,t){if(1&e&&($a(0,"td",34),Ba(1,mB,0,0,"ng-template",35),Za()),2&e){var n=t.$implicit,i=ao(2),r=i.index,s=i.$implicit,a=ao();Ka("logicalRowIndex",a.logicalRowIndex(r))("logicalColIndex",a.logicalColIndex(n)),Ha("data-skip",a.skipGroupDecoration),Ir(1),Ka("templateContext",vu(4,yB,n.groupFooterTemplateRef,s.data,n.field,n,null==s.data?null:s.data.aggregates,null==s.data?null:s.data.aggregates))}}function bB(e,t){if(1&e&&($a(0,"tr",32),Ba(1,vB,1,1,"ng-template",0),Ba(2,gB,1,2,"td",5),Ba(3,kB,2,11,"td",33),Za()),2&e){var n=ao().index,i=ao();Ka("logicalRowIndex",i.logicalRowIndex(n))("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),Ir(1),Ka("ngIf",!i.skipGroupDecoration),Ir(1),Ka("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),Ir(1),Ka("ngForOf",i.footerColumns)("ngForTrackBy",i.trackByColumns)}}function CB(e,t){if(1&e&&(Ba(0,nB,1,13,"tr",14),Ba(1,uB,4,28,"tr",15),Ba(2,dB,5,21,"tr",16),Ba(3,bB,4,8,"tr",17)),2&e){var n=t.$implicit,i=ao();Ka("ngIf",i.isGroup(n)&&i.isParentGroupExpanded(n)&&i.showGroupHeader(n)),Ir(1),Ka("ngIf",i.isDataItem(n)&&(!n.group||i.isDataItemInExpandedGroup(n))),Ir(1),Ka("ngIf",i.isDataItem(n)&&(!n.group||i.isDataItemInExpandedGroup(n))&&(null==i.detailTemplate?null:i.detailTemplate.templateRef)&&i.detailTemplate.showIf(n.data,n.index)&&i.isExpanded(n)),Ir(1),Ka("ngIf",i.isFooter(n)&&n.group&&(i.isFooterItemInExpandedGroup(n)||i.showGroupFooters&&i.isParentGroupExpanded(n.group))&&!n.data.hideFooter)}}function wB(e,t){if(1&e){var n=eo();$a(0,"kendo-resize-sensor",36),io("resize",(function(){return un(n),ao().resizeHandler()})),Za()}}var _B=["kendoGridCell",""];function SB(e,t){}function xB(e,t){if(1&e&&(Oo(0),bu(1,"valueOf")),2&e){var n=t.$implicit;Po(" ",wu(1,1,ao(3).dataItem,n.field,n.format)," ")}}function EB(e,t){1&e&&Ba(0,xB,2,5,"ng-template",4),2&e&&Ka("ngForOf",ao(2).childColumns)}function IB(e,t){if(1&e&&(Oo(0),bu(1,"valueOf")),2&e){var n=ao(2);Ro(wu(1,1,n.dataItem,n.column.field,n.column.format))}}function TB(e,t){if(1&e&&Ya(0,"input",5),2&e){var n=ao(2);Ka("kendoGridSelectionCheckbox",n.rowIndex),Ha("id",n.selectionCheckboxId)("aria-label",n.selectionCheckboxLabel)}}function FB(e,t){if(1&e&&(Qa(0),Ba(1,SB,0,0,"ng-template",2),Ba(2,EB,1,1,"ng-template",3),Ba(3,IB,2,5,"ng-template",3),Ba(4,TB,1,3,"ng-template",3),Ja()),2&e){var n=ao();Ir(1),Ka("ngIf",n.column.templateRef)("ngTemplateOutlet",n.column.templateRef)("ngTemplateOutletContext",n.templateContext),Ir(1),Ka("ngIf",n.isSpanColumn),Ir(1),Ka("ngIf",n.isBoundColumn),Ir(1),Ka("ngIf",n.isCheckboxColumn&&!n.isNew)}}function AB(e,t){}function DB(e,t){if(1&e&&Ba(0,AB,0,0,"ng-template",8),2&e){var n=ao(2);Ka("ngTemplateOutlet",n.column.editTemplateRef)("ngTemplateOutletContext",n.editTemplateContext)}}function OB(e,t){if(1&e&&Ya(0,"kendo-numerictextbox",12),2&e){var n=ao(3);Ka("format",n.format)("formControl",n.formGroup.get(n.column.field))}}function RB(e,t){if(1&e&&Ya(0,"kendo-datepicker",12),2&e){var n=ao(3);Ka("format",n.format)("formControl",n.formGroup.get(n.column.field))}}function PB(e,t){if(1&e&&Ya(0,"input",13),2&e){var n=ao(3);Ka("formControl",n.formGroup.get(n.column.field))}}function LB(e,t){if(1&e&&Ya(0,"input",14),2&e){var n=ao(3);Ka("formControl",n.formGroup.get(n.column.field))}}function NB(e,t){1&e&&(Qa(0,0),Ba(1,OB,1,2,"kendo-numerictextbox",9),Ba(2,RB,1,2,"kendo-datepicker",9),Ba(3,PB,1,1,"input",10),Ba(4,LB,1,1,"input",11),Ja()),2&e&&(Ka("ngSwitch",ao(2).column.editor),Ir(1),Ka("ngSwitchCase","numeric"),Ir(1),Ka("ngSwitchCase","date"),Ir(1),Ka("ngSwitchCase","boolean"))}function MB(e,t){if(1&e&&(Qa(0),Ba(1,DB,1,2,void 0,6),Ba(2,NB,5,4,"ng-container",7),Ja()),2&e){var n=ao();Ir(1),Ka("ngIf",n.column.editTemplateRef),Ir(1),Ka("ngIf",!n.column.editTemplateRef)}}var VB=["kendoGridFooter",""];function HB(e,t){1&e&&Ya(0,"td",5),2&e&&Co("k-group-cell",!0)}function jB(e,t){1&e&&Ya(0,"td",5),2&e&&Co("k-hierarchy-cell",!0)}function BB(e,t){}function zB(e,t){if(1&e&&($a(0,"td",6),Ba(1,BB,0,0,"ng-template",7),Za()),2&e){var n=t.$implicit,i=t.index,r=ao(2);Co("k-grid-footer-sticky",n.sticky),Ka("logicalRowIndex",r.logicalRowIndex)("logicalColIndex",r.logicalColumnIndex(n))("ngClass",n.footerClass)("ngStyle",n.sticky?r.addStickyStyles(n):n.footerStyle),Ir(1),Ka("templateContext",pu(7,ej,n.footerTemplateRef,r.lockedColumnsCount+i,n,n))}}function UB(e,t){if(1&e&&($a(0,"tr",1),Ba(1,HB,1,2,"td",2),Ba(2,jB,1,2,"td",3),Ba(3,zB,2,12,"td",4),Za()),2&e){var n=ao();Co("k-footer-template",!0),Ka("logicalRowIndex",n.logicalRowIndex)("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.columns.length-n.lockedColumnsCount),Ir(1),Ka("ngForOf",n.groups),Ir(1),Ka("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),Ir(1),Ka("ngForOf",n.columnsToRender)}}function GB(e,t){}function qB(e,t){if(1&e&&Ba(0,GB,0,0,"ng-template",1),2&e){var n=ao();Ka("ngTemplateOutlet",n.toolbarTemplateRef)("ngTemplateOutletContext",n.context)}}var KB=/^\s*$/,WB=function(e){return null!=e},$B=function(e){return null==e},ZB=function(e){return Array.isArray(e)},YB=function(e){return!!e},QB=function(e){return $B(e)||KB.test(e)},JB=function(e){return re(qv(e),e.changes)},XB=function(){return"undefined"==typeof document},ez=function(e){return"string"==typeof e},tz=function(e){return"number"==typeof e&&!isNaN(e)},nz=function(e){return ez(e)&&!QB(e)&&e.startsWith("{0:")?e.slice(3,e.length-1):e},iz=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return!e.apply(null,n)}},rz=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t||n(e)}),!1)}},sz=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(t,n){return t&&n(e)}),!0)}},az=function(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;for(var e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype,n=0;n<e.length;++n){var i=e[n];if("entries"!==i&&"size"!==i&&t[i]===t.entries)return i}}();var oz,lz,uz,cz,hz,fz,dz,pz,vz,gz,mz,yz,kz,bz,Cz,wz,_z,Sz,xz,Ez,Iz="undefined"!=typeof window?window:{},Tz=Iz.requestAnimationFrame||Iz.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},Fz=Iz.cancelAnimationFrame||Iz.msCancelRequestAnimationFrame||clearTimeout,Az=function(e,t,n){return e.replace(new RegExp("{\\s*".concat(t,"\\s*}"),"g"),n)},Dz=((lz=function e(){_classCallCheck(this,e),this.cellClick=new xu,this.cellMousedown=new xu,this.cellMouseup=new xu,this.click=new xu,this.keydown=new xu,this.focus=new xu,this.focusIn=new xu,this.focusOut=new xu,this.windowBlur=new xu}).\u0275prov=Ce({token:lz,factory:lz.\u0275fac=function(e){return new(e||lz)}}),lz),Oz=((oz=function e(){_classCallCheck(this,e),this.changes=new xu}).\u0275prov=Ce({token:oz,factory:oz.\u0275fac=function(e){return new(e||oz)}}),oz),Rz=new Ye("focus-root-initial-active-state"),Pz=((uz=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,e),this.active=t,this.groups=new Set}return _createClass(e,[{key:"registerGroup",value:function(e){this.active&&this.groups.add(e)}},{key:"unregisterGroup",value:function(e){this.active&&this.groups.delete(e)}},{key:"activate",value:function(){this.active&&this.groups.forEach((function(e){return e.activate()}))}},{key:"deactivate",value:function(){this.active&&this.groups.forEach((function(e){return e.deactivate()}))}}]),e}()).\u0275fac=function(e){return new(e||uz)(st(Rz,8))},uz.\u0275prov=Ce({token:uz,factory:uz.\u0275fac}),uz),Lz=/^(?:a|input|select|option|textarea|button|object)$/i,Nz={},Mz=function(e){return String(e).trim().split(" ")},Vz=function(e,t){var n=Mz(t);return Boolean(Mz(e.className).find((function(e){return n.indexOf(e)>=0})))},Hz=function(e){return function(t){return Vz(t,e)}},jz=function(e){return Nz[e]||(Nz[e]=function(t){return String(t.nodeName).toLowerCase()===e.toLowerCase()}),Nz[e]},Bz=function(e,t){for(;e&&!t(e);)e=e.parentNode;return e},zz=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},Uz=function(e){var t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility},Gz=function(e){if(!e.tagName)return!1;var t=e.tagName.toLowerCase(),n=Boolean(e.getAttribute("tabIndex"));return!e.disabled&&Lz.test(t)||n},qz=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Gz(e))return!1;var n=!t||Uz(e),i="true"===e.getAttribute("aria-hidden"),r=e.getAttribute("tabIndex");return n&&!i&&"-1"!==r},Kz=function e(t,n){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t){if(i&&n(t))return t;for(t=t.firstChild;t;){if(1===t.nodeType){var r=e(t,n);if(r)return r}t=t.nextSibling}}},Wz=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Kz(e,(function(e){return qz(e,t)}),!1)},$z=jz("button"),Zz=jz("input"),Yz=/(button|checkbox|color|file|radio|reset|submit)/i,Qz=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.renderer=n,this.element=t.nativeElement,this.focusable=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Kz(i.element,(function(e){return qz(e,t)}))}(0,!1)||this.element}return _createClass(e,[{key:"enabled",get:function(){return this.focusable&&!this.focusable.disabled}},{key:"visible",get:function(){return this.focusable&&Uz(this.focusable)}},{key:"isNavigable",value:function(){return this.canFocus()&&!(e=this.element).disabled&&($z(e)||function(e){return Zz(e)&&Yz.test(e.type)}(e));var e}},{key:"toggle",value:function(e){this.renderer.setAttribute(this.focusable,"tabIndex",e?"0":"-1")}},{key:"focus",value:function(){this.focusable&&this.focusable.focus()}},{key:"canFocus",value:function(){return this.visible&&this.enabled}},{key:"hasFocus",value:function(){var e=this;return document.activeElement!==this.element&&Bz(document.activeElement,(function(t){return t===e.element}))}}]),e}(),Jz=new Ye("grid-cell-context"),Xz=((cz=function(){function e(t,n,i){_classCallCheck(this,e),this.cellContext=t,this.hostElement=n,this.renderer=i,this.active=!0,this._enabled=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}return _createClass(e,[{key:"enabled",get:function(){return this._enabled},set:function(e){(e=""===e||Boolean(e))!==this.enabled&&(this._enabled=e,this.element&&this.element.toggle(this.active&&e))}},{key:"ngAfterViewInit",value:function(){this.element||(this.element=new Qz(this.hostElement,this.renderer)),this.group&&this.element&&this.toggle(this.group.isActive)}},{key:"ngOnDestroy",value:function(){this.group&&this.group.unregisterElement(this)}},{key:"toggle",value:function(e){this.element&&e!==this.active&&(this.element.toggle(this.enabled&&e),this.active=e)}},{key:"canFocus",value:function(){return this.enabled&&this.element&&this.element.canFocus()}},{key:"isNavigable",value:function(){return this.enabled&&this.element&&this.element.isNavigable()}},{key:"focus",value:function(){this.enabled&&this.element&&this.element.focus()}},{key:"hasFocus",value:function(){return this.enabled&&this.element&&this.element.hasFocus()}},{key:"registerElement",value:function(e){this.element=e}}]),e}()).\u0275fac=function(e){return new(e||cz)(Ua(Jz,12),Ua(sl),Ua(ul))},cz.\u0275dir=At({type:cz,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]],inputs:{enabled:["kendoGridFocusable","enabled"]}}),cz),eU=function(){function e(t){_classCallCheck(this,e),this.navigationService=t}return _createClass(e,[{key:"focus",value:function(){this.navigationService.focusCell()}},{key:"toggle",value:function(e){this.navigationService.toggle(e)}},{key:"canFocus",value:function(){return!0}},{key:"hasFocus",value:function(){return this.navigationService.hasFocus()}},{key:"isNavigable",value:function(){return!1}}]),e}(),tU=function(){function e(t){_classCallCheck(this,e),this.model=t,this.changes=new M,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}return _createClass(e,[{key:"row",get:function(){return this.model.findRow(this.activeRow)}},{key:"cell",get:function(){var e=this.row;if(e)return this.model.findCell(this.activeCol,e)}},{key:"dataRowIndex",get:function(){var e=this.row;return e?e.dataRowIndex:-1}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeRow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeCol,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.activate(e,t,n)&&(this.virtualRow=e,this.virtualCol=t)}},{key:"activate",value:function(e,t,n){if(!n&&this.isActiveRange(e,t))return!1;var i=this.activeCol,r=this.activeRow;return this.activeCol=t,this.activeRow=e,this.changes.next({colIndex:t,prevColIndex:i,prevRowIndex:r,rowIndex:e}),!0}},{key:"isActiveRange",value:function(e,t){if(this.activeRow!==e)return!1;var n=this.cell,i=this.model.cellRange(n),r=i.start,s=i.end;return!Boolean(n)||r<=t&&t<=s}},{key:"assume",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.activeRow,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.activeCol;this.virtualRow=e,this.virtualCol=t,this.activeCol=t,this.activeRow=e}},{key:"announce",value:function(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}},{key:"activateVirtualCell",value:function(e){var t=this.model.rowRange(e),n=this.model.cellRange(e),i=this.activeCol,r=this.activeRow;if(t.start<=r&&r<=t.end&&n.start<=i&&i<=n.end)return this.activeRow=e.rowIndex,this.activeCol=e.colIndex,!0}},{key:"isActive",value:function(e,t){return this.activeCol===t&&this.activeRow===e}},{key:"moveUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetRow(-e)}},{key:"moveDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetRow(e)}},{key:"moveLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetCol(-e)}},{key:"moveRight",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.offsetCol(e)}},{key:"lastCellIndex",value:function(e){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||e&&e.groupItem?0:1)}},{key:"offsetCol",value:function(e){var t=this.model.findRow(this.virtualRow),n=this.lastCellIndex(t),i=this.virtualCol;this.virtualCol=Math.max(0,Math.min(i+e,n));var r=this.virtualCol,s=this.virtualRow,a=this.model.findCell(this.virtualCol,t);if(!a&&this.metadata.virtualColumns)return this.activate(s,r);if(a.colSpan>1&&a.colIndex<=i&&i<a.colIndex+a.colSpan){r=e>0?Math.min(a.colIndex+a.colSpan,n):Math.max(0,a.colIndex+e);var o=this.model.findCell(r,t);a!==o?(a=o,this.virtualCol=a.colIndex):this.virtualCol=i}return this.activate(a.rowIndex,a.colIndex)}},{key:"offsetRow",value:function(e){var t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){var n=this.metadata.maxLogicalRowIndex,i=Math.max(0,Math.min(this.activeRow+e,n));this.metadata.hasDetailTemplate&&!this.model.findRow(i)&&(i=e>0?i+1:i-1,i=Math.max(0,Math.min(i,n))),this.metadata.hasDetailTemplate&&i===n&&this.model.lastRow.index!==n&&i--;var r=this.model.findRow(i);if(r){var s=this.model.findCell(this.virtualCol,r);s.rowIndex<=this.virtualRow&&e>0&&s.rowSpan>1&&(s=this.model.findCell(this.virtualCol,this.model.findRow(s.rowIndex+s.rowSpan-1+e))),i=s.rowIndex,t=s.colIndex}return this.virtualRow=i,this.activate(i,t)}var a=this.model.findRow(this.virtualRow+e)||this.model.nextRow(this.virtualRow,e);if(!a)return!1;var o=this.model.findCell(this.virtualCol,a);return o&&o.rowIndex<=this.virtualRow&&e>0&&o.rowSpan>1&&(o=this.model.findCell(this.virtualCol,this.model.findRow(o.rowIndex+o.rowSpan-1+e))),!o&&this.metadata.virtualColumns?this.activate(this.virtualRow+e,this.virtualCol):(this.virtualRow=o.rowIndex,this.activate(this.virtualRow,o.colIndex))}}]),e}(),nU=function(){function e(){_classCallCheck(this,e),this.count=0,this.items={}}return _createClass(e,[{key:"first",get:function(){var e;if(this.count>0)return this.forEach((function(t){return e=t,!0})),e}},{key:"last",get:function(){if(this.count>0){var e=Object.keys(this.items);return this.items[e[e.length-1]]}}},{key:"removeItem",value:function(e){this.items[e]&&(delete this.items[e],this.count--)}},{key:"setItem",value:function(e,t){this.items[e]||this.count++,this.items[e]=t}},{key:"getItem",value:function(e){return this.items[e]}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"forEach",value:function(e){for(var t in this.items)if(this.items.hasOwnProperty(t)&&e(this.items[t]))return this.items[t]}},{key:"find",value:function(e){return this.forEach(e)}}]),e}(),iU=function(){function e(){_classCallCheck(this,e),this.rows=new nU}return _createClass(e,[{key:"firstRow",get:function(){return this.rows.first}},{key:"lastRow",get:function(){return this.rows.last}},{key:"registerCell",value:function(e){var t=this.rows.getItem(e.logicalRowIndex);if(t){var n=e.logicalColIndex,i={uid:e.uid,colIndex:n,rowIndex:t.index,colSpan:e.colSpan,rowSpan:e.rowSpan,detailExpandCell:e.detailExpandCell,dataItem:t.dataItem,dataRowIndex:t.dataRowIndex,focusGroup:e.focusGroup};return t.cells.setItem(n,i),e.groupItem&&(t.groupItem=e.groupItem),i}}},{key:"unregisterCell",value:function(e,t,n){var i=this.rows.getItem(t);if(i){var r=i.cells.getItem(e);r&&r.uid===n.uid&&i.cells.removeItem(e)}}},{key:"registerRow",value:function(e){var t={uid:e.uid,index:e.logicalRowIndex,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,cells:new nU};this.rows.setItem(e.logicalRowIndex,t)}},{key:"updateRow",value:function(e){var t=this.rows.getItem(e.logicalRowIndex);t&&Object.assign(t,{dataItem:e.dataItem,dataRowIndex:e.dataRowIndex})}},{key:"unregisterRow",value:function(e,t){var n=this.rows.getItem(e);n&&n.uid===t.uid&&this.rows.removeItem(e)}},{key:"cellRange",value:function(e){return e?{start:e.colIndex,end:e.colIndex+(e.colSpan||1)-1}:{}}},{key:"rowRange",value:function(e){return e?{start:e.rowIndex,end:e.rowIndex+(e.rowSpan||1)-1}:{}}},{key:"nextRow",value:function(e,t){var n=this.rows.toArray(),i=this.rows.getItem(e),r=n.indexOf(i);return n[r+t]}},{key:"findRow",value:function(e){return this.rows.getItem(e)}},{key:"findCell",value:function(e,t){if(t){for(var n=t.index,i=t.cells.getItem(e),r=n;!i&&t;)t=this.rows.getItem(r),i=this.rowCell(e,t),r--;return i&&n<=t.index+(i.rowSpan||1)-1?i:void 0}}},{key:"rowCell",value:function(e,t){if(t&&t.cells.count){for(var n,i=t.cells.first,r=e;!n&&r>=i.colIndex;)n=t.cells.getItem(r),r--;return n&&e<=n.colIndex+(n.colSpan||1)-1?n:void 0}}}]),e}(),rU=function(){function e(){_classCallCheck(this,e),this.prevented=!1}return _createClass(e,[{key:"preventDefault",value:function(){this.prevented=!0}},{key:"isDefaultPrevented",value:function(){return this.prevented}}]),e}(),sU=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).action="cellClose",Object.assign(_assertThisInitialized(i),e),i}return n}(rU),aU=function(e){return-1===e||void 0===e},oU=((hz=function(){function e(t){var n=this;_classCallCheck(this,e),this.ngZone=t,this.changes=new xu,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new M,this.changed=this.changedSource.asObservable().pipe(xg((function(){return n.ngZone.onStable.asObservable().pipe(kg(1))})))}return _createClass(e,[{key:"editRow",value:function(e,t){this.editedIndices.push({index:e,group:t}),this.onChanged()}},{key:"addRow",value:function(e){this.newItemGroup={group:e},this.onChanged()}},{key:"editCell",value:function(e,t,n){aU(e)||!1===t.editable||!t.editTemplate&&!t.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,n),this.column=t,this.onChanged()))}},{key:"isEditing",value:function(){return this.editedIndices.length>0}},{key:"isEditingCell",value:function(){return this.isEditing()&&void 0!==this.column}},{key:"hasNewItem",get:function(){return WB(this.newItemGroup)}},{key:"newDataItem",get:function(){return this.hasNewItem?this.newItemGroup.group.value:{}}},{key:"close",value:function(e){aU(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter(function(e){return function(t){return t.index!==e}}(e)),delete this.column,this.onChanged())}},{key:"closeCell",value:function(e){var t=this;if(this.column&&!this.closingCell)return this.ngZone.run((function(){var n=t.editedIndices[0],i=n.index,r=n.group,s=new sU({column:t.column,formGroup:r,originalEvent:e,rowIndex:i});return t.closingCell=!0,t.changes.emit(s),t.closingCell=!1,s.isDefaultPrevented()||t.cancelCell(),s.isDefaultPrevented()}))}},{key:"cancelCell",value:function(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}},{key:"shouldCloseCell",value:function(){return this.column&&!this.keepEditCell}},{key:"preventCellClose",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){window.clearTimeout(e.keepCellTimeout),e.keepEditCell=!0,e.keepCellTimeout=window.setTimeout((function(){e.keepEditCell=!1}),0)}))}},{key:"context",value:function(e){return aU(e)?this.newItemGroup:this.findByIndex(e)}},{key:"columnContext",value:function(e,t){return aU(e)?this.newItemGroup:this.column&&t!==this.column?void 0:this.findByIndex(e)}},{key:"isEdited",value:function(e){return!(!aU(e)||!WB(this.newItemGroup))||!this.column&&WB(this.findByIndex(e))}},{key:"hasEdited",value:function(e){return WB(this.context(e))}},{key:"isEditedColumn",value:function(e,t){return!(!this.column||this.column!==t)&&WB(this.findByIndex(e))}},{key:"beginEdit",value:function(e){this.changes.emit({action:"edit",rowIndex:e})}},{key:"beginAdd",value:function(){this.changes.emit({action:"add"})}},{key:"endEdit",value:function(e){var t=this.context(e).group;this.changes.emit({action:"cancel",rowIndex:e,formGroup:t,isNew:aU(e)})}},{key:"save",value:function(e){var t=this.context(e).group;this.changes.emit({action:"save",rowIndex:e,formGroup:t,isNew:aU(e)})}},{key:"remove",value:function(e){this.changes.emit({action:"remove",rowIndex:e})}},{key:"findByIndex",value:function(e){return this.editedIndices.find(function(e){return function(t){return t.index===e}}(e))}},{key:"onChanged",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){e.changedSource.next()}))}}]),e}()).\u0275fac=function(e){return new(e||hz)(st(gc))},hz.\u0275prov=Ce({token:hz,factory:hz.\u0275fac}),hz),lU=function e(t){return WB(t)?{group:t.data,groupIndex:t.index,parentGroup:e(t.parentGroup)}:null},uU=((dz=function(){function e(){_classCallCheck(this,e),this.changes=new M,this.rowState=new Set}return _createClass(e,[{key:"reset",value:function(){this.rowState.clear()}},{key:"ngOnDestroy",value:function(){this.reset()}},{key:"isExpanded",value:function(e){return this.userCallback?this.userCallback(e):!this.rowState.has(e.groupIndex)}},{key:"isInExpandedGroup",value:function(e){for(var t=!0;e&&t;)t=this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:lU(e.parentGroup)}),e=e.parentGroup;return t}},{key:"toggleRow",value:function(e){var t=lU(e.parentGroup),n=!this.isExpanded({group:e.data,groupIndex:e.index,parentGroup:t});this.changes.next({group:e.data,expand:n,groupIndex:e.index,parentGroup:t}),this.userCallback||(n?this.rowState.delete(e.index):this.rowState.add(e.index))}},{key:"expandChildren",value:function(e){var t=this;this.rowState.forEach((function(n){return function(e,t){return t!==e&&e.startsWith(t)}(n,e)&&t.rowState.delete(n)}))}}]),e}()).\u0275fac=function(e){return new(e||dz)},dz.\u0275prov=Ce({token:dz,factory:dz.\u0275fac}),dz),cU=((fz=function(){function e(){_classCallCheck(this,e),this.changes=new M,this.pageChange=new M}return _createClass(e,[{key:"currentPage",get:function(){return this.skip/this.pageSize}},{key:"notifyChanges",value:function(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.changes.next(e)}},{key:"changePage",value:function(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}},{key:"changePageSize",value:function(e){this.pageChange.next({skip:0,take:e})}},{key:"nextPage",value:function(){var e=this.currentPage+1;e*this.pageSize<this.total&&this.changePage(e)}},{key:"prevPage",value:function(){var e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}}]),e}()).\u0275fac=function(e){return new(e||fz)},fz.\u0275prov=Ce({token:fz,factory:fz.\u0275fac}),fz),hU=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),i=t.call(this),Object.assign(_assertThisInitialized(i),e),i}return n}(rU),fU=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),i=t.call(this),Object.assign(_assertThisInitialized(i),e),i}return n}(rU),dU=((vz=function(){function e(){_classCallCheck(this,e),this.changes=new M,this.rowState=new Set}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.rowState.clear()}},{key:"isExpanded",value:function(e,t){return this.userCallback?this.userCallback({index:e,dataItem:t}):this.rowState.has(e)}},{key:"toggleRow",value:function(e,t){this.isExpanded(e,t)?this.collapseRow(e,t):this.expandRow(e,t)}},{key:"expandRow",value:function(e,t){this.emitEvent({dataItem:t,index:e,expand:!0})||this.userCallback||this.rowState.add(e)}},{key:"collapseRow",value:function(e,t){this.emitEvent({dataItem:t,index:e,expand:!1})||this.userCallback||this.rowState.delete(e)}},{key:"emitEvent",value:function(e){var t=new(e.expand?fU:hU)(e);return this.changes.next(t),t.isDefaultPrevented()}}]),e}()).\u0275fac=function(e){return new(e||vz)},vz.\u0275prov=Ce({token:vz,factory:vz.\u0275fac}),vz),pU=((pz=function(){function e(){_classCallCheck(this,e),this.requests=new M}return _createClass(e,[{key:"scrollTo",value:function(e){this.requests.next(e)}}]),e}()).\u0275fac=function(e){return new(e||pz)},pz.\u0275prov=Ce({token:pz,factory:pz.\u0275fac}),pz),vU=function(e,t){return Bz(e,jz("kendo-grid"))===t},gU=jz("th"),mU=jz("td"),yU=jz(".k-grid-footer td"),kU=function(e){return mU(e)||gU(e)||yU(e)},bU=function(e,t){var n=function(e,t){for(var n=Bz(e,kU);n&&!vU(n,t);)n=Bz(n.parentElement,kU);return n}(e,t),i=Bz(n,jz("tr"));if(n&&i){var r=i.getAttribute("aria-rowindex");r=r?parseInt(r,10)-1:null;var s=n.getAttribute("aria-colindex");if(s=s?parseInt(s,10)-1:null,null!==r&&null!==s)return{colIndex:s,rowIndex:r,element:n}}},CU=function(e){return function(e){return e===Vb.ArrowLeft||e===Vb.ArrowRight||e===Vb.ArrowUp||e===Vb.ArrowDown}(e)||e===Vb.PageUp||e===Vb.PageDown||e===Vb.Home||e===Vb.End},wU=jz("input"),_U=function(){function e(t,n){_classCallCheck(this,e),this.firstItemIndex=t,this.lastItemIndex=n}return _createClass(e,[{key:"containsRow",value:function(e){return e<0||e>=this.firstItemIndex&&e<=this.lastItemIndex}},{key:"intersects",value:function(e,t){return e<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=e&&e<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}]),e}(),SU=function(){var e=function(){function e(t,n,i,r,s,a,o,l,u,c,h){_classCallCheck(this,e),this.zone=t,this.domEvents=n,this.pagerContextService=i,this.scrollRequestService=r,this.groupsService=s,this.detailsService=a,this.focusRoot=o,this.editService=l,this.cd=u,this.localization=c,this.focusableParent=h,this.cellKeydown=new xu,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new iU,this.cursor=new tU(this.model),this.changes=this.cursor.changes}return _createClass(e,[{key:"metadata",get:function(){return this.meta},set:function(e){this.meta=e,this.cursor.metadata=e}},{key:"enabled",get:function(){return this.alive}},{key:"activeCell",get:function(){if(0!==this.mode)return this.cursor.cell}},{key:"activeRow",get:function(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}},{key:"activeDataRow",get:function(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}},{key:"init",value:function(e){var t=this;this.alive=!0,this.focusRoot.active=!0,this.metadata=e;var n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(e){var i;return t.zone.isStable?J([!0]).pipe($((function(){return e}))):(i=t.zone.onStable).pipe.apply(i,[kg(1),$((function(){return e}))].concat(n))}},i=n();if(this.subs=new C,this.subs.add(this.cursor.changes.subscribe((function(e){return t.onCursorChanges(e)}))),this.subs.add(this.domEvents.focus.pipe(xg(i)).subscribe((function(e){return t.navigateTo(e.target)}))),this.subs.add(this.domEvents.focusOut.pipe(tg((function(){return 0!==t.mode})),xg(n(nC(this.domEvents.focus)))).subscribe((function(e){return t.onFocusOut(e)}))),this.subs.add(this.domEvents.windowBlur.pipe(tg((function(){return 0!==t.mode}))).subscribe((function(){return t.onWindowBlur()}))),this.subs.add(this.editService.changes.pipe(tg((function(e){return"edit"!==e.action&&2===t.mode})),tg((function(e){return"cellClose"===e.action&&!e.prevented})),xg(i)).subscribe((function(){return t.leaveCell()}))),this.subs.add(this.pagerContextService.pageChange.subscribe((function(){return t.cursor.reset(0,0)}))),this.subs.add(this.domEvents.keydown.subscribe((function(e){return t.onKeydown(e)}))),this.subs.add(this.domEvents.keydown.pipe(tg((function(e){return e.keyCode===Vb.Tab&&2===t.mode})),sC(this.domEvents.focusOut.pipe(nC(Hb(0).pipe(kg(1)))))).subscribe((function(){return t.onTabout()}))),this.focusableParent){var r=new eU(this);this.focusableParent.registerElement(r)}this.deactivateElements()}},{key:"ngOnDestroy",value:function(){this.subs&&this.subs.unsubscribe(),this.alive=!1}},{key:"registerCell",value:function(e){if(e.logicalRowIndex!==this.pendingRowIndex){var t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}},{key:"registerCellOnCurrentRow",value:function(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}},{key:"unregisterCell",value:function(e,t,n){this.model.unregisterCell(e,t,n)}},{key:"registerRow",value:function(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}},{key:"updateRow",value:function(e){this.model.updateRow(e)}},{key:"unregisterRow",value:function(e,t){this.model.unregisterRow(e,t);var n=this.model.lastRow;if(n&&0===this.mode){var i=this.needsViewport()?this.viewport.lastItemIndex:n.index;this.activeRowIndex>i&&this.cursor.reset(0,0)}}},{key:"isCellFocusable",value:function(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}},{key:"isCellFocused",value:function(e){return 1===this.mode&&this.isCellFocusable(e)}},{key:"navigateTo",value:function(e){if(this.alive){var t=bU(e,this.meta.gridElement.nativeElement);if(t){var n=this.mode,i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Bz(t,(function(t){return t===e})))return!1;var i=Bz(t,(function(e){return e===t}));return i&&(n||i!==e)}(t.element,document.activeElement),r=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(i)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!r){this.mode=1,this.deactivateElements();var s=this.cursor.isActive(t.rowIndex,t.colIndex);1===n&&s||this.cursor.reset(t.rowIndex,t.colIndex)}}}}},{key:"tryFocus",value:function(e){this.activateElements();var t=Wz(e);if(t){var n=bU(t,this.meta.gridElement.nativeElement);n&&(this.cursor.reset(n.rowIndex,n.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}},{key:"needsViewport",value:function(){return this.meta&&this.meta.isVirtual}},{key:"setViewport",value:function(e,t){if(this.viewport=new _U(e,t),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){var n=this.activeDataRow,i=n-t;e-n>0?this.cursor.reset(e+this.meta.headerRows):i>0&&this.cursor.reset(t-this.meta.headerRows)}}},{key:"setColumnViewport",value:function(e,t){this.columnViewport=new _U(e,t)}},{key:"focusCell",value:function(e,t){return this.mode=1,this.cursor.reset(e,t),this.activeCell}},{key:"focusCellByElement",value:function(e){var t=bU(e,this.meta.gridElement.nativeElement);if(t)return this.focusCell(t.rowIndex,t.colIndex)}},{key:"focusNextCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.focusAdjacentCell(!0,e)}},{key:"focusPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.focusAdjacentCell(!1,e)}},{key:"toggle",value:function(e){this.active=e,this.cursor.announce()}},{key:"hasFocus",value:function(){return 1===this.mode||2===this.mode}},{key:"autoFocusCell",value:function(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}},{key:"focusAdjacentCell",value:function(e,t){this.focusCell();var n=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!n&&(n=e?this.cursor.moveDown(1):this.cursor.moveUp(1))){var i=this.cursor.row,r=e?0:this.cursor.lastCellIndex(i);this.cursor.reset(i.index,r)}return n?this.activeCell:(this.mode=0,this.cursor.announce(),null)}},{key:"enterCell",value:function(){var e=this.cursor.cell;if(e){var t=e.focusGroup,n=t&&t.canFocus();this.mode=n?2:1,this.cursor.announce(),n&&(this.activateRow(),t.focus())}}},{key:"leaveCell",value:function(){var e=this.cursor.cell;if(e){var t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}}},{key:"activateElements",value:function(){this.focusRoot.activate()}},{key:"deactivateElements",value:function(){this.focusRoot.deactivate()}},{key:"activateRow",value:function(){this.cursor.row.cells.forEach((function(e){return e.focusGroup&&e.focusGroup.activate()}))}},{key:"moveCursorFwd",value:function(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}},{key:"moveCursorBwd",value:function(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}},{key:"onCursorKeydown",value:function(e){var t=this,n=!1,i=e.ctrlKey||e.metaKey,r=i?5:1;if(this.onCellKeydown(e)){var s,a=this.cursor.row;switch(e.keyCode){case Vb.ArrowDown:n=this.cursor.moveDown(r);break;case Vb.ArrowUp:n=this.cursor.moveUp(r);break;case Vb.ArrowRight:n=this.moveCursorFwd();break;case Vb.ArrowLeft:n=this.moveCursorBwd();break;case Vb.PageDown:if(this.metadata.isVirtual&&this.viewport){var o=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&o++,o=Math.min(this.meta.maxLogicalRowIndex,o),this.cursor.reset(o),n=!0}else this.metadata.hasPager&&(this.zone.run((function(){return t.pagerContextService.nextPage()})),n=!0);break;case Vb.PageUp:if(this.metadata.isVirtual&&this.viewport){var l=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(l),n=!0}else this.metadata.hasPager&&(this.zone.run((function(){return t.pagerContextService.prevPage()})),n=!0);break;case Vb.Home:this.cursor.reset(i?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:a.index,0,!1),n=!0;break;case Vb.End:if(i)if(this.meta.isVirtual){var u=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&u--,this.cursor.reset(u,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{var c=this.cursor.lastCellIndex(a),h=this.model.findCell(c,a);h?this.cursor.reset(h.rowIndex,h.colIndex):this.cursor.reset(a.index,c)}n=!0;break;case Vb.Enter:case Vb.F2:var f=a.groupItem;f?this.zone.run((function(){return t.groupsService.toggleRow(f)})):this.cursor.cell.detailExpandCell?this.zone.run((function(){return t.detailsService.toggleRow(a.dataRowIndex,a.dataItem)})):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(n=!0));break;default:e.ctrlKey||e.altKey||1!==(s=e.key).length||!s.match(/\S/)||this.enterCell()}n&&e.preventDefault()}}},{key:"onContentKeydown",value:function(e){if(this.onCellKeydown(e)){var t,n=!e.defaultPrevented&&e.keyCode===Vb.Enter&&(t=e.srcElement)&&wU(t)&&"text"===t.type.toLowerCase();e.keyCode===Vb.Escape||e.keyCode===Vb.F2||n?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):CU(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}}},{key:"onCellKeydown",value:function(e){if(this.editService.isEditingCell()){var t=e.keyCode===Vb.Enter,n=e.keyCode===Vb.Escape,i=CU(e.keyCode);if(t)this.editService.closeCell(e);else if(n)this.editService.cancelCell(),this.cd.detectChanges();else if(i)return!1}return this.cellKeydown.emit(e),!0}},{key:"onCursorChanges",value:function(e){this.activeRowIndex=e.rowIndex;var t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&e.rowIndex>=this.meta.headerRows&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){var n=this.activeCell,i=this.model.cellRange(n),r=i.start,s=i.end;n||(this.virtualCell=!0),(!n&&0!==this.mode||n&&!this.columnViewport.intersects(r,s))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}},{key:"onFocusOut",value:function(e){this.mode=Uz(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}},{key:"onWindowBlur",value:function(){this.mode=0,this.deactivateElements(),this.cursor.announce()}},{key:"onKeydown",value:function(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}},{key:"onTabout",value:function(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st(gc),st(Dz),st(cU),st(pU),st(uU),st(dU),st(Pz),st(oU),st(sa),st(tC),st(Xz,8))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),xU=function(){var e=function(){function e(t,n,i){_classCallCheck(this,e),this.domEvents=t,this.localDataChangesService=n,this.navigationService=i,this.changes=new xu,this.lastSelectionStartIndex=0,this.currentSelection=[],this.selectAllChecked=!1,this.active=!1,this.dragging=!1,this.addSubscriptions()}return _createClass(e,[{key:"enableMarquee",get:function(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;var e=this.settings.selectable,t="object"==typeof e&&WB(e)&&"multiple"===e.mode&&!1!==e.enabled&&!e.checkboxOnly&&e.drag;return this.active&&t}},{key:"init",value:function(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){var t=this.getIterator();this._selectAllState=!0;for(var n=t.next();!n.done;){if(n.value&&"data"===n.value.type){var i={dataItem:n.value.data,index:n.value.index};e.rowSelected(i)?this.currentSelection[n.value.index]=i:this._selectAllState=void 0}n=t.next()}0===this.currentSelection.length&&(this._selectAllState=!1)}}},{key:"isSelected",value:function(e){if(this.settings&&this.active)return this.options.enabled&&WB(this.currentSelection[e])}},{key:"handleClick",value:function(e,t){if(this.dragging)this.dragging=!1;else{var n,i=t.ctrlKey||t.metaKey;"single"===this.options.mode&&i&&this.isSelected(e.index)?n=this.toggle(e):"multiple"===this.options.mode&&(i&&!t.shiftKey?n=this.toggle(e):t.shiftKey&&(n=this.addAllTo(e,i))),WB(n)||(n=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(n.selectedRows.length||n.deselectedRows.length)&&(n.ctrlKey=i,n.shiftKey=t.shiftKey,this.changes.emit(n))}}},{key:"toggle",value:function(e){var t=[],n=[];this.lastSelectionStartIndex=e.index;var i={dataItem:e.data,index:e.index};return this.isSelected(e.index)?n.push(i):t.push(i),{deselectedRows:n,selectedRows:t}}},{key:"toggleByIndex",value:function(e){var t=this.getIterator();this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);for(var n=t.next();!n.done;){if(n.value&&"data"===n.value.type&&n.value.index===e){var i={data:n.value.data,index:n.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(i):this.select(i)}n=t.next()}}},{key:"select",value:function(e){var t=[],n=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)||n.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach((function(n){n.index!==e.index&&t.push(n)})),{deselectedRows:t,selectedRows:n}}},{key:"deselect",value:function(e){for(var t=this.getIterator(),n=t.next();!n.done;){if(n.value&&"data"===n.value.type&&n.value.data===e){var i={dataItem:n.value.data,index:n.value.index};this.isSelected(i.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[i],selectedRows:[]})}n=t.next()}}},{key:"addAllTo",value:function(e,t){for(var n=[],i=[],r=Math.min(this.lastSelectionStartIndex,e.index),s=Math.max(this.lastSelectionStartIndex,e.index),a=this.getIterator(),o=a.next();!o.done;){if(o.value&&"data"===o.value.type){var l=o.value.index,u={dataItem:o.value.data,index:l};(l<r||l>s)&&this.isSelected(l)&&!t&&i.push(u),l>=r&&l<=s&&!this.isSelected(l)&&n.push(u)}o=a.next()}return{deselectedRows:i,selectedRows:n}}},{key:"updateAll",value:function(e){this.selectAllChecked=e;for(var t=[],n=[],i=this.getIterator(),r=i.next();!r.done;){if(r.value&&"data"===r.value.type){var s=r.value.index,a={dataItem:r.value.data,index:s};this.isSelected(s)&&!e&&n.push(a),!this.isSelected(s)&&e&&t.push(a)}r=i.next()}(t.length||n.length)&&this.changes.emit({ctrlKey:!0,deselectedRows:n,selectedRows:t,shiftKey:!0})}},{key:"selectRange",value:function(e,t){for(var n=[],i=[],r=Math.min(e,t),s=Math.max(e,t),a=this.getIterator(),o=a.next();!o.done;){if(o.value&&"data"===o.value.type){var l=o.value.index,u={dataItem:o.value.data,index:l};(l<r||l>s)&&this.isSelected(l)&&i.push(u),l>=r&&l<=s&&!this.isSelected(l)&&n.push(u)}o=a.next()}return{deselectedRows:i,selectedRows:n}}},{key:"selectAllState",get:function(){return this._selectAllState}},{key:"selected",get:function(){return this.currentSelection.map((function(e){return e.index})).filter((function(e){return"number"==typeof e}))}},{key:"options",get:function(){var e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return WB(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}},{key:"ngOnDestroy",value:function(){this.removeSubscriptions()}},{key:"targetArgs",value:function(){return{index:this.mouseDownEventArgs.rowIndex,dataItem:this.mouseDownEventArgs.dataItem}}},{key:"addSubscriptions",value:function(){var e=this;this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe((function(t){e.options.enabled&&!e.options.checkboxOnly&&"contextmenu"!==t.type&&e.active&&e.handleClick({index:t.rowIndex,data:t.dataItem},t.originalEvent)}))),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe((function(t){e.mouseDownEventArgs=t,!e.options.enabled||e.options.mode&&"multiple"!==e.options.mode||e.options.checkboxOnly||!t.originalEvent.shiftKey||e.active&&(t.originalEvent.preventDefault(),e.navigationService.focusCellByElement(t.originalEvent.target))}))),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe((function(t){e.active&&WB(t.action)&&"remove"===t.action&&e.deselect(t.item)})))}},{key:"getIterator",value:function(){var e=this.settings.view.accessor();if(e)return e[az]()}},{key:"removeSubscriptions",value:function(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st(Dz),st(Oz),st(SU))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),EU=((gz=function(){function e(t,n,i){_classCallCheck(this,e),this.domEvents=t,this.localDataChangesService=n,this.navigationService=i,this.changes=new xu,this.mouseUpEvent=new xu,this.currentSelection=[],this.active=!1,this.dragging=!1,this.dragSelectDeselect=!1,this.lastSelectionItem={itemKey:0,columnKey:0},this.lastSelectionItemRowIndex=0,this.lastSelectionItemColIndex=0,this.addSubscriptions()}return _createClass(e,[{key:"enableMarquee",get:function(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;var e=this.settings.selectable,t="object"==typeof e&&WB(e)&&"multiple"===e.mode&&e.cell&&!1!==e.enabled&&e.drag;return this.active&&t}},{key:"init",value:function(e){var t=this;if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled)for(var n=this.getIterator(),i=n.next();!i.done;)i.value&&"data"===i.value.type&&function(){var n={dataItem:i.value.data,index:i.value.index};e.columns.forEach((function(i){var r=e.cellSelected(n,i,i.leafIndex);r.selected&&t.currentSelection.push(r.item)}))}(),i=n.next()}},{key:"isCellSelected",value:function(e,t){if(this.settings&&this.active){var n=this.settings.cellSelected({dataItem:e.data,index:e.index},t,t.leafIndex);return this.options.enabled&&n.selected}return!1}},{key:"handleClick",value:function(e,t){if(this.dragging)this.dragging=!1;else{var n,i=t.ctrlKey||t.metaKey;if("single"===this.options.mode&&i&&this.isCellSelected(e,e.column))n=this.toggle(e);else if("multiple"===this.options.mode)if(i&&!t.shiftKey)n=this.toggle(e);else if(t.shiftKey){var r=Math.min(this.lastSelectionItemRowIndex,e.index),s=Math.min(this.lastSelectionItemColIndex,e.column.leafIndex),a=Math.max(this.lastSelectionItemRowIndex,e.index),o=Math.max(this.lastSelectionItemColIndex,e.column.leafIndex);n=this.selectRange(r,s,a,o)}WB(n)||(n=this.select(e),this.currentSelection=[this.lastSelectionItem]),(n.selectedCells.length||n.deselectedCells.length)&&(n.ctrlKey=i,n.shiftKey=t.shiftKey,this.changes.emit(n))}}},{key:"toggle",value:function(e){var t=[],n=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)?n.push(this.lastSelectionItem):t.push(this.lastSelectionItem),{deselectedCells:n,selectedCells:t}}},{key:"select",value:function(e){var t=this,n=[],i=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)||n.push(this.lastSelectionItem),this.currentSelection.forEach((function(e){e.itemKey===t.lastSelectionItem.itemKey&&e.columnKey===t.lastSelectionItem.columnKey||i.push(e)})),{deselectedCells:i,selectedCells:n}}},{key:"deselect",value:function(e){for(var t,n=this,i=this.getIterator(),r=i.next();!r.done;){if(r.value&&"data"===r.value.type&&r.value.data===e){t={dataItem:r.value.data,index:r.value.index};break}r=i.next()}if(t){var s=this.currentSelection.filter((function(e){var i=n.settings.cellSelected(t,null,null).item;return e.itemKey===i.itemKey}));s.length&&this.changes.emit({ctrlKey:!1,deselectedCells:s,selectedCells:[]})}}},{key:"selectRange",value:function(e,t,n,i){for(var r=this,s=[],a=[],o=Math.min(e,n),l=Math.min(t,i),u=Math.max(e,n),c=Math.max(t,i),h=this.getIterator(),f=h.next();!f.done;)f.value&&"data"===f.value.type&&function(){var e=f.value.index,t={dataItem:f.value.data,index:e};r.settings.columns.forEach((function(n){var i=r.settings.cellSelected(t,n,n.leafIndex).item,h=r.isCellSelected(f.value,n),d=o<=e&&e<=u&&l<=n.leafIndex&&n.leafIndex<=c;!d&&h&&a.push(i),d&&!h&&s.push(i)}))}(),f=h.next();return{deselectedCells:a,selectedCells:s}}},{key:"options",get:function(){var e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return WB(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}},{key:"ngOnDestroy",value:function(){this.removeSubscriptions()}},{key:"addSubscriptions",value:function(){var e=this;this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe((function(t){e.options.enabled&&!e.options.checkboxOnly&&"contextmenu"!==t.type&&e.active&&e.handleClick({index:t.rowIndex,data:t.dataItem,column:t.column},t.originalEvent)}))),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe((function(t){e.mouseDownEventArgs=t,!e.options.enabled||e.options.mode&&"multiple"!==e.options.mode||e.options.checkboxOnly||!t.originalEvent.shiftKey||e.active&&(t.originalEvent.preventDefault(),e.navigationService.focusCellByElement(t.originalEvent.target))}))),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe((function(t){e.active&&WB(t.action)&&"remove"===t.action&&e.deselect(t.item)})))}},{key:"getIterator",value:function(){var e=this.settings.view.accessor();if(e)return e[az]()}},{key:"removeSubscriptions",value:function(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}}]),e}()).\u0275fac=function(e){return new(e||gz)(st(Dz),st(Oz),st(SU))},gz.\u0275prov=Ce({token:gz,factory:gz.\u0275fac}),gz),IU={topLeft:{x:2,y:2},topRight:{x:-2,y:2},bottomLeft:{x:2,y:-2},bottomRight:{x:-2,y:-2}},TU=((mz=function(){function e(t,n,i,r){_classCallCheck(this,e),this.draggable=t,this.selection=n,this.cellSelection=i,this.domEvents=r,this.selectionStarted=!1}return _createClass(e,[{key:"webkitUserSelection",get:function(){return this.cellSelection.enableMarquee||this.selection.enableMarquee?"none":null}},{key:"userSelection",get:function(){return this.cellSelection.enableMarquee||this.selection.enableMarquee}},{key:"ngOnInit",value:function(){this.subscriptions=this.draggable.kendoPress.subscribe(this.start.bind(this)),this.subscriptions.add(this.draggable.kendoDrag.subscribe(this.moveMarquee.bind(this)))}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe(),this.clean()}},{key:"start",value:function(e){e.originalEvent.target.classList.contains("k-checkbox")?this.pressArgs=null:(this.pressArgs=e,this.pressTarget=null)}},{key:"moveMarquee",value:function(e){this.pressTarget||(this.pressTarget=this.cellSelection.active?this.cellSelection.mouseDownEventArgs:this.selection.mouseDownEventArgs);var t=this.pressArgs;if(t){if(!this.selectionStarted){if(!(Math.sqrt(Math.pow(e.pageX-t.pageX,2)+Math.pow(e.pageY-t.pageY,2))>5))return;this.selectionStarted=!0,this.dragEndSubscription=re(this.domEvents.cellMouseup.pipe(kg(1)),this.draggable.kendoRelease.pipe(hC(1),kg(1))).subscribe(this.endSelection.bind(this))}this.initMarquee();var n=this.marqueeElement,i=this.getMarqueeQuadrant(e.pageX,e.pageY,t.pageX,t.pageY),r=Math.min(e.pageX,t.pageX),s=Math.min(e.pageY,t.pageY),a=Math.abs(e.pageX-t.pageX),o=Math.abs(e.pageY-t.pageY);i&&(r+=IU[i].x,s+=IU[i].y),n.style.left=r+"px",n.style.top=s+"px",n.style.width=a+"px",n.style.height=o+"px"}}},{key:"endSelection",value:function(e){"mouseup"!==e.type&&"touchend"!==e.type||(this.cellSelection.active?(this.cellSelection.dragging=!0,this.cellSelection.changes.emit(this.cellSelection.selectRange(this.pressTarget.rowIndex,this.pressTarget.column.leafIndex,e.rowIndex,e.column.leafIndex))):this.selection.active&&(this.selection.dragging=!0,this.selection.changes.emit(this.selection.selectRange(this.pressTarget.rowIndex,e.rowIndex)))),this.clean()}},{key:"clean",value:function(){this.marqueeElement&&(document.body.removeChild(this.marqueeElement),this.marqueeElement=null),this.dragEndSubscription&&this.dragEndSubscription.unsubscribe(),this.dragEndSubscription=null,this.pressTarget=null,this.pressArgs=null,this.selectionStarted=!1,this.cellSelection.active?this.cellSelection.dragging=!1:this.selection.dragging=!1}},{key:"initMarquee",value:function(){this.marqueeElement||(this.marqueeElement=function(){var e=document.createElement("div");e.className="k-marquee";var t=document.createElement("div");return t.className="k-marquee-color",e.appendChild(t),e}(),document.body.appendChild(this.marqueeElement))}},{key:"getMarqueeQuadrant",value:function(e,t,n,i){var r=e<n,s=e>n,a=t<i,o=t>i;return r&&a?"topLeft":r&&o?"bottomLeft":s&&a?"topRight":s&&o?"bottomRight":null}}]),e}()).\u0275fac=function(e){return new(e||mz)(Ua(Sb),Ua(xU),Ua(EU),Ua(Dz))},mz.\u0275dir=At({type:mz,selectors:[["","kendoGridSelectionMarquee",""]],hostVars:4,hostBindings:function(e,t){2&e&&(bo("-webkit-user-select",t.webkitUserSelection),Co("user-select-none",t.userSelection))}}),mz),FU=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return _classCallCheck(this,n),(i=t.call(this,r)).ngZone=e,i}return _createClass(n,[{key:"subscribe",value:function(e,t,i){var r,s=this,a=function(e){return null},o=function(){return null};return e&&"object"==typeof e?(r=function(t){s.ngZone.run((function(){return e.next(t)}))},e.error&&(a=function(t){s.ngZone.run((function(){return e.error(t)}))}),e.complete&&(o=function(){s.ngZone.run((function(){return e.complete()}))})):(r=function(t){s.ngZone.run((function(){return e(t)}))},t&&(a=function(e){s.ngZone.run((function(){return t(e)}))}),i&&(o=function(){s.ngZone.run((function(){return i()}))})),_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,r,a,o)}}]),n}(xu),AU={name:"@progress/kendo-angular-grid",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1627453156,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},DU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ua(Tl,8))},e.\u0275dir=At({type:e,selectors:[["","kendoGridCellTemplate",""]]}),e}(),OU=((wz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||wz)(Ua(Tl,8))},wz.\u0275dir=At({type:wz,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),wz),RU=((Cz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Cz)(Ua(Tl,8))},Cz.\u0275dir=At({type:Cz,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),Cz),PU=((bz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||bz)(Ua(Tl,8))},bz.\u0275dir=At({type:bz,selectors:[["","kendoGridEditTemplate",""]]}),bz),LU=((kz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||kz)(Ua(Tl,8))},kz.\u0275dir=At({type:kz,selectors:[["","kendoGridGroupFooterTemplate",""]]}),kz),NU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ua(Tl,8))},e.\u0275dir=At({type:e,selectors:[["","kendoGridHeaderTemplate",""]]}),e}(),MU=function(){var e=function e(t){_classCallCheck(this,e),this.templateRef=t};return e.\u0275fac=function(t){return new(t||e)(Ua(Tl,8))},e.\u0275dir=At({type:e,selectors:[["","kendoGridFooterTemplate",""]]}),e}(),VU=((yz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||yz)(Ua(Tl,8))},yz.\u0275dir=At({type:yz,selectors:[["","kendoGridColumnMenuTemplate",""]]}),yz),HU=function(e){return e.isSpanColumn},jU=function(e){return e.isCheckboxColumn},BU=((xz=function(){function e(t){if(_classCallCheck(this,e),this.parent=t,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.sticky=!1,this.lockable=!0,this.stickable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new Iu,this.columnMenuTemplates=new Iu,t&&!(n=t).isColumnGroup&&!HU(n))throw new Error("Columns can be nested only inside ColumnGroupComponent");var n}return _createClass(e,[{key:"width",get:function(){return this._width},set:function(e){this._width=parseInt(e,10)}},{key:"level",get:function(){return this.parent&&HU(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}},{key:"isLocked",get:function(){return this.parent?this.parent.isLocked:this.locked}},{key:"colspan",get:function(){return 1}},{key:"rowspan",value:function(e){return this.level<e?e-this.level+1:1}},{key:"headerTemplateRef",get:function(){var e=this.headerTemplates.first;return e?e.templateRef:void 0}},{key:"footerTemplateRef",get:function(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}},{key:"columnMenuTemplateRef",get:function(){var e=this.columnMenuTemplates.first;return e?e.templateRef:null}},{key:"displayTitle",get:function(){return this.title}},{key:"isVisible",get:function(){return!this.hidden&&this.matchesMedia}}]),e}()).\u0275fac=function(e){qa()},xz.\u0275dir=At({type:xz,contentQueries:function(e,t,n){var i;1&e&&(ju(n,MU,!0),ju(n,NU,!1),ju(n,VU,!1)),2&e&&(Nu(i=Uu())&&(t.footerTemplate=i.first),Nu(i=Uu())&&(t.headerTemplates=i),Nu(i=Uu())&&(t.columnMenuTemplates=i))},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",sticky:"sticky",lockable:"lockable",stickable:"stickable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",footerClass:"footerClass"}}),xz),zU=((Sz=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||Sz)(Ua(Tl,8))},Sz.\u0275dir=At({type:Sz,selectors:[["","kendoGridFilterCellTemplate",""]]}),Sz),UU=((_z=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||_z)(Ua(Tl,8))},_z.\u0275dir=At({type:_z,selectors:[["","kendoGridFilterMenuTemplate",""]]}),_z);function GU(e){return WB(e.field)}var qU,KU,WU=((qU=Ez=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).sortable=!0,i.groupable=!0,i.editor="text",i.filter="text",i.filterable=!0,i.editable=!0,i}return _createClass(n,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}},{key:"groupHeaderTemplateRef",get:function(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}},{key:"groupHeaderColumnTemplateRef",get:function(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}},{key:"groupFooterTemplateRef",get:function(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}},{key:"editTemplateRef",get:function(){return this.editTemplate?this.editTemplate.templateRef:void 0}},{key:"filterCellTemplateRef",get:function(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}},{key:"filterMenuTemplateRef",get:function(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}},{key:"displayTitle",get:function(){return void 0===this.title?this.field:this.title}}]),n}(BU)).\u0275fac=function(e){return new(e||qU)(Ua(BU,13))},qU.\u0275cmp=St({type:qU,selectors:[["kendo-grid-column"]],contentQueries:function(e,t,n){var i;1&e&&(ju(n,DU,!0),ju(n,OU,!0),ju(n,RU,!0),ju(n,LU,!0),ju(n,PU,!0),ju(n,zU,!0),ju(n,UU,!0)),2&e&&(Nu(i=Uu())&&(t.template=i.first),Nu(i=Uu())&&(t.groupHeaderTemplate=i.first),Nu(i=Uu())&&(t.groupHeaderColumnTemplate=i.first),Nu(i=Uu())&&(t.groupFooterTemplate=i.first),Nu(i=Uu())&&(t.editTemplate=i.first),Nu(i=Uu())&&(t.filterCellTemplate=i.first),Nu(i=Uu())&&(t.filterMenuTemplate=i.first))},inputs:{sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",field:"field",format:"format"},features:[tl([{provide:BU,useExisting:Pe((function(){return Ez}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),qU);function $U(e){return e.isSpanColumn}var ZU,YU,QU=((ZU=KU=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;if(_classCallCheck(this,n),(i=t.call(this,e)).isSpanColumn=!0,i.template=new Iu,i.editTemplate=new Iu,i.childColumns=new Iu,i.includeInChooser=!1,i._editable=!0,i._locked=!1,e&&e.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn");return _possibleConstructorReturn(i)}return _createClass(n,[{key:"editable",get:function(){return WB(this.editTemplateRef)&&this._editable},set:function(e){this._editable=e}},{key:"width",get:function(){return this.childColumns.reduce((function(e,t){return e+t.width}),0)},set:function(e){}},{key:"leafIndex",get:function(){return this.childColumns.first.leafIndex}},{key:"templateRef",get:function(){var e=this.template.first;return e?e.templateRef:void 0}},{key:"editTemplateRef",get:function(){var e=this.editTemplate.first;return e?e.templateRef:void 0}},{key:"colspan",get:function(){return this.childColumns.filter((function(e){return e.isVisible})).length}},{key:"locked",get:function(){return this._locked||this.childColumns.some((function(e){return e.locked}))},set:function(e){this._locked=e}},{key:"childrenArray",get:function(){return this.childColumns.toArray()}},{key:"hasChildren",get:function(){return this.childColumns.length>0}}]),n}(BU)).\u0275fac=function(e){return new(e||ZU)(Ua(BU,13))},ZU.\u0275cmp=St({type:ZU,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,t,n){var i;1&e&&(ju(n,DU,!1),ju(n,PU,!1),ju(n,WU,!1)),2&e&&(Nu(i=Uu())&&(t.template=i),Nu(i=Uu())&&(t.editTemplate=i),Nu(i=Uu())&&(t.childColumns=i))},inputs:{editable:"editable",locked:"locked"},features:[tl([{provide:BU,useExisting:Pe((function(){return KU}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),ZU),JU=function(e){return e.reduce((function(e,t){return e.concat($U(t)?t.childrenArray:[t])}),[])},XU=function(e){return e.reduce((function(e,t){return e.concat($U(t)?[t].concat(t.childrenArray):[t])}),[])},eG=function(e){return JU(e).filter((function(e){return e.isVisible}))},tG=function(e){return function(t){return(t||[]).reduce((function(t,n){return t+(n[e]||0)}),0)}},nG=tG("width"),iG=tG("colspan"),rG=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),sG=function e(t){return t.reduce((function(t,n){return n.isColumnGroup?t=t.concat(e(function(e){return e.children.filter((function(t){return t!==e}))}(n))):n.isSpanColumn?t=t.concat(n.childrenArray):t.push(n),t}),[]).filter((function(e){return e.isVisible}))},aG=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return sG(n).some(e)},oG=function(e){return NS(e,[{field:"orderIndex",dir:"asc"}])},lG=function(e){return YB(e.parent)&&$U(e.parent)};function uG(e){return e.isColumnGroup}var cG,hG,fG,dG,pG,vG,gG,mG,yG,kG,bG,CG,wG,_G,SG,xG,EG,IG,TG,FG,AG,DG,OG,RG,PG,LG=((hG=YU=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;if(_classCallCheck(this,n),(i=t.call(this,e)).parent=e,i.includeInChooser=!1,i.isColumnGroup=!0,i.minResizableWidth=10,e&&e.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent");return _possibleConstructorReturn(i)}return _createClass(n,[{key:"rowspan",value:function(){return 1}},{key:"colspan",get:function(){var e=this;return this.children&&1!==this.children.length?iG(this.children.filter((function(t){return t!==e&&t.isVisible}))):1}},{key:"leafIndex",get:function(){return this.children?(this.firstChild||{}).leafIndex:-1}},{key:"childrenArray",get:function(){var e=this;return this.children.filter((function(t){return t!==e}))}},{key:"hasChildren",get:function(){return Boolean(this.firstChild)}},{key:"firstChild",get:function(){var e=this;return this.children.find((function(t){return t!==e}))}}]),n}(BU)).\u0275fac=function(e){return new(e||hG)(Ua(BU,13))},hG.\u0275cmp=St({type:hG,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,t,n){var i;1&e&&ju(n,BU,!1),2&e&&Nu(i=Uu())&&(t.children=i)},features:[tl([{provide:BU,useExisting:Pe((function(){return YU}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),hG),NG=((cG=function(){function e(t){_classCallCheck(this,e),this.templateRef=t,this._condition=function(){return!0}}return _createClass(e,[{key:"showIf",get:function(){return this._condition},set:function(e){if("function"!=typeof e)throw new Error("showIf must be a function, but received ".concat(JSON.stringify(e),"."));this._condition=e}}]),e}()).\u0275fac=function(e){return new(e||cG)(Ua(Tl,8))},cG.\u0275dir=At({type:cG,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:["kendoGridDetailTemplateShowIf","showIf"]}}),cG),MG=function(){return kb()&&document.createElement},VG=null,HG=null,jG=((dG=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.zone=t,this.changeDetector=n,this.changes=new xu,"undefined"!=typeof window&&this.zone.runOutsideAngular((function(){i.subscriptions=hb(window,"resize").pipe(cb(100)).subscribe((function(){fG!==window.devicePixelRatio&&t.run((function(){VG=null,i.changes.emit(),i.changeDetector.markForCheck()}))}))}))}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}},{key:"scrollbarWidth",get:function(){return function(){if(null===VG&&MG()){fG=window.devicePixelRatio||1;var e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),VG=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return VG}()}},{key:"rtlScrollLeft",get:function(){return function(){if(null===HG&&MG()){var e=document.createElement("div");e.style.cssText="overflow:scroll;zoom:1;clear:both;display:block;width:100px;visibility:hidden;position:absolute;left:-10000px;direction:rtl;",e.innerHTML="<div style='width:200px;height:1px;'</div>",document.body.appendChild(e);var t=e.scrollLeft;e.scrollLeft=-1,HG=e.scrollLeft<0?e.scrollLeft:t,document.body.removeChild(e)}return HG}()}}]),e}()).\u0275fac=function(e){return new(e||dG)(st(gc),st(sa))},dG.\u0275prov=Ce({token:dG,factory:dG.\u0275fac}),dG),BG=function(e){return void 0!==e.items&&void 0!==e.field},zG=function(e,t){var n,i=t.footers,r=t.level,s=t.dataIndex,a=t.parentGroupIndex,o=t.groupIndex,l=t.parentGroup,u=e[0];return WB(u)&&BG(u)?(void 0!==(n=u).offset&&void 0!==n.skipHeader&&(o=WB(u.offset)?u.offset:o),new KG(e,i,r,s,a,o,l)):new qG(e,s,a,l)},UG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.arr=t,this.idx=n,this.arr=t||[]}return _createClass(e,[{key:az,value:function(){return this}},{key:"next",value:function(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}]),e}(),GG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};_classCallCheck(this,e),this.dataIndex=n,this.resultMap=i,this._innerIterator=t[az]?t[az]():new UG(t)}return _createClass(e,[{key:az,value:function(){return this}},{key:"next",value:function(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}]),e}(),qG=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){return _classCallCheck(this,n),t.call(this,e,i,(function(e,t){return{done:e.done,value:{data:e.value,groupIndex:r,index:t,type:"data",group:s}}}))}return _createClass(n,[{key:"index",get:function(){return this.dataIndex}}]),n}(GG),KG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;_classCallCheck(this,e),this.arr=t,this.outputFooters=n,this.level=i,this.dataIndex=r,this.parentIndex=s,this.groupIndex=a,this.parentGroup=o,this.currentGroupIndex="",this.arr=t||[],this._iterator=new GG(this.arr,this.dataIndex)}return _createClass(e,[{key:az,value:function(){return this}},{key:"nextGroupItem",value:function(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex="".concat((e=this.parentIndex)?e+"_":e).concat(this.groupIndex++),{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}):(this.current=null,{done:!0,value:void 0});var e}},{key:"footerItem",value:function(){if(this.current){var e=this.current;return this.current=null,{done:!1,value:{data:e,groupIndex:this.currentGroupIndex,level:this.level,type:"footer",group:{data:e,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}}}}return this.current=null,{done:!0,value:void 0}}},{key:"innerIterator",value:function(e){return this._innerIterator||(this._innerIterator=zG(e.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex,parentGroup:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group",parentGroup:this.parentGroup}})),this._innerIterator}},{key:"nextDataItem",value:function(e){var t=this.innerIterator(e).next();return WB(t.value)&&!t.done&&"data"===t.value.type&&(this.dataIndex=t.value.index+1),t.done?void 0:t}},{key:"next",value:function(){return WB(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}},{key:"index",get:function(){return this.dataIndex+1}}]),e}(),WG=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.source=t,this.skip=n,this.groupFooters=i,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}return _createClass(e,[{key:"isGridDataResult",value:function(e){return void 0!==e.total&&void 0!==e.data}},{key:"total",get:function(){return this.isObject?this.source.total:this.source.length}},{key:"data",get:function(){return this.isObject?this.source.data:this.source}},{key:"map",value:function(e){return this.data.map(e)}},{key:"filter",value:function(e){return this.data.filter(e)}},{key:"reduce",value:function(e,t){return this.data.reduce(e,t)}},{key:"forEach",value:function(e){this.data.forEach(e)}},{key:"some",value:function(e){return this.data.some(e)}},{key:az,value:function(){return zG(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}},{key:"toString",value:function(){return this.data.toString()}}]),e}(),$G=function(){function e(t){_classCallCheck(this,e),this.accessor=t}return _createClass(e,[{key:"total",get:function(){return this.accessor().total}},{key:"length",get:function(){return this.accessor().data.length}},{key:"first",get:function(){return this.accessor().data[0]}},{key:"last",get:function(){return this.accessor().data[this.length-1]}},{key:"at",value:function(e){return function(e,t){var n=e[0];return WB(n)&&BG(n)?function e(t){return t.reduce((function(t,n){return BG(n)?t.concat(e(n.items)):t.concat([n])}),[])}(e)[t]:e[t]}(this.accessor().data,e)}},{key:"map",value:function(e){return this.accessor().map(e)}},{key:"filter",value:function(e){return this.accessor().filter(e)}},{key:"reduce",value:function(e,t){return this.accessor().reduce(e,t)}},{key:"forEach",value:function(e){this.accessor().forEach(e)}},{key:"some",value:function(e){return this.accessor().some(e)}},{key:az,value:function(){return this.accessor()[az]()}},{key:"toString",value:function(){return this.accessor().toString()}}]),e}(),ZG=((pG=function(){function e(t,n){_classCallCheck(this,e),this.grid=t,this.cd=n,this.selectedKeys=[],this.selectedKeysChange=new xu,this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;WB(this.grid.rowSelected)||(this.grid.rowSelected=function(t){return e.selectedKeys.indexOf(e.getItemKey(t))>=0}),WB(this.grid.cellSelected)||(this.grid.cellSelected=function(t,n,i){var r=e.getSelectionItem(t,n,i);return{selected:e.selectedKeys.some((function(e){return e.columnKey===r.columnKey&&e.itemKey===r.itemKey})),item:r}}),this.selectionChangeSubscription=this.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}},{key:"destroy",value:function(){this.selectionChangeSubscription.unsubscribe()}},{key:"reset",value:function(){this.selectedKeys=[]}},{key:"getItemKey",value:function(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}},{key:"getSelectionItem",value:function(e,t,n){var i={};return i.itemKey=this.getItemKey(e),WB(t)||WB(n)?(this.columnKey&&("string"==typeof this.columnKey&&(i.columnKey=e.dataItem[this.columnKey]),"function"==typeof this.columnKey&&(i.columnKey=this.columnKey(t,n))),{itemKey:i.itemKey,columnKey:i.columnKey?i.columnKey:n}):i}},{key:"onSelectionChange",value:function(e){var t=this;e.selectedRows?(e.deselectedRows.forEach((function(e){var n=t.getItemKey(e),i=t.selectedKeys.indexOf(n);i>=0&&t.selectedKeys.splice(i,1)})),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedRows.forEach((function(e){var n=t.getItemKey(e);t.selectedKeys.indexOf(n)<0&&t.selectedKeys.push(n)}))):(e.deselectedCells.forEach((function(e){var n=t.getCellSelectionItemIndex(e);n>=0&&t.selectedKeys.splice(n,1)})),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedCells.forEach((function(e){t.getCellSelectionItemIndex(e)<0&&t.selectedKeys.push(e)}))),this.cd.markForCheck(),this.selectedKeysChange.emit(this.selectedKeys)}},{key:"getCellSelectionItemIndex",value:function(e){return this.selectedKeys.findIndex((function(t){return t.itemKey===e.itemKey&&t.columnKey===e.columnKey}))}}]),e}()).\u0275fac=function(e){qa()},pG.\u0275dir=At({type:pG,inputs:{selectedKeys:"selectedKeys",selectionKey:["kendoGridSelectBy","selectionKey"],columnKey:"columnKey"},outputs:{selectedKeysChange:"selectedKeysChange"}}),pG),YG=function(){function e(t){_classCallCheck(this,e),this.columns=t,this.allColumns=new Iu,this.leafColumns=new Iu,this.lockedColumns=new Iu,this.nonLockedColumns=new Iu,this.lockedLeafColumns=new Iu,this.nonLockedLeafColumns=new Iu,this.totalLevels=0,this.changes=new xu,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}return _createClass(e,[{key:"refresh",value:function(){var e=this,t=this.totalLevels,n=new Array,i=new Array,r=new Array,s=new Array,a=new Array,o=new Array,l=new Array,u=new Array,c=new Array,h=!1,f=!1,d=!1,p=0,v=0;this.totalLevels=0,this.columns().forEach((function(t){var g=!0===t.isLocked?i:r,m=!0===t.isLocked?s:a,y=!0===t.isLocked?u:c;uG(t)||(g.push(t),n.push(t),l.push.apply(l,eG([t])),y.push.apply(y,eG([t])),h=h||aG((function(e){return Boolean(e.groupHeaderColumnTemplateRef)}),t),f=f||aG((function(e){return Boolean(e.groupFooterTemplateRef)}),t),d=d||aG((function(e){return Boolean(e.footerTemplateRef)}),t),t.isLocked||(p+=t.width||0),t.isSpanColumn?t.childColumns.forEach((function(e){e.leafIndex=v++})):t.leafIndex=v++),m.push(t),o.push(t),e.totalLevels=t.level>e.totalLevels?t.level:e.totalLevels})),this.hasGroupHeaderColumn=h,this.hasGroupFooter=f,this.hasFooter=d,this.leafColumnsToRender=l,this.lockedColumnsToRender=u,this.nonLockedColumnsToRender=c,this.unlockedWidth=p;var g=function(){for(var e=!1,t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t],i=_slicedToArray(n,2),r=i[0],s=i[1];e=e||r.length!==s.length,r.reset(s)}return e}([this.leafColumns,n],[this.lockedLeafColumns,i],[this.nonLockedLeafColumns,r],[this.lockedColumns,s],[this.allColumns,o],[this.nonLockedColumns,a])||t!==this.totalLevels;return g&&this.changes.emit(),g}}]),e}(),QG=function e(t,n){t.forEach((function(t){n(t),t.isColumnGroup&&t.hasChildren&&e(t.childrenArray,n)}))},JG=function(e,t){var n=[];return oG(e).forEach((function(e){if(t(e))if(e.isColumnGroup){var i=JG(e.childrenArray,t);i.length&&n.push.apply(n,[e].concat(_toConsumableArray(i)))}else e.isSpanColumn&&!JG(e.childrenArray,t).length||n.push(e)})),n},XG=function(){function e(t){_classCallCheck(this,e),this.columns=t}return _createClass(e,[{key:"forEach",value:function(e){QG(this.columns,e)}},{key:"filter",value:function(e){var t=[];return QG(this.columns,(function(n){e(n)&&t.push(n)})),t}},{key:"filterHierarchy",value:function(e){return JG(this.columns.toArray(),e)}},{key:"filterSort",value:function(e){var t=[];return function e(t,n){oG(t).forEach((function(t){n(t),t.isColumnGroup&&t.hasChildren&&e(t.childrenArray,n)}))}(this.columns.toArray(),(function(n){e(n)&&t.push(n)})),t}},{key:"toArray",value:function(){var e=[];return QG(this.columns,(function(t){e.push(t)})),e}},{key:"rootColumns",value:function(){return this.columns.toArray()}},{key:"totalColumnLevels",value:function(){var e=0;return this.forEach((function(t){e=Math.max(t.level,e)})),e}}],[{key:"empty",value:function(){return new e(new Iu)}}]),e}(),eq=((mG=function(){function e(){_classCallCheck(this,e),this._columnList=XG.empty}return _createClass(e,[{key:"columns",get:function(){return JU(this._columnList().toArray()).filter(GU)}},{key:"registerColumnsContainer",value:function(e){this._columnList=e}},{key:"formatForGroup",value:function(e){var t=this.columnForGroup(e);return t?t.format:""}},{key:"isGroupable",value:function(e){var t=_slicedToArray(this.columns.filter((function(t){return t.field===e})),1)[0];return!t||t.groupable}},{key:"groupTitle",value:function(e){var t=this.columnForGroup(e);return t?t.title||t.field:this.groupField(e)}},{key:"groupHeaderTemplate",value:function(e){var t=this.columnForGroup(e);return t?t.groupHeaderTemplateRef||t.groupHeaderColumnTemplateRef:void 0}},{key:"groupField",value:function(e){return e.data?e.data.field:e.field}},{key:"columnForGroup",value:function(e){var t=this.groupField(e);return _slicedToArray(this.columns.filter((function(e){return e.field===t})),1)[0]}}]),e}()).\u0275fac=function(e){return new(e||mG)},mG.\u0275prov=Ce({token:mG,factory:mG.\u0275fac}),mG),tq=((gG=function(){function e(t){_classCallCheck(this,e),this.ngZone=t,this.changes=new xu}return _createClass(e,[{key:"notify",value:function(){var e=this;this.subscription&&!this.subscription.closed||(this.subscription=this.ngZone.onStable.asObservable().pipe(kg(1)).subscribe((function(){return e.changes.emit()})))}}]),e}()).\u0275fac=function(e){return new(e||gG)(st(gc))},gG.\u0275prov=Ce({token:gG,factory:gG.\u0275fac}),gG),nq=((vG=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||vG)(Ua(Tl,8))},vG.\u0275dir=At({type:vG,selectors:[["","kendoGridNoRecordsTemplate",""]]}),vG),iq=function(e){return function(t){return t.forEach((function(t){return t.style.height=e}))}},rq=function(e,t){var n=document.activeElement,i=function(e,t){for(var n=[],i=0,r=e.length;i<r&&t[i];i++)n.push([e[i],t[i]]);return n}(e.rows,t.rows);i.filter((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1];return n.style.height||i.style.height})).forEach(iq(""));var r=function(e){return e.map((function(e){var t=_slicedToArray(e,2),n=t[0],i=t[1],r=n.offsetHeight,s=i.offsetHeight;return r<s?s:r}))}(i);[e,t].forEach((function(e){return e.style.display="none"})),i.forEach(function(e){return function(t,n){return iq(e[n]+1+"px")(t)}}(r)),[e,t].forEach((function(e){return e.style.display=""})),document.activeElement!==n&&(e.contains(n)||t.contains(n))&&n.focus()},sq=((CG=function e(){_classCallCheck(this,e),this.isColumnMenu=!1,this.isPopupOpen=!1}).\u0275prov=Ce({token:CG,factory:CG.\u0275fac=function(e){return new(e||CG)}}),CG),aq=((bG=function(){function e(t){_classCallCheck(this,e),this.changes=new M,this.menuTabbingService=t}return _createClass(e,[{key:"filter",value:function(e){this.changes.next(e)}}]),e}()).\u0275fac=function(e){return new(e||bG)(st(sq,8))},bG.\u0275prov=Ce({token:bG,factory:bG.\u0275fac}),bG),oq=((kG=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||kG)(Ua(Tl,8))},kG.\u0275dir=At({type:kG,selectors:[["","kendoPagerTemplate",""]]}),kG),lq=((yG=function(){function e(){_classCallCheck(this,e),this.savePDF=new xu,this.drawPDF=new xu,this.exportClick=new xu,this.dataChanged=new xu}return _createClass(e,[{key:"save",value:function(e){this.emitEvent(this.savePDF,e)}},{key:"draw",value:function(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}},{key:"emitEvent",value:function(e,t){if(0===e.observers.length){if(Ri())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-grid-pdf> component.")}else e.emit(t)}}]),e}()).\u0275fac=function(e){return new(e||yG)},yG.\u0275prov=Ce({token:yG,factory:yG.\u0275fac}),yG),uq=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(rU),cq=((wG=function e(){_classCallCheck(this,e),this.scroll=!1}).\u0275prov=Ce({token:wG,factory:wG.\u0275fac=function(e){return new(e||wG)}}),wG),hq=function(e){return window.matchMedia(e).matches},fq=((xG=function(){function e(){_classCallCheck(this,e),this.matchMedia=hq}return _createClass(e,[{key:"matchesMedia",value:function(e){return!e||this.matchMedia(function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]||e}(e))}}]),e}()).\u0275fac=function(e){return new(e||xG)},xG.\u0275prov=Ce({token:xG,factory:xG.\u0275fac}),xG),dq=((SG=function(){function e(){_classCallCheck(this,e),this.saveToExcel=new xu,this.exportClick=new xu}return _createClass(e,[{key:"save",value:function(e){if(0===this.saveToExcel.observers.length){if(Ri())throw new Error("Saving excel requires including the ExcelModule and adding the <kendo-grid-excel> component.")}else this.saveToExcel.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||SG)},SG.\u0275prov=Ce({token:SG,factory:SG.\u0275fac}),SG),pq=((_G=function(){function e(t){_classCallCheck(this,e),this.templateRef=t,this._position="top"}return _createClass(e,[{key:"position",get:function(){return this._position},set:function(e){this._position=e}}]),e}()).\u0275fac=function(e){return new(e||_G)(Ua(Tl,8))},_G.\u0275dir=At({type:_G,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),_G),vq=function(){var e=function(){function e(t){var n=this;_classCallCheck(this,e),this.ngZone=t,this.changes=new M,this.elements=[],this.subscriptions=new C,this.headerSubscription=new C,this.bodySubscription=new C,this.subscriptions.add(this.changes.subscribe((function(e){return n.scrollLeft(e)})))}return _createClass(e,[{key:"registerEmitter",value:function(e,t){var n=this;this.unregister(t),this.elements.push({element:e,sourceType:t}),"body"!==t&&"header"!==t||this.ngZone.runOutsideAngular((function(){var i=hb(e,"scroll").pipe($((function(e){return{scrollLeft:e.target.scrollLeft,sourceType:t}}))),r=i.pipe(function(e,t){return function(t){return t.lift(new vC(e,void 0))}}((function(e,t){return e.scrollLeft===t.scrollLeft})),tg((function(e){return!n.source||n.source===e.sourceType})),Pg((function(e){return n.source=e.sourceType}))).subscribe((function(e){return n.changes.next(e)}));r.add(i.pipe(tg((function(e){return n.source&&n.source!==e.sourceType}))).subscribe((function(){return n.source=void 0}))),"body"===t?n.bodySubscription.add(r):n.headerSubscription.add(r)}))}},{key:"destroy",value:function(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}},{key:"scrollLeft",value:function(e){var t=this,n=e.scrollLeft,i=e.sourceType;this.ngZone.runOutsideAngular((function(){t.elements.filter((function(e){return i!==e.sourceType})).forEach((function(e){return e.element.scrollLeft=n}))}))}},{key:"unregister",value:function(e){var t=this.elements.findIndex((function(t){return t.sourceType===e}));t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new C):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new C),this.elements.splice(t,1))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(st(gc))},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),gq=function(){var e=function(){function e(){_classCallCheck(this,e),this.resizeSubscription=new C((function(){})),this.dispatcher=new M,this.changes=this.dispatcher.asObservable().pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sb,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mC;return function(i){return i.lift(new yC(e,t,n.leading,n.trailing))}}(100))}return _createClass(e,[{key:"connect",value:function(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}},{key:"destroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Ce({token:e,factory:e.\u0275fac}),e}(),mq=function e(t){return t.parent?e(t.parent):!!t.locked},yq=function(e,t){return Object.assign({columns:sG([e]),locked:mq(e)},t)},kq=((EG=function(){function e(){_classCallCheck(this,e),this.changes=new xu,this.tables=[],this.batch=null}return _createClass(e,[{key:"start",value:function(e){this.trackColumns(e);var t=(this.column.isColumnGroup?[e]:[]).concat(sG([e]));this.changes.emit({columns:t,locked:mq(this.column),type:"start"})}},{key:"resizeColumns",value:function(e){var t=yq(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}},{key:"resizeTable",value:function(e,t){var n=yq(e,{delta:t,type:"resizeTable"});this.changes.emit(n)}},{key:"resizedColumn",value:function(e){this.resizedColumns.push(e)}},{key:"end",value:function(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}},{key:"registerTable",value:function(e){var t=this;return this.tables.push(e),function(){t.tables.splice(t.tables.indexOf(e),1)}}},{key:"measureColumns",value:function(e){var t,n=this;null!==this.batch?(t=this.batch).push.apply(t,_toConsumableArray(e)):this.autoFitBatch(e,(function(){return n.end()}))}},{key:"autoFit",value:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n.filter((function(e){return!e.isLocked}));this.autoFitStart(r),this.autoFitBatch(this.batch,(function(){if(r.length<n.length){var t=n.filter((function(e){return e.isLocked}));e.autoFitStart(t),e.autoFitBatch(e.batch,(function(){return e.end()}))}else e.end()}))}},{key:"trackColumns",value:function(e){this.resizedColumns=[],this.column=e}},{key:"autoFitStart",value:function(e){if(this.batch=[],this.resizedColumns=[],0!==e.length){var t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}}},{key:"autoFitBatch",value:function(e,t){var n=this,i=e.length>0&&e[0].column.isLocked;(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[t.length-1];return"function"==typeof i&&t.pop(),ie(t,void 0).lift(new Gb(i))}).apply(void 0,_toConsumableArray(this.tables.filter((function(e){return e.locked===i})).map((function(t){return t.autoFit(e)})))).pipe(kg(1)).subscribe((function(r){n.changes.emit({columns:e.map((function(e){return e.column})),type:"autoFitComplete",widths:r,locked:i}),t&&t()})),this.batch=null}}]),e}()).\u0275fac=function(e){return new(e||EG)},EG.\u0275prov=Ce({token:EG,factory:EG.\u0275fac}),EG),bq=function(e){return!0===e||"string"==typeof e&&e.indexOf("row")>-1},Cq=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).originalEvent=e,i}return n}(rU),wq=((IG=function(){function e(t,n,i,r,s){var a=this;_classCallCheck(this,e),this.popupService=t,this.renderer=n,this.ngZone=i,this.localization=s,this.onClose=new M,this.scrollSubscription=r.changes.subscribe((function(){return a.destroy()}))}return _createClass(e,[{key:"open",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"k-grid-filter-popup",r=WB(n)&&this.popupRef===n;if(this.destroy(),!r){var s=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:s},popupAlign:{vertical:"top",horizontal:s},anchor:e,popupClass:i,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}},{key:"destroy",value:function(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}},{key:"ngOnDestroy",value:function(){this.destroy(),this.scrollSubscription.unsubscribe()}},{key:"detachClose",value:function(){this.removeClick&&this.removeClick()}},{key:"attachClose",value:function(e){var t=this;this.detachClose(),this.ngZone.runOutsideAngular((function(){return t.removeClick=t.renderer.listen("document","click",(function(n){if(!function(n,i){for(;n;){if(r=n,t.popupRef.popupElement===r||r===e)return!0;n=n.parentNode}var r;return!1}(n.target)){var i=new Cq(n);t.onClose.next(i),i.isDefaultPrevented()||t.destroy()}}))}))}}]),e}()).\u0275fac=function(e){return new(e||IG)(st(Dx),st(ul),st(gc),st(vq),st(tC))},IG.\u0275prov=Ce({token:IG,factory:IG.\u0275fac}),IG),_q=function(e){var t=!1;return function(){return t||(document.body.appendChild(e),t=!0),e}},Sq=function(e){var t=function(e){return e.ownerDocument.documentElement}(e),n=t.clientTop,i=t.clientLeft,r=function(e){return e.ownerDocument.defaultView}(e),s=r.pageYOffset,a=r.pageXOffset,o=e.getBoundingClientRect();return{top:o.top+s-n,left:o.left+a-i}},xq=function(e,t){return 0!=(4&t.compareDocumentPosition(e))},Eq=function(e,t){return e===t||0!=(16&t.compareDocumentPosition(e))},Iq=function(e,t){var n=Sq(e),i=e.offsetWidth,r=e.offsetHeight;return{left:n.left+(t?0:i),top:n.top,height:r}},Tq=((TG=function(){function e(){_classCallCheck(this,e),this.changes=new xu,this.register=[],this.lastTarget=null}return _createClass(e,[{key:"add",value:function(e){this.register.push(e)}},{key:"remove",value:function(e){this.register=this.register.filter((function(t){return t!==e}))}},{key:"notifyDrag",value:function(e,t,n){var i=this.targetFor(t);this.lastTarget!==i&&(this.changes.next({draggable:e,mouseEvent:n,target:this.lastTarget,type:"leave"}),i&&this.changes.next({draggable:e,mouseEvent:n,target:i,type:"enter"}),this.lastTarget=i)}},{key:"notifyDrop",value:function(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}},{key:"targetFor",value:function(e){var t=Eq.bind(null,e);return this.register.find((function(e){var n=e.element.nativeElement;return t(n)}))}}]),e}()).\u0275fac=function(e){return new(e||TG)},TG.\u0275prov=Ce({token:TG,factory:TG.\u0275fac}),TG),Fq=function(e,t){var n=e.querySelector(".k-icon");n.className=n.className.replace(/(plus|cancel)/,t?"plus":"cancel")},Aq=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.querySelectorAll(".k-icon")[1],i=null==t?"":t?"k-i-lock":"k-i-unlock";n.className=n.className.replace(/(k-i-unlock|k-i-lock)/,"")+" "+i},Dq=((DG=function(){function e(t){_classCallCheck(this,e),this.santizer=t}return _createClass(e,[{key:"create",value:function(e){var t;this.dom=document.createElement("div"),(t=this.dom).className="k-header k-drag-clue",t.style.position="absolute",t.style.zIndex="20000";var n=this.santizer.sanitize(nr.HTML,e);this.dom.innerHTML='\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            '.concat(n,"\n        ")}},{key:"attach",value:function(){return _q(this.dom)}},{key:"remove",value:function(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout((function(){return document.body.removeChild(e)})),this.dom=null)}},{key:"show",value:function(){this.dom.style.display=""}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"enable",value:function(){Fq(this.dom,!0)}},{key:"disable",value:function(){Fq(this.dom,!1)}},{key:"removeLock",value:function(){Aq(this.dom)}},{key:"toggleLock",value:function(e){Aq(this.dom,e)}},{key:"move",value:function(e){this.dom.style.top=e.pageY+"px",this.dom.style.left=e.pageX+"px"}}]),e}()).\u0275fac=function(e){return new(e||DG)(st(sd))},DG.\u0275prov=Ce({token:DG,factory:DG.\u0275fac}),DG),Oq=((AG=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(){this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide()}},{key:"attach",value:function(){return _q(this.dom)}},{key:"remove",value:function(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}},{key:"hide",value:function(){this.dom.style.display="none"}},{key:"position",value:function(e){var t=e.left,n=e.top,i=e.height;this.dom.style.display="block",this.dom.style.height=i+"px",this.dom.style.top=n+"px",this.dom.style.left=t-this.dom.offsetWidth/2+"px"}}]),e}()).\u0275fac=function(e){return new(e||AG)},AG.\u0275prov=Ce({token:AG,factory:AG.\u0275fac}),AG),Rq=((FG=function(){function e(){_classCallCheck(this,e),this.changes=new xu}return _createClass(e,[{key:"reorder",value:function(e){this.changes.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||FG)},FG.\u0275prov=Ce({token:FG,factory:FG.\u0275fac}),FG),Pq=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=e.column,s=e.newIndex,a=e.oldIndex;return _classCallCheck(this,n),(i=t.call(this)).column=r,i.newIndex=s,i.oldIndex=a,i}return n}(rU),Lq=function(){function e(t,n,i,r,s,a,o,l){_classCallCheck(this,e),this.dataRows=t,this.headerRows=n,this.isVirtual=i,this.hasPager=r,this.hasDetailTemplate=s,this.gridElement=a,this.virtualColumns=o,this.columns=l}return _createClass(e,[{key:"maxLogicalRowIndex",get:function(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}]),e}(),Nq=0,Mq=((OG=function(){function e(){_classCallCheck(this,e),this.prefix="k-grid"+Nq++}return _createClass(e,[{key:"cellId",value:function(e,t){return"".concat(this.prefix,"-r").concat(e,"c").concat(t)}},{key:"selectionCheckboxId",value:function(e){return"".concat(this.prefix,"-checkbox").concat(e)}},{key:"selectAllCheckboxId",value:function(){return this.prefix+"-select-all"}}]),e}()).\u0275fac=function(e){return new(e||OG)},OG.\u0275prov=Ce({token:OG,factory:OG.\u0275fac}),OG),Vq={left:"0px",right:"0px"},Hq=((PG=function(){function e(){_classCallCheck(this,e),this.visibilityChange=new xu,this.lockedChange=new xu,this.stickyChange=new xu,this.columnRangeChange=new xu,this.columnsContainer=new YG((function(){return[]}))}return _createClass(e,[{key:"lockedLeafColumns",get:function(){return this.columnsContainer.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columnsContainer.nonLockedLeafColumns}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"totalLevels",get:function(){return this.columnsContainer.totalLevels}},{key:"leafNamedColumns",get:function(){var e=JU(this.list().filterSort((function(e){return!e.isColumnGroup}))).filter((function(e){return e.matchesMedia&&e.displayTitle}));return NS(e,[{field:"locked",dir:"desc"}])}},{key:"unlockedRootCount",get:function(){return this.list().rootColumns().filter((function(e){return!e.locked&&e.isVisible})).length}},{key:"stickyColumnsStyles",value:function(e){if(this.stickyColumns||(this.stickyColumns=this.list().rootColumns().filter((function(e){return e.sticky&&!e.locked&&e.isVisible}))),0===this.stickyColumns.length)return Vq;var t=this.stickyColumns.reduce((function(t,n){return n.leafIndex<e.leafIndex?t.left+=n.width:n.leafIndex>e.leafIndex&&(t.right+=n.width),t}),{left:0,right:0});return{left:t.left+"px",right:t.right+"px"}}},{key:"init",value:function(e,t){this.columnsContainer=e,this.list=t,this.stickyColumns=null}},{key:"changeVisibility",value:function(e){this.stickyColumns=null,this.visibilityChange.emit(e)}},{key:"changeLocked",value:function(e){this.stickyColumns=null,this.lockedChange.emit(e)}},{key:"changeStuck",value:function(e){this.stickyColumns=null,this.stickyChange.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||PG)},PG.\u0275prov=Ce({token:PG,factory:PG.\u0275fac}),PG),jq=((RG=function(){function e(){_classCallCheck(this,e),this.changes=new M}return _createClass(e,[{key:"sort",value:function(e){this.changes.next(e)}}]),e}()).\u0275fac=function(e){return new(e||RG)},RG.\u0275prov=Ce({token:RG,factory:RG.\u0275fac}),RG),Bq=function e(t){_classCallCheck(this,e),this.columns=t},zq=function e(t){_classCallCheck(this,e),this.columns=t};function Uq(e,t){return"data"===t.type&&t.isEditing?t.data:e}var Gq,qq=function e(t){_classCallCheck(this,e),this.columns=t},Kq=function(e,t){return Bz(e,Hz("k-grid-edit-cell"))&&Bz(e,jz("kendo-grid"))===t},Wq={},$q=((Gq=function(){function e(t,n,i,r,s,a,o,l,u,c,h,f,d,p,v,g,m,y,k,b,C,w,_,S,x){var E,I,T,F=this;_classCallCheck(this,e),this.supportService=t,this.selectionService=n,this.cellSelectionService=i,this.wrapper=r,this.groupInfoService=s,this.groupsService=a,this.changeNotification=o,this.detailsService=l,this.editService=u,this.filterService=c,this.pdfService=h,this.responsiveService=f,this.renderer=d,this.excelService=p,this.ngZone=v,this.scrollSyncService=g,this.domEvents=m,this.columnResizingService=y,this.changeDetectorRef=k,this.columnReorderService=b,this.columnInfoService=C,this.navigationService=w,this.sortService=_,this.scrollRequestService=S,this.data=[],this.scrollable="scrollable",this.selectable=!1,this.trackBy=Uq,this.virtualColumns=!1,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.navigable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.loading=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new xu,this.pageChange=new xu,this.groupChange=new FU(this.ngZone),this.sortChange=new xu,this.selectionChange=new xu,this.dataStateChange=new xu,this.groupExpand=new xu,this.groupCollapse=new xu,this.detailExpand=new xu,this.detailCollapse=new xu,this.edit=new xu,this.cancel=new xu,this.save=new xu,this.remove=new xu,this.add=new xu,this.cellClose=new xu,this.cellClick=new FU(this.ngZone),this.pdfExport=new xu,this.excelExport=new xu,this.columnResize=new FU(this.ngZone),this.columnReorder=new xu,this.columnVisibilityChange=new xu,this.columnLockedChange=new xu,this.columnStickyChange=new xu,this.scrollBottom=new xu,this.contentScroll=new xu,this.columns=new Iu,this.footer=new Iu,this.selectionDirective=!1,this.columnsContainer=new YG((function(){return F.columnList.filterHierarchy((function(e){return e.matchesMedia=F.matchesMedia(e),e.isVisible}))})),this.view=new $G((function(){return new WG(F.data,F.skip,F.hasGroupFooters)})),this.shouldGenerateColumns=!0,this._sort=new Array,this._group=new Array,this._skip=0,this.cachedWindowWidth=0,this._rowSelected=null,this._cellSelected=null,this.rtl=!1,this._rowClass=function(){return null},function(e){if(I_[x_("0x6")](e[x_("0x20")])&&x_("0xb")!==x_("0xa"))return I_[x_("0x2b")](e[x_("0x20")]);var t,n,i,r=e[x_("0x3")]?" v"+e[x_("0x3")]:"",s=e[x_("0x20")]+r,a=JSON[x_("0x12")](E_[x_("0x19")]),o=!a[x_("0x11")]&&!a[x_("0x15")],l=a[x_("0x11")]&&typeof KendoLicensing===x_("0x2"),u=function(e,t){var n=e[x_("0x14")];if(!(n&&n[x_("0x2c")]||x_("0x38")!=x_("0x38")))return null;var i=new Set(t);return n[x_("0x33")]((function(e){if(x_("0x13")!==x_("0x22"))return i[x_("0x6")](e[x_("0x10")])}))}(a,e[x_("0x35")]);if(o||l?x_("0x2e")!==x_("0x1c")&&(t={type:0,packageName:s,docsUrl:e[x_("0x3a")]}):x_("0x34")!==x_("0x1")&&(u?x_("0x24")!==x_("0x32")&&u[x_("0x7")]<e[x_("0x37")]&&x_("0x30")==x_("0x30")&&(t={type:2,packageName:s,publishDate:T_(e[x_("0x37")]),expiryDate:T_(u[x_("0x7")]),docsUrl:e[x_("0x3a")]}):x_("0x2a")==x_("0x2a")&&(t={type:1,packageName:s,docsUrl:e[x_("0x3a")]})),t&&typeof console===x_("0x17")&&x_("0x0")!==x_("0x8")){var c=x_("0x1d")+e[x_("0x27")],h=typeof console[x_("0x28")]===x_("0x25");h?x_("0xc")!=x_("0xc")||console[x_("0x28")](c):x_("0x18")==x_("0x18")&&console[x_("0x1f")](c),console[x_("0x1f")]((n=t,i=x_("0x4")+n[x_("0x3b")]+"\n",2===n[x_("0xd")]?x_("0x16")!==x_("0x1a")&&(i+=x_("0x26")+n[x_("0x3c")][x_("0x9")]()+x_("0x2f")+n[x_("0x37")][x_("0x9")]()+".\n"):0===n[x_("0xd")]?x_("0x2d")==x_("0x2d")&&(i+=x_("0x36")):1===n[x_("0xd")]&&(x_("0xe")===x_("0xf")||(i+=x_("0x29"))),i+(x_("0x39")+n[x_("0x21")]+x_("0x1b")))),h&&(x_("0x5")===x_("0x31")||console[x_("0x23")]())}var f=!t;I_[x_("0x1e")](e[x_("0x20")],f)}(AU),this.localizationSubscription=x.changes.subscribe((function(e){var t=e.rtl;F.rtl=t,F.direction=F.rtl?"rtl":"ltr"})),this.groupInfoService.registerColumnsContainer((function(){return F.columnList})),this.columnInfoService.init(this.columnsContainer,(function(){return F.columnList})),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe((function(e){F.columnVisibilityChange.emit(new Bq(e))})),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe((function(e){F.columnLockedChange.emit(new zq(e))})),this.columnStickyChangeSubscription=this.columnInfoService.stickyChange.subscribe((function(e){F.columnStickyChange.emit(new qq(e))})),this.groupExpandCollapseSubscription=(E=this.groupExpand,I=this.groupCollapse,T=function(e){return{group:e.group,groupIndex:e.groupIndex,parentGroup:e.parentGroup}},a.changes.pipe(tg((function(e){var t=e.group;return WB(t)}))).subscribe((function(e){return e.expand?E.emit(T(e)):I.emit(T(e))}))),this.detailsServiceSubscription=function(e,t,n,i){return e.changes.pipe(tg((function(e){var t=e.dataItem;return WB(t)}))).subscribe((function(e){return e.expand?t.emit(e):n.emit(e)}))}(l,this.detailExpand,this.detailCollapse),this.filterSubscription=this.filterService.changes.subscribe((function(e){F.filterChange.emit(e)})),this.sortSubscription=this.sortService.changes.subscribe((function(e){F.sortChange.emit(e)})),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new XG(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}return _createClass(e,[{key:"skip",get:function(){return this._skip},set:function(e){e>=0&&(this._skip=e)}},{key:"sort",get:function(){return this._sort},set:function(e){ZB(e)&&(this._sort=e)}},{key:"group",get:function(){return this._group},set:function(e){ZB(e)&&(this._group=e)}},{key:"showTopToolbar",get:function(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}},{key:"showBottomToolbar",get:function(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"showTopPager",get:function(){return!this.isVirtual&&!1!==this.pageable&&["top","both"].indexOf(this.pageable.position)>-1}},{key:"showBottomPager",get:function(){return!this.isVirtual&&!1!==this.pageable&&"top"!==this.pageable.position}},{key:"hasPager",get:function(){return this.showTopPager||this.showBottomPager}},{key:"showGroupPanel",get:function(){return this.groupable&&!1!==this.groupable.enabled}},{key:"groupableEmptyText",get:function(){return this.groupable.emptyText}},{key:"marqueeSelection",get:function(){return this.selectionService.enableMarquee||this.cellSelectionService.enableMarquee}},{key:"navigatable",get:function(){return this.navigable},set:function(e){this.navigable=e}},{key:"rowClass",get:function(){return this._rowClass},set:function(e){if(Ri&&"function"!=typeof e)throw new Error("rowClass must be a function, but received ".concat(JSON.stringify(e),"."));this._rowClass=e}},{key:"rowSticky",get:function(){return this._rowSticky},set:function(e){if(Ri&&WB(e)&&"function"!=typeof e)throw new Error("rowSticky must be a function, but received ".concat(JSON.stringify(e),"."));WB(e)&&(this._rowSticky=e)}},{key:"rowSelected",get:function(){return this._rowSelected},set:function(e){if(Ri&&"function"!=typeof e)throw new Error("rowSelected must be a function, but received ".concat(JSON.stringify(e),"."));this._rowSelected=e}},{key:"cellSelected",get:function(){return this._cellSelected},set:function(e){if(Ri&&"function"!=typeof e)throw new Error("cellSelected must be a function, but received ".concat(JSON.stringify(e),"."));this._cellSelected=e}},{key:"activeCell",get:function(){return this.navigationService.activeCell}},{key:"activeRow",get:function(){return this.navigationService.activeRow}},{key:"dir",get:function(){return this.direction}},{key:"hostClasses",get:function(){return!0}},{key:"lockedClasses",get:function(){return this.lockedLeafColumns.length>0}},{key:"virtualClasses",get:function(){return this.isVirtual}},{key:"noScrollbarClass",get:function(){return 0===this.scrollbarWidth}},{key:"detailTemplate",get:function(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0},set:function(e){this._customDetailTemplate=e}},{key:"noRecordsTemplate",get:function(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0},set:function(e){this._customNoRecordsTemplate=e}},{key:"pagerTemplate",get:function(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0},set:function(e){this._customPagerTemplate=e}},{key:"toolbarTemplate",get:function(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0},set:function(e){this._customToolbarTemplate=e}},{key:"scrollbarWidth",get:function(){return this.supportService.scrollbarWidth}},{key:"headerPadding",get:function(){if(XB())return"";var e=Math.max(0,this.scrollbarWidth-1)+"px";return"0 ".concat(this.rtl?0:e," 0 ").concat(this.rtl?e:0)}},{key:"hasGroupFooters",get:function(){return this.columnsContainer.hasGroupFooter}},{key:"showFooter",get:function(){return this.columnsContainer.hasFooter}},{key:"showGroupFooters",get:function(){return this.groupable&&this.groupable.showFooter}},{key:"ariaRowCount",get:function(){return this.totalColumnLevels+1+this.view.total}},{key:"ariaColCount",get:function(){return this.columnsContainer.leafColumnsToRender.length}},{key:"isVirtual",get:function(){return"virtual"===this.scrollable}},{key:"isScrollable",get:function(){return"none"!==this.scrollable}},{key:"visibleColumns",get:function(){return this.columnsContainer.allColumns}},{key:"lockedColumns",get:function(){return this.columnsContainer.lockedColumns}},{key:"nonLockedColumns",get:function(){return this.columnsContainer.nonLockedColumns}},{key:"lockedLeafColumns",get:function(){return this.columnsContainer.lockedLeafColumns}},{key:"stickyColumns",get:function(){return this.columns.filter((function(e){return e.sticky}))}},{key:"nonLockedLeafColumns",get:function(){return this.columnsContainer.nonLockedLeafColumns}},{key:"leafColumns",get:function(){return this.columnsContainer.leafColumns}},{key:"totalColumnLevels",get:function(){return this.columnsContainer.totalLevels}},{key:"headerColumns",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}},{key:"headerLeafColumns",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}},{key:"lockedWidth",get:function(){var e=32*this.group.length;return JU(this.lockedLeafColumns.toArray()).reduce((function(e,t){return e+(t.width||0)}),e)}},{key:"nonLockedWidth",get:function(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((function(e,t){return e+(t.width||0)}),0):this.columnsContainer.unlockedWidth}},{key:"selectableSettings",get:function(){if(this.selectionService)return this.selectionService.options}},{key:"columnMenuTemplate",get:function(){var e=this.columnMenuTemplates.first;return e?e.templateRef:null}},{key:"totalCount",get:function(){return this.isVirtual||!WB(this.pageSize)?this.view.total:this.pageSize}},{key:"expandRow",value:function(e){this.toggleDetailRowLegacy(e,!0)}},{key:"collapseRow",value:function(e){this.toggleDetailRowLegacy(e,!1)}},{key:"expandGroup",value:function(e){this.toggleGroupRowLegacy(e,!0)}},{key:"collapseGroup",value:function(e){this.toggleGroupRowLegacy(e,!1)}},{key:"resetGroupsState",value:function(){this.groupsService.reset()}},{key:"expandGroupChildren",value:function(e){this.groupsService.expandChildren(e)}},{key:"onDataChange",value:function(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),WB(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}},{key:"ngOnChanges",value:function(e){var t=this;bb("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&Cb(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),Cb(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),bb("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),bb("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",this.height+"px"),bb("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(kg(1))),Cb(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:Boolean(this.filterable),sort:Boolean(this.sortable)},this.columnMenu)),bb("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(kg(1)).subscribe((function(){return t.attachScrollSync()})),bb("selectable",e)&&this.shouldResetSelection(e.selectable)&&(this.defaultSelection?this.defaultSelection.reset():this.selectionDirective&&this.selectionDirective.reset()),bb("groupable",e,!0)&&(this.groupable=e.groupable.currentValue)}},{key:"ngAfterViewInit",value:function(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}},{key:"ngAfterContentChecked",value:function(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}},{key:"ngAfterContentInit",value:function(){var e=this;this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new XG(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe((function(){return e.verifySettings()}))}},{key:"ngOnInit",value:function(){this.navigable&&this.navigationService.init(this.navigationMetadata())}},{key:"ngOnDestroy",value:function(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.columnStickyChangeSubscription&&this.columnStickyChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}},{key:"attachScrollSync",value:function(){var e=this;XB()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=JB(this.footer).subscribe((function(t){return t.map((function(e){return e.nativeElement})).filter(WB).forEach((function(t){return e.scrollSyncService.registerEmitter(t,"footer")}))}))))}},{key:"editRow",value:function(e,t,n){if(this.editService.editRow(e,t),!WB(n)||!n.skipFocus){var i='tr[data-kendo-grid-item-index="'.concat(e,'"]'),r=n&&n.columnIndex,s=isNaN(r)?i:"".concat(i,' td[data-kendo-grid-column-index="').concat(r,'"]');this.focusEditElement(s)}}},{key:"closeRow",value:function(e){this.editService.close(e)}},{key:"addRow",value:function(e){if(!(e instanceof Xw)){var t=Object.keys(e).reduce((n=e,function(e,t){return e[t]=new Jw(n[t]),e}),{});e=new Xw(t)}var n;this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}},{key:"editCell",value:function(e,t,n){var i=this.columnInstance(t);this.editService.editCell(e,i,n),this.focusEditElement(".k-grid-edit-cell")}},{key:"closeCell",value:function(){return!this.editService.closeCell()}},{key:"cancelCell",value:function(){this.editService.cancelCell()}},{key:"isEditing",value:function(){return this.editService.isEditing()}},{key:"isEditingCell",value:function(){return this.editService.isEditingCell()}},{key:"saveAsPDF",value:function(){this.pdfService.save(this)}},{key:"drawPDF",value:function(){var e=function(){var e,t,n=new Promise((function(i,r){e=function(e){return i(e),n},t=function(e){return r(e),n}}));return n.resolve=e,n.reject=t,n}();return this.pdfService.draw(this,e),e}},{key:"saveAsExcel",value:function(){this.excelService.save(this)}},{key:"autoFitColumn",value:function(e){this.columnResizingService.autoFit(e)}},{key:"autoFitColumns",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.columns;t=n instanceof Iu?n.toArray():n,(e=this.columnResizingService).autoFit.apply(e,_toConsumableArray(t))}},{key:"notifyPageChange",value:function(e,t){("list"!==e||this.isVirtual)&&this.pageChange.emit(t)}},{key:"notifyScrollBottom",value:function(){var e=this;"none"!==this.scrollable&&wb(this.scrollBottom)&&this.ngZone.run((function(){return e.scrollBottom.emit({sender:e})}))}},{key:"focusEditElement",value:function(e){var t=this;this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular((function(){t.focusElementSubscription=t.ngZone.onStable.asObservable().pipe(kg(1)).subscribe((function(){var n=t.wrapper.nativeElement;!t.setEditFocus(n.querySelector(e))&&t.isLocked&&t.setEditFocus(n.querySelector(".k-grid-content "+e)),t.focusElementSubscription=null}))}))}},{key:"focus",value:function(){return this.assertNavigable(),this.navigationService.focusCell()}},{key:"focusCell",value:function(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}},{key:"focusNextCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertNavigable(),this.navigationService.focusNextCell(e)}},{key:"focusPrevCell",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertNavigable(),this.navigationService.focusPrevCell(e)}},{key:"scrollTo",value:function(e){this.scrollRequestService.scrollTo(e)}},{key:"reorderColumn",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{before:!1},i=oG(this.allColumnsForLevel(e.level))[t];i&&(i.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||($U(i)&&!n.before&&(i=i.childColumns.last),this.reorder({before:n.before,source:e,target:i})))}},{key:"isDetailExpanded",get:function(){return this.detailsService.userCallback},set:function(e){this.detailsService.userCallback=e}},{key:"isGroupExpanded",get:function(){return this.groupsService.userCallback},set:function(e){this.groupsService.userCallback=e,this.groupable=WB(e)}},{key:"reorder",value:function(e){var t=this,n=e.target,i=e.source,r=e.before,s=e.changeContainer;this.ngZone.run((function(){var e=oG(t.allColumnsForLevel(i.level)),a=e.indexOf(n);n.parent&&n.parent.isSpanColumn&&(a=e.indexOf(n.parent),r&&(n=n.parent));var o=e.indexOf(i);s&&(r&&0<a&&o<a?a--:!r&&o>a&&a++);var l=new Pq({column:i,oldIndex:o,newIndex:a});t.columnReorder.emit(l),l.isDefaultPrevented()||(s&&t.columnLockedChange.emit(new zq([i])),t.updateColumnIndices({columnsForLevel:e,source:i,target:n,before:r}),i.locked!==n.locked&&(i.locked=n.locked),t.columnsContainer.refresh(),t.changeDetectorRef.markForCheck())}))}},{key:"updateColumnIndices",value:function(e){var t=e.columnsForLevel,n=e.source,i=e.target,r=e.before,s=XU(t),a=s.indexOf(n),o=0,l=0,u=1;n.isSpanColumn&&(u+=n.childColumns.length);for(var c=0;c<s.length;){var h=s[c];if(h===i)o=r?l:l+1,l=r?l+u:l,h.orderIndex=l,o===l+1&&(l+=u);else{if(h===n){c+=u;continue}h.orderIndex=l}l++,c++}for(c=a;c<a+u;c++)s[c].orderIndex=o++;this.updateIndicesForLevel(n.level+1)}},{key:"updateIndicesForLevel",value:function(e){var t=this.allColumnsForLevel(e-1),n=[];oG(t).forEach((function(e){e.isColumnGroup&&n.push.apply(n,_toConsumableArray(e.childrenArray.sort((function(e,t){return e.orderIndex-t.orderIndex}))))})),XU(n).map((function(e,t){return e.orderIndex=t})),e<this.columnList.totalColumnLevels()&&this.updateIndicesForLevel(e+1)}},{key:"allColumnsForLevel",value:function(e){return this.columnList.toArray().filter((function(t){return t.level===e}))}},{key:"initSelectionService",value:function(){var e=this;if(!this.selectable)return this.selectionService.ngOnDestroy(),void this.cellSelectionService.ngOnDestroy();this.selectionDirective||WB(this.defaultSelection)||(this.defaultSelection=new ZG(this,this.changeDetectorRef));var t=this.selectable.cell,n=t?this.cellSelectionService:this.selectionService,i=t?this.selectionService:this.cellSelectionService;i.active&&(i.ngOnDestroy(),n.addSubscriptions(),i.active=!1),n.active=!0,n.init({cellSelected:t?this.cellSelected:void 0,rowSelected:t?void 0:this.rowSelected,selectable:this.selectable,view:this.view,columns:t?this.columnList.toArray():void 0}),this.selectionDirective||this.selectableSettings.enabled||this.defaultSelection.reset(),this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=t?this.cellSelectionService.changes.subscribe((function(t){e.ngZone.run((function(){return e.selectionChange.emit(t)}))})):this.selectionService.changes.subscribe((function(t){e.ngZone.run((function(){return e.selectionChange.emit(t)}))}))}},{key:"setEditFocus",value:function(e){if(e)return this.navigationService.tryFocus(e)}},{key:"columnInstance",value:function(e){var t;if(!(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter((function(t){return t.field===e}))[0]:e)&&Ri())throw new Error("Invalid column "+e);return t}},{key:"verifySettings",value:function(){if(Ri()){var e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock,t=this.stickyColumns.length||this.columnMenu&&this.columnMenu.stick;if(e&&this.detailTemplate)throw new Error("Having both detail template and locked columns is not supported.");if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length)throw new Error("There should be at least one non-locked column");if((e||this.virtualColumns)&&JU(this.columnList.toArray()).filter((function(e){return!e.width&&!uG(e)})).length)throw new Error((e?"Locked":"Virtual")+" columns feature requires all columns to have set width.");if(e&&!this.isScrollable)throw new Error("Locked columns are only supported when scrolling is enabled.");if(this.columnList.filter(uG).filter((function(e){return!e.hasChildren})).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter((function(e){return e.locked&&e.parent&&!e.parent.isLocked})).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual)throw new Error("Row height and detail row height settings require virtual scrolling mode to be enabled.");if(t&&JU(this.columnList.toArray()).filter((function(e){return!e.width&&!uG(e)})).length)throw new Error("Sticky columns feature requires all columns to have set width.");if(t&&!this.isScrollable)throw new Error("Sticky columns are only supported when scrolling is enabled.");if(t&&this.virtualColumns)throw new Error("Having both sticky columns and column virtualization is not supported.");if(this.rowSticky&&"virtual"===this.scrollable)throw new Error('Having both sticky rows and row virtualization (scrollable="virtual") is not supported.');if(this.rowSticky&&this.groupable)throw new Error("Having both sticky rows and grouping is not supported.");JU(this.columnList.toArray()).filter(GU).filter((function(e){var t,n=e.field;return!(!QB(t=n)&&rG.test(t)&&"."!==t[0]&&"."!==t[t.length-1])})).forEach((function(e){var t=e.field;return console.warn("\n                Grid column field name '".concat(t,'\' does not look like a valid JavaScript identifier.\n                Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n                Please use only valid identifier names to ensure error-free operation.\n            '))}))}}},{key:"autoGenerateColumns",value:function(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map((function(e){var t=new WU;return t.field=e,t})))}},{key:"attachStateChangesEmitter",value:function(){var e=this;this.stateChangeSubscription=re(this.pageChange.pipe($((function(t){return{filter:e.filter,group:e.group,skip:t.skip,sort:e.sort,take:t.take}}))),this.sortChange.pipe($((function(t){return{filter:e.filter,group:e.group,skip:e.skip,sort:t,take:e.pageSize}}))),this.groupChange.pipe($((function(t){return{filter:e.filter,group:t,skip:e.skip,sort:e.sort,take:e.pageSize}}))),this.filterChange.pipe($((function(t){return{filter:t,group:e.group,skip:0,sort:e.sort,take:e.pageSize}})))).subscribe((function(t){e.closeCell(),e.cancelCell(),e.dataStateChange.emit(t)}))}},{key:"attachEditHandlers",value:function(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}},{key:"emitCRUDEvent",value:function(e){var t=e.action,n=e.rowIndex,i=e.formGroup,r=this.view.at(n-this.skip);switch("add"===t||r||(r=i.value),this.closeCell(),Object.assign(e,{dataItem:r,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}},{key:"attachDomEventHandlers",value:function(){var e=this;this.cellClickSubscription=this.domEvents.cellClick.subscribe((function(t){e.cellClick.emit(Object.assign({sender:e},t))}))}},{key:"attachElementEventHandlers",value:function(){var e=this;if(!XB()){var t=this.wrapper.nativeElement,n=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular((function(){var i=e.resizeCheck.bind(e),r=e.renderer.listen("window","resize",i),s=e.renderer.listen("window","orientationchange",i),a=e.renderer.listen("document","click",(function(t){var n=document.activeElement;!e.editService.shouldCloseCell()||Bz(t.target,Hz("k-animation-container k-grid-ignore-click"))||n&&(Bz(n,Hz("k-animation-container"))||Kq(n,e.wrapper.nativeElement))||e.editService.closeCell(t)})),o=e.renderer.listen("window","blur",(function(t){var n=document.activeElement;!n||jz("input")(n)&&"file"===n.type&&Kq(n,e.wrapper.nativeElement)||e.editService.closeCell(t),e.domEvents.windowBlur.emit(t)})),l=e.renderer.listen(t,"click",(function(t){e.domEvents.click.emit(t)})),u=e.renderer.listen(t,"keydown",(function(t){e.domEvents.keydown.emit(t)})),c=!1,h=e.renderer.listen(n,"focusin",(function(t){e.domEvents.focus.emit(t),c||(e.domEvents.focusIn.emit(t),c=!0)})),f=e.renderer.listen(n,"focusout",(function(t){var i=t.relatedTarget||document.activeElement;!Bz(i,(function(e){return e===n}))&&(e.domEvents.focusOut.emit(t),c=!1)}));e.detachElementEventHandlers=function(){r(),s(),a(),o(),l(),u(),h(),f()}}))}}},{key:"matchesMedia",value:function(e){return this.responsiveService.matchesMedia(e.media)}},{key:"resizeCheck",value:function(){var e=this;if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;var t=!1;this.columnList.filterHierarchy((function(n){var i=e.matchesMedia(n);return n.matchesMedia!==i&&(t=!0,n.matchesMedia=i),n.isVisible})),t&&this.ngZone.run((function(){e.changeDetectorRef.markForCheck()}))}}},{key:"emitPDFExportEvent",value:function(){var e=new uq;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}},{key:"syncHeaderHeight",value:function(e){var t=this;return e.pipe(tg((function(){return WB(t.lockedHeader)}))).subscribe((function(){return rq(t.lockedHeader.nativeElement.children[0],t.header.nativeElement.children[0])}))}},{key:"columnsContainerChange",value:function(){var e=this;this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(tg((function(){return e.lockedColumns.length>0})),xg((function(){return e.ngZone.onStable.asObservable().pipe(kg(1))}))))}},{key:"handleColumnResize",value:function(){var e=this,t=this.columnResizingService.changes;this.columnResizingSubscription=t.pipe(Pg((function(t){"start"===t.type?e.renderer.addClass(e.wrapper.nativeElement,"k-grid-column-resizing"):"end"===t.type&&e.renderer.removeClass(e.wrapper.nativeElement,"k-grid-column-resizing")})),tg((function(e){return"start"===e.type})),xg((function(){return t.pipe(nC(t.pipe(tg((function(e){return"triggerAutoFit"===e.type})))),tg((function(e){return"end"===e.type})))}))).subscribe(this.notifyResize.bind(this))}},{key:"notifyResize",value:function(e){var t=e.resizedColumns.filter((function(e){return YB(e.column.resizable)&&!e.column.isColumnGroup})).map((function(e){return{column:e.column,newWidth:e.column.width,oldWidth:e.oldWidth}}));this.columnResize.emit(t)}},{key:"assertNavigable",value:function(){if(Ri()&&!this.navigable)throw new Error('The Grid should be configured as [navigable]="true" to control focus')}},{key:"navigationMetadata",value:function(){var e=this.isVirtual,t=e?this.view.total:this.pageSize,n=this.editService.hasNewItem?1:0,i=bq(this.filterable)?1:0;return new Lq(t,this.totalColumnLevels+1+i+n,e,this.hasPager,WB(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}},{key:"updateNavigationMetadata",value:function(){this.navigationService.metadata=this.navigationMetadata()}},{key:"applyAutoSize",value:function(){var e=this,t=this.columns.filter((function(t){return e.autoSize?!1!==t.autoSize:t.autoSize}));t.length>0&&this.ngZone.onStable.pipe(kg(1)).subscribe((function(n){return e.autoFitColumns(t)}))}},{key:"onColumnRangeChange",value:function(e){for(var t=this.viewportColumns=[],n=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1),i=0;i<n.length;i++){for(var r=n[i];r.parent;)r=r.parent;for(var s=[r];s.length;)r=s.shift(),t.push(r),r.isColumnGroup&&s.unshift.apply(s,r.childrenArray);var a=t[t.length-1];for(r=n[i];r!==a&&i<n.length;)r=n[++i]}if(e.start>0){for(var o=n[0],l=e.offset,u=t[0],c=0;u!==o;)l-=u.isColumnGroup?0:u.width,u=t[++c];if(l>0)for(var h,f=this.columnsContainer.totalLevels,d=0;d<=f;d++){var p=d<f?new LG(h):new BU(h);h=p,p.title="\xa0",p.width=l,t.unshift(p)}}this.leafViewportColumns=t.filter((function(e){return!e.isColumnGroup}))}},{key:"toggleDetailRowLegacy",value:function(e,t){var n="function"==typeof this.isDetailExpanded;if(Ri()&&n)throw new Error("The expandRow and collapseRow methods should not be called when using the kendoGridDetailsExpandBy directive or the isDetailExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Ri()&&n||this.detailsService.isExpanded(e,null)!==t&&this.detailsService.toggleRow(e,null)}},{key:"toggleGroupRowLegacy",value:function(e,t){var n="function"==typeof this.isGroupExpanded;if(Ri()&&n)throw new Error("The expandGroup and collapseGroup methods should not be called when using the kendoGridExpandGroupBy directive or the isGroupExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Ri()&&n||this.groupsService.isExpanded({groupIndex:e})!==t&&this.groupsService.toggleRow({index:e})}},{key:"shouldResetSelection",value:function(e){var t=e.previousValue;if(!t)return!1;var n=e.currentValue;return!n||!1===n.enabled||t.cell!==n.cell}}]),e}()).\u0275fac=function(e){return new(e||Gq)(Ua(jG),Ua(xU),Ua(EU),Ua(sl),Ua(eq),Ua(uU),Ua(tq),Ua(dU),Ua(oU),Ua(aq),Ua(lq),Ua(fq),Ua(ul),Ua(dq),Ua(gc),Ua(vq),Ua(Dz),Ua(kq),Ua(sa),Ua(Rq),Ua(Hq),Ua(SU),Ua(jq),Ua(pU),Ua(tC))},Gq.\u0275cmp=St({type:Gq,selectors:[["kendo-grid"]],contentQueries:function(e,t,n){var i;1&e&&(ju(n,BU,!1),ju(n,NG,!1),ju(n,nq,!1),ju(n,oq,!1),ju(n,pq,!1),ju(n,VU,!1)),2&e&&(Nu(i=Uu())&&(t.columns=i),Nu(i=Uu())&&(t.detailTemplateChildren=i),Nu(i=Uu())&&(t.noRecordsTemplateChildren=i),Nu(i=Uu())&&(t.pagerTemplateChildren=i),Nu(i=Uu())&&(t.toolbarTemplateChildren=i),Nu(i=Uu())&&(t.columnMenuTemplates=i))},viewQuery:function(e,t){var n;1&e&&(Vu(jM,!0),Vu(BM,!0),Mu(zM,!0),Vu(UM,!0)),2&e&&(Nu(n=Uu())&&(t.lockedHeader=n.first),Nu(n=Uu())&&(t.header=n.first),Nu(n=Uu())&&(t.ariaRoot=n.first),Nu(n=Uu())&&(t.footer=n))},hostVars:11,hostBindings:function(e,t){2&e&&(Ha("dir",t.dir),Co("k-widget",t.hostClasses)("k-grid",t.hostClasses)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{data:"data",scrollable:"scrollable",selectable:"selectable",trackBy:"trackBy",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",navigable:"navigable",autoSize:"autoSize",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",skip:"skip",sort:"sort",group:"group",navigatable:"navigatable",rowClass:"rowClass",rowSticky:"rowSticky",rowSelected:"rowSelected",cellSelected:"cellSelected",isDetailExpanded:"isDetailExpanded",isGroupExpanded:"isGroupExpanded",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",filter:"filter"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",columnStickyChange:"columnStickyChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[tl([jG,tC,Hq,xU,EU,dU,uU,eq,tq,oU,lq,cq,{provide:Jz,useValue:Wq},{provide:eC,useValue:"kendo.grid"},aq,fq,cU,dq,vq,gq,Oz,Dz,kq,wq,Tq,Dq,Oq,Rq,SU,Pz,Mq,pU,jq]),qo],decls:11,vars:15,consts:[["kendoGridLocalizedMessages","",6,"groupPanelEmpty","noRecords","pagerFirstPage","pagerPreviousPage","pagerNextPage","pagerLastPage","pagerPage","pagerOf","pagerItems","pagerPageNumberInputTitle","pagerItemsPerPage","filter","filterEqOperator","filterNotEqOperator","filterIsNullOperator","filterIsNotNullOperator","filterIsEmptyOperator","filterIsNotEmptyOperator","filterStartsWithOperator","filterContainsOperator","filterNotContainsOperator","filterEndsWithOperator","filterGteOperator","filterGtOperator","filterLteOperator","filterLtOperator","filterIsTrue","filterIsFalse","filterBooleanAll","filterAfterOrEqualOperator","filterAfterOperator","filterBeforeOperator","filterBeforeOrEqualOperator","filterFilterButton","filterClearButton","filterAndLogic","filterOrLogic","loading","columns","lock","unlock","setColumnPosition","stick","unstick","sortable","sortAscending","sortDescending","sortedAscending","sortedDescending","sortedDefault","columnsApply","columnsReset","detailExpand","detailCollapse","filterDateToday","filterDateToggle","filterNumericDecrement","filterNumericIncrement","selectionCheckboxLabel","selectAllCheckboxLabel","pagerLabel","filterInputLabel","filterMenuTitle","filterMenuOperatorsDropDownLabel","filterMenuLogicDropDownLabel","columnMenu"],["class","k-toolbar k-grid-toolbar","position","top",4,"ngIf"],["class","k-grid-pager-top",3,"tabindex","template","pageSize","total","skip","options","pageChange",4,"ngIf"],[3,"text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root"],["ariaRoot",""],[3,"ngIf"],[3,"tabindex","template","pageSize","total","skip","options","pageChange",4,"ngIf"],["class","k-toolbar k-grid-toolbar k-grid-toolbar-bottom","position","bottom",4,"ngIf"],["position","top",1,"k-toolbar","k-grid-toolbar"],[1,"k-grid-pager-top",3,"tabindex","template","pageSize","total","skip","options","pageChange"],[3,"text","groups","change"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],["kendoDraggable","","kendoGridSelectionMarquee","",3,"data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","rowClass","rowSticky","loading","isVirtual","virtualColumns","enableDrag","pageChange","scrollBottom","contentScroll"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["header",""],["role","presentation",3,"virtualColumns"],["kendoGridColGroup","","role","presentation",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","presentation",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","detailTemplate","tabIndex"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["lockedHeader",""],["role","presentation",3,"locked"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","detailTemplate","tabIndex"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["footer",""],["role","presentation"],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridFooter","",3,"logicalRowIndex","scrollable","groups","columns","lockedColumnsCount","detailTemplate"],[1,"k-grid-footer-locked"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate","logicalRowIndex"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex",4,"ngIf"],["kendoGridTableBody","","kendoDraggable","","kendoGridSelectionMarquee","",3,"groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass","enableDrag"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate","tabIndex"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate"],["kendoGridLoading",""],[3,"tabindex","template","pageSize","total","skip","options","pageChange"],["position","bottom",1,"k-toolbar","k-grid-toolbar","k-grid-toolbar-bottom"]],template:function(e,t){1&e&&(Qa(0,0),eu(1,GM),Ja(),Ba(2,qM,1,0,"kendo-grid-toolbar",1),Ba(3,KM,1,7,"kendo-pager",2),Ba(4,WM,1,2,"kendo-grid-group-panel",3),$a(5,"div",4,5),Ba(7,eV,3,22,"ng-template",6),Ba(8,rV,6,20,"ng-template",6),Za(),Ba(9,sV,1,7,"kendo-pager",7),Ba(10,aV,1,0,"kendo-grid-toolbar",8)),2&e&&(iu("Page navigation, page {currentPage} of {totalPages}")("{columnName} Filter")("{columnName} Filter Menu")("{columnName} Filter Operators")("{columnName} Filter Logic")("{columnName} Column Menu"),function(e){if(nu){var t,n=ln(),i=n.data[21],r=null;Array.isArray(i)?t=i:(t=i.update,r=i.icus);var s=mn()-nu-1,a=on();!function e(t,n,i,r,s,a){for(var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=!1,u=0;u<t.length;u++){var c=t[u],h=t[++u];if(o||c&r)for(var f="",d=u+1;d<=u+h;d++){var p=t[d];if("string"==typeof p)f+=p;else if("number"==typeof p)if(p<0)f+=Yn(a[i-p]);else{var v=p>>>2,g=void 0,m=void 0;switch(3&p){case 1:var y=t[++d],k=t[++d];Jr(s,Zt(s,v),a,y,f,a[11],k,!1);break;case 0:xs(a,v,f);break;case 2:if(g=n[t[++d]],null!==(m=Zt(s,v)).activeCaseIndex)for(var b=g.remove[m.activeCaseIndex],C=0;C<b.length;C++){var w=b[C];switch(7&w){case 3:Xl(s,a,w>>>3,!1);break;case 6:var _=Zt(s,b[C+1]>>>3).activeCaseIndex;null!==_&&ht(n[w>>>3].remove[_],b)}}var S=ru(g,f);m.activeCaseIndex=-1!==S?S:null,S>-1&&(Jl(-1,g.create[S],s,a),l=!0);break;case 3:g=n[t[++d]],null!==(m=Zt(s,v)).activeCaseIndex&&e(g.update[m.activeCaseIndex],n,i,r,s,a,l)}}}u+=h}}(t,r,s,tu,n,a),tu=0,nu=0}}(),Ir(2),Ka("ngIf",t.showTopToolbar),Ir(1),Ka("ngIf",t.showTopPager),Ir(1),Ka("ngIf",t.showGroupPanel),Ir(1),Ha("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount),Ir(2),Ka("ngIf",t.isScrollable),Ir(1),Ka("ngIf",!t.isScrollable),Ir(1),Ka("ngIf",t.showBottomPager),Ir(1),Ka("ngIf",t.showBottomToolbar))},directives:function(){return[B$,rf,AQ,$Z,uY,M$,Sb,TU,_Z,MZ,CZ,AY,IQ,yQ,wZ]},styles:["   .k-grid .k-grid-aria-root {\n            display: flex;\n            flex-direction: column;\n            flex: 1 1 auto;\n            overflow: hidden;\n        }\n\n        .k-grid .k-filter-row td {\n            white-space: nowrap;\n        }"],encapsulation:2}),Gq),Zq=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;_classCallCheck(this,e),this.total=t,this.rowHeight=n,this.detailRowHeight=i,this.offsets=[],this.heights=[];for(var r=0,s=0;s<t;s++)this.offsets.push(r),r+=n,this.heights.push(n)}return _createClass(e,[{key:"height",value:function(e){return this.heights[e]}},{key:"expandDetail",value:function(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}},{key:"collapseDetail",value:function(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}},{key:"isExpanded",value:function(e){return this.height(e)>this.rowHeight}},{key:"index",value:function(e){if(!(e<0)){var t=this.offsets.reduce((function(t,n,i){return void 0!==t?t:n===e?i:n>e?i-1:void 0}),void 0);return void 0===t?this.total-1:t}}},{key:"offset",value:function(e){return this.offsets[e]}},{key:"totalHeight",value:function(){return this.heights.reduce((function(e,t){return e+t}),0)}},{key:"updateRowHeight",value:function(e,t){this.total>0&&(this.heights[e]+=t,this.offsets=function(e,t,n){return[].concat(_toConsumableArray(e.slice(0,t+1)),_toConsumableArray(e.slice(t+1).map((function(e){return e+n}))))}(this.offsets,e,t))}}]),e}(),Yq=function e(t){_classCallCheck(this,e),this.offset=t},Qq=function e(t,n){_classCallCheck(this,e),this.skip=t,this.take=n},Jq=function e(){_classCallCheck(this,e)},Xq=function(){function e(t){_classCallCheck(this,e),this.scrollObservable=t,this.firstLoaded=0}return _createClass(e,[{key:"create",value:function(e,t,n,i){var r=this;this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+n,this.take=n,this.total=i,this.lastScrollTop=0;var s=new Hv(new Yq(this.rowHeightService.offset(t)));return this.subscription=D.create((function(e){r.unsubscribe(),r.scrollSubscription=r.scrollObservable.subscribe((function(t){return r.onScroll(t,e)}))})).subscribe((function(e){return s.next(e)})),s}},{key:"destroy",value:function(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}},{key:"onScroll",value:function(e,t){var n=e.scrollTop,i=e.offsetHeight,r=e.scrollHeight,s=e.clientHeight;if(this.lastScrollTop!==n){var a=this.lastScrollTop>=n;this.lastScrollTop=n;var o=this.rowHeightService.index(n),l=this.rowHeightService.offset(o),u=this.rowHeightService.index(n+i);if(!a)if(u>=this.lastLoaded&&this.lastLoaded<this.total){var c=o+this.take-this.total;c>0&&(o-=c,l=this.rowHeightService.offset(o)),this.firstLoaded=o,t.next(new Yq(l));var h=this.firstLoaded+this.take;this.lastLoaded=Math.min(h,this.total),h=h>this.total?this.total-this.firstLoaded:this.take,t.next(new Qq(this.firstLoaded,this.take))}else r-s-n<2&&t.next(new Jq);if(a&&o<this.firstLoaded){var f=Math.floor(.3*this.take);this.firstLoaded=Math.max(o-f,0),t.next(new Yq(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),t.next(new Qq(this.firstLoaded,this.take))}}}},{key:"unsubscribe",value:function(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}]),e}(),eK=function(e,t,n){for(var i=0,r=0;i<t.length;i++){var s=n(t[i]);if(r<=e&&e<=r+s-1)return t[i];r+=s}},tK=function(e,t){return eK(e,t,(function(e){return e.hasAttribute("data-kendo-grid-item-index")?1:0}))},nK={},iK=new Ye("grid-scroll-service-factory");function rK(e){return new Xq(e)}var sK,aK,oK,lK,uK,cK,hK,fK,dK,pK,vK,gK,mK,yK,kK,bK,CK,wK,_K,SK,xK,EK,IK,TK,FK,AK,DK,OK,RK,PK,LK,NK,MK,VK,HK,jK,BK,zK,UK,GK,qK,KK,WK,$K,ZK,YK,QK,JK,XK,eW,tW,nW,iW,rW,sW,aW,oW,lW,uW,cW,hW,fW,dW,pW,vW,gW,mW,yW,kW,bW,CW,wW,_W,SW,xW,EW,IW,TW,FW,AW,DW,OW,RW,PW,LW,NW,MW,VW,HW,jW,BW,zW,UW,GW,qW,KW,WW,$W,ZW,YW,QW,JW,XW,e$,t$,n$,i$,r$,s$,a$,o$,l$,u$,c$,h$,f$,d$,p$,v$,g$,m$,y$,k$,b$,C$,w$,_$,S$,x$,E$,I$,T$,F$,A$,D$,O$,R$,P$,L$=function(e){var t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},N$=function(e){return e?e.nativeElement:null},M$=function(){var e=function(){function e(t,n,i,r,s,a,o,l,u,c,h,f,d,p,v,g,m,y){var k=this;_classCallCheck(this,e),this.changeNotification=i,this.suspendService=r,this.groupsService=s,this.ngZone=a,this.renderer=o,this.scrollSyncService=l,this.resizeService=u,this.editService=c,this.supportService=h,this.navigationService=f,this.localization=p,this.columnResizingService=v,this.changeDetector=g,this.pdfService=m,this.columnInfo=y,this.groups=[],this.skip=0,this.columns=new YG((function(){return[]})),this.selectable=!1,this.groupable=!1,this.trackBy=Uq,this.contentScroll=new xu,this.pageChange=new xu,this.scrollBottom=new xu,this.columnsStartIdx=0,this.resizeSensors=new Iu,this.dispatcher=new M,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=t(this.dispatcher),this.subscriptions=n.changes.subscribe((function(e){return k.detailExpand(e)})).add(d.requests.subscribe((function(e){return k.scrollTo(e)})))}return _createClass(e,[{key:"hostClass",get:function(){return!0}},{key:"hostRole",get:function(){return"presentation"}},{key:"showFooter",get:function(){return this.groupable&&this.groupable.showFooter}},{key:"totalWidth",get:function(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}},{key:"lockedLeafColumns",get:function(){return this.columns.lockedLeafColumns}},{key:"nonLockedLeafColumns",get:function(){return this.columns.nonLockedLeafColumns}},{key:"nonLockedColumnsToRender",get:function(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}},{key:"leafColumns",get:function(){return this.columns.leafColumnsToRender}},{key:"lockedWidth",get:function(){var e=32*this.groups.length;return JU(this.lockedLeafColumns.toArray()).reduce((function(e,t){return e+(t.width||0)}),e)}},{key:"nonLockedWidth",get:function(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return nG(JU(this.nonLockedColumnsToRender.toArray()))}},{key:"isLocked",get:function(){return this.lockedLeafColumns.length>0}},{key:"ngOnInit",value:function(){var e=this;this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(re(this.columns.changes,this.resizeService.changes).subscribe((function(){e.virtualColumns&&e.ngZone.run((function(){e.updateViewportColumns(),e.changeDetector.markForCheck()}))}))),this.subscriptions.add(this.localization.changes.subscribe((function(t){var n=t.rtl;return e.rtl=n})))}},{key:"ngOnChanges",value:function(e){e.skip&&e.skip.firstChange&&e.skip.currentValue>0&&this.handleInitialScrollToSkip(),bb("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),Cb(["total","take"],e)&&this.init(),this.rebind=!1}},{key:"ngDoCheck",value:function(){!this.virtualColumns||this.viewportColumns&&!this.viewportWidthChange()||this.updateViewportColumns()}},{key:"ngAfterViewInit",value:function(){this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService()}},{key:"ngAfterViewChecked",value:function(){var e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}},{key:"syncRowsHeight",value:function(){this.lockedContainer&&rq(this.lockedTable.nativeElement,this.table.nativeElement)}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}},{key:"init",value:function(){this.suspendService.scroll||(this.rowHeightService=new Zq(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),XB()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}},{key:"lockedScroll",value:function(){if(!this.suspendService.scroll){var e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}},{key:"lockedMousewheel",value:function(e){if(!e.ctrlKey){!function(e,t){var n=L$(e),i=t.scrollTop;0===i&&0<n||t.scrollHeight<=t.offsetHeight+i&&n<0||event.preventDefault()}(e,this.container.nativeElement);var t=L$(e);this.container.nativeElement.scrollTop-=t}}},{key:"lockedKeydown",value:function(e){if(e.keyCode===Vb.PageDown||e.keyCode===Vb.PageUp){var t=this.container.nativeElement;t.scrollTop+=t.offsetHeight*(e.keyCode===Vb.PageDown?1:-1)*.8,e.preventDefault()}}},{key:"detailExpand",value:function(e){var t=e.index;e.expand?this.rowHeightService.expandDetail(t):this.rowHeightService.collapseDetail(t),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}},{key:"attachContainerScroll",value:function(){var e=this;XB()||(this.ngZone.runOutsideAngular((function(){e.subscriptions.add(hb(e.container.nativeElement,"scroll").pipe($((function(e){return e.target})),tg((function(){return!e.suspendService.scroll})),Pg((function(t){e.onContainerScroll(t),e.resetNavigationViewport(),e.virtualColumns&&e.handleColumnScroll();var n=e.navigationService.viewport||nK,i=e.navigationService.columnViewport||nK;e.contentScroll.emit({scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,startRow:n.firstItemIndex,endRow:n.lastItemIndex,startColumn:i.firstItemIndex,endColumn:i.lastItemIndex})}))).subscribe(e.dispatcher))})),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}},{key:"createScroller",value:function(){var e=this;this.cleanupScroller();var t=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=t.pipe(tg((function(e){return e instanceof Qq})),tg((function(){var t=e.skipScroll;return e.skipScroll=!1,!t})),Pg((function(){return e.rebind=!0}))).subscribe((function(t){return e.ngZone.run((function(){return e.pageChange.emit(t)}))})),this.scrollerSubscription.add(t.pipe(tg((function(e){return e instanceof Yq}))).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(t.pipe(tg((function(e){return e instanceof Jq}))).subscribe((function(){return e.scrollBottom.emit()})))}},{key:"scroll",value:function(e){var t,n,i=e.offset,r=void 0===i?0:i;this.isVirtual&&[N$(this.table),N$(this.lockedTable)].filter(WB).forEach((t=this.renderer,n=r,function(e){return t.setStyle(e,"transform","translateY(".concat(n,"px)"))})),this.resetNavigationViewport()}},{key:"onContainerScroll",value:function(e){var t=e.scrollTop;this.containerScrollTop=t,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=t)}},{key:"handleInitialScrollToSkip",value:function(){var e=this,t=this.changeNotification.changes.pipe(tg((function(){return e.isVirtual&&e.skip>0&&e.total>0}))).subscribe((function(n){e.scrollTo({row:e.skip}),t.unsubscribe()}))}},{key:"handleRowSync",value:function(){var e=this,t=function(){return WB(e.lockedContainer)};return re(this.changeNotification.changes,this.groupsService.changes.pipe(tg(t),sC(e.ngZone.onStable.asObservable().pipe(kg(1)))),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(tg((function(e){return"end"===e.type}))),this.supportService.changes).pipe(Pg((function(){return e.resetNavigationViewport()})),tg(t)).subscribe((function(){var t=e.container.nativeElement.scrollTop,n=e.container.nativeElement.scrollLeft;e.syncRowsHeight(),e.syncContainerHeight(),e.lockedContainer.nativeElement.scrollTop=e.container.nativeElement.scrollTop=t,e.container.nativeElement.scrollLeft=n,e.resizeSensors.forEach((function(e){return e.acceptSize()}))}))}},{key:"handleRowNavigationLocked",value:function(){var e=this;return this.navigationService.changes.pipe(tg((function(){return WB(e.lockedContainer)})),hC(10)).subscribe((function(t){if(e.lockedLeafColumns.length<=t.prevColIndex&&t.colIndex<e.lockedLeafColumns.length){var n=e.navigationService.activeCell;n&&n.colIndex+n.colSpan<t.prevColIndex&&(e.container.nativeElement.scrollLeft=0)}}))}},{key:"scrollToVirtualRow",value:function(e){WB(this.detailTemplate)&&(e=Math.floor(e/2));var t=this.rowHeightService.offset(e);this.container.nativeElement.scrollTop=t,this.resetNavigationViewport()}},{key:"scrollTo",value:function(e){var t=e.row,n=e.column;if(tz(t))if(this.isVirtual)this.scrollToVirtualRow(t);else{var i=tK(t,this.table.nativeElement.rows);i&&(this.container.nativeElement.scrollTop=i.offsetTop)}if(tz(n))if(n-=this.lockedLeafColumns.length,this.virtualColumns){for(var r=this.columns.leafColumnsToRender,s=0,a=0;a<n;a++)s+=r[a].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(s+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&n>0?32:0)))}else if(0===n&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{var o=tK(0,this.table.nativeElement.rows);if(o){var l=eK(n,o.cells,(function(e){return Vz(e,"k-hierarchy-cell k-detail-cell k-group-cell")?0:parseInt(e.getAttribute("colSpan"),10)||1}));l&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(l))}}}},{key:"resetNavigationViewport",value:function(){if(this.container&&this.navigationService.enabled&&this.navigationService.needsViewport()&&0!==this.data.length){var e=this.container.nativeElement,t=e.scrollTop,n=t+e.offsetHeight,i=this.rowHeightService.index(t),r=this.rowHeightService.index(n),s=this.rowHeightService.offset(r);r>0&&s+this.rowHeight>n&&r--;var a=i,o=r;if(WB(this.detailTemplate)){a*=2,o*=2,this.rowHeightService.offset(i)+this.rowHeight<t&&a++;var l=s+this.rowHeightService.height(r)>n;this.rowHeightService.isExpanded(r)&&!l&&o++}this.navigationService.setViewport(a,o)}}},{key:"cleanupScroller",value:function(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}},{key:"initResizeService",value:function(){this.resizeService.connect(re.apply(void 0,_toConsumableArray(this.resizeSensors.map((function(e){return e.resize})))))}},{key:"syncContainerHeight",value:function(){var e,t=this;[N$(this.lockedContainer)].filter(WB).map((function(e){e.style.height="";var n=t.container.nativeElement.offsetHeight;return t.table.nativeElement.offsetWidth>t.container.nativeElement.clientWidth&&(n-=t.supportService.scrollbarWidth),{el:e,height:n}})).forEach((e=this.renderer,function(t){var n=t.el,i=t.height;return e.setStyle(n,"height",i+"px")}))}},{key:"updateViewportColumns",value:function(e){var t=this.columns.nonLockedLeafColumns.toArray(),n=e||this.calculateViewportColumns(),i=n.startIdx,r=n.endIdx,s=n.offset,a=Math.max(0,i-1),o=Math.min(r+1,t.length-1);if(a<i)for(var l=i-1;l>=a;l--)s-=t[l].width;var u=t.slice(a,o+1);if(this.viewportColumnsWidth=u.reduce((function(e,t){return e+t.width}),0),a>0){var c=new BU;c.width=s,u.unshift(c)}this.viewportColumns=new Iu,this.viewportColumns.reset(u),this.columnsStartIdx=a,this.columnsEndIdx=o,this.columnInfo.columnRangeChange.emit({start:a,end:o,offset:s}),e||this.updateColumnViewport(i,r)}},{key:"handleColumnScroll",value:function(){var e=this,t=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==t){this.scrollLeft=t;var n=this.calculateViewportColumns();this.updateColumnViewport(n.startIdx,n.endIdx),(n.startIdx<this.columnsStartIdx||this.columnsEndIdx<n.endIdx)&&(Fz(this.columnUpdateFrame),this.columnUpdateFrame=Tz((function(){e.ngZone.run((function(){e.updateViewportColumns(n),e.changeDetector.markForCheck()}))})))}}},{key:"updateColumnViewport",value:function(e,t){for(var n=this.lockedLeafColumns.length,i=this.nonLockedLeafColumns.toArray(),r=n+e+(this.detailTemplate&&e>0?1:0),s=n+t+(this.detailTemplate?1:0),a=0;a<i.length;a++){var o=i[a];o.isSpanColumn&&(s+=o.childColumns.length)}this.navigationService.setColumnViewport(r,s)}},{key:"calculateViewportColumns",value:function(){var e,t,n=this.container.nativeElement,i=n.scrollLeft,r=n.clientWidth,s=this.columns.nonLockedLeafColumns.toArray(),a=this.normalizeScrollLeft(i),o=a+r,l=0,u=0,c=0;for(t=0;t<s.length;t++){var h=s[t];if(u+=h.width||0,void 0===e&&u>a&&(e=t,c=u-(h.width||0)),u>=o){l=t;break}}return!l&&t>0&&(l=s.length-1),{startIdx:e,endIdx:l,offset:c}}},{key:"viewportWidthChange",value:function(){return this.viewportColumns.toArray().reduce((function(e,t){return e+t.width}),0)!==this.viewportColumnsWidth}},{key:"normalizeScrollLeft",value:function(e){return this.rtl?function(e,t,n){var i=e;return n<0?i=-e:n>0&&(i=t.scrollWidth-t.offsetWidth-e),i}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}},{key:"elementScrollLeft",value:function(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ua(iK),Ua(dU),Ua(tq),Ua(cq),Ua(uU),Ua(gc),Ua(ul),Ua(vq),Ua(gq),Ua(oU),Ua(jG),Ua(SU),Ua(pU),Ua(tC),Ua(kq),Ua(sa),Ua(lq),Ua(Hq))},e.\u0275cmp=St({type:e,selectors:[["kendo-grid-list"]],viewQuery:function(e,t){var n;1&e&&(Mu(oV,!0),Vu(lV,!0),Vu(uV,!0),Mu(cV,!0),Vu(Lb,!0)),2&e&&(Nu(n=Uu())&&(t.container=n.first),Nu(n=Uu())&&(t.lockedContainer=n.first),Nu(n=Uu())&&(t.lockedTable=n.first),Nu(n=Uu())&&(t.table=n.first),Nu(n=Uu())&&(t.resizeSensors=n))},hostVars:3,hostBindings:function(e,t){2&e&&(Ha("role",t.hostRole),Co("k-grid-container",t.hostClass))},inputs:{groups:"groups",skip:"skip",columns:"columns",selectable:"selectable",groupable:"groupable",trackBy:"trackBy",data:"data",total:"total",rowHeight:"rowHeight",stickyRowHeight:"stickyRowHeight",detailRowHeight:"detailRowHeight",take:"take",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",filterable:"filterable",rowClass:"rowClass",rowSticky:"rowSticky",loading:"loading",virtualColumns:"virtualColumns",isVirtual:"isVirtual"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[tl([{provide:iK,useValue:rK}]),qo],decls:14,vars:33,consts:[["class","k-grid-content-locked","role","presentation",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["container",""],["role","presentation",1,"k-grid-table-wrap"],["role","presentation",1,"k-grid-table",3,"virtualColumns"],["table",""],["kendoGridColGroup","","role","presentation",3,"groups","columns","detailTemplate"],["kendoGridTableBody","","role","presentation",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","skip","selectable","trackBy","filterable","rowClass","rowSticky","virtualColumns"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["role","presentation",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["lockedContainer",""],["role","presentation",1,"k-grid-table",3,"locked"],["lockedTable",""],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass"],["role","presentation",1,"k-width-container"],["kendoGridLoading",""]],template:function(e,t){1&e&&(Ba(0,fV,10,30,"div",0),$a(1,"div",1,2),$a(3,"div",3),$a(4,"table",4,5),Ya(6,"colgroup",6),Ya(7,"tbody",7),Za(),Ba(8,dV,1,0,"kendo-resize-sensor",8),Za(),Ba(9,pV,1,0,"kendo-resize-sensor",8),$a(10,"div",9),Ya(11,"div"),Za(),Ba(12,vV,2,2,"div",10),Za(),Ba(13,gV,1,0,"div",11)),2&e&&(Ka("ngIf",t.isLocked),Ir(1),Ka("kendoGridResizableContainer",t.lockedLeafColumns.length)("lockedWidth",t.lockedWidth+1),Ir(3),bo("width",t.nonLockedWidth,"px"),Ka("virtualColumns",t.virtualColumns),Ir(2),Ka("groups",t.isLocked?cu(32,YM):t.groups)("columns",t.nonLockedColumnsToRender)("detailTemplate",t.detailTemplate),Ir(1),Ka("skipGroupDecoration",t.isLocked)("data",t.data)("groups",t.groups)("showGroupFooters",t.showFooter)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("rowSticky",t.rowSticky)("virtualColumns",t.virtualColumns),Ir(1),Ka("ngIf",t.isLocked),Ir(1),Ka("ngIf",t.isLocked||t.virtualColumns),Ir(2),bo("height",t.totalHeight,"px"),Ir(1),Ka("ngIf",t.virtualColumns),Ir(1),Ka("ngIf",t.loading))},directives:function(){return[rf,_Z,MZ,CZ,yQ,Eb,Lb,wZ]},encapsulation:2}),e}(),V$=(aK=function(){function e(t,n,i){_classCallCheck(this,e),this.grid=t,this.changeDetector=n,this.localDataChangesService=i,this.state={skip:0},this.originalData=[],i&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(this.rebind.bind(this)))}return _createClass(e,[{key:"skip",set:function(e){WB(e)||(e=0),this.grid.skip=this.state.skip=e}},{key:"sort",set:function(e){this.grid.sort=this.state.sort=e}},{key:"filter",set:function(e){this.grid.filter=this.state.filter=e}},{key:"pageSize",set:function(e){this.grid.pageSize=this.state.take=e}},{key:"group",set:function(e){this.grid.group=this.state.group=e}},{key:"data",set:function(e){this.originalData=e||[],this.localDataChangesService&&(this.localDataChangesService.data=e),this.dataChanged=!0}},{key:"ngOnInit",value:function(){this.applyState(this.state),this.stateChangeSubscription=this.grid.dataStateChange.subscribe(this.onStateChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.dataChangedSubscription&&this.dataChangedSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){Cb(["pageSize","skip","sort","group","filter"],e)&&this.rebind()}},{key:"ngDoCheck",value:function(){this.dataChanged&&this.updateGridData()}},{key:"onStateChange",value:function(e){this.applyState(e),this.rebind()}},{key:"rebind",value:function(){this.data=this.originalData,this.updateGridData(),this.notifyDataChange()}},{key:"notifyDataChange",value:function(){this.grid.onDataChange(),this.changeDetector&&this.changeDetector.markForCheck()}},{key:"process",value:function(e){return MS(this.originalData,e)}},{key:"applyState",value:function(e){var t=e.skip,n=e.take,i=e.sort,r=e.group,s=e.filter;this.skip=t,this.pageSize=n,this.sort=i,this.group=r,this.filter=s}},{key:"updateGridData",value:function(){this.grid.data=this.process(this.state),this.dataChanged=!1}}]),e}(),aK.\u0275fac=function(e){return new(e||aK)(Ua($q),Ua(sa),Ua(Oz))},aK.\u0275dir=At({type:aK,selectors:[["","kendoGridBinding",""]],inputs:{skip:"skip",sort:"sort",filter:"filter",pageSize:"pageSize",group:"group",data:["kendoGridBinding","data"]},features:[qo]}),aK),H$=(sK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).grid=e,r}return _createClass(n,[{key:"ngOnInit",value:function(){!1===this.grid.selectable&&(this.grid.selectable=!0),this.grid.selectionDirective=this}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(ZG),sK.\u0275fac=function(e){return new(e||sK)(Ua($q),Ua(sa))},sK.\u0275dir=At({type:sK,selectors:[["","kendoGridSelectBy",""]],features:[Ho]}),sK),j$=function(){var e=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(Jb);return e.\u0275fac=function(t){return OQ(t||e)},e.\u0275dir=At({type:e,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerLabel:"pagerLabel",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",filter:"filter",filterInputLabel:"filterInputLabel",filterMenuTitle:"filterMenuTitle",filterMenuOperatorsDropDownLabel:"filterMenuOperatorsDropDownLabel",filterMenuLogicDropDownLabel:"filterMenuLogicDropDownLabel",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",columnMenu:"columnMenu",setColumnPosition:"setColumnPosition",columns:"columns",lock:"lock",unlock:"unlock",stick:"stick",unstick:"unstick",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse",filterDateToday:"filterDateToday",filterDateToggle:"filterDateToggle",filterNumericDecrement:"filterNumericDecrement",filterNumericIncrement:"filterNumericIncrement",selectionCheckboxLabel:"selectionCheckboxLabel",selectAllCheckboxLabel:"selectAllCheckboxLabel"},features:[Ho]}),e}(),B$=function(){var e=oK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this)).service=e,i}return n}(j$);return e.\u0275fac=function(t){return new(t||e)(Ua(tC))},e.\u0275dir=At({type:e,selectors:[["","kendoGridLocalizedMessages",""]],features:[tl([{provide:j$,useExisting:Pe((function(){return oK}))}]),Ho]}),e}(),z$=(lK=function(){function e(t,n){_classCallCheck(this,e),this.localization=t,this.columnInfoService=n,this.columns=[],this.groups=[],this.filterRowClass=!0}return _createClass(e,[{key:"addStickyStyles",value:function(e){return this.columnInfoService.stickyColumnsStyles(e)}},{key:"filterLabel",value:function(e){var t=this.localization.get("filterInputLabel")||"";return Az(t,"columnName",e.title||e.field)}}]),e}(),lK.\u0275fac=function(e){return new(e||lK)(Ua(tC),Ua(Hq))},lK.\u0275cmp=St({type:lK,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",groups:"groups",filter:"filter",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:mV,decls:3,vars:3,consts:[["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"k-grid-header-sticky","ngStyle","column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"ngStyle","column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&(Ba(0,yV,1,2,"td",0),Ba(1,kV,1,2,"td",1),Ba(2,bV,1,8,"td",2)),2&e&&(Ka("ngForOf",t.groups),Ir(1),Ka("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),Ir(1),Ka("ngForOf",t.columns))},directives:function(){return[tf,rf,G$,IZ,_f]},encapsulation:2}),lK),U$=function e(t){if(t)return N_(t)?{filters:e(t.filters),logic:t.logic}:Array.isArray(t)?t.map(e):function(e){return function(e){var t={};if(Object.assign(t,e),e.constructor!==Object){var n=e.constructor.prototype;Object.getOwnPropertyNames(n).forEach((function(i){"constructor"!==i&&n.hasOwnProperty(i)&&(t[i]=e[i])}))}return t}(e)}(t)},G$=(uK=function(){function e(){_classCallCheck(this,e),this._templateContext={}}return _createClass(e,[{key:"filter",get:function(){return this._filter},set:function(e){this._filter=U$(e)}},{key:"templateContext",get:function(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}},{key:"hasTemplate",get:function(){return WB(this.column.filterCellTemplateRef)}},{key:"isFilterable",get:function(){return WB(this.column)&&!QB(this.column.field)&&this.column.filterable}}]),e}(),uK.\u0275fac=function(e){return new(e||uK)},uK.\u0275cmp=St({type:uK,selectors:[["","kendoGridFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:CV,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ba(0,EV,3,3,"ng-template",0),2&e&&Ka("ngIf",t.isFilterable)},directives:function(){return[rf,bf,Cf,UZ,Sf]},encapsulation:2}),uK),q$=(cK={filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"},function(e){return Object.keys(cK).reduce((function(t,n){return t[cK[n]]=e.get(n),t}),{})}),K$=function(e){return e.map((function(e){return e.toJSON()}))},W$=(hK=function(){function e(t,n){_classCallCheck(this,e),this.operator=t,this.localization=n,this.messages=q$(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}return _createClass(e,[{key:"text",get:function(){return this._text},set:function(e){this._text=QB(e)?this.messages[this.operator]:e}},{key:"toJSON",value:function(){return{text:this.text,value:this.operator}}},{key:"refreshText",value:function(){var e=this._text===this.messages[this.operator];this.messages=q$(this.localization),e&&(this._text=this.messages[this.operator])}}]),e}(),hK.\u0275fac=function(e){qa()},hK.\u0275dir=At({type:hK,inputs:{text:"text"}}),hK),$$=function(e,t,n,i){return WB(t)&&WB(t.filters)&&t.filters.length>e?t.filters[e]:function(e,t,n){return(t=t||{filters:[],logic:"and"}).filters[e]=n,n}(e,t,{field:n,operator:i})},Z$=function(e){return[{text:e.get("filterAndLogic"),value:"and"},{text:e.get("filterOrLogic"),value:"or"}]},Y$=function e(t){return WB(t.filters)?t.filters.reduce((function(t,n){return t.concat(N_(n)?e(n):[n])}),[]):[]},Q$=function(e,t){return Y$(e||{}).filter((function(e){return e.field===t}))},J$=function(e,t){return function e(t,n){WB(t)&&WB(t.filters)&&(t.filters=t.filters.filter((function(t){return N_(t)?(e(t,n),t.filters.length):t.field!==n})))}(e,t),e},X$=function(e){return function(t){return Object.keys(e).map((function(n){return{text:t.get(n),value:e[n]}}))}},eZ=(fK=function(){function e(t){_classCallCheck(this,e),this.filterService=t,this.operatorList=new Iu}return _createClass(e,[{key:"hostClasses",get:function(){return!0}},{key:"operators",get:function(){return this._operators.length?this._operators:this.defaultOperators},set:function(e){this._operators=e}},{key:"ngAfterContentInit",value:function(){var e=this;this.operationListSubscription=JB(this.operatorList).pipe($((function(e){return e.toArray()})),$(K$)).subscribe((function(t){e.operators=t}))}},{key:"ngOnDestroy",value:function(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}},{key:"filterByField",value:function(e){return function(e,t){return _slicedToArray(Q$(e,t),1)[0]}(this.filter,e)}},{key:"filtersByField",value:function(e){return Q$(this.filter,e)}},{key:"removeFilter",value:function(e){return J$(this.filter,e)}},{key:"updateFilter",value:function(e){var t=this.filter||{filters:[],logic:"and"},n=_slicedToArray(Y$(t).filter((function(t){return t.field===e.field})),1)[0];return WB(n)?Object.assign(n,e):t.filters.push(e),t}},{key:"applyFilter",value:function(e){this.filterService.filter(e)}}]),e}(),fK.\u0275fac=function(e){qa()},fK.\u0275dir=At({type:fK,contentQueries:function(e,t,n){var i;1&e&&ju(n,W$,!1),2&e&&Nu(i=Uu())&&(t.operatorList=i)},hostVars:2,hostBindings:function(e,t){2&e&&Co("k-filtercell",t.hostClasses)}}),fK),tZ=X$({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"}),nZ=(pK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).localization=i,r.operator="eq",r.step=1,r.spinners=!0,r.defaultOperators=tZ(r.localization),r}return _createClass(n,[{key:"format",get:function(){return QB(this._format)?this.columnFormat:this._format},set:function(e){this._format=e}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}},{key:"columnFormat",get:function(){return this.column&&!QB(this.column.format)?nz(this.column.format):"n2"}},{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=tZ(this.localization),this.operatorList.length&&(this.operators=K$(this.operatorList.toArray()))}}]),n}(eZ),pK.\u0275fac=function(e){qa()},pK.\u0275dir=At({type:pK,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[Ho]}),pK),iZ=(dK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).localization=i,r.filterDelay=500,r.showOperators=!0,r}return _createClass(n,[{key:"messageFor",value:function(e){return this.localization.get(e)}},{key:"columnLabel",get:function(){var e=this.localization.get("filterInputLabel")||"";return Az(e,"columnName",this.column.title||this.column.field)}}]),n}(nZ),dK.\u0275fac=function(e){return new(e||dK)(Ua(aq),Ua(tC))},dK.\u0275cmp=St({type:dK,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Ho],decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&($a(0,"kendo-grid-filter-wrapper-cell",0),$a(1,"kendo-numerictextbox",1),Ya(2,"kendo-numerictextbox-messages",2),Za(),Za()),2&e&&(Ka("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Ir(1),Ka("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),Ir(1),Ka("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},directives:function(){return[uZ,ED,Xz,rZ,FD]},encapsulation:2}),dK),rZ=function(){var e=function(){function e(t,n,i,r){var s=this;_classCallCheck(this,e),this.element=i,this.renderer=r,this.change=new xu,this.composing=!1,this.filterDelay=500,this.changeRequests=new M,this.accessor=t[0],n.runOutsideAngular((function(){var e=r.listen(i.nativeElement,"compositionstart",(function(){return s.composing=!0})),t=r.listen(i.nativeElement,"compositionend",(function(){return s.composing=!1}));s.unsubscribeEvents=function(){e(),t()}}))}return _createClass(e,[{key:"value",set:function(e){this.accessor.writeValue(e)}},{key:"disabled",set:function(e){this.accessor.setDisabledState(e)}},{key:"ngAfterViewInit",value:function(){var e=this;this.addAriaAttributes(),this.accessor.registerOnChange((function(t){return e.filterDelay>0?e.changeRequests.next(t):e.change.emit(t)})),this.subscribeChanges()}},{key:"ngOnChanges",value:function(e){bb("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}},{key:"ngOnDestroy",value:function(){this.unsubscribeChanges(),this.unsubscribeEvents()}},{key:"subscribeChanges",value:function(){var e=this;this.changeRequestsSubscription=this.changeRequests.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sb;return function(n){return n.lift(new CC(e,t))}}(this.filterDelay),tg((function(){return!e.composing}))).subscribe((function(t){return e.change.emit(t)}))}},{key:"unsubscribeChanges",value:function(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}},{key:"addAriaAttributes",value:function(){var e=this.columnLabel;if(this.kendoInput&&this.kendoInput.focusableId&&kb()){var t=this.element.nativeElement.querySelector("#"+this.kendoInput.focusableId);this.renderer.setAttribute(t,"aria-label",e)}else this.renderer.setAttribute(this.element.nativeElement,"aria-label",e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ua(OC,2),Ua(gc),Ua(sl),Ua(ul))},e.\u0275dir=At({type:e,selectors:[["","kendoFilterInput",""]],contentQueries:function(e,t,n){var i;1&e&&Bu(n,Mb,!0),2&e&&Nu(i=Uu())&&(t.kendoInput=i.first)},inputs:{filterDelay:"filterDelay",value:"value",columnLabel:"columnLabel"},features:[qo]}),e}(),sZ=new Set(["isnull","isnotnull","isempty","isnotempty"]),aZ=function(e){return sZ.has(e)},oZ=(vK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).operators=[],i}return _createClass(n,[{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){var e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator},set:function(e){this._operator=e;var t=aZ(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!$B(e)&&WB(this.currentFilter)&&this.onChange(this.currentFilter.value)}},{key:"defaultOperator",get:function(){return QB(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator},set:function(e){this._defaultOperator=e}},{key:"filterInputDisabled",set:function(e){this.input&&(this.input.disabled=e)}},{key:"ngAfterContentInit",value:function(){WB(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=aZ(this.currentOperator))}},{key:"ngOnDestroy",value:function(){_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this),this.changeSubscription&&this.changeSubscription.unsubscribe()}},{key:"onChange",value:function(e){QB(e)&&!this.filterByField(this.column.field)||this.filterChange(QB(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}},{key:"onClear",value:function(){this.onChange(null),this.filterInputDisabled=aZ(this.defaultOperator)}},{key:"applyNoValueFilter",value:function(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}},{key:"ngOnChanges",value:function(e){bb("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=aZ(this.currentOperator))}}]),n}(eZ),vK.\u0275fac=function(e){qa()},vK.\u0275dir=At({type:vK,contentQueries:function(e,t,n){var i;1&e&&ju(n,rZ,!0),2&e&&Nu(i=Uu())&&(t.input=i.first)},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[Ho,qo]}),vK),lZ=["isnull","isnotnull","isempty","isnotempty"],uZ=(gK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).showOperators=!0,i}return _createClass(n,[{key:"hostClasses",get:function(){return!0}},{key:"overrideBaseClasses",get:function(){return!1}},{key:"showButton",get:function(){var e=this.currentFilter;return WB(e)&&(!QB(e.value)||lZ.indexOf(String(e.operator))>=0)}},{key:"filterChange",value:function(e){this.applyFilter(e)}}]),n}(oZ),gK.\u0275fac=function(e){return new(e||gK)(Ua(aq))},gK.\u0275cmp=St({type:gK,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&Co("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[Ho],ngContentSelectors:IV,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,t){1&e&&(lo(),uo(0),$a(1,"kendo-grid-filter-cell-operators",0),io("clear",(function(){return t.onClear()}))("valueChange",(function(e){return t.currentOperator=e})),Za()),2&e&&(Ir(1),Ka("showOperators",t.showOperators)("operators",t.operators)("showButton",t.showButton)("value",t.currentOperator))},directives:function(){return[dZ]},encapsulation:2}),gK),cZ=X$({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"}),hZ=(kK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).localization=i,r.operator="contains",r}return _createClass(n,[{key:"currentFilter",get:function(){return this.filterByField((this.column||{}).field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}},{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=cZ(this.localization),this.operatorList.length&&(this.operators=K$(this.operatorList.toArray()))}}]),n}(eZ),kK.\u0275fac=function(e){qa()},kK.\u0275dir=At({type:kK,inputs:{operator:"operator",column:"column",filter:"filter"},features:[Ho]}),kK),fZ=(yK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).filterDelay=500,r.showOperators=!0,r}return _createClass(n,[{key:"columnLabel",get:function(){var e=this.localization.get("filterInputLabel")||"";return Az(e,"columnName",this.column.title||this.column.field)}}]),n}(hZ),yK.\u0275fac=function(e){return new(e||yK)(Ua(aq),Ua(tC))},yK.\u0275cmp=St({type:yK,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Ho],decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",1,"k-textbox",3,"columnLabel","filterDelay","ngModel"]],template:function(e,t){1&e&&($a(0,"kendo-grid-filter-wrapper-cell",0),Ya(1,"input",1),Za()),2&e&&(Ka("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Ir(1),Ka("columnLabel",t.columnLabel)("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[uZ,MC,Xz,rZ,KC,h_],encapsulation:2}),yK),dZ=(mK=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new xu,this.clear=new xu}return _createClass(e,[{key:"hostClasses",get:function(){return!0}},{key:"onChange",value:function(e){this.valueChange.emit(e)}},{key:"clearClick",value:function(){return this.clear.emit(),!1}},{key:"clearKeydown",value:function(e){e.keyCode!==Vb.Enter&&e.keyCode!==Vb.Space||this.clear.emit()}},{key:"dropdownKeydown",value:function(e){e.defaultPrevented||e.keyCode!==Vb.Enter||this.dropdown.isOpen||(this.dropdown.toggle(!0),e.preventDefault())}},{key:"ngOnInit",value:function(){var e=this;this.localization.changes.subscribe((function(){return e.clearText=e.localization.get("filterClearButton")}))}}]),e}(),mK.\u0275fac=function(e){return new(e||mK)(Ua(tC))},mK.\u0275cmp=St({type:mK,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,t){var n;1&e&&Vu(TV,!0),2&e&&Nu(n=Uu())&&(t.dropdown=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&Co("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoGridFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoGridFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoGridFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,t){1&e&&(Ba(0,AV,2,5,"kendo-dropdownlist",0),$a(1,"button",1),io("click",(function(){return t.clearClick()}))("keydown",(function(e){return t.clearKeydown(e)})),Ya(2,"span",2),Za()),2&e&&(Ka("ngIf",t.showOperators),Ir(1),Ka("ngClass",hu(3,DV,t.showButton))("title",t.clearText))},directives:[rf,Xz,Xh,dT],encapsulation:2}),mK),pZ=X$({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"}),vZ=(wK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e)).localization=r,s.showOperators=!0,s.defaultOperators=pZ(s.localization),s.column=i,s}return _createClass(n,[{key:"valueField",get:function(){return this._valueField?this._valueField:this.column.field},set:function(e){this._valueField=e}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:"contains"}}]),n}(eZ),wK.\u0275fac=function(e){return new(e||wK)(Ua(aq),Ua(WU),Ua(tC))},wK.\u0275cmp=St({type:wK,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[Ho],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,t){1&e&&($a(0,"kendo-grid-filter-wrapper-cell",0),Ya(1,"kendo-autocomplete",1),Za()),2&e&&(Ka("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),Ir(1),Ka("data",t.data)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[uZ,uT,rZ],encapsulation:2}),wK),gZ=(CK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).localization=i,r.operator="eq",r.items=[{text:r.localization.get("filterIsTrue"),value:!0},{text:r.localization.get("filterIsFalse"),value:!1}],r.defaultItem={text:r.localization.get("filterBooleanAll"),value:null},r}return _createClass(n,[{key:"hostClasses",get:function(){return!0}},{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}},{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}}]),n}(eZ),CK.\u0275fac=function(e){qa()},CK.\u0275dir=At({type:CK,hostVars:2,hostBindings:function(e,t){2&e&&Co("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[Ho]}),CK),mZ=(bK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,i)).cd=r,s}return _createClass(n,[{key:"localizationChange",value:function(){_get(_getPrototypeOf(n.prototype),"localizationChange",this).call(this),this.cd.markForCheck()}},{key:"columnLabel",get:function(){var e=this.localization.get("filterInputLabel")||"";return Az(e,"columnName",this.column.title||this.column.field)}}]),n}(gZ),bK.\u0275fac=function(e){return new(e||bK)(Ua(aq),Ua(tC),Ua(sa))},bK.\u0275cmp=St({type:bK,selectors:[["kendo-grid-boolean-filter-cell"]],features:[Ho],decls:2,vars:11,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","kendoGridFocusable","","textField","text","valueField","value",3,"columnLabel","defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&($a(0,"kendo-grid-filter-wrapper-cell",0),Ya(1,"kendo-dropdownlist",1),Za()),2&e&&(Ka("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),Ir(1),Ka("columnLabel",t.columnLabel)("defaultItem",t.defaultItem)("data",t.items)("popupSettings",cu(10,FV))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[uZ,dT,rZ,Xz],encapsulation:2}),bK),yZ=X$({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"}),kZ=(AK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e)).localization=i,r.operator="gte",r.activeView="month",r.bottomView="month",r.topView="century",r.weekNumber=!1,r.defaultOperators=yZ(r.localization),r}return _createClass(n,[{key:"currentFilter",get:function(){return this.filterByField(this.column.field)}},{key:"format",get:function(){return QB(this._format)?this.columnFormat:this._format},set:function(e){this._format=e}},{key:"columnFormat",get:function(){return this.column&&!QB(this.column.format)?nz(this.column.format):"d"}},{key:"currentOperator",get:function(){return this.currentFilter?this.currentFilter.operator:this.operator}},{key:"ngOnInit",value:function(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),_get(_getPrototypeOf(n.prototype),"ngOnDestroy",this).call(this)}},{key:"localizationChange",value:function(){this.defaultOperators=yZ(this.localization),this.operatorList.length&&(this.operators=K$(this.operatorList.toArray()))}}]),n}(eZ),AK.\u0275fac=function(e){qa()},AK.\u0275dir=At({type:AK,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[Ho]}),AK),bZ=(FK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this,e,i)).localization=i,r.showOperators=!0,r}return _createClass(n,[{key:"messageFor",value:function(e){return this.localization.get(e)}},{key:"columnLabel",get:function(){var e=this.localization.get("filterInputLabel")||"";return Az(e,"columnName",this.column.title||this.column.field)}}]),n}(kZ),FK.\u0275fac=function(e){return new(e||FK)(Ua(aq),Ua(tC))},FK.\u0275cmp=St({type:FK,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[Ho],decls:3,vars:18,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","","kendoGridFocusable","",3,"columnLabel","value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"],[3,"toggle","today"]],template:function(e,t){1&e&&($a(0,"kendo-grid-filter-wrapper-cell",0),$a(1,"kendo-datepicker",1),Ya(2,"kendo-datepicker-messages",2),Za(),Za()),2&e&&(Ka("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),Ir(1),Ka("columnLabel",t.columnLabel)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),Ir(1),Ka("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},directives:[uZ,nN,rZ,Xz,_N],encapsulation:2}),FK),CZ=(TK=function(){function e(){_classCallCheck(this,e),this.columns=[],this.groups=[]}return _createClass(e,[{key:"columnsToRender",get:function(){return eG(this.columns)}},{key:"trackBy",value:function(e,t){return e}}]),e}(),TK.\u0275fac=function(e){return new(e||TK)},TK.\u0275cmp=St({type:TK,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate"},attrs:OV,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&Ba(0,NV,3,4,"ng-template",0),2&e&&Ka("ngIf",!0)},directives:[rf,tf],encapsulation:2}),TK),wZ=(IK=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.hostClass=!0}return _createClass(e,[{key:"loadingText",get:function(){return this.localization.get("loading")}}]),e}(),IK.\u0275fac=function(e){return new(e||IK)(Ua(tC))},IK.\u0275cmp=St({type:IK,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-loading-mask",t.hostClass)},attrs:MV,decls:4,vars:1,consts:[[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&($a(0,"span",0),Oo(1),Za(),Ya(2,"div",1),Ya(3,"div",2)),2&e&&(Ir(1),Ro(t.loadingText))},encapsulation:2}),IK),_Z=(EK=function(){function e(t,n,i,r){_classCallCheck(this,e),this.el=t,this.renderer=n,this.resizeService=i,this.grid=r,this.enabled=!1}return _createClass(e,[{key:"lockedWidth",set:function(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}},{key:"kendoGridResizableContainer",set:function(e){var t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}},{key:"ngOnDestroy",value:function(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}},{key:"attachResize",value:function(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}},{key:"resize",value:function(){if(this.grid&&this.grid.wrapper){var e=Math.max(this.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&e>0?e+"px":"")}}}]),e}(),EK.\u0275fac=function(e){return new(e||EK)(Ua(sl),Ua(ul),Ua(gq),Ua($q,8))},EK.\u0275dir=At({type:EK,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),EK),SZ=function(){var e=function(){function e(t){_classCallCheck(this,e),this.viewContainerRef=t}return _createClass(e,[{key:"templateContext",set:function(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}},{key:"ngOnDestroy",value:function(){this.removeView()}},{key:"removeView",value:function(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ua(Al))},e.\u0275dir=At({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e}(),xZ=(xK=function(){function e(t){_classCallCheck(this,e),this.root=t,this.active=!0,this.children=[],this.root.registerGroup(this)}return _createClass(e,[{key:"focusableChildren",get:function(){return this.children.filter((function(e){return e.canFocus()}))}},{key:"isActive",get:function(){return this.active}},{key:"ngOnDestroy",value:function(){this.root.unregisterGroup(this)}},{key:"registerElement",value:function(e){this.unregisterElement(e),this.children.push(e)}},{key:"unregisterElement",value:function(e){this.children=this.children.filter((function(t){return t!==e}))}},{key:"isNavigable",value:function(){var e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}},{key:"canFocus",value:function(){return this.focusableChildren.length>0}},{key:"focus",value:function(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}},{key:"activate",value:function(){this.toggleState(!0)}},{key:"deactivate",value:function(){this.toggleState(!1)}},{key:"hasFocus",value:function(){return this.children.reduce((function(e,t){return e||t.hasFocus()}),!1)}},{key:"toggleState",value:function(e){this.active!==e&&(this.active=e,this.children.forEach((function(t){return t.toggle(e)})))}}]),e}(),xK.\u0275fac=function(e){return new(e||xK)(st(Pz))},xK.\u0275prov=Ce({token:xK,factory:xK.\u0275fac}),xK),EZ=0,IZ=(SK=function(){function e(t,n,i,r,s,a,o,l){_classCallCheck(this,e),this.focusGroup=t,this.element=n,this.columnInfoService=i,this.idService=r,this.navigationService=s,this.renderer=a,this.zone=o,this.cellContext=l,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=EZ++}return _createClass(e,[{key:"id",get:function(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}},{key:"ariaColIndex",get:function(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}},{key:"ngOnInit",value:function(){var e=this;this.navigationService.enabled&&(this.navigationChange=this.navigationService.changes.subscribe((function(t){return e.onNavigationChange(t)})))}},{key:"ngDoCheck",value:function(){this.navigationService.enabled&&-1!==this.logicalColIndex&&(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}},{key:"ngOnChanges",value:function(e){if(this.navigationService.enabled){var t=Object.keys(e);if((1!==t.length||"groupItem"!==t[0])&&-1!==this.logicalColIndex){var n=e.logicalColIndex,i=e.logicalRowIndex,r=n&&!n.isFirstChange()?n.previousValue:this.logicalColIndex,s=i&&!i.isFirstChange()?i.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(r,s,this),this.registerChanges(),this.updateElement()}}}},{key:"ngOnDestroy",value:function(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}},{key:"onNavigationChange",value:function(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}},{key:"updateElement",value:function(){var e=this,t=this.element.nativeElement;this.renderer.setAttribute(t,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?(this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask((function(){return e.isFocused()&&t.focus()})),this.renderer.addClass(t,"k-state-focused")),this.headerLabelText&&t.setAttribute("aria-label","")):(this.renderer.removeClass(t,"k-state-focused"),this.headerLabelText&&t.setAttribute("aria-label",this.headerLabelText))}},{key:"microtask",value:function(e){this.zone.runOutsideAngular((function(){return Promise.resolve(null).then(e)}))}},{key:"registerChanges",value:function(){this.logicalSlaveCell||this.navigationService.registerCell(this)}},{key:"registerNoChanges",value:function(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}},{key:"isFocusable",value:function(){return this.navigationService.isCellFocusable(this)}},{key:"isFocused",value:function(){return this.navigationService.isCellFocused(this)}}]),e}(),SK.\u0275fac=function(e){return new(e||SK)(Ua(xZ),Ua(sl),Ua(Hq),Ua(Mq),Ua(SU),Ua(ul),Ua(gc),Ua(Jz,8))},SK.\u0275dir=At({type:SK,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&Ha("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",detailExpandCell:"detailExpandCell",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",colIndex:"colIndex",groupItem:"groupItem",dataItem:"dataItem",headerLabelText:"headerLabelText"},features:[tl([{provide:xZ,deps:[Pz],useClass:xZ}]),qo]}),SK),TZ=0,FZ=(_K=function(){function e(t,n){_classCallCheck(this,e),this.idService=t,this.navigation=n,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=TZ++}return _createClass(e,[{key:"hostRole",get:function(){return this.logicalSlaveRow?"presentation":"row"}},{key:"ariaRowIndex",get:function(){return this.logicalRowIndex+1}},{key:"ariaOwns",get:function(){if(this.navigation.enabled&&!this.logicalSlaveRow&&0!==this.logicalSlaveCellsCount){for(var e=[],t=this.logicalCellsCount+this.logicalSlaveCellsCount,n=this.logicalCellsCount;n<t;n++)e.push(this.idService.cellId(this.logicalRowIndex,n));return e.join(" ")}}},{key:"ngOnChanges",value:function(e){if(this.navigation.enabled&&!this.logicalSlaveRow){var t=e.logicalRowIndex;if(t||e.logicalSlaveRow){var n=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(n,this),this.navigation.registerRow(this)}else Cb(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}}},{key:"ngOnDestroy",value:function(){this.navigation.unregisterRow(this.logicalRowIndex,this)}}]),e}(),_K.\u0275fac=function(e){return new(e||_K)(Ua(Mq),Ua(SU))},_K.\u0275dir=At({type:_K,selectors:[["","kendoGridLogicalRow",""]],hostVars:3,hostBindings:function(e,t){2&e&&Ha("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("aria-owns",t.ariaOwns)},inputs:{logicalSlaveRow:"logicalSlaveRow",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",logicalRowIndex:"logicalRowIndex",logicalCellsCount:"logicalCellsCount",dataItem:"dataItem"},features:[qo]}),_K),AZ=/\{\d+:?/,DZ=(DK=function(){function e(t){_classCallCheck(this,e),this.intlService=t}return _createClass(e,[{key:"transform",value:function(e,t,n){if(!QB(t)){var i=function(e){if(Wx[e])return Wx[e];var t=function(e){var t=[];return e.replace(Kx,(function(e,n,i,r){t.push(void 0!==n?n:i||r)})),t}(e);return Wx[e]=function(e){for(var n=e,i=0;i<t.length&&n;i++)n=n[t[i]];return n},Wx[e]}(t)(e);return QB(n)?i:this.formatValue(n,i)}return e}},{key:"formatValue",value:function(e,t){var n=this.intlService;return ez(e)&&e.match(AZ)?n.format(e,t):n.toString(t,e)}}]),e}(),DK.\u0275fac=function(e){return new(e||DK)(Ua(SA))},DK.\u0275pipe=Dt({name:"valueOf",type:DK,pure:!1}),DK),OZ=function(e){var t=e.columns;return Math.max(1,function(e){return e.filter((function(e){return YB(e.resizable)&&e.isVisible}))}(t).length)},RZ=function(e){return function(t){return t.querySelector(e)}},PZ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td";return function(n){return n.querySelectorAll(t+":not(.k-group-cell):not(.k-hierarchy-cell)")[e]}},LZ=function(e){return e.offsetWidth},NZ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return e?t(e):0}),e)}},MZ=(OK=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.element=t,this.renderer=n,this.service=i,this.zone=r,this.cdr=s,this.locked=!1,this.firstResize=!1}return _createClass(e,[{key:"minWidth",get:function(){return this.firstResize?0:null}},{key:"ngOnInit",value:function(){var e=this,t=this.service.changes.pipe(tg((function(t){return e.locked===t.locked})));this.subscription=t.pipe(tg((function(e){return"start"===e.type})),Pg(this.initState.bind(this)),$(OZ),xg((function(e){return t.pipe(tg((function(e){return"resizeTable"===e.type})),$((function(e){return e.delta})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){return n.lift(new SC(e,t))}}(e))}))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}},{key:"initState",value:function(){this.firstResize=!0,this.virtualColumns&&!this.locked||(this.originalWidth=LZ(this.element.nativeElement))}},{key:"resize",value:function(e){if(!this.virtualColumns||this.locked){var t=e.reduce((function(e,t){return e+t}),0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}},{key:"autoFitObservable",value:function(e){var t=this;return D.create((function(n){t.zone.runOutsideAngular((function(){t.renderer.addClass(t.element.nativeElement,"k-autofitting"),t.cdr.detectChanges();var i=e.map(t.measureColumn.bind(t));t.renderer.removeClass(t.element.nativeElement,"k-autofitting"),n.next(i)}))}))}},{key:"measureColumn",value:function(e){var t,n=this.element.nativeElement,i=NZ((t=e.level,function(e){return e.querySelectorAll("thead>tr")[t]}),PZ(e.headerIndex,"th"),LZ)(n),r=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(r=NZ(RZ("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),PZ(e.index),LZ)(n));var s=NZ(RZ("tfoot>tr"),PZ(e.index),LZ)(n);return Math.max(i,r,s)}}]),e}(),OK.\u0275fac=function(e){return new(e||OK)(Ua(sl),Ua(ul),Ua(kq),Ua(gc),Ua(sa))},OK.\u0275dir=At({type:OK,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&bo("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),OK),VZ=function(){var e=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[WU,QU,LG,MU,NG,Xz]}}]),e}();return e.\u0275mod=Tt({type:e}),e.\u0275inj=we({factory:function(t){return new(t||e)},imports:[[Ef],xb,Ib]}),e}(),HZ=[dZ,(pW=RK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"contains",e)}return n}(W$),pW.\u0275fac=function(e){return new(e||pW)(Ua(tC))},pW.\u0275cmp=St({type:pW,selectors:[["kendo-filter-contains-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return RK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),pW),(dW=PK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"doesnotcontain",e)}return n}(W$),dW.\u0275fac=function(e){return new(e||dW)(Ua(tC))},dW.\u0275cmp=St({type:dW,selectors:[["kendo-filter-not-contains-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return PK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),dW),(fW=LK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"endswith",e)}return n}(W$),fW.\u0275fac=function(e){return new(e||fW)(Ua(tC))},fW.\u0275cmp=St({type:fW,selectors:[["kendo-filter-endswith-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return LK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),fW),(hW=NK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"eq",e)}return n}(W$),hW.\u0275fac=function(e){return new(e||hW)(Ua(tC))},hW.\u0275cmp=St({type:hW,selectors:[["kendo-filter-eq-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return NK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),hW),(cW=MK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"isempty",e)}return n}(W$),cW.\u0275fac=function(e){return new(e||cW)(Ua(tC))},cW.\u0275cmp=St({type:cW,selectors:[["kendo-filter-isempty-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return MK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),cW),(uW=VK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"isnotempty",e)}return n}(W$),uW.\u0275fac=function(e){return new(e||uW)(Ua(tC))},uW.\u0275cmp=St({type:uW,selectors:[["kendo-filter-isnotempty-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return VK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),uW),(lW=HK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"isnotnull",e)}return n}(W$),lW.\u0275fac=function(e){return new(e||lW)(Ua(tC))},lW.\u0275cmp=St({type:lW,selectors:[["kendo-filter-isnotnull-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return HK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),lW),(oW=jK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"isnull",e)}return n}(W$),oW.\u0275fac=function(e){return new(e||oW)(Ua(tC))},oW.\u0275cmp=St({type:oW,selectors:[["kendo-filter-isnull-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return jK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),oW),(aW=BK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"neq",e)}return n}(W$),aW.\u0275fac=function(e){return new(e||aW)(Ua(tC))},aW.\u0275cmp=St({type:aW,selectors:[["kendo-filter-neq-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return BK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),aW),(sW=zK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"startswith",e)}return n}(W$),sW.\u0275fac=function(e){return new(e||sW)(Ua(tC))},sW.\u0275cmp=St({type:sW,selectors:[["kendo-filter-startswith-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return zK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),sW),(rW=UK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"gt",e)}return n}(W$),rW.\u0275fac=function(e){return new(e||rW)(Ua(tC))},rW.\u0275cmp=St({type:rW,selectors:[["kendo-filter-gt-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return UK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),rW),(iW=GK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"gte",e)}return n}(W$),iW.\u0275fac=function(e){return new(e||iW)(Ua(tC))},iW.\u0275cmp=St({type:iW,selectors:[["kendo-filter-gte-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return GK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),iW),(nW=qK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"lt",e)}return n}(W$),nW.\u0275fac=function(e){return new(e||nW)(Ua(tC))},nW.\u0275cmp=St({type:nW,selectors:[["kendo-filter-lt-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return qK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),nW),(tW=KK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"lte",e)}return n}(W$),tW.\u0275fac=function(e){return new(e||tW)(Ua(tC))},tW.\u0275cmp=St({type:tW,selectors:[["kendo-filter-lte-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return KK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),tW),(eW=WK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"after",e)}return _createClass(n,[{key:"toJSON",value:function(){return{text:this.text,value:"gt"}}}]),n}(W$),eW.\u0275fac=function(e){return new(e||eW)(Ua(tC))},eW.\u0275cmp=St({type:eW,selectors:[["kendo-filter-after-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return WK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),eW),(XK=$K=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"after-eq",e)}return _createClass(n,[{key:"toJSON",value:function(){return{text:this.text,value:"gte"}}}]),n}(W$),XK.\u0275fac=function(e){return new(e||XK)(Ua(tC))},XK.\u0275cmp=St({type:XK,selectors:[["kendo-filter-after-eq-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return $K}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),XK),(JK=ZK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"before-eq",e)}return _createClass(n,[{key:"toJSON",value:function(){return{text:this.text,value:"lte"}}}]),n}(W$),JK.\u0275fac=function(e){return new(e||JK)(Ua(tC))},JK.\u0275cmp=St({type:JK,selectors:[["kendo-filter-before-eq-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return ZK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),JK),(QK=YK=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,"before",e)}return _createClass(n,[{key:"toJSON",value:function(){return{text:this.text,value:"lt"}}}]),n}(W$),QK.\u0275fac=function(e){return new(e||QK)(Ua(tC))},QK.\u0275cmp=St({type:QK,selectors:[["kendo-filter-before-operator"]],features:[tl([{provide:W$,useExisting:Pe((function(){return YK}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),QK)],jZ=[Ef,__,w_,xT,CT,HD,xN,Ox,VZ],BZ=((bW=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[].concat(HZ)}}]),e}()).\u0275mod=Tt({type:bW}),bW.\u0275inj=we({factory:function(e){return new(e||bW)},imports:[[].concat(jZ),Ef,__,w_,xT,CT,HD,xN,Ox,VZ]}),bW),zZ=((kW=function(){function e(t,n){_classCallCheck(this,e),this.host=t,this.resolver=n}return _createClass(e,[{key:"ngOnInit",value:function(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}},{key:"ngOnDestroy",value:function(){this.component&&(this.component.destroy(),this.component=null)}},{key:"ngOnChanges",value:function(e){Cb(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}},{key:"initComponent",value:function(e){var t=e.column,n=e.filter,i=this.component.instance;i.column=t,i.filter=n}}]),e}()).\u0275fac=function(e){qa()},kW.\u0275dir=At({type:kW,inputs:{column:"column",filter:"filter"},features:[qo]}),kW),UZ=((yW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"componentType",value:function(){return QB(this.column.filter)?fZ:{boolean:mZ,date:bZ,numeric:iZ,text:fZ}[this.column.filter]}}]),n}(zZ)).\u0275fac=function(e){return new(e||yW)(Ua(Al),Ua(rl))},yW.\u0275dir=At({type:yW,selectors:[["","kendoFilterCellHost",""]],features:[Ho]}),yW),GZ=((mW=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[z$,G$,zU,dZ,fZ,iZ,vZ,mZ,bZ,BZ.exports()]}}]),e}()).\u0275mod=Tt({type:mW}),mW.\u0275inj=we({factory:function(e){return new(e||mW)},imports:[[BZ],BZ]}),mW),qZ=((gW=function(){function e(t,n){_classCallCheck(this,e),this.host=t,this.renderer=n}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.renderer.addClass(this.host.numericInput.nativeElement,"k-pager-nav")}}]),e}()).\u0275fac=function(e){return new(e||gW)(Ua(ED),Ua(ul))},gW.\u0275dir=At({type:gW,selectors:[["","kendoGridPagerInput",""]]}),gW),KZ=((vW=function(){function e(t,n){var i=this;_classCallCheck(this,e),this.host=t,this.renderer=n,this.keydownHandler=function(e){e.keyCode===Vb.Escape&&i.host.isOpen&&(e.stopPropagation(),i.host.toggle(!1))}}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this.host.wrapper.nativeElement;this.renderer.addClass(e,"k-pager-nav"),e.addEventListener("keydown",this.keydownHandler,!0)}},{key:"ngOnDestroy",value:function(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}}]),e}()).\u0275fac=function(e){return new(e||vW)(Ua(dT),Ua(ul))},vW.\u0275dir=At({type:vW,selectors:[["","kendoGridPagerDropDown",""]]}),vW),WZ=function(e){return n=(t=!0===e?{}:e).buttonCount,i=void 0===n?10:n,r=t.info,s=void 0===r||r,a=t.type,o=void 0===a?"numeric":a,l=t.pageSizes,u=void 0!==l&&l,c=t.previousNext,h=void 0===c||c,f=t.responsive,d=void 0===f||f,p=t.position,{buttonCount:i,info:s,pageSizes:!0===u?[5,10,20]:u,previousNext:h,type:o,responsive:d,position:void 0===p?"bottom":p};var t,n,i,r,s,a,o,l,u,c,h,f,d,p},$Z=((TW=function(){function e(t,n,i,r,s,a,o,l,u){var c=this;_classCallCheck(this,e),this.pagerContext=t,this.navigationService=n,this.element=i,this.renderer=r,this.zone=s,this.localizationService=a,this.cellContext=o,this.focusRoot=l,this.focusGroup=u,this.total=0,this.skip=1,this.pageChange=new xu,this.pagerWrapClass=!0,this.gridPagerClass=!0,this.widgetClass=!0,this.settings=WZ({}),this.subscriptions=new C,this._templateContext={},this._isFocused=!1,this.resizeHandler=function(){var e=c.element.nativeElement;if(!c.template&&e){var t=e.offsetWidth;t<600?(c.renderer.removeClass(e,"k-pager-md"),c.renderer.addClass(e,"k-pager-sm")):t>=600&&t<768?(c.renderer.addClass(e,"k-pager-md"),c.renderer.removeClass(e,"k-pager-sm")):c.clearResponsiveClasses()}}}return _createClass(e,[{key:"options",set:function(e){this.settings=WZ(e)}},{key:"isFocused",get:function(){return this._isFocused}},{key:"pagerAriaLabel",get:function(){return this.navigationService.enabled?this.pagerLabel:void 0}},{key:"pagerLabel",get:function(){var e=this.localizationService.get("pagerLabel")||"";return Az(Az(e,"currentPage",this.currentPage.toString()),"totalPages",this.totalPages.toString())}},{key:"focusTrapTabIndex",get:function(){return this.focusGroup.isActive?"0":"-1"}},{key:"onFocusIn",value:function(e){this.navigationService.enabled&&(e.target===this.element.nativeElement?(this._isFocused=!0,this.focusRoot.deactivate()):this.focusRoot.activate())}},{key:"onFocusOut",value:function(){this.navigationService.enabled&&(this._isFocused=!1)}},{key:"onEscape",value:function(){this.navigationService.enabled&&(this.focusRoot.deactivate(),this.element.nativeElement.focus())}},{key:"onEnter",value:function(e){this.navigationService.enabled&&e.target===this.element.nativeElement&&(this.focusRoot.activate(),this.focusFirstElement())}},{key:"navigateToPreviousPage",value:function(e){this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.prevPage()}},{key:"navigateToNextPage",value:function(e){this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.nextPage()}},{key:"navigateToFirstPage",value:function(e){this.shouldTriggerPageChange(e.target,this.currentPage>1)&&this.pagerContext.changePage(0)}},{key:"navigateToLastPage",value:function(e){this.shouldTriggerPageChange(e.target,this.currentPage<this.totalPages)&&this.pagerContext.changePage(this.totalPages-1)}},{key:"totalPages",get:function(){return Math.ceil((this.total||0)/this.pageSize)}},{key:"currentPage",get:function(){return Math.floor((this.skip||0)/this.pageSize)+1}},{key:"templateContext",get:function(){var e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}},{key:"ngOnInit",value:function(){this.subscriptions.add(this.pagerContext.pageChange.subscribe(this.changePage.bind(this))),this.navigationService.enabled&&this.focusRoot.deactivate()}},{key:"ngDoCheck",value:function(){this.updateCellContext()}},{key:"ngOnChanges",value:function(e){Cb(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total}),e.template&&(e.template.currentValue?this.clearResponsiveClasses():this.resizeHandler()),e.options&&(this.settings.responsive?this.resizeHandler():this.clearResponsiveClasses())}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"changePage",value:function(e){this.pageChange.emit(e)}},{key:"onInnerFocusIn",value:function(e,t){var n=this;this.zone.onStable.pipe(kg(1)).subscribe((function(){"start"===t?e.relatedTarget===n.element.nativeElement?n.focusFirstElement():n.focusLastElement():n.focusFirstElement()}))}},{key:"clearResponsiveClasses",value:function(){var e=this.element.nativeElement;this.renderer.removeClass(e,"k-pager-sm"),this.renderer.removeClass(e,"k-pager-md")}},{key:"shouldTriggerPageChange",value:function(e,t){return this.navigationService.enabled&&e===this.element.nativeElement&&t}},{key:"focusFirstElement",value:function(){var e=Wz(this.element.nativeElement,!0);e&&e.focus()}},{key:"focusLastElement",value:function(){var e=this,t=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=null;return Kz(e,(function(e){return t(e)&&(i=e),!1}),n),i}(e.element.nativeElement,(function(e){return qz(e,n)}),!1)}(0,!0);t&&t.focus()}},{key:"updateCellContext",value:function(){this.cellContext&&(this.cellContext.focusGroup=this.focusGroup)}}]),e}()).\u0275fac=function(e){return new(e||TW)(Ua(cU),Ua(SU),Ua(sl),Ua(ul),Ua(gc),Ua(tC),Ua(Jz,8),Ua(Pz),Ua(xZ))},TW.\u0275cmp=St({type:TW,selectors:[["kendo-pager"]],hostVars:9,hostBindings:function(e,t){1&e&&io("focusin",(function(e){return t.onFocusIn(e)}))("focusout",(function(){return t.onFocusOut()}))("keydown.escape",(function(){return t.onEscape()}))("keydown.enter",(function(e){return t.onEnter(e)}))("keydown.arrowleft",(function(e){return t.navigateToPreviousPage(e)}))("keydown.pageup",(function(e){return t.navigateToPreviousPage(e)}))("keydown.arrowright",(function(e){return t.navigateToNextPage(e)}))("keydown.pagedown",(function(e){return t.navigateToNextPage(e)}))("keydown.home",(function(e){return t.navigateToFirstPage(e)}))("keydown.end",(function(e){return t.navigateToLastPage(e)})),2&e&&(Ha("aria-label",t.pagerAriaLabel),Co("k-pager-wrap",t.pagerWrapClass)("k-grid-pager",t.gridPagerClass)("k-widget",t.widgetClass)("k-state-focused",t.isFocused))},inputs:{total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[tl([{provide:Rz,useValue:!0},{provide:Pz,deps:[Rz],useClass:Pz},{provide:xZ,deps:[Pz],useClass:xZ}]),qo],decls:5,vars:5,consts:[["class","k-sr-only",3,"tabindex","focusin",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"resize",4,"ngIf"],[1,"k-sr-only",3,"tabindex","focusin"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"],["pageSizes",""],[3,"resize"]],template:function(e,t){1&e&&(Ba(0,VV,1,2,"div",0),Ba(1,HV,1,2,"ng-container",1),Ba(2,KV,7,6,"ng-container",2),Ba(3,WV,1,2,"div",0),Ba(4,$V,1,0,"kendo-resize-sensor",3)),2&e&&(Ka("ngIf",t.navigationService.enabled),Ir(1),Ka("ngIf",null==t.template?null:t.template.templateRef),Ir(1),Ka("ngIf",!(null!=t.template&&t.template.templateRef)),Ir(1),Ka("ngIf",t.navigationService.enabled),Ir(1),Ka("ngIf",t.settings.responsive))},directives:function(){return[rf,Sf,YZ,JZ,XZ,QZ,eY,tY,Lb]},encapsulation:2}),TW),ZZ=((IW=function(){function e(t,n,i){_classCallCheck(this,e),this.localization=t,this.pagerContext=n,this.cd=i,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize}return _createClass(e,[{key:"currentPage",get:function(){return Math.floor((this.skip||0)/this.pageSize)+1}},{key:"totalPages",get:function(){return Math.ceil((this.total||0)/this.pageSize)}},{key:"textFor",value:function(e){return this.localization.get(e)}},{key:"changePage",value:function(e){return this.pagerContext.changePage(e),!1}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}}]),e}()).\u0275fac=function(e){qa()},IW.\u0275dir=At({type:IW}),IW),YZ=((EW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,i,r)).navigationService=s,a}return _createClass(n,[{key:"disabled",get:function(){return 1===this.currentPage||!this.total}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}}]),n}(ZZ)).\u0275fac=function(e){return new(e||EW)(Ua(tC),Ua(cU),Ua(sa),Ua(SU))},EW.\u0275cmp=St({type:EW,selectors:[["kendo-pager-prev-buttons"]],features:[Ho],decls:4,vars:16,consts:[[3,"kendoGridFocusable","title","ngClass","click","keydown.enter"],[3,"ngClass"]],template:function(e,t){1&e&&($a(0,"span",0),io("click",(function(){return 1!==t.currentPage&&t.changePage(0)}))("keydown.enter",(function(){return 1!==t.currentPage&&t.changePage(0)})),Ya(1,"span",1),Za(),$a(2,"span",0),io("click",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)}))("keydown.enter",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)})),Ya(3,"span",1),Za()),2&e&&(Ka("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerFirstPage"))("ngClass",hu(10,ZV,t.disabled)),Ir(1),Ka("ngClass",cu(12,YV)),Ha("aria-label",t.textFor("pagerFirstPage")),Ir(1),Ka("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerPreviousPage"))("ngClass",hu(13,QV,t.disabled)),Ir(1),Ka("ngClass",cu(15,JV)),Ha("aria-label",t.textFor("pagerPreviousPage")))},directives:[Xz,Xh],encapsulation:2,changeDetection:0}),EW),QZ=((xW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,i,r)).navigationService=s,a}return _createClass(n,[{key:"disabled",get:function(){return this.currentPage===this.totalPages||!this.total}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}}]),n}(ZZ)).\u0275fac=function(e){return new(e||xW)(Ua(tC),Ua(cU),Ua(sa),Ua(SU))},xW.\u0275cmp=St({type:xW,selectors:[["kendo-pager-next-buttons"]],features:[Ho],decls:4,vars:16,consts:[["tabindex","0",3,"kendoGridFocusable","title","ngClass","click","keydown.enter"],[3,"ngClass"]],template:function(e,t){1&e&&($a(0,"span",0),io("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)}))("keydown.enter",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)})),Ya(1,"span",1),Za(),$a(2,"span",0),io("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)}))("keydown.enter",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)})),Ya(3,"span",1),Za()),2&e&&(Ka("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerNextPage"))("ngClass",hu(10,QV,t.disabled)),Ir(1),Ka("ngClass",cu(12,XV)),Ha("aria-label",t.textFor("pagerNextPage")),Ir(1),Ka("kendoGridFocusable",!t.disabled)("title",t.textFor("pagerLastPage"))("ngClass",hu(13,eH,t.disabled)),Ir(1),Ka("ngClass",cu(15,tH)),Ha("aria-label",t.textFor("pagerLastPage")))},directives:[Xz,Xh],encapsulation:2,changeDetection:0}),xW),JZ=((SW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,r,i)).pagerContext=r,s.numbersWrapClass=!0,s}return _createClass(n,[{key:"buttons",get:function(){for(var e=[],t=this.start;t<=this.end;t++)e.push(t);return e}},{key:"end",get:function(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}},{key:"start",get:function(){var e=this.currentPage,t=this.buttonCount;if(e>t){var n=e%t;return 0===n?e-t+1:e-n+1}return 1}},{key:"pageLabel",value:function(e){var t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}},{key:"onSelectChange",value:function(e){var t=e.target,n=Number(t.value);Number.isNaN(n)?this.changePage("previousButtons"===t.value?this.start-2:this.end):this.changePage(n-1)}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}}]),n}(ZZ)).\u0275fac=function(e){return new(e||SW)(Ua(tC),Ua(sa),Ua(cU))},SW.\u0275cmp=St({type:SW,selectors:[["kendo-pager-numeric-buttons"]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-pager-numbers-wrap",t.numbersWrapClass)},inputs:{buttonCount:"buttonCount"},features:[Ho],decls:8,vars:9,consts:[["kendoGridFocusable","","tabindex","0",1,"k-dropdown","k-pager-nav",3,"value","change"],["class","k-link","value","previousButtons",4,"ngIf"],[3,"value","ngClass",4,"ngFor","ngForOf"],["value","nextButtons","class","k-link",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["value","previousButtons",1,"k-link"],[3,"value","ngClass"],["value","nextButtons",1,"k-link"],["kendoGridFocusable","","tabindex","0",1,"k-link","k-pager-nav",3,"click","keydown.enter"],["kendoGridFocusable","","tabindex","0",3,"ngClass","click","keydown.enter"]],template:function(e,t){1&e&&($a(0,"select",0),io("change",(function(e){return t.onSelectChange(e)})),Ba(1,nH,2,1,"option",1),Ba(2,rH,2,7,"option",2),Ba(3,sH,2,1,"option",3),Za(),$a(4,"ul",4),Ba(5,aH,3,1,"li",5),Ba(6,lH,3,5,"li",6),Ba(7,uH,3,1,"li",5),Za()),2&e&&(Ka("value",t.currentPage.toString()),Ir(1),Ka("ngIf",t.start>1),Ir(1),Ka("ngForOf",t.buttons),Ir(1),Ka("ngIf",t.end<t.totalPages),Ir(1),Ka("ngClass",cu(8,cH)),Ir(1),Ka("ngIf",t.start>1),Ir(1),Ka("ngForOf",t.buttons),Ir(1),Ka("ngIf",t.end<t.totalPages))},directives:[Xz,rf,tf,Xh],encapsulation:2,changeDetection:0}),SW),XZ=((_W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a){var o;return _classCallCheck(this,n),(o=t.call(this,e,i,a)).pagerContext=i,o.zone=r,o.navigationService=s,o.handleKeyDown=function(e){var t=o.numericInput.value||o.current;e.keyCode===Vb.Enter&&(e.preventDefault(),t!==o.current&&o.zone.run((function(){o.changePage(t-1)})))},o.handleBlur=function(){var e=o.numericInput.value;e?e!==o.current&&o.zone.run((function(){o.changePage(e-1)})):o.numericInput.writeValue(o.current)},o}return _createClass(n,[{key:"current",get:function(){return this.hasPages?this.currentPage:0}},{key:"hasPages",get:function(){return 0!==this.totalPages}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}}]),n}(ZZ)).\u0275fac=function(e){return new(e||_W)(Ua(tC),Ua(cU),Ua(gc),Ua(SU),Ua(sa))},_W.\u0275cmp=St({type:_W,selectors:[["kendo-pager-input"]],viewQuery:function(e,t){var n;1&e&&Vu(ED,!0),2&e&&Nu(n=Uu())&&(t.numericInput=n.first)},features:[Ho],decls:4,vars:18,consts:[[3,"ngClass"],["kendoGridPagerInput","","tabindex","0","format","n0",3,"kendoGridFocusable","spinners","decimals","disabled","value","min","max","autoCorrect","title","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&($a(0,"span",0),Oo(1),Ya(2,"kendo-numerictextbox",1),Oo(3),Za()),2&e&&(Ka("ngClass",cu(14,hH)),Ir(1),Po(" ",t.textFor("pagerPage")," "),Ir(1),Ka("kendoGridFocusable",t.hasPages)("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("autoCorrect",!0)("title",t.textFor("pagerPageNumberInputTitle"))("kendoEventsOutsideAngular",fu(15,fH,t.handleKeyDown,t.handleBlur)),Ir(1),Lo(" ",t.textFor("pagerOf")," ",t.totalPages," "))},directives:[Xh,ED,qZ,Xz,Eb],encapsulation:2}),_W),eY=((wW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this,e,r,i)).pagerContext=r,s}return _createClass(n,[{key:"maxItems",get:function(){return Math.min(this.currentPage*this.pageSize,this.total)}},{key:"currentPageText",get:function(){return this.total?(this.currentPage-1)*this.pageSize+1:0}},{key:"classes",get:function(){return!0}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize=i,this.cd.markForCheck()}}]),n}(ZZ)).\u0275fac=function(e){return new(e||wW)(Ua(tC),Ua(sa),Ua(cU))},wW.\u0275cmp=St({type:wW,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&Co("k-pager-info",t.classes)("k-label",t.classes)},features:[Ho],decls:1,vars:5,template:function(e,t){1&e&&Oo(0),2&e&&No("",t.currentPageText," - ",t.maxItems," ",t.textFor("pagerOf")," ",t.total," ",t.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),wW),tY=((CW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this,e,r,i)).pagerContext=r,a.navigationService=s,a._pageSizes=[],a}return _createClass(n,[{key:"pageSizes",get:function(){return this._pageSizes},set:function(e){var t=this,n=[];e.forEach((function(e){n.push("number"==typeof e?{text:e.toString(),value:e}:e)})),this.pageSize&&!n.some((function(e){return e.value===t.pageSize}))&&(n=[{text:this.pageSize.toString(),value:this.pageSize}].concat(_toConsumableArray(n))),this._pageSizes=n}},{key:"classes",get:function(){return!0}},{key:"showInitialPageSize",get:function(){var e=this;return 0===this.pageSizes.filter((function(t){return"number"==typeof t.value?t.value===Number(e.pageSize):e.total===Number(e.pageSize)})).length}},{key:"pageSizeChange",value:function(e){this.pageSize="number"==typeof e?e:this.total,this.pagerContext.changePageSize(this.pageSize)}},{key:"getValue",value:function(e){return"number"==typeof e.value?e.value:this.total}},{key:"onChanges",value:function(e){var t=e.total,n=e.skip,i=e.pageSize;this.total=t,this.skip=n,this.pageSize="number"==typeof i?i:this.total,this.cd.markForCheck()}}]),n}(ZZ)).\u0275fac=function(e){return new(e||CW)(Ua(tC),Ua(sa),Ua(cU),Ua(SU))},CW.\u0275cmp=St({type:CW,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&Co("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[Ho],decls:3,vars:5,consts:[["kendoGridPagerDropDown","","tabindex","0","kendoGridFocusable","","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange"],["dropdownlist",""],[3,"for","text"]],template:function(e,t){if(1&e&&($a(0,"kendo-dropdownlist",0,1),io("valueChange",(function(e){return t.pageSizeChange(e)})),Za(),Ya(2,"kendo-label",2)),2&e){var n=za(1);Ka("data",t.pageSizes)("valuePrimitive",!0)("value",t.pageSize),Ir(2),Ka("for",n)("text",t.textFor("pagerItemsPerPage"))}},directives:[dT,KZ,Xz,BN],encapsulation:2,changeDetection:0}),CW),nY=[Ef,HD,zN,TT,Nb,VZ],iY=((DW=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[$Z,YZ,QZ,JZ,XZ,eY,tY,oq,KZ,qZ]}}]),e}()).\u0275mod=Tt({type:DW}),DW.\u0275inj=we({factory:function(e){return new(e||DW)},imports:[[].concat(nY)]}),DW),rY=((AW=function(){function e(t,n){_classCallCheck(this,e),this.groupsService=t,this.groupInfoService=n,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.isExpanded=!1}return _createClass(e,[{key:"groupItemClass",get:function(){return!0}},{key:"ngDoCheck",value:function(){var e={group:this.item.data,groupIndex:this.item.index,parentGroup:lU(this.item.parentGroup)};this.isExpanded=this.groupsService.isExpanded(e)}},{key:"prefixGroupCell",value:function(e){return new Array(e.level)}},{key:"toggleGroup",value:function(e){return this.groupsService.toggleRow(e),!1}},{key:"groupSpan",value:function(e){var t=(this.groups||[]).length,n=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return t+1+n-e.level;var i=iG(this.columns);return this.skipGroupDecoration?i:t+i+n-e.level}},{key:"logicalColSpan",value:function(){return this.skipGroupDecoration?1:this.totalColumnsCount}},{key:"ariaRole",value:function(){return this.skipGroupDecoration?"presentation":"gridcell"}},{key:"formatForGroup",value:function(e){return this.groupInfoService.formatForGroup(e)}},{key:"groupTitle",value:function(e){return this.groupInfoService.groupTitle(e)}},{key:"groupHeaderTemplate",value:function(e){return this.groupInfoService.groupHeaderTemplate(e)}}]),e}()).\u0275fac=function(e){return new(e||AW)(Ua(uU),Ua(eq))},AW.\u0275cmp=St({type:AW,selectors:[["","kendoGridGroupHeader",""]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-grouping-row",t.groupItemClass)},inputs:{skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",groups:"groups",rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns"},attrs:dH,decls:3,vars:3,consts:[[3,"ngIf"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],[4,"ngIf"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",1,"k-icon",3,"ngClass","click"],[3,"templateContext"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Ba(0,vH,1,1,"ng-template",0),Ba(1,CH,3,9,"td",1),Ba(2,xH,2,1,"ng-container",2)),2&e&&(Ka("ngIf",!t.skipGroupDecoration),Ir(1),Ka("ngIf",!(t.skipGroupDecoration&&t.hasGroupHeaderColumn)),Ir(1),Ka("ngIf",t.hasGroupHeaderColumn))},directives:[rf,tf,IZ,Xh,SZ,Sf],pipes:[DZ],encapsulation:2}),AW),sY=((FW=function(){function e(t,n){_classCallCheck(this,e),this.element=t,this.service=n,this.context={},this.enter=new xu,this.leave=new xu,this.drop=new xu,this.subscriptions=new C}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.service.add(this);var t=this.service.changes.pipe(tg((function(t){return t.target===e})));this.subscriptions.add(t.pipe(tg((function(e){return"leave"===e.type}))).subscribe((function(t){e.leave.next(e.eventArgs(t))}))),this.subscriptions.add(t.pipe(tg((function(e){return"enter"===e.type}))).subscribe((function(t){e.enter.next(e.eventArgs(t))}))),this.subscriptions.add(t.pipe(tg((function(e){return"drop"===e.type}))).subscribe((function(t){e.drop.next(e.eventArgs(t))})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"eventArgs",value:function(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}}]),e}()).\u0275fac=function(e){return new(e||FW)(Ua(sl),Ua(Tq))},FW.\u0275dir=At({type:FW,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),FW),aY=function(e){var t=e.field;return QB(t)},oY=function(e){var t=e.groups,n=e.field;return t.some((function(e){return e.field===n}))},lY=rz((function(e){var t=e.target,n=e.field;return t.field===n}),sz((function(e){return e.target.lastTarget}),(function(e){var t=e.groups,n=e.field;return t.map((function(e){return e.field})).indexOf(n)===t.length-1}))),uY=((RW=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.hint=t,this.cue=n,this.groupInfoService=i,this.localization=r,this.cd=s,this.change=new xu,this.groups=[],this.dropTargets=new Iu,this.groupTitles=[],this.subscription=new C}return _createClass(e,[{key:"groupHeaderClass",get:function(){return!0}},{key:"text",get:function(){return this.emptyText?this.emptyText:this.localization.get("groupPanelEmpty")},set:function(e){this.emptyText=e}},{key:"ngAfterViewInit",value:function(){this.subscription.add(JB(this.dropTargets).subscribe(this.attachTargets.bind(this)))}},{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngDoCheck",value:function(){var e=this,t=this.groups.map((function(t){return e.groupInfoService.groupTitle(t)}));(t.length!==this.groupTitles.length||t.some((function(t,n){return t!==e.groupTitles[n]})))&&(this.groupTitles=t,this.cd.markForCheck())}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe()}},{key:"directionChange",value:function(e){var t=this.groups.findIndex((function(t){return t.field===e.field})),n=[].concat(_toConsumableArray(this.groups.slice(0,t)),[e],_toConsumableArray(this.groups.slice(t+1)));this.change.emit(n)}},{key:"insert",value:function(e,t){var n=this.groups.filter((function(t){return t.field!==e}));(n.length||0===this.groups.length)&&this.change.emit([].concat(_toConsumableArray(n.slice(0,t)),[{field:e}],_toConsumableArray(n.slice(t))))}},{key:"remove",value:function(e){this.change.emit(this.groups.filter((function(t){return t.field!==e.field})))}},{key:"canDrop",value:function(e,t){var n;return!("groupIndicator"===e.type?lY:rz(aY,oY,(n=this.groupInfoService,function(e){var t=e.field;return!n.isGroupable(t)})))({field:e.field,groups:this.groups,target:t})}},{key:"attachTargets",value:function(){var e=this;this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new C;var t=this.dropTargets.reduce((function(e,t){return re(e,t.enter)}),J([])),n=this.dropTargets.reduce((function(e,t){return re(e,t.leave)}),J([])),i=this.dropTargets.reduce((function(e,t){return re(e,t.drop)}),J([]));this.targetSubscription.add(t.pipe(Pg((function(t){return e.hint.removeLock()})),tg((function(t){var n=t.draggable,i=t.target;return e.canDrop(n.context,i.context)})),Pg(this.enter.bind(this)),sC(i.pipe(nC(n.pipe(Pg(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}},{key:"enter",value:function(e){var t=e.draggable,n=e.target;this.hint.enable();var i=n.context.lastTarget||xq(t.element.nativeElement,n.element.nativeElement);this.localization.rtl&&(i=!i),this.cue.position(Iq(n.element.nativeElement,i))}},{key:"leave",value:function(){this.hint.disable(),this.cue.hide()}},{key:"drop",value:function(e){var t=e.target,n=e.draggable.context.field,i=this.dropTargets.toArray().indexOf(t);this.insert(n,i)}}]),e}()).\u0275fac=function(e){return new(e||RW)(Ua(Dq),Ua(Oq),Ua(eq),Ua(tC),Ua(sa))},RW.\u0275cmp=St({type:RW,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,t){var n;1&e&&Vu(sY,!0),2&e&&Nu(n=Uu())&&(t.dropTargets=n)},hostVars:4,hostBindings:function(e,t){2&e&&Co("k-grouping-header",t.groupHeaderClass)("k-grouping-header-flex",t.groupHeaderClass)},inputs:{groups:"groups",text:"text"},outputs:{change:"change"},decls:3,vars:3,consts:[[3,"ngIf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngFor","ngForOf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngIf"],["kendoDropTarget","",1,"k-indicator-container",3,"context"],["kendoDraggableColumn","","kendoGroupIndicator","","kendoDraggable","",3,"enableDrag","context","group","groupTitle","directionChange","remove"]],template:function(e,t){1&e&&(Ba(0,IH,2,3,"ng-template",0),Ba(1,AH,2,10,"div",1),Ba(2,DH,2,2,"div",2)),2&e&&(Ka("ngIf",0===t.groups.length),Ir(1),Ka("ngForOf",t.groups),Ir(1),Ka("ngIf",0!==t.groups.length))},directives:function(){return[rf,tf,sY,gY,cY,Sb]},encapsulation:2,changeDetection:0}),RW),cY=((OW=function(){function e(){_classCallCheck(this,e),this.directionChange=new xu,this.remove=new xu}return _createClass(e,[{key:"groupIndicatorClass",get:function(){return!0}},{key:"dir",get:function(){return this.group.dir?this.group.dir:"asc"}},{key:"toggleDirection",value:function(){return this.directionChange.emit({dir:"asc"===this.dir?"desc":"asc",field:this.group.field}),!1}},{key:"removeDescriptor",value:function(){return this.remove.emit({dir:this.group.dir,field:this.group.field}),!1}}]),e}()).\u0275fac=function(e){return new(e||OW)},OW.\u0275cmp=St({type:OW,selectors:[["","kendoGroupIndicator",""]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-group-indicator",t.groupIndicatorClass)},inputs:{group:"group",groupTitle:"groupTitle"},outputs:{directionChange:"directionChange",remove:"remove"},attrs:OH,decls:5,vars:5,consts:[["href","#","tabindex","-1",1,"k-link",3,"click"],[1,"k-icon"],["tabindex","-1",1,"k-button","k-button-icon","k-bare",3,"click"],[1,"k-icon","k-i-group-delete"]],template:function(e,t){1&e&&($a(0,"a",0),io("click",(function(){return t.toggleDirection()})),Ya(1,"span",1),Oo(2),Za(),$a(3,"a",2),io("click",(function(){return t.removeDescriptor()})),Ya(4,"span",3),Za()),2&e&&(Ir(1),Co("k-i-sort-asc-sm","asc"===t.dir)("k-i-sort-desc-sm","desc"===t.dir),Ir(1),Po(" ",t.groupTitle,""))},encapsulation:2,changeDetection:0}),OW),hY=function(e){return function(t){return new RegExp("(^| )".concat(e,"( |$)")).test(t.className)}},fY=rz(hY("k-i-group-delete"),hY("k-button-icon")),dY=rz(hY("k-i-sort-asc-sm"),hY("k-i-sort-desc-sm")),pY=sz(iz(fY),iz(dY),iz(qz),iz(jz("label"))),vY=function(e){var t=e.clientX,n=e.clientY;return document.elementFromPoint(t,n)},gY=((NW=function(){function e(t,n,i,r,s,a,o,l){_classCallCheck(this,e),this.draggable=t,this.element=n,this.zone=i,this.service=r,this.hint=s,this.cue=a,this.nav=o,this.renderer=l,this.context={},this.drag=new xu,this.subscriptions=new C}return _createClass(e,[{key:"enableDrag",set:function(e){this.enabled=e,this.updateTouchAction()}},{key:"hostClass",get:function(){return this.enabled}},{key:"ngOnInit",value:function(){var e=this;this.subscriptions.add(this.zone.runOutsideAngular((function(){return e.draggable.kendoPress.pipe(tg((function(t){return e.enabled})),tg((function(t){var n=t.originalEvent.target;return n===e.element.nativeElement||pY(n)})),Pg((function(t){var n=t.originalEvent;t.isTouch||n.preventDefault(),e.nav.navigateTo(n.target)})),xg((t=e.draggable.kendoRelease,function(e){return qv(e).pipe(hC(150),nC(t))})),Pg((function(t){e.hint.create(e.context.hint),e.cue.create()})),xg((function(t){return e.draggable.kendoDrag.pipe(Pg((function(e){e.isTouch&&e.originalEvent.preventDefault()})),Pg(e.hint.attach()),Pg(e.cue.attach()),nC(e.draggable.kendoRelease),$((function(e){return{move:e,down:t}})))})),Pg(e.performDrag.bind(e)),sC(e.draggable.kendoRelease)).subscribe(e.drop.bind(e));var t})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"drop",value:function(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}},{key:"performDrag",value:function(e){var t=e.move;this.hint.move(t);var n=this.elementUnderCursor(t);n&&this.service.notifyDrag(this,n,t),this.drag.emit({draggable:this,mouseEvent:t})}},{key:"elementUnderCursor",value:function(e){this.hint.hide();var t=vY(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=function(e,t){e.style.display="none";var n=t();return e.style.display="block",n}(t,vY.bind(this,e))),this.hint.show(),t}},{key:"updateTouchAction",value:function(){this.element&&(this.enabled?this.renderer.addClass(this.element.nativeElement,"k-touch-action-none"):this.renderer.removeClass(this.element.nativeElement,"k-touch-action-none"))}}]),e}()).\u0275fac=function(e){return new(e||NW)(Ua(Sb,1),Ua(sl),Ua(gc),Ua(Tq),Ua(Dq),Ua(Oq),Ua(SU),Ua(ul))},NW.\u0275dir=At({type:NW,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),NW),mY=((LW=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:LW}),LW.\u0275inj=we({factory:function(e){return new(e||LW)}}),LW),yY=((PW=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[OU,RU,LU]}}]),e}()).\u0275mod=Tt({type:PW}),PW.\u0275inj=we({factory:function(e){return new(e||PW)},imports:[[Ef,VZ,mY]]}),PW),kY={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},bY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{},kY].concat(t))},CY=function(e,t){return!1!==e.filter&&t.field&&t.filterable},wY=function(e,t){return!1!==e.sort&&t.field&&t.sortable},_Y=function(e,t){return e.lock&&t.lockable&&!(t.parent&&!t.parent.isSpanColumn)},SY=function(e){return!1!==e.columnChooser},xY=((HW=function(){function e(t,n,i,r){_classCallCheck(this,e),this.filterService=t,this.popupService=n,this.localization=i,this.navigationService=r,this.tabIndex="-1"}return _createClass(e,[{key:"hasFilters",get:function(){return Q$(this.filter,(this.column||{}).field).length>0}},{key:"filterLabel",get:function(){var e=this.localization.get("filterMenuTitle")||"";return Az(e,"columnName",this.column.title||this.column.field)}},{key:"toggle",value:function(e,t){return this.popupRef=this.popupService.open(e,t,this.popupRef),this.popupRef||(this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()),!1}},{key:"close",value:function(){this.popupService.destroy(),this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}}]),e}()).\u0275fac=function(e){return new(e||HW)(Ua(aq),Ua(wq),Ua(tC),Ua(SU))},HW.\u0275cmp=St({type:HW,selectors:[["kendo-grid-filter-menu"]],viewQuery:function(e,t){var n;1&e&&(Mu(RH,!0),Mu(PH,!0,Tl)),2&e&&(Nu(n=Uu())&&(t.anchor=n.first),Nu(n=Uu())&&(t.template=n.first))},inputs:{tabIndex:"tabIndex",column:"column",filter:"filter"},decls:5,vars:5,consts:[["href","#",3,"ngClass","tabindex","click","keydown.enter"],["anchor",""],[1,"k-icon","k-i-filter"],["template",""],[3,"column","filter","close","keydown.escape","keydown.enter"]],template:function(e,t){if(1&e){var n=eo();$a(0,"a",0,1),io("click",(function(){un(n);var e=za(1),i=za(4);return t.toggle(e,i)}))("keydown.enter",(function(e){return e.stopImmediatePropagation()})),Ya(2,"span",2),Za(),Ba(3,LH,1,2,"ng-template",null,3,Wu)}2&e&&(Ka("ngClass",hu(3,NH,t.hasFilters))("tabindex",t.tabIndex),Ha("title",t.filterLabel))},directives:function(){return[Xh,jY]},encapsulation:2}),HW),EY=((VW=function(){function e(t){_classCallCheck(this,e),this.closeMenu=new xu,this.menuTabbingService=t}return _createClass(e,[{key:"close",value:function(){this.closeMenu.emit()}}]),e}()).\u0275fac=function(e){return new(e||VW)(st(sq))},VW.\u0275prov=Ce({token:VW,factory:VW.\u0275fac}),VW),IY=((MW=function(){function e(t,n,i,r){_classCallCheck(this,e),this.popupService=t,this.localization=n,this.service=i,this.navigationService=r,this.standalone=!0,this.settings={},this.sortable=!0,this.tabIndex="-1",this.expandedFilter=!1,this.expandedColumns=!1,this.expandedPosition=!1,this.closeSubscription=i.closeMenu.subscribe(this.close.bind(this))}return _createClass(e,[{key:"isActive",get:function(){var e=this;return this.hasFilter&&Q$(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find((function(t){return t.field===e.column.field}))}},{key:"hasFilter",get:function(){return CY(this.settings,this.column)}},{key:"hasSort",get:function(){return wY(this.settings,this.column)}},{key:"hasColumnChooser",get:function(){return SY(this.settings)}},{key:"hasLock",get:function(){return _Y(this.settings,this.column)}},{key:"hasStick",get:function(){return e=this.column,this.settings.stick&&e.stickable&&!(e.parent&&!e.parent.isSpanColumn);var e}},{key:"hasPosition",get:function(){return e=this.column,this.settings.setColumnPosition&&(e.stickable||e.lockable)&&!(e.parent&&!e.parent.isSpanColumn);var e}},{key:"ngOnChanges",value:function(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}},{key:"ngOnDestroy",value:function(){this.close(),this.closeSubscription.unsubscribe()}},{key:"toggle",value:function(e,t,n){e&&(e.preventDefault(),e.stopImmediatePropagation()),this.expandedFilter=this.getExpandedState(this.settings.filter),this.expandedColumns=this.getExpandedState(this.settings.columnChooser),this.expandedPosition=this.getExpandedState(this.settings.setColumnPosition),this.popupRef=this.popupService.open(t,n,this.popupRef,"k-grid-columnmenu-popup"),this.popupRef||(this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus())}},{key:"close",value:function(){this.popupService.destroy(),this.popupRef=null,this.navigationService.enabled?this.navigationService.focusCell(0,this.column.leafIndex):this.anchor.nativeElement.focus()}},{key:"columnMenuTitle",get:function(){var e=this.localization.get("columnMenu")||"";return Az(e,"columnName",this.column.title||this.column.field)}},{key:"getExpandedState",value:function(e){return"object"==typeof e&&e.expanded}}]),e}()).\u0275fac=function(e){return new(e||MW)(Ua(wq),Ua(tC),Ua(EY),Ua(SU))},MW.\u0275cmp=St({type:MW,selectors:[["kendo-grid-column-menu"]],viewQuery:function(e,t){var n;1&e&&(Mu(RH,!0),Mu(PH,!0,Tl)),2&e&&(Nu(n=Uu())&&(t.anchor=n.first),Nu(n=Uu())&&(t.template=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&Co("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",tabIndex:"tabIndex",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[tl([EY,sq]),qo],decls:7,vars:5,consts:[["href","#",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","tabindex","click","keydown.enter"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"keydown.escape","keydown.enter"],[3,"kendoGridColumnMenuItem","service",4,"ngIf"],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"kendoGridColumnMenuItem","service","expanded",4,"ngIf"],[3,"kendoGridColumnMenuItem","service"],["sortItem",""],["lockItem",""],["stickItem",""],[3,"showLock","showStick","kendoGridColumnMenuItem","service","expanded"],["positionItem",""],[3,"kendoGridColumnMenuItem","service","expanded"],["chooserItem",""],["filterItem",""]],template:function(e,t){if(1&e){var n=eo();$a(0,"a",0,1),io("click",(function(e){un(n);var i=za(1),r=za(4);return t.toggle(e,i,r)}))("keydown.enter",(function(e){return e.stopImmediatePropagation()})),Ya(2,"span",2),Za(),Ba(3,VH,1,5,"ng-template",null,3,Wu),Ba(5,qH,7,6,"ng-template",null,4,Wu)}2&e&&(Ka("ngClass",hu(3,KH,t.isActive))("tabindex",t.tabIndex),Ha("title",t.columnMenuTitle))},directives:function(){return[Xh,Sf,cQ,rf,aQ,uQ,oQ,hQ,lQ,nQ,iQ]},encapsulation:2}),MW),TY=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(null,[{}].concat(t))},FY=sz((function(e){var t=e.draggable;return["column","columnGroup"].indexOf(t.context.type)>=0}),(function(e){return e.draggable.context.column.reorderable}),(function(e){var t=e.draggable;return!lG(t.context.column)}),(function(e){var t=e.draggable,n=e.target;return t.element.nativeElement!==n.element.nativeElement}),(function(e){var t=e.draggable,n=e.target;return function e(t,n){return t.parent===n.parent||lG(n)&&e(t,n.parent)}(t.context.column,n.context.column)}),iz((function(e){var t,n,i=e.draggable;return!YB(i.context.column.locked)&&(t=i.context.column,n=t.parent,!YB(n))&&i.context.lastColumn})),(function(e){var t=e.draggable,n=e.target;return!1!==t.context.column.lockable||t.context.column.isLocked===n.context.column.isLocked})),AY=function(){var e=function(){function e(t,n,i,r,s,a,o,l,u){_classCallCheck(this,e),this.popupService=t,this.hint=n,this.cue=i,this.reorderService=r,this.idService=s,this.sortService=a,this.localization=o,this.columnInfoService=l,this.cd=u,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.sortedFields={},this.dropTargets=new Iu,this.subscription=new C}return _createClass(e,[{key:"headerClass",get:function(){return!this.scrollable}},{key:"sortableLabel",get:function(){return this.localization.get("sortable")}},{key:"unlockedColumnsCount",get:function(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}},{key:"sortColumn",value:function(e){this.sortService.sort(this.toggleSort(e))}},{key:"onSortClick",value:function(e,t,n){var i=t.target;e.headerTemplateRef&&i!==n&&Boolean(zz(i,Gz,n))||this.sortColumn(e)}},{key:"onHeaderKeydown",value:function(e,t){if(t.keyCode===Vb.ArrowDown&&t.altKey&&this.showFilterMenu){t.preventDefault(),t.stopImmediatePropagation();var n=this.filterMenus.find((function(t){return t.column===e}));n.toggle(n.anchor.nativeElement,n.template)}if(t.keyCode===Vb.ArrowDown&&t.altKey&&this.showColumnMenu(e)){t.preventDefault(),t.stopImmediatePropagation();var i=this.columnMenus.find((function(t){return t.column===e}));i.toggle(null,i.anchor.nativeElement,i.template)}this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===Vb.Enter&&WB(e.field)&&this.sortService.sort(this.toggleSort(e))}},{key:"showSortNumbering",value:function(e){return bY(this.sortable).showIndexes&&this.sort&&this.sort.filter((function(e){var t=e.dir;return WB(t)})).length>1&&this.sortOrder(e.field)>0}},{key:"sortOrder",value:function(e){return this.sort.filter((function(e){var t=e.dir;return WB(t)})).findIndex((function(t){return t.field===e}))+1}},{key:"sortIcon",value:function(e){var t=this.sortDescriptor(e);return{"k-icon":WB(t.dir),"k-i-sort-desc-sm":"desc"===t.dir,"k-i-sort-asc-sm":"asc"===t.dir}}},{key:"sortState",value:function(e){if(this.isSortable(e)){var t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}}},{key:"sortStatus",value:function(e){if(this.sortedFields[e.field]&&this.isSortable(e)){var t="sortedDefault",n=this.sortDescriptor(e.field);return"asc"===n.dir?t="sortedAscending":"desc"===n.dir&&(t="sortedDescending"),this.localization.get(t)}}},{key:"toggleSort",value:function(e){var t=bY(this.sortable,e.sortable),n=t.allowUnsort,i=t.mode,r=t.initialDirection,s=this.toggleDirection(e.field,n,r);return"single"===i?[s]:[].concat(_toConsumableArray(this.sort.filter((function(t){return t.field!==e.field}))),[s])}},{key:"ngAfterViewInit",value:function(){this.subscription.add(JB(this.dropTargets).subscribe(this.attachTargets.bind(this)))}},{key:"ngDoCheck",value:function(){this._leafColumns=eG(this.columns||[]).filter((function(e){return!uG(e)}))}},{key:"ngOnChanges",value:function(e){var t=this,n=e.sort;n&&!n.isFirstChange()&&n.currentValue.forEach((function(e){t.sortedFields[e.field]=!0}))}},{key:"ngOnInit",value:function(){var e=this;this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngOnDestroy",value:function(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}},{key:"selectAllCheckboxId",value:function(){return this.idService.selectAllCheckboxId()}},{key:"selectAllCheckboxLabel",get:function(){return this.localization.get("selectAllCheckboxLabel")}},{key:"isFirstOnRow",value:function(e,t){var n=this;return 0===t&&!this.groups.length&&!this.detailTemplate&&function e(t){return t&&(n.columnsForLevel(t.level).indexOf(t)>0||e(t.parent))}(e.parent)}},{key:"logicalColumnIndex",value:function(e){var t=e.leafIndex;return WB(t)?t+(WB(this.detailTemplate)?1:0):-1}},{key:"showFilterMenu",get:function(){return!this.columnMenu&&"string"==typeof(e=this.filterable)&&e.indexOf("menu")>-1;var e}},{key:"showFilterRow",get:function(){return bq(this.filterable)}},{key:"showColumnMenu",value:function(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||function(e,t){return SY(e)||_Y(e,t)||wY(e,t)||CY(e,t)}(this.columnMenu,e))}},{key:"isFilterable",value:function(e){return!QB(e.field)&&!0===e.filterable}},{key:"canDrop",value:function(e,t){return this.reorderable&&FY({draggable:e,target:t})}},{key:"shouldActivate",value:function(e){var t=this.reorderable&&e.reorderable;return!(!t&&!GU(e))&&(this.groupable&&GU(e)&&!1!==e.groupable||t)}},{key:"isSortable",value:function(e){return!QB(e.field)&&YB(this.sortable)&&YB(e.sortable)}},{key:"isCheckboxColumn",value:function(e){return jU(e)&&!e.templateRef}},{key:"trackByIndex",value:function(e,t){return e}},{key:"addStickyStyles",value:function(e){var t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}},{key:"toggleDirection",value:function(e,t,n){var i=this.sortDescriptor(e),r=_slicedToArray(function(e){return"asc"===e?["asc","desc"]:["desc","asc"]}(n),2),s=r[0],a=r[1],o=s;return i.dir===s?o=a:i.dir===a&&t&&(o=void 0),{dir:o,field:e}}},{key:"columnsForLevel",value:function(e){var t=this.columns?this.columns.filter((function(t){return t.level===e})):[];return oG(eG(t))}},{key:"isColumnGroupComponent",value:function(e){return uG(e)}},{key:"columnLevels",get:function(){return new Array((this.totalColumnLevels||0)+1)}},{key:"sortDescriptor",value:function(e){return this.sort.find((function(t){return t.field===e}))||{field:e}}},{key:"leafColumns",get:function(){return this._leafColumns}},{key:"attachTargets",value:function(){var e=this;this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new C;var t=re.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.enter})))),n=re.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.leave})))),i=re.apply(void 0,_toConsumableArray(this.dropTargets.map((function(e){return e.drop}))));this.targetSubscription.add(t.pipe(Pg((function(t){var n=t.target,i=t.draggable;if("groupIndicator"!==i.context.type){var r=YB(n.context.column.isLocked),s=YB(i.context.column.isLocked);(e.lockedColumnsCount>0||r||s)&&e.hint.toggleLock(r)}})),tg((function(t){var n=t.draggable,i=t.target;return e.canDrop(n,i)})),xg(this.trackMove.bind(this,n,i)),$((function(t){return TY(t,{before:e.calculateBefore(t),changeContainer:t.changeContainer})})),$(this.normalizeTarget.bind(this)),Pg(this.enter.bind(this)),xg((function(t){return i.pipe($((function(){return t})),nC(n.pipe(Pg(e.leave.bind(e)))))}))).subscribe(this.drop.bind(this)))}},{key:"normalizeTarget",value:function(e){var t=e.target,n=t.context.column.parent;if(n&&n.isSpanColumn){var i=this.dropTargets.toArray(),r=i.find((function(e){return e.context.column.parent===n})),s=i.indexOf(r);t=i[s+(e.before?0:n.childColumns.length-1)]}return TY(e,{target:t})}},{key:"trackMove",value:function(e,t,n){var i=n.target.context.column,r=this.columnsForLevel(i.level),s=r.indexOf(i),a=n.draggable.context.column.isLocked!==i.isLocked;return a&&(i.locked?s===r.length-1:0===s)?n.draggable.drag.pipe(nC(e),nC(t),$((function(e){var t=e.mouseEvent;return TY({changeContainer:!0},n,{mouseEvent:t})}))):qv(TY({changeContainer:a},n))}},{key:"calculateBefore",value:function(e){var t=e.draggable,n=e.target,i=e.mouseEvent,r=e.changeContainer,s=void 0!==r&&r,a=n.element.nativeElement,o=!1;s?(o=Sq(a).left+a.offsetWidth/2>i.pageX,this.localization.rtl&&(o=!o)):o=xq(t.element.nativeElement,a);return o}},{key:"enter",value:function(e){var t=e.target,n=e.before;this.hint.enable(),this.localization.rtl&&(n=!n),this.cue.position(Iq(t.element.nativeElement,n))}},{key:"leave",value:function(){this.hint.disable(),this.cue.hide()}},{key:"drop",value:function(e){var t=e.draggable,n=e.target,i=e.before,r=e.changeContainer;this.reorderService.reorder({before:i,changeContainer:r,source:t.context.column,target:n.context.column})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(Ua(wq),Ua(Dq),Ua(Oq),Ua(Rq),Ua(Mq),Ua(jq),Ua(tC),Ua(Hq),Ua(sa))},e.\u0275cmp=St({type:e,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,t){var n;1&e&&(Vu(sY,!0),Vu(xY,!0),Vu(IY,!0)),2&e&&(Nu(n=Uu())&&(t.dropTargets=n),Nu(n=Uu())&&(t.filterMenus=n),Nu(n=Uu())&&(t.columnMenus=n))},hostVars:2,hostBindings:function(e,t){2&e&&Co("k-grid-header",t.headerClass)},inputs:{columns:"columns",groups:"groups",sort:"sort",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",totalColumnsCount:"totalColumnsCount",totalColumnLevels:"totalColumnLevels",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",filter:"filter",columnMenuTemplate:"columnMenuTemplate",tabIndex:"tabIndex"},features:[qo],attrs:WH,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-group-cell k-header","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header","role","presentation","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header"],["role","presentation","kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-header",3,"logicalRowIndex","logicalColIndex"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","k-filterable","k-first","k-grid-header-sticky","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","k-first","k-filterable","k-grid-content-sticky","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","headerLabelText","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle","keydown"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[3,"column","filter","tabIndex",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex",4,"ngIf"],[3,"templateContext"],[3,"column","filter","tabIndex"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable","tabIndex"],[1,"k-cell-inner"],[1,"k-link",3,"click"],["link",""],[3,"ngClass"],["class","k-sort-order",4,"ngIf"],["role","status",1,"k-sort-status",2,"position","absolute","left","-10000px",3,"innerHtml"],[1,"k-column-title"],[1,"k-sort-order"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","headerLabelText","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"]],template:function(e,t){1&e&&Ba(0,Cj,2,2,"ng-template",0),2&e&&Ka("ngIf",!0)},directives:function(){return[rf,tf,FZ,IZ,sY,Sb,gY,Xh,_f,SZ,xY,IY,NY,Xz,LY,z$]},styles:[".k-column-resizer[_ngcontent-%COMP%] {\n            cursor: col-resize;\n            display: block;\n            height: 1000%;\n            position: absolute;\n            top: 0;\n            width: .5em;\n        }"]}),e}(),DY=function(e){return e.nativeElement.parentElement.offsetWidth},OY=function(e){return JU(e).filter((function(e){return!e.isColumnGroup}))},RY=function(e){var t=e.originalEvent;t.stopPropagation(),t.preventDefault()},PY=function(e){return!(!e.parent||!e.parent.isSpanColumn)},LY=((BW=function(){function e(t,n,i,r,s,a){_classCallCheck(this,e),this.draggable=t,this.element=n,this.service=i,this.zone=r,this.cdr=s,this.localization=a,this.columns=[],this.subscriptions=new C,this.rtl=!1}return _createClass(e,[{key:"visible",get:function(){return this.column.resizable?"block":"none"}},{key:"leftStyle",get:function(){return YB(this.rtl)?0:null}},{key:"rightStyle",get:function(){return YB(this.rtl)?null:0}},{key:"autoFit",value:function(){var e=this,t=OY(this.columns),n=sG([this.column]).filter((function(e){return YB(e.resizable)})),i=n.map((function(n){var i=PY(n),r=!!i&&n.parent.childColumns.last===n,s=function(e,t){for(var n=0,i=0,r=0;n<t.length;){var s=t[n],a=PY(s);if(s===e)break;i--<=0&&a&&(r+=i=s.parent.childColumns.length-1),n++}return n-r}(n,t);return{column:n,headerIndex:e.columnsForLevel(n.level).indexOf(n),index:s,isLastInSpan:r,isParentSpan:i,level:n.level}}));n.forEach((function(e){return e.width=0})),this.service.measureColumns(i)}},{key:"ngOnInit",value:function(){var e=this,t=this.service.changes.pipe(tg((function(){return e.column.resizable})),tg((function(t){return WB(t.columns.find((function(t){return t===e.column})))})));this.subscriptions.add(t.pipe(tg((function(e){return"start"===e.type}))).subscribe(this.initState.bind(this))),this.subscriptions.add(t.pipe(tg((function(e){return"resizeColumn"===e.type}))).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(tg((function(e){return"start"===e.type})),tg(this.shouldUpdate.bind(this)),kg(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular((function(){return e.draggable.kendoPress.pipe(Pg(RY),Pg((function(){return e.service.start(e.column)})),xg((t=e.draggable.kendoRelease,function(e){return qv(e).pipe(hC(150),nC(t))})),xg(function(e,t){return function(n){return t.kendoDrag.pipe(nC(t.kendoRelease.pipe(Pg((function(){return e.end()})))),$((function(e){var t=e.pageX;return{originalX:n.pageX,pageX:t}})))}}(e.service,e.draggable))).subscribe((function(t){var n=t.pageX,i=t.originalX;e.service.resizeColumns((n-i)/(e.column.resizeStartWidth||e.column.width)*100)}));var t}))),this.subscriptions.add(t.pipe(tg((function(e){return"autoFitComplete"===e.type}))).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(t.pipe(tg((function(e){return"triggerAutoFit"===e.type}))).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.localization.changes.subscribe((function(t){var n=t.rtl;return e.rtl=n})))}},{key:"ngOnDestroy",value:function(){this.subscriptions&&this.subscriptions.unsubscribe()}},{key:"shouldUpdate",value:function(){return!OY(this.columns).map((function(e){return e.width})).some($B)}},{key:"initColumnWidth",value:function(){this.column.width=DY(this.element)}},{key:"initState",value:function(){this.column.resizeStartWidth=DY(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}},{key:"resize",value:function(e){var t,n,i,r=e.deltaPercent,s=(t=this.column.resizeStartWidth,i=(n=r)<0?-1:1,Math.ceil(Math.abs(n)/100*t)*i);YB(this.rtl)&&(s*=-1);var a=Math.max(this.column.resizeStartWidth+s,this.column.minResizableWidth),o=a>this.column.minResizableWidth?s:this.column.minResizableWidth-this.column.resizeStartWidth;this.updateWidth(this.column,a),this.service.resizeTable(this.column,o)}},{key:"sizeToFit",value:function(e){var t=e.columns,n=e.widths,i=t.indexOf(this.column),r=Math.max.apply(Math,_toConsumableArray(n.map((function(e){return e[i]}))))+1,s=r-this.column.resizeStartWidth;this.updateWidth(this.column,r),this.service.resizeTable(this.column,s)}},{key:"updateWidth",value:function(e,t){e.width=t,this.cdr.markForCheck()}},{key:"columnsForLevel",value:function(e){return eG(this.columns?this.columns.filter((function(t){return t.level===e})):[])}}]),e}()).\u0275fac=function(e){return new(e||BW)(Ua(Sb,1),Ua(sl),Ua(kq),Ua(gc),Ua(sa),Ua(tC))},BW.\u0275dir=At({type:BW,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&io("dblclick",(function(){return t.autoFit()})),2&e&&bo("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),BW),NY=((jW=function(){function e(t,n,i,r){var s=this;_classCallCheck(this,e),this.selectionService=t,this.el=n,this.renderer=i,this.ngZone=r,this.selectAllChange=new xu,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular((function(){s.destroyClick=s.renderer.listen(s.el.nativeElement,"click",s.onClick.bind(s))}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.setState()}},{key:"ngOnChanges",value:function(){this.stateSet=!0}},{key:"ngOnDestroy",value:function(){this.destroyClick&&this.destroyClick()}},{key:"onClick",value:function(){var e=this,t=!(!function(){if(kb()){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),n=e.indexOf("Trident/");return t>0||n>0}}()||void 0!==this.selectionService.selectAllState)||this.el.nativeElement.checked,n=this.selectionService.options;this.selectAllChange.emit(t?"checked":"unchecked"),n.enabled&&"multiple"===n.mode&&this.ngZone.run((function(){e.selectionService.updateAll(t)}))}},{key:"setState",value:function(){var e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,t=this.el.nativeElement;this.renderer.setProperty(t,"indeterminate",!WB(e)),this.renderer.setProperty(t,"checked",!!WB(e)&&e)}},{key:"stateToBool",value:function(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}}]),e}()).\u0275fac=function(e){return new(e||jW)(Ua(xU),Ua(sl),Ua(ul),Ua(gc))},jW.\u0275dir=At({type:jW,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&Ha("type",t.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[qo]}),jW),MY=function(e){var t=e.value,n=e.operator;return!QB(t)||function(e){return"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e}(n)},VY=function e(t,n,i){return t.reduce((function(t,r){return t||(r.filters?e(r.filters,n,r):r.field===n?i:t)}),void 0)},HY=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"and",i=VY((e||{}).filters||[],t);return WB(i)?i.logic:n},jY=((g$=function(){function e(t,n,i,r,s){_classCallCheck(this,e),this.parentService=t,this.childService=n,this.localization=i,this.cd=r,this.close=new xu,this.actionsClass="k-action-buttons k-button-group",this._templateContext={},this.menuTabbingService=s}return _createClass(e,[{key:"filter",get:function(){return this._filter},set:function(e){this._filter=U$(e)}},{key:"childFilter",get:function(){return WB(this._childFilter)||(this._childFilter={filters:Q$(this.filter,(this.column||{}).field),logic:HY(this.filter,(this.column||{}).field)}),this._childFilter}},{key:"ngOnInit",value:function(){var e=this;this.subscription=this.childService.changes.subscribe((function(t){return e._childFilter=t})),this.subscription.add(this.localization.changes.subscribe((function(){return e.cd.markForCheck()})))}},{key:"ngAfterViewChecked",value:function(){(!this.menuTabbingService.isColumnMenu||this.isLast&&this.isExpanded)&&(this.menuTabbingService.lastFocusable=this.disabled?this.resetButton.nativeElement:this.filterButton.nativeElement)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe(),this.menuTabbingService.lastFocusable=void 0}},{key:"disabled",get:function(){return!this.childFilter.filters.some(MY)}},{key:"templateContext",get:function(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}},{key:"hasTemplate",get:function(){return WB(this.column)&&WB(this.column.filterMenuTemplateRef)}},{key:"submit",value:function(){var e=function(e){return e.filters=e.filters.filter(MY),e}(this.childFilter);if(e.filters.length){var t=this.filter||{filters:[],logic:"and"};J$(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}},{key:"reset",value:function(){var e=this.filter||{filters:[],logic:"and"};J$(e,this.column.field),this.parentService.filter(e),this.close.emit()}},{key:"onTab",value:function(e,t){!this.menuTabbingService.firstFocusable||this.menuTabbingService.isColumnMenu&&!this.isLast||(e.preventDefault(),"reset"===t?this.disabled?this.menuTabbingService.firstFocusable.focus():this.filterButton.nativeElement.focus():this.menuTabbingService.firstFocusable.focus())}},{key:"clearText",get:function(){return this.localization.get("filterClearButton")}},{key:"filterText",get:function(){return this.localization.get("filterFilterButton")}}]),e}()).\u0275fac=function(e){return new(e||g$)(Ua(aq,4),Ua(aq),Ua(tC),Ua(sa),Ua(sq))},g$.\u0275cmp=St({type:g$,selectors:[["kendo-grid-filter-menu-container"]],viewQuery:function(e,t){var n;1&e&&(Vu(wj,!0),Vu(_j,!0)),2&e&&(Nu(n=Uu())&&(t.resetButton=n.first),Nu(n=Uu())&&(t.filterButton=n.first))},inputs:{actionsClass:"actionsClass",menuTabbingService:"menuTabbingService",filter:"filter",column:"column",isLast:"isLast",isExpanded:"isExpanded"},outputs:{close:"close"},features:[tl([aq,sq])],decls:12,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button",3,"keydown.tab"],["resetButton",""],["type","submit",1,"k-button","k-primary",3,"disabled","keydown.tab"],["filterButton",""],["kendoFilterMenuHost","",3,"filterService","column","filter","menuTabbingService"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&($a(0,"form",0),io("submit",(function(){return t.submit()}))("reset",(function(){return t.reset()})),$a(1,"div",1),Qa(2,2),Ba(3,Sj,2,4,"ng-container",3),Ba(4,Ij,2,1,"ng-container",3),Ja(),$a(5,"div",4),$a(6,"button",5,6),io("keydown.tab",(function(e){return t.onTab(e,"reset")})),Oo(8),Za(),$a(9,"button",7,8),io("keydown.tab",(function(e){return t.onTab(e,"filter")})),Oo(11),Za(),Za(),Za(),Za()),2&e&&(Ir(2),Ka("ngSwitch",t.hasTemplate),Ir(1),Ka("ngSwitchCase",!1),Ir(1),Ka("ngSwitchCase",!0),Ir(1),Ka("ngClass",t.actionsClass),Ir(3),Ro(t.clearText),Ir(1),Ka("disabled",t.disabled),Ir(2),Ro(t.filterText))},directives:function(){return[f_,WC,i_,bf,Cf,Xh,ZY,rf,Sf]},encapsulation:2}),g$),BY=((v$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null)).localizationService=e,i}return _createClass(n,[{key:"hostClasses",get:function(){return!1}},{key:"ngAfterViewInit",value:function(){this.isFirstDropDown&&this.filterService&&this.filterService.menuTabbingService&&(this.filterService.menuTabbingService.firstFocusable=this.firstOperatorDropDown,this.firstOperatorDropDown.focus())}},{key:"operatorChange",value:function(e){this.currentOperator=e}},{key:"filterChange",value:function(e){this.applyFilter(e)}},{key:"currentFilter",get:function(){return this._currentFilter},set:function(e){this._currentFilter=e}},{key:"updateFilter",value:function(e){return Object.assign(this.currentFilter,e),this.filter}},{key:"onChange",value:function(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}},{key:"onShiftTab",value:function(e){e.stopImmediatePropagation(),this.menuTabbingService&&this.menuTabbingService.isColumnMenu||!this.isFirstDropDown||!this.filterService.menuTabbingService.lastFocusable||(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}},{key:"filterMenuDropDownLabel",get:function(){var e=this.localizationService.get("filterMenuOperatorsDropDownLabel")||"";return Az(e,"columnName",this.column?this.column.title||this.column.field:"")}}]),n}(oZ)).\u0275fac=function(e){return new(e||v$)(Ua(tC))},v$.\u0275cmp=St({type:v$,selectors:[["kendo-grid-filter-menu-input-wrapper"]],viewQuery:function(e,t){var n;1&e&&Vu(dT,!0),2&e&&Nu(n=Uu())&&(t.firstOperatorDropDown=n.first)},inputs:{currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},features:[Ho],ngContentSelectors:IV,decls:2,vars:4,consts:[["kendoFilterMenuDropDown","","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","value","valuePrimitive","valueChange","keydown.shift.tab"]],template:function(e,t){1&e&&(lo(),$a(0,"kendo-dropdownlist",0),io("valueChange",(function(e){return t.operatorChange(e)}))("keydown.shift.tab",(function(e){return t.onShiftTab(e)})),Za(),uo(1)),2&e&&Ka("filterMenuDropDownLabel",t.filterMenuDropDownLabel)("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},directives:function(){return[dT,QY]},encapsulation:2}),v$),zY=((p$=function(){function e(t){_classCallCheck(this,e),this.localizationService=t,this.operators=[]}return _createClass(e,[{key:"columnLabel",get:function(){var e=this.localizationService.get("filterInputLabel")||"";return Az(e,"columnName",this.column?this.column.title||this.column.field:"")}}]),e}()).\u0275fac=function(e){return new(e||p$)(Ua(tC))},p$.\u0275cmp=St({type:p$,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService"},decls:2,vars:11,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",1,"k-textbox",3,"columnLabel","filterDelay","ngModel"]],template:function(e,t){1&e&&($a(0,"kendo-grid-filter-menu-input-wrapper",0),Ya(1,"input",1),Za()),2&e&&(Ka("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),Ir(1),Ka("columnLabel",t.columnLabel)("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[BY,MC,rZ,KC,h_],encapsulation:2}),p$),UY=((d$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null,e)).logicOperators=Z$(i.localization),i.filter={filters:[],logic:"and"},i.extra=!0,i}return _createClass(n,[{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return $$(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return $$(1,this.filter,(this.column||{}).field,this.operator)}},{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"filterMenuDropDownLabel",get:function(){var e=this.localization.get("filterMenuLogicDropDownLabel")||"";return Az(e,"columnName",this.column?this.column.title||this.column.field:"")}},{key:"localizationChange",value:function(){this.logicOperators=Z$(this.localization),_get(_getPrototypeOf(n.prototype),"localizationChange",this).call(this)}}]),n}(hZ)).\u0275fac=function(e){return new(e||d$)(Ua(tC))},d$.\u0275cmp=St({type:d$,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ho],decls:3,vars:9,consts:[[3,"currentFilter","operators","filterService","column","filter","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","menuTabbingService"]],template:function(e,t){1&e&&(Ya(0,"kendo-grid-string-filter-menu-input",0),Ba(1,Tj,1,4,"kendo-dropdownlist",1),Ba(2,Fj,1,6,"kendo-grid-string-filter-menu-input",2)),2&e&&(Ka("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("isFirstDropDown",!0)("menuTabbingService",t.menuTabbingService),Ir(1),Ka("ngIf",t.extra),Ir(1),Ka("ngIf",t.extra))},directives:function(){return[zY,rf,dT,QY]},encapsulation:2}),d$),GY=((f$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null,e)).logicOperators=Z$(i.localization),i.filter={filters:[],logic:"and"},i.extra=!0,i}return _createClass(n,[{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return $$(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return $$(1,this.filter,(this.column||{}).field,this.operator)}},{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"filterMenuDropDownLabel",get:function(){var e=this.localization.get("filterMenuLogicDropDownLabel")||"";return Az(e,"columnName",this.column?this.column.title||this.column.field:"")}},{key:"localizationChange",value:function(){this.logicOperators=Z$(this.localization),_get(_getPrototypeOf(n.prototype),"localizationChange",this).call(this)}}]),n}(nZ)).\u0275fac=function(e){return new(e||f$)(Ua(tC))},f$.\u0275cmp=St({type:f$,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ho],decls:3,vars:15,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService","isFirstDropDown"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step","menuTabbingService"]],template:function(e,t){1&e&&(Ya(0,"kendo-grid-numeric-filter-menu-input",0),Ba(1,Aj,1,4,"kendo-dropdownlist",1),Ba(2,Dj,1,12,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(Ka("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step)("menuTabbingService",t.menuTabbingService)("isFirstDropDown",!0),Ir(1),Ka("ngIf",t.extra),Ir(1),Ka("ngIf",t.extra))},directives:function(){return[qY,rf,dT,QY]},encapsulation:2}),f$),qY=((h$=function(){function e(t){_classCallCheck(this,e),this.localization=t,this.operators=[],this.step=1,this.spinners=!0}return _createClass(e,[{key:"messageFor",value:function(e){return this.localization.get(e)}},{key:"columnLabel",get:function(){var e=this.localization.get("filterInputLabel")||"";return Az(e,"columnName",this.column?this.column.title||this.column.field:"")}}]),e}()).\u0275fac=function(e){return new(e||h$)(Ua(tC))},h$.\u0275cmp=St({type:h$,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",isFirstDropDown:"isFirstDropDown",menuTabbingService:"menuTabbingService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:3,vars:20,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&($a(0,"kendo-grid-filter-menu-input-wrapper",0),$a(1,"kendo-numerictextbox",1),Ya(2,"kendo-numerictextbox-messages",2),Za(),Za()),2&e&&(Ka("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),Ir(1),Ka("columnLabel",t.columnLabel)("filterDelay",0)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),Ir(1),Ka("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},directives:[BY,ED,rZ,FD],encapsulation:2}),h$),KY=((c$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null,e)).logicOperators=Z$(i.localization),i.filter={filters:[],logic:"and"},i.extra=!0,i}return _createClass(n,[{key:"hostClasses",get:function(){return!1}},{key:"firstFilter",get:function(){return $$(0,this.filter,(this.column||{}).field,this.operator)}},{key:"secondFilter",get:function(){return $$(1,this.filter,(this.column||{}).field,this.operator)}},{key:"logicChange",value:function(e){this.filter.logic=e}},{key:"filterMenuDropDownLabel",get:function(){var e=this.localization.get("filterMenuLogicDropDownLabel")||"";return Az(e,"columnName",this.column?this.column.title||this.column.field:"")}},{key:"localizationChange",value:function(){this.logicOperators=Z$(this.localization),_get(_getPrototypeOf(n.prototype),"localizationChange",this).call(this)}}]),n}(kZ)).\u0275fac=function(e){return new(e||c$)(Ua(tC))},c$.\u0275cmp=St({type:c$,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ho],decls:3,vars:18,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","isFirstDropDown","menuTabbingService"],["kendoFilterMenuDropDown","","class","k-filter-and","textField","text","valueField","value",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService",4,"ngIf"],["kendoFilterMenuDropDown","","textField","text","valueField","value",1,"k-filter-and",3,"filterMenuDropDownLabel","data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber","menuTabbingService"]],template:function(e,t){1&e&&(Ya(0,"kendo-grid-date-filter-menu-input",0),Ba(1,Oj,1,4,"kendo-dropdownlist",1),Ba(2,Rj,1,15,"kendo-grid-date-filter-menu-input",2)),2&e&&(Ka("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber)("isFirstDropDown",!0)("menuTabbingService",t.menuTabbingService),Ir(1),Ka("ngIf",t.extra),Ir(1),Ka("ngIf",t.extra))},directives:function(){return[YY,rf,dT,QY]},encapsulation:2}),c$),WY=((u$=function(){function e(t,n){_classCallCheck(this,e),this.hostElement=t,this.renderer=n}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.radioButtonEl=this.hostElement.nativeElement,this.renderer.setAttribute(this.hostElement.nativeElement,"aria-label",this.columnLabel)}}]),e}()).\u0275fac=function(e){return new(e||u$)(Ua(sl),Ua(ul))},u$.\u0275dir=At({type:u$,selectors:[["","kendoFilterMenuRadioButton",""]],inputs:{columnLabel:"columnLabel"}}),u$),$Y=((l$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,null,e)).filter={filters:[],logic:"and"},i.idPrefix=_b(),i}return _createClass(n,[{key:"hostClasses",get:function(){return!1}},{key:"ngAfterViewInit",value:function(){this.filterService.menuTabbingService.firstFocusable=this.radioButtons.first.radioButtonEl,this.radioButtons.first.radioButtonEl.focus()}},{key:"radioId",value:function(e){return"".concat(this.idPrefix,"_").concat(e)}},{key:"onChange",value:function(e,t){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e})),this.filterService.menuTabbingService.firstFocusable=t}},{key:"isSelected",value:function(e){return this.filtersByField(this.column.field).some((function(t){return t.value===e}))}},{key:"onShiftTab",value:function(e){this.menuTabbingService&&this.menuTabbingService.isColumnMenu||!this.filterService.menuTabbingService.lastFocusable||(e.preventDefault(),this.filterService.menuTabbingService.lastFocusable.focus())}},{key:"columnLabel",get:function(){var e=this.localization.get("filterInputLabel")||"";return Az(e,"columnName",this.column.title||this.column.field)}}]),n}(gZ)).\u0275fac=function(e){return new(e||l$)(Ua(tC))},l$.\u0275cmp=St({type:l$,selectors:[["kendo-grid-boolean-filter-menu"]],viewQuery:function(e,t){var n;1&e&&Vu(WY,!0),2&e&&Nu(n=Uu())&&(t.radioButtons=n)},hostVars:2,hostBindings:function(e,t){2&e&&Co("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ho],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio","kendoFilterMenuRadioButton","",1,"k-radio",3,"columnLabel","name","checked","change","keydown.shift.tab"],["input",""],[1,"k-radio-label"]],template:function(e,t){1&e&&($a(0,"ul",0),Ba(1,Pj,5,6,"li",1),Za()),2&e&&(Ir(1),Ka("ngForOf",t.items))},directives:[tf,WY],encapsulation:2}),l$),ZY=((o$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){return _classCallCheck(this,n),t.call(this,e,i)}return _createClass(n,[{key:"componentType",value:function(){return WB(this.column)&&!QB(this.column.filter)?{boolean:$Y,date:KY,numeric:GY,text:UY}[this.column.filter]:UY}},{key:"initComponent",value:function(e){_get(_getPrototypeOf(n.prototype),"initComponent",this).call(this,e),this.component.instance.filterService=this.filterService,this.component.instance.menuTabbingService=this.menuTabbingService}}]),n}(zZ)).\u0275fac=function(e){return new(e||o$)(Ua(Al),Ua(rl))},o$.\u0275dir=At({type:o$,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService",menuTabbingService:"menuTabbingService"},features:[Ho]}),o$),YY=((a$=function(){function e(t,n){_classCallCheck(this,e),this.popupService=t,this.localizationService=n,this.operators=[]}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"open",value:function(e){this.subscription=this.popupService.onClose.pipe(tg((function(){return e.isActive}))).subscribe((function(e){return e.preventDefault()}))}},{key:"messageFor",value:function(e){return this.localizationService.get(e)}},{key:"columnLabel",get:function(){var e=this.localizationService.get("filterInputLabel")||"";return Az(e,"columnName",this.column?this.column.title||this.column.field:"")}}]),e}()).\u0275fac=function(e){return new(e||a$)(Ua(wq),Ua(tC))},a$.\u0275cmp=St({type:a$,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",menuTabbingService:"menuTabbingService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",isFirstDropDown:"isFirstDropDown"},decls:4,vars:22,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService","isFirstDropDown","menuTabbingService"],["kendoFilterInput","",3,"columnLabel","filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""],[3,"toggle","today"]],template:function(e,t){if(1&e){var n=eo();$a(0,"kendo-grid-filter-menu-input-wrapper",0),$a(1,"kendo-datepicker",1,2),io("open",(function(){un(n);var e=za(2);return t.open(e)})),Ya(3,"kendo-datepicker-messages",3),Za(),Za()}2&e&&(Ka("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService)("isFirstDropDown",t.isFirstDropDown)("menuTabbingService",t.menuTabbingService),Ir(1),Ka("columnLabel",t.columnLabel)("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber),Ir(2),Ka("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},directives:[BY,nN,rZ,_N],encapsulation:2}),a$),QY=((s$=function(){function e(t){var n=this;_classCallCheck(this,e),this.host=t,this.keydownHandler=function(e){e.keyCode===Vb.Escape&&n.host.isOpen&&(e.stopPropagation(),n.host.toggle(!1))}}return _createClass(e,[{key:"ngAfterViewInit",value:function(){var e=this.host.wrapper.nativeElement;e.setAttribute("aria-label",this.filterMenuDropDownLabel),e.addEventListener("keydown",this.keydownHandler,!0)}},{key:"ngOnDestroy",value:function(){this.host.wrapper.nativeElement.removeEventListener("keydown",this.keydownHandler)}}]),e}()).\u0275fac=function(e){return new(e||s$)(Ua(dT))},s$.\u0275dir=At({type:s$,selectors:[["","kendoFilterMenuDropDown",""]],inputs:{filterMenuDropDownLabel:"filterMenuDropDownLabel"}}),s$),JY=((r$=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[UY,UU,GY,KY,$Y,QY,WY,BZ.exports()]}}]),e}()).\u0275mod=Tt({type:r$}),r$.\u0275inj=we({factory:function(e){return new(e||r$)},imports:[[BZ],BZ]}),r$),XY=((i$=function(){function e(t,n,i){_classCallCheck(this,e),this.element=t,this.ngZone=n,this.renderer=i,this.reset=new xu,this.apply=new xu,this.columnChange=new xu,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}return _createClass(e,[{key:"className",get:function(){return!0}},{key:"columns",get:function(){return this._columns},set:function(e){this._columns=e.filter((function(e){return!1!==e.includeInChooser})),this.allColumns=e,this.updateColumnState()}},{key:"isDisabled",value:function(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find((function(t){return t!==e&&!t.hidden})))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}},{key:"ngOnInit",value:function(){var e=this;this.element&&this.ngZone.runOutsideAngular((function(){e.domSubscriptions=e.renderer.listen(e.element.nativeElement,"click",(function(t){if(Vz(t.target,"k-checkbox"))if(e.autoSync){var n=parseInt(t.target.getAttribute("data-index"),10),i=e.columns[n],r=!t.target.checked;Boolean(i.hidden)!==r&&e.ngZone.run((function(){i.hidden=r,e.columnChange.emit([i])}))}else e.updateDisabled()}))}))}},{key:"ngOnChanges",value:function(e){this.service&&(e.isLast&&this.isLast&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement),e.isExpanded&&this.isExpanded&&this.isLast&&this.applyButton&&(this.service.menuTabbingService.lastFocusable=this.applyButton.nativeElement))}},{key:"ngOnDestroy",value:function(){this.domSubscriptions&&this.domSubscriptions()}},{key:"cancelChanges",value:function(){var e=this;this.forEachCheckBox((function(t,n){t.checked=!e.columns[n].hidden})),this.updateDisabled(),this.reset.emit()}},{key:"applyChanges",value:function(){var e=this,t=[];this.forEachCheckBox((function(n,i){var r=e.columns[i],s=!n.checked;Boolean(r.hidden)!==s&&(r.hidden=s,t.push(r))})),this.updateDisabled(),this.apply.emit(t)}},{key:"onTab",value:function(e){this.isLast&&(e.preventDefault(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}},{key:"forEachCheckBox",value:function(e){for(var t=this.element.nativeElement.getElementsByClassName("k-checkbox"),n=t.length,i=0;i<n;i++)e(t[i],i)}},{key:"updateDisabled",value:function(){if(!this.allowHideAll||this.hasLocked){var e=[];if(this.forEachCheckBox((function(t,n){t.checked&&e.push({checkbox:t,index:n}),t.disabled=!1})),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){var t=this.columns,n=e.filter((function(e){return!t[e.index].locked}));1===n.length&&(n[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}}},{key:"updateColumnState",value:function(){this.hasLocked=this.allColumns.filter((function(e){return e.locked&&(!e.hidden||!1!==e.includeInChooser)})).length>0,this.hasVisibleLocked=this.allColumns.filter((function(e){return e.locked&&!e.hidden})).length>0,this.unlockedCount=this.columns.filter((function(e){return!e.locked&&!e.hidden})).length;var e=this.allColumns.filter((function(e){return!1===e.includeInChooser&&!e.hidden}));e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter((function(e){return!e.locked})).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}}]),e}()).\u0275fac=function(e){return new(e||i$)(Ua(sl),Ua(gc),Ua(ul))},i$.\u0275cmp=St({type:i$,selectors:[["kendo-grid-columnlist"]],viewQuery:function(e,t){var n;1&e&&Vu(Lj,!0),2&e&&Nu(n=Uu())&&(t.applyButton=n.first)},hostVars:2,hostBindings:function(e,t){2&e&&Co("k-column-list-wrapper",t.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText",isLast:"isLast",isExpanded:"isExpanded",service:"service"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},features:[qo],decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"keydown.tab","click"],["applyButton",""]],template:function(e,t){1&e&&($a(0,"div",0),Ba(1,Nj,4,4,"label",1),Za(),Ba(2,Mj,6,3,"div",2)),2&e&&(Ir(1),Ka("ngForOf",t.columns),Ir(1),Ka("ngIf",!t.autoSync))},directives:[tf,rf,Xh],encapsulation:2}),i$),eQ=((n$=function(){function e(t,n,i,r,s,a){_classCallCheck(this,e),this.localization=t,this.columnInfoService=n,this.popupService=i,this.ngZone=r,this.renderer=s,this.changeDetector=a,this.autoSync=!1,this.allowHideAll=!0}return _createClass(e,[{key:"columns",get:function(){return this.columnInfoService.leafNamedColumns}},{key:"ngOnDestroy",value:function(){this.close()}},{key:"toggle",value:function(e,t){var n=this;if(this.popupRef)this.close();else{var i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:i},popupAlign:{vertical:"top",horizontal:i}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular((function(){return n.closeClick=n.renderer.listen("document","click",(function(t){var i=t.target;Bz(i,(function(t){return t===n.popupRef.popupElement||t===e}))||n.close()}))}))}}},{key:"onApply",value:function(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}},{key:"onChange",value:function(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}},{key:"close",value:function(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}},{key:"detachClose",value:function(){this.closeClick&&(this.closeClick(),this.closeClick=null)}}]),e}()).\u0275fac=function(e){return new(e||n$)(Ua(tC),Ua(Hq),Ua(Dx),Ua(gc),Ua(ul),Ua(sa))},n$.\u0275cmp=St({type:n$,selectors:[["kendo-grid-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,t){if(1&e){var n=eo();$a(0,"button",0,1),io("click",(function(){un(n);var e=za(1),i=za(4);return t.toggle(e,i)})),Ya(2,"span",2),Za(),Ba(3,Vj,3,6,"ng-template",null,3,Wu)}2&e&&Ha("title",t.localization.get("columns"))},directives:[XY],encapsulation:2}),n$),tQ=((t$=function(){function e(){_classCallCheck(this,e),this.hostClass=!0}return _createClass(e,[{key:"ngOnInit",value:function(){if(Ri()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}},{key:"close",value:function(){this.service.close()}}]),e}()).\u0275fac=function(e){return new(e||t$)},t$.\u0275dir=At({type:t$,hostVars:2,hostBindings:function(e,t){2&e&&Co("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"}}),t$),nQ=((e$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s){var a;return _classCallCheck(this,n),(a=t.call(this)).localization=e,a.columnInfoService=i,a.changeDetector=r,a.hostElement=s,a.expand=new xu,a.collapse=new xu,a.expanded=!1,a.isLast=!1,a.actionsClass="k-columnmenu-actions",a}return _createClass(n,[{key:"columns",get:function(){return this.columnInfoService.leafNamedColumns}},{key:"onApply",value:function(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}},{key:"onCollapse",value:function(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}},{key:"onExpand",value:function(){this.expanded=!0,this.expand.emit()}}]),n}(tQ)).\u0275fac=function(e){return new(e||e$)(Ua(tC),Ua(Hq),Ua(sa),Ua(sl))},e$.\u0275cmp=St({type:e$,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[Ho],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","isLast","isExpanded","service","apply"]],template:function(e,t){1&e&&($a(0,"kendo-grid-columnmenu-item",0),io("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ba(1,Hj,1,9,"ng-template",1),Za()),2&e&&Ka("text",t.localization.get("columns"))("expanded",t.expanded)},directives:function(){return[sQ,rQ,XY]},encapsulation:2}),e$),iQ=((XW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).localization=e,r.hostElement=i,r.expand=new xu,r.collapse=new xu,r.expanded=!1,r.isLast=!1,r.actionsClass="k-columnmenu-actions",r}return _createClass(n,[{key:"onCollapse",value:function(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.hostElement.nativeElement.querySelector(".k-columnmenu-item")),this.collapse.emit()}},{key:"onExpand",value:function(){this.expanded=!0,this.expand.emit()}}]),n}(tQ)).\u0275fac=function(e){return new(e||XW)(Ua(tC),Ua(sl))},XW.\u0275cmp=St({type:XW,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded",isLast:"isLast"},outputs:{expand:"expand",collapse:"collapse"},features:[Ho],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"column","menuTabbingService","filter","actionsClass","isLast","isExpanded","keydown.shift.tab","close"]],template:function(e,t){1&e&&($a(0,"kendo-grid-columnmenu-item",0),io("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ba(1,jj,1,6,"ng-template",1),Za()),2&e&&Ka("text",t.localization.get("filter"))("expanded",t.expanded)},directives:function(){return[sQ,rQ,jY]},encapsulation:2}),XW),rQ=((JW=function e(t){_classCallCheck(this,e),this.templateRef=t}).\u0275fac=function(e){return new(e||JW)(Ua(Tl,8))},JW.\u0275dir=At({type:JW,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),JW),sQ=((QW=function(){function e(){_classCallCheck(this,e),this.itemClick=new xu,this.expand=new xu,this.collapse=new xu,this.contentState="collapsed"}return _createClass(e,[{key:"iconClass",get:function(){return"k-i-"+this.icon}},{key:"ngOnChanges",value:function(e){e.expanded&&this.updateContentState()}},{key:"onClick",value:function(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}},{key:"updateContentState",value:function(){this.contentState=this.expanded?"expanded":"collapsed"}}]),e}()).\u0275fac=function(e){return new(e||QW)},QW.\u0275cmp=St({type:QW,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,t,n){var i;1&e&&ju(n,rQ,!0),2&e&&Nu(i=Uu())&&(t.contentTemplate=i.first)},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[qo],decls:4,vars:8,consts:[["role","button",1,"k-columnmenu-item",3,"click","keydown.enter"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&($a(0,"div",0),io("click",(function(e){return t.onClick(e)}))("keydown.enter",(function(e){return t.onClick(e)})),Ba(1,Bj,1,1,"span",1),Oo(2),Za(),Ba(3,zj,3,2,"div",2)),2&e&&(Co("k-state-selected",t.selected)("k-state-disabled",t.disabled),Ha("aria-expanded",t.expanded),Ir(1),Ka("ngIf",t.icon),Ir(1),Po(" ",t.text," "),Ir(1),Ka("ngIf",t.contentTemplate))},directives:[rf,Xh,Sf],encapsulation:2,data:{animation:[(ZW="state",YW=[pd("collapsed",dd({display:"none"})),pd("expanded",dd({display:"block"})),vd("collapsed => expanded",[dd({height:"0px",display:"block"}),hd("100ms ease-in",dd({height:"*"}))]),vd("expanded => collapsed",[dd({height:"*"}),hd("100ms ease-in",dd({height:"0px"}))])],{type:7,name:ZW,definitions:YW,options:{}})]}}),QW),aQ=(($W=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this)).localization=e,s.sortService=i,s.renderer=r,s}return _createClass(n,[{key:"sortedAsc",get:function(){var e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}},{key:"sortedDesc",get:function(){var e=this.descriptor;return e&&"desc"===e.dir}},{key:"toggleSort",value:function(e){var t=this.service.column.field,n=bY(this.service.sortable),i=n.mode,r=n.allowUnsort,s=this.descriptor,a="multiple"===i?this.service.sort.filter((function(e){return e.field!==t})):[];if(s&&s.dir===e){if(!r)return}else a.push({field:t,dir:e});this.sortService.sort(a),this.close()}},{key:"descriptor",get:function(){var e=this;return[].concat(this.service.sort||[]).find((function(t){return t.field===e.service.column.field}))}}]),n}(tQ)).\u0275fac=function(e){return new(e||$W)(Ua(tC),Ua(jq),Ua(ul))},$W.\u0275cmp=St({type:$W,selectors:[["kendo-grid-columnmenu-sort"]],features:[Ho],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,t){1&e&&($a(0,"kendo-grid-columnmenu-item",0),io("itemClick",(function(){return t.toggleSort("asc")})),Za(),$a(1,"kendo-grid-columnmenu-item",1),io("itemClick",(function(){return t.toggleSort("desc")})),Za()),2&e&&(Ka("text",t.localization.get("sortAscending"))("selected",t.sortedAsc),Ir(1),Ka("text",t.localization.get("sortDescending"))("selected",t.sortedDesc))},directives:[sQ],encapsulation:2}),$W),oQ=((WW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this)).localization=e,s.columnInfoService=i,s.changeDetector=r,s}return _createClass(n,[{key:"text",get:function(){return this.localization.get(this.locked?"unlock":"lock")}},{key:"icon",get:function(){return this.locked?"unlock":"lock"}},{key:"disabled",get:function(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}},{key:"toggleColumn",value:function(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}},{key:"toggleHierarchy",value:function(e){for(var t=this.service.column;t.parent;)t=t.parent;for(var n=[t],i=[];n.length;){var r=n.shift();r.locked=e,i.push(r),r.hasChildren&&n.push.apply(n,_toConsumableArray(r.childrenArray))}this.columnInfoService.changeLocked(i)}},{key:"locked",get:function(){return this.service.column.locked}}]),n}(tQ)).\u0275fac=function(e){return new(e||WW)(Ua(tC),Ua(Hq),Ua(sa))},WW.\u0275cmp=St({type:WW,selectors:[["kendo-grid-columnmenu-lock"]],features:[Ho],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&($a(0,"kendo-grid-columnmenu-item",0),io("itemClick",(function(){return t.toggleColumn()})),Za()),2&e&&Ka("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[sQ],encapsulation:2}),WW),lQ=((KW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r;return _classCallCheck(this,n),(r=t.call(this)).localization=e,r.hostElement=i,r.expand=new xu,r.collapse=new xu,r.expanded=!1,r.actionsClass="k-columnmenu-actions",r._isLast=!1,r}return _createClass(n,[{key:"isLast",get:function(){return this._isLast},set:function(e){this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem(),this._isLast=e}},{key:"onTab",value:function(e,t){this.isLast&&t&&(e.preventDefault(),e.stopImmediatePropagation(),this.service&&this.service.menuTabbingService.firstFocusable.focus())}},{key:"onCollapse",value:function(){this.expanded=!1,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.collapse.emit()}},{key:"onExpand",value:function(){this.expanded=!0,this.isLast&&(this.service.menuTabbingService.lastFocusable=this.getLastFocusableItem()),this.expand.emit()}},{key:"getLastFocusableItem",value:function(){var e=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item");return e[this.expanded?e.length-1:0]}}]),n}(tQ)).\u0275fac=function(e){return new(e||KW)(Ua(tC),Ua(sl))},KW.\u0275cmp=St({type:KW,selectors:[["kendo-grid-columnmenu-position"]],inputs:{expanded:"expanded",isLast:"isLast",showLock:"showLock",showStick:"showStick"},outputs:{expand:"expand",collapse:"collapse"},features:[Ho],decls:2,vars:2,consts:[["icon","set-column-position",3,"text","expanded","keydown.tab","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"service","keydown.tab",4,"ngIf"],[3,"service","keydown.tab"]],template:function(e,t){1&e&&($a(0,"kendo-grid-columnmenu-item",0),io("keydown.tab",(function(e){return t.onTab(e,!t.expanded)}))("collapse",(function(){return t.onCollapse()}))("expand",(function(){return t.onExpand()})),Ba(1,qj,2,2,"ng-template",1),Za()),2&e&&Ka("text",t.localization.get("setColumnPosition"))("expanded",t.expanded)},directives:function(){return[sQ,rQ,rf,oQ,hQ]},encapsulation:2}),KW),uQ=((qW=function(){function e(t,n,i){var r=this;_classCallCheck(this,e),this.hostElement=t,this.renderer=n,this.ngZone=i,this._isFirst=!1,this._isLast=!1,this.subs=new C,this.onTab=function(e){if(e.keyCode===Vb.Tab&&(r.isFirst&&e.shiftKey&&e.target===r.columnMenuItems[0]&&(e.preventDefault(),r.menuItemComponent.service.menuTabbingService.lastFocusable.focus()),r.isLast&&!e.shiftKey)){var t=r.getLastColumnMenuItem(),n=r.menuItemComponent.expanded;t!==e.target||n||(e.preventDefault(),r.menuItemComponent.service.menuTabbingService.firstFocusable.focus())}}}return _createClass(e,[{key:"isFirst",get:function(){return this._isFirst},set:function(e){var t=this;if(e){var n=this.columnMenuItems[0];this.menuItemComponent.service.menuTabbingService.firstFocusable=n,this.ngZone.runOutsideAngular((function(){var e=t.renderer.listen(n,"keydown",t.onTab);t.subs.add(e)}))}this._isFirst=e}},{key:"isLast",get:function(){return this._isLast},set:function(e){var t=this;if(this.columnMenuItems){if(e){var n=this.getLastColumnMenuItem();this.menuItemComponent.service.menuTabbingService.lastFocusable=n,this.ngZone.runOutsideAngular((function(){var e=t.renderer.listen(n,"keydown",t.onTab);t.subs.add(e)})),this.isExpandableItem()&&(this.menuItemComponent.isLast=!0)}this._isLast=e}}},{key:"ngAfterViewInit",value:function(){var e=this;this.columnMenuItems=this.hostElement.nativeElement.querySelectorAll(".k-columnmenu-item"),[].slice.apply(this.columnMenuItems).forEach((function(t){return e.renderer.setAttribute(t,"tabindex","0")})),this.menuItemComponent instanceof iQ&&(this.menuItemComponent.service.menuTabbingService.isColumnMenu=!0)}},{key:"ngOnDestroy",value:function(){this.subs&&this.subs.unsubscribe()}},{key:"getLastColumnMenuItem",value:function(){return 1===this.columnMenuItems.length?this.columnMenuItems[0]:this.columnMenuItems[1]}},{key:"isExpandableItem",value:function(){return this.menuItemComponent instanceof iQ||this.menuItemComponent instanceof nQ||this.menuItemComponent instanceof lQ}}]),e}()).\u0275fac=function(e){return new(e||qW)(Ua(sl),Ua(ul),Ua(gc))},qW.\u0275dir=At({type:qW,selectors:[["","kendoGridColumnMenuItem",""]],inputs:{menuItemComponent:["kendoGridColumnMenuItem","menuItemComponent"]}}),qW),cQ=((GW=function(){function e(t,n){_classCallCheck(this,e),this.service=t,this.ngZone=n}return _createClass(e,[{key:"ngAfterContentInit",value:function(){var e=this;this.columnMenuItems.length&&(this.columnMenuItems.first.isFirst=!0,this.columnMenuItems.last.isLast=!0,this.ngZone.onStable.pipe(kg(1)).subscribe((function(){return e.service.menuTabbingService.firstFocusable.focus()})))}}]),e}()).\u0275fac=function(e){return new(e||GW)(Ua(EY),Ua(gc))},GW.\u0275cmp=St({type:GW,selectors:[["kendo-grid-columnmenu-container"]],contentQueries:function(e,t,n){var i;1&e&&ju(n,uQ,!0),2&e&&Nu(i=Uu())&&(t.columnMenuItems=i)},ngContentSelectors:IV,decls:1,vars:0,template:function(e,t){1&e&&(lo(),uo(0))},encapsulation:2}),GW),hQ=((UW=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r){var s;return _classCallCheck(this,n),(s=t.call(this)).localization=e,s.columnInfoService=i,s.changeDetector=r,s}return _createClass(n,[{key:"text",get:function(){return this.localization.get(this.sticky?"unstick":"stick")}},{key:"icon",get:function(){return this.sticky?"unstick":"stick"}},{key:"disabled",get:function(){return!this.sticky&&this.columnInfoService.unlockedRootCount<2}},{key:"toggleColumn",value:function(){this.toggleHierarchy(!this.sticky),this.close(),this.changeDetector.markForCheck()}},{key:"toggleHierarchy",value:function(e){for(var t=this.service.column;t.parent;)t=t.parent;for(var n=[t],i=[];n.length;){var r=n.shift();r.sticky=e,i.push(r),r.hasChildren&&n.push.apply(n,_toConsumableArray(r.childrenArray))}this.columnInfoService.changeStuck(i)}},{key:"sticky",get:function(){return this.service.column.sticky}}]),n}(tQ)).\u0275fac=function(e){return new(e||UW)(Ua(tC),Ua(Hq),Ua(sa))},UW.\u0275cmp=St({type:UW,selectors:[["kendo-grid-columnmenu-stick"]],features:[Ho],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&($a(0,"kendo-grid-columnmenu-item",0),io("itemClick",(function(){return t.toggleColumn()})),Za()),2&e&&Ka("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[sQ],encapsulation:2}),UW),fQ=((zW=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[eQ,iQ,sQ,rQ,aQ,oQ,hQ,lQ,nQ,VU,cQ,uQ,IY]}}]),e}()).\u0275mod=Tt({type:zW}),zW.\u0275inj=we({factory:function(e){return new(e||zW)},imports:[[Ef,JY]]}),zW),dQ=[Ef,yY,GZ,JY,VZ,mY,fQ],pQ=((m$=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[NU,NY]}}]),e}()).\u0275mod=Tt({type:m$}),m$.\u0275inj=we({factory:function(e){return new(e||m$)},imports:[[].concat(dQ)]}),m$),vQ=((k$=y$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).parent=e,i}return _createClass(n,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}}]),n}(BU)).\u0275fac=function(e){return new(e||k$)(Ua(BU,13))},k$.\u0275cmp=St({type:k$,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,t,n){var i;1&e&&ju(n,DU,!0),2&e&&Nu(i=Uu())&&(t.template=i.first)},features:[tl([{provide:BU,useExisting:Pe((function(){return y$}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),k$),gQ=((F$=b$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).parent=e,i.isCheckboxColumn=!0,i}return _createClass(n,[{key:"templateRef",get:function(){return this.template?this.template.templateRef:void 0}}]),n}(BU)).\u0275fac=function(e){return new(e||F$)(Ua(BU,13))},F$.\u0275cmp=St({type:F$,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,t,n){var i;1&e&&ju(n,DU,!0),2&e&&Nu(i=Uu())&&(t.template=i.first)},inputs:{showSelectAll:"showSelectAll"},features:[tl([{provide:BU,useExisting:Pe((function(){return b$}))}]),Ho],decls:0,vars:0,template:function(e,t){},encapsulation:2}),F$),mQ=((T$=function(){function e(t,n,i,r){var s=this;_classCallCheck(this,e),this.selectionService=t,this.el=n,this.renderer=i,this.ngZone=r,this.type="checkbox",this.ngZone.runOutsideAngular((function(){s.destroyClick=s.renderer.listen(s.el.nativeElement,"click",s.onClick.bind(s)),s.destroyKeyDown=s.renderer.listen(s.el.nativeElement,"keydown",s.onKeyDown.bind(s))}))}return _createClass(e,[{key:"ngAfterContentChecked",value:function(){this.setCheckedState()}},{key:"ngOnDestroy",value:function(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}},{key:"onClick",value:function(){var e=this;this.selectionService.options.enabled&&this.ngZone.run((function(){var t=e.selectionService.toggleByIndex(e.itemIndex);t.ctrlKey=!0,t.shiftKey=!1,e.selectionService.changes.emit(t)}))}},{key:"onKeyDown",value:function(e){e.keyCode===Vb.Enter&&this.onClick()}},{key:"setCheckedState",value:function(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}}]),e}()).\u0275fac=function(e){return new(e||T$)(Ua(xU),Ua(sl),Ua(ul),Ua(gc))},T$.\u0275dir=At({type:T$,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&Ha("type",t.type)},inputs:{itemIndex:["kendoGridSelectionCheckbox","itemIndex"]}}),T$),yQ=((I$=function(){function e(t,n,i,r,s,a,o,l,u,c,h,f,d){var p=this;_classCallCheck(this,e),this.detailsService=t,this.groupsService=n,this.changeNotification=i,this.editService=r,this.localization=s,this.ngZone=a,this.renderer=o,this.element=l,this.domEvents=u,this.selectionService=c,this.cellSelectionService=h,this.columnInfoService=f,this.navigationService=d,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=Uq,this.rowClass=function(){return null},this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe((function(e){return p.cellKeydownHandler(e)})),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}return _createClass(e,[{key:"newDataItem",get:function(){return this.editService.newDataItem}},{key:"unlockedColumnsCount",get:function(){return this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length}},{key:"isAriaSelected",value:function(e,t){return this.cellSelectionService.isCellSelected(e,t)||this.isRowSelected(e)?"true":"false"}},{key:"toggleRow",value:function(e,t){return this.detailsService.toggleRow(e,t),!1}},{key:"isExpanded",value:function(e){return this.detailsService.isExpanded(e.index,e.data)}},{key:"detailButtonStyles",value:function(e){return this.isExpanded(e)?"k-i-minus":"k-i-plus"}},{key:"detailButtonTitle",value:function(e){var t=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.localization.get(t)}},{key:"isGroup",value:function(e){return"group"===e.type}},{key:"isDataItem",value:function(e){return!this.isGroup(e)&&!this.isFooter(e)}},{key:"isFooter",value:function(e){return"footer"===e.type}},{key:"isFooterItemInExpandedGroup",value:function(e){return this.isInExpandedGroup({data:e.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}},{key:"isDataItemInExpandedGroup",value:function(e){return this.isInExpandedGroup({data:e.group.data,index:e.groupIndex,parentGroup:e.group.parentGroup})}},{key:"isInExpandedGroup",value:function(e){return this.groupsService.isInExpandedGroup(e)}},{key:"isParentGroupExpanded",value:function(e){return this.groupsService.isInExpandedGroup(e.parentGroup)}},{key:"isOdd",value:function(e){return e.index%2!=0}},{key:"isSelectable",value:function(){return this.selectable&&!1!==this.selectable.enabled}},{key:"isRowSelected",value:function(e){return this.selectionService.isSelected(e.index)}},{key:"trackByWrapper",value:function(e,t){return"data"===t.type&&(t.isEditing=this.editService.hasEdited(t.index)),this.trackBy(e,t)}},{key:"trackByColumns",value:function(e,t){return this.virtualColumns?e:t}},{key:"ngDoCheck",value:function(){this.groupHeaderColumns=this.hasGroupHeaderColumn?eG(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}},{key:"ngAfterViewChecked",value:function(){this.rowSticky&&this.applyStickyRowsStyling()}},{key:"ngOnChanges",value:function(e){bb("columns",e,!1)&&this.changeNotification.notify()}},{key:"logicalRowIndex",value:function(e){var t=this.skip+e;this.hasDetailTemplate&&(t*=2);var n=1+t,i=this.editService.hasNewItem?1:0,r=bq(this.filterable)?1:0;return n+(this.columnInfoService.totalLevels+r+i)}},{key:"addRowLogicalIndex",value:function(){return this.columnInfoService.totalLevels+1+(bq(this.filterable)?1:0)}},{key:"logicalColIndex",value:function(e){return WB(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}},{key:"ngOnInit",value:function(){var e=this;this.ngZone.runOutsideAngular((function(){var t=e.clickHandler.bind(e),n=e.renderer.listen(e.element.nativeElement,"mousedown",t),i=e.renderer.listen(e.element.nativeElement,"mouseup",t),r=e.renderer.listen(e.element.nativeElement,"click",t),s=e.renderer.listen(e.element.nativeElement,"contextmenu",t),a=e.renderer.listen(e.element.nativeElement,"touchstart",t),o=e.renderer.listen(e.element.nativeElement,"touchend",t);e.clickSubscription=function(){n(),i(),r(),s()},e.touchSubscription=function(){a(),o()}}));var t=this.localization.get("noRecords");this.localization.changes.subscribe((function(){e.noRecordsText===t&&(e.noRecordsText=e.localization.get("noRecords"),t=e.noRecordsText)}))}},{key:"ngOnDestroy",value:function(){this.clickSubscription&&this.clickSubscription(),this.touchSubscription&&this.touchSubscription(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}},{key:"isEditingCell",value:function(e,t){return this.editService.isEditing()&&this.editService.isEditedColumn(e,t)}},{key:"isEditingRow",value:function(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}},{key:"hasGroupHeaderColumn",get:function(){return this.columnsContainer.hasGroupHeaderColumn}},{key:"columnsContainer",get:function(){return this.columnInfoService.columnsContainer}},{key:"columnsSpan",get:function(){return iG(this.columns)}},{key:"allColumnsSpan",get:function(){return iG(this.allColumns||this.columns)}},{key:"colSpan",get:function(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}},{key:"footerColumns",get:function(){return this.isLocked?this.columnsContainer.lockedColumnsToRender:this.columnsContainer.nonLockedColumnsToRender}},{key:"showGroupHeader",value:function(e){return!e.data.skipHeader}},{key:"addStickyColumnStyles",value:function(e){var t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}},{key:"resizeHandler",value:function(){this.applyStickyRowsStyling()}},{key:"hasDetailTemplate",get:function(){return WB(this.detailTemplate)}},{key:"clickHandler",value:function(e){var t,n,i,r,s=this,a=this.element.nativeElement,o=this.eventTarget(e),l=o;do{t=Bz(l,jz("td")),n=Bz(t,jz("tr")),i=Bz(n,jz("tbody")),r=zz(l=i,Hz("k-grid"),a)}while(i&&i!==a&&!r);if(t&&!Vz(t,"k-hierarchy-cell k-detail-cell k-group-cell")&&!Vz(n,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&i===a&&!r&&(this.editService.preventCellClose(),!(o!==t&&qz(o,!1)||jz("label")(o)||Vz(o,"k-icon")||zz(o,Hz("k-widget k-grid-ignore-click"),t)))){var u=this.cellClickArgs(t,n,e);"mousedown"===e.type||"touchstart"===e.type?this.domEvents.cellMousedown.emit(u):"mouseup"===e.type||"touchend"===e.type?this.domEvents.cellMouseup.emit(u):!u.isEditedColumn&&this.editService.closeCell(e)||("click"===e.type?this.clickTimeout=setTimeout((function(){s.emitCellClick(u)}),0):this.emitCellClick(u))}}},{key:"emitCellClick",value:function(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}},{key:"cellKeydownHandler",value:function(e){e.keyCode===Vb.Enter&&this.clickHandler(e)}},{key:"cellClickArgs",value:function(e,t,n){var i=function(e,t){for(var n=0,i=0;i<t.length;i++){if(t[i]===e)return n;Vz(t[i],"k-hierarchy-cell k-group-cell")||n++}}(e,t.cells),r=this.columns.toArray()[i],s=this.lockedColumnsCount+i,a=t.getAttribute("data-kendo-grid-item-index");return{column:r,columnIndex:s,dataItem:-1===(a=a?parseInt(a,10):-1)?this.editService.newDataItem:this.data.at(a-this.skip),isEditedColumn:this.editService.isEditedColumn(a,r),isEditedRow:this.editService.isEdited(a),originalEvent:n,rowIndex:a,type:"keydown"===n.type?"click":n.type}}},{key:"eventTarget",value:function(e){if("touchend"===e.type){var t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}return e.target}},{key:"applyStickyRowsStyling",value:function(){var e,t=this,n=(e=this.element.nativeElement.querySelectorAll(".k-grid-row-sticky"),[].slice.call(e));if(n.length){var i=0,r=[];n.forEach((function(e){var t=e.getBoundingClientRect().height;r.push({accumulatedHeight:i,rowHeight:t}),i+=t})),n.forEach((function(e,n){t.renderer.setStyle(e,"top",r[n].accumulatedHeight+"px"),t.renderer.setStyle(e,"bottom",i-r[n].accumulatedHeight-r[n].rowHeight+"px")}))}}}]),e}()).\u0275fac=function(e){return new(e||I$)(Ua(dU),Ua(uU),Ua(tq),Ua(oU),Ua(tC),Ua(gc),Ua(ul),Ua(sl),Ua(Dz),Ua(xU),Ua(EU),Ua(Hq),Ua(SU))},I$.\u0275cmp=St({type:I$,selectors:[["","kendoGridTableBody",""]],inputs:{columns:"columns",groups:"groups",skip:"skip",noRecordsText:"noRecordsText",isLocked:"isLocked",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",trackBy:"trackBy",rowClass:"rowClass",allColumns:"allColumns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",selectable:"selectable",filterable:"filterable",virtualColumns:"virtualColumns",rowSticky:"rowSticky"},features:[qo],attrs:Kj,decls:4,vars:5,consts:[[3,"ngIf"],["class","k-grid-norecords",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],[3,"resize",4,"ngIf"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","k-grid-content-sticky","ngClass","left","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],[1,"k-grid-norecords"],[3,"ngIf","templateContext"],[4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","k-grid-row-sticky","ngClass","k-alt","k-master-row","k-grid-edit-row","k-state-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","k-grid-content-sticky","k-touch-action-none","k-touch-action-auto","ngClass","k-grid-edit-cell","ngStyle","k-state-selected",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["class","k-icon","href","#","tabindex","-1",3,"ngClass","click",4,"ngIf"],["href","#","tabindex","-1",1,"k-icon",3,"ngClass","click"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex"],[3,"templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Ba(0,Qj,4,8,"ng-template",0),Ba(1,tB,4,6,"tr",1),Ba(2,CB,4,4,"ng-template",2),Ba(3,wB,1,0,"kendo-resize-sensor",3)),2&e&&(Ka("ngIf",t.editService.hasNewItem),Ir(1),Ka("ngIf",0===(null==t.data?null:t.data.length)||null==t.data),Ir(1),Ka("ngForOf",t.data)("ngForTrackBy",t.trackByWrapper),Ir(1),Ka("ngIf",t.rowSticky))},directives:function(){return[rf,tf,FZ,IZ,kQ,Xh,_f,SZ,rY,Sf,Lb]},encapsulation:2}),I$),kQ=((E$=function(){function e(t,n,i,r){_classCallCheck(this,e),this.editService=t,this.idService=n,this.localizationService=i,this.cellContext=r,this.isNew=!1,this._templateContext={},this._editTemplateContext={}}return _createClass(e,[{key:"commandCellClass",get:function(){return this.isCommand(this.column)}},{key:"rowIndex",get:function(){return this._rowIndex},set:function(e){this._rowIndex=e,this.updateCellContext()}},{key:"isEdited",get:function(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;var e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}},{key:"formGroup",get:function(){return this.editService.context(this.rowIndex).group}},{key:"templateContext",get:function(){return this._templateContext}},{key:"editTemplateContext",get:function(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}},{key:"format",get:function(){if(GU(this.column)&&!QB(this.column.format))return nz(this.column.format)}},{key:"isBoundColumn",get:function(){return this.column.field&&!this.column.templateRef}},{key:"isCheckboxColumn",get:function(){return jU(this.column)&&!this.column.templateRef}},{key:"selectionCheckboxId",get:function(){return this.idService.selectionCheckboxId(this.rowIndex)}},{key:"selectionCheckboxLabel",get:function(){return this.localizationService.get("selectionCheckboxLabel")}},{key:"isSpanColumn",get:function(){return HU(this.column)&&!this.column.templateRef}},{key:"childColumns",get:function(){return eG([this.column])}},{key:"isColumnEditable",get:function(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}},{key:"ngDoCheck",value:function(){this.updateCellContext()}},{key:"ngOnChanges",value:function(e){this.updateTemplateContext()}},{key:"ngAfterContentChecked",value:function(){this.updateTemplateContext()}},{key:"isCommand",value:function(e){return e instanceof vQ}},{key:"isFieldEditable",value:function(e,t){return!!WB(e)&&(!!WB(t.editTemplate)||WB(e.group)&&WB(e.group.get(t.field)))}},{key:"updateCellContext",value:function(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}},{key:"updateTemplateContext",value:function(){if(this.column.templateRef){var e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}}}]),e}()).\u0275fac=function(e){return new(e||E$)(Ua(oU),Ua(Mq),Ua(tC),Ua(Jz,8))},E$.\u0275cmp=St({type:E$,selectors:[["","kendoGridCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-command-cell",t.commandCellClass)},inputs:{isNew:"isNew",rowIndex:"rowIndex",column:"column",columnIndex:"columnIndex",dataItem:"dataItem"},features:[qo],attrs:_B,decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"k-checkbox",3,"kendoGridSelectionCheckbox"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","class","k-checkbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",1,"k-checkbox",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox",3,"formControl"]],template:function(e,t){1&e&&(Qa(0,0),Ba(1,FB,5,6,"ng-container",1),Ba(2,MB,3,2,"ng-container",1),Ja()),2&e&&(Ka("ngSwitch",t.isEdited),Ir(1),Ka("ngSwitchCase",!1),Ir(1),Ka("ngSwitchCase",!0))},directives:[bf,Cf,rf,Sf,tf,Xz,mQ,wf,ED,KC,v_,nN,PC,MC],pipes:[DZ],encapsulation:2}),E$),bQ=((x$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a,o){var l;return _classCallCheck(this,n),(l=t.call(this,r,s,null,a,o)).editService=e,l.cellContext=i,l.commandClass=!0,l}return _createClass(n,[{key:"visible",get:function(){return this.isEdited?"none":""}},{key:"onClick",value:function(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}]),n}(GN)).\u0275fac=function(e){return new(e||x$)(Ua(oU),Ua(Jz),Ua(sl),Ua(ul),Ua(tC),Ua(gc))},x$.\u0275dir=At({type:x$,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&io("click",(function(e){return t.onClick(e)})),2&e&&(bo("display",t.visible),Co("k-grid-edit-command",t.commandClass))},features:[Ho]}),x$),CQ=((S$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a,o){var l;return _classCallCheck(this,n),(l=t.call(this,r,s,null,a,o)).editService=e,l.cellContext=i,l.commandClass=!0,l}return _createClass(n,[{key:"visible",get:function(){return this.isEdited?"":"none"}},{key:"onClick",value:function(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}]),n}(GN)).\u0275fac=function(e){return new(e||S$)(Ua(oU),Ua(Jz),Ua(sl),Ua(ul),Ua(tC),Ua(gc))},S$.\u0275dir=At({type:S$,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&io("click",(function(e){return t.onClick(e)})),2&e&&(bo("display",t.visible),Co("k-grid-cancel-command",t.commandClass))},features:[Ho]}),S$),wQ=((_$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a,o){var l;return _classCallCheck(this,n),(l=t.call(this,r,s,null,a,o)).editService=e,l.cellContext=i,l.commandClass=!0,l}return _createClass(n,[{key:"visible",get:function(){return this.isEdited?"":"none"}},{key:"onClick",value:function(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}]),n}(GN)).\u0275fac=function(e){return new(e||_$)(Ua(oU),Ua(Jz),Ua(sl),Ua(ul),Ua(tC),Ua(gc))},_$.\u0275dir=At({type:_$,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&io("click",(function(e){return t.onClick(e)})),2&e&&(bo("display",t.visible),Co("k-grid-save-command",t.commandClass))},features:[Ho]}),_$),_Q=((w$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a,o){var l;return _classCallCheck(this,n),(l=t.call(this,r,s,null,a,o)).editService=e,l.cellContext=i,l.commandClass=!0,l}return _createClass(n,[{key:"visible",get:function(){return this.isEdited?"none":""}},{key:"onClick",value:function(e){e.preventDefault(),this.editService.remove(this.rowIndex)}},{key:"ngDoCheck",value:function(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}}]),n}(GN)).\u0275fac=function(e){return new(e||w$)(Ua(oU),Ua(Jz),Ua(sl),Ua(ul),Ua(tC),Ua(gc))},w$.\u0275dir=At({type:w$,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&io("click",(function(e){return t.onClick(e)})),2&e&&(bo("display",t.visible),Co("k-grid-remove-command",t.commandClass))},features:[Ho]}),w$),SQ=((C$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a){var o;return _classCallCheck(this,n),(o=t.call(this,i,r,null,s,a)).editService=e,o}return _createClass(n,[{key:"onClick",value:function(e){e.preventDefault(),this.editService.beginAdd()}},{key:"commandClass",get:function(){return!0}}]),n}(GN)).\u0275fac=function(e){return new(e||C$)(Ua(oU),Ua(sl),Ua(ul),Ua(tC),Ua(gc))},C$.\u0275dir=At({type:C$,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&io("click",(function(e){return t.onClick(e)})),2&e&&Co("k-grid-add-command",t.commandClass)},features:[Ho]}),C$),xQ=[Ef,__,w_,VZ,yY,ND,xN,Nb],EQ=((D$=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[vQ,gQ,mQ,DU,nq,PU,bQ,CQ,wQ,_Q,SQ]}}]),e}()).\u0275mod=Tt({type:D$}),D$.\u0275inj=we({factory:function(e){return new(e||D$)},imports:[[].concat(xQ)]}),D$),IQ=((A$=function(){function e(t){_classCallCheck(this,e),this.columnInfoService=t,this.columns=[],this.groups=[],this.lockedColumnsCount=0,this.logicalRowIndex=0}return _createClass(e,[{key:"footerClass",get:function(){return!this.scrollable}},{key:"columnsToRender",get:function(){return eG(this.columns||[])}},{key:"logicalColumnIndex",value:function(e){var t=e.leafIndex;return WB(t)?t+(WB(this.detailTemplate)?1:0):-1}},{key:"addStickyStyles",value:function(e){var t=this.columnInfoService.stickyColumnsStyles(e);return Object.assign({},e.style,t)}}]),e}()).\u0275fac=function(e){return new(e||A$)(Ua(Hq))},A$.\u0275cmp=St({type:A$,selectors:[["","kendoGridFooter",""]],hostVars:2,hostBindings:function(e,t){2&e&&Co("k-grid-footer",t.footerClass)},inputs:{columns:"columns",groups:"groups",lockedColumnsCount:"lockedColumnsCount",logicalRowIndex:"logicalRowIndex",detailTemplate:"detailTemplate",scrollable:"scrollable"},attrs:VB,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridLogicalCell","","role","columnfooter","aria-selected","false",3,"logicalRowIndex","logicalColIndex","k-grid-footer-sticky","ngClass","ngStyle",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridLogicalCell","","role","columnfooter","aria-selected","false",3,"logicalRowIndex","logicalColIndex","ngClass","ngStyle"],[3,"templateContext"]],template:function(e,t){1&e&&Ba(0,UB,4,9,"ng-template",0),2&e&&Ka("ngIf",!0)},directives:[rf,FZ,tf,IZ,Xh,_f,SZ],encapsulation:2}),A$),TQ=[Ef,VZ],FQ=((P$=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"exports",value:function(){return[]}}]),e}()).\u0275mod=Tt({type:P$}),P$.\u0275inj=we({factory:function(e){return new(e||P$)},imports:[[].concat(TQ)]}),P$),AQ=((R$=function(){function e(t){_classCallCheck(this,e),this.grid=t,this.context={}}return _createClass(e,[{key:"position",set:function(e){this.context.position=e}},{key:"toolbarTemplateRef",get:function(){return this.grid.toolbarTemplate?this.grid.toolbarTemplate.templateRef:void 0}}]),e}()).\u0275fac=function(e){return new(e||R$)(Ua($q))},R$.\u0275cmp=St({type:R$,selectors:[["kendo-grid-toolbar"]],inputs:{position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Ba(0,qB,1,2,void 0,0),2&e&&Ka("ngIf",t.toolbarTemplateRef)},directives:[rf,Sf],encapsulation:2}),R$),DQ=((O$=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:O$}),O$.\u0275inj=we({factory:function(e){return new(e||O$)},imports:[[Ef,yY,VZ,EQ,pQ,FQ,iY,GZ,JY,Nb,fQ]]}),O$),OQ=mi(j$),RQ=function e(){_classCallCheck(this,e)},PQ=function e(){_classCallCheck(this,e)},LQ=function e(){_classCallCheck(this,e)},NQ=function(){function e(t){var n=this;_classCallCheck(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var i=e.slice(0,t),r=i.toLowerCase(),s=e.slice(t+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(s):n.headers.set(r,[s])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var i=t[e],r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(e,r))}))}:this.headers=new Map}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var i=("a"===e.op?this.headers.get(t):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(t,i);break;case"d":var r=e.value;if(r){var s=this.headers.get(t);if(!s)return;0===(s=s.filter((function(e){return-1===r.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),MQ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return VQ(e)}},{key:"encodeValue",value:function(e){return VQ(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function VQ(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var HQ=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new MQ,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var i=e.indexOf("="),r=_slicedToArray(-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],2),s=r[0],a=r[1],o=n.get(s)||[];o.push(a),n.set(s,o)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var i=n.fromObject[e];t.map.set(e,Array.isArray(i)?i:[i])}))):this.map=null}return _createClass(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).filter((function(e){return""!==e})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var i=e.map.get(t.param)||[],r=i.indexOf(t.value);-1!==r&&i.splice(r,1),i.length>0?e.map.set(t.param,i):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function jQ(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function BQ(e){return"undefined"!=typeof Blob&&e instanceof Blob}function zQ(e){return"undefined"!=typeof FormData&&e instanceof FormData}var UQ=function(){function e(t,n,i,r){var s;if(_classCallCheck(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.params&&(this.params=s.params)),this.headers||(this.headers=new NQ),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var o=n.indexOf("?");this.urlWithParams=n+(-1===o?"?":o<n.length-1?"&":"")+a}}else this.params=new HQ,this.urlWithParams=n}return _createClass(e,[{key:"serializeBody",value:function(){return null===this.body?null:jQ(this.body)||BQ(this.body)||zQ(this.body)||"string"==typeof this.body?this.body:this.body instanceof HQ?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||zQ(this.body)?null:BQ(this.body)?this.body.type||null:jQ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof HQ?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),u)),new e(n,i,s,{params:u,headers:l,reportProgress:o,responseType:r,withCredentials:a})}}]),e}(),GQ=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),qQ=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,e),this.headers=t.headers||new NQ,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},KQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=GQ.ResponseHeader,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(qQ),WQ=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(e=t.call(this,i)).type=GQ.Response,e.body=void 0!==i.body?i.body:null,e}return _createClass(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(qQ),$Q=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),i.error=e.error||null,i}return n}(qQ);function ZQ(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var YQ,QQ,JQ,XQ,eJ,tJ,nJ,iJ,rJ,sJ,aJ,oJ=((YQ=function(){function e(t){_classCallCheck(this,e),this.handler=t}return _createClass(e,[{key:"request",value:function(e,t){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof UQ)n=e;else{var s=void 0;s=r.headers instanceof NQ?r.headers:new NQ(r.headers);var a=void 0;r.params&&(a=r.params instanceof HQ?r.params:new HQ({fromObject:r.params})),n=new UQ(e,t,void 0!==r.body?r.body:null,{headers:s,params:a,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var o=qv(n).pipe(Og((function(e){return i.handler.handle(e)})));if(e instanceof UQ||"events"===r.observe)return o;var l=o.pipe(tg((function(e){return e instanceof WQ})));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe($((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return l.pipe($((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return l.pipe($((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return l.pipe($((function(e){return e.body})))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(r.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new HQ).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,ZQ(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,ZQ(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,ZQ(n,t))}}]),e}()).\u0275fac=function(e){return new(e||YQ)(st(PQ))},YQ.\u0275prov=Ce({token:YQ,factory:YQ.\u0275fac}),YQ),lJ=function(){function e(t,n){_classCallCheck(this,e),this.next=t,this.interceptor=n}return _createClass(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),uJ=new Ye("HTTP_INTERCEPTORS"),cJ=((QQ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||QQ)},QQ.\u0275prov=Ce({token:QQ,factory:QQ.\u0275fac}),QQ),hJ=/^\)\]\}',?\n/,fJ=function e(){_classCallCheck(this,e)},dJ=((XQ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}()).\u0275fac=function(e){return new(e||XQ)},XQ.\u0275prov=Ce({token:XQ,factory:XQ.\u0275fac}),XQ),pJ=((JQ=function(){function e(t){_classCallCheck(this,e),this.xhrFactory=t}return _createClass(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new D((function(n){var i=t.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((function(e,t){return i.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var r=e.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(e.responseType){var s=e.responseType.toLowerCase();i.responseType="json"!==s?s:"text"}var a=e.serializeBody(),o=null,l=function(){if(null!==o)return o;var t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new NQ(i.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return o=new KQ({headers:r,status:t,statusText:n,url:s})},u=function(){var t=l(),r=t.headers,s=t.status,a=t.statusText,o=t.url,u=null;204!==s&&(u=void 0===i.response?i.responseText:i.response),0===s&&(s=u?200:0);var c=s>=200&&s<300;if("json"===e.responseType&&"string"==typeof u){var h=u;u=u.replace(hJ,"");try{u=""!==u?JSON.parse(u):null}catch(f){u=h,c&&(c=!1,u={error:f,text:u})}}c?(n.next(new WQ({body:u,headers:r,status:s,statusText:a,url:o||void 0})),n.complete()):n.error(new $Q({error:u,headers:r,status:s,statusText:a,url:o||void 0}))},c=function(e){var t=l().url,r=new $Q({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:t||void 0});n.error(r)},h=!1,f=function(t){h||(n.next(l()),h=!0);var r={type:GQ.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),"text"===e.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},d=function(e){var t={type:GQ.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return i.addEventListener("load",u),i.addEventListener("error",c),e.reportProgress&&(i.addEventListener("progress",f),null!==a&&i.upload&&i.upload.addEventListener("progress",d)),i.send(a),n.next({type:GQ.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("load",u),e.reportProgress&&(i.removeEventListener("progress",f),null!==a&&i.upload&&i.upload.removeEventListener("progress",d)),i.abort()}}))}}]),e}()).\u0275fac=function(e){return new(e||JQ)(st(fJ))},JQ.\u0275prov=Ce({token:JQ,factory:JQ.\u0275fac}),JQ),vJ=new Ye("XSRF_COOKIE_NAME"),gJ=new Ye("XSRF_HEADER_NAME"),mJ=function e(){_classCallCheck(this,e)},yJ=((aJ=function(){function e(t,n,i){_classCallCheck(this,e),this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Zh(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}()).\u0275fac=function(e){return new(e||aJ)(st(Zc),st(ec),st(vJ))},aJ.\u0275prov=Ce({token:aJ,factory:aJ.\u0275fac}),aJ),kJ=((sJ=function(){function e(t,n){_classCallCheck(this,e),this.tokenService=t,this.headerName=n}return _createClass(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||sJ)(st(mJ),st(gJ))},sJ.\u0275prov=Ce({token:sJ,factory:sJ.\u0275fac}),sJ),bJ=((rJ=function(){function e(t,n){_classCallCheck(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(uJ,[]);this.chain=t.reduceRight((function(e,t){return new lJ(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||rJ)(st(LQ),st(Ca))},rJ.\u0275prov=Ce({token:rJ,factory:rJ.\u0275fac}),rJ),CJ=((iJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:kJ,useClass:cJ}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:vJ,useValue:t.cookieName}:[],t.headerName?{provide:gJ,useValue:t.headerName}:[]]}}}]),e}()).\u0275mod=Tt({type:iJ}),iJ.\u0275inj=we({factory:function(e){return new(e||iJ)},providers:[kJ,{provide:uJ,useExisting:kJ,multi:!0},{provide:mJ,useClass:yJ},{provide:vJ,useValue:"XSRF-TOKEN"},{provide:gJ,useValue:"X-XSRF-TOKEN"}]}),iJ),wJ=((nJ=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:nJ}),nJ.\u0275inj=we({factory:function(e){return new(e||nJ)},providers:[oJ,{provide:PQ,useClass:bJ},pJ,{provide:LQ,useExisting:pJ},dJ,{provide:fJ,useExisting:dJ}],imports:[[CJ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),nJ),_J=((tJ=function(){function e(t){_classCallCheck(this,e),this.http=t,this.samples=[],this.sampleUpdate=new M}return _createClass(e,[{key:"getSamples",value:function(){var e=this;this.http.get("http://localhost:3000/api/samples").subscribe((function(t){e.samples=t.samples,e.sampleUpdate.next(_toConsumableArray(e.samples))}))}},{key:"addSamples",value:function(e){var t=this;this.http.post("http://localhost:3000/api/samples",e).subscribe((function(n){console.log(n.message),t.samples.push(e),t.sampleUpdate.next(_toConsumableArray(t.samples))}))}},{key:"saveSiteComments",value:function(e){return this.http.post("http://localhost:3000/api/samples",e)}},{key:"getSamplesUpdated",value:function(){return this.sampleUpdate.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||tJ)(st(oJ))},tJ.\u0275prov=Ce({token:tJ,factory:tJ.\u0275fac,providedIn:"root"}),tJ),SJ=((eJ=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getStatusIcon",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case"Installed":return t?"status-completed":"fa fa-check-circle check-circle--green";case"Build in Progress":return t?"status-progress":"fa fa-play-circle";case"Operational":return t?"status-paused":"fa fa-clock"}}}]),e}()).\u0275fac=function(e){return new(e||eJ)},eJ.\u0275prov=Ce({token:eJ,factory:eJ.\u0275fac,providedIn:"root"}),eJ);function xJ(e,t){1&e&&($a(0,"span"),Oo(1,"There are No Samples uploaded yet"),Za())}function EJ(e,t){if(1&e&&Ba(0,xJ,2,0,"span",27),2&e){var n=ao();Ka("ngIf",!n.loading&&0===n.sampleData.length)}}function IJ(e,t){if(1&e){var n=eo();$a(0,"input",28),io("input",(function(e){return un(n),ao().onFilter(e.target.value)})),Za()}}function TJ(e,t){if(1&e){var n=eo();$a(0,"input",29),io("selectAllChange",(function(e){return un(n),ao().onSelectAllChange(e)})),Za(),Ya(1,"label",30)}2&e&&Ka("state",ao().selectAllState)}function FJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.ArtemisID),Ir(1),Ro(n.ArtemisID)}}function AJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.MergedAssetTag),Ir(1),Ro(n.MergedAssetTag)}}function DJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.MergedLocation),Ir(1),Ro(n.MergedLocation)}}function OJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.ConfirmedBusiness),Ir(1),Ro(n.ConfirmedBusiness)}}function RJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.tsCustBusiness),Ir(1),Po(" ",n.tsCustBusiness,"")}}function PJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.AptCOrganisation),Ir(1),Po(" ",n.AptCOrganisation,"")}}function LJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.eMRFOwningBusiness),Ir(1),Po(" ",n.eMRFOwningBusiness,"")}}function NJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.eMRFOperatingBusiness),Ir(1),Po(" ",n.eMRFOperatingBusiness,"")}}function MJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.SnowOperatingBusiness),Ir(1),Po(" ",n.SnowOperatingBusiness,"")}}function VJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.AppContactName),Ir(1),Po(" ",n.AppContactName,"")}}function HJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.AppContactName),Ir(1),Po(" ",n.AppContactName,"")}}function jJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.AppContactName),Ir(1),Po(" ",n.AppContactName,"")}}function BJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.AppContactName),Ir(1),Po(" ",n.AppContactName,"")}}function zJ(e,t){if(1&e&&($a(0,"span",31),Oo(1),Za()),2&e){var n=t.$implicit;co("title",n.AppContactName),Ir(1),Po(" ",n.AppContactName,"")}}function UJ(e,t){if(1&e&&($a(0,"div",32),$a(1,"div",33),Ya(2,"span",34),Za(),$a(3,"span"),Oo(4),Za(),Za()),2&e){var n=t.$implicit,i=ao();Ir(1),Ka("ngClass",i.getIconBackground(n)),Ir(1),Ka("ngClass",i.getStatusIcon(n)),Ir(2),Po("",n.installStatus," ")}}function GJ(e,t){1&e&&Ya(0,"i",44)}var qJ=function(e,t){return{editEnabled:e,editDisabled:t}},KJ=function(){return{color:"#0575D1","font-style":"italic"}},WJ=function(){return{}};function $J(e,t){if(1&e&&($a(0,"span",35),$a(1,"div",36),Ba(2,GJ,1,0,"i",37),Za(),$a(3,"p",38),Oo(4),Za(),$a(5,"div"),Oo(6,"\xa0"),Za(),$a(7,"div",39),Oo(8),Za(),$a(9,"div",40),Oo(10),bu(11,"date"),Za(),Ya(12,"br"),Za(),$a(13,"span",41),$a(14,"div",42),Oo(15),Za(),$a(16,"div",43),Oo(17),bu(18,"date"),Za(),Ya(19,"br"),Za()),2&e){var n=t.dataItem,i=ao();Ir(1),Ka("ngClass",fu(14,qJ,!i.isDone,i.isDone)),Ir(1),Ka("ngIf",i.canEditTeamComments),Ir(1),Ka("ngStyle",null==n.ContactComment?cu(17,KJ):cu(18,WJ)),Ir(1),Po(" ",n.ContactComment?n.ContactComment:"Add Comment here"," "),Ir(4),Po(" Last edited by ",n.UpdatedBy," "),Ir(2),Po(" ",Cu(11,8,n.LastUpdatedDate,"dd/MM/yyyy h:mm a")," "),Ir(5),Po("Added by ",n.UpdatedBy,""),Ir(2),Ro(Cu(18,11,n.AddedDate,"dd/MM/yyyy h:mm a"))}}function ZJ(e,t){if(1&e&&($a(0,"div",39),Oo(1),Za()),2&e){var n=ao().dataItem;Ir(1),Po(" Last edited by ",n.UpdatedBy," ")}}var YJ=function(e,t){return{saveDisabled:e,save:t}};function QJ(e,t){if(1&e){var n=eo();$a(0,"span",35),$a(1,"textarea",45,46),Oo(3),Za(),Ya(4,"br"),$a(5,"div"),Oo(6,"\xa0"),Za(),$a(7,"div",47),Oo(8),Za(),$a(9,"button",48),io("click",(function(){un(n);var e=t.column,i=t.formGroup,r=ao(),s=za(7);return r.saveClicked(i.get(e.field).value,"siteComments",s)})),Oo(10,"Save"),Za(),$a(11,"button",49),io("click",(function(){un(n);var e=ao(),t=za(7);return e.cancelChanges(t)})),Oo(12,"Cancel"),Za(),Ya(13,"br"),$a(14,"div"),Oo(15,"\xa0"),Za(),Ba(16,ZJ,2,1,"div",50),$a(17,"div",40),Oo(18),bu(19,"date"),Za(),Ya(20,"br"),Za(),$a(21,"span",41),$a(22,"div",42),Oo(23),Za(),$a(24,"div",43),Oo(25),bu(26,"date"),Za(),Ya(27,"br"),Za()}if(2&e){var i=t.dataItem,r=t.column,s=t.formGroup,a=ao();Ir(1),Ka("formControl",s.get(r.field))("maxlength",a.commentsMaxLength),Ir(2),Ro(i.ContactComment?i.ContactComment:""),Ir(5),Lo(" (",null==s.get(r.field).value?null:s.get(r.field).value.length,"/",a.commentsMaxLength,") "),Ir(1),Ka("ngClass",fu(17,YJ,0==(null==s.get(r.field).value?null:s.get(r.field).value.trim().length)||null==i.ContactComment&&!((null==s.get(r.field).value?null:s.get(r.field).value.trim().length)>0),(null==s.get(r.field).value?null:s.get(r.field).value.trim().length)>0))("disabled",null==s.get(r.field).value||0==(null==s.get(r.field).value?null:s.get(r.field).value.trim().length)||i.ContactComment==s.get(r.field).value),Ir(7),Ka("ngIf",null!=i.ContactComment),Ir(2),Po(" ",Cu(19,11,i.LastUpdatedDate,"dd/MM/yyyy h:mm a")," "),Ir(5),Po("Added by ",i.UpdatedBy,""),Ir(2),Ro(Cu(26,14,i.AddedDate,"dd/MM/yyyy h:mm a"))}}function JJ(e,t){1&e&&Ya(0,"div",51)}var XJ,eX,tX=function(){return{allowUnsort:!0,mode:"single"}},nX=function(){return{enabled:!0,checkboxOnly:!0}},iX=function(){return{filter:!0}},rX=((XJ=function(){function e(t,n,i,r){_classCallCheck(this,e),this.sampleService=t,this.utiltiyService=n,this.toastService=i,this.formBuilder=r,this.loading=!0,this.isSelected=!1,this.isDone=!1,this.commentsMaxLength=450,this.mySelection=[],this.samples=[],this.sampleData=[],this.selectAllState="unchecked",this.state={skip:0,take:30},this.sort=[{field:"id",dir:"desc"}],this.gridDimension={height:"calc(100vh - 140px)",width:"calc(100vw - 140px)"}}return _createClass(e,[{key:"ngOnInit",value:function(){this.loadItems()}},{key:"loadItems",value:function(){var e=this;this.loading=!0,this.sampleService.getSamples(),this.sampleSub=this.sampleService.getSamplesUpdated().subscribe((function(t){t.length>0?(e.samples=t,e.gridData=MS(e.samples,e.state),e.loading=!1,e.gridView=t,null!=e.inpValue&&e.onFilter(e.inpValue)):(e.loading=!1,e.sampleData.length=0)}))}},{key:"canEditTeamComments",get:function(){return!0}},{key:"dataStateChange",value:function(e){this.state=e,this.gridData=MS(this.samples,e)}},{key:"sortChange",value:function(e){this.sort=e}},{key:"onSelectAllChange",value:function(e){this.isSelected=!0,"checked"===e?(this.mySelection=this.gridView.map((function(e){return e.ArtemisID})),this.selectAllState="checked"):(this.mySelection=[],this.selectAllState="unchecked")}},{key:"selectedCallback",value:function(e){return e.dataItem.ArtemisID}},{key:"onSelectedKeysChange",value:function(e){var t=this;this.isSelected=!0,this.sampleData.filter((function(e){return e.artemisId==t.mySelection[0]}));var n=this.mySelection.length;0===n?(this.selectAllState="unchecked",this.isSelected=!1):this.selectAllState=n>0&&n<this.gridView.length?"indeterminate":"checked"}},{key:"isEditable",value:function(e,t){return["siteComments","teamComments","actionItems","timeLimit"].indexOf(e)>-1&&!this.isDone}},{key:"userCanEdit",value:function(e){switch(e){case"siteComments":return this.canEditTeamComments;default:return!1}}},{key:"createFormGroup",value:function(e){var t,n,i,r,s,a,o,l,u,c,h,f,d;return this.formBuilder.group({ArtemisID:e.ArtemisID,BusinessAppName:e.BusinessAppName,siteComments:e.ContactComment,siteCommentsLastUpdatedOn:null===(n=null===(t=e.ContactComment)||void 0===t?void 0:t.lastUpdated)||void 0===n?void 0:n.updatedOn,teamComments:null===(i=e.teamComments)||void 0===i?void 0:i.data,teamCommentsLastUpdatedOn:null===(s=null===(r=e.teamComments)||void 0===r?void 0:r.lastUpdated)||void 0===s?void 0:s.updatedOn,actionItems:null===(a=e.actionItems)||void 0===a?void 0:a.data,actionItemsLastUpdatedOn:null===(l=null===(o=e.actionItems)||void 0===o?void 0:o.lastUpdated)||void 0===l?void 0:l.updatedOn,timeLimit:null===(u=e.timeLimit)||void 0===u?void 0:u.data,timeLimitLastUpdatedOn:null===(h=null===(c=e.timeLimit)||void 0===c?void 0:c.lastUpdated)||void 0===h?void 0:h.updatedOn,status:this.isDone,statusLastUpdatedOn:null===(d=null===(f=e.status)||void 0===f?void 0:f.lastUpdated)||void 0===d?void 0:d.updatedOn})}},{key:"cancelChanges",value:function(e){e.cancelCell()}},{key:"cellClickHandler",value:function(e){var t=e.sender,n=e.rowIndex,i=e.column,r=e.columnIndex,s=e.dataItem,a=e.isEdited;this.isEditable(i.field,s)&&this.userCanEdit(i.field)&&(this.formGroup=this.createFormGroup(s),t.editCell(n,r,this.formGroup)),a||"BusinessAppName"!=i.field||t.editCell(n,r,this.createFormGroup(s))}},{key:"cellCloseHandler",value:function(e){var t=e.formGroup;t.valid&&t.dirty&&this.samples.filter((function(e){var n,i,r,s;e.ArtemisID===(null===(i=null===(n=null==t?void 0:t.controls)||void 0===n?void 0:n.ArtemisID)||void 0===i?void 0:i.value)&&(e.BusinessAppName=null===(s=null===(r=null==t?void 0:t.controls)||void 0===r?void 0:r.BusinessAppName)||void 0===s?void 0:s.value)}))}},{key:"saveClicked",value:function(e,t,n){var i,r,s,a,o,l,u=this;switch(this.loading=!0,this.commentsDTO=new RQ,this.commentsDTO.ArtemisID=null===(s=null===(r=null===(i=this.formGroup)||void 0===i?void 0:i.controls)||void 0===r?void 0:r.ArtemisID)||void 0===s?void 0:s.value,t){case"siteComments":this.commentsDTO.ContactComment=null===(l=null===(o=null===(a=this.formGroup)||void 0===a?void 0:a.controls)||void 0===o?void 0:o.siteComments)||void 0===l?void 0:l.value,this.commentsDTO.UpdatedBy="Rajesh D",this.commentsDTO.LastUpdatedDate=new Date,this.sampleService.saveSiteComments(this.commentsDTO).subscribe((function(e){u.loading=!1,u.samples.filter((function(e){e.ArtemisID===u.commentsDTO.ArtemisID&&(e.ContactComment=u.commentsDTO.ContactComment,e.lastUpdated=u.commentsDTO.LastUpdatedDate,e.LastUpdatedDate=u.commentsDTO.LastUpdatedDate,e.user=u.commentsDTO.UpdatedBy)})),n.cancelCell(),u.loadItems(),u.toastService.success("Comments saved successfully.")}),(function(e){u.loading=!1}))}}},{key:"onFilter",value:function(e){this.inpValue=e,this.gridView=MS(this.samples,{filter:{logic:"or",filters:[{field:"ArtemisID",operator:"contains",value:e},{field:"id",operator:"contains",value:e},{field:"BusinessAppName",operator:"contains",value:e},{field:"CorrelationID",operator:"contains",value:e},{field:"installStatus",operator:"contains",value:e},{field:"ServerName",operator:"contains",value:e},{field:"AppContactName",operator:"contains",value:e}]}}).data,this.dataBinding.skip=0}},{key:"getStatusIcon",value:function(e){return this.utiltiyService.getStatusIcon(e.installStatus)}},{key:"getIconBackground",value:function(e){return this.utiltiyService.getStatusIcon(e.installStatus,!0)}},{key:"ngOnDestroy",value:function(){this.sampleSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||XJ)(Ua(_J),Ua(SJ),Ua(Bk),Ua(C_))},XJ.\u0275cmp=St({type:XJ,selectors:[["app-home"]],viewQuery:function(e,t){var n;1&e&&Vu(V$,!0),2&e&&Nu(n=Uu())&&(t.dataBinding=n.first)},decls:46,vars:36,consts:[[1,"ar-section"],[1,"ar-section__header"],[1,"ar-section__title"],[1,"ar-section__content","p-b-4"],["id","kgrid_home_project",1,"ar-kgrid"],["filterable","'menu'","id","home_grid",3,"data","pageSize","skip","filter","pageable","resizable","sortable","sort","navigable","kendoGridBinding","selectable","selectedKeys","kendoGridSelectBy","columnMenu","dataStateChange","sortChange","cellClick","cellClose","selectedKeysChange"],["grid",""],["kendoGridNoRecordsTemplate",""],["kendoGridToolbarTemplate",""],["showSelectAll","true","width","80px"],["kendoGridHeaderTemplate",""],["field","ArtemisID","title","Artemis ID","width","150px ",3,"filterable"],["kendoGridCellTemplate",""],["field","MergedAssetTag","title","Merged Asset Tag","width","200px ",3,"filterable"],["field","MergedLocation","title","Merged Location","width","150px ",3,"filterable"],["field","ConfirmedBusiness","title","Confirmed Business","width","200px ",3,"filterable"],["field","tsCustBusiness","title","ts Cust Business","width","150px",3,"filterable"],["field","AptCOrganisation","title","AptC Organisation","width","250px",3,"filterable"],["field","eMRFOwningBusiness","title","eMRF Owning Business","width","200px",3,"filterable"],["field","eMRFOperatingBusiness","title","eMRF Operating Business","width","250px",3,"filterable"],["field","SnowOperatingBusiness","title","Snow Operating Business","width","250px",3,"filterable"],["field","AppContactName","title","App Contact Name","width","150px",3,"filterable"],["field","installStatus","title","Install Status","width","100px",3,"filterable"],["field","siteComments","title","Add Comments",3,"width","sortable","columnMenu"],["kendoGridCellTemplate","","class","ar-kgrid__cell-lnk"],["kendoGridEditTemplate","","class","ar-kgrid__cell-lnk"],["aria-label","Loading page","class","k-i-loading",4,"ngIf"],[4,"ngIf"],["placeholder","Search in all columns...","kendoTextBox","",1,"ar-kinput",3,"input"],["id","selectAllCheckboxId","kendoGridSelectAllCheckbox","",1,"k-checkbox",3,"state","selectAllChange"],["for","selectAllCheckboxId",1,"k-checkbox-label"],[3,"title"],[2,"display","flex","align-items","center"],[1,"status",3,"ngClass"],["aria-hidden","true",1,"status-icon",3,"ngClass"],[1,"comments"],[3,"ngClass"],["class","fas fa-edit editIcon",4,"ngIf"],[1,"line-break",3,"ngStyle"],[1,"by",2,"color","#b8b8b8"],[1,"on",2,"color","#b8b8b8"],[1,"audit"],[1,"by"],[1,"on"],[1,"fas","fa-edit","editIcon"],["name","siteComments","required","",1,"k-textbox",3,"formControl","maxlength"],["input",""],[1,"charCount"],[3,"ngClass","disabled","click"],[1,"cancel",3,"click"],["class","by","style","color: #b8b8b8",4,"ngIf"],["aria-label","Loading page",1,"k-i-loading"]],template:function(e,t){1&e&&($a(0,"section",0),$a(1,"header",1),$a(2,"h1",2),Oo(3,"Samples"),Za(),Za(),$a(4,"section",3),$a(5,"div",4),$a(6,"kendo-grid",5,6),io("dataStateChange",(function(e){return t.dataStateChange(e)}))("sortChange",(function(e){return t.sortChange(e)}))("cellClick",(function(e){return t.cellClickHandler(e)}))("cellClose",(function(e){return t.cellCloseHandler(e)}))("selectedKeysChange",(function(e){return t.onSelectedKeysChange(e)})),Ba(8,EJ,1,1,"ng-template",7),Ba(9,IJ,1,0,"ng-template",8),$a(10,"kendo-grid-checkbox-column",9),Ba(11,TJ,2,1,"ng-template",10),Za(),$a(12,"kendo-grid-column",11),Ba(13,FJ,2,2,"ng-template",12),Za(),$a(14,"kendo-grid-column",13),Ba(15,AJ,2,2,"ng-template",12),Za(),$a(16,"kendo-grid-column",14),Ba(17,DJ,2,2,"ng-template",12),Za(),$a(18,"kendo-grid-column",15),Ba(19,OJ,2,2,"ng-template",12),Za(),$a(20,"kendo-grid-column",16),Ba(21,RJ,2,2,"ng-template",12),Za(),$a(22,"kendo-grid-column",17),Ba(23,PJ,2,2,"ng-template",12),Za(),$a(24,"kendo-grid-column",18),Ba(25,LJ,2,2,"ng-template",12),Za(),$a(26,"kendo-grid-column",19),Ba(27,NJ,2,2,"ng-template",12),Za(),$a(28,"kendo-grid-column",20),Ba(29,MJ,2,2,"ng-template",12),Za(),$a(30,"kendo-grid-column",21),Ba(31,VJ,2,2,"ng-template",12),Za(),$a(32,"kendo-grid-column",21),Ba(33,HJ,2,2,"ng-template",12),Za(),$a(34,"kendo-grid-column",21),Ba(35,jJ,2,2,"ng-template",12),Za(),$a(36,"kendo-grid-column",21),Ba(37,BJ,2,2,"ng-template",12),Za(),$a(38,"kendo-grid-column",21),Ba(39,zJ,2,2,"ng-template",12),Za(),$a(40,"kendo-grid-column",22),Ba(41,UJ,5,3,"ng-template",12),Za(),$a(42,"kendo-grid-column",23),Ba(43,$J,20,19,"ng-template",24),Ba(44,QJ,28,20,"ng-template",25),Za(),Za(),Za(),Za(),Ba(45,JJ,1,0,"div",26),Za()),2&e&&(Ir(6),Ka("data",t.gridData)("pageSize",t.state.take)("skip",t.state.skip)("filter",t.state.filter)("pageable",!0)("resizable",!0)("sortable",cu(33,tX))("sort",t.sort)("navigable",!0)("kendoGridBinding",t.gridView)("selectable",cu(34,nX))("selectedKeys",t.mySelection)("kendoGridSelectBy",t.selectedCallback)("columnMenu",cu(35,iX)),Ir(6),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("filterable",!0),Ir(2),Ka("width",400)("sortable",!1)("columnMenu",!1),Ir(3),Ka("ngIf",t.loading))},directives:[$q,V$,H$,nq,pq,gQ,NU,WU,DU,PU,rf,lD,NY,Xh,_f,MC,m_,KC,v_,k_],pipes:[xf],styles:["textarea[_ngcontent-%COMP%]{height:15em!important;width:100%!important;background-color:#fff!important;box-shadow:0 0 4px rgba(0,0,0,.15)!important;border-radius:4px!important;padding:10px!important}td[_ngcontent-%COMP%]{vertical-align:top!important}.changes[_ngcontent-%COMP%]{display:block;margin-bottom:10%}.view-all[_ngcontent-%COMP%]{text-transform:uppercase;color:#0575d1}.comments[_ngcontent-%COMP%]{padding:10px}.audit[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]{display:block;background-color:#f4f8f9!important}.audit[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#b8b8b8}.by[_ngcontent-%COMP%]{float:left}.by[_ngcontent-%COMP%], .on[_ngcontent-%COMP%]{font-size:11px}.on[_ngcontent-%COMP%]{float:right}.save[_ngcontent-%COMP%]{background:#0575d1;border-radius:3px;width:57px;height:30px;border:none;cursor:pointer}.save[_ngcontent-%COMP%], .saveDisabled[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;padding:.5em;margin-right:.5em}.saveDisabled[_ngcontent-%COMP%]{background:grey;border-radius:3px}.cancel[_ngcontent-%COMP%]{border:1px solid #0575d1;color:#0575d1;border-radius:3px;text-transform:uppercase;padding:.5em;background:none;cursor:pointer}.status[_ngcontent-%COMP%]{display:flex}.status[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #0575d1!important;margin-right:1em}.status-details[_ngcontent-%COMP%]{margin-top:10px;font-size:.66em}.not-done[_ngcontent-%COMP%]{font-size:13px;color:#c4c4c4}.done[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#424342}.visualise[_ngcontent-%COMP%]{margin-right:25px}.visualise-damage[_ngcontent-%COMP%]{width:calc(33.33333% - 8.33333px)}.visualise-area[_ngcontent-%COMP%], .visualise-unit[_ngcontent-%COMP%]{width:calc(8.33333% - 2.08333px)}.visualise-corrosion[_ngcontent-%COMP%], .visualise-equipment[_ngcontent-%COMP%]{width:calc(16.66667% - 4.16667px)}.ar-kstatus[_ngcontent-%COMP%]{color:#909090;font-style:italic}.simulation-head[_ngcontent-%COMP%]{font-size:20px;font-weight:100}.simulation-details[_ngcontent-%COMP%]{background-color:#fff;margin-top:20px;padding:20px 25px;min-height:calc(100% - 50px)}.simulation-days[_ngcontent-%COMP%]{width:100px}.simulation-title[_ngcontent-%COMP%]{width:250px}.simulation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .simulation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:7.5px 30px;text-align:center;border-bottom:1px solid #dadada;color:#666}.w-50[_ngcontent-%COMP%]{width:50%}.m-r-150[_ngcontent-%COMP%]{margin-right:150px}.p-t-custom--3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:3px}.editIcon[_ngcontent-%COMP%]{float:right;font-size:16px}.editEnabled[_ngcontent-%COMP%]{color:#0575d1}.editDisabled[_ngcontent-%COMP%]{color:#c4c4c4}.charCount[_ngcontent-%COMP%]{font-size:11px;float:right}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase!important}.text-expand[_ngcontent-%COMP%]{color:#0575d1}.underline-on-hover[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.vce-pmessage[_ngcontent-%COMP%]{font-family:Arial;font-style:normal;font-size:16px;line-height:23px;color:#000}.collapser[_ngcontent-%COMP%]{color:#0575d1;cursor:pointer;font-size:14px;float:right}.container[_ngcontent-%COMP%]{height:100px;overflow:hidden}.show[_ngcontent-%COMP%]{height:auto;overflow:visible}.k-grid-content[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]{background-color:#fff;outline:thin solid #edebe9}.k-grid-content[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]{background-color:#fff}.k-grid-content[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]:hover, .k-grid-content[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]:hover{background-color:transparent}.k-grid-content-locked[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]{background-color:#fff;outline:thin solid #edebe9}.k-grid-content-locked[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]{background-color:#fff}.k-grid-content-locked[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]:hover, .k-grid-content-locked[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]:hover{background-color:transparent}.k-grid-toolbar[_ngcontent-%COMP%]{padding:10px 20px;background-color:#f4f8f9}.k-i-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;font-size:47px;background-color:transparent;color:#eadf46}.ar-kinput[_ngcontent-%COMP%]{width:250px;height:40px;padding:5px;border-radius:4px;background:#fff;border:1px solid #dadada;box-sizing:border-box}[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c4c4;font-style:italic;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#c4c4c4;font-style:italic;opacity:1}.ar-kgrid__cell-link[_ngcontent-%COMP%]{color:#0575d1;cursor:pointer}.status[_ngcontent-%COMP%]{text-align:center;position:relative;display:inline-block;margin-right:5px;width:15px;height:15px;border-radius:100%;vertical-align:middle}.status-icon[_ngcontent-%COMP%]{color:transparent;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.status-icon.fa[_ngcontent-%COMP%]{font-size:14px}.status-errored[_ngcontent-%COMP%]   .fa-times-circle[_ngcontent-%COMP%]{color:#db4437}.status-progress[_ngcontent-%COMP%]   .fa-play-circle[_ngcontent-%COMP%]{color:#0575d1}.status-paused[_ngcontent-%COMP%]   .fa-clock[_ngcontent-%COMP%]{color:#ca7a14}.status-completed[_ngcontent-%COMP%]   .fa-check-circle[_ngcontent-%COMP%]{color:#23a43b}.status-aborted[_ngcontent-%COMP%]   .fa-stop-circle[_ngcontent-%COMP%], .status-unknown[_ngcontent-%COMP%]   .fa-question-circle[_ngcontent-%COMP%]{color:#4d4d4d}"]}),XJ),sX=[{path:"",component:rX},{path:"home",component:rX},{path:"**",redirectTo:"home"}],aX=((eX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:eX}),eX.\u0275inj=we({factory:function(e){return new(e||eX)},imports:[[xk.forRoot(sX)],xk]}),eX),oX=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=Tt({type:e}),e.\u0275inj=we({factory:function(t){return new(t||e)},imports:[[Ef,aX,Lv,w_,xk]]}),e}();function lX(e,t,n,i){return new(n||(n=Promise))((function(r,s){function a(e){try{l(i.next(e))}catch(t){s(t)}}function o(e){try{l(i.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))}var uX=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new cX(e))}}]),e}(),cX=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i;return _classCallCheck(this,n),(i=t.call(this,e)).hasFirst=!1,i.observables=[],i.subscriptions=[],i}return _createClass(n,[{key:"_next",value:function(e){this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var i=e[n],r=K(this,i,i,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}},{key:"notifyNext",value:function(e,t,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==n){var a=this.subscriptions[s];a.unsubscribe(),this.remove(a)}this.subscriptions=null}this.destination.next(t)}}]),n}(W),hX=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),fX=function(){function e(t,n,i,r){_classCallCheck(this,e),this.waitFor=t,this.absoluteTimeout=n,this.withObservable=i,this.scheduler=r}return _createClass(e,[{key:"call",value:function(e,t){return t.subscribe(new dX(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}]),e}(),dX=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a){var o;return _classCallCheck(this,n),(o=t.call(this,e)).absoluteTimeout=i,o.waitFor=r,o.withObservable=s,o.scheduler=a,o.action=null,o.scheduleTimeout(),o}return _createClass(n,[{key:"scheduleTimeout",value:function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(n.dispatchTimeout,this.waitFor,this))}},{key:"_next",value:function(e){this.absoluteTimeout||this.scheduleTimeout(),_get(_getPrototypeOf(n.prototype),"_next",this).call(this,e)}},{key:"_unsubscribe",value:function(){this.action=null,this.scheduler=null,this.withObservable=null}}],[{key:"dispatchTimeout",value:function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add(K(e,t))}}]),n}(W),pX=n("gfpf"),vX=function e(){_classCallCheck(this,e)},gX=function e(){_classCallCheck(this,e)};function mX(e){var t=e.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function yX(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}var kX,bX,CX,wX=function e(){_classCallCheck(this,e)},_X=((kX=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getHashFragmentParams",value:function(e){var t=e||window.location.hash;if(0!==(t=decodeURIComponent(t)).indexOf("#"))return{};var n=t.indexOf("?");return t=t.substr(n>-1?n+1:1),this.parseQueryString(t)}},{key:"parseQueryString",value:function(e){var t,n,i,r,s,a,o,l={};if(null===e)return l;t=e.split("&");for(var u=0;u<t.length;u++)-1===(i=(n=t[u]).indexOf("="))?(r=n,s=null):(r=n.substr(0,i),s=n.substr(i+1)),a=decodeURIComponent(r),o=decodeURIComponent(s),"/"===a.substr(0,1)&&(a=a.substr(1)),l[a]=o;return l}}]),e}()).\u0275fac=function(e){return new(e||kX)},kX.\u0275prov=Ce({token:kX,factory:kX.\u0275fac}),kX),SX=function e(t){_classCallCheck(this,e),this.type=t},xX=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,n),(i=t.call(this,e)).info=r,i}return n}(SX),EX=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return _classCallCheck(this,n),(i=t.call(this,e)).info=r,i}return n}(SX),IX=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i){var r,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return _classCallCheck(this,n),(r=t.call(this,e)).reason=i,r.params=s,r}return n}(SX),TX=function e(t){_classCallCheck(this,e),this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.openUri=function(e){location.href=e},t&&Object.assign(this,t)},FX=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"encodeKey",value:function(e){return encodeURIComponent(e)}},{key:"encodeValue",value:function(e){return encodeURIComponent(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}(),AX=function e(){_classCallCheck(this,e)},DX=((bX=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,r,s,a,o,l,u){var c;_classCallCheck(this,n),(c=t.call(this)).ngZone=e,c.http=i,c.config=a,c.urlHelper=o,c.logger=l,c.crypto=u,c.discoveryDocumentLoaded=!1,c.state="",c.eventsSubject=new M,c.discoveryDocumentLoadedSubject=new M,c.grantTypesSupported=[],c.inImplicitFlow=!1,c.debug("angular-oauth2-oidc v8-beta"),c.discoveryDocumentLoaded$=c.discoveryDocumentLoadedSubject.asObservable(),c.events=c.eventsSubject.asObservable(),s&&(c.tokenValidationHandler=s),a&&c.configure(a);try{r?c.setStorage(r):"undefined"!=typeof sessionStorage&&c.setStorage(sessionStorage)}catch(h){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",h)}return c.setupRefreshTimer(),c}return _createClass(n,[{key:"configure",value:function(e){Object.assign(this,new TX,e),this.config=Object.assign({},new TX,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}},{key:"configChanged",value:function(){this.setupRefreshTimer()}},{key:"restartSessionChecksIfStillLoggedIn",value:function(){this.hasValidIdToken()&&this.initSessionCheck()}},{key:"restartRefreshTimerIfStillLoggedIn",value:function(){this.setupExpirationTimers()}},{key:"setupSessionCheck",value:function(){var e=this;this.events.pipe(tg((function(e){return"token_received"===e.type}))).subscribe((function(t){e.initSessionCheck()}))}},{key:"setupAutomaticSilentRefresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!0;this.events.pipe(Pg((function(e){"token_received"===e.type?r=!0:"logout"===e.type&&(r=!1)})),tg((function(e){return"token_expires"===e.type}))).subscribe((function(s){null!=n&&"any"!==n&&s.info!==n||!r||e.refreshInternal(t,i).catch((function(t){e.debug("Automatic silent refresh did not work")}))})),this.restartRefreshTimerIfStillLoggedIn()}},{key:"refreshInternal",value:function(e,t){return"code"===this.responseType?this.refreshToken():this.silentRefresh(e,t)}},{key:"loadDiscoveryDocumentAndTryLogin",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.loadDiscoveryDocument().then((function(n){return e.tryLogin(t)}))}},{key:"loadDiscoveryDocumentAndLogin",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.loadDiscoveryDocumentAndTryLogin(t).then((function(t){return!(!e.hasValidIdToken()||!e.hasValidAccessToken())||(e.initImplicitFlow(),!1)}))}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.showDebugInformation&&this.logger.debug.apply(console,t)}},{key:"validateUrlFromDiscoveryDocument",value:function(e){var t=[],n=this.validateUrlForHttps(e),i=this.validateUrlAgainstIssuer(e);return n||t.push("https for all urls required. Also for urls received by discovery."),i||t.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),t}},{key:"validateUrlForHttps",value:function(e){if(!e)return!0;var t=e.toLowerCase();return!1===this.requireHttps||!(!t.match(/^http:\/\/localhost($|[:\/])/)&&!t.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps)||t.startsWith("https://")}},{key:"validateUrlAgainstIssuer",value:function(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}},{key:"setupRefreshTimer",value:function(){var e=this;"undefined"!=typeof window?(this.hasValidIdToken()&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.events.pipe(tg((function(e){return"token_received"===e.type}))).subscribe((function(t){e.clearAccessTokenTimer(),e.clearIdTokenTimer(),e.setupExpirationTimers()}))):this.debug("timer not supported on this plattform")}},{key:"setupExpirationTimers",value:function(){var e=this.getIdTokenExpiration()||Number.MAX_VALUE,t=(this.getAccessTokenExpiration()||Number.MAX_VALUE)<=e;this.hasValidAccessToken()&&t&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&!t&&this.setupIdTokenTimer()}},{key:"setupAccessTokenTimer",value:function(){var e=this,t=this.getAccessTokenExpiration(),n=this.getAccessTokenStoredAt(),i=this.calcTimeout(n,t);this.ngZone.runOutsideAngular((function(){e.accessTokenTimeoutSubscription=qv(new EX("token_expires","access_token")).pipe(hC(i)).subscribe((function(t){e.ngZone.run((function(){e.eventsSubject.next(t)}))}))}))}},{key:"setupIdTokenTimer",value:function(){var e=this,t=this.getIdTokenExpiration(),n=this.getIdTokenStoredAt(),i=this.calcTimeout(n,t);this.ngZone.runOutsideAngular((function(){e.idTokenTimeoutSubscription=qv(new EX("token_expires","id_token")).pipe(hC(i)).subscribe((function(t){e.ngZone.run((function(){e.eventsSubject.next(t)}))}))}))}},{key:"clearAccessTokenTimer",value:function(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}},{key:"clearIdTokenTimer",value:function(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}},{key:"calcTimeout",value:function(e,t){var n=Date.now();return Math.max(0,(t-e)*this.timeoutFactor-(n-e))}},{key:"setStorage",value:function(e){this._storage=e,this.configChanged()}},{key:"loadDiscoveryDocument",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(n,i){t||((t=e.issuer||"").endsWith("/")||(t+="/"),t+=".well-known/openid-configuration"),e.validateUrlForHttps(t)?e.http.get(t).subscribe((function(t){if(!e.validateDiscoveryDocument(t))return e.eventsSubject.next(new IX("discovery_document_validation_error",null)),void i("discovery_document_validation_error");e.loginUrl=t.authorization_endpoint,e.logoutUrl=t.end_session_endpoint||e.logoutUrl,e.grantTypesSupported=t.grant_types_supported,e.issuer=t.issuer,e.tokenEndpoint=t.token_endpoint,e.userinfoEndpoint=t.userinfo_endpoint,e.jwksUri=t.jwks_uri,e.sessionCheckIFrameUrl=t.check_session_iframe||e.sessionCheckIFrameUrl,e.discoveryDocumentLoaded=!0,e.discoveryDocumentLoadedSubject.next(t),e.sessionChecksEnabled&&e.restartSessionChecksIfStillLoggedIn(),e.loadJwks().then((function(i){var r=new xX("discovery_document_loaded",{discoveryDocument:t,jwks:i});e.eventsSubject.next(r),n(r)})).catch((function(t){e.eventsSubject.next(new IX("discovery_document_load_error",t)),i(t)}))}),(function(t){e.logger.error("error loading discovery document",t),e.eventsSubject.next(new IX("discovery_document_load_error",t)),i(t)})):i("issuer must use https, or config value for property requireHttps must allow http")}))}},{key:"loadJwks",value:function(){var e=this;return new Promise((function(t,n){e.jwksUri?e.http.get(e.jwksUri).subscribe((function(n){e.jwks=n,e.eventsSubject.next(new xX("discovery_document_loaded")),t(n)}),(function(t){e.logger.error("error loading jwks",t),e.eventsSubject.next(new IX("jwks_load_error",t)),n(t)})):t(null)}))}},{key:"validateDiscoveryDocument",value:function(e){var t;return this.skipIssuerCheck||e.issuer===this.issuer?(t=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint)).length>0?(this.logger.error("error validating authorization_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint)).length>0?(this.logger.error("error validating end_session_endpoint in discovery document",t),!1):((t=this.validateUrlFromDiscoveryDocument(e.token_endpoint)).length>0&&this.logger.error("error validating token_endpoint in discovery document",t),(t=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint)).length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.jwks_uri)).length>0?(this.logger.error("error validating jwks_uri in discovery document",t),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0)):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}},{key:"fetchTokenUsingPasswordFlowAndLoadUserProfile",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new NQ;return this.fetchTokenUsingPasswordFlow(e,t,i).then((function(){return n.loadUserProfile()}))}},{key:"loadUserProfile",value:function(){var e=this;if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((function(t,n){var i=(new NQ).set("Authorization","Bearer "+e.getAccessToken());e.http.get(e.userinfoEndpoint,{headers:i}).subscribe((function(i){e.debug("userinfo received",i);var r=e.getIdentityClaims()||{};e.skipSubjectCheck||!e.oidc||r.sub&&i.sub===r.sub?(i=Object.assign({},r,i),e._storage.setItem("id_token_claims_obj",JSON.stringify(i)),e.eventsSubject.next(new xX("user_profile_loaded")),t(i)):n("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false")}),(function(t){e.logger.error("error loading user info",t),e.eventsSubject.next(new IX("user_profile_load_error",t)),n(t)}))}))}},{key:"fetchTokenUsingPasswordFlow",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new NQ;if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((function(r,s){var a=new HQ({encoder:new FX}).set("grant_type","password").set("scope",n.scope).set("username",e).set("password",t);if(n.useHttpBasicAuth){var o=btoa("".concat(n.clientId,":").concat(n.dummyClientSecret));i=i.set("Authorization","Basic "+o)}if(n.useHttpBasicAuth||(a=a.set("client_id",n.clientId)),!n.useHttpBasicAuth&&n.dummyClientSecret&&(a=a.set("client_secret",n.dummyClientSecret)),n.customQueryParams){var l,u=_createForOfIteratorHelper(Object.getOwnPropertyNames(n.customQueryParams));try{for(u.s();!(l=u.n()).done;){var c=l.value;a=a.set(c,n.customQueryParams[c])}}catch(h){u.e(h)}finally{u.f()}}i=i.set("Content-Type","application/x-www-form-urlencoded"),n.http.post(n.tokenEndpoint,a,{headers:i}).subscribe((function(e){n.debug("tokenResponse",e),n.storeAccessTokenResponse(e.access_token,e.refresh_token,e.expires_in,e.scope),n.eventsSubject.next(new xX("token_received")),r(e)}),(function(e){n.logger.error("Error performing password flow",e),n.eventsSubject.next(new IX("token_error",e)),s(e)}))}))}},{key:"refreshToken",value:function(){var e=this;if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((function(t,n){var i=(new HQ).set("grant_type","refresh_token").set("client_id",e.clientId).set("scope",e.scope).set("refresh_token",e._storage.getItem("refresh_token"));if(e.dummyClientSecret&&(i=i.set("client_secret",e.dummyClientSecret)),e.customQueryParams){var r,s=_createForOfIteratorHelper(Object.getOwnPropertyNames(e.customQueryParams));try{for(s.s();!(r=s.n()).done;){var a=r.value;i=i.set(a,e.customQueryParams[a])}}catch(l){s.e(l)}finally{s.f()}}var o=(new NQ).set("Content-Type","application/x-www-form-urlencoded");e.http.post(e.tokenEndpoint,i,{headers:o}).pipe(xg((function(t){return t.id_token?J(e.processIdToken(t.id_token,t.access_token,!0)).pipe(Pg((function(t){return e.storeIdToken(t)})),$((function(e){return t}))):qv(t)}))).subscribe((function(n){e.debug("refresh tokenResponse",n),e.storeAccessTokenResponse(n.access_token,n.refresh_token,n.expires_in,n.scope),e.eventsSubject.next(new xX("token_received")),e.eventsSubject.next(new xX("token_refreshed")),t(n)}),(function(t){e.logger.error("Error performing password flow",t),e.eventsSubject.next(new IX("token_refresh_error",t)),n(t)}))}))}},{key:"removeSilentRefreshEventListener",value:function(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}},{key:"setupSilentRefreshEventListener",value:function(){var e=this;this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=function(t){var n=e.processMessageEventMessage(t);e.tryLogin({customHashFragment:n,preventClearHashAfterLogin:!0,onLoginError:function(t){e.eventsSubject.next(new IX("silent_refresh_error",t))},onTokenReceived:function(){e.eventsSubject.next(new xX("silently_refreshed"))}}).catch((function(t){return e.debug("tryLogin during silent refresh failed",t)}))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}},{key:"silentRefresh",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(t.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");if("undefined"==typeof document)throw new Error("silent refresh is not supported on this platform");var r=document.getElementById(this.silentRefreshIFrameName);r&&document.body.removeChild(r),this.silentRefreshSubject=i.sub;var s=document.createElement("iframe");return s.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,n,t).then((function(t){s.setAttribute("src",t),e.silentRefreshShowIFrame||(s.style.display="none"),document.body.appendChild(s)})),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length){if(!m(t[0]))return t[0];t=t[0]}return ie(t,void 0).lift(new uX)}([this.events.pipe(tg((function(e){return e instanceof IX})),wg()),this.events.pipe(tg((function(e){return"silently_refreshed"===e.type})),wg()),qv(new IX("silent_refresh_timeout",null)).pipe(hC(this.silentRefreshTimeout))]).pipe(Pg((function(t){"silent_refresh_timeout"===t.type&&e.eventsSubject.next(t)})),$((function(e){if(e instanceof IX)throw e;return e}))).toPromise()}},{key:"initImplicitFlowInPopup",value:function(e){var t=this;return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then((function(n){return new Promise((function(i,r){var s=window.open(n,"_blank",t.calculatePopupFeatures(e)),a=function(){window.removeEventListener("message",o),s.close(),s=null},o=function(e){var n=t.processMessageEventMessage(e);t.tryLogin({customHashFragment:n,preventClearHashAfterLogin:!0}).then((function(){a(),i()}),(function(e){a(),r(e)}))};window.addEventListener("message",o)}))}))}},{key:"calculatePopupFeatures",value:function(e){var t=e.height||470,n=e.width||500,i=screen.width/2-n/2;return"location=no,toolbar=no,width=".concat(n,",height=").concat(t,",top=").concat(screen.height/2-t/2,",left=").concat(i)}},{key:"processMessageEventMessage",value:function(e){var t="#";if(this.silentRefreshMessagePrefix&&(t+=this.silentRefreshMessagePrefix),e&&e.data&&"string"==typeof e.data){var n=e.data;return n.startsWith(t)?"#"+n.substr(t.length):void 0}}},{key:"canPerformSessionCheck",value:function(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?"undefined"!=typeof document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))}},{key:"setupSessionCheckEventListener",value:function(){var e=this;this.removeSessionCheckEventListener(),this.sessionCheckEventListener=function(t){var n=t.origin.toLowerCase(),i=e.issuer.toLowerCase();switch(e.debug("sessionCheckEventListener"),i.startsWith(n)||e.debug("sessionCheckEventListener","wrong origin",n,"expected",i),t.data){case"unchanged":e.handleSessionUnchanged();break;case"changed":e.ngZone.run((function(){e.handleSessionChange()}));break;case"error":e.ngZone.run((function(){e.handleSessionError()}))}e.debug("got info from session check inframe",t)},this.ngZone.runOutsideAngular((function(){window.addEventListener("message",e.sessionCheckEventListener)}))}},{key:"handleSessionUnchanged",value:function(){this.debug("session check","session unchanged")}},{key:"handleSessionChange",value:function(){var e=this;this.eventsSubject.next(new EX("session_changed")),this.stopSessionCheckTimer(),this.silentRefreshRedirectUri?(this.silentRefresh().catch((function(t){return e.debug("silent refresh failed after session changed")})),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new EX("session_terminated")),this.logOut(!0))}},{key:"waitForSilentRefreshAfterSessionChange",value:function(){var e=this;this.events.pipe(tg((function(e){return"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type})),wg()).subscribe((function(t){"silently_refreshed"!==t.type&&(e.debug("silent refresh did not work after session changed"),e.eventsSubject.next(new EX("session_terminated")),e.logOut(!0))}))}},{key:"handleSessionError",value:function(){this.stopSessionCheckTimer(),this.eventsSubject.next(new EX("session_error"))}},{key:"removeSessionCheckEventListener",value:function(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}},{key:"initSessionCheck",value:function(){if(this.canPerformSessionCheck()){var e=document.getElementById(this.sessionCheckIFrameName);e&&document.body.removeChild(e);var t=document.createElement("iframe");t.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),t.setAttribute("src",this.sessionCheckIFrameUrl),t.style.display="none",document.body.appendChild(t),this.startSessionCheckTimer()}}},{key:"startSessionCheckTimer",value:function(){var e=this;this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular((function(){e.sessionCheckTimer=setInterval(e.checkSession.bind(e),e.sessionCheckIntervall)}))}},{key:"stopSessionCheckTimer",value:function(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}},{key:"checkSession",value:function(){var e=document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);var t=this.getSessionState();t||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+t,this.issuer)}},{key:"createLoginUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return lX(this,void 0,void 0,regeneratorRuntime.mark((function s(){var a,o,l,u,c,h,f,d,p,v,g,m,y,k,b;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a=n||this.redirectUri,s.next=3,this.createAndSaveNonce();case 3:if(o=s.sent,e=e?o+this.config.nonceStateSeparator+e:o,this.requestAccessToken||this.oidc){s.next=6;break}throw new Error("Either requestAccessToken or oidc or both must be true");case 6:if(this.responseType=this.config.responseType?this.config.responseType:this.oidc&&this.requestAccessToken?"id_token token":this.oidc&&!this.requestAccessToken?"id_token":"token",l=this.loginUrl.indexOf("?")>-1?"&":"?",u=this.scope,this.oidc&&!u.match(/(^|\s)openid($|\s)/)&&(u="openid "+u),c=this.loginUrl+l+"response_type="+encodeURIComponent(this.responseType)+"&client_id="+encodeURIComponent(this.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(a)+"&scope="+encodeURIComponent(u),"code"!==this.responseType||this.disablePKCE){s.next=19;break}return s.next=14,this.createChallangeVerifierPairForPKCE();case 14:h=s.sent,f=_slicedToArray(h,2),d=f[0],p=f[1],this._storage.setItem("PKCI_verifier",p),c+="&code_challenge="+d,c+="&code_challenge_method=S256";case 19:for(t&&(c+="&login_hint="+encodeURIComponent(t)),this.resource&&(c+="&resource="+encodeURIComponent(this.resource)),this.oidc&&(c+="&nonce="+encodeURIComponent(o)),i&&(c+="&prompt=none"),v=0,g=Object.keys(r);v<g.length;v++)m=g[v],c+="&"+encodeURIComponent(m)+"="+encodeURIComponent(r[m]);if(this.customQueryParams){y=_createForOfIteratorHelper(Object.getOwnPropertyNames(this.customQueryParams));try{for(y.s();!(k=y.n()).done;)b=k.value,c+="&"+b+"="+encodeURIComponent(this.customQueryParams[b])}catch(C){y.e(C)}finally{y.f()}}return s.abrupt("return",c);case 23:case"end":return s.stop()}}),s,this)})))}},{key:"initImplicitFlowInternal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!this.inImplicitFlow){if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use https, or config value for property requireHttps must allow http");var i={},r=null;"string"==typeof n?r=n:"object"==typeof n&&(i=n),this.createLoginUrl(t,r,null,!1,i).then(this.config.openUri).catch((function(t){console.error("Error in initImplicitFlow",t),e.inImplicitFlow=!1}))}}},{key:"initImplicitFlow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";""!==this.loginUrl?this.initImplicitFlowInternal(t,n):this.events.pipe(tg((function(e){return"discovery_document_loaded"===e.type}))).subscribe((function(i){return e.initImplicitFlowInternal(t,n)}))}},{key:"resetImplicitFlow",value:function(){this.inImplicitFlow=!1}},{key:"callOnTokenReceivedIfExists",value:function(e){if(e.onTokenReceived){var t={idClaims:this.getIdentityClaims(),idToken:this.getIdToken(),accessToken:this.getAccessToken(),state:this.state};e.onTokenReceived(t)}}},{key:"storeAccessTokenResponse",value:function(e,t,n,i){if(this._storage.setItem("access_token",e),i&&this._storage.setItem("granted_scopes",JSON.stringify(i.split("+"))),this._storage.setItem("access_token_stored_at",""+Date.now()),n){var r=1e3*n,s=(new Date).getTime()+r;this._storage.setItem("expires_at",""+s)}t&&this._storage.setItem("refresh_token",t)}},{key:"tryLogin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"code"===this.config.responseType?this.tryLoginCodeFlow().then((function(e){return!0})):this.tryLoginImplicitFlow(e)}},{key:"parseQueryString",value:function(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}},{key:"tryLoginCodeFlow",value:function(){var e=this,t=this.parseQueryString(window.location.search),n=t.code,i=t.state,r=location.href.replace(/[&\?]code=[^&\$]*/,"").replace(/[&\?]scope=[^&\$]*/,"").replace(/[&\?]state=[^&\$]*/,"").replace(/[&\?]session_state=[^&\$]*/,"");history.replaceState(null,window.name,r);var s=_slicedToArray(this.parseState(i),2),a=s[0],o=s[1];if(this.state=o,t.error){this.debug("error trying to login"),this.handleLoginError({},t);var l=new IX("code_error",{},t);return this.eventsSubject.next(l),Promise.reject(l)}if(!a)return Promise.resolve();if(!this.validateNonce(a)){var u=new IX("invalid_nonce_in_state",null);return this.eventsSubject.next(u),Promise.reject(u)}return n?new Promise((function(t,i){e.getTokenFromCode(n).then((function(e){t()})).catch((function(e){i(e)}))})):Promise.resolve()}},{key:"getTokenFromCode",value:function(e){var t=(new HQ).set("grant_type","authorization_code").set("code",e).set("redirect_uri",this.redirectUri);if(!this.disablePKCE){var n=this._storage.getItem("PKCI_verifier");n?t=t.set("code_verifier",n):console.warn("No PKCI verifier found in oauth storage!")}return this.fetchAndProcessToken(t)}},{key:"fetchAndProcessToken",value:function(e){var t=this,n=(new NQ).set("Content-Type","application/x-www-form-urlencoded");if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use Http. Also check property requireHttps.");if(this.useHttpBasicAuth){var i=btoa("".concat(this.clientId,":").concat(this.dummyClientSecret));n=n.set("Authorization","Basic "+i)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((function(i,r){if(t.customQueryParams){var s,a=_createForOfIteratorHelper(Object.getOwnPropertyNames(t.customQueryParams));try{for(a.s();!(s=a.n()).done;){var o=s.value;e=e.set(o,t.customQueryParams[o])}}catch(l){a.e(l)}finally{a.f()}}t.http.post(t.tokenEndpoint,e,{headers:n}).subscribe((function(e){t.debug("refresh tokenResponse",e),t.storeAccessTokenResponse(e.access_token,e.refresh_token,e.expires_in,e.scope),t.oidc&&e.id_token?t.processIdToken(e.id_token,e.access_token).then((function(n){t.storeIdToken(n),t.eventsSubject.next(new xX("token_received")),t.eventsSubject.next(new xX("token_refreshed")),i(e)})).catch((function(e){t.eventsSubject.next(new IX("token_validation_error",e)),console.error("Error validating tokens"),console.error(e),r(e)})):(t.eventsSubject.next(new xX("token_received")),t.eventsSubject.next(new xX("token_refreshed")),i(e))}),(function(e){console.error("Error getting token",e),t.eventsSubject.next(new IX("token_refresh_error",e)),r(e)}))}))}},{key:"tryLoginImplicitFlow",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e=(n=n||{}).customHashFragment?this.urlHelper.getHashFragmentParams(n.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",e);var i=e.state,r=this.parseState(i),s=_slicedToArray(r,2),a=s[0],o=s[1];if(this.state=o,e.error){this.debug("error trying to login"),this.handleLoginError(n,e);var l=new IX("token_error",{},e);return this.eventsSubject.next(l),Promise.reject(l)}var u=e.access_token,c=e.id_token,h=e.session_state,f=e.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!u)return Promise.resolve(!1);if(this.requestAccessToken&&!n.disableOAuth2StateCheck&&!i)return Promise.resolve(!1);if(this.oidc&&!c)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!h&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!n.disableOAuth2StateCheck&&!this.validateNonce(a)){var d=new IX("invalid_nonce_in_state",null);return this.eventsSubject.next(d),Promise.reject(d)}return this.requestAccessToken&&this.storeAccessTokenResponse(u,null,e.expires_in||this.fallbackAccessTokenExpirationTimeInSec,f),this.oidc?this.processIdToken(c,u).then((function(e){return n.validationHandler?n.validationHandler({accessToken:u,idClaims:e.idTokenClaims,idToken:e.idToken,state:i}).then((function(t){return e})):e})).then((function(e){return t.storeIdToken(e),t.storeSessionState(h),t.clearHashAfterLogin&&(location.hash=""),t.eventsSubject.next(new xX("token_received")),t.callOnTokenReceivedIfExists(n),t.inImplicitFlow=!1,!0})).catch((function(e){return t.eventsSubject.next(new IX("token_validation_error",e)),t.logger.error("Error validating tokens"),t.logger.error(e),Promise.reject(e)})):(this.eventsSubject.next(new xX("token_received")),this.clearHashAfterLogin&&!n.preventClearHashAfterLogin&&(location.hash=""),this.callOnTokenReceivedIfExists(n),Promise.resolve(!0))}},{key:"parseState",value:function(e){var t=e,n="";if(e){var i=e.indexOf(this.config.nonceStateSeparator);i>-1&&(t=e.substr(0,i),n=e.substr(i+this.config.nonceStateSeparator.length))}return[t,n]}},{key:"validateNonce",value:function(e){var t=this._storage.getItem("nonce");return t===e||(console.error("Validating access_token failed, wrong state/nonce.",t,e),!1)}},{key:"storeIdToken",value:function(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+Date.now())}},{key:"storeSessionState",value:function(e){this._storage.setItem("session_state",e)}},{key:"getSessionState",value:function(){return this._storage.getItem("session_state")}},{key:"handleLoginError",value:function(e,t){e.onLoginError&&e.onLoginError(t),this.clearHashAfterLogin&&(location.hash="")}},{key:"processIdToken",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.split("."),s=mX(this.padBase64(r[0])),a=JSON.parse(s),o=mX(this.padBase64(r[1])),l=JSON.parse(o),u=this._storage.getItem("nonce");if(Array.isArray(l.aud)){if(l.aud.every((function(e){return e!==n.clientId}))){var c="Wrong audience: "+l.aud.join(",");return this.logger.warn(c),Promise.reject(c)}}else if(l.aud!==this.clientId){var h="Wrong audience: "+l.aud;return this.logger.warn(h),Promise.reject(h)}if(!l.sub){var f="No sub claim in id_token";return this.logger.warn(f),Promise.reject(f)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==l.sub){var d="After refreshing, we got an id_token for another user (sub). Expected sub: ".concat(this.silentRefreshSubject,", received sub: ").concat(l.sub);return this.logger.warn(d),Promise.reject(d)}if(!l.iat){var p="No iat claim in id_token";return this.logger.warn(p),Promise.reject(p)}if(!this.skipIssuerCheck&&l.iss!==this.issuer){var v="Wrong issuer: "+l.iss;return this.logger.warn(v),Promise.reject(v)}if(!i&&l.nonce!==u){var g="Wrong nonce: "+l.nonce;return this.logger.warn(g),Promise.reject(g)}if(!this.disableAtHashCheck&&this.requestAccessToken&&!l.at_hash){var m="An at_hash is needed!";return this.logger.warn(m),Promise.reject(m)}var y=Date.now(),k=1e3*l.iat,b=1e3*l.exp,C=1e3*(this.clockSkewInSec||600);if(k-C>=y||b+C<=y){var w="Token has expired";return console.error(w),console.error({now:y,issuedAtMSec:k,expiresAtMSec:b}),Promise.reject(w)}var _={accessToken:t,idToken:e,jwks:this.jwks,idTokenClaims:l,idTokenHeader:a,loadKeys:function(){return n.loadJwks()}};return this.checkAtHash(_).then((function(t){return n.disableAtHashCheck||!n.requestAccessToken||t?n.checkSignature(_).then((function(t){return{idToken:e,idTokenClaims:l,idTokenClaimsJson:o,idTokenHeader:a,idTokenHeaderJson:s,idTokenExpiresAt:b}})):(n.logger.warn("Wrong at_hash"),Promise.reject("Wrong at_hash"))}))}},{key:"getIdentityClaims",value:function(){var e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}},{key:"getGrantedScopes",value:function(){var e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}},{key:"getIdToken",value:function(){return this._storage?this._storage.getItem("id_token"):null}},{key:"padBase64",value:function(e){for(;e.length%4!=0;)e+="=";return e}},{key:"getAccessToken",value:function(){return this._storage?this._storage.getItem("access_token"):null}},{key:"getRefreshToken",value:function(){return this._storage?this._storage.getItem("refresh_token"):null}},{key:"getAccessTokenExpiration",value:function(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}},{key:"getAccessTokenStoredAt",value:function(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}},{key:"getIdTokenStoredAt",value:function(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}},{key:"getIdTokenExpiration",value:function(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}},{key:"hasValidAccessToken",value:function(){if(this.getAccessToken()){var e=this._storage.getItem("expires_at"),t=new Date;return!(e&&parseInt(e,10)<t.getTime())}return!1}},{key:"hasValidIdToken",value:function(){if(this.getIdToken()){var e=this._storage.getItem("id_token_expires_at"),t=new Date;return!(e&&parseInt(e,10)<t.getTime())}return!1}},{key:"authorizationHeader",value:function(){return"Bearer "+this.getAccessToken()}},{key:"logOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this._storage.removeItem("nonce"),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.silentRefreshSubject=null,this.eventsSubject.next(new EX("logout")),this.logoutUrl&&!e&&(t||this.postLogoutRedirectUri)){var n;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl must use https, or config value for property requireHttps must allow http");if(this.logoutUrl.indexOf("{{")>-1)n=this.logoutUrl.replace(/\{\{id_token\}\}/,t).replace(/\{\{client_id\}\}/,this.clientId);else{var i=new HQ;t&&(i=i.set("id_token_hint",t));var r=this.postLogoutRedirectUri||this.redirectUri;r&&(i=i.set("post_logout_redirect_uri",r)),n=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+i.toString()}this.config.openUri(n)}}},{key:"createAndSaveNonce",value:function(){var e=this;return this.createNonce().then((function(t){return e._storage.setItem("nonce",t),t}))}},{key:"ngOnDestroy",value:function(){this.clearAccessTokenTimer(),this.clearIdTokenTimer()}},{key:"createNonce",value:function(){var e=this;return new Promise((function(t){if(e.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");var n="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-",i=45,r="",s=self.crypto||self.msCrypto;if(s)for(var a=s.getRandomValues(new Uint8Array(i));0<i--;)r+=n[63&a[i]];else for(;0<i--;)r+=n[64*Math.random()|0];t(r)}))}},{key:"checkAtHash",value:function(e){return lX(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"checkSignature",value:function(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}},{key:"initLoginFlow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"code"===this.responseType?this.initCodeFlow(e,t):this.initImplicitFlow(e,t)}},{key:"initCodeFlow",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};""!==this.loginUrl?this.initCodeFlowInternal(t,n):this.events.pipe(tg((function(e){return"discovery_document_loaded"===e.type}))).subscribe((function(i){return e.initCodeFlowInternal(t,n)}))}},{key:"initCodeFlowInternal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use Http. Also check property requireHttps.");this.createLoginUrl(e,"",null,!1,t).then((function(e){location.href=e})).catch((function(e){console.error("Error in initAuthorizationCodeFlow"),console.error(e)}))}},{key:"createChallangeVerifierPairForPKCE",value:function(){return lX(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.crypto){e.next=2;break}throw new Error("PKCI support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");case 2:return e.next=4,this.createNonce();case 4:return t=e.sent,e.t0=yX,e.next=8,this.crypto.calcHash(t,"sha-256");case 8:return e.t1=e.sent,e.t2=(0,e.t0)(e.t1),e.t3=t,e.abrupt("return",[e.t2,e.t3]);case 12:case"end":return e.stop()}}),e,this)})))}}]),n}(TX)).\u0275fac=function(e){return new(e||bX)(st(gc),st(oJ),st(gX,8),st(wX,8),st(TX,8),st(_X),st(vX),st(AX,8))},bX.\u0275prov=Ce({token:bX,factory:bX.\u0275fac}),bX),OX=function e(){_classCallCheck(this,e)},RX=function e(){_classCallCheck(this,e)},PX=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"handleError",value:function(e){return oC(e)}}]),e}(),LX=((CX=function(){function e(t,n,i,r){_classCallCheck(this,e),this.authStorage=t,this.oAuthService=n,this.errorHandler=i,this.moduleConfig=r}return _createClass(e,[{key:"checkUrl",value:function(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find((function(t){return e.startsWith(t)}))}},{key:"intercept",value:function(e,t){var n=this,i=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer?this.moduleConfig.resourceServer.allowedUrls&&!this.checkUrl(i)?t.handle(e):this.moduleConfig.resourceServer.sendAccessToken?re(qv(this.oAuthService.getAccessToken()).pipe(tg((function(e){return!!e}))),this.oAuthService.events.pipe(tg((function(e){return"token_received"===e.type})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sb;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sb;return function(i){var r=aC(e),s=r?+e-n.now():Math.abs(e);return i.lift(new fX(s,r,t,n))}}(e,oC(new hX),t)}(this.oAuthService.waitForTokenInMsec||0),gg((function(e){return qv(null)})),$((function(e){return n.oAuthService.getAccessToken()})))).pipe(kg(1),X((function(i){if(i){var r=e.headers.set("Authorization","Bearer "+i);e=e.clone({headers:r})}return t.handle(e).pipe(gg((function(e){return n.errorHandler.handleError(e)})))}))):t.handle(e).pipe(gg((function(e){return n.errorHandler.handleError(e)}))):t.handle(e)}}]),e}()).\u0275fac=function(e){return new(e||CX)(st(gX),st(DX),st(RX),st(OX,8))},CX.\u0275prov=Ce({token:CX,factory:CX.\u0275fac}),CX);function NX(){return console}function MX(){return"undefined"!=typeof sessionStorage?sessionStorage:null}var VX,HX=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.apply(this,arguments)).allowedAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],e.gracePeriodInSec=600,e}return _createClass(n,[{key:"validateSignature",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.idToken)throw new Error("Parameter idToken expected!");if(!e.idTokenHeader)throw new Error("Parameter idTokenHandler expected.");if(!e.jwks)throw new Error("Parameter jwks expected!");if(!e.jwks.keys||!Array.isArray(e.jwks.keys)||0===e.jwks.keys.length)throw new Error("Array keys in jwks missing!");var i,r=e.idTokenHeader.kid,s=e.jwks.keys,a=e.idTokenHeader.alg;if(r)i=s.find((function(e){return e.kid===r}));else{var o=this.alg2kty(a),l=s.filter((function(e){return e.kty===o&&"sig"===e.use}));if(l.length>1){var u="More than one matching key found. Please specify a kid in the id_token header.";return console.error(u),Promise.reject(u)}1===l.length&&(i=l[0])}if(!i&&!n&&e.loadKeys)return e.loadKeys().then((function(t){return e.jwks=t})).then((function(n){return t.validateSignature(e,!0)}));if(!i&&n&&!r){var c="No matching key found.";return console.error(c),Promise.reject(c)}if(!i&&n&&r){var h="expected key not found in property jwks. This property is most likely loaded with the discovery document. Expected key id (kid): "+r;return console.error(h),Promise.reject(h)}var f=pX.KEYUTIL.getKey(i);return pX.KJUR.jws.JWS.verifyJWT(e.idToken,f,{alg:this.allowedAlgorithms,gracePeriod:this.gracePeriodInSec})?Promise.resolve():Promise.reject("Signature not valid")}},{key:"alg2kty",value:function(e){switch(e.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+e)}}},{key:"calcHash",value:function(e,t){var n=new pX.KJUR.crypto.MessageDigest({alg:t}).digestString(e),i=this.toByteArrayAsString(n);return Promise.resolve(i)}},{key:"toByteArrayAsString",value:function(e){for(var t="",n=0;n<e.length;n+=2){var i=e.charAt(n)+e.charAt(n+1),r=parseInt(i,16);t+=String.fromCharCode(r)}return t}}]),n}(function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateAtHash",value:function(e){return lX(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.inferHashAlgorithm(e.idTokenHeader),t.next=3,this.calcHash(e.accessToken,n);case 3:return i=t.sent,r=yX(i.substr(0,i.length/2)),s=e.idTokenClaims.at_hash.replace(/=/g,""),t.abrupt("return",(r!==s&&(console.error("exptected at_hash: "+r),console.error("actual at_hash: "+s)),r===s));case 7:case"end":return t.stop()}}),t,this)})))}},{key:"inferHashAlgorithm",value:function(e){var t=e.alg;if(!t.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+t);return"sha-"+t.substr(2)}}]),e}()),jX=((VX=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"forRoot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"validateSignature",value:function(e){return Promise.resolve(null)}},{key:"validateAtHash",value:function(e){return Promise.resolve(!0)}}]),e}();return{ngModule:e,providers:[DX,_X,{provide:vX,useFactory:NX},{provide:gX,useFactory:MX},{provide:wX,useClass:n},{provide:AX,useClass:HX},{provide:RX,useClass:PX},{provide:OX,useValue:t},{provide:uJ,useClass:LX,multi:!0}]}}}]),e}()).\u0275mod=Tt({type:VX}),VX.\u0275inj=we({factory:function(e){return new(e||VX)},imports:[[Ef]]}),VX);function BX(){return localStorage}var zX,UX,GX,qX,KX,WX,$X,ZX,YX,QX,JX,XX=((JX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:JX}),JX.\u0275inj=we({factory:function(e){return new(e||JX)},providers:[{provide:Mv,useValue:Vv},{provide:gX,useFactory:BX}]}),JX),e0=((QX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:QX}),QX.\u0275inj=we({factory:function(e){return new(e||QX)},imports:[[Ef]]}),QX),t0=((YX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:YX}),YX.\u0275inj=we({factory:function(e){return new(e||YX)},imports:[[Ef,xb]]}),YX),n0=((ZX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:ZX}),ZX.\u0275inj=we({factory:function(e){return new(e||ZX)},imports:[[Ef]]}),ZX),i0=(($X=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:$X}),$X.\u0275inj=we({factory:function(e){return new(e||$X)},imports:[[Ef]]}),$X),r0=((WX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:WX}),WX.\u0275inj=we({factory:function(e){return new(e||WX)},imports:[[Ef]]}),WX),s0=((KX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:KX}),KX.\u0275inj=we({factory:function(e){return new(e||KX)},imports:[[Ef]]}),KX),a0=((qX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:qX}),qX.\u0275inj=we({factory:function(e){return new(e||qX)},imports:[e0,t0,n0,i0,s0,r0]}),qX),o0=((GX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:GX}),GX.\u0275inj=we({factory:function(e){return new(e||GX)},imports:[[Ef,aX,ud,Lv,w_,__,oX,xT,TT,DQ,xk,HD,Ox,a0]]}),GX),l0=((UX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:UX}),UX.\u0275inj=we({factory:function(e){return new(e||UX)},providers:[_J,SJ,Bk,SJ,jv],imports:[[Ef,wJ]]}),UX),u0=((zX=function e(){_classCallCheck(this,e)}).\u0275mod=Tt({type:zX,bootstrap:[Kk]}),zX.\u0275inj=we({factory:function(e){return new(e||zX)},providers:[{provide:oh,useClass:ph},{provide:gX,useFactory:BX}],imports:[[ud,Lv,w_,oX,XX,aX,l0,o0,jX.forRoot({resourceServer:{allowedUrls:["*"],sendAccessToken:!0}})]]}),zX);(function(){if(Oi)throw new Error("Cannot enable prod mode after platform setup.");Di=!1})(),od().bootstrapModule(u0).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);