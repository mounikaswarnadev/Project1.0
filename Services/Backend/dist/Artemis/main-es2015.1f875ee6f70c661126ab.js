(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,i){e.exports=i("zUnb")},E21t:function(e){e.exports=JSON.parse('{"a":"https://artemisdbwebapp.azurewebsites.net","b":false}')},gfpf:function(e,t){var i={userAgent:!1},n={};if(void 0===s)var s={};s.lang={extend:function(e,t,n){if(!t||!e)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var s=function(){};if(s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t),n){var r;for(r in n)e.prototype[r]=n[r];var a=function(){},l=["toString","valueOf"];try{/MSIE/.test(i.userAgent)&&(a=function(e,t){for(r=0;r<l.length;r+=1){var i=l[r],n=t[i];"function"==typeof n&&n!=Object.prototype[i]&&(e[i]=n)}})}catch(o){}a(e.prototype,n)}}};var r,o,a,l,c,h,u,d,p,f,g,m=m||(r=Math,a=(o={}).lib={},l=a.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var i=new e;return t&&i.mixIn(t),i.hasOwnProperty("init")||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),c=a.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes,s=e.sigBytes;if(this.clamp(),n%4)for(var r=0;r<s;r++)t[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else for(r=0;r<s;r+=4)t[n+r>>>2]=i[r>>>2];return this.sigBytes+=s,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=r.ceil(t/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],i=0;i<e;i+=4)t.push(4294967296*r.random()|0);return new c.init(t,e)}}),h=o.enc={},u=h.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++){var r=t[s>>>2]>>>24-s%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(i,t/2)}},d=h.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,n=[],s=0;s<i;s++)n.push(String.fromCharCode(t[s>>>2]>>>24-s%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(i,t)}},p=h.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=a.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,i=t.words,n=t.sigBytes,s=this.blockSize,o=n/(4*s),a=(o=e?r.ceil(o):r.max((0|o)-this._minBufferSize,0))*s,l=r.min(4*a,n);if(a){for(var h=0;h<a;h+=s)this._doProcessBlock(i,h);var u=i.splice(0,a);t.sigBytes-=l}return new c.init(u,l)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),a.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new g.HMAC.init(e,i).finalize(t)}}}),g=o.algo={},o);!function(e){var t,i=(t=m).lib,n=i.Base,s=i.WordArray;(t=t.x64={}).Word=n.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=n.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,i=[],n=0;n<t;n++){var r=e[n];i.push(r.high),i.push(r.low)}return s.create(i,this.sigBytes)},clone:function(){for(var e=n.clone.call(this),t=e.words=this.words.slice(0),i=t.length,s=0;s<i;s++)t[s]=t[s].clone();return e}})}(),m.lib.Cipher||function(e){var t=(p=m).lib,i=t.Base,n=t.WordArray,s=t.BufferedBlockAlgorithm,r=p.enc.Base64,o=p.algo.EvpKDF,a=t.Cipher=s.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,i,n){return("string"==typeof i?f:d).encrypt(e,t,i,n)},decrypt:function(t,i,n){return("string"==typeof i?f:d).decrypt(e,t,i,n)}}}});t.StreamCipher=a.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=p.mode={},c=function(e,t,i){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var s=0;s<i;s++)e[t+s]^=n[s]},h=(t.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();h.Encryptor=h.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;c.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),h.Decryptor=h.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,s=e.slice(t,t+n);i.decryptBlock(e,t),c.call(this,e,t,n),this._prevBlock=s}}),l=l.CBC=h,h=(p.pad={}).Pkcs7={pad:function(e,t){for(var i,s=(i=(i=4*t)-e.sigBytes%i)<<24|i<<16|i<<8|i,r=[],o=0;o<i;o+=4)r.push(s);i=n.create(r,i),e.concat(i)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},t.BlockCipher=a.extend({cfg:a.cfg.extend({mode:l,padding:h}),reset:function(){a.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else i=t.createDecryptor,this._minBufferSize=1;this._mode=i.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var u=t.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),d=(l=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?n.create([1398893684,1701076831]).concat(e).concat(t):t).toString(r)},parse:function(e){var t=(e=r.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var i=n.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return u.create({ciphertext:e,salt:i})}},t.SerializableCipher=i.extend({cfg:i.extend({format:l}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var s=e.createEncryptor(i,n);return t=s.finalize(t),u.create({ciphertext:t,key:i,iv:(s=s.cfg).iv,algorithm:e,mode:s.mode,padding:s.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,i,s){return s||(s=n.random(8)),e=o.create({keySize:t+i}).compute(e,s),i=n.create(e.words.slice(t),4*i),e.sigBytes=4*t,u.create({key:e,iv:i,salt:s})}},f=t.PasswordBasedCipher=d.extend({cfg:d.cfg.extend({kdf:p}),encrypt:function(e,t,i,n){return i=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize),n.iv=i.iv,(e=d.encrypt.call(this,e,t,i.key,n)).mixIn(i),e},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),i=n.kdf.execute(i,e.keySize,e.ivSize,t.salt),n.iv=i.iv,d.decrypt.call(this,e,t,i.key,n)}})}(),function(){for(var e=m,t=e.lib.BlockCipher,i=e.algo,n=[],s=[],r=[],o=[],a=[],l=[],c=[],h=[],u=[],d=[],p=[],f=0;256>f;f++)p[f]=128>f?f<<1:f<<1^283;var g=0,v=0;for(f=0;256>f;f++){var b;n[g]=b=(b=v^v<<1^v<<2^v<<3^v<<4)>>>8^255&b^99,s[b]=g;var y=p[g],w=p[y],C=p[w],x=257*p[b]^16843008*b;r[g]=x<<24|x>>>8,o[g]=x<<16|x>>>16,a[g]=x<<8|x>>>24,l[g]=x,c[b]=(x=16843009*C^65537*w^257*y^16843008*g)<<24|x>>>8,h[b]=x<<16|x>>>16,u[b]=x<<8|x>>>24,d[b]=x,g?(g=y^p[p[p[C^y]]],v^=p[p[v]]):g=v=1}var S=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=t.extend({_doReset:function(){for(var e=(i=this._key).words,t=i.sigBytes/4,i=4*((this._nRounds=t+6)+1),s=this._keySchedule=[],r=0;r<i;r++)if(r<t)s[r]=e[r];else{var o=s[r-1];r%t?6<t&&4==r%t&&(o=n[o>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o]):(o=n[(o=o<<8|o>>>24)>>>24]<<24|n[o>>>16&255]<<16|n[o>>>8&255]<<8|n[255&o],o^=S[r/t|0]<<24),s[r]=s[r-t]^o}for(e=this._invKeySchedule=[],t=0;t<i;t++)r=i-t,o=t%4?s[r]:s[r-4],e[t]=4>t||4>=r?o:c[n[o>>>24]]^h[n[o>>>16&255]]^u[n[o>>>8&255]]^d[n[255&o]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,r,o,a,l,n)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,c,h,u,d,s),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,s,r,o,a){for(var l=this._nRounds,c=e[t]^i[0],h=e[t+1]^i[1],u=e[t+2]^i[2],d=e[t+3]^i[3],p=4,f=1;f<l;f++){var g=n[c>>>24]^s[h>>>16&255]^r[u>>>8&255]^o[255&d]^i[p++],m=n[h>>>24]^s[u>>>16&255]^r[d>>>8&255]^o[255&c]^i[p++],v=n[u>>>24]^s[d>>>16&255]^r[c>>>8&255]^o[255&h]^i[p++];d=n[d>>>24]^s[c>>>16&255]^r[h>>>8&255]^o[255&u]^i[p++],c=g,h=m,u=v}g=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^i[p++],m=(a[h>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&c])^i[p++],v=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^i[p++],d=(a[d>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&u])^i[p++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=d},keySize:8}),e.AES=t._createHelper(i)}(),function(){function e(e,t){var i=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=i,this._lBlock^=i<<e}function t(e,t){var i=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=i,this._rBlock^=i<<e}var i,n=m,s=(i=n.lib).WordArray,r=n.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],a=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],u=r.DES=(i=i.BlockCipher).extend({_doReset:function(){for(var e=this._key.words,t=[],i=0;56>i;i++){var n=o[i]-1;t[i]=e[n>>>5]>>>31-n%32&1}for(e=this._subKeys=[],n=0;16>n;n++){var s=e[n]=[],r=l[n];for(i=0;24>i;i++)s[i/6|0]|=t[(a[i]-1+r)%28]<<31-i%6,s[4+(i/6|0)]|=t[28+(a[i+24]-1+r)%28]<<31-i%6;for(s[0]=s[0]<<1|s[0]>>>31,i=1;7>i;i++)s[i]>>>=4*(i-1)+3;s[7]=s[7]<<5|s[7]>>>27}for(t=this._invSubKeys=[],i=0;16>i;i++)t[i]=e[15-i]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(i,n,s){this._lBlock=i[n],this._rBlock=i[n+1],e.call(this,4,252645135),e.call(this,16,65535),t.call(this,2,858993459),t.call(this,8,16711935),e.call(this,1,1431655765);for(var r=0;16>r;r++){for(var o=s[r],a=this._lBlock,l=this._rBlock,u=0,d=0;8>d;d++)u|=c[d][((l^o[d])&h[d])>>>0];this._lBlock=l,this._rBlock=a^u}s=this._lBlock,this._lBlock=this._rBlock,this._rBlock=s,e.call(this,1,1431655765),t.call(this,8,16711935),t.call(this,2,858993459),e.call(this,16,65535),e.call(this,4,252645135),i[n]=this._lBlock,i[n+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=i._createHelper(u),r=r.TripleDES=i.extend({_doReset:function(){var e=this._key.words;this._des1=u.createEncryptor(s.create(e.slice(0,2))),this._des2=u.createEncryptor(s.create(e.slice(2,4))),this._des3=u.createEncryptor(s.create(e.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2}),n.TripleDES=i._createHelper(r)}(),function(){var e=m.lib.WordArray;m.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp(),e=[];for(var s=0;s<i;s+=3)for(var r=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,o=0;4>o&&s+.75*o<i;o++)e.push(n.charAt(r>>>6*(3-o)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(t){var i=t.length,n=this._map;(s=n.charAt(64))&&-1!=(s=t.indexOf(s))&&(i=s);for(var s=[],r=0,o=0;o<i;o++)if(o%4){var a=n.indexOf(t.charAt(o-1))<<o%4*2,l=n.indexOf(t.charAt(o))>>>6-o%4*2;s[r>>>2]|=(a|l)<<24-r%4*8,r++}return e.create(s,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function t(e,t,i,n,s,r,o){return((e=e+(t&i|~t&n)+s+o)<<r|e>>>32-r)+t}function i(e,t,i,n,s,r,o){return((e=e+(t&n|i&~n)+s+o)<<r|e>>>32-r)+t}function n(e,t,i,n,s,r,o){return((e=e+(t^i^n)+s+o)<<r|e>>>32-r)+t}function s(e,t,i,n,s,r,o){return((e=e+(i^(t|~n))+s+o)<<r|e>>>32-r)+t}for(var r=m,o=(l=r.lib).WordArray,a=l.Hasher,l=r.algo,c=[],h=0;64>h;h++)c[h]=4294967296*e.abs(e.sin(h+1))|0;l=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,r){for(var o=0;16>o;o++)e[a=r+o]=16711935&((l=e[a])<<8|l>>>24)|4278255360&(l<<24|l>>>8);var a,l=e[r+1],h=e[r+2],u=e[r+3],d=e[r+4],p=e[r+5],f=e[r+6],g=e[r+7],m=e[r+8],v=e[r+9],b=e[r+10],y=e[r+11],w=e[r+12],C=e[r+13],x=e[r+14],S=e[r+15],k=t(k=(o=this._hash.words)[0],I=o[1],E=o[2],_=o[3],a=e[r+0],7,c[0]),_=t(_,k,I,E,l,12,c[1]),E=t(E,_,k,I,h,17,c[2]),I=t(I,E,_,k,u,22,c[3]);k=t(k,I,E,_,d,7,c[4]),_=t(_,k,I,E,p,12,c[5]),E=t(E,_,k,I,f,17,c[6]),I=t(I,E,_,k,g,22,c[7]),k=t(k,I,E,_,m,7,c[8]),_=t(_,k,I,E,v,12,c[9]),E=t(E,_,k,I,b,17,c[10]),I=t(I,E,_,k,y,22,c[11]),k=t(k,I,E,_,w,7,c[12]),_=t(_,k,I,E,C,12,c[13]),E=t(E,_,k,I,x,17,c[14]),k=i(k,I=t(I,E,_,k,S,22,c[15]),E,_,l,5,c[16]),_=i(_,k,I,E,f,9,c[17]),E=i(E,_,k,I,y,14,c[18]),I=i(I,E,_,k,a,20,c[19]),k=i(k,I,E,_,p,5,c[20]),_=i(_,k,I,E,b,9,c[21]),E=i(E,_,k,I,S,14,c[22]),I=i(I,E,_,k,d,20,c[23]),k=i(k,I,E,_,v,5,c[24]),_=i(_,k,I,E,x,9,c[25]),E=i(E,_,k,I,u,14,c[26]),I=i(I,E,_,k,m,20,c[27]),k=i(k,I,E,_,C,5,c[28]),_=i(_,k,I,E,h,9,c[29]),E=i(E,_,k,I,g,14,c[30]),k=n(k,I=i(I,E,_,k,w,20,c[31]),E,_,p,4,c[32]),_=n(_,k,I,E,m,11,c[33]),E=n(E,_,k,I,y,16,c[34]),I=n(I,E,_,k,x,23,c[35]),k=n(k,I,E,_,l,4,c[36]),_=n(_,k,I,E,d,11,c[37]),E=n(E,_,k,I,g,16,c[38]),I=n(I,E,_,k,b,23,c[39]),k=n(k,I,E,_,C,4,c[40]),_=n(_,k,I,E,a,11,c[41]),E=n(E,_,k,I,u,16,c[42]),I=n(I,E,_,k,f,23,c[43]),k=n(k,I,E,_,v,4,c[44]),_=n(_,k,I,E,w,11,c[45]),E=n(E,_,k,I,S,16,c[46]),k=s(k,I=n(I,E,_,k,h,23,c[47]),E,_,a,6,c[48]),_=s(_,k,I,E,g,10,c[49]),E=s(E,_,k,I,x,15,c[50]),I=s(I,E,_,k,p,21,c[51]),k=s(k,I,E,_,w,6,c[52]),_=s(_,k,I,E,u,10,c[53]),E=s(E,_,k,I,b,15,c[54]),I=s(I,E,_,k,l,21,c[55]),k=s(k,I,E,_,m,6,c[56]),_=s(_,k,I,E,S,10,c[57]),E=s(E,_,k,I,f,15,c[58]),I=s(I,E,_,k,C,21,c[59]),k=s(k,I,E,_,d,6,c[60]),_=s(_,k,I,E,y,10,c[61]),E=s(E,_,k,I,h,15,c[62]),I=s(I,E,_,k,v,21,c[63]),o[0]=o[0]+k|0,o[1]=o[1]+I|0,o[2]=o[2]+E|0,o[3]=o[3]+_|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;i[s>>>5]|=128<<24-s%32;var r=e.floor(n/4294967296);for(i[15+(s+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i[14+(s+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),i=(t=this._hash).words,n=0;4>n;n++)i[n]=16711935&((s=i[n])<<8|s>>>24)|4278255360&(s<<24|s>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.MD5=a._createHelper(l),r.HmacMD5=a._createHmacHelper(l)}(Math),function(){var e=m,t=(s=e.lib).WordArray,i=s.Hasher,n=[],s=e.algo.SHA1=i.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=this._hash.words,s=i[0],r=i[1],o=i[2],a=i[3],l=i[4],c=0;80>c;c++){if(16>c)n[c]=0|e[t+c];else{var h=n[c-3]^n[c-8]^n[c-14]^n[c-16];n[c]=h<<1|h>>>31}h=(s<<5|s>>>27)+l+n[c],h=20>c?h+(1518500249+(r&o|~r&a)):40>c?h+(1859775393+(r^o^a)):60>c?h+((r&o|r&a|o&a)-1894007588):h+((r^o^a)-899497514),l=a,a=o,o=r<<30|r>>>2,r=s,s=h}i[0]=i[0]+s|0,i[1]=i[1]+r|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(i/4294967296),t[15+(n+64>>>9<<4)]=i,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(s),e.HmacSHA1=i._createHmacHelper(s)}(),function(e){for(var t=m,i=(s=t.lib).WordArray,n=s.Hasher,s=t.algo,r=[],o=[],a=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var h;e:{for(var u=e.sqrt(h=l),d=2;d<=u;d++)if(!(h%d)){h=!1;break e}h=!0}h&&(8>c&&(r[c]=a(e.pow(l,.5))),o[c]=a(e.pow(l,1/3)),c++),l++}var p=[];s=s.SHA256=n.extend({_doReset:function(){this._hash=new i.init(r.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,n=i[0],s=i[1],r=i[2],a=i[3],l=i[4],c=i[5],h=i[6],u=i[7],d=0;64>d;d++){if(16>d)p[d]=0|e[t+d];else{var f=p[d-15],g=p[d-2];p[d]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[d-7]+((g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10)+p[d-16]}f=u+((l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25))+(l&c^~l&h)+o[d]+p[d],g=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&s^n&r^s&r),u=h,h=c,c=l,l=a+f|0,a=r,r=s,s=n,n=f+g|0}i[0]=i[0]+n|0,i[1]=i[1]+s|0,i[2]=i[2]+r|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0,i[5]=i[5]+c|0,i[6]=i[6]+h|0,i[7]=i[7]+u|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,s=8*t.sigBytes;return i[s>>>5]|=128<<24-s%32,i[14+(s+64>>>9<<4)]=e.floor(n/4294967296),i[15+(s+64>>>9<<4)]=n,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=n._createHelper(s),t.HmacSHA256=n._createHmacHelper(s)}(Math),function(){var e=m,t=e.lib.WordArray,i=(n=e.algo).SHA256,n=n.SHA224=i.extend({_doReset:function(){this._hash=new t.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=i._doFinalize.call(this);return e.sigBytes-=4,e}});e.SHA224=i._createHelper(n),e.HmacSHA224=i._createHmacHelper(n)}(),function(){function e(){return n.create.apply(n,arguments)}for(var t=m,i=t.lib.Hasher,n=(r=t.x64).Word,s=r.WordArray,r=t.algo,o=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],a=[],l=0;80>l;l++)a[l]=e();r=r.SHA512=i.extend({_doReset:function(){this._hash=new s.init([new n.init(1779033703,4089235720),new n.init(3144134277,2227873595),new n.init(1013904242,4271175723),new n.init(2773480762,1595750129),new n.init(1359893119,2917565137),new n.init(2600822924,725511199),new n.init(528734635,4215389547),new n.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var i,n=(i=this._hash.words)[0],s=i[1],r=i[2],l=i[3],c=i[4],h=i[5],u=i[6],d=n.high,p=n.low,f=s.high,g=s.low,m=r.high,v=r.low,b=l.high,y=l.low,w=c.high,C=c.low,x=h.high,S=h.low,k=u.high,_=u.low,E=(i=i[7]).high,I=i.low,T=d,F=p,D=f,A=g,O=m,R=v,P=b,M=y,N=w,L=C,V=x,H=S,B=k,z=_,j=E,U=I,$=0;80>$;$++){var q=a[$];if(16>$)var G=q.high=0|e[t+2*$],K=q.low=0|e[t+2*$+1];else{G=((K=(G=a[$-15]).high)>>>1|(W=G.low)<<31)^(K>>>8|W<<24)^K>>>7;var W=(W>>>1|K<<31)^(W>>>8|K<<24)^(W>>>7|K<<25),Z=((K=(Z=a[$-2]).high)>>>19|(Y=Z.low)<<13)^(K<<3|Y>>>29)^K>>>6,Y=(Y>>>19|K<<13)^(Y<<3|K>>>29)^(Y>>>6|K<<26);q.high=G=(G=(G=G+(Q=(K=a[$-7]).high)+((K=W+K.low)>>>0<W>>>0?1:0))+Z+((K+=Y)>>>0<Y>>>0?1:0))+(ie=(J=a[$-16]).high)+((K+=J=J.low)>>>0<J>>>0?1:0),q.low=K}var Q=N&V^~N&B,J=L&H^~L&z,X=(q=T&D^T&O^D&O,F&A^F&R^A&R),ee=(Y=o[$]).high,te=Y.low,ie=j+((N>>>14|L<<18)^(N>>>18|L<<14)^(N<<23|L>>>9))+((Y=U+((L>>>14|N<<18)^(L>>>18|N<<14)^(L<<23|N>>>9)))>>>0<U>>>0?1:0);j=B,U=z,B=V,z=H,V=N,H=L,N=P+(ie=(ie=(ie=ie+Q+((Y+=J)>>>0<J>>>0?1:0))+ee+((Y+=te)>>>0<te>>>0?1:0))+G+((Y+=K)>>>0<K>>>0?1:0))+((L=M+Y|0)>>>0<M>>>0?1:0)|0,P=O,M=R,O=D,R=A,D=T,A=F,T=ie+(q=(W=(T>>>28|F<<4)^(T<<30|F>>>2)^(T<<25|F>>>7))+q+((K=(Z=(F>>>28|T<<4)^(F<<30|T>>>2)^(F<<25|T>>>7))+X)>>>0<Z>>>0?1:0))+((F=Y+K|0)>>>0<Y>>>0?1:0)|0}p=n.low=p+F,n.high=d+T+(p>>>0<F>>>0?1:0),g=s.low=g+A,s.high=f+D+(g>>>0<A>>>0?1:0),v=r.low=v+R,r.high=m+O+(v>>>0<R>>>0?1:0),y=l.low=y+M,l.high=b+P+(y>>>0<M>>>0?1:0),C=c.low=C+L,c.high=w+N+(C>>>0<L>>>0?1:0),S=h.low=S+H,h.high=x+V+(S>>>0<H>>>0?1:0),_=u.low=_+z,u.high=k+B+(_>>>0<z>>>0?1:0),I=i.low=I+U,i.high=E+j+(I>>>0<U>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(i/4294967296),t[31+(n+128>>>10<<5)]=i,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=i._createHelper(r),t.HmacSHA512=i._createHmacHelper(r)}(),function(){var e=m,t=(s=e.x64).Word,i=s.WordArray,n=(s=e.algo).SHA512,s=s.SHA384=n.extend({_doReset:function(){this._hash=new i.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=n._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=n._createHelper(s),e.HmacSHA384=n._createHmacHelper(s)}(),function(){var e=m,t=(n=e.lib).WordArray,i=n.Hasher,n=e.algo,s=t.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),r=t.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),o=t.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),a=t.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),l=t.create([0,1518500249,1859775393,2400959708,2840853838]),c=t.create([1352829926,1548603684,1836072691,2053994217,0]);n=n.RIPEMD160=i.extend({_doReset:function(){this._hash=t.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var i=0;16>i;i++)e[n=t+i]=16711935&((C=e[n])<<8|C>>>24)|4278255360&(C<<24|C>>>8);var n,h,u,d,p,f,g,m,v,b,y,w,C=l.words,x=c.words,S=s.words,k=r.words,_=o.words,E=a.words;for(g=h=(n=this._hash.words)[0],m=u=n[1],v=d=n[2],b=p=n[3],y=f=n[4],i=0;80>i;i+=1)w=h+e[t+S[i]]|0,w=16>i?w+((u^d^p)+C[0]):32>i?w+((u&d|~u&p)+C[1]):48>i?w+(((u|~d)^p)+C[2]):64>i?w+((u&p|d&~p)+C[3]):w+((u^(d|~p))+C[4]),w=(w=(w|=0)<<_[i]|w>>>32-_[i])+f|0,h=f,f=p,p=d<<10|d>>>22,d=u,u=w,w=g+e[t+k[i]]|0,w=16>i?w+((m^(v|~b))+x[0]):32>i?w+((m&b|v&~b)+x[1]):48>i?w+(((m|~v)^b)+x[2]):64>i?w+((m&v|~m&b)+x[3]):w+((m^v^b)+x[4]),w=(w=(w|=0)<<E[i]|w>>>32-E[i])+y|0,g=y,y=b,b=v<<10|v>>>22,v=m,m=w;w=n[1]+d+b|0,n[1]=n[2]+p+y|0,n[2]=n[3]+f+g|0,n[3]=n[4]+h+m|0,n[4]=n[0]+u+v|0,n[0]=w},_doFinalize:function(){var e=this._data,t=e.words,i=8*this._nDataBytes,n=8*e.sigBytes;for(t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),e.sigBytes=4*(t.length+1),this._process(),t=(e=this._hash).words,i=0;5>i;i++)t[i]=16711935&((n=t[i])<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}}),e.RIPEMD160=i._createHelper(n),e.HmacRIPEMD160=i._createHmacHelper(n)}(Math),function(){var e=m.enc.Utf8;m.algo.HMAC=m.lib.Base.extend({init:function(t,i){t=this._hasher=new t.init,"string"==typeof i&&(i=e.parse(i));var n=t.blockSize,s=4*n;i.sigBytes>s&&(i=t.finalize(i)),i.clamp();for(var r=this._oKey=i.clone(),o=this._iKey=i.clone(),a=r.words,l=o.words,c=0;c<n;c++)a[c]^=1549556828,l[c]^=909522486;r.sigBytes=o.sigBytes=s,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}})}(),function(){var e,t=m,i=(e=t.lib).Base,n=e.WordArray,s=(e=t.algo).HMAC,r=e.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:e.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=s.create((h=this.cfg).hasher,e),r=n.create(),o=n.create([1]),a=r.words,l=o.words,c=h.keySize,h=h.iterations;a.length<c;){var u=i.update(t).finalize(o);i.reset();for(var d=u.words,p=d.length,f=u,g=1;g<h;g++){f=i.finalize(f),i.reset();for(var m=f.words,v=0;v<p;v++)d[v]^=m[v]}r.concat(u),l[0]++}return r.sigBytes=4*c,r}});t.PBKDF2=function(e,t,i){return r.create(i).compute(e,t)}}();var v,b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function y(e){var t,i,n="";for(t=0;t+3<=e.length;t+=3)i=parseInt(e.substring(t,t+3),16),n+=b.charAt(i>>6)+b.charAt(63&i);for(t+1==e.length?(i=parseInt(e.substring(t,t+1),16),n+=b.charAt(i<<2)):t+2==e.length&&(i=parseInt(e.substring(t,t+2),16),n+=b.charAt(i>>2)+b.charAt((3&i)<<4));(3&n.length)>0;)n+="=";return n}function w(e){var t,i,n,s="",r=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(n=b.indexOf(e.charAt(t)))<0||(0==r?(s+=I(n>>2),i=3&n,r=1):1==r?(s+=I(i<<2|n>>4),i=15&n,r=2):2==r?(s+=I(i),s+=I(n>>2),i=3&n,r=3):(s+=I(i<<2|n>>4),s+=I(15&n),r=0));return 1==r&&(s+=I(i<<2)),s}function C(e){var t,i=w(e),n=new Array;for(t=0;2*t<i.length;++t)n[t]=parseInt(i.substring(2*t,2*t+2),16);return n}function x(e,t,i){null!=e&&("number"==typeof e?this.fromNumber(e,t,i):this.fromString(e,null==t&&"string"!=typeof e?256:t))}function S(){return new x(null)}"Microsoft Internet Explorer"==i.appName?(x.prototype.am=function(e,t,i,n,s,r){for(var o=32767&t,a=t>>15;--r>=0;){var l=32767&this[e],c=this[e++]>>15,h=a*l+c*o;s=((l=o*l+((32767&h)<<15)+i[n]+(1073741823&s))>>>30)+(h>>>15)+a*c+(s>>>30),i[n++]=1073741823&l}return s},v=30):"Netscape"!=i.appName?(x.prototype.am=function(e,t,i,n,s,r){for(;--r>=0;){var o=t*this[e++]+i[n]+s;s=Math.floor(o/67108864),i[n++]=67108863&o}return s},v=26):(x.prototype.am=function(e,t,i,n,s,r){for(var o=16383&t,a=t>>14;--r>=0;){var l=16383&this[e],c=this[e++]>>14,h=a*l+c*o;s=((l=o*l+((16383&h)<<14)+i[n]+s)>>28)+(h>>14)+a*c,i[n++]=268435455&l}return s},v=28),x.prototype.DB=v,x.prototype.DM=(1<<v)-1,x.prototype.DV=1<<v,x.prototype.FV=Math.pow(2,52),x.prototype.F1=52-v,x.prototype.F2=2*v-52;var k,_,E=new Array;for(k="0".charCodeAt(0),_=0;_<=9;++_)E[k++]=_;for(k="a".charCodeAt(0),_=10;_<36;++_)E[k++]=_;for(k="A".charCodeAt(0),_=10;_<36;++_)E[k++]=_;function I(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function T(e,t){var i=E[e.charCodeAt(t)];return null==i?-1:i}function F(e){var t=S();return t.fromInt(e),t}function D(e){var t,i=1;return 0!=(t=e>>>16)&&(e=t,i+=16),0!=(t=e>>8)&&(e=t,i+=8),0!=(t=e>>4)&&(e=t,i+=4),0!=(t=e>>2)&&(e=t,i+=2),0!=(t=e>>1)&&(e=t,i+=1),i}function A(e){this.m=e}function O(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function R(e,t){return e&t}function P(e,t){return e|t}function M(e,t){return e^t}function N(e,t){return e&~t}function L(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function V(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function H(){}function B(e){return e}function z(e){this.r2=S(),this.q3=S(),x.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}A.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},A.prototype.revert=function(e){return e},A.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},A.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},A.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},O.prototype.convert=function(e){var t=S();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(x.ZERO)>0&&this.m.subTo(t,t),t},O.prototype.revert=function(e){var t=S();return e.copyTo(t),this.reduce(t),t},O.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var i=32767&e[t],n=i*this.mpl+((i*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[i=t+this.m.t]+=this.m.am(0,n,e,t,0,this.m.t);e[i]>=e.DV;)e[i]-=e.DV,e[++i]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},O.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},O.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},x.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},x.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},x.prototype.fromString=function(e,t){var i;if(16==t)i=4;else if(8==t)i=3;else if(256==t)i=8;else if(2==t)i=1;else if(32==t)i=5;else{if(4!=t)return void this.fromRadix(e,t);i=2}this.t=0,this.s=0;for(var n=e.length,s=!1,r=0;--n>=0;){var o=8==i?255&e[n]:T(e,n);o<0?"-"==e.charAt(n)&&(s=!0):(s=!1,0==r?this[this.t++]=o:r+i>this.DB?(this[this.t-1]|=(o&(1<<this.DB-r)-1)<<r,this[this.t++]=o>>this.DB-r):this[this.t-1]|=o<<r,(r+=i)>=this.DB&&(r-=this.DB))}8==i&&0!=(128&e[0])&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r)),this.clamp(),s&&x.ZERO.subTo(this,this)},x.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},x.prototype.dlShiftTo=function(e,t){var i;for(i=this.t-1;i>=0;--i)t[i+e]=this[i];for(i=e-1;i>=0;--i)t[i]=0;t.t=this.t+e,t.s=this.s},x.prototype.drShiftTo=function(e,t){for(var i=e;i<this.t;++i)t[i-e]=this[i];t.t=Math.max(this.t-e,0),t.s=this.s},x.prototype.lShiftTo=function(e,t){var i,n=e%this.DB,s=this.DB-n,r=(1<<s)-1,o=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(i=this.t-1;i>=0;--i)t[i+o+1]=this[i]>>s|a,a=(this[i]&r)<<n;for(i=o-1;i>=0;--i)t[i]=0;t[o]=a,t.t=this.t+o+1,t.s=this.s,t.clamp()},x.prototype.rShiftTo=function(e,t){t.s=this.s;var i=Math.floor(e/this.DB);if(i>=this.t)t.t=0;else{var n=e%this.DB,s=this.DB-n,r=(1<<n)-1;t[0]=this[i]>>n;for(var o=i+1;o<this.t;++o)t[o-i-1]|=(this[o]&r)<<s,t[o-i]=this[o]>>n;n>0&&(t[this.t-i-1]|=(this.s&r)<<s),t.t=this.t-i,t.clamp()}},x.prototype.subTo=function(e,t){for(var i=0,n=0,s=Math.min(e.t,this.t);i<s;)n+=this[i]-e[i],t[i++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;i<this.t;)n+=this[i],t[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<e.t;)n-=e[i],t[i++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[i++]=this.DV+n:n>0&&(t[i++]=n),t.t=i,t.clamp()},x.prototype.multiplyTo=function(e,t){var i=this.abs(),n=e.abs(),s=i.t;for(t.t=s+n.t;--s>=0;)t[s]=0;for(s=0;s<n.t;++s)t[s+i.t]=i.am(0,n[s],t,s,0,i.t);t.s=0,t.clamp(),this.s!=e.s&&x.ZERO.subTo(t,t)},x.prototype.squareTo=function(e){for(var t=this.abs(),i=e.t=2*t.t;--i>=0;)e[i]=0;for(i=0;i<t.t-1;++i){var n=t.am(i,t[i],e,2*i,0,1);(e[i+t.t]+=t.am(i+1,2*t[i],e,2*i+1,n,t.t-i-1))>=t.DV&&(e[i+t.t]-=t.DV,e[i+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(i,t[i],e,2*i,0,1)),e.s=0,e.clamp()},x.prototype.divRemTo=function(e,t,i){var n=e.abs();if(!(n.t<=0)){var s=this.abs();if(s.t<n.t)return null!=t&&t.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=S());var r=S(),o=this.s,a=e.s,l=this.DB-D(n[n.t-1]);l>0?(n.lShiftTo(l,r),s.lShiftTo(l,i)):(n.copyTo(r),s.copyTo(i));var c=r.t,h=r[c-1];if(0!=h){var u=h*(1<<this.F1)+(c>1?r[c-2]>>this.F2:0),d=this.FV/u,p=(1<<this.F1)/u,f=1<<this.F2,g=i.t,m=g-c,v=null==t?S():t;for(r.dlShiftTo(m,v),i.compareTo(v)>=0&&(i[i.t++]=1,i.subTo(v,i)),x.ONE.dlShiftTo(c,v),v.subTo(r,r);r.t<c;)r[r.t++]=0;for(;--m>=0;){var b=i[--g]==h?this.DM:Math.floor(i[g]*d+(i[g-1]+f)*p);if((i[g]+=r.am(0,b,i,m,0,c))<b)for(r.dlShiftTo(m,v),i.subTo(v,i);i[g]<--b;)i.subTo(v,i)}null!=t&&(i.drShiftTo(c,t),o!=a&&x.ZERO.subTo(t,t)),i.t=c,i.clamp(),l>0&&i.rShiftTo(l,i),o<0&&x.ZERO.subTo(i,i)}}},x.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},x.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},x.prototype.exp=function(e,t){if(e>4294967295||e<1)return x.ONE;var i=S(),n=S(),s=t.convert(this),r=D(e)-1;for(s.copyTo(i);--r>=0;)if(t.sqrTo(i,n),(e&1<<r)>0)t.mulTo(n,s,i);else{var o=i;i=n,n=o}return t.revert(i)},x.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var i,n=(1<<t)-1,s=!1,r="",o=this.t,a=this.DB-o*this.DB%t;if(o-- >0)for(a<this.DB&&(i=this[o]>>a)>0&&(s=!0,r=I(i));o>=0;)a<t?(i=(this[o]&(1<<a)-1)<<t-a,i|=this[--o]>>(a+=this.DB-t)):(i=this[o]>>(a-=t)&n,a<=0&&(a+=this.DB,--o)),i>0&&(s=!0),s&&(r+=I(i));return s?r:"0"},x.prototype.negate=function(){var e=S();return x.ZERO.subTo(this,e),e},x.prototype.abs=function(){return this.s<0?this.negate():this},x.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var i=this.t;if(0!=(t=i-e.t))return this.s<0?-t:t;for(;--i>=0;)if(0!=(t=this[i]-e[i]))return t;return 0},x.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+D(this[this.t-1]^this.s&this.DM)},x.prototype.mod=function(e){var t=S();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(x.ZERO)>0&&e.subTo(t,t),t},x.prototype.modPowInt=function(e,t){var i;return i=e<256||t.isEven()?new A(t):new O(t),this.exp(e,i)},x.ZERO=F(0),x.ONE=F(1),H.prototype.convert=B,H.prototype.revert=B,H.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i)},H.prototype.sqrTo=function(e,t){e.squareTo(t)},z.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=S();return e.copyTo(t),this.reduce(t),t},z.prototype.revert=function(e){return e},z.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},z.prototype.mulTo=function(e,t,i){e.multiplyTo(t,i),this.reduce(i)},z.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var j,U,$,q=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],G=(1<<26)/q[q.length-1];function K(){this.i=0,this.j=0,this.S=new Array}function W(){!function(e){U[$++]^=255&e,U[$++]^=e>>8&255,U[$++]^=e>>16&255,U[$++]^=e>>24&255,$>=256&&($-=256)}((new Date).getTime())}if(x.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},x.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),i=Math.pow(e,t),n=F(i),s=S(),r=S(),o="";for(this.divRemTo(n,s,r);s.signum()>0;)o=(i+r.intValue()).toString(e).substr(1)+o,s.divRemTo(n,s,r);return r.intValue().toString(e)+o},x.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var i=this.chunkSize(t),n=Math.pow(t,i),s=!1,r=0,o=0,a=0;a<e.length;++a){var l=T(e,a);l<0?"-"==e.charAt(a)&&0==this.signum()&&(s=!0):(o=t*o+l,++r>=i&&(this.dMultiply(n),this.dAddOffset(o,0),r=0,o=0))}r>0&&(this.dMultiply(Math.pow(t,r)),this.dAddOffset(o,0)),s&&x.ZERO.subTo(this,this)},x.prototype.fromNumber=function(e,t,i){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(x.ONE.shiftLeft(e-1),P,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(x.ONE.shiftLeft(e-1),this);else{var n=new Array,s=7&e;n.length=1+(e>>3),t.nextBytes(n),s>0?n[0]&=(1<<s)-1:n[0]=0,this.fromString(n,256)}},x.prototype.bitwiseTo=function(e,t,i){var n,s,r=Math.min(e.t,this.t);for(n=0;n<r;++n)i[n]=t(this[n],e[n]);if(e.t<this.t){for(s=e.s&this.DM,n=r;n<this.t;++n)i[n]=t(this[n],s);i.t=this.t}else{for(s=this.s&this.DM,n=r;n<e.t;++n)i[n]=t(s,e[n]);i.t=e.t}i.s=t(this.s,e.s),i.clamp()},x.prototype.changeBit=function(e,t){var i=x.ONE.shiftLeft(e);return this.bitwiseTo(i,t,i),i},x.prototype.addTo=function(e,t){for(var i=0,n=0,s=Math.min(e.t,this.t);i<s;)n+=this[i]+e[i],t[i++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;i<this.t;)n+=this[i],t[i++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;i<e.t;)n+=e[i],t[i++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[i++]=n:n<-1&&(t[i++]=this.DV+n),t.t=i,t.clamp()},x.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},x.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},x.prototype.multiplyLowerTo=function(e,t,i){var n,s=Math.min(this.t+e.t,t);for(i.s=0,i.t=s;s>0;)i[--s]=0;for(n=i.t-this.t;s<n;++s)i[s+this.t]=this.am(0,e[s],i,s,0,this.t);for(n=Math.min(e.t,t);s<n;++s)this.am(0,e[s],i,s,0,t-s);i.clamp()},x.prototype.multiplyUpperTo=function(e,t,i){--t;var n=i.t=this.t+e.t-t;for(i.s=0;--n>=0;)i[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)i[this.t+n-t]=this.am(t-n,e[n],i,0,0,this.t+n-t);i.clamp(),i.drShiftTo(1,i)},x.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,i=this.s<0?e-1:0;if(this.t>0)if(0==t)i=this[0]%e;else for(var n=this.t-1;n>=0;--n)i=(t*i+this[n])%e;return i},x.prototype.millerRabin=function(e){var t=this.subtract(x.ONE),i=t.getLowestSetBit();if(i<=0)return!1;var n=t.shiftRight(i);(e=e+1>>1)>q.length&&(e=q.length);for(var s=S(),r=0;r<e;++r){s.fromInt(q[Math.floor(Math.random()*q.length)]);var o=s.modPow(n,this);if(0!=o.compareTo(x.ONE)&&0!=o.compareTo(t)){for(var a=1;a++<i&&0!=o.compareTo(t);)if(0==(o=o.modPowInt(2,this)).compareTo(x.ONE))return!1;if(0!=o.compareTo(t))return!1}}return!0},x.prototype.clone=function(){var e=S();return this.copyTo(e),e},x.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},x.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},x.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},x.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},x.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var i,n=this.DB-e*this.DB%8,s=0;if(e-- >0)for(n<this.DB&&(i=this[e]>>n)!=(this.s&this.DM)>>n&&(t[s++]=i|this.s<<this.DB-n);e>=0;)n<8?(i=(this[e]&(1<<n)-1)<<8-n,i|=this[--e]>>(n+=this.DB-8)):(i=this[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&i)&&(i|=-256),0==s&&(128&this.s)!=(128&i)&&++s,(s>0||i!=this.s)&&(t[s++]=i);return t},x.prototype.equals=function(e){return 0==this.compareTo(e)},x.prototype.min=function(e){return this.compareTo(e)<0?this:e},x.prototype.max=function(e){return this.compareTo(e)>0?this:e},x.prototype.and=function(e){var t=S();return this.bitwiseTo(e,R,t),t},x.prototype.or=function(e){var t=S();return this.bitwiseTo(e,P,t),t},x.prototype.xor=function(e){var t=S();return this.bitwiseTo(e,M,t),t},x.prototype.andNot=function(e){var t=S();return this.bitwiseTo(e,N,t),t},x.prototype.not=function(){for(var e=S(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},x.prototype.shiftLeft=function(e){var t=S();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},x.prototype.shiftRight=function(e){var t=S();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},x.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+L(this[e]);return this.s<0?this.t*this.DB:-1},x.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,i=0;i<this.t;++i)e+=V(this[i]^t);return e},x.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},x.prototype.setBit=function(e){return this.changeBit(e,P)},x.prototype.clearBit=function(e){return this.changeBit(e,N)},x.prototype.flipBit=function(e){return this.changeBit(e,M)},x.prototype.add=function(e){var t=S();return this.addTo(e,t),t},x.prototype.subtract=function(e){var t=S();return this.subTo(e,t),t},x.prototype.multiply=function(e){var t=S();return this.multiplyTo(e,t),t},x.prototype.divide=function(e){var t=S();return this.divRemTo(e,t,null),t},x.prototype.remainder=function(e){var t=S();return this.divRemTo(e,null,t),t},x.prototype.divideAndRemainder=function(e){var t=S(),i=S();return this.divRemTo(e,t,i),new Array(t,i)},x.prototype.modPow=function(e,t){var i,n,s=e.bitLength(),r=F(1);if(s<=0)return r;i=s<18?1:s<48?3:s<144?4:s<768?5:6,n=s<8?new A(t):t.isEven()?new z(t):new O(t);var o=new Array,a=3,l=i-1,c=(1<<i)-1;if(o[1]=n.convert(this),i>1){var h=S();for(n.sqrTo(o[1],h);a<=c;)o[a]=S(),n.mulTo(h,o[a-2],o[a]),a+=2}var u,d,p=e.t-1,f=!0,g=S();for(s=D(e[p])-1;p>=0;){for(s>=l?u=e[p]>>s-l&c:(u=(e[p]&(1<<s+1)-1)<<l-s,p>0&&(u|=e[p-1]>>this.DB+s-l)),a=i;0==(1&u);)u>>=1,--a;if((s-=a)<0&&(s+=this.DB,--p),f)o[u].copyTo(r),f=!1;else{for(;a>1;)n.sqrTo(r,g),n.sqrTo(g,r),a-=2;a>0?n.sqrTo(r,g):(d=r,r=g,g=d),n.mulTo(g,o[u],r)}for(;p>=0&&0==(e[p]&1<<s);)n.sqrTo(r,g),d=r,r=g,g=d,--s<0&&(s=this.DB-1,--p)}return n.revert(r)},x.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return x.ZERO;for(var i=e.clone(),n=this.clone(),s=F(1),r=F(0),o=F(0),a=F(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),t?(s.isEven()&&r.isEven()||(s.addTo(this,s),r.subTo(e,r)),s.rShiftTo(1,s)):r.isEven()||r.subTo(e,r),r.rShiftTo(1,r);for(;n.isEven();)n.rShiftTo(1,n),t?(o.isEven()&&a.isEven()||(o.addTo(this,o),a.subTo(e,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(e,a),a.rShiftTo(1,a);i.compareTo(n)>=0?(i.subTo(n,i),t&&s.subTo(o,s),r.subTo(a,r)):(n.subTo(i,n),t&&o.subTo(s,o),a.subTo(r,a))}return 0!=n.compareTo(x.ONE)?x.ZERO:a.compareTo(e)>=0?a.subtract(e):a.signum()<0?(a.addTo(e,a),a.signum()<0?a.add(e):a):a},x.prototype.pow=function(e){return this.exp(e,new H)},x.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),i=e.s<0?e.negate():e.clone();if(t.compareTo(i)<0){var n=t;t=i,i=n}var s=t.getLowestSetBit(),r=i.getLowestSetBit();if(r<0)return t;for(s<r&&(r=s),r>0&&(t.rShiftTo(r,t),i.rShiftTo(r,i));t.signum()>0;)(s=t.getLowestSetBit())>0&&t.rShiftTo(s,t),(s=i.getLowestSetBit())>0&&i.rShiftTo(s,i),t.compareTo(i)>=0?(t.subTo(i,t),t.rShiftTo(1,t)):(i.subTo(t,i),i.rShiftTo(1,i));return r>0&&i.lShiftTo(r,i),i},x.prototype.isProbablePrime=function(e){var t,i=this.abs();if(1==i.t&&i[0]<=q[q.length-1]){for(t=0;t<q.length;++t)if(i[0]==q[t])return!0;return!1}if(i.isEven())return!1;for(t=1;t<q.length;){for(var n=q[t],s=t+1;s<q.length&&n<G;)n*=q[s++];for(n=i.modInt(n);t<s;)if(n%q[t++]==0)return!1}return i.millerRabin(e)},x.prototype.square=function(){var e=S();return this.squareTo(e),e},K.prototype.init=function(e){var t,i,n;for(t=0;t<256;++t)this.S[t]=t;for(i=0,t=0;t<256;++t)n=this.S[t],this.S[t]=this.S[i=i+this.S[t]+e[t%e.length]&255],this.S[i]=n;this.i=0,this.j=0},K.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==U){var Z;if(U=new Array,$=0,void 0!==n&&(void 0!==n.crypto||void 0!==n.msCrypto)){var Y=n.crypto||n.msCrypto;if(Y.getRandomValues){var Q=new Uint8Array(32);for(Y.getRandomValues(Q),Z=0;Z<32;++Z)U[$++]=Q[Z]}else if("Netscape"==i.appName&&i.appVersion<"5"){var J=n.crypto.random(32);for(Z=0;Z<J.length;++Z)U[$++]=255&J.charCodeAt(Z)}}for(;$<256;)Z=Math.floor(65536*Math.random()),U[$++]=Z>>>8,U[$++]=255&Z;$=0,W()}function X(){if(null==j){for(W(),(j=new K).init(U),$=0;$<U.length;++$)U[$]=0;$=0}return j.next()}function ee(){}function te(e,t){return new x(e,t)}function ie(e,t,i){for(var n="",s=0;n.length<t;)n+=i(String.fromCharCode.apply(String,e.concat([(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s]))),s+=1;return n}function ne(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function se(e,t,i){for(var n="",s=0;n.length<t;)n+=i(e+String.fromCharCode.apply(String,[(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s])),s+=1;return n}function re(e,t){this.x=t,this.q=e}function oe(e,t,i,n){this.curve=e,this.x=t,this.y=i,this.z=null==n?x.ONE:n,this.zinv=null}function ae(e,t,i){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(i),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=X()},ne.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},ne.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},ne.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var i=new Array,n=e.length-1;n>=0&&t>0;){var s=e.charCodeAt(n--);s<128?i[--t]=s:s>127&&s<2048?(i[--t]=63&s|128,i[--t]=s>>6|192):(i[--t]=63&s|128,i[--t]=s>>6&63|128,i[--t]=s>>12|224)}i[--t]=0;for(var r=new ee,o=new Array;t>2;){for(o[0]=0;0==o[0];)r.nextBytes(o);i[--t]=o[0]}return i[--t]=2,i[--t]=0,new x(i)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var i=this.doPublic(t);if(null==i)return null;var n=i.toString(16);return 0==(1&n.length)?n:"0"+n},ne.prototype.encryptOAEP=function(e,t,i){var n=function(e,t,i,n){var s=ce.crypto.MessageDigest,r=ce.crypto.Util,o=null;if(i||(i="sha1"),"string"==typeof i&&(o=s.getCanonicalAlgName(i),n=s.getHashLength(o),i=function(e){return Se(r.hashHex(ke(e),o))}),e.length+2*n+2>t)throw"Message too long for RSA";var a,l="";for(a=0;a<t-e.length-2*n-2;a+=1)l+="\0";var c=i("")+l+"\x01"+e,h=new Array(n);(new ee).nextBytes(h);var u=ie(h,c.length,i),d=[];for(a=0;a<c.length;a+=1)d[a]=c.charCodeAt(a)^u.charCodeAt(a);var p=ie(d,h.length,i),f=[0];for(a=0;a<h.length;a+=1)f[a+1]=h[a]^p.charCodeAt(a);return new x(f.concat(d))}(e,this.n.bitLength()+7>>3,t,i);if(null==n)return null;var s=this.doPublic(n);if(null==s)return null;var r=s.toString(16);return 0==(1&r.length)?r:"0"+r},ne.prototype.type="RSA",ne.prototype.doPrivate=function(e){if(null==this.p||null==this.q)return e.modPow(this.d,this.n);for(var t=e.mod(this.p).modPow(this.dmp1,this.p),i=e.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(i)<0;)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)},ne.prototype.setPrivate=function(e,t,i){if(this.isPrivate=!0,"string"!=typeof e)this.n=e,this.e=t,this.d=i;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(i,16)}},ne.prototype.setPrivateEx=function(e,t,i,n,s,r,o,a){if(this.isPrivate=!0,this.isPublic=!1,null==e)throw"RSASetPrivateEx N == null";if(null==t)throw"RSASetPrivateEx E == null";if(0==e.length)throw"RSASetPrivateEx N.length == 0";if(0==t.length)throw"RSASetPrivateEx E.length == 0";if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA private key in RSASetPrivateEx";this.n=te(e,16),this.e=parseInt(t,16),this.d=te(i,16),this.p=te(n,16),this.q=te(s,16),this.dmp1=te(r,16),this.dmq1=te(o,16),this.coeff=te(a,16)},ne.prototype.generate=function(e,t){var i=new ee,n=e>>1;this.e=parseInt(t,16);for(var s=new x(t,16);;){for(;this.p=new x(e-n,1,i),0!=this.p.subtract(x.ONE).gcd(s).compareTo(x.ONE)||!this.p.isProbablePrime(10););for(;this.q=new x(n,1,i),0!=this.q.subtract(x.ONE).gcd(s).compareTo(x.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var r=this.p;this.p=this.q,this.q=r}var o=this.p.subtract(x.ONE),a=this.q.subtract(x.ONE),l=o.multiply(a);if(0==l.gcd(s).compareTo(x.ONE)&&(this.n=this.p.multiply(this.q),this.n.bitLength()==e)){this.d=s.modInverse(l),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(a),this.coeff=this.q.modInverse(this.p);break}}this.isPrivate=!0},ne.prototype.decrypt=function(e){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var t=te(e,16),i=this.doPrivate(t);return null==i?null:function(e,t){for(var i=e.toByteArray(),n=0;n<i.length&&0==i[n];)++n;if(i.length-n!=t-1||2!=i[n])return null;for(++n;0!=i[n];)if(++n>=i.length)return null;for(var s="";++n<i.length;){var r=255&i[n];r<128?s+=String.fromCharCode(r):r>191&&r<224?(s+=String.fromCharCode((31&r)<<6|63&i[n+1]),++n):(s+=String.fromCharCode((15&r)<<12|(63&i[n+1])<<6|63&i[n+2]),n+=2)}return s}(i,this.n.bitLength()+7>>3)},ne.prototype.decryptOAEP=function(e,t,i){if(e.length!=Math.ceil(this.n.bitLength()/4))throw new Error("wrong ctext length");var n=te(e,16),s=this.doPrivate(n);return null==s?null:function(e,t,i,n){var s=ce.crypto.MessageDigest,r=ce.crypto.Util,o=null;for(i||(i="sha1"),"string"==typeof i&&(o=s.getCanonicalAlgName(i),n=s.getHashLength(o),i=function(e){return Se(r.hashHex(ke(e),o))}),e=e.toByteArray(),a=0;a<e.length;a+=1)e[a]&=255;for(;e.length<t;)e.unshift(0);if((e=String.fromCharCode.apply(String,e)).length<2*n+2)throw"Cipher too short";var a,l=e.substr(1,n),c=e.substr(n+1),h=se(c,n,i),u=[];for(a=0;a<l.length;a+=1)u[a]=l.charCodeAt(a)^h.charCodeAt(a);var d=se(String.fromCharCode.apply(String,u),e.length-n,i),p=[];for(a=0;a<c.length;a+=1)p[a]=c.charCodeAt(a)^d.charCodeAt(a);if((p=String.fromCharCode.apply(String,p)).substr(0,n)!==i(""))throw"Hash mismatch";var f=(p=p.substr(n)).indexOf("\x01");if((-1!=f?p.substr(0,f).lastIndexOf("\0"):-1)+1!=f)throw"Malformed data";return p.substr(f+1)}(s,this.n.bitLength()+7>>3,t,i)},re.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},re.prototype.toBigInteger=function(){return this.x},re.prototype.negate=function(){return new re(this.q,this.x.negate().mod(this.q))},re.prototype.add=function(e){return new re(this.q,this.x.add(e.toBigInteger()).mod(this.q))},re.prototype.subtract=function(e){return new re(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},re.prototype.multiply=function(e){return new re(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},re.prototype.square=function(){return new re(this.q,this.x.square().mod(this.q))},re.prototype.divide=function(e){return new re(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(x.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(x.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(x.ZERO)&&!this.y.toBigInteger().equals(x.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),i=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(x.ZERO.equals(i))return x.ZERO.equals(t)?this.twice():this.curve.getInfinity();var n=new x("3"),s=this.x.toBigInteger(),r=this.y.toBigInteger(),o=(e.x.toBigInteger(),e.y.toBigInteger(),i.square()),a=o.multiply(i),l=s.multiply(o),c=t.square().multiply(this.z),h=c.subtract(l.shiftLeft(1)).multiply(e.z).subtract(a).multiply(i).mod(this.curve.q),u=l.multiply(n).multiply(t).subtract(r.multiply(a)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(a)).mod(this.curve.q),d=a.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(h),this.curve.fromBigInteger(u),d)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new x("3"),t=this.x.toBigInteger(),i=this.y.toBigInteger(),n=i.multiply(this.z),s=n.multiply(i).mod(this.curve.q),r=this.curve.a.toBigInteger(),o=t.square().multiply(e);x.ZERO.equals(r)||(o=o.add(this.z.square().multiply(r)));var a=(o=o.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(s)).shiftLeft(1).multiply(n).mod(this.curve.q),l=o.multiply(e).multiply(t).subtract(s.shiftLeft(1)).shiftLeft(2).multiply(s).subtract(o.square().multiply(o)).mod(this.curve.q),c=n.square().multiply(n).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(a),this.curve.fromBigInteger(l),c)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,i=e,n=i.multiply(new x("3")),s=this.negate(),r=this,o=this.curve.q.subtract(e),a=o.multiply(new x("3")),l=new oe(this.curve,this.x,this.y),c=l.negate();for(t=n.bitLength()-2;t>0;--t){r=r.twice();var h=n.testBit(t);h!=i.testBit(t)&&(r=r.add(h?this:s))}for(t=a.bitLength()-2;t>0;--t){l=l.twice();var u=a.testBit(t);u!=o.testBit(t)&&(l=l.add(u?l:c))}return r},oe.prototype.multiplyTwo=function(e,t,i){var n;n=e.bitLength()>i.bitLength()?e.bitLength()-1:i.bitLength()-1;for(var s=this.curve.getInfinity(),r=this.add(t);n>=0;)s=s.twice(),e.testBit(n)?s=i.testBit(n)?s.add(r):s.add(this):i.testBit(n)&&(s=s.add(t)),--n;return s},ae.prototype.getQ=function(){return this.q},ae.prototype.getA=function(){return this.a},ae.prototype.getB=function(){return this.b},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ae.prototype.getInfinity=function(){return this.infinity},ae.prototype.fromBigInteger=function(e){return new re(this.q,e)},ae.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var t=(e.length-2)/2,i=e.substr(2,t),n=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new x(i,16)),this.fromBigInteger(new x(n,16)));default:return null}},re.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var i=e.toByteArrayUnsigned();if(t<i.length)i=i.slice(i.length-t);else for(;t>i.length;)i.unshift(0);return i},i=this.getX().toBigInteger(),n=this.getY().toBigInteger(),s=t(i,32);return e?n.isEven()?s.unshift(2):s.unshift(3):(s.unshift(4),s=s.concat(t(n,32))),s},oe.decodeFrom=function(e,t){var i=t.length-1,n=t.slice(1,1+i/2),s=t.slice(1+i/2,1+i);n.unshift(0),s.unshift(0);var r=new x(n),o=new x(s);return new oe(e,e.fromBigInteger(r),e.fromBigInteger(o))},oe.decodeFromHex=function(e,t){t.substr(0,2);var i=t.length-2,n=t.substr(2,i/2),s=t.substr(2+i/2,i/2),r=new x(n,16),o=new x(s,16);return new oe(e,e.fromBigInteger(r),e.fromBigInteger(o))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),i=e.y.subtract(this.y).divide(t),n=i.square().subtract(this.x).subtract(e.x),s=i.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,s)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(x.valueOf(2)),t=this.curve.fromBigInteger(x.valueOf(3)),i=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),n=i.square().subtract(this.x.multiply(e)),s=i.multiply(this.x.subtract(n)).subtract(this.y);return new oe(this.curve,n,s)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,i=e,n=i.multiply(new x("3")),s=this.negate(),r=this;for(t=n.bitLength()-2;t>0;--t){r=r.twice();var o=n.testBit(t);o!=i.testBit(t)&&(r=r.add2D(o?this:s))}return r},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),i=this.curve.getA().toBigInteger(),n=this.curve.getB().toBigInteger(),s=this.curve.getQ(),r=t.multiply(t).mod(s),o=e.multiply(e).multiply(e).add(i.multiply(e)).add(n).mod(s);return r.equals(o)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),i=this.getY().toBigInteger();if(t.compareTo(x.ONE)<0||t.compareTo(e.subtract(x.ONE))>0)throw new Error("x coordinate out of bounds");if(i.compareTo(x.ONE)<0||i.compareTo(e.subtract(x.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var le=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),i={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function n(e,t,n){return t?i[t]:String.fromCharCode(parseInt(n,16))}var s=new String(""),r=Object.hasOwnProperty;return function(i,o){var a,l,c=i.match(e),h=c[0],u=!1;"{"===h?a={}:"["===h?a=[]:(a=[],u=!0);for(var d=[a],p=1-u,f=c.length;p<f;++p){var g;switch((h=c[p]).charCodeAt(0)){default:(g=d[0])[l||g.length]=+h,l=void 0;break;case 34:if(-1!==(h=h.substring(1,h.length-1)).indexOf("\\")&&(h=h.replace(t,n)),g=d[0],!l){if(!(g instanceof Array)){l=h||s;break}l=g.length}g[l]=h,l=void 0;break;case 91:d.unshift((g=d[0])[l||g.length]=[]),l=void 0;break;case 93:d.shift();break;case 102:(g=d[0])[l||g.length]=!1,l=void 0;break;case 110:(g=d[0])[l||g.length]=null,l=void 0;break;case 116:(g=d[0])[l||g.length]=!0,l=void 0;break;case 123:d.unshift((g=d[0])[l||g.length]={}),l=void 0;break;case 125:d.shift()}}if(u){if(1!==d.length)throw new Error;a=a[0]}else if(d.length)throw new Error;if(o){var m=function(e,t){var i=e[t];if(i&&"object"==typeof i){var n=null;for(var s in i)if(r.call(i,s)&&i!==e){var a=m(i,s);void 0!==a?i[s]=a:(n||(n=[]),n.push(s))}if(n)for(var l=n.length;--l>=0;)delete i[n[l]]}return o.call(e,t,i)};a=m({"":a},"")}return a}}();void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),ce.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var i=t.substr(1).length;i%2==1?i+=1:t.match(/^[0-7]/)||(i+=2);for(var n="",s=0;s<i;s++)n+="f";t=new x(n,16).xor(e).add(x.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Te(e,t)},this.newObject=function(e){var t=ce.asn1,i=t.DERBoolean,n=t.DERInteger,s=t.DERBitString,r=t.DEROctetString,o=t.DERNull,a=t.DERObjectIdentifier,l=t.DEREnumerated,c=t.DERUTF8String,h=t.DERNumericString,u=t.DERPrintableString,d=t.DERTeletexString,p=t.DERIA5String,f=t.DERUTCTime,g=t.DERGeneralizedTime,m=t.DERVisibleString,v=t.DERBMPString,b=t.DERSequence,y=t.DERSet,w=t.DERTaggedObject,C=t.ASN1Util.newObject,x=Object.keys(e);if(1!=x.length)throw"key of param shall be only one.";var S=x[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+S+":"))throw new Error("undefined key: "+S);if("bool"==S)return new i(e[S]);if("int"==S)return new n(e[S]);if("bitstr"==S)return new s(e[S]);if("octstr"==S)return new r(e[S]);if("null"==S)return new o(e[S]);if("oid"==S)return new a(e[S]);if("enum"==S)return new l(e[S]);if("utf8str"==S)return new c(e[S]);if("numstr"==S)return new h(e[S]);if("prnstr"==S)return new u(e[S]);if("telstr"==S)return new d(e[S]);if("ia5str"==S)return new p(e[S]);if("utctime"==S)return new f(e[S]);if("gentime"==S)return new g(e[S]);if("visstr"==S)return new m(e[S]);if("bmpstr"==S)return new v(e[S]);if("seq"==S){for(var k=e[S],_=[],E=0;E<k.length;E++){var I=C(k[E]);_.push(I)}return new b({array:_})}if("set"==S){for(k=e[S],_=[],E=0;E<k.length;E++)I=C(k[E]),_.push(I);return new y({array:_})}if("tag"==S){var T=e[S];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var F=C(T[2]);return new w({tag:T[0],explicit:T[1],obj:F})}var D={};if(void 0!==T.explicit&&(D.explicit=T.explicit),void 0!==T.tag&&(D.tag=T.tag),void 0===T.obj)throw"obj shall be specified for 'tag'.";return D.obj=C(T.obj),new w(D)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ce.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",i=parseInt(e.substr(0,2),16),n=(t=Math.floor(i/40)+"."+i%40,""),s=2;s<e.length;s+=2){var r=("00000000"+parseInt(e.substr(s,2),16).toString(2)).slice(-8);n+=r.substr(1,7),"0"==r.substr(0,1)&&(t=t+"."+new x(n,2).toString(10),n="")}return t},ce.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",n=new x(e,10).toString(2),s=7-n.length%7;7==s&&(s=0);for(var r="",o=0;o<s;o++)r+="0";for(n=r+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),i+=t(parseInt(a,2))}return i};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",s=e.split("."),r=40*parseInt(s[0])+parseInt(s[1]);n+=t(r),s.splice(0,2);for(var o=0;o<s.length;o++)n+=i(s[o]);return n},ce.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var i=t.length/2;if(i>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+i).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},ce.asn1.DERAbstractString=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=Ce(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},s.lang.extend(ce.asn1.DERAbstractString,ce.asn1.ASN1Object),ce.asn1.DERAbstractTime=function(e){ce.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,i){var n=this.zeroPadding,s=this.localDateToUTC(e),r=String(s.getFullYear());"utc"==t&&(r=r.substr(2,2));var o=r+n(String(s.getMonth()+1),2)+n(String(s.getDate()),2)+n(String(s.getHours()),2)+n(String(s.getMinutes()),2)+n(String(s.getSeconds()),2);if(!0===i){var a=s.getMilliseconds();if(0!=a){var l=n(String(a),3);o=o+"."+(l=l.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=me(e)},this.setByDateValue=function(e,t,i,n,s,r){var o=new Date(Date.UTC(e,t-1,i,n,s,r,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},s.lang.extend(ce.asn1.DERAbstractTime,ce.asn1.ASN1Object),ce.asn1.DERAbstractStructured=function(e){ce.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},s.lang.extend(ce.asn1.DERAbstractStructured,ce.asn1.ASN1Object),ce.asn1.DERBoolean=function(){ce.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},s.lang.extend(ce.asn1.DERBoolean,ce.asn1.ASN1Object),ce.asn1.DERInteger=function(e){ce.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new x(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},s.lang.extend(ce.asn1.DERInteger,ce.asn1.ASN1Object),ce.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ce.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var i="0"+e;this.hTLV=null,this.isModified=!0,this.hV=i+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var i=0;i<=t;i++)e+="0";var n="";for(i=0;i<e.length-1;i+=8){var s=e.substr(i,8),r=parseInt(s,2).toString(16);1==r.length&&(r="0"+r),n+=r}this.hTLV=null,this.isModified=!0,this.hV="0"+t+n},this.setByBooleanArray=function(e){for(var t="",i=0;i<e.length;i++)t+=1==e[i]?"1":"0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),i=0;i<e;i++)t[i]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},s.lang.extend(ce.asn1.DERBitString,ce.asn1.ASN1Object),ce.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ce.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ce.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},s.lang.extend(ce.asn1.DEROctetString,ce.asn1.DERAbstractString),ce.asn1.DERNull=function(){ce.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},s.lang.extend(ce.asn1.DERNull,ce.asn1.ASN1Object),ce.asn1.DERObjectIdentifier=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},i=function(e){var i="",n=new x(e,10).toString(2),s=7-n.length%7;7==s&&(s=0);for(var r="",o=0;o<s;o++)r+="0";for(n=r+n,o=0;o<n.length-1;o+=7){var a=n.substr(o,7);o!=n.length-7&&(a="1"+a),i+=t(parseInt(a,2))}return i};ce.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var n="",s=e.split("."),r=40*parseInt(s[0])+parseInt(s[1]);n+=t(r),s.splice(0,2);for(var o=0;o<s.length;o++)n+=i(s[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=n},this.setValueName=function(e){var t=ce.asn1.x509.OID.name2oid(e);if(""===t)throw"DERObjectIdentifier oidName undefined: "+e;this.setValueOidString(t)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e):void 0!==e.oid?this.setValueOidString(e.oid):void 0!==e.hex?this.setValueHex(e.hex):void 0!==e.name&&this.setValueName(e.name))},s.lang.extend(ce.asn1.DERObjectIdentifier,ce.asn1.ASN1Object),ce.asn1.DEREnumerated=function(e){ce.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ce.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new x(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},s.lang.extend(ce.asn1.DEREnumerated,ce.asn1.ASN1Object),ce.asn1.DERUTF8String=function(e){ce.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},s.lang.extend(ce.asn1.DERUTF8String,ce.asn1.DERAbstractString),ce.asn1.DERNumericString=function(e){ce.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},s.lang.extend(ce.asn1.DERNumericString,ce.asn1.DERAbstractString),ce.asn1.DERPrintableString=function(e){ce.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},s.lang.extend(ce.asn1.DERPrintableString,ce.asn1.DERAbstractString),ce.asn1.DERTeletexString=function(e){ce.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},s.lang.extend(ce.asn1.DERTeletexString,ce.asn1.DERAbstractString),ce.asn1.DERIA5String=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},s.lang.extend(ce.asn1.DERIA5String,ce.asn1.DERAbstractString),ce.asn1.DERVisibleString=function(e){ce.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},s.lang.extend(ce.asn1.DERVisibleString,ce.asn1.DERAbstractString),ce.asn1.DERBMPString=function(e){ce.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},s.lang.extend(ce.asn1.DERBMPString,ce.asn1.DERAbstractString),ce.asn1.DERUTCTime=function(e){ce.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},s.lang.extend(ce.asn1.DERUTCTime,ce.asn1.DERAbstractTime),ce.asn1.DERGeneralizedTime=function(e){ce.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=me(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},s.lang.extend(ce.asn1.DERGeneralizedTime,ce.asn1.DERAbstractTime),ce.asn1.DERSequence=function(e){ce.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},s.lang.extend(ce.asn1.DERSequence,ce.asn1.DERAbstractStructured),ce.asn1.DERSet=function(e){ce.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++)e.push(this.asn1Array[t].getEncodedHex());return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},s.lang.extend(ce.asn1.DERSet,ce.asn1.DERAbstractStructured),ce.asn1.DERTaggedObject=function(e){ce.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,i){this.hT=t,this.isExplicit=e,this.asn1Object=i,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.tag&&(this.hT=e.tag),void 0!==e.explicit&&(this.isExplicit=e.explicit),void 0!==e.obj&&(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},s.lang.extend(ce.asn1.DERTaggedObject,ce.asn1.ASN1Object);var ce,he,ue,de=new function(){};function pe(e){for(var t=new Array,i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}function fe(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t}function ge(e){for(var t="",i=0;i<e.length;i++){var n=e[i].toString(16);1==n.length&&(n="0"+n),t+=n}return t}function me(e){return ge(pe(e))}function ve(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function be(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function ye(e){return e.length%2==1&&(e="0"+e),ve(y(e))}function we(e){return w(be(e))}function Ce(e){return Oe(Le(e))}function xe(e){return decodeURIComponent(Re(e))}function Se(e){for(var t="",i=0;i<e.length-1;i+=2)t+=String.fromCharCode(parseInt(e.substr(i,2),16));return t}function ke(e){for(var t="",i=0;i<e.length;i++)t+=("0"+e.charCodeAt(i).toString(16)).slice(-2);return t}function _e(e){return y(e)}function Ee(e){return _e(e).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Ie(e){return w(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Te(e,t){return"-----BEGIN "+t+"-----\r\n"+Ee(e)+"\r\n-----END "+t+"-----\r\n"}function Fe(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Ie(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function De(e){var t,i,n,s,r,o,a,l,c,h,u;if(u=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return l=u[1],t=parseInt(l),2===l.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),i=parseInt(u[2])-1,n=parseInt(u[3]),s=parseInt(u[4]),r=parseInt(u[5]),o=parseInt(u[6]),a=0,""!==(c=u[7])&&(h=(c.substr(1)+"00").substr(0,3),a=parseInt(h)),Date.UTC(t,i,n,s,r,o,a);throw"unsupported zulu format: "+e}function Ae(e){return~~(De(e)/1e3)}function Oe(e){return e.replace(/%/g,"")}function Re(e){return e.replace(/(..)/g,"%$1")}function Pe(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var i=(e=e.toLowerCase()).split(":").length-1;if(i<2)throw t;var n=":".repeat(7-i+2),s=(e=e.replace("::",n)).split(":");if(8!=s.length)throw t;for(var r=0;r<8;r++)s[r]=("0000"+s[r]).slice(-4);return s.join("")}function Me(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),i=0;i<8;i++)t[i]=t[i].replace(/^0+/,""),""==t[i]&&(t[i]="0");var n=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===n)return e.slice(1,-1);var s="";for(i=0;i<n.length;i++)n[i].length>s.length&&(s=n[i]);return(e=e.replace(s,"::")).slice(1,-1)}function Ne(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Me(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(o){throw t}}function Le(e){for(var t=encodeURIComponent(e),i="",n=0;n<t.length;n++)"%"==t[n]?(i+=t.substr(n,3),n+=2):i=i+"%"+me(t[n]);return i}function Ve(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}function He(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,i){var n=parseInt(e);if(n<0||255<n)throw"integer not in range 0-255";return("00"+n.toString(16)).slice(-2)})).join("")}catch(o){throw"malformed integer array string: "+o}}de.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var i=parseInt(e.substr(t+3,1));return 0==i?-1:0<i&&i<10?i+1:-2},de.getL=function(e,t){var i=de.getLblen(e,t);return i<1?"":e.substr(t+2,2*i)},de.getVblen=function(e,t){var i;return""==(i=de.getL(e,t))?-1:("8"===i.substr(0,1)?new x(i.substr(2),16):new x(i,16)).intValue()},de.getVidx=function(e,t){var i=de.getLblen(e,t);return i<0?i:t+2*(i+1)},de.getV=function(e,t){var i=de.getVidx(e,t),n=de.getVblen(e,t);return e.substr(i,2*n)},de.getTLV=function(e,t){return e.substr(t,2)+de.getL(e,t)+de.getV(e,t)},de.getNextSiblingIdx=function(e,t){return de.getVidx(e,t)+2*de.getVblen(e,t)},de.getChildIdx=function(e,t){var i=de,n=new Array,s=i.getVidx(e,t);"03"==e.substr(t,2)?n.push(s+2):n.push(s);for(var r=i.getVblen(e,t),o=s,a=0;;){var l=i.getNextSiblingIdx(e,o);if(null==l||l-s>=2*r)break;if(a>=200)break;n.push(l),o=l,a++}return n},de.getNthChildIdx=function(e,t,i){return de.getChildIdx(e,t)[i]},de.getIdxbyList=function(e,t,i,n){var s,r,o=de;if(0==i.length){if(void 0!==n&&e.substr(t,2)!==n)throw Error("checking tag doesn't match: "+e.substr(t,2)+"!="+n);return t}return s=i.shift(),r=o.getChildIdx(e,t),o.getIdxbyList(e,r[s],i,n)},de.getIdxbyListEx=function(e,t,i,n){var s,r,o=de;if(0==i.length)return void 0!==n&&e.substr(t,2)!==n?-1:t;s=i.shift(),r=o.getChildIdx(e,t);for(var a=0,l=0;l<r.length;l++){var c=e.substr(r[l],2);if("number"==typeof s&&!o.isContextTag(c)&&a==s||"string"==typeof s&&o.isContextTag(c,s))return o.getIdxbyListEx(e,r[l],i,n);o.isContextTag(c)||a++}return-1},de.getTLVbyList=function(e,t,i,n){var s=de,r=s.getIdxbyList(e,t,i);if(void 0===r)throw new Error("can't find nthList object");if(void 0!==n&&e.substr(r,2)!=n)throw new Error("checking tag doesn't match: "+e.substr(r,2)+"!="+n);return s.getTLV(e,r)},de.getTLVbyListEx=function(e,t,i,n){var s=de,r=s.getIdxbyListEx(e,t,i,n);return-1==r?null:s.getTLV(e,r)},de.getVbyList=function(e,t,i,n,s){var r,o,a=de;if(void 0===(r=a.getIdxbyList(e,t,i,n)))throw"can't find nthList object";return o=a.getV(e,r),!0===s&&(o=o.substr(2)),o},de.getVbyListEx=function(e,t,i,n,s){var r,o,a=de;return-1==(r=a.getIdxbyListEx(e,t,i,n))?null:(o=a.getV(e,r),"03"==e.substr(r,2)&&!1!==s&&(o=o.substr(2)),o)},de.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},i=[],n=e.substr(0,2),s=parseInt(n,16);i[0]=new String(Math.floor(s/40)),i[1]=new String(s%40);for(var r=e.substr(2),o=[],a=0;a<r.length/2;a++)o.push(parseInt(r.substr(2*a,2),16));var l=[],c="";for(a=0;a<o.length;a++)128&o[a]?c+=t((127&o[a]).toString(2),7):(c+=t((127&o[a]).toString(2),7),l.push(new String(parseInt(c,2))),c="");var h=i.join(".");return l.length>0&&(h=h+"."+l.join(".")),h},de.dump=function(e,t,i,n){var s=de,r=s.getV,o=s.dump,a=s.getChildIdx,l=e;e instanceof ce.asn1.ASN1Object&&(l=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===i&&(i=0),void 0===n&&(n="");var h,u=t.ommit_long_octet;if("01"==(h=l.substr(i,2)))return"00"==(d=r(l,i))?n+"BOOLEAN FALSE\n":n+"BOOLEAN TRUE\n";if("02"==h)return n+"INTEGER "+c(d=r(l,i),u)+"\n";if("03"==h){var d=r(l,i);return s.isASN1HEX(d.substr(2))?(x=n+"BITSTRING, encapsulates\n")+o(d.substr(2),t,0,n+"  "):n+"BITSTRING "+c(d,u)+"\n"}if("04"==h)return d=r(l,i),s.isASN1HEX(d)?(x=n+"OCTETSTRING, encapsulates\n")+o(d,t,0,n+"  "):n+"OCTETSTRING "+c(d,u)+"\n";if("05"==h)return n+"NULL\n";if("06"==h){var p=r(l,i),f=ce.asn1.ASN1Util.oidHexToInt(p),g=ce.asn1.x509.OID.oid2name(f),m=f.replace(/\./g," ");return""!=g?n+"ObjectIdentifier "+g+" ("+m+")\n":n+"ObjectIdentifier ("+m+")\n"}if("0c"==h)return n+"UTF8String '"+xe(r(l,i))+"'\n";if("13"==h)return n+"PrintableString '"+xe(r(l,i))+"'\n";if("14"==h)return n+"TeletexString '"+xe(r(l,i))+"'\n";if("16"==h)return n+"IA5String '"+xe(r(l,i))+"'\n";if("17"==h)return n+"UTCTime "+xe(r(l,i))+"\n";if("18"==h)return n+"GeneralizedTime "+xe(r(l,i))+"\n";if("1a"==h)return n+"VisualString '"+xe(r(l,i))+"'\n";if("1e"==h)return n+"BMPString '"+xe(r(l,i))+"'\n";if("30"==h){if("3000"==l.substr(i,4))return n+"SEQUENCE {}\n";x=n+"SEQUENCE\n";var v=t;if((2==(w=a(l,i)).length||3==w.length)&&"06"==l.substr(w[0],2)&&"04"==l.substr(w[w.length-1],2)){g=s.oidname(r(l,w[0]));var b=JSON.parse(JSON.stringify(t));b.x509ExtName=g,v=b}for(var y=0;y<w.length;y++)x+=o(l,v,w[y],n+"  ");return x}if("31"==h){x=n+"SET\n";var w=a(l,i);for(y=0;y<w.length;y++)x+=o(l,t,w[y],n+"  ");return x}if(0!=(128&(h=parseInt(h,16)))){var C=31&h;if(0!=(32&h)){var x=n+"["+C+"]\n";for(w=a(l,i),y=0;y<w.length;y++)x+=o(l,t,w[y],n+"  ");return x}return"68747470"==(d=r(l,i)).substr(0,8)&&(d=xe(d)),"subjectAltName"===t.x509ExtName&&2==C&&(d=xe(d)),n+"["+C+"] "+d+"\n"}return n+"UNKNOWN("+h+") "+r(l,i)+"\n"},de.isContextTag=function(e,t){var i,n;e=e.toLowerCase();try{i=parseInt(e,16)}catch(d){return-1}if(void 0===t)return 128==(192&i);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((n=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&i)&&(31&i)==n}catch(d){return!1}},de.isASN1HEX=function(e){var t=de;if(e.length%2==1)return!1;var i=t.getVblen(e,0),n=e.substr(0,2),s=t.getL(e,0);return e.length-n.length-s.length==2*i},de.checkStrictDER=function(e,t,i,n,s){var r=de;if(void 0===i){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ce.lang.String.isHex(e))throw new Error("not hex string");i=e.length,s=(n=e.length/2)<128?1:Math.ceil(n.toString(16))+1}if(r.getL(e,t).length>2*s)throw new Error("L of TLV too long: idx="+t);var o=r.getVblen(e,t);if(o>n)throw new Error("value of L too long than hex: idx="+t);var a=r.getTLV(e,t),l=a.length-2-r.getL(e,t).length;if(l!==2*o)throw new Error("V string length and L's value not the same:"+l+"/"+2*o);if(0===t&&e.length!=a.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+a.length);var c=e.substr(t,2);if("02"===c){var h=r.getVidx(e,t);if("00"==e.substr(h,2)&&e.charCodeAt(h+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var u=r.getVblen(e,t),d=0,p=r.getChildIdx(e,t),f=0;f<p.length;f++)d+=r.getTLV(e,p[f]).length,r.checkStrictDER(e,p[f],i,n,s);if(2*u!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*u+"!="+d)}},de.oidname=function(e){var t=ce.asn1;ce.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var i=t.x509.OID.oid2name(e);return""===i&&(i=e),i},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.x509&&ce.asn1.x509||(ce.asn1.x509={}),ce.asn1.x509.Certificate=function(e){ce.asn1.x509.Certificate.superclass.constructor.call(this);var t=ce.asn1,i=t.DERSequence,n=t.DERBitString;this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg;var e=new ce.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg});e.init(this.prvKey),e.updateHex(this.asn1TBSCert.getEncodedHex()),this.hexSig=e.sign(),this.asn1Sig=new n({hex:"00"+this.hexSig});var t=new i({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.setSignatureHex=function(e){this.asn1SignatureAlg=this.asn1TBSCert.asn1SignatureAlg,this.hexSig=e,this.asn1Sig=new n({hex:"00"+this.hexSig});var t=new i({array:[this.asn1TBSCert,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=t.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN CERTIFICATE-----\r\n"+Ee(this.getEncodedHex())+"\r\n-----END CERTIFICATE-----\r\n"},void 0!==e&&(void 0!==e.tbscertobj&&(this.asn1TBSCert=e.tbscertobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},s.lang.extend(ce.asn1.x509.Certificate,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertificate=function(e){ce.asn1.x509.TBSCertificate.superclass.constructor.call(this);var t=ce.asn1,i=t.DERSequence,n=t.DERInteger,s=t.DERTaggedObject,r=t.x509,o=r.Time,a=r.X500Name,l=r.SubjectPublicKeyInfo;this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new s({obj:new n({int:2})}),this.asn1SerialNumber=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1NotBefore=null,this.asn1NotAfter=null,this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSerialNumberByParam=function(e){this.asn1SerialNumber=new n(e)},this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new r.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new a(e)},this.setNotBeforeByParam=function(e){this.asn1NotBefore=new o(e)},this.setNotAfterByParam=function(e){this.asn1NotAfter=new o(e)},this.setSubjectByParam=function(e){this.asn1Subject=new a(e)},this.setSubjectPublicKey=function(e){this.asn1SubjPKey=new l(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=Be.getKey(e);this.asn1SubjPKey=new l(t)},this.appendExtension=function(e){this.extensionsArray.push(e)},this.appendExtensionByName=function(e,t){ce.asn1.x509.Extension.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(null==this.asn1NotBefore||null==this.asn1NotAfter)throw"notBefore and/or notAfter not set";var e=new i({array:[this.asn1NotBefore,this.asn1NotAfter]});if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SerialNumber),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(e),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var t=new i({array:this.extensionsArray}),n=new s({explicit:!0,tag:"a3",obj:t});this.asn1Array.push(n)}var r=new i({array:this.asn1Array});return this.hTLV=r.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},s.lang.extend(ce.asn1.x509.TBSCertificate,ce.asn1.ASN1Object),ce.asn1.x509.Extension=function(e){ce.asn1.x509.Extension.superclass.constructor.call(this);var t=ce.asn1,i=t.DERObjectIdentifier,n=t.DEROctetString,s=t.DERBoolean,r=t.DERSequence;this.getEncodedHex=function(){var e=new i({oid:this.oid}),t=new n({hex:this.getExtnValueHex()}),o=new Array;return o.push(e),this.critical&&o.push(new s),o.push(t),new r({array:o}).getEncodedHex()},this.critical=!1,void 0!==e&&void 0!==e.critical&&(this.critical=e.critical)},s.lang.extend(ce.asn1.x509.Extension,ce.asn1.ASN1Object),ce.asn1.x509.Extension.appendByNameToArray=function(e,t,i){var n=e.toLowerCase(),s=ce.asn1.x509;if("basicconstraints"==n){var r=new s.BasicConstraints(t);i.push(r)}else if("keyusage"==n)r=new s.KeyUsage(t),i.push(r);else if("crldistributionpoints"==n)r=new s.CRLDistributionPoints(t),i.push(r);else if("extkeyusage"==n)r=new s.ExtKeyUsage(t),i.push(r);else if("authoritykeyidentifier"==n)r=new s.AuthorityKeyIdentifier(t),i.push(r);else if("subjectkeyidentifier"==n)r=new s.SubjectKeyIdentifier(t),i.push(r);else if("authorityinfoaccess"==n)r=new s.AuthorityInfoAccess(t),i.push(r);else if("subjectaltname"==n)r=new s.SubjectAltName(t),i.push(r);else if("issueraltname"==n)r=new s.IssuerAltName(t),i.push(r);else{if("certificatepolicies"!=n)throw new Error("unsupported extension name: "+e);r=new s.CertificatePolicies(t),i.push(r)}},ce.asn1.x509.KeyUsage=function(e){ce.asn1.x509.KeyUsage.superclass.constructor.call(this,e);var t=qe.KEYUSAGE_NAME;if(this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.15",void 0!==e&&(void 0!==e.bin&&(this.asn1ExtnValue=new ce.asn1.DERBitString(e)),void 0!==e.names&&void 0!==e.names.length)){for(var i=e.names,n="000000000",s=0;s<i.length;s++)for(var r=0;r<t.length;r++)i[s]===t[r]&&(n=n.substring(0,r)+"1"+n.substring(r+1,n.length));this.asn1ExtnValue=new ce.asn1.DERBitString({bin:n})}},s.lang.extend(ce.asn1.x509.KeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.BasicConstraints=function(e){ce.asn1.x509.BasicConstraints.superclass.constructor.call(this,e),this.getExtnValueHex=function(){var e=new Array;this.cA&&e.push(new ce.asn1.DERBoolean),this.pathLen>-1&&e.push(new ce.asn1.DERInteger({int:this.pathLen}));var t=new ce.asn1.DERSequence({array:e});return this.asn1ExtnValue=t,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.19",this.cA=!1,this.pathLen=-1,void 0!==e&&(void 0!==e.cA&&(this.cA=e.cA),void 0!==e.pathLen&&(this.pathLen=e.pathLen))},s.lang.extend(ce.asn1.x509.BasicConstraints,ce.asn1.x509.Extension),ce.asn1.x509.CRLDistributionPoints=function(e){ce.asn1.x509.CRLDistributionPoints.superclass.constructor.call(this,e);var t=ce.asn1,i=t.x509;this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.setByDPArray=function(e){this.asn1ExtnValue=new t.DERSequence({array:e})},this.setByOneURI=function(e){var t=new i.GeneralNames([{uri:e}]),n=new i.DistributionPointName(t),s=new i.DistributionPoint({dpobj:n});this.setByDPArray([s])},this.oid="2.5.29.31",void 0!==e&&(void 0!==e.array?this.setByDPArray(e.array):void 0!==e.uri&&this.setByOneURI(e.uri))},s.lang.extend(ce.asn1.x509.CRLDistributionPoints,ce.asn1.x509.Extension),ce.asn1.x509.CertificatePolicies=function(e){ce.asn1.x509.CertificatePolicies.superclass.constructor.call(this,e);var t=ce.asn1,i=t.DERSequence,n=t.x509.PolicyInformation;this.params=null,this.getExtnValueHex=function(){for(var e=[],t=0;t<this.params.array.length;t++)e.push(new n(this.params.array[t]));var s=new i({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.32",void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.CertificatePolicies,ce.asn1.x509.Extension),ce.asn1.x509.PolicyInformation=function(e){ce.asn1.x509.PolicyInformation.superclass.constructor.call(this,e);var t=ce.asn1,i=t.DERSequence,n=t.DERObjectIdentifier,s=t.x509.PolicyQualifierInfo;this.params=null,this.getEncodedHex=function(){if(void 0===this.params.policyoid&&void 0===this.params.array)throw new Error("parameter oid and array missing");var e=[new n({oid:this.params.policyoid})];if(void 0!==this.params.array){for(var t=[],r=0;r<this.params.array.length;r++)t.push(new s(this.params.array[r]));t.length>0&&e.push(new i({array:t}))}return new i({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.PolicyInformation,ce.asn1.ASN1Object),ce.asn1.x509.PolicyQualifierInfo=function(e){ce.asn1.x509.PolicyQualifierInfo.superclass.constructor.call(this,e);var t=ce.asn1,i=t.DERSequence,n=t.DERIA5String,s=t.DERObjectIdentifier,r=t.x509.UserNotice;this.params=null,this.getEncodedHex=function(){return void 0!==this.params.cps?new i({array:[new s({oid:"1.3.6.1.5.5.7.2.1"}),new n({str:this.params.cps})]}).getEncodedHex():null!=this.params.unotice?new i({array:[new s({oid:"1.3.6.1.5.5.7.2.2"}),new r(this.params.unotice)]}).getEncodedHex():void 0},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.PolicyQualifierInfo,ce.asn1.ASN1Object),ce.asn1.x509.UserNotice=function(e){ce.asn1.x509.UserNotice.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,i=ce.asn1.x509.DisplayText,n=ce.asn1.x509.NoticeReference;this.params=null,this.getEncodedHex=function(){var e=[];return void 0!==this.params.noticeref&&e.push(new n(this.params.noticeref)),void 0!==this.params.exptext&&e.push(new i(this.params.exptext)),new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.UserNotice,ce.asn1.ASN1Object),ce.asn1.x509.NoticeReference=function(e){ce.asn1.x509.NoticeReference.superclass.constructor.call(this,e);var t=ce.asn1.DERSequence,i=ce.asn1.DERInteger,n=ce.asn1.x509.DisplayText;this.params=null,this.getEncodedHex=function(){var e=[];if(void 0!==this.params.org&&e.push(new n(this.params.org)),void 0!==this.params.noticenum){for(var s=[],r=this.params.noticenum,o=0;o<r.length;o++)s.push(new i(r[o]));e.push(new t({array:s}))}if(0==e.length)throw new Error("parameter is empty");return new t({array:e}).getEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.x509.NoticeReference,ce.asn1.ASN1Object),ce.asn1.x509.DisplayText=function(e){ce.asn1.x509.DisplayText.superclass.constructor.call(this,e),this.hT="0c",void 0!==e&&("ia5"===e.type?this.hT="16":"vis"===e.type?this.hT="1a":"bmp"===e.type&&(this.hT="1e"))},s.lang.extend(ce.asn1.x509.DisplayText,ce.asn1.DERAbstractString),ce.asn1.x509.ExtKeyUsage=function(e){ce.asn1.x509.ExtKeyUsage.superclass.constructor.call(this,e);var t=ce.asn1;this.setPurposeArray=function(e){this.asn1ExtnValue=new t.DERSequence;for(var i=0;i<e.length;i++){var n=new t.DERObjectIdentifier(e[i]);this.asn1ExtnValue.appendASN1Object(n)}},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.37",void 0!==e&&void 0!==e.array&&this.setPurposeArray(e.array)},s.lang.extend(ce.asn1.x509.ExtKeyUsage,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityKeyIdentifier=function(e){ce.asn1.x509.AuthorityKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1,i=t.DERTaggedObject,n=t.x509.GeneralNames;this.asn1KID=null,this.asn1CertIssuer=null,this.asn1CertSN=null,this.getExtnValueHex=function(){var e=new Array;this.asn1KID&&e.push(new i({explicit:!1,tag:"80",obj:this.asn1KID})),this.asn1CertIssuer&&e.push(new i({explicit:!1,tag:"a1",obj:new n([{dn:this.asn1CertIssuer}])})),this.asn1CertSN&&e.push(new i({explicit:!1,tag:"82",obj:this.asn1CertSN}));var s=new t.DERSequence({array:e});return this.asn1ExtnValue=s,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new ce.asn1.DEROctetString(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN ")){var t=e;"string"==typeof e&&(t=Be.getKey(e));var i=Be.getKeyID(t);this.asn1KID=new ce.asn1.DEROctetString({hex:i})}},this.setCertIssuerByParam=function(e){void 0!==e.str||void 0!==e.ldapstr||void 0!==e.hex||void 0!==e.certsubject||void 0!==e.certissuer?this.asn1CertIssuer=new ce.asn1.x509.X500Name(e):"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&-1!=e.indexOf("CERTIFICATE")&&(this.asn1CertIssuer=new ce.asn1.x509.X500Name({certissuer:e}))},this.setCertSNByParam=function(e){if(void 0!==e.str||void 0!==e.bigint||void 0!==e.hex)this.asn1CertSN=new ce.asn1.DERInteger(e);else if("string"==typeof e&&-1!=e.indexOf("BEGIN ")&&e.indexOf("CERTIFICATE")){var t=new qe;t.readCertPEM(e);var i=t.getSerialNumberHex();this.asn1CertSN=new ce.asn1.DERInteger({hex:i})}},this.oid="2.5.29.35",void 0!==e&&(void 0!==e.kid&&this.setKIDByParam(e.kid),void 0!==e.issuer&&this.setCertIssuerByParam(e.issuer),void 0!==e.sn&&this.setCertSNByParam(e.sn),void 0!==e.issuersn&&"string"==typeof e.issuersn&&-1!=e.issuersn.indexOf("BEGIN ")&&e.issuersn.indexOf("CERTIFICATE")&&(this.setCertSNByParam(e.issuersn),this.setCertIssuerByParam(e.issuersn)))},s.lang.extend(ce.asn1.x509.AuthorityKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.SubjectKeyIdentifier=function(e){ce.asn1.x509.SubjectKeyIdentifier.superclass.constructor.call(this,e);var t=ce.asn1.DEROctetString;this.asn1KID=null,this.getExtnValueHex=function(){return this.asn1ExtnValue=this.asn1KID,this.asn1ExtnValue.getEncodedHex()},this.setKIDByParam=function(e){if(void 0!==e.str||void 0!==e.hex)this.asn1KID=new t(e);else if("object"==typeof e&&ce.crypto.Util.isKey(e)||"string"==typeof e&&-1!=e.indexOf("BEGIN")){var i=e;"string"==typeof e&&(i=Be.getKey(e));var n=Be.getKeyID(i);this.asn1KID=new ce.asn1.DEROctetString({hex:n})}},this.oid="2.5.29.14",void 0!==e&&void 0!==e.kid&&this.setKIDByParam(e.kid)},s.lang.extend(ce.asn1.x509.SubjectKeyIdentifier,ce.asn1.x509.Extension),ce.asn1.x509.AuthorityInfoAccess=function(e){ce.asn1.x509.AuthorityInfoAccess.superclass.constructor.call(this,e),this.setAccessDescriptionArray=function(e){for(var t=new Array,i=ce.asn1,n=i.DERSequence,s=0;s<e.length;s++){var r=new n({array:[new i.DERObjectIdentifier(e[s].accessMethod),new i.x509.GeneralName(e[s].accessLocation)]});t.push(r)}this.asn1ExtnValue=new n({array:t})},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="1.3.6.1.5.5.7.1.1",void 0!==e&&void 0!==e.array&&this.setAccessDescriptionArray(e.array)},s.lang.extend(ce.asn1.x509.AuthorityInfoAccess,ce.asn1.x509.Extension),ce.asn1.x509.SubjectAltName=function(e){ce.asn1.x509.SubjectAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.17",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},s.lang.extend(ce.asn1.x509.SubjectAltName,ce.asn1.x509.Extension),ce.asn1.x509.IssuerAltName=function(e){ce.asn1.x509.IssuerAltName.superclass.constructor.call(this,e),this.setNameArray=function(e){this.asn1ExtnValue=new ce.asn1.x509.GeneralNames(e)},this.getExtnValueHex=function(){return this.asn1ExtnValue.getEncodedHex()},this.oid="2.5.29.18",void 0!==e&&void 0!==e.array&&this.setNameArray(e.array)},s.lang.extend(ce.asn1.x509.IssuerAltName,ce.asn1.x509.Extension),ce.asn1.x509.CRL=function(e){ce.asn1.x509.CRL.superclass.constructor.call(this),this.sign=function(){this.asn1SignatureAlg=this.asn1TBSCertList.asn1SignatureAlg,sig=new ce.crypto.Signature({alg:this.asn1SignatureAlg.nameAlg,prov:"cryptojs/jsrsa"}),sig.init(this.prvKey),sig.updateHex(this.asn1TBSCertList.getEncodedHex()),this.hexSig=sig.sign(),this.asn1Sig=new ce.asn1.DERBitString({hex:"00"+this.hexSig});var e=new ce.asn1.DERSequence({array:[this.asn1TBSCertList,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=e.getEncodedHex(),this.isModified=!1},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},this.getPEMString=function(){return"-----BEGIN X509 CRL-----\r\n"+Ee(this.getEncodedHex())+"\r\n-----END X509 CRL-----\r\n"},void 0!==e&&(void 0!==e.tbsobj&&(this.asn1TBSCertList=e.tbsobj),void 0!==e.prvkeyobj&&(this.prvKey=e.prvkeyobj))},s.lang.extend(ce.asn1.x509.CRL,ce.asn1.ASN1Object),ce.asn1.x509.TBSCertList=function(e){ce.asn1.x509.TBSCertList.superclass.constructor.call(this);var t=ce.asn1,i=t.DERSequence,n=t.x509,s=n.Time;this.setSignatureAlgByParam=function(e){this.asn1SignatureAlg=new n.AlgorithmIdentifier(e)},this.setIssuerByParam=function(e){this.asn1Issuer=new n.X500Name(e)},this.setThisUpdateByParam=function(e){this.asn1ThisUpdate=new s(e)},this.setNextUpdateByParam=function(e){this.asn1NextUpdate=new s(e)},this.addRevokedCert=function(e,t){var i={};null!=e&&null!=e&&(i.sn=e),null!=t&&null!=t&&(i.time=t);var s=new n.CRLEntry(i);this.aRevokedCert.push(s)},this.getEncodedHex=function(){if(this.asn1Array=new Array,null!=this.asn1Version&&this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1SignatureAlg),this.asn1Array.push(this.asn1Issuer),this.asn1Array.push(this.asn1ThisUpdate),null!=this.asn1NextUpdate&&this.asn1Array.push(this.asn1NextUpdate),this.aRevokedCert.length>0){var e=new i({array:this.aRevokedCert});this.asn1Array.push(e)}var t=new i({array:this.asn1Array});return this.hTLV=t.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize=function(){this.asn1Version=null,this.asn1SignatureAlg=null,this.asn1Issuer=null,this.asn1ThisUpdate=null,this.asn1NextUpdate=null,this.aRevokedCert=new Array},this._initialize()},s.lang.extend(ce.asn1.x509.TBSCertList,ce.asn1.ASN1Object),ce.asn1.x509.CRLEntry=function(e){ce.asn1.x509.CRLEntry.superclass.constructor.call(this);var t=ce.asn1;this.setCertSerial=function(e){this.sn=new t.DERInteger(e)},this.setRevocationDate=function(e){this.time=new t.x509.Time(e)},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.sn,this.time]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&(void 0!==e.time&&this.setRevocationDate(e.time),void 0!==e.sn&&this.setCertSerial(e.sn))},s.lang.extend(ce.asn1.x509.CRLEntry,ce.asn1.ASN1Object),ce.asn1.x509.X500Name=function(e){ce.asn1.x509.X500Name.superclass.constructor.call(this),this.asn1Array=new Array;var t,i=ce.asn1,n=i.x509;this.setByString=function(e){var t=e.split("/");t.shift();for(var i=[],s=0;s<t.length;s++)if(t[s].match(/^[^=]+=.+$/))i.push(t[s]);else{var r=i.length-1;i[r]=i[r]+"/"+t[s]}for(s=0;s<i.length;s++)this.asn1Array.push(new n.RDN({str:i[s]}))},this.setByLdapString=function(e){var t=n.X500Name.ldapToCompat(e);this.setByString(t)},this.setByObject=function(e){for(var t in e)if(e.hasOwnProperty(t)){var i=new ce.asn1.x509.RDN({str:t+"="+e[t]});this.asn1Array?this.asn1Array.push(i):this.asn1Array=[i]}},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new i.DERSequence({array:this.asn1Array});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.str?this.setByString(e.str):void 0!==e.ldapstr?this.setByLdapString(e.ldapstr):void 0!==e.hex?this.hTLV=e.hex:void 0!==e.certissuer?((t=new qe).readCertPEM(e.certissuer),this.hTLV=t.getIssuerHex()):void 0!==e.certsubject?((t=new qe).readCertPEM(e.certsubject),this.hTLV=t.getSubjectHex()):"object"==typeof e&&void 0===e.certsubject&&void 0===e.certissuer&&this.setByObject(e))},s.lang.extend(ce.asn1.x509.X500Name,ce.asn1.ASN1Object),ce.asn1.x509.X500Name.compatToLDAP=function(e){if("/"!==e.substr(0,1))throw"malformed input";var t=(e=e.substr(1)).split("/");return t.reverse(),(t=t.map((function(e){return e.replace(/,/,"\\,")}))).join(",")},ce.asn1.x509.X500Name.onelineToLDAP=function(e){return ce.asn1.x509.X500Name.compatToLDAP(e)},ce.asn1.x509.X500Name.ldapToCompat=function(e){for(var t=e.split(","),i=!1,n=[],s=0;t.length>0;s++){var r=t.shift();if(!0===i){var o=(n.pop()+","+r).replace(/\\,/g,",");n.push(o),i=!1}else n.push(r);"\\"===r.substr(-1,1)&&(i=!0)}return(n=n.map((function(e){return e.replace("/","\\/")}))).reverse(),"/"+n.join("/")},ce.asn1.x509.X500Name.ldapToOneline=function(e){return ce.asn1.x509.X500Name.ldapToCompat(e)},ce.asn1.x509.RDN=function(e){ce.asn1.x509.RDN.superclass.constructor.call(this),this.asn1Array=new Array,this.addByString=function(e){this.asn1Array.push(new ce.asn1.x509.AttributeTypeAndValue({str:e}))},this.addByMultiValuedString=function(e){for(var t=ce.asn1.x509.RDN.parseString(e),i=0;i<t.length;i++)this.addByString(t[i])},this.getEncodedHex=function(){var e=new ce.asn1.DERSet({array:this.asn1Array});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.addByMultiValuedString(e.str)},s.lang.extend(ce.asn1.x509.RDN,ce.asn1.ASN1Object),ce.asn1.x509.RDN.parseString=function(e){for(var t=e.split(/\+/),i=!1,n=[],s=0;t.length>0;s++){var r=t.shift();if(!0===i){var o=(n.pop()+"+"+r).replace(/\\\+/g,"+");n.push(o),i=!1}else n.push(r);"\\"===r.substr(-1,1)&&(i=!0)}var a=!1,l=[];for(s=0;n.length>0;s++){if(r=n.shift(),!0===a){var c=l.pop();r.match(/"$/)?(o=(c+"+"+r).replace(/^([^=]+)="(.*)"$/,"$1=$2"),l.push(o),a=!1):l.push(c+"+"+r)}else l.push(r);r.match(/^[^=]+="/)&&(a=!0)}return l},ce.asn1.x509.AttributeTypeAndValue=function(e){ce.asn1.x509.AttributeTypeAndValue.superclass.constructor.call(this);var t=ce.asn1;this.setByString=function(e){var t=e.match(/^([^=]+)=(.+)$/);if(!t)throw"malformed attrTypeAndValueStr: "+e;this.setByAttrTypeAndValueStr(t[1],t[2])},this.setByAttrTypeAndValueStr=function(e,t){this.typeObj=ce.asn1.x509.OID.atype2obj(e);var i="utf8";"C"==e&&(i="prn"),this.valueObj=this.getValueObj(i,t)},this.getValueObj=function(e,i){if("utf8"==e)return new t.DERUTF8String({str:i});if("prn"==e)return new t.DERPrintableString({str:i});if("tel"==e)return new t.DERTeletexString({str:i});if("ia5"==e)return new t.DERIA5String({str:i});throw"unsupported directory string type: type="+e+" value="+i},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.typeObj,this.valueObj]});return this.TLV=e.getEncodedHex(),this.TLV},void 0!==e&&void 0!==e.str&&this.setByString(e.str)},s.lang.extend(ce.asn1.x509.AttributeTypeAndValue,ce.asn1.ASN1Object),ce.asn1.x509.SubjectPublicKeyInfo=function(e){ce.asn1.x509.SubjectPublicKeyInfo.superclass.constructor.call(this);var t=ce.asn1,i=t.DERInteger,n=t.DERBitString,s=t.DERObjectIdentifier,r=t.DERSequence,o=t.ASN1Util.newObject,a=t.x509.AlgorithmIdentifier;this.getASN1Object=function(){if(null==this.asn1AlgId||null==this.asn1SubjPKey)throw"algId and/or subjPubKey not set";return new r({array:[this.asn1AlgId,this.asn1SubjPKey]})},this.getEncodedHex=function(){var e=this.getASN1Object();return this.hTLV=e.getEncodedHex(),this.hTLV},this.setPubKey=function(e){try{if(e instanceof ne){var t=o({seq:[{int:{bigint:e.n}},{int:{int:e.e}}]}).getEncodedHex();this.asn1AlgId=new a({name:"rsaEncryption"}),this.asn1SubjPKey=new n({hex:"00"+t})}}catch(c){}try{if(e instanceof ce.crypto.ECDSA){var r=new s({name:e.curveName});this.asn1AlgId=new a({name:"ecPublicKey",asn1params:r}),this.asn1SubjPKey=new n({hex:"00"+e.pubKeyHex})}}catch(c){}try{if(e instanceof ce.crypto.DSA){r=new o({seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}),this.asn1AlgId=new a({name:"dsa",asn1params:r});var l=new i({bigint:e.y});this.asn1SubjPKey=new n({hex:"00"+l.getEncodedHex()})}}catch(c){}},void 0!==e&&this.setPubKey(e)},s.lang.extend(ce.asn1.x509.SubjectPublicKeyInfo,ce.asn1.ASN1Object),ce.asn1.x509.Time=function(e){ce.asn1.x509.Time.superclass.constructor.call(this);var t=ce.asn1,i=t.DERUTCTime,n=t.DERGeneralizedTime;this.setTimeParams=function(e){this.timeParams=e},this.getEncodedHex=function(){var e=null;return e=null!=this.timeParams?"utc"==this.type?new i(this.timeParams):new n(this.timeParams):"utc"==this.type?new i:new n,this.TLV=e.getEncodedHex(),this.TLV},this.type="utc",void 0!==e&&(void 0!==e.type?this.type=e.type:void 0!==e.str&&(e.str.match(/^[0-9]{12}Z$/)&&(this.type="utc"),e.str.match(/^[0-9]{14}Z$/)&&(this.type="gen")),this.timeParams=e)},s.lang.extend(ce.asn1.x509.Time,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier=function(e){ce.asn1.x509.AlgorithmIdentifier.superclass.constructor.call(this),this.nameAlg=null,this.asn1Alg=null,this.asn1Params=null,this.paramEmpty=!1;var t=ce.asn1,i=t.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV;if(this.getEncodedHex=function(){if(null===this.nameAlg&&null===this.asn1Alg)throw new Error("algorithm not specified");if(null!==this.nameAlg){var e=null;for(var n in i)n===this.nameAlg&&(e=i[n]);if(null!==e)return this.hTLV=e,this.hTLV}null!==this.nameAlg&&null===this.asn1Alg&&(this.asn1Alg=t.x509.OID.name2obj(this.nameAlg));var s=[this.asn1Alg];null!==this.asn1Params&&s.push(this.asn1Params);var r=new t.DERSequence({array:s});return this.hTLV=r.getEncodedHex(),this.hTLV},void 0!==e&&(void 0!==e.name&&(this.nameAlg=e.name),void 0!==e.asn1params&&(this.asn1Params=e.asn1params),void 0!==e.paramempty&&(this.paramEmpty=e.paramempty)),null===this.asn1Params&&!1===this.paramEmpty&&null!==this.nameAlg){var n=this.nameAlg.toLowerCase();"withdsa"!==n.substr(-7,7)&&"withecdsa"!==n.substr(-9,9)&&(this.asn1Params=new t.DERNull)}},s.lang.extend(ce.asn1.x509.AlgorithmIdentifier,ce.asn1.ASN1Object),ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV={SHAwithRSAandMGF1:"300d06092a864886f70d01010a3000",SHA256withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040201a11a301806092a864886f70d010108300b0609608648016503040201a203020120",SHA384withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040202a11a301806092a864886f70d010108300b0609608648016503040202a203020130",SHA512withRSAandMGF1:"303d06092a864886f70d01010a3030a00d300b0609608648016503040203a11a301806092a864886f70d010108300b0609608648016503040203a203020140"},ce.asn1.x509.GeneralName=function(e){ce.asn1.x509.GeneralName.superclass.constructor.call(this);var t={rfc822:"81",dns:"82",dn:"a4",uri:"86",ip:"87"},i=ce.asn1,n=i.DEROctetString,s=i.DERIA5String,r=i.DERTaggedObject,o=i.ASN1Object,a=i.x509.X500Name,l=Fe;this.explicit=!1,this.setByParam=function(e){var i=null;if(void 0!==e){if(void 0!==e.rfc822&&(this.type="rfc822",i=new s({str:e[this.type]})),void 0!==e.dns&&(this.type="dns",i=new s({str:e[this.type]})),void 0!==e.uri&&(this.type="uri",i=new s({str:e[this.type]})),void 0!==e.dn&&(this.type="dn",this.explicit=!0,i="string"==typeof e.dn?new a({str:e.dn}):e.dn instanceof ce.asn1.x509.X500Name?e.dn:new a(e.dn)),void 0!==e.ldapdn&&(this.type="dn",this.explicit=!0,i=new a({ldapstr:e.ldapdn})),void 0!==e.certissuer){this.type="dn",this.explicit=!0;var c=null;if((u=e.certissuer).match(/^[0-9A-Fa-f]+$/),-1!=u.indexOf("-----BEGIN ")&&(c=l(u)),null==c)throw"certissuer param not cert";(d=new qe).hex=c;var h=d.getIssuerHex();(i=new o).hTLV=h}if(void 0!==e.certsubj){var u,d;if(this.type="dn",this.explicit=!0,c=null,(u=e.certsubj).match(/^[0-9A-Fa-f]+$/),-1!=u.indexOf("-----BEGIN ")&&(c=l(u)),null==c)throw"certsubj param not cert";(d=new qe).hex=c,h=d.getSubjectHex(),(i=new o).hTLV=h}if(void 0!==e.ip){this.type="ip",this.explicit=!1;var p,f=e.ip,g="malformed IP address";if(f.match(/^[0-9.]+[.][0-9.]+$/)){if(8!==(p=He("["+f.split(".").join(",")+"]")).length)throw g}else if(f.match(/^[0-9A-Fa-f:]+:[0-9A-Fa-f:]+$/))p=Pe(f);else{if(!f.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw g;p=f}i=new n({hex:p})}if(null==this.type)throw"unsupported type in params="+e;this.asn1Obj=new r({explicit:this.explicit,tag:t[this.type],obj:i})}},this.getEncodedHex=function(){return this.asn1Obj.getEncodedHex()},void 0!==e&&this.setByParam(e)},s.lang.extend(ce.asn1.x509.GeneralName,ce.asn1.ASN1Object),ce.asn1.x509.GeneralNames=function(e){ce.asn1.x509.GeneralNames.superclass.constructor.call(this);var t=ce.asn1;this.setByParamArray=function(e){for(var i=0;i<e.length;i++){var n=new t.x509.GeneralName(e[i]);this.asn1Array.push(n)}},this.getEncodedHex=function(){return new t.DERSequence({array:this.asn1Array}).getEncodedHex()},this.asn1Array=new Array,void 0!==e&&this.setByParamArray(e)},s.lang.extend(ce.asn1.x509.GeneralNames,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPointName=function(e){ce.asn1.x509.DistributionPointName.superclass.constructor.call(this);var t=ce.asn1,i=t.DERTaggedObject;if(this.getEncodedHex=function(){if("full"!=this.type)throw"currently type shall be 'full': "+this.type;return this.asn1Obj=new i({explicit:!1,tag:this.tag,obj:this.asn1V}),this.hTLV=this.asn1Obj.getEncodedHex(),this.hTLV},void 0!==e){if(!t.x509.GeneralNames.prototype.isPrototypeOf(e))throw"This class supports GeneralNames only as argument";this.type="full",this.tag="a0",this.asn1V=e}},s.lang.extend(ce.asn1.x509.DistributionPointName,ce.asn1.ASN1Object),ce.asn1.x509.DistributionPoint=function(e){ce.asn1.x509.DistributionPoint.superclass.constructor.call(this);var t=ce.asn1;this.getEncodedHex=function(){var e=new t.DERSequence;if(null!=this.asn1DP){var i=new t.DERTaggedObject({explicit:!0,tag:"a0",obj:this.asn1DP});e.appendASN1Object(i)}return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.dpobj&&(this.asn1DP=e.dpobj)},s.lang.extend(ce.asn1.x509.DistributionPoint,ce.asn1.ASN1Object),ce.asn1.x509.OID=new function(e){this.atype2oidList={CN:"2.5.4.3",L:"2.5.4.7",ST:"2.5.4.8",O:"2.5.4.10",OU:"2.5.4.11",C:"2.5.4.6",STREET:"2.5.4.9",DC:"0.9.2342.19200300.100.1.25",UID:"0.9.2342.19200300.100.1.1",SN:"2.5.4.4",T:"2.5.4.12",DN:"2.5.4.49",E:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",serialNumber:"2.5.4.5",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3"},this.name2oidList={sha1:"1.3.14.3.2.26",sha256:"2.16.840.1.101.3.4.2.1",sha384:"2.16.840.1.101.3.4.2.2",sha512:"2.16.840.1.101.3.4.2.3",sha224:"2.16.840.1.101.3.4.2.4",md5:"1.2.840.113549.2.5",md2:"1.3.14.7.2.2.1",ripemd160:"1.3.36.3.2.1",MD2withRSA:"1.2.840.113549.1.1.2",MD4withRSA:"1.2.840.113549.1.1.3",MD5withRSA:"1.2.840.113549.1.1.4",SHA1withRSA:"1.2.840.113549.1.1.5",SHA224withRSA:"1.2.840.113549.1.1.14",SHA256withRSA:"1.2.840.113549.1.1.11",SHA384withRSA:"1.2.840.113549.1.1.12",SHA512withRSA:"1.2.840.113549.1.1.13",SHA1withECDSA:"1.2.840.10045.4.1",SHA224withECDSA:"1.2.840.10045.4.3.1",SHA256withECDSA:"1.2.840.10045.4.3.2",SHA384withECDSA:"1.2.840.10045.4.3.3",SHA512withECDSA:"1.2.840.10045.4.3.4",dsa:"1.2.840.10040.4.1",SHA1withDSA:"1.2.840.10040.4.3",SHA224withDSA:"2.16.840.1.101.3.4.3.1",SHA256withDSA:"2.16.840.1.101.3.4.3.2",rsaEncryption:"1.2.840.113549.1.1.1",commonName:"2.5.4.3",countryName:"2.5.4.6",localityName:"2.5.4.7",stateOrProvinceName:"2.5.4.8",streetAddress:"2.5.4.9",organizationName:"2.5.4.10",organizationalUnitName:"2.5.4.11",domainComponent:"0.9.2342.19200300.100.1.25",userId:"0.9.2342.19200300.100.1.1",surname:"2.5.4.4",title:"2.5.4.12",distinguishedName:"2.5.4.49",emailAddress:"1.2.840.113549.1.9.1",description:"2.5.4.13",businessCategory:"2.5.4.15",postalCode:"2.5.4.17",uniqueIdentifier:"2.5.4.45",organizationIdentifier:"2.5.4.97",jurisdictionOfIncorporationL:"1.3.6.1.4.1.311.60.2.1.1",jurisdictionOfIncorporationSP:"1.3.6.1.4.1.311.60.2.1.2",jurisdictionOfIncorporationC:"1.3.6.1.4.1.311.60.2.1.3",subjectKeyIdentifier:"2.5.29.14",keyUsage:"2.5.29.15",subjectAltName:"2.5.29.17",issuerAltName:"2.5.29.18",basicConstraints:"2.5.29.19",nameConstraints:"2.5.29.30",cRLDistributionPoints:"2.5.29.31",certificatePolicies:"2.5.29.32",authorityKeyIdentifier:"2.5.29.35",policyConstraints:"2.5.29.36",extKeyUsage:"2.5.29.37",authorityInfoAccess:"1.3.6.1.5.5.7.1.1",ocsp:"1.3.6.1.5.5.7.48.1",caIssuers:"1.3.6.1.5.5.7.48.2",anyExtendedKeyUsage:"2.5.29.37.0",serverAuth:"1.3.6.1.5.5.7.3.1",clientAuth:"1.3.6.1.5.5.7.3.2",codeSigning:"1.3.6.1.5.5.7.3.3",emailProtection:"1.3.6.1.5.5.7.3.4",timeStamping:"1.3.6.1.5.5.7.3.8",ocspSigning:"1.3.6.1.5.5.7.3.9",ecPublicKey:"1.2.840.10045.2.1",secp256r1:"1.2.840.10045.3.1.7",secp256k1:"1.3.132.0.10",secp384r1:"1.3.132.0.34",pkcs5PBES2:"1.2.840.113549.1.5.13",pkcs5PBKDF2:"1.2.840.113549.1.5.12","des-EDE3-CBC":"1.2.840.113549.3.7",data:"1.2.840.113549.1.7.1","signed-data":"1.2.840.113549.1.7.2","enveloped-data":"1.2.840.113549.1.7.3","digested-data":"1.2.840.113549.1.7.5","encrypted-data":"1.2.840.113549.1.7.6","authenticated-data":"1.2.840.113549.1.9.16.1.2",tstinfo:"1.2.840.113549.1.9.16.1.4",extensionRequest:"1.2.840.113549.1.9.14"},this.objCache={},this.name2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.name2oidList[e])throw"Name of ObjectIdentifier not defined: "+e;var t=new ce.asn1.DERObjectIdentifier({oid:this.name2oidList[e]});return this.objCache[e]=t,t},this.atype2obj=function(e){if(void 0!==this.objCache[e])return this.objCache[e];if(void 0===this.atype2oidList[e])throw"AttributeType name undefined: "+e;var t=new ce.asn1.DERObjectIdentifier({oid:this.atype2oidList[e]});return this.objCache[e]=t,t}},ce.asn1.x509.OID.oid2name=function(e){var t=ce.asn1.x509.OID.name2oidList;for(var i in t)if(t[i]==e)return i;return""},ce.asn1.x509.OID.oid2atype=function(e){var t=ce.asn1.x509.OID.atype2oidList;for(var i in t)if(t[i]==e)return i;return e},ce.asn1.x509.OID.name2oid=function(e){var t=ce.asn1.x509.OID.name2oidList;return void 0===t[e]?"":t[e]},ce.asn1.x509.X509Util={},ce.asn1.x509.X509Util.newCertPEM=function(e){var t=ce.asn1.x509,i=t.Certificate,n=new(0,t.TBSCertificate);if(void 0===e.serial)throw"serial number undefined.";if(n.setSerialNumberByParam(e.serial),"string"!=typeof e.sigalg.name)throw"unproper signature algorithm name";if(n.setSignatureAlgByParam(e.sigalg),void 0===e.issuer)throw"issuer name undefined.";if(n.setIssuerByParam(e.issuer),void 0===e.notbefore)throw"notbefore undefined.";if(n.setNotBeforeByParam(e.notbefore),void 0===e.notafter)throw"notafter undefined.";if(n.setNotAfterByParam(e.notafter),void 0===e.subject)throw"subject name undefined.";if(n.setSubjectByParam(e.subject),void 0===e.sbjpubkey)throw"subject public key undefined.";if(n.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var s=0;s<e.ext.length;s++)for(key in e.ext[s])n.appendExtensionByName(key,e.ext[s][key]);if(void 0===e.cakey&&void 0===e.sighex)throw"param cakey and sighex undefined.";var r=null;return e.cakey&&(r=new i({tbscertobj:n,prvkeyobj:!0===e.cakey.isPrivate?e.cakey:Be.getKey.apply(null,e.cakey)})).sign(),e.sighex&&(r=new i({tbscertobj:n})).setSignatureHex(e.sighex),r.getPEMString()},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cms&&ce.asn1.cms||(ce.asn1.cms={}),ce.asn1.cms.Attribute=function(e){var t=ce.asn1;t.cms.Attribute.superclass.constructor.call(this),this.getEncodedHex=function(){var e,i,n;e=new t.DERObjectIdentifier({oid:this.attrTypeOid}),i=new t.DERSet({array:this.valueList});try{i.getEncodedHex()}catch(s){throw"fail valueSet.getEncodedHex in Attribute(1)/"+s}n=new t.DERSequence({array:[e,i]});try{this.hTLV=n.getEncodedHex()}catch(s){throw"failed seq.getEncodedHex in Attribute(2)/"+s}return this.hTLV}},s.lang.extend(ce.asn1.cms.Attribute,ce.asn1.ASN1Object),ce.asn1.cms.ContentType=function(e){var t=ce.asn1;t.cms.ContentType.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.3";var i=null;void 0!==e&&(i=new t.DERObjectIdentifier(e),this.valueList=[i])},s.lang.extend(ce.asn1.cms.ContentType,ce.asn1.cms.Attribute),ce.asn1.cms.MessageDigest=function(e){var t,i=ce,n=i.asn1,s=n.DEROctetString,r=n.cms;r.MessageDigest.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.4",void 0!==e&&(e.eciObj instanceof r.EncapsulatedContentInfo&&"string"==typeof e.hashAlg?((t=new s({hex:i.crypto.Util.hashHex(e.eciObj.eContentValueHex,e.hashAlg)})).getEncodedHex(),this.valueList=[t]):((t=new s(e)).getEncodedHex(),this.valueList=[t]))},s.lang.extend(ce.asn1.cms.MessageDigest,ce.asn1.cms.Attribute),ce.asn1.cms.SigningTime=function(e){var t=ce.asn1;if(t.cms.SigningTime.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.5",void 0!==e){var i=new t.x509.Time(e);try{i.getEncodedHex()}catch(a){throw"SigningTime.getEncodedHex() failed/"+a}this.valueList=[i]}},s.lang.extend(ce.asn1.cms.SigningTime,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificate=function(e){var t=ce,i=t.asn1,n=i.DERSequence,s=i.cms;s.SigningCertificate.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.12",this.setCerts=function(e){for(var r=[],o=0;o<e.length;o++){var a=Fe(e[o]),l=t.crypto.Util.hashHex(a,"sha1"),c=new i.DEROctetString({hex:l});c.getEncodedHex();var h=new s.IssuerSerial({cert:e[o]});h.getEncodedHex();var u=new n({array:[c,h]});u.getEncodedHex(),r.push(u)}var d=new n({array:r});d.getEncodedHex(),this.valueList=[d]},void 0!==e&&"object"==typeof e.array&&this.setCerts(e.array)},s.lang.extend(ce.asn1.cms.SigningCertificate,ce.asn1.cms.Attribute),ce.asn1.cms.SigningCertificateV2=function(e){var t=ce.asn1,i=t.DERSequence,n=t.x509,s=t.cms,r=ce.crypto;if(s.SigningCertificateV2.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.47",this.setCerts=function(e,o){for(var a=[],l=0;l<e.length;l++){var c=Fe(e[l]),h=[];"sha256"!==o&&h.push(new n.AlgorithmIdentifier({name:o}));var u=r.Util.hashHex(c,o),d=new t.DEROctetString({hex:u});d.getEncodedHex(),h.push(d);var p=new s.IssuerSerial({cert:e[l]});p.getEncodedHex(),h.push(p);var f=new i({array:h});f.getEncodedHex(),a.push(f)}var g=new i({array:a});g.getEncodedHex(),this.valueList=[g]},void 0!==e&&"object"==typeof e.array){var o="sha256";"string"==typeof e.hashAlg&&(o=e.hashAlg),this.setCerts(e.array,o)}},s.lang.extend(ce.asn1.cms.SigningCertificateV2,ce.asn1.cms.Attribute),ce.asn1.cms.IssuerSerial=function(e){var t=ce.asn1,i=t.DERInteger,n=t.x509,s=n.X500Name,r=n.GeneralNames,o=qe;t.cms.IssuerSerial.superclass.constructor.call(this),this.setByCertPEM=function(e){var t=Fe(e),n=new o;n.hex=t;var r=n.getIssuerHex();this.dIssuer=new s,this.dIssuer.hTLV=r;var a=n.getSerialNumberHex();this.dSerial=new i({hex:a})},this.getEncodedHex=function(){var e=new r([{dn:this.dIssuer}]),i=new t.DERSequence({array:[e,this.dSerial]});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(this.dIssuer=e.issuer instanceof s?e.issuer:new s(e.issuer),this.dSerial=e.serial instanceof i?e.serial:new i(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},s.lang.extend(ce.asn1.cms.IssuerSerial,ce.asn1.ASN1Object),ce.asn1.cms.IssuerAndSerialNumber=function(e){var t=ce.asn1,i=t.DERInteger,n=t.x509.X500Name,s=qe;t.cms.IssuerAndSerialNumber.superclass.constructor.call(this),this.setByCertPEM=function(e){var t=Fe(e),r=new s;r.hex=t;var o=r.getIssuerHex();this.dIssuer=new n,this.dIssuer.hTLV=o;var a=r.getSerialNumberHex();this.dSerial=new i({hex:a})},this.getEncodedHex=function(){var e=new t.DERSequence({array:[this.dIssuer,this.dSerial]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),e.issuer&&e.serial&&(this.dIssuer=e.issuer instanceof n?e.issuer:new n(e.issuer),this.dSerial=e.serial instanceof i?e.serial:new i(e.serial)),"string"==typeof e.cert&&this.setByCertPEM(e.cert))},s.lang.extend(ce.asn1.cms.IssuerAndSerialNumber,ce.asn1.ASN1Object),ce.asn1.cms.AttributeList=function(e){var t=ce.asn1,i=t.cms;i.AttributeList.superclass.constructor.call(this),this.list=new Array,this.sortFlag=!0,this.add=function(e){e instanceof i.Attribute&&this.list.push(e)},this.length=function(){return this.list.length},this.clear=function(){this.list=new Array,this.hTLV=null,this.hV=null},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;var e=new t.DERSet({array:this.list,sortflag:this.sortFlag});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},s.lang.extend(ce.asn1.cms.AttributeList,ce.asn1.ASN1Object),ce.asn1.cms.SignerInfo=function(e){var t=ce.asn1,i=t.DERTaggedObject,n=t.cms,s=n.AttributeList,r=n.ContentType,o=n.EncapsulatedContentInfo,a=n.MessageDigest,l=n.SignedData,c=t.x509.AlgorithmIdentifier,h=ce.crypto,u=Be;n.SignerInfo.superclass.constructor.call(this),this.dCMSVersion=new t.DERInteger({int:1}),this.dSignerIdentifier=null,this.dDigestAlgorithm=null,this.dSignedAttrs=new s,this.dSigAlg=null,this.dSig=null,this.dUnsignedAttrs=new s,this.setSignerIdentifier=function(e){"string"==typeof e&&-1!=e.indexOf("CERTIFICATE")&&-1!=e.indexOf("BEGIN")&&-1!=e.indexOf("END")&&(this.dSignerIdentifier=new n.IssuerAndSerialNumber({cert:e}))},this.setForContentAndHash=function(e){void 0!==e&&(e.eciObj instanceof o&&(this.dSignedAttrs.add(new r({oid:"1.2.840.113549.1.7.1"})),this.dSignedAttrs.add(new a({eciObj:e.eciObj,hashAlg:e.hashAlg}))),void 0!==e.sdObj&&e.sdObj instanceof l&&-1==e.sdObj.digestAlgNameList.join(":").indexOf(e.hashAlg)&&e.sdObj.digestAlgNameList.push(e.hashAlg),"string"==typeof e.hashAlg&&(this.dDigestAlgorithm=new c({name:e.hashAlg})))},this.sign=function(e,i){this.dSigAlg=new c({name:i});var n=this.dSignedAttrs.getEncodedHex(),s=u.getKey(e),r=new h.Signature({alg:i});r.init(s),r.updateHex(n);var o=r.sign();this.dSig=new t.DEROctetString({hex:o})},this.addUnsigned=function(e){this.hTLV=null,this.dUnsignedAttrs.hTLV=null,this.dUnsignedAttrs.add(e)},this.getEncodedHex=function(){if(this.dSignedAttrs instanceof s&&0==this.dSignedAttrs.length())throw"SignedAttrs length = 0 (empty)";var e=new i({obj:this.dSignedAttrs,tag:"a0",explicit:!1}),n=null;this.dUnsignedAttrs.length()>0&&(n=new i({obj:this.dUnsignedAttrs,tag:"a1",explicit:!1}));var r=[this.dCMSVersion,this.dSignerIdentifier,this.dDigestAlgorithm,e,this.dSigAlg,this.dSig];null!=n&&r.push(n);var o=new t.DERSequence({array:r});return this.hTLV=o.getEncodedHex(),this.hTLV}},s.lang.extend(ce.asn1.cms.SignerInfo,ce.asn1.ASN1Object),ce.asn1.cms.EncapsulatedContentInfo=function(e){var t=ce.asn1,i=t.DERTaggedObject,n=t.DERSequence,s=t.DERObjectIdentifier,r=t.DEROctetString;t.cms.EncapsulatedContentInfo.superclass.constructor.call(this),this.dEContentType=new s({name:"data"}),this.dEContent=null,this.isDetached=!1,this.eContentValueHex=null,this.setContentType=function(e){this.dEContentType=e.match(/^[0-2][.][0-9.]+$/)?new s({oid:e}):new s({name:e})},this.setContentValue=function(e){void 0!==e&&("string"==typeof e.hex?this.eContentValueHex=e.hex:"string"==typeof e.str&&(this.eContentValueHex=Ce(e.str)))},this.setContentValueHex=function(e){this.eContentValueHex=e},this.setContentValueStr=function(e){this.eContentValueHex=Ce(e)},this.getEncodedHex=function(){if("string"!=typeof this.eContentValueHex)throw"eContentValue not yet set";var e=new r({hex:this.eContentValueHex});this.dEContent=new i({obj:e,tag:"a0",explicit:!0});var t=[this.dEContentType];this.isDetached||t.push(this.dEContent);var s=new n({array:t});return this.hTLV=s.getEncodedHex(),this.hTLV}},s.lang.extend(ce.asn1.cms.EncapsulatedContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.ContentInfo=function(e){var t=ce.asn1,i=t.DERTaggedObject,n=t.DERSequence,s=t.x509;ce.asn1.cms.ContentInfo.superclass.constructor.call(this),this.dContentType=null,this.dContent=null,this.setContentType=function(e){"string"==typeof e&&(this.dContentType=s.OID.name2obj(e))},this.getEncodedHex=function(){var e=new i({obj:this.dContent,tag:"a0",explicit:!0}),t=new n({array:[this.dContentType,e]});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&(e.type&&this.setContentType(e.type),e.obj&&e.obj instanceof t.ASN1Object&&(this.dContent=e.obj))},s.lang.extend(ce.asn1.cms.ContentInfo,ce.asn1.ASN1Object),ce.asn1.cms.SignedData=function(e){var t=ce.asn1,i=t.ASN1Object,n=t.DERInteger,s=t.DERSet,r=t.DERSequence,o=t.DERTaggedObject,a=t.cms,l=a.EncapsulatedContentInfo,c=a.SignerInfo,h=a.ContentInfo,u=t.x509.AlgorithmIdentifier;ce.asn1.cms.SignedData.superclass.constructor.call(this),this.dCMSVersion=new n({int:1}),this.dDigestAlgs=null,this.digestAlgNameList=[],this.dEncapContentInfo=new l,this.dCerts=null,this.certificateList=[],this.crlList=[],this.signerInfoList=[new c],this.addCertificatesByPEM=function(e){var t=Fe(e),n=new i;n.hTLV=t,this.certificateList.push(n)},this.getEncodedHex=function(){if("string"==typeof this.hTLV)return this.hTLV;if(null==this.dDigestAlgs){for(var e=[],t=0;t<this.digestAlgNameList.length;t++){var i=new u({name:this.digestAlgNameList[t]});e.push(i)}this.dDigestAlgs=new s({array:e})}var n=[this.dCMSVersion,this.dDigestAlgs,this.dEncapContentInfo];if(null==this.dCerts&&this.certificateList.length>0){var a=new s({array:this.certificateList});this.dCerts=new o({obj:a,tag:"a0",explicit:!1})}null!=this.dCerts&&n.push(this.dCerts);var l=new s({array:this.signerInfoList});n.push(l);var c=new r({array:n});return this.hTLV=c.getEncodedHex(),this.hTLV},this.getContentInfo=function(){return this.getEncodedHex(),new h({type:"signed-data",obj:this})},this.getContentInfoEncodedHex=function(){return this.getContentInfo().getEncodedHex()},this.getPEM=function(){return Te(this.getContentInfoEncodedHex(),"CMS")}},s.lang.extend(ce.asn1.cms.SignedData,ce.asn1.ASN1Object),ce.asn1.cms.CMSUtil=new function(){},ce.asn1.cms.CMSUtil.newSignedData=function(e){var t=ce.asn1,i=t.cms,n=i.SignerInfo,s=i.SigningTime,r=i.SigningCertificate,o=i.SigningCertificateV2,a=t.cades.SignaturePolicyIdentifier,l=new(0,i.SignedData);if(l.dEncapContentInfo.setContentValue(e.content),"boolean"==typeof e.detached&&(l.dEncapContentInfo.isDetached=e.detached),"object"==typeof e.certs)for(var c=0;c<e.certs.length;c++)l.addCertificatesByPEM(e.certs[c]);for(l.signerInfoList=[],c=0;c<e.signerInfos.length;c++){var h=e.signerInfos[c],u=new n;for(attrName in u.setSignerIdentifier(h.signerCert),u.setForContentAndHash({sdObj:l,eciObj:l.dEncapContentInfo,hashAlg:h.hashAlg}),h.sAttr){var d=h.sAttr[attrName];if("SigningTime"==attrName){var p=new s(d);u.dSignedAttrs.add(p)}"SigningCertificate"==attrName&&(p=new r(d),u.dSignedAttrs.add(p)),"SigningCertificateV2"==attrName&&(p=new o(d),u.dSignedAttrs.add(p)),"SignaturePolicyIdentifier"==attrName&&(p=new a(d),u.dSignedAttrs.add(p))}u.sign(h.signerPrvKey,h.sigAlg),l.signerInfoList.push(u)}return l},ce.asn1.cms.CMSUtil.verifySignedData=function(e){var t=de.getVbyList,i=de.getTLVbyList,n=de.getIdxbyList,s=de.getChildIdx,r=de.getTLV,o=de.oidname,a=ce.crypto.Util.hashHex;void 0===e.cms&&(0,ce.lang.String.isHex)(e.cms);var l=e.cms,c=function(e,r){var a=r.idx;r.signerid_issuer1=i(e,a,[1,0],"30"),r.signerid_serial1=t(e,a,[1,1],"02"),r.hashalg=o(t(e,a,[2,0],"06"));var l=n(e,a,[3],"a0");r.idxSignedAttrs=l,h(e,r,l);var c=s(e,a).length;if(c<6)throw"malformed SignerInfo";r.sigalg=o(t(e,a,[c-2,0],"06")),r.sigval=t(e,a,[c-1],"04")},h=function(e,i,n){var r=s(e,n);i.signedAttrIdxList=r;for(var o=0;o<r.length;o++){var a,l=r[o],c=t(e,l,[0],"06");"2a864886f70d010905"===c?(a=xe(t(e,l,[1,0])),i.saSigningTime=a):"2a864886f70d010904"===c&&(a=t(e,l,[1,0],"04"),i.saMessageDigest=a)}},u=function(e,t,i,n){i.verifyDetail={};var o=i.verifyDetail,l=t.parse.econtent,c=i.hashalg,h=i.saMessageDigest;o.validMessageDigest=!1,a(l,c)===h&&(o.validMessageDigest=!0),function(e,t,i,n){var o,a=t.parse.certsIdx;if(void 0===t.certs){o=[],t.certkeys=[];for(var l=s(e,a),c=0;c<l.length;c++){var h=r(e,l[c]),u=new qe;u.readCertHex(h),o[c]=u,t.certkeys[c]=u.getPublicKey()}t.certs=o}else o=t.certs;for(t.cccc=o.length,t.cccci=l.length,c=0;c<o.length;c++){var d=u.getIssuerHex(),p=u.getSerialNumberHex();i.signerid_issuer1===d&&i.signerid_serial1===p&&(i.certkey_idx=c)}}(e,t,i),o.validSignatureValue=!1;var u=i.sigalg,d="31"+r(e,i.idxSignedAttrs).substr(2);i.signedattrshex=d;var p=t.certs[i.certkey_idx].getPublicKey(),f=new ce.crypto.Signature({alg:u});f.init(p),f.updateHex(d);var g=f.verify(i.sigval);o.validSignatureValue_isValid=g,!0===g&&(o.validSignatureValue=!0),i.isValid=!1,o.validMessageDigest&&o.validSignatureValue&&(i.isValid=!0)},d={isValid:!1,parse:{}};return function(e,i){if("2a864886f70d010702"!==t(e,0,[0],"06"))return i;i.cmsType="signedData",i.econtent=t(e,0,[1,0,2,1,0]),function(e,t){for(var i,s=3;s<6;s++)if(void 0!==(i=n(e,0,[1,0,s]))){var r=e.substr(i,2);"a0"===r&&(t.certsIdx=i),"a1"===r&&(t.revinfosIdx=i),"31"===r&&(t.signerinfosIdx=i)}}(e,i),i.signerInfos=[],function(e,t){var i=t.signerinfosIdx;if(void 0!==i){var n=s(e,i);t.signerInfoIdxList=n;for(var r=0;r<n.length;r++){var o={idx:n[r]};c(e,o),t.signerInfos.push(o)}}}(e,i)}(l,d.parse),function(e,t){for(var i=t.parse.signerInfos,n=i.length,s=!0,r=0;r<n;r++){var o=i[r];u(e,t,o),o.isValid||(s=!1)}t.isValid=s}(l,d),d},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.tsp&&ce.asn1.tsp||(ce.asn1.tsp={}),ce.asn1.tsp.Accuracy=function(e){var t=ce.asn1,i=t.DERInteger,n=t.DERSequence,s=t.DERTaggedObject;t.tsp.Accuracy.superclass.constructor.call(this),this.seconds=null,this.millis=null,this.micros=null,this.getEncodedHex=function(){var e=null,t=null,r=null,o=[];if(null!=this.seconds&&(e=new i({int:this.seconds}),o.push(e)),null!=this.millis){var a=new i({int:this.millis});t=new s({obj:a,tag:"80",explicit:!1}),o.push(t)}if(null!=this.micros){var l=new i({int:this.micros});r=new s({obj:l,tag:"81",explicit:!1}),o.push(r)}var c=new n({array:o});return this.hTLV=c.getEncodedHex(),this.hTLV},void 0!==e&&("number"==typeof e.seconds&&(this.seconds=e.seconds),"number"==typeof e.millis&&(this.millis=e.millis),"number"==typeof e.micros&&(this.micros=e.micros))},s.lang.extend(ce.asn1.tsp.Accuracy,ce.asn1.ASN1Object),ce.asn1.tsp.MessageImprint=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DEROctetString,s=t.x509.AlgorithmIdentifier;t.tsp.MessageImprint.superclass.constructor.call(this),this.dHashAlg=null,this.dHashValue=null,this.getEncodedHex=function(){return"string"==typeof this.hTLV?this.hTLV:new i({array:[this.dHashAlg,this.dHashValue]}).getEncodedHex()},void 0!==e&&("string"==typeof e.hashAlg&&(this.dHashAlg=new s({name:e.hashAlg})),"string"==typeof e.hashValue&&(this.dHashValue=new n({hex:e.hashValue})))},s.lang.extend(ce.asn1.tsp.MessageImprint,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampReq=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DERInteger,s=t.DERBoolean,r=t.DERObjectIdentifier,o=t.tsp,a=o.MessageImprint;o.TimeStampReq.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dMessageImprint=null,this.dPolicy=null,this.dNonce=null,this.certReq=!0,this.setMessageImprint=function(e){e instanceof a?this.dMessageImprint=e:"object"==typeof e&&(this.dMessageImprint=new a(e))},this.getEncodedHex=function(){if(null==this.dMessageImprint)throw"messageImprint shall be specified";var e=[this.dVersion,this.dMessageImprint];null!=this.dPolicy&&e.push(this.dPolicy),null!=this.dNonce&&e.push(this.dNonce),this.certReq&&e.push(new s);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.mi&&this.setMessageImprint(e.mi),"object"==typeof e.policy&&(this.dPolicy=new r(e.policy)),"object"==typeof e.nonce&&(this.dNonce=new n(e.nonce)),"boolean"==typeof e.certreq&&(this.certReq=e.certreq))},s.lang.extend(ce.asn1.tsp.TimeStampReq,ce.asn1.ASN1Object),ce.asn1.tsp.TSTInfo=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DERInteger,s=t.DERBoolean,r=t.DERGeneralizedTime,o=t.DERObjectIdentifier,a=t.tsp,l=a.MessageImprint,c=a.Accuracy,h=t.x509.X500Name;if(a.TSTInfo.superclass.constructor.call(this),this.dVersion=new n({int:1}),this.dPolicy=null,this.dMessageImprint=null,this.dSerialNumber=null,this.dGenTime=null,this.dAccuracy=null,this.dOrdering=null,this.dNonce=null,this.dTsa=null,this.getEncodedHex=function(){var e=[this.dVersion];if(null==this.dPolicy)throw"policy shall be specified.";if(e.push(this.dPolicy),null==this.dMessageImprint)throw"messageImprint shall be specified.";if(e.push(this.dMessageImprint),null==this.dSerialNumber)throw"serialNumber shall be specified.";if(e.push(this.dSerialNumber),null==this.dGenTime)throw"genTime shall be specified.";e.push(this.dGenTime),null!=this.dAccuracy&&e.push(this.dAccuracy),null!=this.dOrdering&&e.push(this.dOrdering),null!=this.dNonce&&e.push(this.dNonce),null!=this.dTsa&&e.push(this.dTsa);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){if("string"==typeof e.policy){if(!e.policy.match(/^[0-9.]+$/))throw"policy shall be oid like 0.1.4.134";this.dPolicy=new o({oid:e.policy})}void 0!==e.messageImprint&&(this.dMessageImprint=new l(e.messageImprint)),void 0!==e.serialNumber&&(this.dSerialNumber=new n(e.serialNumber)),void 0!==e.genTime&&(this.dGenTime=new r(e.genTime)),void 0!==e.accuracy&&(this.dAccuracy=new c(e.accuracy)),void 0!==e.ordering&&1==e.ordering&&(this.dOrdering=new s),void 0!==e.nonce&&(this.dNonce=new n(e.nonce)),void 0!==e.tsa&&(this.dTsa=new h(e.tsa))}},s.lang.extend(ce.asn1.tsp.TSTInfo,ce.asn1.ASN1Object),ce.asn1.tsp.TimeStampResp=function(e){var t=ce.asn1,i=t.DERSequence,n=t.ASN1Object,s=t.tsp,r=s.PKIStatusInfo;s.TimeStampResp.superclass.constructor.call(this),this.dStatus=null,this.dTST=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dTST&&e.push(this.dTST);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new r(e.status)),void 0!==e.tst&&e.tst instanceof n&&(this.dTST=e.tst.getContentInfo()))},s.lang.extend(ce.asn1.tsp.TimeStampResp,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatusInfo=function(e){var t=ce.asn1,i=t.DERSequence,n=t.tsp,s=n.PKIStatus,r=n.PKIFreeText,o=n.PKIFailureInfo;n.PKIStatusInfo.superclass.constructor.call(this),this.dStatus=null,this.dStatusString=null,this.dFailureInfo=null,this.getEncodedHex=function(){if(null==this.dStatus)throw"status shall be specified";var e=[this.dStatus];null!=this.dStatusString&&e.push(this.dStatusString),null!=this.dFailureInfo&&e.push(this.dFailureInfo);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&("object"==typeof e.status&&(this.dStatus=new s(e.status)),"object"==typeof e.statstr&&(this.dStatusString=new r({array:e.statstr})),"object"==typeof e.failinfo&&(this.dFailureInfo=new o(e.failinfo)))},s.lang.extend(ce.asn1.tsp.PKIStatusInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus=function(e){var t=ce.asn1,i=t.DERInteger,n=t.tsp,s=n.PKIStatus;if(n.PKIStatus.superclass.constructor.call(this),this.getEncodedHex=function(){return this.hTLV=this.dStatus.getEncodedHex(),this.hTLV},void 0!==e)if(void 0!==e.name){var r=s.valueList;if(void 0===r[e.name])throw"name undefined: "+e.name;this.dStatus=new i({int:r[e.name]})}else this.dStatus=new i(e)},s.lang.extend(ce.asn1.tsp.PKIStatus,ce.asn1.ASN1Object),ce.asn1.tsp.PKIStatus.valueList={granted:0,grantedWithMods:1,rejection:2,waiting:3,revocationWarning:4,revocationNotification:5},ce.asn1.tsp.PKIFreeText=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DERUTF8String;t.tsp.PKIFreeText.superclass.constructor.call(this),this.textList=[],this.getEncodedHex=function(){for(var e=[],t=0;t<this.textList.length;t++)e.push(new n({str:this.textList[t]}));var s=new i({array:e});return this.hTLV=s.getEncodedHex(),this.hTLV},void 0!==e&&"object"==typeof e.array&&(this.textList=e.array)},s.lang.extend(ce.asn1.tsp.PKIFreeText,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo=function(e){var t=ce.asn1,i=t.DERBitString,n=t.tsp.PKIFailureInfo;if(n.superclass.constructor.call(this),this.value=null,this.getEncodedHex=function(){if(null==this.value)throw"value shall be specified";var e=new Number(this.value).toString(2),t=new i;return t.setByBinaryString(e),this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e)if("string"==typeof e.name){var s=n.valueList;if(void 0===s[e.name])throw"name undefined: "+e.name;this.value=s[e.name]}else"number"==typeof e.int&&(this.value=e.int)},s.lang.extend(ce.asn1.tsp.PKIFailureInfo,ce.asn1.ASN1Object),ce.asn1.tsp.PKIFailureInfo.valueList={badAlg:0,badRequest:2,badDataFormat:5,timeNotAvailable:14,unacceptedPolicy:15,unacceptedExtension:16,addInfoNotAvailable:17,systemFailure:25},ce.asn1.tsp.AbstractTSAAdapter=function(e){this.getTSTHex=function(e,t){throw"not implemented yet"}},ce.asn1.tsp.SimpleTSAAdapter=function(e){var t=ce.asn1.tsp,i=ce.crypto.Util.hashHex;t.SimpleTSAAdapter.superclass.constructor.call(this),this.params=null,this.serial=0,this.getTSTHex=function(e,n){var s=i(e,n);this.params.tstInfo.messageImprint={hashAlg:n,hashValue:s},this.params.tstInfo.serialNumber={int:this.serial++};var r=Math.floor(1e9*Math.random());return this.params.tstInfo.nonce={int:r},t.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.tsp.SimpleTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.FixedTSAAdapter=function(e){var t=ce.asn1.tsp,i=ce.crypto.Util.hashHex;t.FixedTSAAdapter.superclass.constructor.call(this),this.params=null,this.getTSTHex=function(e,n){var s=i(e,n);return this.params.tstInfo.messageImprint={hashAlg:n,hashValue:s},t.TSPUtil.newTimeStampToken(this.params).getContentInfoEncodedHex()},void 0!==e&&(this.params=e)},s.lang.extend(ce.asn1.tsp.FixedTSAAdapter,ce.asn1.tsp.AbstractTSAAdapter),ce.asn1.tsp.TSPUtil=new function(){},ce.asn1.tsp.TSPUtil.newTimeStampToken=function(e){var t=ce.asn1,i=t.cms,n=t.tsp.TSTInfo,s=new i.SignedData,r=new n(e.tstInfo).getEncodedHex();if(s.dEncapContentInfo.setContentValue({hex:r}),s.dEncapContentInfo.setContentType("tstinfo"),"object"==typeof e.certs)for(var o=0;o<e.certs.length;o++)s.addCertificatesByPEM(e.certs[o]);var a=s.signerInfoList[0];a.setSignerIdentifier(e.signerCert),a.setForContentAndHash({sdObj:s,eciObj:s.dEncapContentInfo,hashAlg:e.hashAlg});var l=new i.SigningCertificate({array:[e.signerCert]});return a.dSignedAttrs.add(l),a.sign(e.signerPrvKey,e.sigAlg),s},ce.asn1.tsp.TSPUtil.parseTimeStampReq=function(e){var t=de,i=t.getV,n=t.getTLV,s={certreq:!1},r=(0,t.getChildIdx)(e,0);if(r.length<2)throw"TimeStampReq must have at least 2 items";var o=n(e,r[1]);s.mi=ce.asn1.tsp.TSPUtil.parseMessageImprint(o);for(var a=2;a<r.length;a++){var l=r[a],c=e.substr(l,2);if("06"==c){var h=i(e,l);s.policy=t.hextooidstr(h)}"02"==c&&(s.nonce=i(e,l)),"01"==c&&(s.certreq=!0)}return s},ce.asn1.tsp.TSPUtil.parseMessageImprint=function(e){var t=de,i=t.getChildIdx,n=t.getV,s=t.getIdxbyList,r={};if("30"!=e.substr(0,2))throw"head of messageImprint hex shall be '30'";i(e,0);var o=n(e,s(e,0,[0,0])),a=t.hextooidstr(o),l=ce.asn1.x509.OID.oid2name(a);if(""==l)throw"hashAlg name undefined: "+a;var c=l,h=s(e,0,[1]);return r.hashAlg=c,r.hashValue=n(e,h),r},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.cades&&ce.asn1.cades||(ce.asn1.cades={}),ce.asn1.cades.SignaturePolicyIdentifier=function(e){var t=ce.asn1,i=t.DERObjectIdentifier,n=t.DERSequence,s=t.cades,r=s.OtherHashAlgAndValue;if(s.SignaturePolicyIdentifier.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.15",void 0!==e&&"string"==typeof e.oid&&"object"==typeof e.hash){var o=new n({array:[new i({oid:e.oid}),new r(e.hash)]});this.valueList=[o]}},s.lang.extend(ce.asn1.cades.SignaturePolicyIdentifier,ce.asn1.cms.Attribute),ce.asn1.cades.OtherHashAlgAndValue=function(e){var t=ce.asn1,i=t.DERSequence,n=t.DEROctetString,s=t.x509.AlgorithmIdentifier;t.cades.OtherHashAlgAndValue.superclass.constructor.call(this),this.dAlg=null,this.dHash=null,this.getEncodedHex=function(){var e=new i({array:[this.dAlg,this.dHash]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e&&"string"==typeof e.alg&&"string"==typeof e.hash&&(this.dAlg=new s({name:e.alg}),this.dHash=new n({hex:e.hash}))},s.lang.extend(ce.asn1.cades.OtherHashAlgAndValue,ce.asn1.ASN1Object),ce.asn1.cades.SignatureTimeStamp=function(e){var t=ce.asn1,i=t.ASN1Object;if(t.cades.SignatureTimeStamp.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.14",this.tstHex=null,void 0!==e){if(void 0!==e.res)if("string"==typeof e.res&&e.res.match(/^[0-9A-Fa-f]+$/));else if(!(e.res instanceof i))throw"res param shall be ASN1Object or hex string";if(void 0!==e.tst)if("string"==typeof e.tst&&e.tst.match(/^[0-9A-Fa-f]+$/)){var n=new i;this.tstHex=e.tst,n.hTLV=this.tstHex,n.getEncodedHex(),this.valueList=[n]}else if(!(e.tst instanceof i))throw"tst param shall be ASN1Object or hex string"}},s.lang.extend(ce.asn1.cades.SignatureTimeStamp,ce.asn1.cms.Attribute),ce.asn1.cades.CompleteCertificateRefs=function(e){var t=ce.asn1.cades;t.CompleteCertificateRefs.superclass.constructor.call(this),this.attrTypeOid="1.2.840.113549.1.9.16.2.21",this.setByArray=function(e){this.valueList=[];for(var i=0;i<e.length;i++){var n=new t.OtherCertID(e[i]);this.valueList.push(n)}},void 0!==e&&"object"==typeof e&&"number"==typeof e.length&&this.setByArray(e)},s.lang.extend(ce.asn1.cades.CompleteCertificateRefs,ce.asn1.cms.Attribute),ce.asn1.cades.OtherCertID=function(e){var t=ce.asn1,i=t.cms,n=t.cades;n.OtherCertID.superclass.constructor.call(this),this.hasIssuerSerial=!0,this.dOtherCertHash=null,this.dIssuerSerial=null,this.setByCertPEM=function(e){this.dOtherCertHash=new n.OtherHash(e),this.hasIssuerSerial&&(this.dIssuerSerial=new i.IssuerAndSerialNumber(e))},this.getEncodedHex=function(){if(null!=this.hTLV)return this.hTLV;if(null==this.dOtherCertHash)throw"otherCertHash not set";var e=[this.dOtherCertHash];null!=this.dIssuerSerial&&e.push(this.dIssuerSerial);var i=new t.DERSequence({array:e});return this.hTLV=i.getEncodedHex(),this.hTLV},void 0!==e&&("string"==typeof e&&-1!=e.indexOf("-----BEGIN ")&&this.setByCertPEM(e),"object"==typeof e&&(!1===e.hasis&&(this.hasIssuerSerial=!1),"string"==typeof e.cert&&this.setByCertPEM(e.cert)))},s.lang.extend(ce.asn1.cades.OtherCertID,ce.asn1.ASN1Object),ce.asn1.cades.OtherHash=function(e){var t=ce.asn1,i=t.cades,n=i.OtherHashAlgAndValue,s=ce.crypto.Util.hashHex;if(i.OtherHash.superclass.constructor.call(this),this.alg="sha256",this.dOtherHash=null,this.setByCertPEM=function(e){if(-1==e.indexOf("-----BEGIN "))throw"certPEM not to seem PEM format";var t=Fe(e),i=s(t,this.alg);this.dOtherHash=new n({alg:this.alg,hash:i})},this.getEncodedHex=function(){if(null==this.dOtherHash)throw"OtherHash not set";return this.dOtherHash.getEncodedHex()},void 0!==e)if("string"==typeof e)if(-1!=e.indexOf("-----BEGIN "))this.setByCertPEM(e);else{if(!e.match(/^[0-9A-Fa-f]+$/))throw"unsupported string value for params";this.dOtherHash=new t.DEROctetString({hex:e})}else"object"==typeof e&&("string"==typeof e.cert?("string"==typeof e.alg&&(this.alg=e.alg),this.setByCertPEM(e.cert)):this.dOtherHash=new n(e))},s.lang.extend(ce.asn1.cades.OtherHash,ce.asn1.ASN1Object),ce.asn1.cades.CAdESUtil=new function(){},ce.asn1.cades.CAdESUtil.addSigTS=function(e,t,i){},ce.asn1.cades.CAdESUtil.parseSignedDataForAddingUnsigned=function(e){var t=de.getChildIdx,i=de.getTLV,n=de.getIdxbyList,s=ce.asn1,r=s.ASN1Object,o=s.cms.SignedData,a=s.cades.CAdESUtil,l={};if("06092a864886f70d010702"!=(0,de.getTLVbyList)(e,0,[0]))throw"hex is not CMS SignedData";var c=t(e,n(e,0,[1,0]));if(c.length<4)throw"num of SignedData elem shall be 4 at least";var h=c.shift();l.version=i(e,h);var u=c.shift();l.algs=i(e,u);var d=c.shift();l.encapcontent=i(e,d),l.certs=null,l.revs=null,l.si=[];var p=c.shift();"a0"==e.substr(p,2)&&(l.certs=i(e,p),p=c.shift()),"a1"==e.substr(p,2)&&(l.revs=i(e,p),p=c.shift());var f=p;if("31"!=e.substr(f,2))throw"Can't find signerInfos";for(var g=t(e,f),m=0;m<g.length;m++){var v=a.parseSignerInfoForAddingUnsigned(e,g[m],m);l.si[m]=v}var b=null;for(l.obj=new o,(b=new r).hTLV=l.version,l.obj.dCMSVersion=b,(b=new r).hTLV=l.algs,l.obj.dDigestAlgs=b,(b=new r).hTLV=l.encapcontent,l.obj.dEncapContentInfo=b,(b=new r).hTLV=l.certs,l.obj.dCerts=b,l.obj.signerInfoList=[],m=0;m<l.si.length;m++)l.obj.signerInfoList.push(l.si[m].obj);return l},ce.asn1.cades.CAdESUtil.parseSignerInfoForAddingUnsigned=function(e,t,i){var n=de.getTLV,s=de.getV,r=ce.asn1,o=r.ASN1Object,a=r.cms,l=a.AttributeList,c=a.SignerInfo,h={},u=(0,de.getChildIdx)(e,t);if(6!=u.length)throw"not supported items for SignerInfo (!=6)";var d=u.shift();h.version=n(e,d);var p=u.shift();h.si=n(e,p);var f=u.shift();h.digalg=n(e,f);var g=u.shift();h.sattrs=n(e,g);var m=u.shift();h.sigalg=n(e,m);var v=u.shift();h.sig=n(e,v),h.sigval=s(e,v);var b=null;return h.obj=new c,(b=new o).hTLV=h.version,h.obj.dCMSVersion=b,(b=new o).hTLV=h.si,h.obj.dSignerIdentifier=b,(b=new o).hTLV=h.digalg,h.obj.dDigestAlgorithm=b,(b=new o).hTLV=h.sattrs,h.obj.dSignedAttrs=b,(b=new o).hTLV=h.sigalg,h.obj.dSigAlg=b,(b=new o).hTLV=h.sig,h.obj.dSig=b,h.obj.dUnsignedAttrs=new l,h},void 0!==ce.asn1.csr&&ce.asn1.csr||(ce.asn1.csr={}),ce.asn1.csr.CertificationRequest=function(e){var t=ce,i=t.asn1,n=i.DERBitString,s=i.DERSequence,r=i.x509;i.csr.CertificationRequest.superclass.constructor.call(this),this.sign=function(e,i){null==this.prvKey&&(this.prvKey=i),this.asn1SignatureAlg=new r.AlgorithmIdentifier({name:e});var o=new t.crypto.Signature({alg:e});o.init(this.prvKey),o.updateHex(this.asn1CSRInfo.getEncodedHex()),this.hexSig=o.sign(),this.asn1Sig=new n({hex:"00"+this.hexSig});var a=new s({array:[this.asn1CSRInfo,this.asn1SignatureAlg,this.asn1Sig]});this.hTLV=a.getEncodedHex(),this.isModified=!1},this.getPEMString=function(){return Te(this.getEncodedHex(),"CERTIFICATE REQUEST")},this.getEncodedHex=function(){if(0==this.isModified&&null!=this.hTLV)return this.hTLV;throw"not signed yet"},void 0!==e&&void 0!==e.csrinfo&&(this.asn1CSRInfo=e.csrinfo)},s.lang.extend(ce.asn1.csr.CertificationRequest,ce.asn1.ASN1Object),ce.asn1.csr.CertificationRequestInfo=function(e){var t=ce.asn1,i=t.DERInteger,n=t.DERSequence,s=t.DERSet,r=t.DERNull,o=t.DERTaggedObject,a=t.DERObjectIdentifier,l=t.x509,c=l.X500Name,h=l.Extension,u=Be;t.csr.CertificationRequestInfo.superclass.constructor.call(this),this._initialize=function(){this.asn1Array=new Array,this.asn1Version=new i({int:0}),this.asn1Subject=null,this.asn1SubjPKey=null,this.extensionsArray=new Array},this.setSubjectByParam=function(e){this.asn1Subject=new c(e)},this.setSubjectPublicKeyByGetKey=function(e){var t=u.getKey(e);this.asn1SubjPKey=new l.SubjectPublicKeyInfo(t)},this.appendExtensionByName=function(e,t){h.appendByNameToArray(e,t,this.extensionsArray)},this.getEncodedHex=function(){if(this.asn1Array=new Array,this.asn1Array.push(this.asn1Version),this.asn1Array.push(this.asn1Subject),this.asn1Array.push(this.asn1SubjPKey),this.extensionsArray.length>0){var e=new n({array:this.extensionsArray}),t=new s({array:[e]}),i=new n({array:[new a({oid:"1.2.840.113549.1.9.14"}),t]}),l=new o({explicit:!0,tag:"a0",obj:i});this.asn1Array.push(l)}else l=new o({explicit:!1,tag:"a0",obj:new r}),this.asn1Array.push(l);var c=new n({array:this.asn1Array});return this.hTLV=c.getEncodedHex(),this.isModified=!1,this.hTLV},this._initialize()},s.lang.extend(ce.asn1.csr.CertificationRequestInfo,ce.asn1.ASN1Object),ce.asn1.csr.CSRUtil=new function(){},ce.asn1.csr.CSRUtil.newCSRPEM=function(e){var t=Be,i=ce.asn1.csr;if(void 0===e.subject)throw"parameter subject undefined";if(void 0===e.sbjpubkey)throw"parameter sbjpubkey undefined";if(void 0===e.sigalg)throw"parameter sigalg undefined";if(void 0===e.sbjprvkey)throw"parameter sbjpubkey undefined";var n=new i.CertificationRequestInfo;if(n.setSubjectByParam(e.subject),n.setSubjectPublicKeyByGetKey(e.sbjpubkey),void 0!==e.ext&&void 0!==e.ext.length)for(var s=0;s<e.ext.length;s++)for(key in e.ext[s])n.appendExtensionByName(key,e.ext[s][key]);var r=new i.CertificationRequest({csrinfo:n}),o=t.getKey(e.sbjprvkey);return r.sign(e.sigalg,o),r.getPEMString()},ce.asn1.csr.CSRUtil.getInfo=function(e){var t=de.getTLVbyListEx,i={subject:{},pubkey:{}};if(-1==e.indexOf("-----BEGIN CERTIFICATE REQUEST"))throw"argument is not PEM file";var n=Fe(e,"CERTIFICATE REQUEST");try{i.subject.hex=t(n,0,[0,1])}catch(d){}try{i.subject.name=qe.hex2dn(i.subject.hex)}catch(d){}i.pubkey.hex=t(n,0,[0,2]),i.pubkey.obj=Be.getKey(i.pubkey.hex,null,"pkcs8pub");try{i.ext=[];var s=new qe;s.parseExt(e),i.ext.push({subjectAltName:{array:s.getExtSubjectAltName2()}})}catch(d){}return i},void 0!==ce&&ce||(ce={}),void 0!==ce.asn1&&ce.asn1||(ce.asn1={}),void 0!==ce.asn1.ocsp&&ce.asn1.ocsp||(ce.asn1.ocsp={}),ce.asn1.ocsp.DEFAULT_HASH="sha1",ce.asn1.ocsp.CertID=function(e){var t=ce.asn1,i=t.DEROctetString,n=t.DERInteger,s=t.DERSequence,r=t.x509.AlgorithmIdentifier,o=t.ocsp,a=o.DEFAULT_HASH,l=ce.crypto.Util.hashHex,c=qe,h=de;if(o.CertID.superclass.constructor.call(this),this.dHashAlg=null,this.dIssuerNameHash=null,this.dIssuerKeyHash=null,this.dSerialNumber=null,this.setByValue=function(e,t,s,o){void 0===o&&(o=a),this.dHashAlg=new r({name:o}),this.dIssuerNameHash=new i({hex:e}),this.dIssuerKeyHash=new i({hex:t}),this.dSerialNumber=new n({hex:s})},this.setByCert=function(e,t,i){void 0===i&&(i=a);var n=new c;n.readCertPEM(t);var s=new c;s.readCertPEM(e);var r=s.getPublicKeyHex(),o=h.getTLVbyList(r,0,[1,0],"30"),u=n.getSerialNumberHex(),d=l(s.getSubjectHex(),i),p=l(o,i);this.setByValue(d,p,u,i),this.hoge=n.getSerialNumberHex()},this.getEncodedHex=function(){if(null===this.dHashAlg&&null===this.dIssuerNameHash&&null===this.dIssuerKeyHash&&null===this.dSerialNumber)throw"not yet set values";var e=new s({array:[this.dHashAlg,this.dIssuerNameHash,this.dIssuerKeyHash,this.dSerialNumber]});return this.hTLV=e.getEncodedHex(),this.hTLV},void 0!==e){var u=e;if(void 0!==u.issuerCert&&void 0!==u.subjectCert){var d=a;void 0===u.alg&&(d=void 0),this.setByCert(u.issuerCert,u.subjectCert,d)}else{if(void 0===u.namehash||void 0===u.keyhash||void 0===u.serial)throw"invalid constructor arguments";d=a,void 0===u.alg&&(d=void 0),this.setByValue(u.namehash,u.keyhash,u.serial,d)}}},s.lang.extend(ce.asn1.ocsp.CertID,ce.asn1.ASN1Object),ce.asn1.ocsp.Request=function(e){var t=ce.asn1,i=t.DERSequence,n=t.ocsp;if(n.Request.superclass.constructor.call(this),this.dReqCert=null,this.dExt=null,this.getEncodedHex=function(){var e=[];if(null===this.dReqCert)throw"reqCert not set";e.push(this.dReqCert);var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e){var s=new n.CertID(e);this.dReqCert=s}},s.lang.extend(ce.asn1.ocsp.Request,ce.asn1.ASN1Object),ce.asn1.ocsp.TBSRequest=function(e){var t=ce.asn1,i=t.DERSequence,n=t.ocsp;n.TBSRequest.superclass.constructor.call(this),this.version=0,this.dRequestorName=null,this.dRequestList=[],this.dRequestExt=null,this.setRequestListByParam=function(e){for(var t=[],i=0;i<e.length;i++){var s=new n.Request(e[0]);t.push(s)}this.dRequestList=t},this.getEncodedHex=function(){var e=[];if(0!==this.version)throw"not supported version: "+this.version;if(null!==this.dRequestorName)throw"requestorName not supported";var t=new i({array:this.dRequestList});if(e.push(t),null!==this.dRequestExt)throw"requestExtensions not supported";var n=new i({array:e});return this.hTLV=n.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList&&this.setRequestListByParam(e.reqList)},s.lang.extend(ce.asn1.ocsp.TBSRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPRequest=function(e){var t=ce.asn1,i=t.DERSequence,n=t.ocsp;if(n.OCSPRequest.superclass.constructor.call(this),this.dTbsRequest=null,this.dOptionalSignature=null,this.getEncodedHex=function(){var e=[];if(null===this.dTbsRequest)throw"tbsRequest not set";if(e.push(this.dTbsRequest),null!==this.dOptionalSignature)throw"optionalSignature not supported";var t=new i({array:e});return this.hTLV=t.getEncodedHex(),this.hTLV},void 0!==e&&void 0!==e.reqList){var s=new n.TBSRequest(e);this.dTbsRequest=s}},s.lang.extend(ce.asn1.ocsp.OCSPRequest,ce.asn1.ASN1Object),ce.asn1.ocsp.OCSPUtil={},ce.asn1.ocsp.OCSPUtil.getRequestHex=function(e,t,i){var n=ce.asn1.ocsp;return void 0===i&&(i=n.DEFAULT_HASH),new n.OCSPRequest({reqList:[{alg:i,issuerCert:e,subjectCert:t}]}).getEncodedHex()},ce.asn1.ocsp.OCSPUtil.getOCSPResponseInfo=function(e){var t=de.getVbyList,i=de.getVbyListEx,n=de.getIdxbyList,s=de.getV,r={};try{var o=i(e,0,[0],"0a");r.responseStatus=parseInt(o,16)}catch(h){}if(0!==r.responseStatus)return r;try{var a=n(e,0,[1,0,1,0,0,2,0,1]);"80"===e.substr(a,2)?r.certStatus="good":"a1"===e.substr(a,2)?(r.certStatus="revoked",r.revocationTime=xe(t(e,a,[0]))):"82"===e.substr(a,2)&&(r.certStatus="unknown")}catch(h){}try{var l=n(e,0,[1,0,1,0,0,2,0,2]);r.thisUpdate=xe(s(e,l))}catch(h){}try{var c=n(e,0,[1,0,1,0,0,2,0,3]);"a0"===e.substr(c,2)&&(r.nextUpdate=xe(t(e,c,[0])))}catch(h){}return r},void 0!==ce&&ce||(ce={}),void 0!==ce.lang&&ce.lang||(ce.lang={}),ce.lang.String=function(){},"function"==typeof Buffer?(he=function(e){return ve(new Buffer(e,"utf8").toString("base64"))},ue=function(e){return new Buffer(be(e),"base64").toString("utf8")}):(he=function(e){return ye(Oe(Le(e)))},ue=function(e){return decodeURIComponent(Re(we(e)))}),ce.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ce.lang.String.isHex=function(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))},ce.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ce.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=be(e),ce.lang.String.isBase64(e))},ce.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:m.algo.MD5,sha1:m.algo.SHA1,sha224:m.algo.SHA224,sha256:m.algo.SHA256,sha384:m.algo.SHA384,sha512:m.algo.SHA512,ripemd160:m.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,i){var n=this.getDigestInfoHex(e,t),s=i/4;if(n.length+22>s)throw"key is too short for SigAlg: keylen="+i+","+t;for(var r="0001",o="00"+n,a="",l=s-r.length-o.length,c=0;c<l;c+=2)a+="ff";return r+a+o},this.hashString=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ce.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof ne||e instanceof ce.crypto.DSA||e instanceof ce.crypto.ECDSA}},ce.crypto.Util.md5=function(e){return new ce.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.ripemd160=function(e){return new ce.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ce.crypto.Util.SECURERANDOMGEN=new ee,ce.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(t),ge(t)},ce.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new x(ce.crypto.Util.getRandomHexOfNbytes(e),16)},ce.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,i=new Array((e-t)/8+1);return ce.crypto.Util.SECURERANDOMGEN.nextBytes(i),i[0]=(255<<t&255^255)&i[0],ge(i)},ce.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new x(ce.crypto.Util.getRandomHexOfNbits(e),16)},ce.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var i=ce.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(i))return i}},ce.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var i=e.compareTo(t);if(1==i)throw"biMin is greater than biMax";if(0==i)return e;var n=t.subtract(e);return ce.crypto.Util.getRandomBigIntegerZeroToMax(n).add(e)},ce.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ce.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(r){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+r}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(m.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(r){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+r}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ce.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ce.crypto.MessageDigest.getHashLength=function(e){var t=ce.crypto.MessageDigest,i=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[i])throw"not supported algorithm: "+e;return t.HASHLENGTH[i]},ce.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ce.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ce.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var i=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(i)&&"cryptojs"==t){try{this.mac=m.algo.HMAC.create(ce.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[i],this.pass)}catch(u){throw"setAlgAndProvider hash alg set fail hashAlg="+i+"/"+u}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=m.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(m.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=ke(e)),void(this.pass=m.enc.Hex.parse(t))}if("object"!=typeof e)throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=Ce(e.utf8)),void 0!==e.rstr&&(t=ke(e.rstr)),void 0!==e.b64&&(t=w(e.b64)),void 0!==e.b64u&&(t=we(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=m.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ce.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ce.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var i="",n=t/4-e.length,s=0;s<n;s++)i+="0";return i+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ce.crypto.MessageDigest({alg:this.mdAlgName})}catch(i){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+i)}this.init=function(e,t){var i=null;try{i=void 0===t?Be.getKey(e):Be.getKey(e,t)}catch(n){throw"init failed:"+n}if(!0===i.isPrivate)this.prvKey=i,this.state="SIGN";else{if(!0!==i.isPublic)throw"init failed.:"+i;this.pubKey=i,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.prvKey=new ce.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof ne&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ce.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ce.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ce.crypto.ECDSA&&(this.pubKey=new ce.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof ne&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof ne&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.ECDSA&&this.pubKey instanceof ce.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ce.crypto.DSA&&this.pubKey instanceof ce.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,this.provName=void 0===e.prov?ce.crypto.Util.DEFAULTPROVIDER[this.algName]:e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=Be.getKey(e.prvkeypem),this.init(t)}catch(h){throw"fatal error to load pem private key: "+h}}},ce.crypto.Cipher=function(e){},ce.crypto.Cipher.encrypt=function(e,t,i){if(t instanceof ne&&t.isPublic){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,i);if("RSA"===n)return t.encrypt(e);if("RSAOAEP"===n)return t.encryptOAEP(e,"sha1");var s=n.match(/^RSAOAEP(\d+)$/);if(null!==s)return t.encryptOAEP(e,"sha"+s[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+i}throw"Cipher.encrypt: unsupported key or algorithm"},ce.crypto.Cipher.decrypt=function(e,t,i){if(t instanceof ne&&t.isPrivate){var n=ce.crypto.Cipher.getAlgByKeyAndName(t,i);if("RSA"===n)return t.decrypt(e);if("RSAOAEP"===n)return t.decryptOAEP(e,"sha1");var s=n.match(/^RSAOAEP(\d+)$/);if(null!==s)return t.decryptOAEP(e,"sha"+s[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+i}throw"Cipher.decrypt: unsupported key or algorithm"},ce.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof ne){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ce.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECDSA=function(e){var t=Error,i=x,n=oe,s=ce.crypto.ECDSA,r=ce.crypto.ECParameterDB,o=s.getName,a=de.getVbyListEx,l=de.isASN1HEX,c=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new i(e.bitLength(),c).mod(e.subtract(i.ONE)).add(i.ONE)},this.setNamedCurve=function(e){this.ecparams=r.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var i={};return i.x=e.substr(2,t),i.y=e.substr(2+t),i},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.getBigRandom(this.ecparams.n),t=this.ecparams.G.multiply(e),i=t.getX().toBigInteger(),n=t.getY().toBigInteger(),s=this.ecparams.keylen/4,r=("0000000000"+e.toString(16)).slice(-s),o="04"+("0000000000"+i.toString(16)).slice(-s)+("0000000000"+n.toString(16)).slice(-s);return this.setPrivateKeyHex(r),this.setPublicKeyHex(o),{ecprvhex:r,ecpubhex:o}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var n=new i(t,16),r=this.ecparams.n,o=new i(e.substring(0,this.ecparams.keylen/4),16);do{var a=this.getBigRandom(r),l=this.ecparams.G.multiply(a).getX().toBigInteger().mod(r)}while(l.compareTo(i.ZERO)<=0);var c=a.modInverse(r).multiply(o.add(n.multiply(l))).mod(r);return s.biRSSigToASN1Sig(l,c)},this.sign=function(e,t){var n=t,s=this.ecparams.n,r=i.fromByteArrayUnsigned(e);do{var o=this.getBigRandom(s),a=this.ecparams.G.multiply(o).getX().toBigInteger().mod(s)}while(a.compareTo(x.ZERO)<=0);var l=o.modInverse(s).multiply(r.add(n.multiply(a))).mod(s);return this.serializeSig(a,l)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,r){try{var o,a,l=s.parseSigHex(t);o=l.r,a=l.s;var c=n.decodeFromHex(this.ecparams.curve,r),h=new i(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(h,o,a,c)}catch(u){return!1}},this.verify=function(e,t,s){var r,o,a;if(Bitcoin.Util.isArray(t)){var l=this.parseSig(t);r=l.r,o=l.s}else{if("object"!=typeof t||!t.r||!t.s)throw"Invalid value for signature";r=t.r,o=t.s}if(s instanceof oe)a=s;else{if(!Bitcoin.Util.isArray(s))throw"Invalid format for pubkey value, must be byte array or ECPointFp";a=n.decodeFrom(this.ecparams.curve,s)}var c=i.fromByteArrayUnsigned(e);return this.verifyRaw(c,r,o,a)},this.verifyRaw=function(e,t,n,s){var r=this.ecparams.n,o=this.ecparams.G;if(t.compareTo(i.ONE)<0||t.compareTo(r)>=0)return!1;if(n.compareTo(i.ONE)<0||n.compareTo(r)>=0)return!1;var a=n.modInverse(r),l=e.multiply(a).mod(r),c=t.multiply(a).mod(r);return o.multiply(l).add(s.multiply(c)).getX().toBigInteger().mod(r).equals(t)},this.serializeSig=function(e,t){var i=e.toByteArraySigned(),n=t.toByteArraySigned(),s=[];return s.push(2),s.push(i.length),(s=s.concat(i)).push(2),s.push(n.length),(s=s.concat(n)).unshift(s.length),s.unshift(48),s},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var n=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var s=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:i.fromByteArrayUnsigned(n),s:i.fromByteArrayUnsigned(s)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var n=this.ecparams.n;return{r:i.fromByteArrayUnsigned(e.slice(1,33)).mod(n),s:i.fromByteArrayUnsigned(e.slice(33,65)).mod(n),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===l(e))throw new Error("not ASN.1 hex string");var t,i,n;try{t=a(e,0,["[0]",0],"06"),i=a(e,0,[1],"04");try{n=a(e,0,["[1]",0],"03")}catch(s){}}catch(s){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=o(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(n),this.setPrivateKeyHex(i),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var i,n,s;try{a(e,0,[1,0],"06"),i=a(e,0,[1,1],"06"),n=a(e,0,[2,0,1],"04");try{s=a(e,0,[2,0,"[1]",0],"03")}catch(r){}}catch(r){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=o(i),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(s),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===l(e))throw new t("not ASN.1 hex string");var i,n;try{a(e,0,[0,0],"06"),i=a(e,0,[0,1],"06"),n=a(e,0,[1],"03")}catch(s){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=o(i),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(n)},this.readCertPubKeyHex=function(e,i){if(!1===l(e))throw new t("not ASN.1 hex string");var n,s;try{n=a(e,0,[0,5,0,1],"06"),s=a(e,0,[0,5,1],"03")}catch(r){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=o(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(s)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ce.crypto.ECDSA.parseSigHex=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new x(t.r,16),s:new x(t.s,16)}},ce.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=de.getChildIdx,i=de.getV;if(de.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var n=t(e,0);if(2!=n.length)throw new Error("signature shall have two elements");var s=n[0],r=n[1];if("02"!=e.substr(s,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(r,2))throw new Error("2nd item not ASN.1 integer");return{r:i(e,s),s:i(e,r)}},ce.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ce.crypto.ECDSA.parseSigHexInHexRS(e),i=t.r,n=t.s;if("00"==i.substr(0,2)&&i.length%32==2&&(i=i.substr(2)),"00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),i.length%32==30&&(i="00"+i),n.length%32==30&&(n="00"+n),i.length%32!=0)throw"unknown ECDSA sig r length error";if(n.length%32!=0)throw"unknown ECDSA sig s length error";return i+n},ce.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),i=e.substr(e.length/2);return ce.crypto.ECDSA.hexRSSigToASN1Sig(t,i)},ce.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var i=new x(e,16),n=new x(t,16);return ce.crypto.ECDSA.biRSSigToASN1Sig(i,n)},ce.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var i=ce.asn1,n=new i.DERInteger({bigint:e}),s=new i.DERInteger({bigint:t});return new i.DERSequence({array:[n,s]}).getEncodedHex()},ce.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.ECParameterDB=new function(){var e={},t={};function i(e){return new x(e,16)}this.getByName=function(i){var n=i;if(void 0!==t[n]&&(n=t[i]),void 0!==e[n])return e[n];throw"unregistered EC curve name: "+n},this.regist=function(n,s,r,o,a,l,c,h,u,d,p,f){e[n]={};var g=i(r),m=i(o),v=i(a),b=i(l),y=i(c),w=new ae(g,m,v),C=w.decodePointHex("04"+h+u);e[n].name=n,e[n].keylen=s,e[n].curve=w,e[n].G=C,e[n].n=b,e[n].h=y,e[n].oid=p,e[n].info=f;for(var x=0;x<d.length;x++)t[d[x]]=n}},ce.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ce.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ce.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ce.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ce.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ce.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ce.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ce.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ce.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]),void 0!==ce&&ce||(ce={}),void 0!==ce.crypto&&ce.crypto||(ce.crypto={}),ce.crypto.DSA=function(){var e=de.getVbyListEx,t=de.isASN1HEX,i=x;this.p=null,this.q=null,this.g=null,this.y=null,this.x=null,this.type="DSA",this.isPrivate=!1,this.isPublic=!1,this.setPrivate=function(e,t,i,n,s){this.isPrivate=!0,this.p=e,this.q=t,this.g=i,this.y=n,this.x=s},this.setPrivateHex=function(e,t,i,n,s){var r,o,a,l,c;r=new x(e,16),o=new x(t,16),a=new x(i,16),l="string"==typeof n&&n.length>1?new x(n,16):null,c=new x(s,16),this.setPrivate(r,o,a,l,c)},this.setPublic=function(e,t,i,n){this.isPublic=!0,this.p=e,this.q=t,this.g=i,this.y=n,this.x=null},this.setPublicHex=function(e,t,i,n){var s,r,o,a;s=new x(e,16),r=new x(t,16),o=new x(i,16),a=new x(n,16),this.setPublic(s,r,o,a)},this.signWithMessageHash=function(e){var t=this.p,i=this.q,n=this.g,s=this.x,r=ce.crypto.Util.getRandomBigIntegerMinToMax(x.ONE.add(x.ONE),i.subtract(x.ONE)),o=new x(e.substr(0,i.bitLength()/4),16),a=n.modPow(r,t).mod(i),l=r.modInverse(i).multiply(o.add(s.multiply(a))).mod(i);return ce.asn1.ASN1Util.jsonToASN1HEX({seq:[{int:{bigint:a}},{int:{bigint:l}}]})},this.verifyWithMessageHash=function(e,t){var i=this.p,n=this.q,s=this.g,r=this.y,o=this.parseASN1Signature(t),a=o[0],l=o[1],c=new x(e.substr(0,n.bitLength()/4),16);if(x.ZERO.compareTo(a)>0||a.compareTo(n)>0)throw"invalid DSA signature";if(x.ZERO.compareTo(l)>=0||l.compareTo(n)>0)throw"invalid DSA signature";var h=l.modInverse(n),u=c.multiply(h).mod(n),d=a.multiply(h).mod(n);return 0==s.modPow(u,i).multiply(r.modPow(d,i)).mod(i).mod(n).compareTo(a)},this.parseASN1Signature=function(t){try{return[new i(e(t,0,[0],"02"),16),new i(e(t,0,[1],"02"),16)]}catch(n){throw new Error("malformed ASN.1 DSA signature")}},this.readPKCS5PrvKeyHex=function(i){var n,s,r,o,a;if(!1===t(i))throw new Error("not ASN.1 hex string");try{n=e(i,0,[1],"02"),s=e(i,0,[2],"02"),r=e(i,0,[3],"02"),o=e(i,0,[4],"02"),a=e(i,0,[5],"02")}catch(l){throw new Error("malformed PKCS#1/5 plain DSA private key")}this.setPrivateHex(n,s,r,o,a)},this.readPKCS8PrvKeyHex=function(i){var n,s,r,o;if(!1===t(i))throw new Error("not ASN.1 hex string");try{n=e(i,0,[1,1,0],"02"),s=e(i,0,[1,1,1],"02"),r=e(i,0,[1,1,2],"02"),o=e(i,0,[2,0],"02")}catch(a){throw new Error("malformed PKCS#8 plain DSA private key")}this.setPrivateHex(n,s,r,null,o)},this.readPKCS8PubKeyHex=function(i){var n,s,r,o;if(!1===t(i))throw new Error("not ASN.1 hex string");try{n=e(i,0,[0,1,0],"02"),s=e(i,0,[0,1,1],"02"),r=e(i,0,[0,1,2],"02"),o=e(i,0,[1,0],"02")}catch(a){throw new Error("malformed PKCS#8 DSA public key")}this.setPublicHex(n,s,r,o)},this.readCertPubKeyHex=function(i,n){var s,r,o,a;if(!1===t(i))throw new Error("not ASN.1 hex string");try{s=e(i,0,[0,5,0,1,0],"02"),r=e(i,0,[0,5,0,1,1],"02"),o=e(i,0,[0,5,0,1,2],"02"),a=e(i,0,[0,5,1,0],"02")}catch(l){throw new Error("malformed X.509 certificate DSA public key")}this.setPublicHex(s,r,o,a)}};var Be=function(){var e=function(e,i,n){return t(m.AES,e,i,n)},t=function(e,t,i,n){var s=m.enc.Hex.parse(t),r=m.enc.Hex.parse(i),o=m.enc.Hex.parse(n),a={};a.key=r,a.iv=o,a.ciphertext=s;var l=e.decrypt(a,r,{iv:o});return m.enc.Hex.stringify(l)},i=function(e,t,i){return n(m.AES,e,t,i)},n=function(e,t,i,n){var s=m.enc.Hex.parse(t),r=m.enc.Hex.parse(i),o=m.enc.Hex.parse(n),a=e.encrypt(s,r,{iv:o}),l=m.enc.Hex.parse(a.toString());return m.enc.Base64.stringify(l)},s={"AES-256-CBC":{proc:e,eproc:i,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:i,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:i,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,i,n){return t(m.TripleDES,e,i,n)},eproc:function(e,t,i){return n(m.TripleDES,e,t,i)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,i,n){return t(m.DES,e,i,n)},eproc:function(e,t,i){return n(m.DES,e,t,i)},keylen:8,ivlen:8}},r=function(e){var t={},i=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));i&&(t.cipher=i[1],t.ivsalt=i[2]);var n=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));n&&(t.type=n[1]);var s=-1,r=0;-1!=e.indexOf("\r\n\r\n")&&(s=e.indexOf("\r\n\r\n"),r=2),-1!=e.indexOf("\n\n")&&(s=e.indexOf("\n\n"),r=1);var o=e.indexOf("-----END");if(-1!=s&&-1!=o){var a=e.substring(s+2*r,o-r);a=a.replace(/\s+/g,""),t.data=a}return t},o=function(e,t,i){for(var n=i.substring(0,16),r=m.enc.Hex.parse(n),o=m.enc.Utf8.parse(t),a=s[e].keylen+s[e].ivlen,l="",c=null;;){var h=m.algo.MD5.create();if(null!=c&&h.update(c),h.update(o),h.update(r),c=h.finalize(),(l+=m.enc.Hex.stringify(c)).length>=2*a)break}var u={};return u.keyhex=l.substr(0,2*s[e].keylen),u.ivhex=l.substr(2*s[e].keylen,2*s[e].ivlen),u},a=function(e,t,i,n){var r=m.enc.Base64.parse(e),o=m.enc.Hex.stringify(r);return(0,s[t].proc)(o,i,n)};return{version:"1.0.0",parsePKCS5PEM:function(e){return r(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,i){return o(e,t,i)},decryptKeyB64:function(e,t,i,n){return a(e,t,i,n)},getDecryptedKeyHex:function(e,t){var i=r(e),n=i.cipher,s=i.ivsalt,l=i.data,c=o(n,t,s);return a(l,n,c.keyhex,s)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,i,n,r){var a="";if(void 0!==n&&null!=n||(n="AES-256-CBC"),void 0===s[n])throw"KEYUTIL unsupported algorithm: "+n;void 0!==r&&null!=r||(r=function(e){var t=m.lib.WordArray.random(e);return m.enc.Hex.stringify(t)}(s[n].ivlen).toUpperCase());var l=function(e,t,i,n){return(0,s[t].eproc)(e,i,n)}(t,n,o(n,i,r).keyhex,r);return a="-----BEGIN "+e+" PRIVATE KEY-----\r\n",a+="Proc-Type: 4,ENCRYPTED\r\n",a+="DEK-Info: "+n+","+r+"\r\n",a+="\r\n",(a+=l.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(e){var t=de.getChildIdx,i=de.getV,n={},s=t(e,0);if(2!=s.length)throw"malformed format: SEQUENCE(0).items != 2: "+s.length;n.ciphertext=i(e,s[1]);var r=t(e,s[0]);if(2!=r.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+r.length;if("2a864886f70d01050d"!=i(e,r[0]))throw"this only supports pkcs5PBES2";var o=t(e,r[1]);if(2!=r.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+o.length;var a=t(e,o[1]);if(2!=a.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+a.length;if("2a864886f70d0307"!=i(e,a[0]))throw"this only supports TripleDES";n.encryptionSchemeAlg="TripleDES",n.encryptionSchemeIV=i(e,a[1]);var l=t(e,o[0]);if(2!=l.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length;if("2a864886f70d01050c"!=i(e,l[0]))throw"this only supports pkcs5PBKDF2";var c=t(e,l[1]);if(c.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+c.length;n.pbkdf2Salt=i(e,c[0]);var h=i(e,c[1]);try{n.pbkdf2Iter=parseInt(h,16)}catch(u){throw"malformed format pbkdf2Iter: "+h}return n},getPBKDF2KeyHexFromParam:function(e,t){var i=m.enc.Hex.parse(e.pbkdf2Salt),n=m.PBKDF2(t,i,{keySize:6,iterations:e.pbkdf2Iter});return m.enc.Hex.stringify(n)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var i=Fe(e,"ENCRYPTED PRIVATE KEY"),n=this.parseHexOfEncryptedPKCS8(i),s=Be.getPBKDF2KeyHexFromParam(n,t),r={};r.ciphertext=m.enc.Hex.parse(n.ciphertext);var o=m.enc.Hex.parse(s),a=m.enc.Hex.parse(n.encryptionSchemeIV),l=m.TripleDES.decrypt(r,o,{iv:a});return m.enc.Hex.stringify(l)},getKeyFromEncryptedPKCS8PEM:function(e,t){var i=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(i)},parsePlainPrivatePKCS8Hex:function(e){var t=de,i=t.getChildIdx,n=t.getV,s={algparam:null};if("30"!=e.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var r=i(e,0);if(3!=r.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=e.substr(r[1],2))throw"malformed PKCS8 private key(code:003)";var o=i(e,r[1]);if(2!=o.length)throw"malformed PKCS8 private key(code:004)";if("06"!=e.substr(o[0],2))throw"malformed PKCS8 private key(code:005)";if(s.algoid=n(e,o[0]),"06"==e.substr(o[1],2)&&(s.algparam=n(e,o[1])),"04"!=e.substr(r[2],2))throw"malformed PKCS8 private key(code:006)";return s.keyidx=t.getVidx(e,r[2]),s},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Fe(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,i=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==i.algoid)t=new ne;else if("2a8648ce380401"==i.algoid)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!=i.algoid)throw"unsupported private key algorithm";t=new ce.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,i=de.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===i)t=new ne;else if("2a8648ce380401"===i)t=new ce.crypto.DSA;else{if("2a8648ce3d0201"!==i)throw"unsupported PKCS#8 public key hex";t=new ce.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=de.getChildIdx,i=de.getV,n={};if("30"!=e.substr(0,2))throw"malformed RSA key(code:001)";var s=t(e,0);if(2!=s.length)throw"malformed RSA key(code:002)";if("02"!=e.substr(s[0],2))throw"malformed RSA key(code:003)";if(n.n=i(e,s[0]),"02"!=e.substr(s[1],2))throw"malformed RSA key(code:004)";return n.e=i(e,s[1]),n},parsePublicPKCS8Hex:function(e){var t=de,i=t.getChildIdx,n=t.getV,s={algparam:null},r=i(e,0);if(2!=r.length)throw"outer DERSequence shall have 2 elements: "+r.length;var o=r[0];if("30"!=e.substr(o,2))throw"malformed PKCS8 public key(code:001)";var a=i(e,o);if(2!=a.length)throw"malformed PKCS8 public key(code:002)";if("06"!=e.substr(a[0],2))throw"malformed PKCS8 public key(code:003)";if(s.algoid=n(e,a[0]),"06"==e.substr(a[1],2)?s.algparam=n(e,a[1]):"30"==e.substr(a[1],2)&&(s.algparam={},s.algparam.p=t.getVbyList(e,a[1],[0],"02"),s.algparam.q=t.getVbyList(e,a[1],[1],"02"),s.algparam.g=t.getVbyList(e,a[1],[2],"02")),"03"!=e.substr(r[1],2))throw"malformed PKCS8 public key(code:004)";return s.key=n(e,r[1]).substr(2),s}}}();Be.getKey=function(e,t,i){var n,s=(y=de).getChildIdx,r=y.getVbyList,o=ce.crypto,a=o.ECDSA,l=o.DSA,c=ne,h=Fe,u=Be;if(void 0!==c&&e instanceof c)return e;if(void 0!==a&&e instanceof a)return e;if(void 0!==l&&e instanceof l)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new a({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new a({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(A=new c).setPublic(e.n,e.e),A;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(A=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),A;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(A=new c).setPrivate(e.n,e.e,e.d),A;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(A=new l).setPublic(e.p,e.q,e.g,e.y),A;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(A=new l).setPrivate(e.p,e.q,e.g,e.y,e.x),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(A=new c).setPublic(we(e.n),we(e.e)),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(A=new c).setPrivateEx(we(e.n),we(e.e),we(e.d),we(e.p),we(e.q),we(e.dp),we(e.dq),we(e.qi)),A;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(A=new c).setPrivate(we(e.n),we(e.e),we(e.d)),A;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(D=new a({curve:e.crv})).ecparams.keylen/4,p=("0000000000"+we(e.x)).slice(-d),f=("0000000000"+we(e.y)).slice(-d);return D.setPublicKeyHex(g="04"+p+f),D}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(D=new a({curve:e.crv})).ecparams.keylen/4;var g="04"+(p=("0000000000"+we(e.x)).slice(-d))+(f=("0000000000"+we(e.y)).slice(-d)),m=("0000000000"+we(e.d)).slice(-d);return D.setPublicKeyHex(g),D.setPrivateKeyHex(m),D}if("pkcs5prv"===i){var v,b=e,y=de;if(9===(v=s(b,0)).length)(A=new c).readPKCS5PrvKeyHex(b);else if(6===v.length)(A=new l).readPKCS5PrvKeyHex(b);else{if(!(v.length>2&&"04"===b.substr(v[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(A=new a).readPKCS5PrvKeyHex(b)}return A}if("pkcs8prv"===i)return u.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===i)return u._getKeyFromPublicPKCS8Hex(e);if("x509pub"===i)return qe.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return qe.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var w=Fe(e,"PUBLIC KEY");return u._getKeyFromPublicPKCS8Hex(w)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var C=h(e,"RSA PRIVATE KEY");return u.getKey(C,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var S=r(n=h(e,"DSA PRIVATE KEY"),0,[1],"02"),k=r(n,0,[2],"02"),_=r(n,0,[3],"02"),E=r(n,0,[4],"02"),I=r(n,0,[5],"02");return(A=new l).setPrivate(new x(S,16),new x(k,16),new x(_,16),new x(E,16),new x(I,16)),A}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return C=h(e,"EC PRIVATE KEY"),u.getKey(C,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return u.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var T=u.getDecryptedKeyHex(e,t),F=new ne;return F.readPKCS5PrvKeyHex(T),F}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var D,A=r(n=u.getDecryptedKeyHex(e,t),0,[1],"04"),O=r(n,0,[2,0],"06"),R=r(n,0,[3,0],"03").substr(2);if(void 0===ce.crypto.OID.oidhex2name[O])throw"undefined OID(hex) in KJUR.crypto.OID: "+O;return(D=new a({curve:ce.crypto.OID.oidhex2name[O]})).setPublicKeyHex(R),D.setPrivateKeyHex(A),D.isPublic=!1,D}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return S=r(n=u.getDecryptedKeyHex(e,t),0,[1],"02"),k=r(n,0,[2],"02"),_=r(n,0,[3],"02"),E=r(n,0,[4],"02"),I=r(n,0,[5],"02"),(A=new l).setPrivate(new x(S,16),new x(k,16),new x(_,16),new x(E,16),new x(I,16)),A;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return u.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},Be.generateKeypair=function(e,t){if("RSA"==e){var i=t;(o=new ne).generate(i,"10001"),o.isPrivate=!0,o.isPublic=!0;var n=new ne,s=o.n.toString(16),r=o.e.toString(16);return n.setPublic(s,r),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}if("EC"==e){var o,a,l=t,c=new ce.crypto.ECDSA({curve:l}).generateKeyPairHex();return(o=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),o.setPrivateKeyHex(c.ecprvhex),o.isPrivate=!0,o.isPublic=!1,(n=new ce.crypto.ECDSA({curve:l})).setPublicKeyHex(c.ecpubhex),n.isPrivate=!1,n.isPublic=!0,(a={}).prvKeyObj=o,a.pubKeyObj=n,a}throw"unknown algorithm: "+e},Be.getPEM=function(e,t,i,n,s,r){var o=ce.asn1,a=o.DERObjectIdentifier,l=o.DERInteger,c=o.ASN1Util.newObject,h=ce.crypto,u=h.DSA,d=h.ECDSA,p=ne;function f(e){return c({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function g(e){return c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function v(e){return c({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==p&&e instanceof p||void 0!==u&&e instanceof u||void 0!==d&&e instanceof d)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Te(C=new(0,o.x509.SubjectPublicKeyInfo)(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===i||null==i)&&1==e.isPrivate)return Te(C=f(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==d&&e instanceof d&&(void 0===i||null==i)&&1==e.isPrivate){var b=new a({name:e.curveName}).getEncodedHex(),y=g(e).getEncodedHex(),w="";return(w+=Te(b,"EC PARAMETERS"))+Te(y,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==u&&e instanceof u&&(void 0===i||null==i)&&1==e.isPrivate)return Te(C=v(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==i&&null!=i&&1==e.isPrivate){var C=f(e).getEncodedHex();return void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",C,i,n,r)}if("PKCS5PRV"==t&&void 0!==d&&e instanceof d&&void 0!==i&&null!=i&&1==e.isPrivate)return C=g(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",C,i,n,r);if("PKCS5PRV"==t&&void 0!==u&&e instanceof u&&void 0!==i&&null!=i&&1==e.isPrivate)return C=v(e).getEncodedHex(),void 0===n&&(n="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",C,i,n,r);var x=function(e,t){var i=S(e,t);return new c({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:i.pbkdf2Salt}},{int:i.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:i.encryptionSchemeIV}}]}]}]},{octstr:{hex:i.ciphertext}}]}).getEncodedHex()},S=function(e,t){var i=m.lib.WordArray.random(8),n=m.lib.WordArray.random(8),s=m.PBKDF2(t,i,{keySize:6,iterations:100}),r=m.enc.Hex.parse(e),o=m.TripleDES.encrypt(r,s,{iv:n})+"",a={};return a.ciphertext=o,a.pbkdf2Salt=m.enc.Hex.stringify(i),a.pbkdf2Iter=100,a.encryptionSchemeAlg="DES-EDE3-CBC",a.encryptionSchemeIV=m.enc.Hex.stringify(n),a};if("PKCS8PRV"==t&&null!=p&&e instanceof p&&1==e.isPrivate){var k=f(e).getEncodedHex();return C=c({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===i||null==i?Te(C,"PRIVATE KEY"):Te(y=x(C,i),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==d&&e instanceof d&&1==e.isPrivate)return k=new c({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),C=c({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===i||null==i?Te(C,"PRIVATE KEY"):Te(y=x(C,i),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==u&&e instanceof u&&1==e.isPrivate)return k=new l({bigint:e.x}).getEncodedHex(),C=c({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:k}}]}).getEncodedHex(),void 0===i||null==i?Te(C,"PRIVATE KEY"):Te(y=x(C,i),"ENCRYPTED PRIVATE KEY");throw"unsupported object nor format"},Be.getKeyFromCSRPEM=function(e){var t=Fe(e,"CERTIFICATE REQUEST");return Be.getKeyFromCSRHex(t)},Be.getKeyFromCSRHex=function(e){var t=Be.parseCSRHex(e);return Be.getKey(t.p8pubkeyhex,null,"pkcs8pub")},Be.parseCSRHex=function(e){var t=de.getChildIdx,i=de.getTLV,n={},s=e;if("30"!=s.substr(0,2))throw"malformed CSR(code:001)";var r=t(s,0);if(r.length<1)throw"malformed CSR(code:002)";if("30"!=s.substr(r[0],2))throw"malformed CSR(code:003)";var o=t(s,r[0]);if(o.length<3)throw"malformed CSR(code:004)";return n.p8pubkeyhex=i(s,o[2]),n},Be.getKeyID=function(e){var t=Be,i=de;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var n=Fe(t.getPEM(e)),s=i.getIdxbyList(n,0,[1]),r=i.getV(n,s).substring(2);return ce.crypto.Util.hashHex(r,"sha1")},Be.getJWKFromKey=function(e){var t={};if(e instanceof ne&&e.isPrivate)return t.kty="RSA",t.n=ye(e.n.toString(16)),t.e=ye(e.e.toString(16)),t.d=ye(e.d.toString(16)),t.p=ye(e.p.toString(16)),t.q=ye(e.q.toString(16)),t.dp=ye(e.dmp1.toString(16)),t.dq=ye(e.dmq1.toString(16)),t.qi=ye(e.coeff.toString(16)),t;if(e instanceof ne&&e.isPublic)return t.kty="RSA",t.n=ye(e.n.toString(16)),t.e=ye(e.e.toString(16)),t;if(e instanceof ce.crypto.ECDSA&&e.isPrivate){if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;var i=e.getPublicKeyXYHex();return t.kty="EC",t.crv=n,t.x=ye(i.x),t.y=ye(i.y),t.d=ye(e.prvKeyHex),t}if(e instanceof ce.crypto.ECDSA&&e.isPublic){var n;if("P-256"!==(n=e.getShortNISTPCurveName())&&"P-384"!==n)throw"unsupported curve name for JWT: "+n;return i=e.getPublicKeyXYHex(),t.kty="EC",t.crv=n,t.x=ye(i.x),t.y=ye(i.y),t}throw"not supported key object"},ne.getPosArrayOfChildrenFromHex=function(e){return de.getChildIdx(e,0)},ne.getHexValueArrayOfChildrenFromHex=function(e){var t,i=de.getV,n=i(e,(t=ne.getPosArrayOfChildrenFromHex(e))[0]),s=i(e,t[1]),r=i(e,t[2]),o=i(e,t[3]),a=i(e,t[4]),l=i(e,t[5]),c=i(e,t[6]),h=i(e,t[7]),u=i(e,t[8]);return(t=new Array).push(n,s,r,o,a,l,c,h,u),t},ne.prototype.readPrivateKeyFromPEMString=function(e){var t=Fe(e),i=ne.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(i[1],i[2],i[3],i[4],i[5],i[6],i[7],i[8])},ne.prototype.readPKCS5PrvKeyHex=function(e){var t=ne.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},ne.prototype.readPKCS8PrvKeyHex=function(e){var t,i,n,s,r,o,a,l,c=de.getVbyListEx;if(!1===de.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=c(e,0,[2,0,1],"02"),i=c(e,0,[2,0,2],"02"),n=c(e,0,[2,0,3],"02"),s=c(e,0,[2,0,4],"02"),r=c(e,0,[2,0,5],"02"),o=c(e,0,[2,0,6],"02"),a=c(e,0,[2,0,7],"02"),l=c(e,0,[2,0,8],"02")}catch(h){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,i,n,s,r,o,a,l)},ne.prototype.readPKCS5PubKeyHex=function(e){var t=de,i=t.getV;if(!1===t.isASN1HEX(e))throw"keyHex is not ASN.1 hex string";var n=t.getChildIdx(e,0);if(2!==n.length||"02"!==e.substr(n[0],2)||"02"!==e.substr(n[1],2))throw"wrong hex for PKCS#5 public key";var s=i(e,n[0]),r=i(e,n[1]);this.setPublic(s,r)},ne.prototype.readPKCS8PubKeyHex=function(e){var t=de;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var i=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(i)},ne.prototype.readCertPubKeyHex=function(e,t){var i,n;(i=new qe).readCertHex(e),n=i.getPublicKeyHex(),this.readPKCS8PubKeyHex(n)};var ze=new RegExp("[^0-9a-f]","gi");function je(e,t){for(var i="",n=t/4-e.length,s=0;s<n;s++)i+="0";return i+e}function Ue(e,t,i){for(var n="",s=0;n.length<t;)n+=Se(i(ke(e+String.fromCharCode.apply(String,[(4278190080&s)>>24,(16711680&s)>>16,(65280&s)>>8,255&s])))),s+=1;return n}function $e(e){for(var t in ce.crypto.Util.DIGESTINFOHEAD){var i=ce.crypto.Util.DIGESTINFOHEAD[t],n=i.length;if(e.substring(0,n)==i)return[t,e.substring(n)]}return[]}function qe(){var e,t=de,i=t.getChildIdx,n=t.getV,s=t.getTLV,r=t.getVbyList,o=t.getVbyListEx,a=t.getTLVbyList,c=t.getTLVbyListEx,h=t.getIdxbyList,u=t.getVidx,d=t.oidname,p=qe,f=Fe;try{e=ce.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(l){}this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==a(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return r(this.hex,0,[0,1+this.foffset],"02")},this.getSignatureAlgorithmField=function(){var t=c(this.hex,0,[0,1]);for(var i in e)if(t===e[i])return i;return d(o(this.hex,0,[0,1,0],"06"))},this.getIssuerHex=function(){return a(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return p.hex2dn(this.getIssuerHex())},this.getSubjectHex=function(){return a(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return p.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var e=r(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=r(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return t.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return h(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return h(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return Be.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){return d(r(this.hex,0,[1,0],"06"))},this.getSignatureValueHex=function(){return r(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),i=this.getSignatureValueHex(),n=a(this.hex,0,[0],"30"),s=new ce.crypto.Signature({alg:t});return s.init(e),s.updateHex(n),s.verify(i)},this.parseExt=function(e){var s,o,a;if(void 0===e){if(3!==this.version)return-1;s=h(a=this.hex,0,[0,7,0],"30"),o=i(a,s)}else{a=Fe(e);var l=h(a,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=n(a,l))return void(this.aExtInfo=new Array);s=h(a,0,[0,3,0,1,0],"30"),o=i(a,s),this.hex=a}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var d={critical:!1},p=0;3===i(a,o[c]).length&&(d.critical=!0,p=1),d.oid=t.hextooidstr(r(a,o[c],[0],"06"));var f=h(a,o[c],[1+p]);d.vidx=u(a,f),this.aExtInfo.push(d)}},this.getExtInfo=function(e){var t=this.aExtInfo,i=e;if(e.match(/^[0-9.]+$/)||(i=ce.asn1.x509.OID.name2oid(e)),""!==i)for(var n=0;n<t.length;n++)if(t[n].oid===i)return t[n]},this.getExtBasicConstraints=function(){var e=this.getExtInfo("basicConstraints");if(void 0===e)return e;var t=n(this.hex,e.vidx);if(""===t)return{};if("0101ff"===t)return{cA:!0};if("0101ff02"===t.substr(0,8)){var i=n(t,6);return{cA:!0,pathLen:parseInt(i,16)}}throw"basicConstraints parse error"},this.getExtKeyUsageBin=function(){var e=this.getExtInfo("keyUsage");if(void 0===e)return"";var t=n(this.hex,e.vidx);if(t.length%2!=0||t.length<=2)throw new Error("malformed key usage value");var i=parseInt(t.substr(0,2)),s=parseInt(t.substr(2),16).toString(2);return(s=("0000000"+s).slice(-8)).substr(0,s.length-i)},this.getExtKeyUsageString=function(){for(var e=this.getExtKeyUsageBin(),t=new Array,i=0;i<e.length;i++)"1"==e.substr(i,1)&&t.push(qe.KEYUSAGE_NAME[i]);return t.join(",")},this.getExtSubjectKeyIdentifier=function(){var e=this.getExtInfo("subjectKeyIdentifier");return void 0===e?e:n(this.hex,e.vidx)},this.getExtAuthorityKeyIdentifier=function(){var e=this.getExtInfo("authorityKeyIdentifier");if(void 0===e)return e;for(var t={},r=s(this.hex,e.vidx),o=i(r,0),a=0;a<o.length;a++)"80"===r.substr(o[a],2)&&(t.kid=n(r,o[a]));return t},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,r=s(this.hex,e.vidx);if(""===r)return t;for(var o=i(r,0),a=0;a<o.length;a++)t.push(d(n(r,o[a])));return t},this.getExtSubjectAltName=function(){for(var e=this.getExtSubjectAltName2(),t=new Array,i=0;i<e.length;i++)"DNS"===e[i][0]&&t.push(e[i][1]);return t},this.getExtSubjectAltName2=function(){var e,t,r,o=this.getExtInfo("subjectAltName");if(void 0===o)return o;for(var a=new Array,l=s(this.hex,o.vidx),c=i(l,0),h=0;h<c.length;h++)r=l.substr(c[h],2),e=n(l,c[h]),"81"===r&&(t=xe(e),a.push(["MAIL",t])),"82"===r&&(t=xe(e),a.push(["DNS",t])),"84"===r&&(t=qe.hex2dn(e,0),a.push(["DN",t])),"86"===r&&(t=xe(e),a.push(["URI",t])),"87"===r&&(t=Ne(e),a.push(["IP",t]));return a},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,n=i(this.hex,e.vidx),s=0;s<n.length;s++)try{var o=xe(r(this.hex,n[s],[0,0,0],"86"));t.push(o)}catch(a){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=i(this.hex,e.vidx),s=0;s<n.length;s++){var o=r(this.hex,n[s],[0],"06"),a=r(this.hex,n[s],[1],"86");"2b06010505073001"===o&&t.ocsp.push(xe(a)),"2b06010505073002"===o&&t.caissuer.push(xe(a))}return t},this.getExtCertificatePolicies=function(){var e=this.getExtInfo("certificatePolicies");if(void 0===e)return e;for(var t=s(this.hex,e.vidx),o=[],a=i(t,0),l=0;l<a.length;l++){var c={},h=i(t,a[l]);if(c.id=d(n(t,h[0])),2===h.length)for(var u=i(t,h[1]),p=0;p<u.length;p++){var f=r(t,u[p],[0],"06");"2b06010505070201"===f?c.cps=xe(r(t,u[p],[1])):"2b06010505070202"===f&&(c.unotice=xe(r(t,u[p],[1,0])))}o.push(c)}return o},this.readCertPEM=function(e){this.readCertHex(f(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{h(this.hex,0,[0,7],"a3"),this.parseExt()}catch(t){}},this.getInfo=function(){var e,t,i;if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ve(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ve(t.e.toString(16))+"\n"),null!=(i=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var n=0;n<i.length;n++){var s=i[n],r=ce.asn1.x509.OID.oid2name(s.oid);""===r&&(r=s.oid);var o="";if(!0===s.critical&&(o="CRITICAL"),e+="  "+r+" "+o+":\n","basicConstraints"===r){var a=this.getExtBasicConstraints();void 0===a.cA?e+="    {}\n":(e+="    cA=true",void 0!==a.pathLen&&(e+=", pathLen="+a.pathLen),e+="\n")}else if("keyUsage"===r)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===r)e+="    "+this.getExtSubjectKeyIdentifier()+"\n";else if("authorityKeyIdentifier"===r){var l=this.getExtAuthorityKeyIdentifier();void 0!==l.kid&&(e+="    kid="+l.kid+"\n")}else if("extKeyUsage"===r)e+="    "+this.getExtExtKeyUsageName().join(", ")+"\n";else if("subjectAltName"===r)e+="    "+this.getExtSubjectAltName2()+"\n";else if("cRLDistributionPoints"===r)e+="    "+this.getExtCRLDistributionPointsURI()+"\n";else if("authorityInfoAccess"===r){var c=this.getExtAIAInfo();void 0!==c.ocsp&&(e+="    ocsp: "+c.ocsp.join(",")+"\n"),void 0!==c.caissuer&&(e+="    caissuer: "+c.caissuer.join(",")+"\n")}else if("certificatePolicies"===r)for(var h=this.getExtCertificatePolicies(),u=0;u<h.length;u++)void 0!==h[u].id&&(e+="    policy oid: "+h[u].id+"\n"),void 0!==h[u].cps&&(e+="    cps: "+h[u].cps+"\n")}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"}}ne.prototype.sign=function(e,t){var i=function(e){return ce.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(i,t)},ne.prototype.signWithMessageHash=function(e,t){var i=te(ce.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return je(this.doPrivate(i).toString(16),this.n.bitLength())},ne.prototype.signPSS=function(e,t,i){var n,s=(n=ke(e),ce.crypto.Util.hashHex(n,t));return void 0===i&&(i=-1),this.signWithMessageHashPSS(s,t,i)},ne.prototype.signWithMessageHashPSS=function(e,t,i){var n,s=Se(e),r=s.length,o=this.n.bitLength()-1,a=Math.ceil(o/8),l=function(e){return ce.crypto.Util.hashHex(e,t)};if(-1===i||void 0===i)i=r;else if(-2===i)i=a-r-2;else if(i<-2)throw"invalid salt length";if(a<r+i+2)throw"data too long";var c="";i>0&&(c=new Array(i),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var h=Se(l(ke("\0\0\0\0\0\0\0\0"+s+c))),u=[];for(n=0;n<a-i-r-2;n+=1)u[n]=0;var d=String.fromCharCode.apply(String,u)+"\x01"+c,p=Ue(h,d.length,l),f=[];for(n=0;n<d.length;n+=1)f[n]=d.charCodeAt(n)^p.charCodeAt(n);for(f[0]&=~(65280>>8*a-o&255),n=0;n<r;n++)f.push(h.charCodeAt(n));return f.push(188),je(this.doPrivate(new x(f)).toString(16),this.n.bitLength())},ne.prototype.verify=function(e,t){var i=te(t=(t=t.replace(ze,"")).replace(/[ \n]+/g,""),16);if(i.bitLength()>this.n.bitLength())return 0;var n=$e(this.doPublic(i).toString(16).replace(/^1f+00/,""));if(0==n.length)return!1;var s=n[0];return n[1]==function(e){return ce.crypto.Util.hashString(e,s)}(e)},ne.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i=te(t,16);if(i.bitLength()>this.n.bitLength())return 0;var n=$e(this.doPublic(i).toString(16).replace(/^1f+00/,""));return 0!=n.length&&n[1]==e},ne.prototype.verifyPSS=function(e,t,i,n){var s,r=(s=ke(e),ce.crypto.Util.hashHex(s,i));return void 0===n&&(n=-1),this.verifyWithMessageHashPSS(r,t,i,n)},ne.prototype.verifyWithMessageHashPSS=function(e,t,i,n){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var s,r=new x(t,16),o=function(e){return ce.crypto.Util.hashHex(e,i)},a=Se(e),l=a.length,c=this.n.bitLength()-1,h=Math.ceil(c/8);if(-1===n||void 0===n)n=l;else if(-2===n)n=h-l-2;else if(n<-2)throw"invalid salt length";if(h<l+n+2)throw"data too long";var u=this.doPublic(r).toByteArray();for(s=0;s<u.length;s+=1)u[s]&=255;for(;u.length<h;)u.unshift(0);if(188!==u[h-1])throw"encoded message does not end in 0xbc";var d=(u=String.fromCharCode.apply(String,u)).substr(0,h-l-1),p=u.substr(d.length,l),f=65280>>8*h-c&255;if(0!=(d.charCodeAt(0)&f))throw"bits beyond keysize not zero";var g=Ue(p,d.length,o),m=[];for(s=0;s<d.length;s+=1)m[s]=d.charCodeAt(s)^g.charCodeAt(s);m[0]&=~f;var v=h-l-n-2;for(s=0;s<v;s+=1)if(0!==m[s])throw"leftmost octets not zero";if(1!==m[v])throw"0x01 marker not found";return p===Se(o(ke("\0\0\0\0\0\0\0\0"+a+String.fromCharCode.apply(String,m.slice(-n)))))},ne.SALT_LEN_HLEN=-1,ne.SALT_LEN_MAX=-2,ne.SALT_LEN_RECOVER=-2,qe.hex2dn=function(e,t){if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed DN";for(var i=new Array,n=de.getChildIdx(e,t),s=0;s<n.length;s++)i.push(qe.hex2rdn(e,n[s]));return"/"+(i=i.map((function(e){return e.replace("/","\\/")}))).join("/")},qe.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw"malformed RDN";for(var i=new Array,n=de.getChildIdx(e,t),s=0;s<n.length;s++)i.push(qe.hex2attrTypeValue(e,n[s]));return(i=i.map((function(e){return e.replace("+","\\+")}))).join("+")},qe.hex2attrTypeValue=function(e,t){var i=de,n=i.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw"malformed attribute type and value";var s=i.getChildIdx(e,t);2!==s.length||e.substr(s[0],2);var r=n(e,s[0]),o=ce.asn1.ASN1Util.oidHexToInt(r);return ce.asn1.x509.OID.oid2atype(o)+"="+Se(n(e,s[1]))},qe.getPublicKeyFromCertHex=function(e){var t=new qe;return t.readCertHex(e),t.getPublicKey()},qe.getPublicKeyFromCertPEM=function(e){var t=new qe;return t.readCertPEM(e),t.getPublicKey()},qe.getPublicKeyInfoPropOfCertPEM=function(e){var t,i,n=de.getVbyList,s={algparam:null};return(t=new qe).readCertPEM(e),i=t.getPublicKeyHex(),s.keyhex=n(i,0,[1],"03").substr(2),s.algoid=n(i,0,[0,0],"06"),"2a8648ce3d0201"===s.algoid&&(s.algparam=n(i,0,[0,1],"06")),s},qe.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWS=function(){var e=ce.jws.JWS.isSafeJSONString;this.parseJWS=function(t,i){if(void 0===this.parsedJWS||!i&&void 0===this.parsedJWS.sigvalH){var n=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==n)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var s=n[1],r=n[2],o=n[3],a=s+"."+r;if(this.parsedJWS={},this.parsedJWS.headB64U=s,this.parsedJWS.payloadB64U=r,this.parsedJWS.sigvalB64U=o,this.parsedJWS.si=a,!i){var l=we(o),c=te(l,16);this.parsedJWS.sigvalH=l,this.parsedJWS.sigvalBI=c}var h=ue(s),u=ue(r);if(this.parsedJWS.headS=h,this.parsedJWS.payloadS=u,!e(h,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+h}}},ce.jws.JWS.sign=function(e,t,i,n,s){var r,o,a,l=ce.jws.JWS,c=l.readSafeJSONString,h=l.isSafeJSONString,u=ce.crypto,d=u.Mac,p=u.Signature,f=JSON;if("string"!=typeof t&&"object"!=typeof t)throw"spHeader must be JSON string or object: "+t;if("object"==typeof t&&(r=f.stringify(o=t)),"string"==typeof t){if(!h(r=t))throw"JWS Head is not safe JSON string: "+r;o=c(r)}if(a=i,"object"==typeof i&&(a=f.stringify(i)),""!=e&&null!=e||void 0===o.alg||(e=o.alg),""!=e&&null!=e&&void 0===o.alg&&(o.alg=e,r=f.stringify(o)),e!==o.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+o.alg;var g=null;if(void 0===l.jwsalg2sigalg[e])throw"unsupported alg name: "+e;g=l.jwsalg2sigalg[e];var m=he(r)+"."+he(a),v="";if("Hmac"==g.substr(0,4)){if(void 0===n)throw"mac key shall be specified for HS* alg";var b=new d({alg:g,prov:"cryptojs",pass:n});b.updateString(m),v=b.doFinal()}else if(-1!=g.indexOf("withECDSA")){(w=new p({alg:g})).init(n,s),w.updateString(m);var y=w.sign();v=ce.crypto.ECDSA.asn1SigToConcatSig(y)}else{var w;"none"!=g&&((w=new p({alg:g})).init(n,s),w.updateString(m),v=w.sign())}return m+"."+ye(v)},ce.jws.JWS.verify=function(e,t,i){var n,s=ce.jws.JWS,r=s.readSafeJSONString,o=ce.crypto,a=o.ECDSA,l=o.Mac,c=o.Signature;n=ne;var h=e.split(".");if(3!==h.length)return!1;var u,d=h[0]+"."+h[1],p=we(h[2]),f=r(ue(h[0])),g=null;if(void 0===f.alg)throw"algorithm not specified in header";if(u=(g=f.alg).substr(0,2),null!=i&&"[object Array]"===Object.prototype.toString.call(i)&&i.length>0&&-1==(":"+i.join(":")+":").indexOf(":"+g+":"))throw"algorithm '"+g+"' not accepted in the list";if("none"!=g&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=Be.getKey(t)),!("RS"!=u&&"PS"!=u||t instanceof n))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==u&&!(t instanceof a))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===s.jwsalg2sigalg[f.alg])throw"unsupported alg name: "+g;if("none"==(m=s.jwsalg2sigalg[g]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var v=new l({alg:m,pass:t});return v.updateString(d),p==v.doFinal()}if(-1!=m.indexOf("withECDSA")){var b,y=null;try{y=a.concatSigToASN1Sig(p)}catch(w){return!1}return(b=new c({alg:m})).init(t),b.updateString(d),b.verify(y)}return(b=new c({alg:m})).init(t),b.updateString(d),b.verify(p)},ce.jws.JWS.parse=function(e){var t,i,n=e.split("."),s={};if(2!=n.length&&3!=n.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=n[1],3==n.length&&(i=n[2]),s.headerObj=ce.jws.JWS.readSafeJSONString(ue(n[0])),s.payloadObj=ce.jws.JWS.readSafeJSONString(ue(t)),s.headerPP=JSON.stringify(s.headerObj,null,"  "),s.payloadPP=null==s.payloadObj?ue(t):JSON.stringify(s.payloadObj,null,"  "),void 0!==i&&(s.sigHex=we(i)),s},ce.jws.JWS.verifyJWT=function(e,t,i){var n=ce.jws,s=n.JWS,r=s.readSafeJSONString,o=s.inArray,a=s.includedArray,l=e.split("."),c=l[0],h=l[1],u=(we(l[2]),r(ue(c))),d=r(ue(h));if(void 0===u.alg)return!1;if(void 0===i.alg)throw"acceptField.alg shall be specified";if(!o(u.alg,i.alg))return!1;if(void 0!==d.iss&&"object"==typeof i.iss&&!o(d.iss,i.iss))return!1;if(void 0!==d.sub&&"object"==typeof i.sub&&!o(d.sub,i.sub))return!1;if(void 0!==d.aud&&"object"==typeof i.aud)if("string"==typeof d.aud){if(!o(d.aud,i.aud))return!1}else if("object"==typeof d.aud&&!a(d.aud,i.aud))return!1;var p=n.IntDate.getNow();return void 0!==i.verifyAt&&"number"==typeof i.verifyAt&&(p=i.verifyAt),void 0!==i.gracePeriod&&"number"==typeof i.gracePeriod||(i.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+i.gracePeriod<p||void 0!==d.nbf&&"number"==typeof d.nbf&&p<d.nbf-i.gracePeriod||void 0!==d.iat&&"number"==typeof d.iat&&p<d.iat-i.gracePeriod||void 0!==d.jti&&void 0!==i.jti&&d.jti!==i.jti||!s.verify(e,t,i.alg))},ce.jws.JWS.includedArray=function(e,t){var i=ce.jws.JWS.inArray;if(null===e)return!1;if("object"!=typeof e)return!1;if("number"!=typeof e.length)return!1;for(var n=0;n<e.length;n++)if(!i(e[n],t))return!1;return!0},ce.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!=typeof t)return!1;if("number"!=typeof t.length)return!1;for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},ce.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ce.jws.JWS.isSafeJSONString=function(e,t,i){var n=null;try{return"object"!=typeof(n=le(e))||n.constructor===Array?0:(t&&(t[i]=n),1)}catch(o){return 0}},ce.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=typeof(t=le(e))||t.constructor===Array?null:t}catch(o){return null}},ce.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ce.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var i=ke(t);return ye(ce.crypto.Util.hashHex(i,"sha256"))},ce.jws.IntDate={},ce.jws.IntDate.get=function(e){var t=ce.jws.IntDate,i=t.getNow,n=t.getZulu;if("now"==e)return i();if("now + 1hour"==e)return i()+3600;if("now + 1day"==e)return i()+86400;if("now + 1month"==e)return i()+2592e3;if("now + 1year"==e)return i()+31536e3;if(e.match(/Z$/))return n(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ce.jws.IntDate.getZulu=function(e){return Ae(e)},ce.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ce.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ce.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},void 0!==ce&&ce||(ce={}),void 0!==ce.jws&&ce.jws||(ce.jws={}),ce.jws.JWSJS=function(){var e=ce.jws.JWS,t=e.readSafeJSONString;this.aHeader=[],this.sPayload="",this.aSignature=[],this.init=function(){this.aHeader=[],this.sPayload=void 0,this.aSignature=[]},this.initWithJWS=function(e){this.init();var t=e.split(".");if(3!=t.length)throw"malformed input JWS";this.aHeader.push(t[0]),this.sPayload=t[1],this.aSignature.push(t[2])},this.addSignature=function(e,t,i,n){if(null==this.sPayload)throw"there's no JSON-JS signature to add.";var s=this.aHeader.length;if(this.aHeader.length!=this.aSignature.length)throw"aHeader.length != aSignature.length";try{var r=ce.jws.JWS.sign(e,t,this.sPayload,i,n).split(".");this.aHeader.push(r[0]),this.aSignature.push(r[2])}catch(f){throw this.aHeader.length>s&&this.aHeader.pop(),this.aSignature.length>s&&this.aSignature.pop(),"addSignature failed: "+f}},this.verifyAll=function(e){if(this.aHeader.length!==e.length||this.aSignature.length!==e.length)return!1;for(var t=0;t<e.length;t++){var i=e[t];if(2!==i.length)return!1;if(!1===this.verifyNth(t,i[0],i[1]))return!1}return!0},this.verifyNth=function(t,i,n){if(this.aHeader.length<=t||this.aSignature.length<=t)return!1;var s=this.aHeader[t]+"."+this.sPayload+"."+this.aSignature[t],r=!1;try{r=e.verify(s,i,n)}catch(f){return!1}return r},this.readJWSJS=function(e){if("string"==typeof e){var i=t(e);if(null==i)throw"argument is not safe JSON object string";this.aHeader=i.headers,this.sPayload=i.payload,this.aSignature=i.signatures}else try{if(!(e.headers.length>0))throw"malformed header";if(this.aHeader=e.headers,"string"!=typeof e.payload)throw"malformed signatures";if(this.sPayload=e.payload,!(e.signatures.length>0))throw"malformed signatures";this.aSignature=e.signatures}catch(r){throw"malformed JWS-JS JSON object: "+r}},this.getJSON=function(){return{headers:this.aHeader,payload:this.sPayload,signatures:this.aSignature}},this.isEmpty=function(){return 0==this.aHeader.length?1:0}},t.SecureRandom=ee,t.rng_seed_time=W,t.BigInteger=x,t.RSAKey=ne,t.ECDSA=ce.crypto.ECDSA,t.DSA=ce.crypto.DSA,t.Signature=ce.crypto.Signature,t.MessageDigest=ce.crypto.MessageDigest,t.Mac=ce.crypto.Mac,t.Cipher=ce.crypto.Cipher,t.KEYUTIL=Be,t.ASN1HEX=de,t.X509=qe,t.CryptoJS=m,t.b64tohex=w,t.b64toBA=C,t.ECFieldElementFp=re,t.ECPointFp=oe,t.ECCurveFp=ae,t.stoBA=pe,t.BAtos=fe,t.BAtohex=ge,t.stohex=me,t.stob64=function(e){return y(me(e))},t.stob64u=function(e){return ve(y(me(e)))},t.b64utos=function(e){return fe(C(be(e)))},t.b64tob64u=ve,t.b64utob64=be,t.hex2b64=y,t.hextob64u=ye,t.b64utohex=we,t.utf8tob64u=he,t.b64utoutf8=ue,t.utf8tob64=function(e){return y(Oe(Le(e)))},t.b64toutf8=function(e){return decodeURIComponent(Re(w(e)))},t.utf8tohex=Ce,t.hextoutf8=xe,t.hextorstr=Se,t.rstrtohex=ke,t.hextob64=_e,t.hextob64nl=Ee,t.b64nltohex=Ie,t.hextopem=Te,t.pemtohex=Fe,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),i=new DataView(t),n=0;n<e.length/2;n++)i.setUint8(n,parseInt(e.substr(2*n,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",i=new DataView(e),n=0;n<e.byteLength;n++)t+=("00"+i.getUint8(n).toString(16)).slice(-2);return t},t.zulutomsec=De,t.zulutosec=Ae,t.zulutodate=function(e){return new Date(De(e))},t.datetozulu=function(e,t,i){var n,s=e.getUTCFullYear();if(t){if(s<1950||2049<s)throw"not proper year for UTCTime: "+s;n=(""+s).slice(-2)}else n=("000"+s).slice(-4);if(n+=("0"+(e.getUTCMonth()+1)).slice(-2),n+=("0"+e.getUTCDate()).slice(-2),n+=("0"+e.getUTCHours()).slice(-2),n+=("0"+e.getUTCMinutes()).slice(-2),n+=("0"+e.getUTCSeconds()).slice(-2),i){var r=e.getUTCMilliseconds();0!==r&&(n+="."+(r=(r=("00"+r).slice(-3)).replace(/0+$/g,"")))}return n+"Z"},t.uricmptohex=Oe,t.hextouricmp=Re,t.ipv6tohex=Pe,t.hextoipv6=Me,t.hextoip=Ne,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Pe(e);throw t}var i=e.split(".");if(4!==i.length)throw t;var n="";try{for(var s=0;s<4;s++)n+=("0"+parseInt(i[s]).toString(16)).slice(-2);return n}catch(p){throw t}},t.encodeURIComponentAll=Le,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ve,t.intarystrtohex=He,t.strdiffidx=function(e,t){var i=e.length;e.length>t.length&&(i=t.length);for(var n=0;n<i;n++)if(e.charCodeAt(n)!=t.charCodeAt(n))return n;return e.length!=t.length?i:-1},t.KJUR=ce,t.crypto=ce.crypto,t.asn1=ce.asn1,t.jws=ce.jws,t.lang=ce.lang},zUnb:function(e,t,i){"use strict";function n(e){return"function"==typeof e}i.r(t);let s=!1;const r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else s&&console.log("RxJS: Back to a better error behavior. Thank you. <3");s=e},get useDeprecatedSynchronousErrorHandling(){return s}};function o(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(r.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const h=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let u=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,i instanceof e)i.remove(this);else if(null!==i)for(let e=0;e<i.length;++e)i[e].remove(this);if(n(s))try{s.call(this)}catch(o){t=o instanceof h?d(o.errors):[o]}if(l(r)){let e=-1,i=r.length;for(;++e<i;){const i=r[e];if(c(i))try{i.unsubscribe()}catch(o){t=t||[],o instanceof h?t=t.concat(d(o.errors)):t.push(o)}}}if(t)throw new h(t)}add(t){let i=t;if(!t)return e.EMPTY;switch(typeof t){case"function":i=new e(t);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof e)){const t=i;i=new e,i._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=i;if(null===n)i._parentOrParents=this;else if(n instanceof e){if(n===this)return i;i._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return i;n.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[i]:s.push(i),i}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function d(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends u{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof f?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,e,t,i)}}[p](){return this}static create(e,t,i){const n=new f(e,t,i);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class g extends f{constructor(e,t,i,s){let r;super(),this._parentSubscriber=e;let o=this;n(t)?r=t:t&&(r=t.next,i=t.error,s=t.complete,t!==a&&(o=Object.create(t),n(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;r.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=r;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);r.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),r.useDeprecatedSynchronousErrorHandling)throw i;o(i)}}__tryOrSetError(e,t,i){if(!r.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(n){return r.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(o(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(e){return e}function b(...e){return y(e)}function y(e){return 0===e.length?v:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const i=new e;return i.source=this,i.operator=t,i}subscribe(e,t,i){const{operator:n}=this,s=function(e,t,i){if(e){if(e instanceof f)return e;if(e[p])return e[p]()}return e||t||i?new f(e,t,i):new f(a)}(e,t,i);if(s.add(n?n.call(s,this.source):this.source||r.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),r.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}_trySubscribe(e){try{return this._subscribe(e)}catch(t){r.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:i,isStopped:n}=e;if(t||n)return!1;e=i&&i instanceof f?i:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=C(t))((t,i)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(s){i(s),n&&n.unsubscribe()}},i,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:y(e)(this)}toPromise(e){return new(e=C(e))((e,t)=>{let i;this.subscribe(e=>i=e,e=>t(e),()=>e(i))})}}return e.create=t=>new e(t),e})();function C(e){if(e||(e=r.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const x=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class S extends u{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class k extends f{constructor(e){super(e),this.destination=e}}let _=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new k(this)}lift(e){const t=new E(this,this);return t.operator=e,t}next(e){if(this.closed)throw new x;if(!this.isStopped){const{observers:t}=this,i=t.length,n=t.slice();for(let s=0;s<i;s++)n[s].next(e)}}error(e){if(this.closed)throw new x;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,i=t.length,n=t.slice();for(let s=0;s<i;s++)n[s].error(e);this.observers.length=0}complete(){if(this.closed)throw new x;this.isStopped=!0;const{observers:e}=this,t=e.length,i=e.slice();for(let n=0;n<t;n++)i[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new x;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new x;return this.hasError?(e.error(this.thrownError),u.EMPTY):this.isStopped?(e.complete(),u.EMPTY):(this.observers.push(e),new S(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new E(e,t),e})();class E extends _{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):u.EMPTY}}function I(e){return e&&"function"==typeof e.schedule}class T extends f{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const F=e=>t=>{for(let i=0,n=e.length;i<n&&!t.closed;i++)t.next(e[i]);t.complete()};function D(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const A=D(),O=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function R(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const P=e=>{if(e&&"function"==typeof e[m])return n=e,e=>{const t=n[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(O(e))return F(e);if(R(e))return i=e,e=>(i.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,o),e);if(e&&"function"==typeof e[A])return t=e,e=>{const i=t[A]();for(;;){const t=i.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof i.return&&e.add(()=>{i.return&&i.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,i,n};function M(e,t,i,n,s=new T(e,i,n)){if(!s.closed)return t instanceof w?t.subscribe(s):P(t)(s)}class N extends f{notifyNext(e,t,i,n,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function L(e,t){return function(i){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new V(e,t))}}class V{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new H(e,this.project,this.thisArg))}}class H extends f{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}function B(e,t){return new w(i=>{const n=new u;let s=0;return n.add(t.schedule((function(){s!==e.length?(i.next(e[s++]),i.closed||n.add(this.schedule())):i.complete()}))),n})}function z(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new w(i=>{const n=new u;return n.add(t.schedule(()=>{const s=e[m]();n.add(s.subscribe({next(e){n.add(t.schedule(()=>i.next(e)))},error(e){n.add(t.schedule(()=>i.error(e)))},complete(){n.add(t.schedule(()=>i.complete()))}}))})),n})}(e,t);if(R(e))return function(e,t){return new w(i=>{const n=new u;return n.add(t.schedule(()=>e.then(e=>{n.add(t.schedule(()=>{i.next(e),n.add(t.schedule(()=>i.complete()))}))},e=>{n.add(t.schedule(()=>i.error(e)))}))),n})}(e,t);if(O(e))return B(e,t);if(function(e){return e&&"function"==typeof e[A]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new w(i=>{const n=new u;let s;return n.add(()=>{s&&"function"==typeof s.return&&s.return()}),n.add(t.schedule(()=>{s=e[A](),n.add(t.schedule((function(){if(i.closed)return;let e,t;try{const i=s.next();e=i.value,t=i.done}catch(n){return void i.error(n)}t?i.complete():(i.next(e),this.schedule())})))})),n})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof w?e:new w(P(e))}function j(e,t,i=Number.POSITIVE_INFINITY){return"function"==typeof t?n=>n.pipe(j((i,n)=>z(e(i,n)).pipe(L((e,s)=>t(i,e,n,s))),i)):("number"==typeof t&&(i=t),t=>t.lift(new U(e,i)))}class U{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new $(e,this.project,this.concurrent))}}class $ extends N{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(t,e,i)}_innerSub(e,t,i){const n=new T(this,t,i),s=this.destination;s.add(n);const r=M(this,e,void 0,void 0,n);r!==n&&s.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,i,n,s){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(e=Number.POSITIVE_INFINITY){return j(v,e)}function G(e,t){return t?B(e,t):new w(F(e))}function K(...e){let t=Number.POSITIVE_INFINITY,i=null,n=e[e.length-1];return I(n)?(i=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof n&&(t=e.pop()),null===i&&1===e.length&&e[0]instanceof w?e[0]:q(t)(G(e,i))}function W(){return function(e){return e.lift(new Z(e))}}class Z{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const n=new Y(e,i),s=t.subscribe(n);return n.closed||(n.connection=i.connect()),s}}class Y extends f{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,n=e._connection;this.connection=null,!n||i&&n!==i||n.unsubscribe()}}class Q extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new u,e.add(this.source.subscribe(new X(this.getSubject(),this))),e.closed&&(this._connection=null,e=u.EMPTY)),e}refCount(){return W()(this)}}const J=(()=>{const e=Q.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class X extends k{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function ee(){return new _}function te(e){return{toString:e}.toString()}function ie(e,t,i){return te(()=>{const n=function(e){return function(...t){if(e){const i=e(...t);for(const e in i)this[e]=i[e]}}}(t);function s(...e){if(this instanceof s)return n.apply(this,e),this;const t=new s(...e);return i.annotation=t,i;function i(e,i,n){const s=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;s.length<=n;)s.push(null);return(s[n]=s[n]||[]).push(t),e}}return i&&(s.prototype=Object.create(i.prototype)),s.prototype.ngMetadataName=e,s.annotationCls=s,s})}const ne=ie("Inject",e=>({token:e})),se=ie("Optional"),re=ie("Self"),oe=ie("SkipSelf");var ae=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function le(e){for(let t in e)if(e[t]===le)return t;throw Error("Could not find renamed property on target object.")}function ce(e,t){for(const i in t)t.hasOwnProperty(i)&&!e.hasOwnProperty(i)&&(e[i]=t[i])}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ue(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function de(e){return pe(e,e[ge])||pe(e,e[be])}function pe(e,t){return t&&t.token===e?t:null}function fe(e){return e&&(e.hasOwnProperty(me)||e.hasOwnProperty(ye))?e[me]:null}const ge=le({"\u0275prov":le}),me=le({"\u0275inj":le}),ve=le({"\u0275provFallback":le}),be=le({ngInjectableDef:le}),ye=le({ngInjectorDef:le});function we(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(we).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const i=t.indexOf("\n");return-1===i?t:t.substring(0,i)}function Ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const xe=le({__forward_ref__:le});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return we(this())},e}function ke(e){return _e(e)?e():e}function _e(e){return"function"==typeof e&&e.hasOwnProperty(xe)&&e.__forward_ref__===Se}const Ee="undefined"!=typeof globalThis&&globalThis,Ie="undefined"!=typeof window&&window,Te="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fe="undefined"!=typeof global&&global,De=Ee||Fe||Ie||Te,Ae=le({"\u0275cmp":le}),Oe=le({"\u0275dir":le}),Re=le({"\u0275pipe":le}),Pe=le({"\u0275mod":le}),Me=le({"\u0275loc":le}),Ne=le({"\u0275fac":le}),Le=le({__NG_ELEMENT_ID__:le});class Ve{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=he({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const He=new Ve("INJECTOR",-1),Be={},ze=/\n/gm,je=le({provide:String,useValue:le});let Ue,$e=void 0;function qe(e){const t=$e;return $e=e,t}function Ge(e){const t=Ue;return Ue=e,t}function Ke(e,t=ae.Default){if(void 0===$e)throw new Error("inject() must be called from an injection context");return null===$e?Ze(e,void 0,t):$e.get(e,t&ae.Optional?null:void 0,t)}function We(e,t=ae.Default){return(Ue||Ke)(ke(e),t)}function Ze(e,t,i){const n=de(e);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(i&ae.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${we(e)}]`)}function Ye(e){const t=[];for(let i=0;i<e.length;i++){const n=ke(e[i]);if(Array.isArray(n)){if(0===n.length)throw new Error("Arguments array must have arguments.");let e=void 0,i=ae.Default;for(let t=0;t<n.length;t++){const s=n[t];s instanceof se||"Optional"===s.ngMetadataName||s===se?i|=ae.Optional:s instanceof oe||"SkipSelf"===s.ngMetadataName||s===oe?i|=ae.SkipSelf:s instanceof re||"Self"===s.ngMetadataName||s===re?i|=ae.Self:e=s instanceof ne||s===ne?s.token:s}t.push(We(e,i))}else t.push(We(n))}return t}class Qe{get(e,t=Be){if(t===Be){const t=new Error(`NullInjectorError: No provider for ${we(e)}!`);throw t.name="NullInjectorError",t}return t}}class Je{}class Xe{}function et(e,t){for(let i=0;i<e.length;i++)t.push(e[i])}function tt(e,t){e.forEach(e=>Array.isArray(e)?tt(e,t):t(e))}function it(e,t,i){t>=e.length?e.push(i):e.splice(t,0,i)}function nt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function st(e,t){const i=[];for(let n=0;n<e;n++)i.push(t);return i}function rt(e,t,i){let n=at(e,t);return n>=0?e[1|n]=i:(n=~n,function(e,t,i,n){let s=e.length;if(s==t)e.push(i,n);else if(1===s)e.push(n,e[0]),e[0]=i;else{for(s--,e.push(e[s-1],e[s]);s>t;)e[s]=e[s-2],s--;e[t]=i,e[t+1]=n}}(e,n,t,i)),n}function ot(e,t){const i=at(e,t);if(i>=0)return e[1|i]}function at(e,t){return function(e,t,i){let n=0,s=e.length>>1;for(;s!==n;){const i=n+(s-n>>1),r=e[i<<1];if(t===r)return i<<1;r>t?s=i:n=i+1}return~(s<<1)}(e,t)}const lt=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),ct=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),ht={},ut=[];let dt=0;function pt(e){return te(()=>{const t=e.type,i=t.prototype,n={},s={type:t,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputs:null,outputs:null,exportAs:e.exportAs||null,onChanges:null,onInit:i.ngOnInit||null,doCheck:i.ngDoCheck||null,afterContentInit:i.ngAfterContentInit||null,afterContentChecked:i.ngAfterContentChecked||null,afterViewInit:i.ngAfterViewInit||null,afterViewChecked:i.ngAfterViewChecked||null,onDestroy:i.ngOnDestroy||null,onPush:e.changeDetection===lt.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ut,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||ct.Emulated,id:"c",styles:e.styles||ut,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,o=e.features,a=e.pipes;return s.id+=dt++,s.inputs=bt(e.inputs,n),s.outputs=bt(e.outputs),o&&o.forEach(e=>e(s)),s.directiveDefs=r?()=>("function"==typeof r?r():r).map(ft):null,s.pipeDefs=a?()=>("function"==typeof a?a():a).map(gt):null,s})}function ft(e){return Ct(e)||function(e){return e[Oe]||null}(e)}function gt(e){return function(e){return e[Re]||null}(e)}const mt={};function vt(e){const t={type:e.type,bootstrap:e.bootstrap||ut,declarations:e.declarations||ut,imports:e.imports||ut,exports:e.exports||ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&te(()=>{mt[e.id]=e.type}),t}function bt(e,t){if(null==e)return ht;const i={};for(const n in e)if(e.hasOwnProperty(n)){let s=e[n],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),i[s]=n,t&&(t[s]=r)}return i}const yt=pt;function wt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ct(e){return e[Ae]||null}function xt(e,t){return e.hasOwnProperty(Ne)?e[Ne]:null}function St(e,t){const i=e[Pe]||null;if(!i&&!0===t)throw new Error(`Type ${we(e)} does not have '\u0275mod' property.`);return i}function kt(e){return Array.isArray(e)&&"object"==typeof e[1]}function _t(e){return Array.isArray(e)&&!0===e[1]}function Et(e){return 0!=(8&e.flags)}function It(e){return 2==(2&e.flags)}function Tt(e){return 1==(1&e.flags)}function Ft(e){return null!==e.template}function Dt(e){return 0!=(512&e[2])}let At=void 0;function Ot(){return void 0!==At?At:"undefined"!=typeof document?document:void 0}function Rt(e){return!!e.listen}const Pt={createRenderer:(e,t)=>Ot()};function Mt(e){for(;Array.isArray(e);)e=e[0];return e}function Nt(e,t){return Mt(t[e+20])}function Lt(e,t){return Mt(t[e.index])}function Vt(e,t){return e.data[t+20]}function Ht(e,t){return e[t+20]}function Bt(e,t){const i=t[e];return kt(i)?i:i[0]}function zt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function jt(e){return 4==(4&e[2])}function Ut(e){return 128==(128&e[2])}function $t(e,t){return null===e||null==t?null:e[t]}function qt(e){e[18]=0}function Gt(e,t){e[5]+=t;let i=e,n=e[3];for(;null!==n&&(1===t&&1===i[5]||-1===t&&0===i[5]);)n[5]+=t,i=n,n=n[3]}const Kt={lFrame:gi(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Wt(){return Kt.bindingsEnabled}function Zt(){return Kt.lFrame.lView}function Yt(){return Kt.lFrame.tView}function Qt(e){Kt.lFrame.contextLView=e}function Jt(){return Kt.lFrame.previousOrParentTNode}function Xt(e,t){Kt.lFrame.previousOrParentTNode=e,Kt.lFrame.isParent=t}function ei(){return Kt.lFrame.isParent}function ti(){Kt.lFrame.isParent=!1}function ii(){return Kt.checkNoChangesMode}function ni(e){Kt.checkNoChangesMode=e}function si(){const e=Kt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ri(){return Kt.lFrame.bindingIndex}function oi(){return Kt.lFrame.bindingIndex++}function ai(e){const t=Kt.lFrame,i=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,i}function li(e,t){const i=Kt.lFrame;i.bindingIndex=i.bindingRootIndex=e,ci(t)}function ci(e){Kt.lFrame.currentDirectiveIndex=e}function hi(){return Kt.lFrame.currentQueryIndex}function ui(e){Kt.lFrame.currentQueryIndex=e}function di(e,t){const i=fi();Kt.lFrame=i,i.previousOrParentTNode=t,i.lView=e}function pi(e,t){const i=fi(),n=e[1];Kt.lFrame=i,i.previousOrParentTNode=t,i.lView=e,i.tView=n,i.contextLView=e,i.bindingIndex=n.bindingStartIndex}function fi(){const e=Kt.lFrame,t=null===e?null:e.child;return null===t?gi(e):t}function gi(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function mi(){const e=Kt.lFrame;return Kt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const vi=mi;function bi(){const e=mi();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.currentSanitizer=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function yi(){return Kt.lFrame.selectedIndex}function wi(e){Kt.lFrame.selectedIndex=e}function Ci(){const e=Kt.lFrame;return Vt(e.tView,e.selectedIndex)}function xi(e,t){for(let i=t.directiveStart,n=t.directiveEnd;i<n;i++){const t=e.data[i];t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(-i,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(i,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(i,t.afterContentChecked)),t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(-i,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(i,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(i,t.afterViewChecked)),null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(i,t.onDestroy)}}function Si(e,t,i){Ei(e,t,3,i)}function ki(e,t,i,n){(3&e[2])===i&&Ei(e,t,i,n)}function _i(e,t){let i=e[2];(3&i)===t&&(i&=2047,i+=1,e[2]=i)}function Ei(e,t,i,n){const s=null!=n?n:-1;let r=0;for(let o=void 0!==n?65535&e[18]:0;o<t.length;o++)if("number"==typeof t[o+1]){if(r=t[o],null!=n&&r>=n)break}else t[o]<0&&(e[18]+=65536),(r<s||-1==s)&&(Ii(e,i,t,o),e[18]=(4294901760&e[18])+o+2),o++}function Ii(e,t,i,n){const s=i[n]<0,r=i[n+1],o=e[s?-i[n]:i[n]];s?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,r.call(o)):r.call(o)}class Ti{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Fi(e,t,i){const n=Rt(e);let s=0;for(;s<i.length;){const r=i[s];if("number"==typeof r){if(0!==r)break;s++;const o=i[s++],a=i[s++],l=i[s++];n?e.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=i[++s];Ai(o)?n&&e.setProperty(t,o,a):n?e.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function Di(e){return 3===e||4===e||6===e}function Ai(e){return 64===e.charCodeAt(0)}function Oi(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let i=-1;for(let n=0;n<t.length;n++){const s=t[n];"number"==typeof s?i=s:0===i||Ri(e,i,s,null,-1===i||2===i?t[++n]:null)}}return e}function Ri(e,t,i,n,s){let r=0,o=e.length;if(-1===t)o=-1;else for(;r<e.length;){const i=e[r++];if("number"==typeof i){if(i===t){o=-1;break}if(i>t){o=r-1;break}}}for(;r<e.length;){const t=e[r];if("number"==typeof t)break;if(t===i){if(null===n)return void(null!==s&&(e[r+1]=s));if(n===e[r+1])return void(e[r+2]=s)}r++,null!==n&&r++,null!==s&&r++}-1!==o&&(e.splice(o,0,t),r=o+1),e.splice(r++,0,i),null!==n&&e.splice(r++,0,n),null!==s&&e.splice(r++,0,s)}function Pi(e){return-1!==e}function Mi(e){return 32767&e}function Ni(e){return e>>16}function Li(e,t){let i=Ni(e),n=t;for(;i>0;)n=n[15],i--;return n}function Vi(e){return"string"==typeof e?e:null==e?"":""+e}function Hi(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Vi(e)}const Bi=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(De))();function zi(e){return{name:"document",target:e.ownerDocument}}function ji(e){return e instanceof Function?e():e}let Ui=!0;function $i(e){const t=Ui;return Ui=e,t}let qi=0;function Gi(e,t){const i=Wi(e,t);if(-1!==i)return i;const n=t[1];n.firstCreatePass&&(e.injectorIndex=t.length,Ki(n.data,e),Ki(t,null),Ki(n.blueprint,null));const s=Zi(e,t),r=e.injectorIndex;if(Pi(s)){const e=Mi(s),i=Li(s,t),n=i[1].data;for(let s=0;s<8;s++)t[r+s]=i[e+s]|n[e+s]}return t[r+8]=s,r}function Ki(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Wi(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function Zi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let i=t[6],n=1;for(;i&&-1===i.injectorIndex;)i=(t=t[15])?t[6]:null,n++;return i?i.injectorIndex|n<<16:-1}function Yi(e,t,i){!function(e,t,i){let n="string"!=typeof i?i[Le]:i.charCodeAt(0)||0;null==n&&(n=i[Le]=qi++);const s=255&n,r=1<<s,o=64&s,a=32&s,l=t.data;128&s?o?a?l[e+7]|=r:l[e+6]|=r:a?l[e+5]|=r:l[e+4]|=r:o?a?l[e+3]|=r:l[e+2]|=r:a?l[e+1]|=r:l[e]|=r}(e,t,i)}function Qi(e,t,i,n=ae.Default,s){if(null!==e){const s=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e[Le];return"number"==typeof t&&t>0?255&t:t}(i);if("function"==typeof s){di(t,e);try{const e=s();if(null!=e||n&ae.Optional)return e;throw new Error(`No provider for ${Hi(i)}!`)}finally{vi()}}else if("number"==typeof s){if(-1===s)return new rn(e,t);let r=null,o=Wi(e,t),a=-1,l=n&ae.Host?t[16][6]:null;for((-1===o||n&ae.SkipSelf)&&(a=-1===o?Zi(e,t):t[o+8],sn(n,!1)?(r=t[1],o=Mi(a),t=Li(a,t)):o=-1);-1!==o;){a=t[o+8];const e=t[1];if(nn(s,o,e.data)){const e=Xi(o,t,i,r,n,l);if(e!==Ji)return e}sn(n,t[1].data[o+8]===l)&&nn(s,o,t)?(r=e,o=Mi(a),t=Li(a,t)):o=-1}}}if(n&ae.Optional&&void 0===s&&(s=null),0==(n&(ae.Self|ae.Host))){const e=t[9],r=Ge(void 0);try{return e?e.get(i,s,n&ae.Optional):Ze(i,s,n&ae.Optional)}finally{Ge(r)}}if(n&ae.Optional)return s;throw new Error(`NodeInjector: NOT_FOUND [${Hi(i)}]`)}const Ji={};function Xi(e,t,i,n,s,r){const o=t[1],a=o.data[e+8],l=en(a,o,i,null==n?It(a)&&Ui:n!=o&&3===a.type,s&ae.Host&&r===a);return null!==l?tn(t,o,l,a):Ji}function en(e,t,i,n,s){const r=e.providerIndexes,o=t.data,a=65535&r,l=e.directiveStart,c=r>>16,h=s?a+c:e.directiveEnd;for(let u=n?a:a+c;u<h;u++){const e=o[u];if(u<l&&i===e||u>=l&&e.type===i)return u}if(s){const e=o[l];if(e&&Ft(e)&&e.type===i)return l}return null}function tn(e,t,i,n){let s=e[i];const r=t.data;if(s instanceof Ti){const o=s;if(o.resolving)throw new Error("Circular dep for "+Hi(r[i]));const a=$i(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=Ge(o.injectImpl)),di(e,n);try{s=e[i]=o.factory(void 0,r,e,n),t.firstCreatePass&&i>=n.directiveStart&&function(e,t,i){const{onChanges:n,onInit:s,doCheck:r}=t;n&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,n),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,n)),s&&(i.preOrderHooks||(i.preOrderHooks=[])).push(-e,s),r&&((i.preOrderHooks||(i.preOrderHooks=[])).push(e,r),(i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(e,r))}(i,r[i],t)}finally{o.injectImpl&&Ge(l),$i(a),o.resolving=!1,vi()}}return s}function nn(e,t,i){const n=64&e,s=32&e;let r;return r=128&e?n?s?i[t+7]:i[t+6]:s?i[t+5]:i[t+4]:n?s?i[t+3]:i[t+2]:s?i[t+1]:i[t],!!(r&1<<e)}function sn(e,t){return!(e&ae.Self||e&ae.Host&&t)}class rn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return Qi(this._tNode,this._lView,e,void 0,t)}}function on(e){const t=e;if(_e(e))return()=>{const e=on(ke(t));return e?e():null};let i=xt(t);if(null===i){const e=fe(t);i=e&&e.factory}return i||null}function an(e){return te(()=>{const t=e.prototype.constructor,i=t[Ne]||on(t),n=Object.prototype;let s=Object.getPrototypeOf(e.prototype).constructor;for(;s&&s!==n;){const e=s[Ne]||on(s);if(e&&e!==i)return e;s=Object.getPrototypeOf(s)}return e=>new e})}function ln(e){return e.ngDebugContext}function cn(e){return e.ngOriginalError}function hn(e,...t){e.error(...t)}class un{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=this._findContext(e),n=function(e){return e.ngErrorLogger||hn}(e);n(this._console,"ERROR",e),t&&n(this._console,"ORIGINAL ERROR",t),i&&n(this._console,"ERROR CONTEXT",i)}_findContext(e){return e?ln(e)?ln(e):this._findContext(cn(e)):null}_findOriginalError(e){let t=cn(e);for(;t&&cn(t);)t=cn(t);return t}}class dn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class pn extends dn{getTypeName(){return"HTML"}}class fn extends dn{getTypeName(){return"Style"}}class gn extends dn{getTypeName(){return"Script"}}class mn extends dn{getTypeName(){return"URL"}}class vn extends dn{getTypeName(){return"ResourceURL"}}function bn(e){return e instanceof dn?e.changingThisBreaksApplicationSecurity:e}function yn(e,t){const i=wn(e);if(null!=i&&i!==t){if("ResourceURL"===i&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${i} (see http://g.co/ng/security#xss)`)}return i===t}function wn(e){return e instanceof dn&&e.getTypeName()||null}let Cn=!0,xn=!1;function Sn(){return xn=!0,Cn}class kn{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let t=this.inertDocument.body;if(null==t){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),t=this.inertDocument.createElement("body"),e.appendChild(t)}t.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!t.querySelector||t.querySelector("svg")?(t.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=t.querySelector&&t.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(n){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const i=t.response.body;return i.removeChild(i.firstChild),i}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const i=this.inertDocument.createElement("body");return i.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let n=t.length-1;0<n;n--){const i=t.item(n).name;"xmlns:ns1"!==i&&0!==i.indexOf("ns1:")||e.removeAttribute(i)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const _n=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,En=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function In(e){return(e=String(e)).match(_n)||e.match(En)?e:(Sn()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Tn(e){const t={};for(const i of e.split(","))t[i]=!0;return t}function Fn(...e){const t={};for(const i of e)for(const e in i)i.hasOwnProperty(e)&&(t[e]=!0);return t}const Dn=Tn("area,br,col,hr,img,wbr"),An=Tn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),On=Tn("rp,rt"),Rn=Fn(On,An),Pn=Fn(Dn,Fn(An,Tn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fn(On,Tn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Rn),Mn=Tn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Nn=Tn("srcset"),Ln=Fn(Mn,Nn,Tn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Vn=Tn("script,style,template");class Hn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Pn.hasOwnProperty(t))return this.sanitizedSomething=!0,!Vn.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let s=0;s<i.length;s++){const e=i.item(s),t=e.name,r=t.toLowerCase();if(!Ln.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let o=e.value;Mn[r]&&(o=In(o)),Nn[r]&&(n=o,o=(n=String(n)).split(",").map(e=>In(e.trim())).join(", ")),this.buf.push(" ",t,'="',jn(o),'"')}var n;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Pn.hasOwnProperty(t)&&!Dn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(jn(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Bn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zn=/([^\#-~ |!])/g;function jn(e){return e.replace(/&/g,"&amp;").replace(Bn,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(zn,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Un;function $n(e,t){let i=null;try{Un=Un||new kn(e);let n=t?String(t):"";i=Un.getInertBodyElement(n);let s=5,r=n;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,n=r,r=i.innerHTML,i=Un.getInertBodyElement(n)}while(n!==r);const o=new Hn,a=o.sanitizeChildren(qn(i)||i);return Sn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(i){const e=qn(i)||i;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function qn(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}const Gn=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Kn=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Wn=/^url\(([^)]+)\)$/;function Zn(e){const t=Qn();return t?t.sanitize(Gn.HTML,e)||"":yn(e,"HTML")?bn(e):$n(Ot(),Vi(e))}function Yn(e){const t=Qn();return t?t.sanitize(Gn.URL,e)||"":yn(e,"URL")?bn(e):In(Vi(e))}function Qn(){const e=Zt();return e&&e[12]}function Jn(e,t){e.__ngContext__=t}function Xn(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function es(){throw new Error("Cannot mix multi providers and regular providers")}function ts(e,t,i){let n=e.length;for(;;){const s=e.indexOf(t,i);if(-1===s)return s;if(0===s||e.charCodeAt(s-1)<=32){const i=t.length;if(s+i===n||e.charCodeAt(s+i)<=32)return s}i=s+1}}function is(e,t,i){let n=0;for(;n<e.length;){let s=e[n++];if(i&&"class"===s){if(s=e[n],-1!==ts(s.toLowerCase(),t,0))return!0}else if(1===s){for(;n<e.length&&"string"==typeof(s=e[n++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function ns(e){return 0===e.type&&"ng-template"!==e.tagName}function ss(e,t,i){return t===(0!==e.type||i?e.tagName:"ng-template")}function rs(e,t,i){let n=4;const s=e.attrs||[],r=function(e){for(let t=0;t<e.length;t++)if(Di(e[t]))return t;return e.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!ss(e,l,i)||""===l&&1===t.length){if(os(n))return!1;o=!0}}else{const c=8&n?l:t[++a];if(8&n&&null!==e.attrs){if(!is(e.attrs,c,i)){if(os(n))return!1;o=!0}continue}const h=as(8&n?"class":l,s,ns(e),i);if(-1===h){if(os(n))return!1;o=!0;continue}if(""!==c){let e;e=h>r?"":s[h+1].toLowerCase();const t=8&n?e:null;if(t&&-1!==ts(t,c,0)||2&n&&c!==e){if(os(n))return!1;o=!0}}}}else{if(!o&&!os(n)&&!os(l))return!1;if(o&&os(l))continue;o=!1,n=l|1&n}}return os(n)||o}function os(e){return 0==(1&e)}function as(e,t,i,n){if(null===t)return-1;let s=0;if(n||!i){let i=!1;for(;s<t.length;){const n=t[s];if(n===e)return s;if(3===n||6===n)i=!0;else{if(1===n||2===n){let e=t[++s];for(;"string"==typeof e;)e=t[++s];continue}if(4===n)break;if(0===n){s+=4;continue}}s+=i?1:2}return-1}return function(e,t){let i=e.indexOf(4);if(i>-1)for(i++;i<e.length;){const n=e[i];if("number"==typeof n)return-1;if(n===t)return i;i++}return-1}(t,e)}function ls(e,t,i=!1){for(let n=0;n<t.length;n++)if(rs(e,t[n],i))return!0;return!1}function cs(e,t){e:for(let i=0;i<t.length;i++){const n=t[i];if(e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])continue e;return!0}}return!1}function hs(e,t){return e?":not("+t.trim()+")":t}function us(e){let t=e[0],i=1,n=2,s="",r=!1;for(;i<e.length;){let o=e[i];if("string"==typeof o)if(2&n){const t=e[++i];s+="["+o+(t.length>0?'="'+t+'"':"")+"]"}else 8&n?s+="."+o:4&n&&(s+=" "+o);else""===s||os(o)||(t+=hs(r,s),s=""),n=o,r=r||!os(n);i++}return""!==s&&(t+=hs(r,s)),t}const ds={};function ps(e){const t=e[3];return _t(t)?t[3]:t}function fs(e){return ms(e[13])}function gs(e){return ms(e[4])}function ms(e){for(;null!==e&&!_t(e);)e=e[4];return e}function vs(e){bs(Yt(),Zt(),yi()+e,ii())}function bs(e,t,i,n){if(!n)if(3==(3&t[2])){const n=e.preOrderCheckHooks;null!==n&&Si(t,n,i)}else{const n=e.preOrderHooks;null!==n&&ki(t,n,0,i)}wi(i)}function ys(e,t){return e<<17|t<<2}function ws(e){return e>>17&32767}function Cs(e){return 2|e}function xs(e){return(131068&e)>>2}function Ss(e,t){return-131069&e|t<<2}function ks(e){return 1|e}function _s(e,t){const i=e.contentQueries;if(null!==i)for(let n=0;n<i.length;n+=2){const s=i[n],r=i[n+1];if(-1!==r){const i=e.data[r];ui(s),i.contentQueries(2,t[r],r)}}}function Es(e,t,i){return Rt(t)?t.createElement(e,i):null===i?t.createElement(e):t.createElementNS(i,e)}function Is(e,t,i,n,s,r,o,a,l,c){const h=t.blueprint.slice();return h[0]=s,h[2]=140|n,qt(h),h[3]=h[15]=e,h[8]=i,h[10]=o||e&&e[10],h[11]=a||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=c||e&&e[9]||null,h[6]=r,h[16]=2==t.type?e[16]:h,h}function Ts(e,t,i,n,s,r){const o=i+20,a=e.data[o]||function(e,t,i,n,s,r){const o=Jt(),a=ei(),l=a?o:o&&o.parent,c=e.data[i]=Vs(0,l&&l!==t?l:null,n,i,s,r);return null===e.firstChild&&(e.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(e,t,o,n,s,r);return Xt(a,!0),a}function Fs(e,t,i){pi(t,t[6]);try{const n=e.viewQuery;null!==n&&ar(1,n,i);const s=e.template;null!==s&&Os(e,t,s,1,i),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_s(e,t),e.staticViewQueries&&ar(2,e.viewQuery,i);const r=e.components;null!==r&&function(e,t){for(let i=0;i<t.length;i++)ir(e,t[i])}(t,r)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),n}finally{t[2]&=-5,bi()}}function Ds(e,t,i,n){const s=t[2];if(256==(256&s))return;pi(t,t[6]);const r=ii();try{qt(t),Kt.lFrame.bindingIndex=e.bindingStartIndex,null!==i&&Os(e,t,i,2,n);const o=3==(3&s);if(!r)if(o){const i=e.preOrderCheckHooks;null!==i&&Si(t,i,null)}else{const i=e.preOrderHooks;null!==i&&ki(t,i,0,null),_i(t,0)}if(function(e){for(let t=fs(e);null!==t;t=gs(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const i=e[t],n=i[3];0==(1024&i[2])&&Gt(n,1),i[2]|=1024}}}(t),function(e){for(let t=fs(e);null!==t;t=gs(t))for(let e=10;e<t.length;e++){const i=t[e],n=i[1];Ut(i)&&Ds(n,i,n.template,i[8])}}(t),null!==e.contentQueries&&_s(e,t),!r)if(o){const i=e.contentCheckHooks;null!==i&&Si(t,i)}else{const i=e.contentHooks;null!==i&&ki(t,i,1),_i(t,1)}!function(e,t){try{const i=e.expandoInstructions;if(null!==i){let n=e.expandoStartIndex,s=-1,r=-1;for(let e=0;e<i.length;e++){const o=i[e];"number"==typeof o?o<=0?(r=0-o,wi(r),n+=9+i[++e],s=n):n+=o:(null!==o&&(li(n,s),o(2,t[s])),s++)}}}finally{wi(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let i=0;i<t.length;i++)tr(e,t[i])}(t,a);const l=e.viewQuery;if(null!==l&&ar(2,l,n),!r)if(o){const i=e.viewCheckHooks;null!==i&&Si(t,i)}else{const i=e.viewHooks;null!==i&&ki(t,i,2),_i(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Gt(t[3],-1))}finally{bi()}}function As(e,t,i,n){const s=t[10],r=!ii(),o=jt(t);try{r&&!o&&s.begin&&s.begin(),o&&Fs(e,t,n),Ds(e,t,i,n)}finally{r&&!o&&s.end&&s.end()}}function Os(e,t,i,n,s){const r=yi();try{wi(-1),2&n&&t.length>20&&bs(e,t,0,ii()),i(n,s)}finally{wi(r)}}function Rs(e,t,i){if(Et(t)){const n=t.directiveEnd;for(let s=t.directiveStart;s<n;s++){const t=e.data[s];t.contentQueries&&t.contentQueries(1,i[s],s)}}}function Ps(e,t,i){Wt()&&(function(e,t,i,n){const s=i.directiveStart,r=i.directiveEnd;e.firstCreatePass||Gi(i,t),Jn(n,t);const o=i.initialInputs;for(let a=s;a<r;a++){const n=e.data[a],r=Ft(n);r&&Ys(t,i,n);const l=tn(t,e,a,i);Jn(l,t),null!==o&&Js(0,a-s,l,n,0,o),r&&(Bt(i.index,t)[8]=l)}}(e,t,i,Lt(i,t)),128==(128&i.flags)&&function(e,t,i){const n=i.directiveStart,s=i.directiveEnd,r=e.expandoInstructions,o=e.firstCreatePass,a=i.index-20,l=Kt.lFrame.currentDirectiveIndex;try{wi(a);for(let i=n;i<s;i++){const n=e.data[i],s=t[i];ci(i),null!==n.hostBindings||0!==n.hostVars||null!==n.hostAttrs?$s(n,s):o&&r.push(null)}}finally{wi(-1),ci(l)}}(e,t,i))}function Ms(e,t,i=Lt){const n=t.localNames;if(null!==n){let s=t.index+1;for(let r=0;r<n.length;r+=2){const o=n[r+1],a=-1===o?i(t,e):e[o];e[s++]=a}}}function Ns(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ls(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ls(e,t,i,n,s,r,o,a,l,c){const h=20+n,u=h+s,d=function(e,t){const i=[];for(let n=0;n<t;n++)i.push(n<e?null:ds);return i}(h,u);return d[1]={type:e,id:t,blueprint:d,template:i,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:u,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function Vs(e,t,i,n,s,r){return{type:i,index:n,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Hs(e,t,i){for(let n in e)if(e.hasOwnProperty(n)){const s=e[n];(i=null===i?{}:i).hasOwnProperty(n)?i[n].push(t,s):i[n]=[t,s]}return i}function Bs(e,t,i,n,s,r,o,a){const l=Lt(t,i);let c,h=t.inputs;var u;!a&&null!=h&&(c=h[n])?(dr(e,i,c,n,s),It(t)&&function(e,t){const i=Bt(t,e);16&i[2]||(i[2]|=64)}(i,t.index)):3===t.type&&(n="class"===(u=n)?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u,s=null!=o?o(s,t.tagName||"",n):s,Rt(r)?r.setProperty(l,n,s):Ai(n)||(l.setProperty?l.setProperty(n,s):l[n]=s))}function zs(e,t,i,n){let s=!1;if(Wt()){const r=function(e,t,i){const n=e.directiveRegistry;let s=null;if(n)for(let r=0;r<n.length;r++){const o=n[r];ls(i,o.selectors,!1)&&(s||(s=[]),Yi(Gi(i,t),e,o.type),Ft(o)?(2&i.flags&&Xn(i),Gs(e,i),s.unshift(o)):s.push(o))}return s}(e,t,i),o=null===n?null:{"":-1};if(null!==r){let n=0;s=!0,Ws(i,e.data.length,r.length);for(let e=0;e<r.length;e++){const t=r[e];t.providersResolver&&t.providersResolver(t)}qs(e,i,r.length);let a=!1,l=!1;for(let s=0;s<r.length;s++){const c=r[s];i.mergedAttrs=Oi(i.mergedAttrs,c.hostAttrs),Zs(e,t,c),Ks(e.data.length-1,c,o),null!==c.contentQueries&&(i.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(i.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(i.index-20),a=!0),l||!c.onChanges&&!c.doCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(i.index-20),l=!0),js(e,c),n+=c.hostVars}!function(e,t){const i=t.directiveEnd,n=e.data,s=t.attrs,r=[];let o=null,a=null;for(let l=t.directiveStart;l<i;l++){const e=n[l],i=e.inputs,c=null===s||ns(t)?null:Xs(i,s);r.push(c),o=Hs(i,l,o),a=Hs(e.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(t.flags|=16),o.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=r,t.inputs=o,t.outputs=a}(e,i),Us(e,t,n)}o&&function(e,t,i){if(t){const n=e.localNames=[];for(let e=0;e<t.length;e+=2){const s=i[t[e+1]];if(null==s)throw new Error(`Export of name '${t[e+1]}' not found!`);n.push(t[e],s)}}}(i,n,o)}return i.mergedAttrs=Oi(i.mergedAttrs,i.attrs),s}function js(e,t){const i=e.expandoInstructions;i.push(t.hostBindings),0!==t.hostVars&&i.push(t.hostVars)}function Us(e,t,i){for(let n=0;n<i;n++)t.push(ds),e.blueprint.push(ds),e.data.push(null)}function $s(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function qs(e,t,i){const n=20-t.index,s=e.data.length-(65535&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(n,s,i)}function Gs(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ks(e,t,i){if(i){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)i[t.exportAs[n]]=e;Ft(t)&&(i[""]=e)}}function Ws(e,t,i){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+i,e.providerIndexes=t}function Zs(e,t,i){e.data.push(i);const n=i.factory||(i.factory=xt(i.type)),s=new Ti(n,Ft(i),null);e.blueprint.push(s),t.push(s)}function Ys(e,t,i){const n=Lt(t,e),s=Ns(i),r=e[10],o=nr(e,Is(e,s,null,i.onPush?64:16,n,t,r,r.createRenderer(n,i)));e[t.index]=o}function Qs(e,t,i,n,s,r){const o=Lt(e,t),a=t[11];if(null==n)Rt(a)?a.removeAttribute(o,i,r):o.removeAttribute(i);else{const t=null==s?Vi(n):s(n,e.tagName||"",i);Rt(a)?a.setAttribute(o,i,t,r):r?o.setAttributeNS(r,i,t):o.setAttribute(i,t)}}function Js(e,t,i,n,s,r){const o=r[t];if(null!==o){const e=n.setInput;for(let t=0;t<o.length;){const s=o[t++],r=o[t++],a=o[t++];null!==e?n.setInput(i,a,s,r):i[r]=a}}}function Xs(e,t){let i=null,n=0;for(;n<t.length;){const s=t[n];if(0!==s)if(5!==s){if("number"==typeof s)break;e.hasOwnProperty(s)&&(null===i&&(i=[]),i.push(s,e[s],t[n+1])),n+=2}else n+=2;else n+=4}return i}function er(e,t,i,n){return new Array(e,!0,!1,t,null,0,n,i,null,null)}function tr(e,t){const i=Bt(t,e);if(Ut(i)){const e=i[1];80&i[2]?Ds(e,i,e.template,i[8]):i[5]>0&&function e(t){for(let n=fs(t);null!==n;n=gs(n))for(let t=10;t<n.length;t++){const i=n[t];if(1024&i[2]){const e=i[1];Ds(e,i,e.template,i[8])}else i[5]>0&&e(i)}const i=t[1].components;if(null!==i)for(let n=0;n<i.length;n++){const s=Bt(i[n],t);Ut(s)&&s[5]>0&&e(s)}}(i)}}function ir(e,t){const i=Bt(t,e),n=i[1];!function(e,t){for(let i=t.length;i<e.blueprint.length;i++)t.push(e.blueprint[i])}(n,i),Fs(n,i,i[8])}function nr(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function sr(e){for(;e;){e[2]|=64;const t=ps(e);if(Dt(e)&&!t)return e;e=t}return null}function rr(e,t,i){const n=t[10];n.begin&&n.begin();try{Ds(e,t,e.template,i)}catch(s){throw ur(t,s),s}finally{n.end&&n.end()}}function or(e){!function(e){for(let t=0;t<e.components.length;t++){const i=e.components[t],n=zt(i),s=n[1];As(s,n,s.template,i)}}(e[8])}function ar(e,t,i){ui(0),t(e,i)}const lr=(()=>Promise.resolve(null))();function cr(e){return e[7]||(e[7]=[])}function hr(e){return e.cleanup||(e.cleanup=[])}function ur(e,t){const i=e[9],n=i?i.get(un,null):null;n&&n.handleError(t)}function dr(e,t,i,n,s){for(let r=0;r<i.length;){const o=i[r++],a=i[r++],l=t[o],c=e.data[o];null!==c.setInput?c.setInput(l,s,n,a):l[a]=s}}function pr(e,t,i){const n=Nt(t,e),s=e[11];Rt(s)?s.setValue(n,i):n.textContent=i}function fr(e,t){const i=t[3];return-1===e.index?_t(i)?i:null:i}function gr(e,t){const i=fr(e,t);return i?Ir(t[11],i[7]):null}function mr(e,t,i,n,s){if(null!=n){let r,o=!1;_t(n)?r=n:kt(n)&&(o=!0,n=n[0]);const a=Mt(n);0===e&&null!==i?null==s?_r(t,i,a):kr(t,i,a,s||null):1===e&&null!==i?kr(t,i,a,s||null):2===e?function(e,t,i){const n=Ir(e,t);n&&function(e,t,i,n){Rt(e)?e.removeChild(t,i,n):t.removeChild(i)}(e,n,t,i)}(t,a,o):3===e&&t.destroyNode(a),null!=r&&function(e,t,i,n,s){const r=i[7];r!==Mt(i)&&mr(t,e,n,r,s);for(let o=10;o<i.length;o++){const s=i[o];Or(s[1],s,e,t,n,r)}}(t,e,r,i,s)}}function vr(e,t,i,n){const s=gr(e.node,t);s&&Or(e,t,t[11],i?1:2,s,n)}function br(e,t){const i=e[9],n=i.indexOf(t);1024&t[2]&&Gt(t[3],-1),i.splice(n,1)}function yr(e,t){if(e.length<=10)return;const i=10+t,n=e[i];if(n){const s=n[17];null!==s&&s!==e&&br(s,n),t>0&&(e[i-1][4]=n[4]);const r=nt(e,10+t);vr(n[1],n,!1,null);const o=r[19];null!==o&&o.detachView(r[1]),n[3]=null,n[4]=null,n[2]&=-129}return n}function wr(e,t){if(!(256&t[2])){const i=t[11];Rt(i)&&i.destroyNode&&Or(e,t,i,3,null,null),function(e){let t=e[13];if(!t)return xr(e[1],e);for(;t;){let i=null;if(kt(t))i=t[13];else{const e=t[10];e&&(i=e)}if(!i){for(;t&&!t[4]&&t!==e;)kt(t)&&xr(t[1],t),t=Cr(t,e);null===t&&(t=e),kt(t)&&xr(t[1],t),i=t&&t[4]}t=i}}(t)}}function Cr(e,t){let i;return kt(e)&&(i=e[6])&&2===i.type?fr(i,e):e[3]===t?null:e[3]}function xr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let i;if(null!=e&&null!=(i=e.destroyHooks))for(let n=0;n<i.length;n+=2){const e=t[i[n]];if(!(e instanceof Ti)){const t=i[n+1];if(Array.isArray(t))for(let i=0;i<t.length;i+=2)t[i+1].call(e[t[i]]);else t.call(e)}}}(e,t),function(e,t){const i=e.cleanup;if(null!==i){const e=t[7];for(let n=0;n<i.length-1;n+=2)if("string"==typeof i[n]){const s=i[n+1],r="function"==typeof s?s(t):Mt(t[s]),o=e[i[n+2]],a=i[n+3];"boolean"==typeof a?r.removeEventListener(i[n],o,a):a>=0?e[a]():e[-a].unsubscribe(),n+=2}else i[n].call(e[i[n+1]]);t[7]=null}}(e,t);const i=t[6];i&&3===i.type&&Rt(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&_t(t[3])){n!==t[3]&&br(n,t);const i=t[19];null!==i&&i.detachView(e)}}}function Sr(e,t,i){let n=t.parent;for(;null!=n&&(4===n.type||5===n.type);)n=(t=n).parent;if(null==n){const e=i[6];return 2===e.type?gr(e,i):i[0]}if(t&&5===t.type&&4&t.flags)return Lt(t,i).parentNode;if(2&n.flags){const t=e.data,i=t[t[n.index].directiveStart].encapsulation;if(i!==ct.ShadowDom&&i!==ct.Native)return null}return Lt(n,i)}function kr(e,t,i,n){Rt(e)?e.insertBefore(t,i,n):t.insertBefore(i,n,!0)}function _r(e,t,i){Rt(e)?e.appendChild(t,i):t.appendChild(i)}function Er(e,t,i,n){null!==n?kr(e,t,i,n):_r(e,t,i)}function Ir(e,t){return Rt(e)?e.parentNode(t):t.parentNode}function Tr(e,t){if(2===e.type){const i=fr(e,t);return null===i?null:Dr(i.indexOf(t,10)-10,i)}return 4===e.type||5===e.type?Lt(e,t):null}function Fr(e,t,i,n){const s=Sr(e,n,t);if(null!=s){const e=t[11],r=Tr(n.parent||t[6],t);if(Array.isArray(i))for(let t=0;t<i.length;t++)Er(e,s,i[t],r);else Er(e,s,i,r)}}function Dr(e,t){const i=10+e+1;if(i<t.length){const e=t[i],n=e[1].firstChild;if(null!==n)return function e(t,i){if(null!==i){const n=i.type;if(3===n)return Lt(i,t);if(0===n)return Dr(-1,t[i.index]);if(4===n||5===n){const n=i.child;if(null!==n)return e(t,n);{const e=t[i.index];return _t(e)?Dr(-1,e):Mt(e)}}{const n=t[16],s=n[6],r=ps(n),o=s.projection[i.projection];return null!=o?e(r,o):e(t,i.next)}}return null}(e,n)}return t[7]}function Ar(e,t,i,n,s,r,o){for(;null!=i;){const a=n[i.index],l=i.type;o&&0===t&&(a&&Jn(Mt(a),n),i.flags|=4),64!=(64&i.flags)&&(4===l||5===l?(Ar(e,t,i.child,n,s,r,!1),mr(t,e,s,a,r)):1===l?Rr(e,t,n,i,s,r):mr(t,e,s,a,r)),i=o?i.projectionNext:i.next}}function Or(e,t,i,n,s,r){Ar(i,n,e.node.child,t,s,r,!1)}function Rr(e,t,i,n,s,r){const o=i[16],a=o[6].projection[n.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)mr(t,e,s,a[l],r);else Ar(e,t,a,o[3],s,r,!0)}function Pr(e,t,i){Rt(e)?e.setAttribute(t,"style",i):t.style.cssText=i}function Mr(e,t,i){Rt(e)?""===i?e.removeAttribute(t,"class"):e.setAttribute(t,"class",i):t.className=i}class Nr{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,i,n,s,r=!1){for(;null!==n;){const o=i[n.index];if(null!==o&&s.push(Mt(o)),_t(o))for(let t=10;t<o.length;t++){const i=o[t],n=i[1].firstChild;null!==n&&e(i[1],i,n,s)}const a=n.type;if(4===a||5===a)e(t,i,n.child,s);else if(1===a){const t=i[16],r=t[6].projection[n.projection];if(Array.isArray(r))s.push(...r);else{const i=ps(t);e(i[1],i,r,s,!0)}}n=r?n.projectionNext:n.next}return s}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}wr(this._lView[1],this._lView)}onDestroy(e){var t,i,n;t=this._lView[1],n=e,cr(i=this._lView).push(n),t.firstCreatePass&&hr(t).push(i[7].length-1,null)}markForCheck(){sr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){rr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,i){ni(!0);try{rr(e,t,i)}finally{ni(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,Or(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Lr extends Nr{constructor(e){super(e),this._view=e}detectChanges(){or(this._view)}checkNoChanges(){!function(e){ni(!0);try{or(e)}finally{ni(!1)}}(this._view)}get context(){return null}}let Vr,Hr,Br;function zr(e,t,i){return Vr||(Vr=class extends e{}),new Vr(Lt(t,i))}function jr(e,t,i,n){return Hr||(Hr=class extends e{constructor(e,t,i){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=Is(this._declarationView,t,e,16,null,t.node);i[17]=this._declarationView[this._declarationTContainer.index];const n=this._declarationView[19];return null!==n&&(i[19]=n.createEmbeddedView(t)),Fs(t,i,e),new Nr(i)}}),0===i.type?new Hr(n,i,zr(t,i,n)):null}function Ur(e,t,i,n){let s;Br||(Br=class extends e{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostView=i}get element(){return zr(t,this._hostTNode,this._hostView)}get injector(){return new rn(this._hostTNode,this._hostView)}get parentInjector(){const e=Zi(this._hostTNode,this._hostView),t=Li(e,this._hostView),i=function(e,t,i){if(i.parent&&-1!==i.parent.injectorIndex){const e=i.parent.injectorIndex;let t=i.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let n=Ni(e),s=t,r=t[6];for(;n>1;)s=s[15],r=s[6],n--;return r}(e,this._hostView,this._hostTNode);return Pi(e)&&null!=i?new rn(i,t):new rn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const n=e.createEmbeddedView(t||{});return this.insert(n,i),n}createComponent(e,t,i,n,s){const r=i||this.parentInjector;if(!s&&null==e.ngModule&&r){const e=r.get(Je,null);e&&(s=e)}const o=e.create(r,n,void 0,s);return this.insert(o.hostView,t),o}insert(e,t){const i=e._lView,n=i[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),_t(i[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=i[3],n=new Br(t,t[6],t[3]);n.detach(n.indexOf(e))}}const s=this._adjustIndex(t);return function(e,t,i,n){const s=10+n,r=i.length;n>0&&(i[s-1][4]=t),n<r-10?(t[4]=i[s],it(i,10+n,t)):(i.push(t),t[4]=null),t[3]=i;const o=t[17];null!==o&&i!==o&&function(e,t){const i=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===i?e[9]=[t]:i.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(n,i,this._lContainer,s),vr(n,i,!0,Dr(s,this._lContainer)),e.attachToViewContainerRef(this),it(this._lContainer[8],s,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1);!function(e,t){const i=yr(e,t);i&&wr(i[1],i)}(this._lContainer,t),nt(this._lContainer[8],t)}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),i=yr(this._lContainer,t);return i&&null!=nt(this._lContainer[8],t)?new Nr(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const r=n[i.index];if(_t(r))s=r;else{let e;if(4===i.type)e=Mt(r);else if(e=n[11].createComment(""),Dt(n)){const t=n[11],s=Lt(i,n);kr(t,Ir(t,s),e,function(e,t){return Rt(e)?e.nextSibling(t):t.nextSibling}(t,s))}else Fr(n[1],n,e,i);n[i.index]=s=er(r,n,e,i),nr(n,s)}return new Br(s,i,n)}let $r=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>qr(),e})();const qr=function(e=!1){return function(e,t,i){if(!i&&It(e)){const i=Bt(e.index,t);return new Nr(i,i)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Nr(t[16],t):null}(Jt(),Zt(),e)},Gr=new Ve("Set Injector scope."),Kr={},Wr={},Zr=[];let Yr=void 0;function Qr(){return void 0===Yr&&(Yr=new Qe),Yr}function Jr(e,t=null,i=null,n){return new Xr(e,i,t||Qr(),n)}class Xr{constructor(e,t,i,n=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&tt(t,i=>this.processProvider(i,e,t)),tt([e],e=>this.processInjectorType(e,[],s)),this.records.set(He,io(void 0,this));const r=this.records.get(Gr);this.scope=null!=r?r.value:null,this.source=n||("object"==typeof e?null:we(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Be,i=ae.Default){this.assertNotDestroyed();const n=qe(this);try{if(!(i&ae.SkipSelf)){let t=this.records.get(e);if(void 0===t){const i=("function"==typeof(s=e)||"object"==typeof s&&s instanceof Ve)&&de(e);t=i&&this.injectableDefInScope(i)?io(eo(e),Kr):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(i&ae.Self?Qr():this.parent).get(e,t=i&ae.Optional&&t===Be?null:t)}catch(r){if("NullInjectorError"===r.name){if((r.ngTempTokenPath=r.ngTempTokenPath||[]).unshift(we(e)),n)throw r;return function(e,t,i,n){const s=e.ngTempTokenPath;throw t.__source&&s.unshift(t.__source),e.message=function(e,t,i,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let s=we(t);if(Array.isArray(t))s=t.map(we).join(" -> ");else if("object"==typeof t){let e=[];for(let i in t)if(t.hasOwnProperty(i)){let n=t[i];e.push(i+":"+("string"==typeof n?JSON.stringify(n):we(n)))}s=`{${e.join(", ")}}`}return`${i}${n?"("+n+")":""}[${s}]: ${e.replace(ze,"\n  ")}`}("\n"+e.message,s,i,n),e.ngTokenPath=s,e.ngTempTokenPath=null,e}(r,e,"R3InjectorError",this.source)}throw r}finally{qe(n)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,i)=>e.push(we(i))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,i){if(!(e=ke(e)))return!1;let n=fe(e);const s=null==n&&e.ngModule||void 0,r=void 0===s?e:s,o=-1!==i.indexOf(r);if(void 0!==s&&(n=fe(s)),null==n)return!1;if(null!=n.imports&&!o){let e;i.push(r);try{tt(n.imports,n=>{this.processInjectorType(n,t,i)&&(void 0===e&&(e=[]),e.push(n))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:i,providers:n}=e[t];tt(n,e=>this.processProvider(e,i,n||Zr))}}this.injectorDefTypes.add(r),this.records.set(r,io(n.factory,Kr));const a=n.providers;if(null!=a&&!o){const t=e;tt(a,e=>this.processProvider(e,t,a))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let n=so(e=ke(e))?e:ke(e&&e.provide);const s=function(e,t,i){return no(e)?io(void 0,e.useValue):io(to(e,t,i),Kr)}(e,t,i);if(so(e)||!0!==e.multi){const e=this.records.get(n);e&&void 0!==e.multi&&es()}else{let t=this.records.get(n);t?void 0===t.multi&&es():(t=io(void 0,Kr,!0),t.factory=()=>Ye(t.multi),this.records.set(n,t)),n=e,t.multi.push(e)}this.records.set(n,s)}hydrate(e,t){var i;return t.value===Wr?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(we(e)):t.value===Kr&&(t.value=Wr,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(i=t.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function eo(e){const t=de(e),i=null!==t?t.factory:xt(e);if(null!==i)return i;const n=fe(e);if(null!==n)return n.factory;if(e instanceof Ve)throw new Error(`Token ${we(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const i=st(t,"?");throw new Error(`Can't resolve all parameters for ${we(e)}: (${i.join(", ")}).`)}const i=function(e){const t=e&&(e[ge]||e[be]||e[ve]&&e[ve]());if(t){const i=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${i}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "${i}" class.`),t}return null}(e);return null!==i?()=>i.factory(e):()=>new e}(e);throw new Error("unreachable")}function to(e,t,i){let n=void 0;if(so(e)){const t=ke(e);return xt(t)||eo(t)}if(no(e))n=()=>ke(e.useValue);else if((s=e)&&s.useFactory)n=()=>e.useFactory(...Ye(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))n=()=>We(ke(e.useExisting));else{const s=ke(e&&(e.useClass||e.provide));if(s||function(e,t,i){let n="";throw e&&t&&(n=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==i?"?"+i+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${we(e)}'`+n)}(t,i,e),!function(e){return!!e.deps}(e))return xt(s)||eo(s);n=()=>new s(...Ye(e.deps))}var s;return n}function io(e,t,i=!1){return{factory:e,value:t,multi:i?[]:void 0}}function no(e){return null!==e&&"object"==typeof e&&je in e}function so(e){return"function"==typeof e}const ro=function(e,t,i){return function(e,t=null,i=null,n){const s=Jr(e,t,i,n);return s._resolveInjectorDefTypes(),s}({name:i},t,e,i)};let oo=(()=>{class e{static create(e,t){return Array.isArray(e)?ro(e,t,""):ro(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Be,e.NULL=new Qe,e.\u0275prov=he({token:e,providedIn:"any",factory:()=>We(He)}),e.__NG_ELEMENT_ID__=-1,e})();const ao=new Ve("AnalyzeForEntryComponents");let lo=new Map;const co=new Set;function ho(e){return"string"==typeof e?e:e.text()}function uo(e,t,i){let n=i?e.styles:null,s=i?e.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const e=t[o];"number"==typeof e?r=e:1==r?s=Ce(s,e):2==r&&(n=Ce(n,e+": "+t[++o]+";"))}i?e.styles=n:e.stylesWithoutHost=n,i?e.classes=s:e.classesWithoutHost=s}let po=null;function fo(){if(!po){const e=De.Symbol;if(e&&e.iterator)po=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(po=i)}}}return po}function go(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}class mo{constructor(e){this.wrapped=e}static wrap(e){return new mo(e)}static unwrap(e){return mo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof mo}}function vo(e){return!!bo(e)&&(Array.isArray(e)||!(e instanceof Map)&&fo()in e)}function bo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function yo(e,t,i){return e[t]=i}function wo(e,t){return e[t]}function Co(e,t,i){return!Object.is(e[t],i)&&(e[t]=i,!0)}function xo(e,t,i,n){const s=Co(e,t,i);return Co(e,t+1,n)||s}function So(e,t,i,n,s){const r=xo(e,t,i,n);return Co(e,t+2,s)||r}function ko(e,t,i,n,s,r){const o=xo(e,t,i,n);return xo(e,t+2,s,r)||o}function _o(e,t,i,n){const s=Zt();return Co(s,oi(),t)&&(Yt(),Qs(Ci(),s,e,t,i,n)),_o}function Eo(e,t,i,n){return Co(e,oi(),i)?t+Vi(i)+n:ds}function Io(e,t,i,n,s,r,o,a){const l=Zt(),c=Yt(),h=e+20,u=c.firstCreatePass?function(e,t,i,n,s,r,o,a,l){const c=t.consts,h=Ts(t,i[6],e,0,o||null,$t(c,a));zs(t,i,h,$t(c,l)),xi(t,h);const u=h.tViews=Ls(2,-1,n,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),d=Vs(0,null,2,-1,null,null);return d.injectorIndex=h.injectorIndex,u.node=d,null!==t.queries&&(t.queries.template(t,h),u.queries=t.queries.embeddedTView(h)),h}(e,c,l,t,i,n,s,r,o):c.data[h];Xt(u,!1);const d=l[11].createComment("");Fr(c,l,d,u),Jn(d,l),nr(l,l[h]=er(d,l,d,u)),Tt(u)&&Ps(c,l,u),null!=o&&Ms(l,u,a)}function To(e){return Ht(Kt.lFrame.contextLView,e)}function Fo(e,t=ae.Default){const i=Zt();return null==i?We(e,t):Qi(Jt(),i,ke(e),t)}function Do(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const i=e.attrs;if(i){const e=i.length;let n=0;for(;n<e;){const s=i[n];if(Di(s))break;if(0===s)n+=2;else if("number"==typeof s)for(n++;n<e&&"string"==typeof i[n];)n++;else{if(s===t)return i[n+1];n+=2}}}return null}(Jt(),e)}function Ao(){throw new Error("invalid")}function Oo(e,t,i){const n=Zt();return Co(n,oi(),t)&&Bs(Yt(),Ci(),n,e,t,n[11],i,!1),Oo}function Ro(e,t,i,n,s){const r=s?"class":"style";dr(e,i,t.inputs[r],r,n)}function Po(e,t,i,n){const s=Zt(),r=Yt(),o=20+e,a=s[11],l=s[o]=Es(t,a,Kt.lFrame.currentNamespace),c=r.firstCreatePass?function(e,t,i,n,s,r,o){const a=t.consts,l=$t(a,r),c=Ts(t,i[6],e,3,s,l);return zs(t,i,c,$t(a,o)),null!==c.attrs&&uo(c,c.attrs,!1),null!==c.mergedAttrs&&uo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,r,s,0,t,i,n):r.data[o];Xt(c,!0);const h=c.mergedAttrs;null!==h&&Fi(a,l,h);const u=c.classes;null!==u&&Mr(a,l,u);const d=c.styles;null!==d&&Pr(a,l,d),Fr(r,s,l,c),0===Kt.lFrame.elementDepthCount&&Jn(l,s),Kt.lFrame.elementDepthCount++,Tt(c)&&(Ps(r,s,c),Rs(r,c,s)),null!==n&&Ms(s,c)}function Mo(){let e=Jt();ei()?ti():(e=e.parent,Xt(e,!1));const t=e;Kt.lFrame.elementDepthCount--;const i=Yt();i.firstCreatePass&&(xi(i,e),Et(e)&&i.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Ro(i,t,Zt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Ro(i,t,Zt(),t.stylesWithoutHost,!1)}function No(e,t,i,n){Po(e,t,i,n),Mo()}function Lo(e,t,i){const n=Zt(),s=Yt(),r=e+20,o=s.firstCreatePass?function(e,t,i,n,s){const r=t.consts,o=$t(r,n),a=Ts(t,i[6],e,4,"ng-container",o);return null!==o&&uo(a,o,!0),zs(t,i,a,$t(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,s,n,t,i):s.data[r];Xt(o,!0);const a=n[r]=n[11].createComment("");Fr(s,n,a,o),Jn(a,n),Tt(o)&&(Ps(s,n,o),Rs(s,o,n)),null!=i&&Ms(n,o)}function Vo(){let e=Jt();const t=Yt();ei()?ti():(e=e.parent,Xt(e,!1)),t.firstCreatePass&&(xi(t,e),Et(e)&&t.queries.elementEnd(e))}function Ho(e,t,i){Lo(e,t,i),Vo()}function Bo(){return Zt()}function zo(e){return!!e&&"function"==typeof e.then}function jo(e){return!!e&&"function"==typeof e.subscribe}function Uo(e,t,i=!1,n){const s=Zt(),r=Yt(),o=Jt();return function(e,t,i,n,s,r,o=!1,a){const l=Tt(n),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),h=cr(t);let u=!0;if(3===n.type){const d=Lt(n,t),p=a?a(d):ht,f=p.target||d,g=h.length,m=a?e=>a(Mt(e[n.index])).target:n.index;if(Rt(i)){let o=null;if(!a&&l&&(o=function(e,t,i,n){const s=e.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const e=s[r];if(e===i&&s[r+1]===n){const e=t[7],i=s[r+2];return e.length>i?e[i]:null}"string"==typeof e&&(r+=2)}return null}(e,t,s,n.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=r,o.__ngLastListenerFn__=r,u=!1;else{r=qo(n,t,r,!1);const e=i.listen(p.name||f,s,r);h.push(r,e),c&&c.push(s,m,g,g+1)}}else r=qo(n,t,r,!0),f.addEventListener(s,r,o),h.push(r),c&&c.push(s,m,g,o)}const d=n.outputs;let p;if(u&&null!==d&&(p=d[s])){const e=p.length;if(e)for(let i=0;i<e;i+=2){const e=t[p[i]][p[i+1]].subscribe(r),o=h.length;h.push(r,e),c&&c.push(s,n.index,o,-(o+1))}}}(r,s,s[11],o,e,t,i,n),Uo}function $o(e,t,i){try{return!1!==t(i)}catch(n){return ur(e,n),!1}}function qo(e,t,i,n){return function s(r){if(r===Function)return i;const o=2&e.flags?Bt(e.index,t):t;0==(32&t[2])&&sr(o);let a=$o(t,i,r),l=s.__ngNextListenerFn__;for(;l;)a=$o(t,l,r)&&a,l=l.__ngNextListenerFn__;return n&&!1===a&&(r.preventDefault(),r.returnValue=!1),a}}function Go(e=1){return function(e){return(Kt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Kt.lFrame.contextLView))[8]}(e)}function Ko(e,t){let i=null;const n=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let s=0;s<t.length;s++){const r=t[s];if("*"!==r){if(null===n?ls(e,r,!0):cs(n,r))return s}else i=s}return i}function Wo(e){const t=Zt()[16][6];if(!t.projection){const i=t.projection=st(e?e.length:1,null),n=i.slice();let s=t.child;for(;null!==s;){const t=e?Ko(s,e):0;null!==t&&(n[t]?n[t].projectionNext=s:i[t]=s,n[t]=s),s=s.next}}}function Zo(e,t=0,i){const n=Zt(),s=Yt(),r=Ts(s,n[6],e,1,null,i||null);null===r.projection&&(r.projection=t),ti(),function(e,t,i){Rr(t[11],0,t,i,Sr(e,i,t),Tr(i.parent||t[6],t))}(s,n,r)}function Yo(e,t,i){return Qo(e,"",t,"",i),Yo}function Qo(e,t,i,n,s){const r=Zt(),o=Eo(r,t,i,n);return o!==ds&&Bs(Yt(),Ci(),r,e,o,r[11],s,!1),Qo}const Jo=[];function Xo(e,t,i,n,s){const r=e[i+1],o=null===t;let a=n?ws(r):xs(r),l=!1;for(;0!==a&&(!1===l||o);){const i=e[a+1];ea(e[a],t)&&(l=!0,e[a+1]=n?ks(i):Cs(i)),a=n?ws(i):xs(i)}l&&(e[i+1]=n?Cs(r):ks(r))}function ea(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&at(e,t)>=0}const ta={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ia(e){return e.substring(ta.key,ta.keyEnd)}function na(e,t){const i=ta.textEnd;return i===t?-1:(t=ta.keyEnd=function(e,t,i){for(;t<i&&e.charCodeAt(t)>32;)t++;return t}(e,ta.key=t,i),sa(e,t,i))}function sa(e,t,i){for(;t<i&&e.charCodeAt(t)<=32;)t++;return t}function ra(e,t,i){return ca(e,t,i,!1),ra}function oa(e,t){return ca(e,t,null,!0),oa}function aa(e){ha(rt,la,e,!0)}function la(e,t){for(let i=function(e){return function(e){ta.key=0,ta.keyEnd=0,ta.value=0,ta.valueEnd=0,ta.textEnd=e.length}(e),na(e,sa(e,0,ta.textEnd))}(t);i>=0;i=na(t,i))rt(e,ia(t),!0)}function ca(e,t,i,n){const s=Zt(),r=Yt(),o=ai(2);if(r.firstUpdatePass&&da(r,e,o,n),t!==ds&&Co(s,o,t)){let a;null==i&&(a=function(){const e=Kt.lFrame;return null===e?null:e.currentSanitizer}())&&(i=a),ga(r,r.data[yi()+20],s,s[11],e,s[o+1]=function(e,t){return null==e||("function"==typeof t?e=t(e):"string"==typeof t?e+=t:"object"==typeof e&&(e=we(bn(e)))),e}(t,i),n,o)}}function ha(e,t,i,n){const s=Yt(),r=ai(2);s.firstUpdatePass&&da(s,null,r,n);const o=Zt();if(i!==ds&&Co(o,r,i)){const a=s.data[yi()+20];if(ba(a,n)&&!ua(s,r)){let e=n?a.classesWithoutHost:a.stylesWithoutHost;null!==e&&(i=Ce(e,i||"")),Ro(s,a,o,i,n)}else!function(e,t,i,n,s,r,o,a){s===ds&&(s=Jo);let l=0,c=0,h=0<s.length?s[0]:null,u=0<r.length?r[0]:null;for(;null!==h||null!==u;){const d=l<s.length?s[l+1]:void 0,p=c<r.length?r[c+1]:void 0;let f=null,g=void 0;h===u?(l+=2,c+=2,d!==p&&(f=u,g=p)):null===u||null!==h&&h<u?(l+=2,f=h):(c+=2,f=u,g=p),null!==f&&ga(e,t,i,n,f,g,o,a),h=l<s.length?s[l]:null,u=c<r.length?r[c]:null}}(s,a,o,o[11],o[r+1],o[r+1]=function(e,t,i){if(null==i||""===i)return Jo;const n=[],s=bn(i);if(Array.isArray(s))for(let r=0;r<s.length;r++)e(n,s[r],!0);else if("object"==typeof s)for(const r in s)s.hasOwnProperty(r)&&e(n,r,s[r]);else"string"==typeof s&&t(n,s);return n}(e,t,i),n,r)}}function ua(e,t){return t>=e.expandoStartIndex}function da(e,t,i,n){const s=e.data;if(null===s[i+1]){const r=s[yi()+20],o=ua(e,i);ba(r,n)&&null===t&&!o&&(t=!1),t=function(e,t,i,n){const s=function(e){const t=Kt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let r=n?t.residualClasses:t.residualStyles;if(null===s)0===(n?t.classBindings:t.styleBindings)&&(i=fa(i=pa(null,e,t,i,n),t.attrs,n),r=null);else{const o=t.directiveStylingLast;if(-1===o||e[o]!==s)if(i=pa(s,e,t,i,n),null===r){let i=function(e,t,i){const n=i?t.classBindings:t.styleBindings;if(0!==xs(n))return e[ws(n)]}(e,t,n);void 0!==i&&Array.isArray(i)&&(i=pa(null,e,t,i[1],n),i=fa(i,t.attrs,n),function(e,t,i,n){e[ws(i?t.classBindings:t.styleBindings)]=n}(e,t,n,i))}else r=function(e,t,i){let n=void 0;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)n=fa(n,e[r].hostAttrs,i);return fa(n,t.attrs,i)}(e,t,n)}return void 0!==r&&(n?t.residualClasses=r:t.residualStyles=r),i}(s,r,t,n),function(e,t,i,n,s,r){let o=r?t.classBindings:t.styleBindings,a=ws(o),l=xs(o);e[n]=i;let c,h=!1;if(Array.isArray(i)){const e=i;c=e[1],(null===c||at(e,c)>0)&&(h=!0)}else c=i;if(s)if(0!==l){const t=ws(e[a+1]);e[n+1]=ys(t,a),0!==t&&(e[t+1]=Ss(e[t+1],n)),e[a+1]=131071&e[a+1]|n<<17}else e[n+1]=ys(a,0),0!==a&&(e[a+1]=Ss(e[a+1],n)),a=n;else e[n+1]=ys(l,0),0===a?a=n:e[l+1]=Ss(e[l+1],n),l=n;h&&(e[n+1]=Cs(e[n+1])),Xo(e,c,n,!0),Xo(e,c,n,!1),function(e,t,i,n,s){const r=s?e.residualClasses:e.residualStyles;null!=r&&"string"==typeof t&&at(r,t)>=0&&(i[n+1]=ks(i[n+1]))}(t,c,e,n,r),o=ys(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,i,o,n)}}function pa(e,t,i,n,s){let r=null;const o=i.directiveEnd;let a=i.directiveStylingLast;for(-1===a?a=i.directiveStart:a++;a<o&&(r=t[a],n=fa(n,r.hostAttrs,s),r!==e);)a++;return null!==e&&(i.directiveStylingLast=a),n}function fa(e,t,i){const n=i?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),rt(e,o,!!i||t[++r]))}return void 0===e?null:e}function ga(e,t,i,n,s,r,o,a){if(3!==t.type)return;const l=e.data,c=l[a+1];va(1==(1&c)?ma(l,t,i,s,xs(c),o):void 0)||(va(r)||function(e){return 2==(2&e)}(c)&&(r=ma(l,null,i,s,a,o)),function(e,t,i,n,s){const r=Rt(e);if(t)s?r?e.addClass(i,n):i.classList.add(n):r?e.removeClass(i,n):i.classList.remove(n);else{const t=-1==n.indexOf("-")?void 0:2;null==s?r?e.removeStyle(i,n,t):i.style.removeProperty(n):r?e.setStyle(i,n,s,t):i.style.setProperty(n,s)}}(n,o,Nt(yi(),i),s,r))}function ma(e,t,i,n,s,r){const o=null===t;let a=void 0;for(;s>0;){const t=e[s],r=Array.isArray(t),l=r?t[1]:t,c=null===l;let h=i[s+1];h===ds&&(h=c?Jo:void 0);let u=c?ot(h,n):l===n?h:void 0;if(r&&!va(u)&&(u=ot(t,n)),va(u)&&(a=u,o))return a;const d=e[s+1];s=o?ws(d):xs(d)}if(null!==t){let e=r?t.residualClasses:t.residualStyles;null!=e&&(a=ot(e,n))}return a}function va(e){return void 0!==e}function ba(e,t){return 0!=(e.flags&(t?16:32))}function ya(e,t=""){const i=Zt(),n=Yt(),s=e+20,r=n.firstCreatePass?Ts(n,i[6],e,3,null,null):n.data[s],o=i[s]=function(e,t){return Rt(t)?t.createText(e):t.createTextNode(e)}(t,i[11]);Fr(n,i,o,r),Xt(r,!1)}function wa(e){return Ca("",e,""),wa}function Ca(e,t,i){const n=Zt(),s=Eo(n,e,t,i);return s!==ds&&pr(n,yi(),s),Ca}function xa(e,t,i,n,s){const r=Zt(),o=function(e,t,i,n,s,r){const o=xo(e,ri(),i,s);return ai(2),o?t+Vi(i)+n+Vi(s)+r:ds}(r,e,t,i,n,s);return o!==ds&&pr(r,yi(),o),xa}function Sa(e,t,i,n,s,r,o,a,l,c,h){const u=Zt(),d=function(e,t,i,n,s,r,o,a,l,c,h,u){const d=ri();let p=ko(e,d,i,s,o,l);return p=Co(e,d+4,h)||p,ai(5),p?t+Vi(i)+n+Vi(s)+r+Vi(o)+a+Vi(l)+c+Vi(h)+u:ds}(u,e,t,i,n,s,r,o,a,l,c,h);return d!==ds&&pr(u,yi(),d),Sa}function ka(e,t,i){const n=Zt();return Co(n,oi(),t)&&Bs(Yt(),Ci(),n,e,t,n[11],i,!0),ka}function _a(e,t){const i=zt(e)[1],n=i.data.length-1;xi(i,{directiveStart:n,directiveEnd:n+1})}function Ea(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,i=!0;const n=[e];for(;t;){let s=void 0;if(Ft(e))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(i){n.push(s);const t=e;t.inputs=Ia(e.inputs),t.declaredInputs=Ia(e.declaredInputs),t.outputs=Ia(e.outputs);const i=s.hostBindings;i&&Da(e,i);const r=s.viewQuery,o=s.contentQueries;if(r&&Ta(e,r),o&&Fa(e,o),ce(e.inputs,s.inputs),ce(e.declaredInputs,s.declaredInputs),ce(e.outputs,s.outputs),Ft(s)&&s.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(s.data.animation)}t.afterContentChecked=t.afterContentChecked||s.afterContentChecked,t.afterContentInit=e.afterContentInit||s.afterContentInit,t.afterViewChecked=e.afterViewChecked||s.afterViewChecked,t.afterViewInit=e.afterViewInit||s.afterViewInit,t.doCheck=e.doCheck||s.doCheck,t.onDestroy=e.onDestroy||s.onDestroy,t.onInit=e.onInit||s.onInit}const t=s.features;if(t)for(let n=0;n<t.length;n++){const s=t[n];s&&s.ngInherit&&s(e),s===Ea&&(i=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,i=null;for(let n=e.length-1;n>=0;n--){const s=e[n];s.hostVars=t+=s.hostVars,s.hostAttrs=Oi(s.hostAttrs,i=Oi(i,s.hostAttrs))}}(n)}function Ia(e){return e===ht?{}:e===ut?[]:e}function Ta(e,t){const i=e.viewQuery;e.viewQuery=i?(e,n)=>{t(e,n),i(e,n)}:t}function Fa(e,t){const i=e.contentQueries;e.contentQueries=i?(e,n,s)=>{t(e,n,s),i(e,n,s)}:t}function Da(e,t){const i=e.hostBindings;e.hostBindings=i?(e,n)=>{t(e,n),i(e,n)}:t}class Aa{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Oa(e){e.type.prototype.ngOnChanges&&(e.setInput=Ra,e.onChanges=function(){const e=Pa(this),t=e&&e.current;if(t){const i=e.previous;if(i===ht)e.previous=t;else for(let e in t)i[e]=t[e];e.current=null,this.ngOnChanges(t)}})}function Ra(e,t,i,n){const s=Pa(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ht,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[i],l=o[a];r[a]=new Aa(l&&l.currentValue,t,o===ht),e[n]=t}function Pa(e){return e.__ngSimpleChanges__||null}function Ma(e,t,i,n,s){if(e=ke(e),Array.isArray(e))for(let r=0;r<e.length;r++)Ma(e[r],t,i,n,s);else{const r=Yt(),o=Zt();let a=so(e)?e:ke(e.provide),l=to(e);const c=Jt(),h=65535&c.providerIndexes,u=c.directiveStart,d=c.providerIndexes>>16;if(so(e)||!e.multi){const n=new Ti(l,s,Fo),p=Va(a,t,s?h:h+d,u);-1===p?(Yi(Gi(c,o),r,a),Na(r,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=65536),i.push(n),o.push(n)):(i[p]=n,o[p]=n)}else{const p=Va(a,t,h+d,u),f=Va(a,t,h,h+d),g=p>=0&&i[p],m=f>=0&&i[f];if(s&&!m||!s&&!g){Yi(Gi(c,o),r,a);const h=function(e,t,i,n,s){const r=new Ti(e,i,Fo);return r.multi=[],r.index=t,r.componentProviders=0,La(r,s,n&&!i),r}(s?Ba:Ha,i.length,s,n,l);!s&&m&&(i[f].providerFactory=h),Na(r,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=65536),i.push(h),o.push(h)}else Na(r,e,p>-1?p:f,La(i[s?f:p],l,!s&&n));!s&&n&&m&&i[f].componentProviders++}}}function Na(e,t,i,n){const s=so(t);if(s||t.useClass){const r=(t.useClass||t).prototype.ngOnDestroy;if(r){const o=e.destroyHooks||(e.destroyHooks=[]);if(!s&&t.multi){const e=o.indexOf(i);-1===e?o.push(i,[n,r]):o[e+1].push(n,r)}else o.push(i,r)}}}function La(e,t,i){return i&&e.componentProviders++,e.multi.push(t)-1}function Va(e,t,i,n){for(let s=i;s<n;s++)if(t[s]===e)return s;return-1}function Ha(e,t,i,n){return za(this.multi,[])}function Ba(e,t,i,n){const s=this.multi;let r;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=tn(i,i[1],this.providerFactory.index,n);r=t.slice(0,e),za(s,r);for(let i=e;i<t.length;i++)r.push(t[i])}else r=[],za(s,r);return r}function za(e,t){for(let i=0;i<e.length;i++)t.push((0,e[i])());return t}function ja(e,t=[]){return i=>{i.providersResolver=(i,n)=>function(e,t,i){const n=Yt();if(n.firstCreatePass){const s=Ft(e);Ma(i,n.data,n.blueprint,s,!0),Ma(t,n.data,n.blueprint,s,!1)}}(i,n?n(e):e,t)}}Oa.ngInherit=!0;class Ua{}class $a{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${we(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let qa=(()=>{class e{}return e.NULL=new $a,e})(),Ga=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Ka(e),e})();const Ka=function(e){return zr(e,Jt(),Zt())};class Wa{}const Za=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}();let Ya=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Qa(),e})();const Qa=function(){const e=Zt(),t=Bt(Jt().index,e);return function(e){const t=e[11];if(Rt(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(kt(t)?t:e)};let Ja=(()=>{class e{}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>null}),e})();class Xa{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const el=new Xa("9.1.13");class tl{constructor(){}supports(e){return vo(e)}create(e){return new nl(e)}}const il=(e,t)=>t;class nl{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||il}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,n=0,s=null;for(;t||i;){const r=!i||t&&t.currentIndex<al(i,n,s)?t:i,o=al(r,n,s),a=r.currentIndex;if(r===i)n--,i=i._nextRemoved;else if(t=t._next,null==r.previousIndex)n++;else{s||(s=[]);const e=o-n,t=a-n;if(e!=t){for(let i=0;i<e;i++){const n=i<s.length?s[i]:s[i]=0,r=n+i;t<=r&&r<e&&(s[i]=n+1)}s[r.previousIndex]=t-e}}o!==a&&e(r,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!vo(e))throw new Error(`Error trying to diff '${we(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,i,n,s=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)i=e[t],n=this._trackByFn(t,i),null!==s&&go(s.trackById,n)?(r&&(s=this._verifyReinsertion(s,i,n,t)),go(s.item,i)||this._addIdentityChange(s,i)):(s=this._mismatch(s,i,n,t),r=!0),s=s._next}else t=0,function(e,t){if(Array.isArray(e))for(let i=0;i<e.length;i++)t(e[i]);else{const i=e[fo()]();let n;for(;!(n=i.next()).done;)t(n.value)}}(e,e=>{n=this._trackByFn(t,e),null!==s&&go(s.trackById,n)?(r&&(s=this._verifyReinsertion(s,e,n,t)),go(s.item,e)||this._addIdentityChange(s,e)):(s=this._mismatch(s,e,n,t),r=!0),s=s._next,t++}),this.length=t;return this._truncate(s),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,n){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,n))?(go(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,n)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(go(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,n)):e=this._addAfter(new sl(t,i),s,n),e}_verifyReinsertion(e,t,i,n){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,n):e.currentIndex!=n&&(e.currentIndex=n,this._addToMoves(e,n)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const n=e._prevRemoved,s=e._nextRemoved;return null===n?this._removalsHead=s:n._nextRemoved=s,null===s?this._removalsTail=n:s._prevRemoved=n,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const n=null===t?this._itHead:t._next;return e._next=n,e._prev=t,null===n?this._itTail=e:n._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ol),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ol),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class sl{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rl{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&go(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class ol{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new rl,this.map.set(t,i)),i.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function al(e,t,i){const n=e.previousIndex;if(null===n)return n;let s=0;return i&&n<i.length&&(s=i[n]),n+t+s}class ll{constructor(){}supports(e){return e instanceof Map||bo(e)}create(){return new cl}}class cl{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||bo(e)))throw new Error(`Error trying to diff '${we(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const n=this._getOrCreateRecordForKey(i,e);t=this._insertBeforeOrAppend(t,n)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const n=i._prev,s=i._next;return n&&(n._next=s),s&&(s._prev=n),i._next=null,i._prev=null,i}const i=new hl(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){go(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class hl{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ul=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(null!=i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,i)},deps:[[e,new oe,new se]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${i=e,i.name||typeof i}'`);var i}}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new e([new tl])}),e})(),dl=(()=>{class e{constructor(e){this.factories=e}static create(t,i){if(i){const e=i.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:i=>{if(!i)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,i)},deps:[[e,new oe,new se]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new e([new ll])}),e})();const pl=[new ll],fl=new ul([new tl]),gl=new dl(pl);let ml=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>vl(e,Ga),e})();const vl=function(e,t){return jr(e,t,Jt(),Zt())};let bl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>yl(e,Ga),e})();const yl=function(e,t){return Ur(e,t,Jt(),Zt())},wl={};class Cl extends qa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ct(e);return new kl(t,this.ngModule)}}function xl(e){const t=[];for(let i in e)e.hasOwnProperty(i)&&t.push({propName:e[i],templateName:i});return t}const Sl=new Ve("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Bi});class kl extends Ua{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(us).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return xl(this.componentDef.inputs)}get outputs(){return xl(this.componentDef.outputs)}create(e,t,i,n){const s=(n=n||this.ngModule)?function(e,t){return{get:(i,n,s)=>{const r=e.get(i,wl,s);return r!==wl||n===wl?r:t.get(i,n,s)}}}(e,n.injector):e,r=s.get(Wa,Pt),o=s.get(Ja,null),a=r.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=i?function(e,t,i){if(Rt(e))return e.selectRootElement(t,i===ct.ShadowDom);let n="string"==typeof t?e.querySelector(t):t;return n.textContent="",n}(a,i,this.componentDef.encapsulation):Es(l,r.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,u="string"==typeof i&&/^#root-ng-internal-isolated-\d+/.test(i),d={components:[],scheduler:Bi,clean:lr,playerHandler:null,flags:0},p=Ls(0,-1,null,1,0,null,null,null,null,null),f=Is(null,p,d,h,null,null,r,a,o,s);let g,m;pi(f,null);try{const e=function(e,t,i,n,s,r){const o=i[1];i[20]=e;const a=Ts(o,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(uo(a,l,!0),null!==e&&(Fi(s,e,l),null!==a.classes&&Mr(s,e,a.classes),null!==a.styles&&Pr(s,e,a.styles)));const c=n.createRenderer(e,t),h=Is(i,Ns(t),null,t.onPush?64:16,i[20],a,n,c,void 0);return o.firstCreatePass&&(Yi(Gi(a,i),o,t.type),Gs(o,a),Ws(a,i.length,1)),nr(i,h),i[20]=h}(c,this.componentDef,f,r,a);if(c)if(i)Fi(a,c,["ng-version",el.full]);else{const{attrs:e,classes:t}=function(e){const t=[],i=[];let n=1,s=2;for(;n<e.length;){let r=e[n];if("string"==typeof r)2===s?""!==r&&t.push(r,e[++n]):8===s&&i.push(r);else{if(!os(s))break;s=r}n++}return{attrs:t,classes:i}}(this.componentDef.selectors[0]);e&&Fi(a,c,e),t&&t.length>0&&Mr(a,c,t.join(" "))}if(m=Vt(p,0),void 0!==t){const e=m.projection=[];for(let i=0;i<this.ngContentSelectors.length;i++){const n=t[i];e.push(null!=n?Array.from(n):null)}}g=function(e,t,i,n,s){const r=i[1],o=function(e,t,i){const n=Jt();e.firstCreatePass&&(i.providersResolver&&i.providersResolver(i),qs(e,n,1),Zs(e,t,i));const s=tn(t,e,t.length-1,n);Jn(s,t);const r=Lt(n,t);return r&&Jn(r,t),s}(r,i,t);n.components.push(o),e[8]=o,s&&s.forEach(e=>e(o,t)),t.contentQueries&&t.contentQueries(1,o,i.length-1);const a=Jt();if(r.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){wi(a.index-20);const e=i[1];js(e,t),Us(e,i,t.hostVars),$s(t,o)}return o}(e,this.componentDef,f,d,[_a]),Fs(p,f,null)}finally{bi()}const v=new _l(this.componentType,g,zr(Ga,m,f),f,m);return i&&!u||(p.node.child=m),v}}class _l extends class{}{constructor(e,t,i,n,s){super(),this.location=i,this._rootLView=n,this._tNode=s,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new Lr(n),function(e,t,i,n){let s=e.node;null==s&&(e.node=s=Vs(0,null,2,-1,null,null)),n[6]=s}(n[1],0,0,n),this.componentType=e}get injector(){return new rn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const El=void 0;var Il=["en",[["a","p"],["AM","PM"],El],[["AM","PM"],El,El],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],El,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],El,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",El,"{1} 'at' {0}",El],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let Tl={};function Fl(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let i=Dl(t);if(i)return i;const n=t.split("-")[0];if(i=Dl(n),i)return i;if("en"===n)return Il;throw new Error(`Missing locale data for the locale "${e}".`)}function Dl(e){return e in Tl||(Tl[e]=De.ng&&De.ng.common&&De.ng.common.locales&&De.ng.common.locales[e]),Tl[e]}const Al=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencyCode]="CurrencyCode",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.Directionality]="Directionality",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),Ol=/\ufffd(\d+):?\d*\ufffd/gi,Rl=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi;function Pl(e,t,i,n=null){const s=[null,null],r=e.split(Ol);let o=0;for(let a=0;a<r.length;a++){const e=r[a];if(1&a){const t=parseInt(e,10);s.push(-1-t),o|=Ml(t)}else""!==e&&s.push(e)}return s.push(t<<2|(i?1:0)),i&&s.push(i,n),s[0]=o,s[1]=s.length-2,s}function Ml(e){return 1<<Math.min(e,31)}function Nl(e,t){!function(e,t,i,n){const s=Jt().index-20,r=[];for(let o=0;o<n.length;o+=2){const a=n[o],l=n[o+1].split(Rl);for(let n=0;n<l.length;n++){const o=l[n];if(1&n)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(Ol))t.firstCreatePass&&null===t.data[i+20]&&et(Pl(o,s,a),r);else{const i=Vt(t,s);3===i.type&&Qs(i,e,a,o,null,null);const n=null!==i.inputs&&i.inputs[a];n&&dr(t,e,n,a,o)}}}t.firstCreatePass&&null===t.data[i+20]&&(t.data[i+20]=r)}(Zt(),Yt(),e,t)}let Ll="en-US";function Vl(e){var t,i;i="Expected localeId to be defined",null==(t=e)&&function(e,t,i,n){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(i,t),"string"==typeof e&&(Ll=e.toLowerCase().replace(/_/g,"-"))}const Hl=new Map;class Bl extends Je{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Cl(this);const i=St(e),n=e[Me]||null;n&&Vl(n),this._bootstrapComponents=ji(i.bootstrap),this._r3Injector=Jr(e,t,[{provide:Je,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],we(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=oo.THROW_IF_NOT_FOUND,i=ae.Default){return e===oo||e===Je||e===He?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class zl extends Xe{constructor(e){super(),this.moduleType=e,null!==St(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,i){if(t&&t!==i)throw new Error(`Duplicate module registered for ${e} - ${we(t)} vs ${we(t.name)}`)})(e,Hl.get(e),t),Hl.set(e,t)}let i=t.\u0275mod.imports;i instanceof Function&&(i=i()),i&&i.forEach(t=>e(t))}(e)}create(e){return new Bl(this.moduleType,e)}}function jl(e,t,i){const n=si()+e,s=Zt();return s[n]===ds?yo(s,n,i?t.call(i):t()):wo(s,n)}function Ul(e,t,i,n){return Zl(Zt(),si(),e,t,i,n)}function $l(e,t,i,n,s){return Yl(Zt(),si(),e,t,i,n,s)}function ql(e,t,i,n,s,r){return Ql(Zt(),si(),e,t,i,n,s,r)}function Gl(e,t,i,n,s,r,o){return function(e,t,i,n,s,r,o,a,l){const c=t+i;return ko(e,c,s,r,o,a)?yo(e,c+4,l?n.call(l,s,r,o,a):n(s,r,o,a)):Wl(e,c+4)}(Zt(),si(),e,t,i,n,s,r,o)}function Kl(e,t,i,n,s,r,o,a,l){const c=si()+e,h=Zt(),u=ko(h,c,i,n,s,r);return xo(h,c+4,o,a)||u?yo(h,c+6,l?t.call(l,i,n,s,r,o,a):t(i,n,s,r,o,a)):wo(h,c+6)}function Wl(e,t){const i=e[t];return i===ds?void 0:i}function Zl(e,t,i,n,s,r){const o=t+i;return Co(e,o,s)?yo(e,o+1,r?n.call(r,s):n(s)):Wl(e,o+1)}function Yl(e,t,i,n,s,r,o){const a=t+i;return xo(e,a,s,r)?yo(e,a+2,o?n.call(o,s,r):n(s,r)):Wl(e,a+2)}function Ql(e,t,i,n,s,r,o,a){const l=t+i;return So(e,l,s,r,o)?yo(e,l+3,a?n.call(a,s,r,o):n(s,r,o)):Wl(e,l+3)}function Jl(e,t){const i=Yt();let n;const s=e+20;i.firstCreatePass?(n=function(e,t){if(t)for(let i=t.length-1;i>=0;i--){const n=t[i];if(e===n.name)return n}throw new Error(`The pipe '${e}' could not be found!`)}(t,i.pipeRegistry),i.data[s]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(s,n.onDestroy)):n=i.data[s];const r=n.factory||(n.factory=xt(n.type)),o=Ge(Fo),a=$i(!1),l=r();return $i(a),Ge(o),function(e,t,i,n){const s=i+20;s>=e.data.length&&(e.data[s]=null,e.blueprint[s]=null),t[s]=n}(i,Zt(),e,l),l}function Xl(e,t,i,n){const s=Zt(),r=Ht(s,e);return ic(s,tc(s,e)?Yl(s,si(),t,r.transform,i,n,r):r.transform(i,n))}function ec(e,t,i,n,s){const r=Zt(),o=Ht(r,e);return ic(r,tc(r,e)?Ql(r,si(),t,o.transform,i,n,s,o):o.transform(i,n,s))}function tc(e,t){return e[1].data[t+20].pure}function ic(e,t){return mo.isWrapped(t)&&(t=mo.unwrap(t),e[ri()]=ds),t}class nc extends _{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let n,s=e=>null,r=()=>null;e&&"object"==typeof e?(n=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(s=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(r=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(n=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(s=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),i&&(r=this.__isAsync?()=>{setTimeout(()=>i())}:()=>{i()}));const o=super.subscribe(n,s,r);return e instanceof u&&e.add(o),o}}function sc(){return this._results[fo()]()}class rc{constructor(){this.dirty=!0,this._results=[],this.changes=new nc,this.length=0;const e=fo(),t=rc.prototype;t[e]||(t[e]=sc)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,i){void 0===i&&(i=t);for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?(i===t&&(i=t.slice(0,n)),e(s,i)):i!==t&&i.push(s)}return i}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class oc{constructor(e){this.queryList=e,this.matches=null}clone(){return new oc(this.queryList)}setDirty(){this.queryList.setDirty()}}class ac{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,n=[];for(let e=0;e<i;e++){const i=t.getByIndex(e);n.push(this.queries[i.indexInDeclarationView].clone())}return new ac(n)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==kc(e,t).matches&&this.queries[t].setDirty()}}class lc{constructor(e,t,i,n=null){this.predicate=e,this.descendants=t,this.isStatic=i,this.read=n}}class cc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const n=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,n);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new cc(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class hc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new hc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&4===i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){if(Array.isArray(this.metadata.predicate)){const i=this.metadata.predicate;for(let n=0;n<i.length;n++)this.matchTNodeWithReadOption(e,t,uc(t,i[n]))}else{const i=this.metadata.predicate;i===ml?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,en(t,e,i,!1,!1))}}matchTNodeWithReadOption(e,t,i){if(null!==i){const n=this.metadata.read;if(null!==n)if(n===Ga||n===bl||n===ml&&0===t.type)this.addMatch(t.index,-2);else{const i=en(t,e,n,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function uc(e,t){const i=e.localNames;if(null!==i)for(let n=0;n<i.length;n+=2)if(i[n]===t)return i[n+1];return null}function dc(e,t,i,n){return-1===i?function(e,t){return 3===e.type||4===e.type?zr(Ga,e,t):0===e.type?jr(ml,Ga,e,t):null}(t,e):-2===i?function(e,t,i){return i===Ga?zr(Ga,t,e):i===ml?jr(ml,Ga,t,e):i===bl?Ur(bl,Ga,t,e):void 0}(e,t,n):tn(e,e[1],i,t)}function pc(e,t,i,n){const s=t[19].queries[n];if(null===s.matches){const n=e.data,r=i.matches,o=[];for(let e=0;e<r.length;e+=2){const s=r[e];o.push(s<0?null:dc(t,n[s],r[e+1],i.metadata.read))}s.matches=o}return s.matches}function fc(e){const t=Zt(),i=Yt(),n=hi();ui(n+1);const s=kc(i,n);if(e.dirty&&jt(t)===s.metadata.isStatic){if(null===s.matches)e.reset([]);else{const r=s.crossesNgTemplate?function e(t,i,n,s){const r=t.queries.getByIndex(n),o=r.matches;if(null!==o){const a=pc(t,i,r,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)s.push(a[t/2]);else{const r=o[t+1],a=i[-n];for(let t=10;t<a.length;t++){const i=a[t];i[17]===i[3]&&e(i[1],i,r,s)}if(null!==a[9]){const t=a[9];for(let i=0;i<t.length;i++){const n=t[i];e(n[1],n,r,s)}}}}}return s}(i,t,n,[]):pc(i,t,s,n);e.reset(r),e.notifyOnChanges()}return!0}return!1}function gc(e,t,i){vc(Yt(),Zt(),e,t,i,!0)}function mc(e,t,i){vc(Yt(),Zt(),e,t,i,!1)}function vc(e,t,i,n,s,r){e.firstCreatePass&&(Sc(e,new lc(i,n,r,s),-1),r&&(e.staticViewQueries=!0)),xc(e,t)}function bc(e,t,i,n){wc(Yt(),Zt(),t,i,n,!1,Jt(),e)}function yc(e,t,i,n){wc(Yt(),Zt(),t,i,n,!0,Jt(),e)}function wc(e,t,i,n,s,r,o,a){e.firstCreatePass&&(Sc(e,new lc(i,n,r,s),o.index),function(e,t){const i=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?i[i.length-1]:-1)&&i.push(e.queries.length-1,t)}(e,a),r&&(e.staticContentQueries=!0)),xc(e,t)}function Cc(){return e=Zt(),t=hi(),e[19].queries[t].queryList;var e,t}function xc(e,t){const i=new rc;!function(e,t,i,n){const s=cr(t);s.push(i),e.firstCreatePass&&hr(e).push(n,s.length-1)}(e,t,i,i.destroy),null===t[19]&&(t[19]=new ac),t[19].queries.push(new oc(i))}function Sc(e,t,i){null===e.queries&&(e.queries=new cc),e.queries.track(new hc(t,i))}function kc(e,t){return e.queries.getByIndex(t)}function _c(e,t){return jr(ml,Ga,e,t)}const Ec=new Ve("Application Initializer");let Ic=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const t=this.appInits[i]();zo(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(We(Ec,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Tc=new Ve("AppId"),Fc={provide:Tc,useFactory:function(){return`${Dc()}${Dc()}${Dc()}`},deps:[]};function Dc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ac=new Ve("Platform Initializer"),Oc=new Ve("Platform ID"),Rc=new Ve("appBootstrapListener");let Pc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Mc=new Ve("LocaleId"),Nc=new Ve("DefaultCurrencyCode");class Lc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Vc=function(e){return new zl(e)},Hc=Vc,Bc=function(e){return Promise.resolve(Vc(e))},zc=function(e){const t=Vc(e),i=ji(St(e).declarations).reduce((e,t)=>{const i=Ct(t);return i&&e.push(new kl(i)),e},[]);return new Lc(t,i)},jc=zc,Uc=function(e){return Promise.resolve(zc(e))};let $c=(()=>{class e{constructor(){this.compileModuleSync=Hc,this.compileModuleAsync=Bc,this.compileModuleAndAllComponentsSync=jc,this.compileModuleAndAllComponentsAsync=Uc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const qc=new Ve("compilerOptions"),Gc=(()=>Promise.resolve(0))();function Kc(e){"undefined"==typeof Zone?Gc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Wc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nc(!1),this.onMicrotaskEmpty=new nc(!1),this.onStable=new nc(!1),this.onError=new nc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=De.requestAnimationFrame,t=De.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(De,()=>{e.lastRequestAnimationFrameId=-1,Jc(e),Qc(e)}),Jc(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(i,n,s,r,o,a)=>{try{return Xc(e),i.invokeTask(s,r,o,a)}finally{t&&"eventTask"===r.type&&t(),eh(e)}},onInvoke:(t,i,n,s,r,o,a)=>{try{return Xc(e),t.invoke(n,s,r,o,a)}finally{eh(e)}},onHasTask:(t,i,n,s)=>{t.hasTask(n,s),i===n&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Jc(e),Qc(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,n,s)=>(t.handleError(n,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Wc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Wc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,n){const s=this._inner,r=s.scheduleEventTask("NgZoneEvent: "+n,e,Yc,Zc,Zc);try{return s.runTask(r,t,i)}finally{s.cancelTask(r)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}function Zc(){}const Yc={};function Qc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Jc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function Xc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function eh(e){e._nesting--,Qc(e)}class th{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nc,this.onMicrotaskEmpty=new nc,this.onStable=new nc,this.onError=new nc}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,n){return e.apply(t,i)}}let ih=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Wc.assertNotInAngularZone(),Kc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,i){let n=-1;t&&t>0&&(n=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==n),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:n,updateCb:i})}whenStable(e,t,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),nh=(()=>{class e{constructor(){this._applications=new Map,oh.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return oh.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class sh{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let rh,oh=new sh,ah=function(e,t,i){const n=e.get(qc,[]).concat(t),s=new zl(i);if(0===lo.size)return Promise.resolve(s);const r=function(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}(n.map(e=>e.providers));if(0===r.length)return Promise.resolve(s);const o=function(){const e=De.ng;if(!e||!e.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return e.\u0275compilerFacade}(),a=oo.create({providers:r}).get(o.ResourceLoader);return function(e){const t=[],i=new Map;function n(e){let t=i.get(e);if(!t){const n=(e=>Promise.resolve(a.get(e)))(e);i.set(e,t=n.then(ho))}return t}return lo.forEach((e,i)=>{const s=[];e.templateUrl&&s.push(n(e.templateUrl).then(t=>{e.template=t}));const r=e.styleUrls,o=e.styles||(e.styles=[]),a=e.styles.length;r&&r.forEach((t,i)=>{o.push(""),s.push(n(t).then(n=>{o[a+i]=n,r.splice(r.indexOf(t),1),0==r.length&&(e.styleUrls=void 0)}))});const l=Promise.all(s).then(()=>function(e){co.delete(e)}(i));t.push(l)}),lo=new Map,Promise.all(t).then(()=>{})}().then(()=>s)};const lh=new Ve("AllowMultipleToken");class ch{constructor(e,t){this.name=e,this.token=t}}function hh(e,t,i=[]){const n="Platform: "+t,s=new Ve(n);return(t=[])=>{let r=uh();if(!r||r.injector.get(lh,!1))if(e)e(i.concat(t).concat({provide:s,useValue:!0}));else{const e=i.concat(t).concat({provide:s,useValue:!0},{provide:Gr,useValue:"platform"});!function(e){if(rh&&!rh.destroyed&&!rh.injector.get(lh,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");rh=e.get(dh);const t=e.get(Ac,null);t&&t.forEach(e=>e())}(oo.create({providers:e,name:n}))}return function(e){const t=uh();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(s)}}function uh(){return rh&&!rh.destroyed?rh:null}let dh=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const i=function(e,t){let i;return i="noop"===e?new th:("zone.js"===e?void 0:e)||new Wc({enableLongStackTrace:Sn(),shouldCoalesceEventChangeDetection:t}),i}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),n=[{provide:Wc,useValue:i}];return i.run(()=>{const t=oo.create({providers:n,parent:this.injector,name:e.moduleType.name}),s=e.create(t),r=s.injector.get(un,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.onDestroy(()=>gh(this._modules,s)),i.runOutsideAngular(()=>i.onError.subscribe({next:e=>{r.handleError(e)}})),function(e,t,i){try{const n=i();return zo(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(r,i,()=>{const e=s.injector.get(Ic);return e.runInitializers(),e.donePromise.then(()=>(Vl(s.injector.get(Mc,"en-US")||"en-US"),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,t=[]){const i=ph({},t);return ah(this.injector,i,e).then(e=>this.bootstrapModuleFactory(e,i))}_moduleDoBootstrap(e){const t=e.injector.get(fh);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${we(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(We(oo))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function ph(e,t){return Array.isArray(t)?t.reduce(ph,e):Object.assign(Object.assign({},e),t)}let fh=(()=>{class e{constructor(e,t,i,n,s,r){this._zone=e,this._console=t,this._injector=i,this._exceptionHandler=n,this._componentFactoryResolver=s,this._initStatus=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Sn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new w(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new w(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{Wc.assertNotInAngularZone(),Kc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const i=this._zone.onUnstable.subscribe(()=>{Wc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),i.unsubscribe()}});this.isStable=K(o,a.pipe(e=>{return W()((t=ee,function(e){let i;i="function"==typeof t?t:function(){return t};const n=Object.create(e,J);return n.source=e,n.subjectFactory=i,n})(e));var t}))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let i;i=e instanceof Ua?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(i.componentType);const n=i.isBoundToModule?void 0:this._injector.get(Je),s=i.create(oo.NULL,[],t||i.selector,n);s.onDestroy(()=>{this._unloadComponent(s)});const r=s.injector.get(ih,null);return r&&s.injector.get(nh).registerApplication(s.location.nativeElement,r),this._loadComponent(s),Sn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;gh(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Rc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),gh(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(We(Wc),We(Pc),We(oo),We(un),We(qa),We(Ic))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function gh(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}class mh{}class vh{}const bh={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let yh=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||bh}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,n]=e.split("#");return void 0===n&&(n="default"),i("zn8P")(t).then(e=>e[n]).then(e=>wh(e,t,n)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,n]=e.split("#"),s="NgFactory";return void 0===n&&(n="default",s=""),i("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[n+s]).then(e=>wh(e,t,n))}}return e.\u0275fac=function(t){return new(t||e)(We($c),We(vh,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function wh(e,t,i){if(!e)throw new Error(`Cannot find '${i}' in '${t}'`);return e}const Ch=hh(null,"core",[{provide:Oc,useValue:"unknown"},{provide:dh,deps:[oo]},{provide:nh,deps:[]},{provide:Pc,deps:[]}]),xh=[{provide:fh,useClass:fh,deps:[Wc,Pc,oo,un,qa,Ic]},{provide:Sl,deps:[Wc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Ic,useClass:Ic,deps:[[new se,Ec]]},{provide:$c,useClass:$c,deps:[]},Fc,{provide:ul,useFactory:function(){return fl},deps:[]},{provide:dl,useFactory:function(){return gl},deps:[]},{provide:Mc,useFactory:function(e){return Vl(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ne(Mc),new se,new oe]]},{provide:Nc,useValue:"USD"}];let Sh=(()=>{class e{constructor(e){}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(We(fh))},providers:xh}),e})(),kh=null;function _h(){return kh}const Eh=new Ve("DocumentToken");let Ih=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:Th,token:e,providedIn:"platform"}),e})();function Th(){return We(Dh)}const Fh=new Ve("Location Initialized");let Dh=(()=>{class e extends Ih{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=_h().getLocation(),this._history=_h().getHistory()}getBaseHrefFromDOM(){return _h().getBaseHref(this._doc)}onPopState(e){_h().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){_h().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,i){Ah()?this._history.pushState(e,t,i):this.location.hash=i}replaceState(e,t,i){Ah()?this._history.replaceState(e,t,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(We(Eh))},e.\u0275prov=he({factory:Oh,token:e,providedIn:"platform"}),e})();function Ah(){return!!window.history.pushState}function Oh(){return new Dh(We(Eh))}function Rh(e,t){if(0==e.length)return t;if(0==t.length)return e;let i=0;return e.endsWith("/")&&i++,t.startsWith("/")&&i++,2==i?e+t.substring(1):1==i?e+t:e+"/"+t}function Ph(e){const t=e.match(/#|\?|$/),i=t&&t.index||e.length;return e.slice(0,i-("/"===e[i-1]?1:0))+e.slice(i)}function Mh(e){return e&&"?"!==e[0]?"?"+e:e}let Nh=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:Lh,token:e,providedIn:"root"}),e})();function Lh(e){const t=We(Eh).location;return new Hh(We(Ih),t&&t.origin||"")}const Vh=new Ve("appBaseHref");let Hh=(()=>{class e extends Nh{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Rh(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+Mh(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${t}${i}`:t}pushState(e,t,i,n){const s=this.prepareExternalUrl(i+Mh(n));this._platformLocation.pushState(e,t,s)}replaceState(e,t,i,n){const s=this.prepareExternalUrl(i+Mh(n));this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(We(Ih),We(Vh,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Bh=(()=>{class e extends Nh{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=Rh(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,i,n){let s=this.prepareExternalUrl(i+Mh(n));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,t,s)}replaceState(e,t,i,n){let s=this.prepareExternalUrl(i+Mh(n));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(We(Ih),We(Vh,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),zh=(()=>{class e{constructor(e,t){this._subject=new nc,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=Ph(Uh(i)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+Mh(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Uh(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",i=null){this._platformStrategy.pushState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mh(t)),i)}replaceState(e,t="",i=null){this._platformStrategy.replaceState(i,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Mh(t)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)})}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(i=>i(e,t))}subscribe(e,t,i){return this._subject.subscribe({next:e,error:t,complete:i})}}return e.\u0275fac=function(t){return new(t||e)(We(Nh),We(Ih))},e.normalizeQueryParams=Mh,e.joinWithSlash=Rh,e.stripTrailingSlash=Ph,e.\u0275prov=he({factory:jh,token:e,providedIn:"root"}),e})();function jh(){return new zh(We(Nh),We(Ih))}function Uh(e){return e.replace(/\/index.html$/,"")}const $h=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),qh=function(){var e={Format:0,Standalone:1};return e[e.Format]="Format",e[e.Standalone]="Standalone",e}(),Gh=function(){var e={Narrow:0,Abbreviated:1,Wide:2,Short:3};return e[e.Narrow]="Narrow",e[e.Abbreviated]="Abbreviated",e[e.Wide]="Wide",e[e.Short]="Short",e}(),Kh=function(){var e={Short:0,Medium:1,Long:2,Full:3};return e[e.Short]="Short",e[e.Medium]="Medium",e[e.Long]="Long",e[e.Full]="Full",e}(),Wh=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Zh(e,t){return eu(Fl(e)[Al.DateFormat],t)}function Yh(e,t){return eu(Fl(e)[Al.TimeFormat],t)}function Qh(e,t){return eu(Fl(e)[Al.DateTimeFormat],t)}function Jh(e,t){const i=Fl(e),n=i[Al.NumberSymbols][t];if(void 0===n){if(t===Wh.CurrencyDecimal)return i[Al.NumberSymbols][Wh.Decimal];if(t===Wh.CurrencyGroup)return i[Al.NumberSymbols][Wh.Group]}return n}function Xh(e){if(!e[Al.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Al.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function eu(e,t){for(let i=t;i>-1;i--)if(void 0!==e[i])return e[i];throw new Error("Locale data API: locale data undefined")}function tu(e){const[t,i]=e.split(":");return{hours:+t,minutes:+i}}const iu=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nu={},su=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ru=function(){var e={Short:0,ShortGMT:1,Long:2,Extended:3};return e[e.Short]="Short",e[e.ShortGMT]="ShortGMT",e[e.Long]="Long",e[e.Extended]="Extended",e}(),ou=function(){var e={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};return e[e.FullYear]="FullYear",e[e.Month]="Month",e[e.Date]="Date",e[e.Hours]="Hours",e[e.Minutes]="Minutes",e[e.Seconds]="Seconds",e[e.FractionalSeconds]="FractionalSeconds",e[e.Day]="Day",e}(),au=function(){var e={DayPeriods:0,Days:1,Months:2,Eras:3};return e[e.DayPeriods]="DayPeriods",e[e.Days]="Days",e[e.Months]="Months",e[e.Eras]="Eras",e}();function lu(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,(function(e,i){return null!=t&&i in t?t[i]:e}))),e}function cu(e,t,i="-",n,s){let r="";(e<0||s&&e<=0)&&(s?e=1-e:(e=-e,r=i));let o=String(e);for(;o.length<t;)o="0"+o;return n&&(o=o.substr(o.length-t)),r+o}function hu(e,t,i=0,n=!1,s=!1){return function(r,o){let a=function(e,t){switch(e){case ou.FullYear:return t.getFullYear();case ou.Month:return t.getMonth();case ou.Date:return t.getDate();case ou.Hours:return t.getHours();case ou.Minutes:return t.getMinutes();case ou.Seconds:return t.getSeconds();case ou.FractionalSeconds:return t.getMilliseconds();case ou.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,r);if((i>0||a>-i)&&(a+=i),e===ou.Hours)0===a&&-12===i&&(a=12);else if(e===ou.FractionalSeconds)return l=t,cu(a,3).substr(0,l);var l;const c=Jh(o,Wh.MinusSign);return cu(a,t,c,n,s)}}function uu(e,t,i=qh.Format,n=!1){return function(s,r){return function(e,t,i,n,s,r){switch(i){case au.Months:return function(e,t,i){const n=Fl(e),s=eu([n[Al.MonthsFormat],n[Al.MonthsStandalone]],t);return eu(s,i)}(t,s,n)[e.getMonth()];case au.Days:return function(e,t,i){const n=Fl(e),s=eu([n[Al.DaysFormat],n[Al.DaysStandalone]],t);return eu(s,i)}(t,s,n)[e.getDay()];case au.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(r){const e=function(e){const t=Fl(e);return Xh(t),(t[Al.ExtraData][2]||[]).map(e=>"string"==typeof e?tu(e):[tu(e[0]),tu(e[1])])}(t),i=function(e,t,i){const n=Fl(e);Xh(n);const s=eu([n[Al.ExtraData][0],n[Al.ExtraData][1]],t)||[];return eu(s,i)||[]}(t,s,n);let r;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:n,minutes:s}=e[0],{hours:l,minutes:c}=e[1];o>=n&&a>=s&&(o<l||o===l&&a<c)&&(r=i[t])}else{const{hours:n,minutes:s}=e;n===o&&s===a&&(r=i[t])}}),r)return r}return function(e,t,i){const n=Fl(e),s=eu([n[Al.DayPeriodsFormat],n[Al.DayPeriodsStandalone]],t);return eu(s,i)}(t,s,n)[o<12?0:1];case au.Eras:return function(e,t){return eu(Fl(e)[Al.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+i)}}(s,r,e,t,i,n)}}function du(e){return function(t,i,n){const s=-1*n,r=Jh(i,Wh.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(e){case ru.Short:return(s>=0?"+":"")+cu(o,2,r)+cu(Math.abs(s%60),2,r);case ru.ShortGMT:return"GMT"+(s>=0?"+":"")+cu(o,1,r);case ru.Long:return"GMT"+(s>=0?"+":"")+cu(o,2,r)+":"+cu(Math.abs(s%60),2,r);case ru.Extended:return 0===n?"Z":(s>=0?"+":"")+cu(o,2,r)+":"+cu(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${e}"`)}}}function pu(e,t=!1){return function(i,n){let s;if(t){const e=new Date(i.getFullYear(),i.getMonth(),1).getDay()-1,t=i.getDate();s=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,0,1).getDay();return new Date(e,0,1+(t<=4?4:11)-t)}(i.getFullYear()),t=(r=i,new Date(r.getFullYear(),r.getMonth(),r.getDate()+(4-r.getDay()))).getTime()-e.getTime();s=1+Math.round(t/6048e5)}var r;return cu(s,e,Jh(n,Wh.MinusSign))}}const fu={};function gu(e,t){e=e.replace(/:/g,"");const i=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(i)?t:i}function mu(e){return e instanceof Date&&!isNaN(e.valueOf())}class vu{}let bu=(()=>{class e extends vu{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return Fl(e)[Al.PluralCase]}(t||this.locale)(e)){case $h.Zero:return"zero";case $h.One:return"one";case $h.Two:return"two";case $h.Few:return"few";case $h.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(We(Mc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function yu(e,t){t=encodeURIComponent(t);for(const i of e.split(";")){const e=i.indexOf("="),[n,s]=-1==e?[i,""]:[i.slice(0,e),i.slice(e+1)];if(n.trim()===t)return decodeURIComponent(s)}return null}let wu=(()=>{class e{constructor(e,t,i,n){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=i,this._renderer=n,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(vo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+we(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(Fo(ul),Fo(dl),Fo(Ga),Fo(Ya))},e.\u0275dir=yt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class Cu{constructor(e,t,i,n){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xu=(()=>{class e{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Sn()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const i=this._ngForOf;if(!this._differ&&i)try{this._differ=this._differs.find(i).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${i}' of type '${e=i,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,i,n)=>{if(null==e.previousIndex){const i=this._viewContainer.createEmbeddedView(this._template,new Cu(null,this._ngForOf,-1,-1),null===n?void 0:n),s=new Su(e,i);t.push(s)}else if(null==n)this._viewContainer.remove(null===i?void 0:i);else if(null!==i){const s=this._viewContainer.get(i);this._viewContainer.move(s,n);const r=new Su(e,s);t.push(r)}});for(let i=0;i<t.length;i++)this._perViewChange(t[i].view,t[i].record);for(let i=0,n=this._viewContainer.length;i<n;i++){const e=this._viewContainer.get(i);e.context.index=i,e.context.count=n,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Fo(bl),Fo(ml),Fo(ul))},e.\u0275dir=yt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class Su{constructor(e,t){this.record=e,this.view=t}}let ku=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new _u,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Eu("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Eu("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(Fo(bl),Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class _u{constructor(){this.$implicit=null,this.ngIf=null}}function Eu(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${we(t)}'.`)}class Iu{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Tu=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++)this._defaultViews[t].enforceState(e)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),e})(),Fu=(()=>{class e{constructor(e,t,i){this.ngSwitch=i,i._addCase(),this._view=new Iu(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(Fo(bl),Fo(ml),Fo(Tu,1))},e.\u0275dir=yt({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),e})(),Du=(()=>{class e{constructor(e,t,i){i._addDefault(new Iu(e,t))}}return e.\u0275fac=function(t){return new(t||e)(Fo(bl),Fo(ml),Fo(Tu,1))},e.\u0275dir=yt({type:e,selectors:[["","ngSwitchDefault",""]]}),e})(),Au=(()=>{class e{constructor(e,t,i){this._ngEl=e,this._differs=t,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,t){const[i,n]=e.split(".");null!=(t=null!=t&&n?`${t}${n}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,i,t):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(dl),Fo(Ya))},e.\u0275dir=yt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),e})(),Ou=(()=>{class e{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),i=Object.keys(e.currentValue||{});if(t.length===i.length){for(let e of i)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}return e.\u0275fac=function(t){return new(t||e)(Fo(bl))},e.\u0275dir=yt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Oa]}),e})(),Ru=(()=>{class e{constructor(e){this.locale=e}transform(t,i="mediumDate",n,s){if(null==t||""===t||t!=t)return null;try{return function(e,t,i,n){let s=function(e){if(mu(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,i,n]=e.split("-").map(e=>+e);return new Date(t,i-1,n)}let i;if(i=e.match(iu))return function(e){const t=new Date(0);let i=0,n=0;const s=e[8]?t.setUTCFullYear:t.setFullYear,r=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=Number(e[9]+e[10]),n=Number(e[9]+e[11])),s.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-i,a=Number(e[5]||0)-n,l=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return r.call(t,o,a,l,c),t}(i)}const t=new Date(e);if(!mu(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,i){const n=function(e){return Fl(e)[Al.LocaleId]}(t);if(nu[n]=nu[n]||{},nu[n][i])return nu[n][i];let s="";switch(i){case"shortDate":s=Zh(t,Kh.Short);break;case"mediumDate":s=Zh(t,Kh.Medium);break;case"longDate":s=Zh(t,Kh.Long);break;case"fullDate":s=Zh(t,Kh.Full);break;case"shortTime":s=Yh(t,Kh.Short);break;case"mediumTime":s=Yh(t,Kh.Medium);break;case"longTime":s=Yh(t,Kh.Long);break;case"fullTime":s=Yh(t,Kh.Full);break;case"short":const i=e(t,"shortTime"),n=e(t,"shortDate");s=lu(Qh(t,Kh.Short),[i,n]);break;case"medium":const r=e(t,"mediumTime"),o=e(t,"mediumDate");s=lu(Qh(t,Kh.Medium),[r,o]);break;case"long":const a=e(t,"longTime"),l=e(t,"longDate");s=lu(Qh(t,Kh.Long),[a,l]);break;case"full":const c=e(t,"fullTime"),h=e(t,"fullDate");s=lu(Qh(t,Kh.Full),[c,h])}return s&&(nu[n][i]=s),s}(i,t)||t;let r,o=[];for(;t;){if(r=su.exec(t),!r){o.push(t);break}{o=o.concat(r.slice(1));const e=o.pop();if(!e)break;t=e}}let a=s.getTimezoneOffset();n&&(a=gu(n,a),s=function(e,t,i){const n=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(gu(t,n)-n))}(s,n));let l="";return o.forEach(e=>{const t=function(e){if(fu[e])return fu[e];let t;switch(e){case"G":case"GG":case"GGG":t=uu(au.Eras,Gh.Abbreviated);break;case"GGGG":t=uu(au.Eras,Gh.Wide);break;case"GGGGG":t=uu(au.Eras,Gh.Narrow);break;case"y":t=hu(ou.FullYear,1,0,!1,!0);break;case"yy":t=hu(ou.FullYear,2,0,!0,!0);break;case"yyy":t=hu(ou.FullYear,3,0,!1,!0);break;case"yyyy":t=hu(ou.FullYear,4,0,!1,!0);break;case"M":case"L":t=hu(ou.Month,1,1);break;case"MM":case"LL":t=hu(ou.Month,2,1);break;case"MMM":t=uu(au.Months,Gh.Abbreviated);break;case"MMMM":t=uu(au.Months,Gh.Wide);break;case"MMMMM":t=uu(au.Months,Gh.Narrow);break;case"LLL":t=uu(au.Months,Gh.Abbreviated,qh.Standalone);break;case"LLLL":t=uu(au.Months,Gh.Wide,qh.Standalone);break;case"LLLLL":t=uu(au.Months,Gh.Narrow,qh.Standalone);break;case"w":t=pu(1);break;case"ww":t=pu(2);break;case"W":t=pu(1,!0);break;case"d":t=hu(ou.Date,1);break;case"dd":t=hu(ou.Date,2);break;case"E":case"EE":case"EEE":t=uu(au.Days,Gh.Abbreviated);break;case"EEEE":t=uu(au.Days,Gh.Wide);break;case"EEEEE":t=uu(au.Days,Gh.Narrow);break;case"EEEEEE":t=uu(au.Days,Gh.Short);break;case"a":case"aa":case"aaa":t=uu(au.DayPeriods,Gh.Abbreviated);break;case"aaaa":t=uu(au.DayPeriods,Gh.Wide);break;case"aaaaa":t=uu(au.DayPeriods,Gh.Narrow);break;case"b":case"bb":case"bbb":t=uu(au.DayPeriods,Gh.Abbreviated,qh.Standalone,!0);break;case"bbbb":t=uu(au.DayPeriods,Gh.Wide,qh.Standalone,!0);break;case"bbbbb":t=uu(au.DayPeriods,Gh.Narrow,qh.Standalone,!0);break;case"B":case"BB":case"BBB":t=uu(au.DayPeriods,Gh.Abbreviated,qh.Format,!0);break;case"BBBB":t=uu(au.DayPeriods,Gh.Wide,qh.Format,!0);break;case"BBBBB":t=uu(au.DayPeriods,Gh.Narrow,qh.Format,!0);break;case"h":t=hu(ou.Hours,1,-12);break;case"hh":t=hu(ou.Hours,2,-12);break;case"H":t=hu(ou.Hours,1);break;case"HH":t=hu(ou.Hours,2);break;case"m":t=hu(ou.Minutes,1);break;case"mm":t=hu(ou.Minutes,2);break;case"s":t=hu(ou.Seconds,1);break;case"ss":t=hu(ou.Seconds,2);break;case"S":t=hu(ou.FractionalSeconds,1);break;case"SS":t=hu(ou.FractionalSeconds,2);break;case"SSS":t=hu(ou.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=du(ru.Short);break;case"ZZZZZ":t=du(ru.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=du(ru.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=du(ru.Long);break;default:return null}return fu[e]=t,t}(e);l+=t?t(s,i,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}(t,i,s||this.locale,n)}catch(r){throw function(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${we(e)}'`)}(e,r.message)}}}return e.\u0275fac=function(t){return new(t||e)(Fo(Mc))},e.\u0275pipe=wt({name:"date",type:e,pure:!0}),e})(),Pu=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:vu,useClass:bu}]}),e})(),Mu=(()=>{class e{}return e.\u0275prov=he({token:e,providedIn:"root",factory:()=>new Nu(We(Eh),window,We(un))}),e})();class Nu{constructor(e,t,i){this.document=e,this.window=t,this.errorHandler=i,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);const i=this.document.querySelector(`[name='${e}']`);if(i)return void this.scrollToElement(i)}catch(t){this.errorHandler.handleError(t)}}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,n=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],n-s[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}class Lu extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Lu,kh||(kh=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Hu||(Hu=document.querySelector("base"),Hu)?Hu.getAttribute("href"):null;return null==t?null:(i=t,Vu||(Vu=document.createElement("a")),Vu.setAttribute("href",i),"/"===Vu.pathname.charAt(0)?Vu.pathname:"/"+Vu.pathname);var i}resetBaseElement(){Hu=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return yu(document.cookie,e)}}let Vu,Hu=null;const Bu=new Ve("TRANSITION_ID"),zu=[{provide:Ec,useFactory:function(e,t,i){return()=>{i.get(Ic).donePromise.then(()=>{const i=_h();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>i.remove(e))})}},deps:[Bu,Eh,oo],multi:!0}];class ju{static init(){!function(e){oh=e}(new ju)}addToWindow(e){De.getAngularTestability=(t,i=!0)=>{const n=e.findTestabilityInTree(t,i);if(null==n)throw new Error("Could not find testability for element.");return n},De.getAllAngularTestabilities=()=>e.getAllTestabilities(),De.getAllAngularRootElements=()=>e.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(e=>{const t=De.getAllAngularTestabilities();let i=t.length,n=!1;const s=function(t){n=n||t,i--,0==i&&e(n)};t.forEach((function(e){e.whenStable(s)}))})}findTestabilityInTree(e,t,i){if(null==t)return null;const n=e.getTestability(t);return null!=n?n:i?_h().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const Uu=new Ve("EventManagerPlugins");let $u=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,i){return this._findPluginFor(t).addEventListener(e,t,i)}addGlobalEventListener(e,t,i){return this._findPluginFor(t).addGlobalEventListener(e,t,i)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const i=this._plugins;for(let n=0;n<i.length;n++){const t=i[n];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(We(Uu),We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class qu{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const n=_h().getGlobalEventTarget(this._doc,e);if(!n)throw new Error(`Unsupported event target ${n} for event ${t}`);return this.addEventListener(n,t,i)}}let Gu=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Ku=(()=>{class e extends Gu{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const i=this._doc.createElement("style");i.textContent=e,this._styleNodes.add(t.appendChild(i))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>_h().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(We(Eh))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Wu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zu=/%COMP%/g;function Yu(e,t,i){for(let n=0;n<t.length;n++){let s=t[n];Array.isArray(s)?Yu(e,s,i):(s=s.replace(Zu,e),i.push(s))}return i}function Qu(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ju=(()=>{class e{constructor(e,t,i){this.eventManager=e,this.sharedStylesHost=t,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Xu(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case ct.Emulated:{let i=this.rendererByCompId.get(t.id);return i||(i=new ed(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,i)),i.applyToHost(e),i}case ct.Native:case ct.ShadowDom:return new td(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Yu(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(We($u),We(Ku),We(Tc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class Xu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Wu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,n){if(n){t=n+":"+t;const s=Wu[n];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const n=Wu[i];n?e.removeAttributeNS(n,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,n){n&Za.DashCase?e.style.setProperty(t,i,n&Za.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Za.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Qu(i)):this.eventManager.addEventListener(e,t,Qu(i))}}class ed extends Xu{constructor(e,t,i,n){super(e),this.component=i;const s=Yu(n+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr="_ngcontent-%COMP%".replace(Zu,n+"-"+i.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Zu,e)}(n+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class td extends Xu{constructor(e,t,i,n){super(e),this.sharedStylesHost=t,this.hostEl=i,this.component=n,this.shadowRoot=n.encapsulation===ct.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=Yu(n.id,n.styles,[]);for(let r=0;r<s.length;r++){const e=document.createElement("style");e.textContent=s[r],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let id=(()=>{class e extends qu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,i){return e.addEventListener(t,i,!1),()=>this.removeEventListener(e,t,i)}removeEventListener(e,t,i){return e.removeEventListener(t,i)}}return e.\u0275fac=function(t){return new(t||e)(We(Eh))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const nd=["alt","control","meta","shift"],sd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rd={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},od={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let ad=(()=>{class e extends qu{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,i,n){const s=e.parseEventName(i),r=e.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_h().onAndCancel(t,s.domEventName,r))}static parseEventName(t){const i=t.toLowerCase().split("."),n=i.shift();if(0===i.length||"keydown"!==n&&"keyup"!==n)return null;const s=e._normalizeKey(i.pop());let r="";if(nd.forEach(e=>{const t=i.indexOf(e);t>-1&&(i.splice(t,1),r+=e+".")}),r+=s,0!=i.length||0===s.length)return null;const o={};return o.domEventName=n,o.fullKey=r,o}static getEventFullKey(e){let t="",i=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&rd.hasOwnProperty(t)&&(t=rd[t]))}return sd[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),nd.forEach(n=>{n!=i&&(0,od[n])(e)&&(t+=n+".")}),t+=i,t}static eventCallback(t,i,n){return s=>{e.getEventFullKey(s)===t&&n.runGuarded(()=>i(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(We(Eh))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),ld=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({factory:function(){return We(cd)},token:e,providedIn:"root"}),e})(),cd=(()=>{class e extends ld{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Gn.NONE:return t;case Gn.HTML:return yn(t,"HTML")?bn(t):$n(this._doc,String(t));case Gn.STYLE:return yn(t,"Style")?bn(t):function(e){if(!(e=String(e).trim()))return"";const t=e.match(Wn);return t&&In(t[1])===t[1]||e.match(Kn)&&function(e){let t=!0,i=!0;for(let n=0;n<e.length;n++){const s=e.charAt(n);"'"===s&&i?t=!t:'"'===s&&t&&(i=!i)}return t&&i}(e)?e:(Sn()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}(t);case Gn.SCRIPT:if(yn(t,"Script"))return bn(t);throw new Error("unsafe value used in a script context");case Gn.URL:return wn(t),yn(t,"URL")?bn(t):In(String(t));case Gn.RESOURCE_URL:if(yn(t,"ResourceURL"))return bn(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new pn(e)}bypassSecurityTrustStyle(e){return new fn(e)}bypassSecurityTrustScript(e){return new gn(e)}bypassSecurityTrustUrl(e){return new mn(e)}bypassSecurityTrustResourceUrl(e){return new vn(e)}}return e.\u0275fac=function(t){return new(t||e)(We(Eh))},e.\u0275prov=he({factory:function(){return e=We(He),new cd(e.get(Eh));var e},token:e,providedIn:"root"}),e})();const hd=hh(Ch,"browser",[{provide:Oc,useValue:"browser"},{provide:Ac,useValue:function(){Lu.makeCurrent(),ju.init()},multi:!0},{provide:Eh,useFactory:function(){return function(e){At=e}(document),document},deps:[]}]),ud=[[],{provide:Gr,useValue:"root"},{provide:un,useFactory:function(){return new un},deps:[]},{provide:Uu,useClass:id,multi:!0,deps:[Eh,Wc,Oc]},{provide:Uu,useClass:ad,multi:!0,deps:[Eh]},[],{provide:Ju,useClass:Ju,deps:[$u,Ku,Tc]},{provide:Wa,useExisting:Ju},{provide:Gu,useExisting:Ku},{provide:Ku,useClass:Ku,deps:[Eh]},{provide:ih,useClass:ih,deps:[Wc]},{provide:$u,useClass:$u,deps:[Uu,Wc]},[]];let dd=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Tc,useValue:t.appId},{provide:Bu,useExisting:Tc},zu]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(We(e,12))},providers:ud,imports:[Pu,Sh]}),e})();"undefined"!=typeof window&&window;class pd{}function fd(e,t){return{type:7,name:e,definitions:t,options:{}}}function gd(e,t=null){return{type:4,styles:t,timings:e}}function md(e,t=null){return{type:2,steps:e,options:t}}function vd(e){return{type:6,styles:e,offset:null}}function bd(e,t,i){return{type:0,name:e,styles:t,options:i}}function yd(e,t,i=null){return{type:1,expr:e,animation:t,options:i}}function wd(e){Promise.resolve(null).then(e)}class Cd{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class xd{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,n=0;const s=this.players.length;0==s?wd(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==s&&this._onFinish()}),e.onDestroy(()=>{++i==s&&this._onDestroy()}),e.onStart(()=>{++n==s&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const i=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(i)})}getPosition(){let e=0;return this.players.forEach(t=>{const i=t.getPosition();e=Math.min(i,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function Sd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function kd(e){switch(e.length){case 0:return new Cd;case 1:return e[0];default:return new xd(e)}}function _d(e,t,i,n,s={},r={}){const o=[],a=[];let l=-1,c=null;if(n.forEach(e=>{const i=e.offset,n=i==l,h=n&&c||{};Object.keys(e).forEach(i=>{let n=i,a=e[i];if("offset"!==i)switch(n=t.normalizePropertyName(n,o),a){case"!":a=s[i];break;case"*":a=r[i];break;default:a=t.normalizeStyleValue(i,n,a,o)}h[n]=a}),n||a.push(h),c=h,l=i}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function Ed(e,t,i,n){switch(t){case"start":e.onStart(()=>n(i&&Id(i,"start",e)));break;case"done":e.onDone(()=>n(i&&Id(i,"done",e)));break;case"destroy":e.onDestroy(()=>n(i&&Id(i,"destroy",e)))}}function Id(e,t,i){const n=i.totalTime,s=Td(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==n?e.totalTime:n,!!i.disabled),r=e._data;return null!=r&&(s._data=r),s}function Td(e,t,i,n,s="",r=0,o){return{element:e,triggerName:t,fromState:i,toState:n,phaseName:s,totalTime:r,disabled:!!o}}function Fd(e,t,i){let n;return e instanceof Map?(n=e.get(t),n||e.set(t,n=i)):(n=e[t],n||(n=e[t]=i)),n}function Dd(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Ad=(e,t)=>!1,Od=(e,t)=>!1,Rd=(e,t,i)=>[];const Pd=Sd();(Pd||"undefined"!=typeof Element)&&(Ad=(e,t)=>e.contains(t),Od=(()=>{if(Pd||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,i)=>t.apply(e,[i]):Od}})(),Rd=(e,t,i)=>{let n=[];if(i)n.push(...e.querySelectorAll(t));else{const i=e.querySelector(t);i&&n.push(i)}return n});let Md=null,Nd=!1;function Ld(e){Md||(Md=("undefined"!=typeof document?document.body:null)||{},Nd=!!Md.style&&"WebkitAppearance"in Md.style);let t=!0;return Md.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Md.style,!t&&Nd)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Md.style),t}const Vd=Od,Hd=Ad,Bd=Rd;function zd(e){const t={};return Object.keys(e).forEach(i=>{const n=i.replace(/([a-z])([A-Z])/g,"$1-$2");t[n]=e[i]}),t}let jd=(()=>{class e{validateStyleProperty(e){return Ld(e)}matchesElement(e,t){return Vd(e,t)}containsElement(e,t){return Hd(e,t)}query(e,t,i){return Bd(e,t,i)}computeStyle(e,t,i){return i||""}animate(e,t,i,n,s,r=[],o){return new Cd(i,n)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Ud=(()=>{class e{}return e.NOOP=new jd,e})();function $d(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:qd(parseFloat(t[1]),t[2])}function qd(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Gd(e,t,i){return e.hasOwnProperty("duration")?e:function(e,t,i){let n,s=0,r="";if("string"==typeof e){const i=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===i)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};n=qd(parseFloat(i[1]),i[2]);const o=i[3];null!=o&&(s=qd(parseFloat(o),i[4]));const a=i[5];a&&(r=a)}else n=e;if(!i){let i=!1,r=t.length;n<0&&(t.push("Duration values below 0 are not allowed for this animation step."),i=!0),s<0&&(t.push("Delay values below 0 are not allowed for this animation step."),i=!0),i&&t.splice(r,0,`The provided timing value "${e}" is invalid.`)}return{duration:n,delay:s,easing:r}}(e,t,i)}function Kd(e,t={}){return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}function Wd(e,t,i={}){if(t)for(let n in e)i[n]=e[n];else Kd(e,i);return i}function Zd(e,t,i){return i?t+":"+i+";":""}function Yd(e){let t="";for(let i=0;i<e.style.length;i++){const n=e.style.item(i);t+=Zd(0,n,e.style.getPropertyValue(n))}for(const i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=Zd(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function Qd(e,t,i){e.style&&(Object.keys(t).forEach(n=>{const s=rp(n);i&&!i.hasOwnProperty(n)&&(i[n]=e.style[s]),e.style[s]=t[n]}),Sd()&&Yd(e))}function Jd(e,t){e.style&&(Object.keys(t).forEach(t=>{const i=rp(t);e.style[i]=""}),Sd()&&Yd(e))}function Xd(e){return Array.isArray(e)?1==e.length?e[0]:md(e):e}const ep=new RegExp("{{\\s*(.+?)\\s*}}","g");function tp(e){let t=[];if("string"==typeof e){let i;for(;i=ep.exec(e);)t.push(i[1]);ep.lastIndex=0}return t}function ip(e,t,i){const n=e.toString(),s=n.replace(ep,(e,n)=>{let s=t[n];return t.hasOwnProperty(n)||(i.push("Please provide a value for the animation param "+n),s=""),s.toString()});return s==n?e:s}function np(e){const t=[];let i=e.next();for(;!i.done;)t.push(i.value),i=e.next();return t}const sp=/-+([a-z0-9])/g;function rp(e){return e.replace(sp,(...e)=>e[1].toUpperCase())}function op(e,t){return 0===e||0===t}function ap(e,t,i){const n=Object.keys(i);if(n.length&&t.length){let r=t[0],o=[];if(n.forEach(e=>{r.hasOwnProperty(e)||o.push(e),r[e]=i[e]}),o.length)for(var s=1;s<t.length;s++){let i=t[s];o.forEach((function(t){i[t]=cp(e,t)}))}}return t}function lp(e,t,i){switch(t.type){case 7:return e.visitTrigger(t,i);case 0:return e.visitState(t,i);case 1:return e.visitTransition(t,i);case 2:return e.visitSequence(t,i);case 3:return e.visitGroup(t,i);case 4:return e.visitAnimate(t,i);case 5:return e.visitKeyframes(t,i);case 6:return e.visitStyle(t,i);case 8:return e.visitReference(t,i);case 9:return e.visitAnimateChild(t,i);case 10:return e.visitAnimateRef(t,i);case 11:return e.visitQuery(t,i);case 12:return e.visitStagger(t,i);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function cp(e,t){return window.getComputedStyle(e)[t]}function hp(e,t){const i=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,i){if(":"==e[0]){const n=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,i);if("function"==typeof n)return void t.push(n);e=n}const n=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==n||n.length<4)return i.push(`The provided transition expression "${e}" is not supported`),t;const s=n[1],r=n[2],o=n[3];t.push(pp(s,o)),"<"!=r[0]||"*"==s&&"*"==o||t.push(pp(o,s))}(e,i,t)):i.push(e),i}const up=new Set(["true","1"]),dp=new Set(["false","0"]);function pp(e,t){const i=up.has(e)||dp.has(e),n=up.has(t)||dp.has(t);return(s,r)=>{let o="*"==e||e==s,a="*"==t||t==r;return!o&&i&&"boolean"==typeof s&&(o=s?up.has(e):dp.has(e)),!a&&n&&"boolean"==typeof r&&(a=r?up.has(t):dp.has(t)),o&&a}}const fp=new RegExp("s*:selfs*,?","g");function gp(e,t,i){return new mp(e).build(t,i)}class mp{constructor(e){this._driver=e}build(e,t){const i=new vp(t);return this._resetContextStyleTimingState(i),lp(this,Xd(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,n=t.depCount=0;const s=[],r=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const i=e,n=i.name;n.toString().split(/\s*,\s*/).forEach(e=>{i.name=e,s.push(this.visitState(i,t))}),i.name=n}else if(1==e.type){const s=this.visitTransition(e,t);i+=s.queryCount,n+=s.depCount,r.push(s)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:s,transitions:r,queryCount:i,depCount:n,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),n=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,r=n||{};if(i.styles.forEach(e=>{if(bp(e)){const t=e;Object.keys(t).forEach(e=>{tp(t[e]).forEach(e=>{r.hasOwnProperty(e)||s.add(e)})})}}),s.size){const i=np(s.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${i.join(", ")}`)}}return{type:0,name:e.name,style:i,options:n?{params:n}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=lp(this,Xd(e.animation),t);return{type:1,matchers:hp(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:yp(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>lp(this,e,t)),options:yp(e.options)}}visitGroup(e,t){const i=t.currentTime;let n=0;const s=e.steps.map(e=>{t.currentTime=i;const s=lp(this,e,t);return n=Math.max(n,t.currentTime),s});return t.currentTime=n,{type:3,steps:s,options:yp(e.options)}}visitAnimate(e,t){const i=function(e,t){let i=null;if(e.hasOwnProperty("duration"))i=e;else if("number"==typeof e)return wp(Gd(e,t).duration,0,"");const n=e;if(n.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=wp(0,0,"");return e.dynamic=!0,e.strValue=n,e}return i=i||Gd(n,t),wp(i.duration,i.delay,i.easing)}(e.timings,t.errors);let n;t.currentAnimateTimings=i;let s=e.styles?e.styles:vd({});if(5==s.type)n=this.visitKeyframes(s,t);else{let s=e.styles,r=!1;if(!s){r=!0;const e={};i.easing&&(e.easing=i.easing),s=vd(e)}t.currentTime+=i.duration+i.delay;const o=this.visitStyle(s,t);o.isEmptyStep=r,n=o}return t.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?i.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):i.push(e)}):i.push(e.styles);let n=!1,s=null;return i.forEach(e=>{if(bp(e)){const t=e,i=t.easing;if(i&&(s=i,delete t.easing),!n)for(let e in t)if(t[e].toString().indexOf("{{")>=0){n=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:n,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let n=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(i=>{if(!this._driver.validateStyleProperty(i))return void t.errors.push(`The provided animation property "${i}" is not a supported CSS property for animations`);const r=t.collectedStyles[t.currentQuerySelector],o=r[i];let a=!0;o&&(s!=n&&s>=o.startTime&&n<=o.endTime&&(t.errors.push(`The CSS property "${i}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${s}ms" and "${n}ms"`),a=!1),s=o.startTime),a&&(r[i]={startTime:s,endTime:n}),t.options&&function(e,t,i){const n=t.params||{},s=tp(e);s.length&&s.forEach(e=>{n.hasOwnProperty(e)||i.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[i],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),i;let n=0;const s=[];let r=!1,o=!1,a=0;const l=e.steps.map(e=>{const i=this._makeStyleAst(e,t);let l=null!=i.offset?i.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(bp(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(bp(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}return t}(i.styles),c=0;return null!=l&&(n++,c=i.offset=l),o=o||c<0||c>1,r=r||c<a,a=c,s.push(c),i});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),r&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let h=0;n>0&&n<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==n&&(h=1/(c-1));const u=c-1,d=t.currentTime,p=t.currentAnimateTimings,f=p.duration;return l.forEach((e,n)=>{const r=h>0?n==u?1:h*n:s[n],o=r*f;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=r,i.styles.push(e)}),i}visitReference(e,t){return{type:8,animation:lp(this,Xd(e.animation),t),options:yp(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:yp(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:yp(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,n=e.options||{};t.queryCount++,t.currentQuery=e;const[s,r]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(fp,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Fd(t.collectedStyles,t.currentQuerySelector,{});const o=lp(this,Xd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:o,originalSelector:e.selector,options:yp(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Gd(e.timings,t.errors,!0);return{type:12,animation:lp(this,Xd(e.animation),t),timings:i,options:null}}}class vp{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function bp(e){return!Array.isArray(e)&&"object"==typeof e}function yp(e){var t;return e?(e=Kd(e)).params&&(e.params=(t=e.params)?Kd(t):null):e={},e}function wp(e,t,i){return{duration:e,delay:t,easing:i}}function Cp(e,t,i,n,s,r,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:i,postStyleProps:n,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}class xp{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Sp=new RegExp(":enter","g"),kp=new RegExp(":leave","g");function _p(e,t,i,n,s,r={},o={},a,l,c=[]){return(new Ep).buildKeyframes(e,t,i,n,s,r,o,a,l,c)}class Ep{buildKeyframes(e,t,i,n,s,r,o,a,l,c=[]){l=l||new xp;const h=new Tp(e,t,l,n,s,c,[]);h.options=a,h.currentTimeline.setStyles([r],null,h.errors,a),lp(this,i,h);const u=h.timelines.filter(e=>e.containsAnimation());if(u.length&&Object.keys(o).length){const e=u[u.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,h.errors,a)}return u.length?u.map(e=>e.buildKeyframes()):[Cp(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.consume(t.element);if(i){const n=t.createSubContext(e.options),s=t.currentTimeline.currentTime,r=this._visitSubInstructions(i,n,n.options);s!=r&&t.transformIntoNewTimeline(r)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let n=t.currentTimeline.currentTime;const s=null!=i.duration?$d(i.duration):null,r=null!=i.delay?$d(i.delay):null;return 0!==s&&e.forEach(e=>{const i=t.appendInstructionToTimeline(e,s,r);n=Math.max(n,i.duration+i.delay)}),n}visitReference(e,t){t.updateOptions(e.options,!0),lp(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let n=t;const s=e.options;if(s&&(s.params||s.delay)&&(n=t.createSubContext(s),n.transformIntoNewTimeline(),null!=s.delay)){6==n.previousNode.type&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ip);const e=$d(s.delay);n.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>lp(this,e,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let n=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?$d(e.options.delay):0;e.steps.forEach(r=>{const o=t.createSubContext(e.options);s&&o.delayNextStep(s),lp(this,r,o),n=Math.max(n,o.currentTimeline.currentTime),i.push(o.currentTimeline)}),i.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(n),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Gd(t.params?ip(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),n=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),n.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),n.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,n=t.currentAnimateTimings;!n&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=n&&n.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,n=t.currentTimeline.duration,s=i.duration,r=t.createSubContext().currentTimeline;r.easing=i.easing,e.styles.forEach(e=>{r.forwardTime((e.offset||0)*s),r.setStyles(e.styles,e.easing,t.errors,t.options),r.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(r),t.transformIntoNewTimeline(n+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,n=e.options||{},s=n.delay?$d(n.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ip);let r=i;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!n.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((i,n)=>{t.currentQueryIndex=n;const o=t.createSubContext(e.options,i);s&&o.delayNextStep(s),i===t.element&&(a=o.currentTimeline),lp(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe(),r=Math.max(r,o.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(r),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,n=t.currentTimeline,s=e.timings,r=Math.abs(s.duration),o=r*(t.currentQueryTotal-1);let a=r*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":a=o-a;break;case"full":a=i.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;lp(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=n.currentTime-c+(n.startTime-i.currentTimeline.startTime)}}const Ip={};class Tp{constructor(e,t,i,n,s,r,o,a){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=s,this.errors=r,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ip,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Fp(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let n=this.options;null!=i.duration&&(n.duration=$d(i.duration)),null!=i.delay&&(n.delay=$d(i.delay));const s=i.params;if(s){let e=n.params;e||(e=this.options.params={}),Object.keys(s).forEach(i=>{t&&e.hasOwnProperty(i)||(e[i]=ip(s[i],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(e=>{i[e]=t[e]})}}return e}createSubContext(e=null,t,i){const n=t||this.element,s=new Tp(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ip,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const n={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new Dp(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,n,e.stretchStartingKeyframe);return this.timelines.push(s),n}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,n,s,r){let o=[];if(n&&o.push(this.element),e.length>0){e=(e=e.replace(Sp,"."+this._enterClassName)).replace(kp,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=i);0!==i&&(t=i<0?t.slice(t.length+i,t.length):t.slice(0,i)),o.push(...t)}return s||0!=o.length||r.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class Fp{constructor(e,t,i,n){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=n,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Fp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,n){t&&(this._previousKeyframe.easing=t);const s=n&&n.params||{},r=function(e,t){const i={};let n;return e.forEach(e=>{"*"===e?(n=n||Object.keys(t),n.forEach(e=>{i[e]="*"})):Wd(e,!1,i)}),i}(e,this._globalTimelineStyles);Object.keys(r).forEach(e=>{const t=ip(r[e],s,i);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],n=e._styleSummary[t];(!i||n.time>i.time)&&this._updateStyle(t,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let n=[];this._keyframes.forEach((s,r)=>{const o=Wd(s,!0);Object.keys(o).forEach(i=>{const n=o[i];"!"==n?e.add(i):"*"==n&&t.add(i)}),i||(o.offset=r/this.duration),n.push(o)});const s=e.size?np(e.values()):[],r=t.size?np(t.values()):[];if(i){const e=n[0],t=Kd(e);e.offset=0,t.offset=1,n=[e,t]}return Cp(this.element,n,s,r,this.duration,this.startTime,this.easing,!1)}}class Dp extends Fp{constructor(e,t,i,n,s,r,o=!1){super(e,t,r.delay),this.element=t,this.keyframes=i,this.preStyleProps=n,this.postStyleProps=s,this._stretchStartingKeyframe=o,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],r=i+t,o=t/r,a=Wd(e[0],!1);a.offset=0,s.push(a);const l=Wd(e[0],!1);l.offset=Ap(o),s.push(l);const c=e.length-1;for(let n=1;n<=c;n++){let o=Wd(e[n],!1);o.offset=Ap((t+o.offset*i)/r),s.push(o)}i=r,t=0,n="",e=s}return Cp(this.element,e,this.preStyleProps,this.postStyleProps,i,t,n,!0)}}function Ap(e,t=3){const i=Math.pow(10,t-1);return Math.round(e*i)/i}class Op{}class Rp extends Op{normalizePropertyName(e,t){return rp(e)}normalizeStyleValue(e,t,i,n){let s="";const r=i.toString().trim();if(Pp[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const t=i.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&n.push(`Please provide a CSS unit value for ${e}:${i}`)}return r+s}}const Pp=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Mp(e,t,i,n,s,r,o,a,l,c,h,u,d){return{type:0,element:e,triggerName:t,isRemovalTransition:s,fromState:i,fromStyles:r,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:d}}const Np={};class Lp{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,n){return function(e,t,i,n,s){return e.some(e=>e(t,i,n,s))}(this.ast.matchers,e,t,i,n)}buildStyles(e,t,i){const n=this._stateStyles["*"],s=this._stateStyles[e],r=n?n.buildStyles(t,i):{};return s?s.buildStyles(t,i):r}build(e,t,i,n,s,r,o,a,l,c){const h=[],u=this.ast.options&&this.ast.options.params||Np,d=this.buildStyles(i,o&&o.params||Np,h),p=a&&a.params||Np,f=this.buildStyles(n,p,h),g=new Set,m=new Map,v=new Map,b="void"===n,y={params:Object.assign(Object.assign({},u),p)},w=c?[]:_p(e,t,this.ast.animation,s,r,d,f,y,l,h);let C=0;if(w.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),h.length)return Mp(t,this._triggerName,i,n,b,d,f,[],[],m,v,C,h);w.forEach(e=>{const i=e.element,n=Fd(m,i,{});e.preStyleProps.forEach(e=>n[e]=!0);const s=Fd(v,i,{});e.postStyleProps.forEach(e=>s[e]=!0),i!==t&&g.add(i)});const x=np(g.values());return Mp(t,this._triggerName,i,n,b,d,f,w,x,m,v,C)}}class Vp{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const i={},n=Kd(this.defaultParams);return Object.keys(e).forEach(t=>{const i=e[t];null!=i&&(n[t]=i)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const s=e;Object.keys(s).forEach(e=>{let r=s[e];r.length>1&&(r=ip(r,n,t)),i[e]=r})}}),i}}class Hp{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Vp(e.style,e.options&&e.options.params||{})}),Bp(this.states,"true","1"),Bp(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Lp(e,t,this.states))}),this.fallbackTransition=new Lp(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,n){return this.transitionFactories.find(s=>s.match(e,t,i,n))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Bp(e,t,i){e.hasOwnProperty(t)?e.hasOwnProperty(i)||(e[i]=e[t]):e.hasOwnProperty(i)&&(e[t]=e[i])}const zp=new xp;class jp{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],n=gp(this._driver,t,i);if(i.length)throw new Error("Unable to build the animation due to the following errors: "+i.join("\n"));this._animations[e]=n}_buildPlayer(e,t,i){const n=e.element,s=_d(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(n,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const n=[],s=this._animations[e];let r;const o=new Map;if(s?(r=_p(this._driver,t,s,"ng-enter","ng-leave",{},{},i,zp,n),r.forEach(e=>{const t=Fd(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(n.push("The requested animation doesn't exist or has already been destroyed"),r=[]),n.length)throw new Error("Unable to create the animation due to the following errors: "+n.join("\n"));o.forEach((e,t)=>{Object.keys(e).forEach(i=>{e[i]=this._driver.computeStyle(t,i,"*")})});const a=kd(r.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,i,n){const s=Td(t,"","","");return Ed(this._getPlayer(e),i,s,n),()=>{}}command(e,t,i,n){if("register"==i)return void this.register(e,n[0]);if("create"==i)return void this.create(e,t,n[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(e)}}}const Up=[],$p={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},qp={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Gp{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=null!=(n=i?e.value:e)?n:null,i){const t=Kd(e);delete t.value,this.options=t}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(i=>{null==e[i]&&(e[i]=t[i])})}}}const Kp=new Gp("void");class Wp{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,tf(t,this._hostClassName)}listen(e,t,i,n){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${i}" because the animation trigger "${t}" doesn't exist!`);if(null==i||0==i.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(s=i)&&"done"!=s)throw new Error(`The provided animation trigger event "${i}" for the animation trigger "${t}" is not supported!`);var s;const r=Fd(this._elementListeners,e,[]),o={name:t,phase:i,callback:n};r.push(o);const a=Fd(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(tf(e,"ng-trigger"),tf(e,"ng-trigger-"+t),a[t]=Kp),()=>{this._engine.afterFlush(()=>{const e=r.indexOf(o);e>=0&&r.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,i,n=!0){const s=this._getTrigger(t),r=new Yp(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(tf(e,"ng-trigger"),tf(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new Gp(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=Kp),"void"!==l.value&&a.value===l.value){if(!function(e,t){const i=Object.keys(e),n=Object.keys(t);if(i.length!=n.length)return!1;for(let s=0;s<i.length;s++){const n=i[s];if(!t.hasOwnProperty(n)||e[n]!==t[n])return!1}return!0}(a.params,l.params)){const t=[],i=s.matchStyles(a.value,a.params,t),n=s.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Jd(e,i),Qd(e,n)})}return}const c=Fd(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let h=s.matchTransition(a.value,l.value,e,l.params),u=!1;if(!h){if(!n)return;h=s.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:a,toState:l,player:r,isFallbackTransition:u}),u||(tf(e,"ng-animate-queued"),r.onStart(()=>{nf(e,"ng-animate-queued")})),r.onDone(()=>{let t=this.players.indexOf(r);t>=0&&this.players.splice(t,1);const i=this._engine.playersByElement.get(e);if(i){let e=i.indexOf(r);e>=0&&i.splice(e,1)}}),this.players.push(r),c.push(r),r}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,".ng-trigger",!0);i.forEach(e=>{if(e.__ng_removed)return;const i=this._engine.fetchNamespacesByElement(e);i.size?i.forEach(i=>i.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,i,n){const s=this._engine.statesByElement.get(e);if(s){const r=[];if(Object.keys(s).forEach(t=>{if(this._triggers[t]){const i=this.trigger(e,t,"void",n);i&&r.push(i)}}),r.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),i&&kd(r).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const i=new Set;t.forEach(t=>{const n=t.name;if(i.has(n))return;i.add(n);const s=this._triggers[n].fallbackTransition,r=this._engine.statesByElement.get(e)[n]||Kp,o=new Gp("void"),a=new Yp(this.id,n,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:s,fromState:r,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let n=!1;if(i.totalAnimations){const t=i.players.length?i.playersByQueriedElement.get(e):[];if(t&&t.length)n=!0;else{let t=e;for(;t=t.parentNode;)if(i.statesByElement.get(t)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(e),n)i.markElementAsRemoved(this.id,e,!1,t);else{const n=e.__ng_removed;n&&n!==$p||(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){tf(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const n=i.player;if(n.destroyed)return;const s=i.element,r=this._elementListeners.get(s);r&&r.forEach(t=>{if(t.name==i.triggerName){const n=Td(s,i.triggerName,i.fromState.value,i.toState.value);n._data=e,Ed(i.player,t.phase,n,t.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):t.push(i)}),this._queue=[],t.sort((e,t)=>{const i=e.transition.ast.depCount,n=t.transition.ast.depCount;return 0==i||0==n?i-n:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class Zp{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const i=new Wp(e,t,this);return t.parentNode?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList.length-1;if(i>=0){let n=!1;for(let s=i;s>=0;s--)if(this.driver.containsElement(this._namespaceList[s].hostElement,t)){this._namespaceList.splice(s+1,0,e),n=!0;break}n||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let n=this._namespaceLookup[e];n&&n.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(i);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const e=Object.keys(i);for(let n=0;n<e.length;n++){const s=i[e[n]].namespaceId;if(s){const e=this._fetchNamespace(s);e&&t.add(e)}}}return t}trigger(e,t,i,n){if(Qp(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,n),!0}return!1}insertNode(e,t,i,n){if(!Qp(t))return;const s=t.__ng_removed;if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const n=this._fetchNamespace(e);n&&n.insertNode(t,i)}n&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),tf(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),nf(e,"ng-animate-disabled"))}removeNode(e,t,i,n){if(Qp(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n),i){const i=this.namespacesByHostElement.get(t);i&&i.id!==e&&i.removeNode(t,n)}}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,i,n){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1}}listen(e,t,i,n,s){return Qp(t)?this._fetchNamespace(e).listen(t,i,n,s):()=>{}}_buildInstruction(e,t,i,n,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,n,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return kd(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=$p,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)tf(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let e=0;e<i.length;e++)i[e]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?kd(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const i=new xp,n=[],s=new Map,r=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let i=0;i<t.length;i++)c.add(t[i])});const h=this.bodyNode,u=Array.from(this.statesByElement.keys()),d=ef(u,this.collectedEnterElements),p=new Map;let f=0;d.forEach((e,t)=>{const i="ng-enter"+f++;p.set(t,i),e.forEach(e=>tf(e,i))});const g=[],m=new Set,v=new Set;for(let D=0;D<this.collectedLeaveElements.length;D++){const e=this.collectedLeaveElements[D],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):v.add(e))}const b=new Map,y=ef(u,Array.from(m));y.forEach((e,t)=>{const i="ng-leave"+f++;b.set(t,i),e.forEach(e=>tf(e,i))}),e.push(()=>{d.forEach((e,t)=>{const i=p.get(t);e.forEach(e=>nf(e,i))}),y.forEach((e,t)=>{const i=b.get(t);e.forEach(e=>nf(e,i))}),g.forEach(e=>{this.processLeaveNode(e)})});const w=[],C=[];for(let D=this._namespaceList.length-1;D>=0;D--)this._namespaceList[D].drainQueuedTransitions(t).forEach(e=>{const t=e.player,s=e.element;if(w.push(t),this.collectedEnterElements.length){const e=s.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!h||!this.driver.containsElement(h,s),u=b.get(s),d=p.get(s),f=this._buildInstruction(e,i,d,u,c);if(f.errors&&f.errors.length)C.push(f);else{if(c)return t.onStart(()=>Jd(s,f.fromStyles)),t.onDestroy(()=>Qd(s,f.toStyles)),void n.push(t);if(e.isFallbackTransition)return t.onStart(()=>Jd(s,f.fromStyles)),t.onDestroy(()=>Qd(s,f.toStyles)),void n.push(t);f.timelines.forEach(e=>e.stretchStartingKeyframe=!0),i.append(s,f.timelines),r.push({instruction:f,player:t,element:s}),f.queriedElements.forEach(e=>Fd(o,e,[]).push(t)),f.preStyleProps.forEach((e,t)=>{const i=Object.keys(e);if(i.length){let e=a.get(t);e||a.set(t,e=new Set),i.forEach(t=>e.add(t))}}),f.postStyleProps.forEach((e,t)=>{const i=Object.keys(e);let n=l.get(t);n||l.set(t,n=new Set),i.forEach(e=>n.add(e))})}});if(C.length){const e=[];C.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const x=new Map,S=new Map;r.forEach(e=>{const t=e.element;i.has(t)&&(S.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,x))}),n.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Fd(x,t,[]).push(e),e.destroy()})});const k=g.filter(e=>rf(e,a,l)),_=new Map;Xp(_,this.driver,v,l,"*").forEach(e=>{rf(e,a,l)&&k.push(e)});const E=new Map;d.forEach((e,t)=>{Xp(E,this.driver,new Set(e),a,"!")}),k.forEach(e=>{const t=_.get(e),i=E.get(e);_.set(e,Object.assign(Object.assign({},t),i))});const I=[],T=[],F={};r.forEach(e=>{const{element:t,player:r,instruction:o}=e;if(i.has(t)){if(c.has(t))return r.onDestroy(()=>Qd(t,o.toStyles)),r.disabled=!0,r.overrideTotalTime(o.totalTime),void n.push(r);let e=F;if(S.size>1){let i=t;const n=[];for(;i=i.parentNode;){const t=S.get(i);if(t){e=t;break}n.push(i)}n.forEach(t=>S.set(t,e))}const i=this._buildAnimation(r.namespaceId,o,x,s,E,_);if(r.setRealPlayer(i),e===F)I.push(r);else{const t=this.playersByElement.get(e);t&&t.length&&(r.parentPlayer=kd(t)),n.push(r)}}else Jd(t,o.fromStyles),r.onDestroy(()=>Qd(t,o.toStyles)),T.push(r),c.has(t)&&n.push(r)}),T.forEach(e=>{const t=s.get(e.element);if(t&&t.length){const i=kd(t);e.setRealPlayer(i)}}),n.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let D=0;D<g.length;D++){const e=g[D],t=e.__ng_removed;if(nf(e,"ng-leave"),t&&t.hasAnimation)continue;let i=[];if(o.size){let t=o.get(e);t&&t.length&&i.push(...t);let n=this.driver.query(e,".ng-animating",!0);for(let e=0;e<n.length;e++){let t=o.get(n[e]);t&&t.length&&i.push(...t)}}const n=i.filter(e=>!e.destroyed);n.length?sf(this,e,n):this.processLeaveNode(e)}return g.length=0,I.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),I}elementContainsData(e,t){let i=!1;const n=t.__ng_removed;return n&&n.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,n,s){let r=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(r=t)}else{const t=this.playersByElement.get(e);if(t){const e=!s||"void"==s;t.forEach(t=>{t.queued||(e||t.triggerName==n)&&r.push(t)})}}return(i||n)&&(r=r.filter(e=>!(i&&i!=e.namespaceId||n&&n!=e.triggerName))),r}_beforeAnimationBuild(e,t,i){const n=t.element,s=t.isRemovalTransition?void 0:e,r=t.isRemovalTransition?void 0:t.triggerName;for(const o of t.timelines){const e=o.element,a=e!==n,l=Fd(i,e,[]);this._getPreviousPlayers(e,a,s,r,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Jd(n,t.fromStyles)}_buildAnimation(e,t,i,n,s,r){const o=t.triggerName,a=t.element,l=[],c=new Set,h=new Set,u=t.timelines.map(t=>{const u=t.element;c.add(u);const d=u.__ng_removed;if(d&&d.removedBeforeQueried)return new Cd(t.duration,t.delay);const p=u!==a,f=function(e){const t=[];return function e(t,i){for(let n=0;n<t.length;n++){const s=t[n];s instanceof xd?e(s.players,i):i.push(s)}}(e,t),t}((i.get(u)||Up).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===u),g=s.get(u),m=r.get(u),v=_d(0,this._normalizer,0,t.keyframes,g,m),b=this._buildPlayer(t,v,f);if(t.subTimeline&&n&&h.add(u),p){const t=new Yp(e,o,u);t.setRealPlayer(b),l.push(t)}return b});l.forEach(e=>{Fd(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,i){let n;if(e instanceof Map){if(n=e.get(t),n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&e.delete(t)}}else if(n=e[t],n){if(n.length){const e=n.indexOf(i);n.splice(e,1)}0==n.length&&delete e[t]}return n}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>tf(e,"ng-animating"));const d=kd(u);return d.onDestroy(()=>{c.forEach(e=>nf(e,"ng-animating")),Qd(a,t.toStyles)}),h.forEach(e=>{Fd(n,e,[]).push(d)}),d}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Cd(e.duration,e.delay)}}class Yp{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Cd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>Ed(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Fd(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Qp(e){return e&&1===e.nodeType}function Jp(e,t){const i=e.style.display;return e.style.display=null!=t?t:"none",i}function Xp(e,t,i,n,s){const r=[];i.forEach(e=>r.push(Jp(e)));const o=[];n.forEach((i,n)=>{const r={};i.forEach(e=>{const i=r[e]=t.computeStyle(n,e,s);i&&0!=i.length||(n.__ng_removed=qp,o.push(n))}),e.set(n,r)});let a=0;return i.forEach(e=>Jp(e,r[a++])),o}function ef(e,t){const i=new Map;if(e.forEach(e=>i.set(e,[])),0==t.length)return i;const n=new Set(t),s=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let r=s.get(t);if(r)return r;const o=t.parentNode;return r=i.has(o)?o:n.has(o)?1:e(o),s.set(t,r),r}(e);1!==t&&i.get(t).push(e)}),i}function tf(e,t){if(e.classList)e.classList.add(t);else{let i=e.$$classes;i||(i=e.$$classes={}),i[t]=!0}}function nf(e,t){if(e.classList)e.classList.remove(t);else{let i=e.$$classes;i&&delete i[t]}}function sf(e,t,i){kd(i).onDone(()=>e.processLeaveNode(t))}function rf(e,t,i){const n=i.get(e);if(!n)return!1;let s=t.get(e);return s?n.forEach(e=>s.add(e)):t.set(e,n),i.delete(e),!0}class of{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Zp(e,t,i),this._timelineEngine=new jp(e,t,i),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,i,n,s){const r=e+"-"+n;let o=this._triggerCache[r];if(!o){const e=[],t=gp(this._driver,s,e);if(e.length)throw new Error(`The animation trigger "${n}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new Hp(e,t)}(n,t),this._triggerCache[r]=o}this._transitionEngine.registerTrigger(t,n,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,n){this._transitionEngine.insertNode(e,t,i,n)}onRemove(e,t,i,n){this._transitionEngine.removeNode(e,t,n||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,n){if("@"==i.charAt(0)){const[e,s]=Dd(i);this._timelineEngine.command(e,t,s,n)}else this._transitionEngine.trigger(e,t,i,n)}listen(e,t,i,n,s){if("@"==i.charAt(0)){const[e,n]=Dd(i);return this._timelineEngine.listen(e,t,n,s)}return this._transitionEngine.listen(e,t,i,n,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function af(e,t){let i=null,n=null;return Array.isArray(t)&&t.length?(i=cf(t[0]),t.length>1&&(n=cf(t[t.length-1]))):t&&(i=cf(t)),i||n?new lf(e,i,n):null}let lf=(()=>{class e{constructor(t,i,n){this._element=t,this._startStyles=i,this._endStyles=n,this._state=0;let s=e.initialStylesByElement.get(t);s||e.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Qd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Qd(this._element,this._initialStyles),this._endStyles&&(Qd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Jd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Jd(this._element,this._endStyles),this._endStyles=null),Qd(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function cf(e){let t=null;const i=Object.keys(e);for(let n=0;n<i.length;n++){const s=i[n];hf(s)&&(t=t||{},t[s]=e[s])}return t}function hf(e){return"display"===e||"position"===e}class uf{constructor(e,t,i,n,s,r,o){this._element=e,this._name=t,this._duration=i,this._delay=n,this._easing=s,this._fillMode=r,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const i=vf(e,"").trim();i.length&&(function(e,t){let i=0;for(let n=0;n<e.length;n++)","===e.charAt(n)&&i++}(i),t=`${i}, ${t}`),mf(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),gf(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){df(this._element,this._name,"paused")}resume(){df(this._element,this._name,"running")}setPosition(e){const t=pf(this._element,this._name);this._position=e*this._duration,mf(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),i=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&i>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),gf(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const i=vf(e,"").split(","),n=ff(i,t);n>=0&&(i.splice(n,1),mf(e,"",i.join(",")))}(this._element,this._name))}}function df(e,t,i){mf(e,"PlayState",i,pf(e,t))}function pf(e,t){const i=vf(e,"");return i.indexOf(",")>0?ff(i.split(","),t):ff([i],t)}function ff(e,t){for(let i=0;i<e.length;i++)if(e[i].indexOf(t)>=0)return i;return-1}function gf(e,t,i){i?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function mf(e,t,i,n){const s="animation"+t;if(null!=n){const t=e.style[s];if(t.length){const e=t.split(",");e[n]=i,i=e.join(",")}}e.style[s]=i}function vf(e,t){return e.style["animation"+t]}class bf{constructor(e,t,i,n,s,r,o,a){this.element=e,this.keyframes=t,this.animationName=i,this._duration=n,this._delay=s,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=r||"linear",this.totalTime=n+s,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new uf(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(i=>{"offset"!=i&&(e[i]=t?this._finalStyles[i]:cp(this.element,i))})}this.currentSnapshot=e}}class yf extends Cd{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=zd(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class wf{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Ld(e)}matchesElement(e,t){return Vd(e,t)}containsElement(e,t){return Hd(e,t)}query(e,t,i){return Bd(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,i){i=i.map(e=>zd(e));let n=`@keyframes ${t} {\n`,s="";i.forEach(e=>{s=" ";const t=parseFloat(e.offset);n+=`${s}${100*t}% {\n`,s+=" ",Object.keys(e).forEach(t=>{const i=e[t];switch(t){case"offset":return;case"easing":return void(i&&(n+=`${s}animation-timing-function: ${i};\n`));default:return void(n+=`${s}${t}: ${i};\n`)}}),n+=s+"}\n"}),n+="}\n";const r=document.createElement("style");return r.innerHTML=n,r}animate(e,t,i,n,s,r=[],o){o&&this._notifyFaultyScrubber();const a=r.filter(e=>e instanceof bf),l={};op(i,n)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(i=>{"offset"!=i&&"easing"!=i&&(t[i]=e[i])})}),t}(t=ap(e,t,l));if(0==i)return new yf(e,c);const h="gen_css_kf_"+this._count++,u=this.buildKeyframeElement(e,h,t);document.querySelector("head").appendChild(u);const d=af(e,t),p=new bf(e,t,h,i,n,s,c,d);return p.onDestroy(()=>{var e;(e=u).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Cf{constructor(e,t,i,n){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:cp(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class xf{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Sf().toString()),this._cssKeyframesDriver=new wf}validateStyleProperty(e){return Ld(e)}matchesElement(e,t){return Vd(e,t)}containsElement(e,t){return Hd(e,t)}query(e,t,i){return Bd(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,i,n,s,r=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,i,n,s,r);const a={duration:i,delay:n,fill:0==n?"both":"forwards"};s&&(a.easing=s);const l={},c=r.filter(e=>e instanceof Cf);op(i,n)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const h=af(e,t=ap(e,t=t.map(e=>Wd(e,!1)),l));return new Cf(e,t,a,h)}}function Sf(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let kf=(()=>{class e extends pd{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:ct.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?md(e):e;return If(this._renderer,null,t,"register",[i]),new _f(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(We(Wa),We(Eh))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class _f extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Ef(this._id,e,t||{},this._renderer)}}class Ef{constructor(e,t,i,n){this.id=e,this.element=t,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return If(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function If(e,t,i,n,s){return e.setProperty(t,`@@${i}:${n}`,s)}let Tf=(()=>{class e{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const i=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(i);return e||(e=new Ff("",i,this.engine),this._rendererCache.set(i,e)),e}const n=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);const r=t=>{Array.isArray(t)?t.forEach(r):this.engine.registerTrigger(n,s,e,t.name,t)};return t.data.animation.forEach(r),new Df(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){e>=0&&e<this._microtaskId?this._zone.run(()=>t(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,i]=e;t(i)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(We(Wa),We(of),We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class Ff{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,n){this.delegate.setAttribute(e,t,i,n)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,n){this.delegate.setStyle(e,t,i,n)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Df extends Ff{constructor(e,t,i,n){super(t,i,n),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const n=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let s=t.substr(1),r="";return"@"!=s.charAt(0)&&([s,r]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,n,s,r,e=>{this.factory.scheduleListenerCallback(e._data||-1,i,e)})}return this.delegate.listen(e,t,i)}}let Af=(()=>{class e extends of{constructor(e,t,i){super(e.body,t,i)}}return e.\u0275fac=function(t){return new(t||e)(We(Eh),We(Ud),We(Op))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Of=[{provide:Ud,useFactory:function(){return"function"==typeof Sf()?new xf:new wf}},{provide:new Ve("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:pd,useClass:kf},{provide:Op,useFactory:function(){return new Rp}},{provide:of,useClass:Af},{provide:Wa,useFactory:function(e,t,i){return new Tf(e,t,i)},deps:[Ju,of,Wc]}];let Rf=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:Of,imports:[dd]}),e})();var Pf=i("E21t");let Mf=new Ve("app.config");const Nf={appId:"2A108563-6752-4DC3-813E-6E77CCAB67AF",appTitle:"Artemis Migration",lobName:"Artemis",lob:"ArtemisMP",cacheTime:7200,region:"USA",businessEntity:"ARTEMIS",businessSubEntity:"Migration Programme",enablePing:Pf.b,landingPageUrl:"",apiUrls:{sampleUrl:{getsamples:Pf.a+"/api/samples",addsamples:Pf.a+"/api/samples",editsamples:Pf.a+"/api/editsample",getsampledetails:Pf.a+"/api/samples"}}};class Lf extends _{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new x;return this._value}next(e){super.next(this._value=e)}}let Vf=(()=>{class e{constructor(){let e=localStorage.getItem("currentUser");this._currentUserSubject=new Lf(null==e||null==e?e:JSON.parse(localStorage.getItem("currentUser"))),this.currentUserObservable=this._currentUserSubject.asObservable()}get currentUser(){return this._currentUserSubject.value}set currentUser(e){e?localStorage.setItem("currentUser",JSON.stringify(e)):localStorage.removeItem("currentUser"),this._currentUserSubject.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Hf=(()=>{class e{transform(e){let t=e;if(e){let i=e.split(" ");if(i.length>0){const e=i.length;let n=i[e-1],s="";i.forEach((i,r)=>{if(e-1===r)return t=s?`${n}, ${s}`:""+n,t.toUpperCase();s=`${s} ${i}`})}}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=wt({name:"nameFormat",type:e,pure:!0}),e})();function Bf(e,t){if(1&e&&(Po(0,"div",7),Po(1,"ul",8),Po(2,"li",9),ya(3),Jl(4,"nameFormat"),Mo(),Mo(),Mo()),2&e){const e=Go();vs(3),Ca(" ",function(e,t,i){const n=Zt(),s=Ht(n,4);return ic(n,tc(n,4)?Zl(n,si(),1,s.transform,i,s):s.transform(i))}(0,0,e.user)," ")}}let zf=(()=>{class e{constructor(e,t){this.userContextService=e,this.appConfig=t,this.user="Rajesh D"}get businessEntity(){return this.appConfig.businessEntity}get businessSubEntity(){return this.appConfig.businessSubEntity}get isLoggedIn(){return!0}ngOnInit(){}navigateToDiracHome(){window.open(this.appConfig.landingPageUrl,"_self")}logout(){return!0}get isPingDisabled(){return!this.appConfig.enablePing}}return e.\u0275fac=function(t){return new(t||e)(Fo(Vf),Fo(Mf))},e.\u0275cmp=pt({type:e,selectors:[["app-header"]],decls:10,vars:3,consts:[[1,"ar-header"],[1,"ar-header__left",3,"keypress","click"],["tabindex","0",1,"ar-header__logo"],["src","./../../../../assets/shell_logo.png","alt","shell logo"],["tabindex","0",1,"ar-header__title"],[1,"ar-header__subtitle"],["class","ar-header__right",4,"ngIf"],[1,"ar-header__right"],[1,"ar-header__info"],["tabindex","0",1,"ar-header__info-item"]],template:function(e,t){1&e&&(Po(0,"header",0),Po(1,"div",1),Uo("keypress",(function(){return t.navigateToDiracHome()}))("click",(function(){return t.navigateToDiracHome()})),Po(2,"span",2),No(3,"img",3),Mo(),Po(4,"h1",4),Po(5,"span"),ya(6),Mo(),Po(7,"span",5),ya(8),Mo(),Mo(),Mo(),Io(9,Bf,5,3,"div",6),Mo()),2&e&&(vs(6),wa(t.businessEntity),vs(2),wa(t.businessSubEntity),vs(1),Oo("ngIf",t.isLoggedIn))},directives:[ku],pipes:[Hf],styles:[""]}),e})();function jf(...e){let t=e[e.length-1];return I(t)?(e.pop(),B(e,t)):G(e)}const Uf=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),$f={};function qf(...e){let t=null,i=null;return I(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),G(e,i).lift(new Gf(t))}class Gf{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Kf(e,this.resultSelector))}}class Kf extends N{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push($f),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++){const t=e[i];this.add(M(this,t,t,i))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i,n,s){const r=this.values,o=this.toRespond?r[i]===$f?--this.toRespond:this.toRespond:0;r[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const Wf=new w(e=>e.complete());function Zf(e){return e?function(e){return new w(t=>e.schedule(()=>t.complete()))}(e):Wf}function Yf(e){return new w(t=>{let i;try{i=e()}catch(n){return void t.error(n)}return(i?z(i):Zf()).subscribe(t)})}function Qf(){return q(1)}function Jf(e,t){return function(i){return i.lift(new Xf(e,t))}}class Xf{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new eg(e,this.predicate,this.thisArg))}}class eg extends f{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}const tg=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();function ig(e){return function(t){return 0===e?Zf():t.lift(new ng(e))}}class ng{constructor(e){if(this.total=e,this.total<0)throw new tg}call(e,t){return t.subscribe(new sg(e,this.total))}}class sg extends f{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,n=this.count++;t.length<i?t.push(e):t[n%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,n=this.ring;for(let s=0;s<i;s++){const s=t++%i;e.next(n[s])}}e.complete()}}function rg(e=lg){return t=>t.lift(new og(e))}class og{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new ag(e,this.errorFactory))}}class ag extends f{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function lg(){return new Uf}function cg(e=null){return t=>t.lift(new hg(e))}class hg{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new ug(e,this.defaultValue))}}class ug extends f{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function dg(e,t){const i=arguments.length>=2;return n=>n.pipe(e?Jf((t,i)=>e(t,i,n)):v,ig(1),i?cg(t):rg(()=>new Uf))}function pg(e){return function(t){const i=new fg(e),n=t.lift(i);return i.caught=n}}class fg{constructor(e){this.selector=e}call(e,t){return t.subscribe(new gg(e,this.selector,this.caught))}}class gg extends N{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let i;try{i=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new T(this,void 0,void 0);this.add(n);const s=M(this,i,void 0,void 0,n);s!==n&&this.add(s)}}}function mg(e){return t=>0===e?Zf():t.lift(new vg(e))}class vg{constructor(e){if(this.total=e,this.total<0)throw new tg}call(e,t){return t.subscribe(new bg(e,this.total))}}class bg extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function yg(e,t){const i=arguments.length>=2;return n=>n.pipe(e?Jf((t,i)=>e(t,i,n)):v,mg(1),i?cg(t):rg(()=>new Uf))}class wg{constructor(e,t,i){this.predicate=e,this.thisArg=t,this.source=i}call(e,t){return t.subscribe(new Cg(e,this.predicate,this.thisArg,this.source))}}class Cg extends f{constructor(e,t,i,n){super(e),this.predicate=t,this.thisArg=i,this.source=n,this.index=0,this.thisArg=i||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(i){return void this.destination.error(i)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function xg(e,t){return"function"==typeof t?i=>i.pipe(xg((i,n)=>z(e(i,n)).pipe(L((e,s)=>t(i,e,n,s))))):t=>t.lift(new Sg(e))}class Sg{constructor(e){this.project=e}call(e,t){return t.subscribe(new kg(e,this.project))}}class kg extends N{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(n){return void this.destination.error(n)}this._innerSub(t,e,i)}_innerSub(e,t,i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new T(this,t,i),r=this.destination;r.add(s),this.innerSubscription=M(this,e,void 0,void 0,s),this.innerSubscription!==s&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,i,n,s){this.destination.next(t)}}function _g(...e){return Qf()(jf(...e))}function Eg(e,t){let i=!1;return arguments.length>=2&&(i=!0),function(n){return n.lift(new Ig(e,t,i))}}class Ig{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new Tg(e,this.accumulator,this.seed,this.hasSeed))}}class Tg extends f{constructor(e,t,i,n){super(e),this.accumulator=t,this._seed=i,this.hasSeed=n,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(n){this.destination.error(n)}this.seed=i,this.destination.next(i)}}function Fg(e,t){return j(e,t,1)}function Dg(){}function Ag(e,t,i){return function(n){return n.lift(new Og(e,t,i))}}class Og{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new Rg(e,this.nextOrObserver,this.error,this.complete))}}class Rg extends f{constructor(e,t,i,s){super(e),this._tapNext=Dg,this._tapError=Dg,this._tapComplete=Dg,this._tapError=i||Dg,this._tapComplete=s||Dg,n(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Dg,this._tapError=t.error||Dg,this._tapComplete=t.complete||Dg)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class Pg{constructor(e){this.callback=e}call(e,t){return t.subscribe(new Mg(e,this.callback))}}class Mg extends f{constructor(e,t){super(e),this.add(new u(t))}}class Ng{constructor(e,t){this.id=e,this.url=t}}class Lg extends Ng{constructor(e,t,i="imperative",n=null){super(e,t),this.navigationTrigger=i,this.restoredState=n}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vg extends Ng{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hg extends Ng{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bg extends Ng{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zg extends Ng{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jg extends Ng{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ug extends Ng{constructor(e,t,i,n,s){super(e,t),this.urlAfterRedirects=i,this.state=n,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class $g extends Ng{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qg extends Ng{constructor(e,t,i,n){super(e,t),this.urlAfterRedirects=i,this.state=n}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gg{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kg{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Wg{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zg{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yg{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qg{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jg{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Xg=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&No(0,"router-outlet")},directives:function(){return[sb]},encapsulation:2}),e})();class em{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function tm(e){return new em(e)}function im(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function nm(e,t,i){const n=i.path.split("/");if(n.length>e.length)return null;if("full"===i.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const s={};for(let r=0;r<n.length;r++){const t=n[r],i=e[r];if(t.startsWith(":"))s[t.substring(1)]=i;else if(t!==i.path)return null}return{consumed:e.slice(0,n.length),posParams:s}}class sm{constructor(e,t){this.routes=e,this.module=t}}function rm(e,t=""){for(let i=0;i<e.length;i++){const n=e[i];om(n,am(t,n))}}function om(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&rm(e.children,t)}function am(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function lm(e){const t=e.children&&e.children.map(lm),i=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!i.component&&(t||i.loadChildren)&&i.outlet&&"primary"!==i.outlet&&(i.component=Xg),i}function cm(e,t){const i=Object.keys(e),n=Object.keys(t);if(!i||!n||i.length!=n.length)return!1;let s;for(let r=0;r<i.length;r++)if(s=i[r],!hm(e[s],t[s]))return!1;return!0}function hm(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function um(e){return Array.prototype.concat.apply([],e)}function dm(e){return e.length>0?e[e.length-1]:null}function pm(e,t){for(const i in e)e.hasOwnProperty(i)&&t(e[i],i)}function fm(e){return jo(e)?e:zo(e)?z(Promise.resolve(e)):jf(e)}function gm(e,t,i){return i?function(e,t){return cm(e,t)}(e.queryParams,t.queryParams)&&function e(t,i){if(!ym(t.segments,i.segments))return!1;if(t.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children){if(!t.children[n])return!1;if(!e(t.children[n],i.children[n]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(i=>hm(e[i],t[i]))}(e.queryParams,t.queryParams)&&function e(t,i){return function t(i,n,s){if(i.segments.length>s.length)return!!ym(i.segments.slice(0,s.length),s)&&!n.hasChildren();if(i.segments.length===s.length){if(!ym(i.segments,s))return!1;for(const t in n.children){if(!i.children[t])return!1;if(!e(i.children[t],n.children[t]))return!1}return!0}{const e=s.slice(0,i.segments.length),r=s.slice(i.segments.length);return!!ym(i.segments,e)&&!!i.children.primary&&t(i.children.primary,n,r)}}(t,i,i.segments)}(e.root,t.root)}class mm{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tm(this.queryParams)),this._queryParamMap}toString(){return Sm.serialize(this)}}class vm{constructor(e,t){this.segments=e,this.children=t,this.parent=null,pm(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return km(this)}}class bm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=tm(this.parameters)),this._parameterMap}toString(){return Dm(this)}}function ym(e,t){return e.length===t.length&&e.every((e,i)=>e.path===t[i].path)}function wm(e,t){let i=[];return pm(e.children,(e,n)=>{"primary"===n&&(i=i.concat(t(e,n)))}),pm(e.children,(e,n)=>{"primary"!==n&&(i=i.concat(t(e,n)))}),i}class Cm{}class xm{parse(e){const t=new Mm(e);return new mm(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,i){if(!t.hasChildren())return km(t);if(i){const i=t.children.primary?e(t.children.primary,!1):"",n=[];return pm(t.children,(t,i)=>{"primary"!==i&&n.push(`${i}:${e(t,!1)}`)}),n.length>0?`${i}(${n.join("//")})`:i}{const i=wm(t,(i,n)=>"primary"===n?[e(t.children.primary,!1)]:[`${n}:${e(i,!1)}`]);return`${km(t)}/(${i.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const i=e[t];return Array.isArray(i)?i.map(e=>`${Em(t)}=${Em(e)}`).join("&"):`${Em(t)}=${Em(i)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+encodeURI(e.fragment):""}`}}const Sm=new xm;function km(e){return e.segments.map(e=>Dm(e)).join("/")}function _m(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Em(e){return _m(e).replace(/%3B/gi,";")}function Im(e){return _m(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Tm(e){return decodeURIComponent(e)}function Fm(e){return Tm(e.replace(/\+/g,"%20"))}function Dm(e){return`${Im(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Im(e)}=${Im(t[e])}`).join("")}`;var t}const Am=/^[^\/()?;=#]+/;function Om(e){const t=e.match(Am);return t?t[0]:""}const Rm=/^[^=?&#]+/,Pm=/^[^?&#]+/;class Mm{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vm([],{}):new vm([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i.primary=new vm(e,t)),i}parseSegment(){const e=Om(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new bm(Tm(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Om(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=Om(this.remaining);e&&(i=e,this.capture(i))}e[Tm(t)]=Tm(i)}parseQueryParam(e){const t=function(e){const t=e.match(Rm);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(Pm);return t?t[0]:""}(this.remaining);e&&(i=e,this.capture(i))}const n=Fm(t),s=Fm(i);if(e.hasOwnProperty(n)){let t=e[n];Array.isArray(t)||(t=[t],e[n]=t),t.push(s)}else e[n]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Om(this.remaining),n=this.remaining[i.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error(`Cannot parse url '${this.url}'`);let s=void 0;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s="primary");const r=this.parseChildren();t[s]=1===Object.keys(r).length?r.primary:new vm([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Nm{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Lm(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=Lm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Vm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return Vm(e,this._root).map(e=>e.value)}}function Lm(e,t){if(e===t.value)return t;for(const i of t.children){const t=Lm(e,i);if(t)return t}return null}function Vm(e,t){if(e===t.value)return[t];for(const i of t.children){const n=Vm(e,i);if(n.length)return n.unshift(t),n}return[]}class Hm{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Bm(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class zm extends Nm{constructor(e,t){super(e),this.snapshot=t,Km(this,e)}toString(){return this.snapshot.toString()}}function jm(e,t){const i=function(e,t){const i=new qm([],{},{},"",{},"primary",t,null,e.root,-1,{});return new Gm("",new Hm(i,[]))}(e,t),n=new Lf([new bm("",{})]),s=new Lf({}),r=new Lf({}),o=new Lf({}),a=new Lf(""),l=new Um(n,s,o,a,r,"primary",t,i.root);return l.snapshot=i.root,new zm(new Hm(l,[]),i)}class Um{constructor(e,t,i,n,s,r,o,a){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=r,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(L(e=>tm(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(L(e=>tm(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $m(e,t="emptyOnly"){const i=e.pathFromRoot;let n=0;if("always"!==t)for(n=i.length-1;n>=1;){const e=i[n],t=i[n-1];if(e.routeConfig&&""===e.routeConfig.path)n--;else{if(t.component)break;n--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(n))}class qm{constructor(e,t,i,n,s,r,o,a,l,c,h){this.url=e,this.params=t,this.queryParams=i,this.fragment=n,this.data=s,this.outlet=r,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tm(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tm(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gm extends Nm{constructor(e,t){super(t),this.url=e,Km(this,t)}toString(){return Wm(this._root)}}function Km(e,t){t.value._routerState=e,t.children.forEach(t=>Km(e,t))}function Wm(e){const t=e.children.length>0?` { ${e.children.map(Wm).join(", ")} } `:"";return`${e.value}${t}`}function Zm(e){if(e.snapshot){const t=e.snapshot,i=e._futureSnapshot;e.snapshot=i,cm(t.queryParams,i.queryParams)||e.queryParams.next(i.queryParams),t.fragment!==i.fragment&&e.fragment.next(i.fragment),cm(t.params,i.params)||e.params.next(i.params),function(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(!cm(e[i],t[i]))return!1;return!0}(t.url,i.url)||e.url.next(i.url),cm(t.data,i.data)||e.data.next(i.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Ym(e,t){var i,n;return cm(e.params,t.params)&&ym(i=e.url,n=t.url)&&i.every((e,t)=>cm(e.parameters,n[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||Ym(e.parent,t.parent))}function Qm(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Jm(e,t,i,n,s){let r={};return n&&pm(n,(e,t)=>{r[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new mm(i.root===e?t:function e(t,i,n){const s={};return pm(t.children,(t,r)=>{s[r]=t===i?n:e(t,i,n)}),new vm(t.segments,s)}(i.root,e,t),r,s)}class Xm{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Qm(i[0]))throw new Error("Root segment cannot have matrix parameters");const n=i.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(n&&n!==dm(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ev{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function tv(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function iv(e,t,i){if(e||(e=new vm([],{})),0===e.segments.length&&e.hasChildren())return nv(e,t,i);const n=function(e,t,i){let n=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<e.segments.length;){if(n>=i.length)return r;const t=e.segments[s],o=tv(i[n]),a=n<i.length-1?i[n+1]:null;if(s>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!av(o,a,t))return r;n+=2}else{if(!av(o,{},t))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}(e,t,i),s=i.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const t=new vm(e.segments.slice(0,n.pathIndex),{});return t.children.primary=new vm(e.segments.slice(n.pathIndex),e.children),nv(t,0,s)}return n.match&&0===s.length?new vm(e.segments,{}):n.match&&!e.hasChildren()?sv(e,t,i):n.match?nv(e,0,s):sv(e,t,i)}function nv(e,t,i){if(0===i.length)return new vm(e.segments,{});{const n=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(i),s={};return pm(n,(i,n)=>{null!==i&&(s[n]=iv(e.children[n],t,i))}),pm(e.children,(e,t)=>{void 0===n[t]&&(s[t]=e)}),new vm(e.segments,s)}}function sv(e,t,i){const n=e.segments.slice(0,t);let s=0;for(;s<i.length;){if("object"==typeof i[s]&&void 0!==i[s].outlets){const e=rv(i[s].outlets);return new vm(n,e)}if(0===s&&Qm(i[0])){n.push(new bm(e.segments[t].path,i[0])),s++;continue}const r=tv(i[s]),o=s<i.length-1?i[s+1]:null;r&&o&&Qm(o)?(n.push(new bm(r,ov(o))),s+=2):(n.push(new bm(r,{})),s++)}return new vm(n,{})}function rv(e){const t={};return pm(e,(e,i)=>{null!==e&&(t[i]=sv(new vm([],{}),0,e))}),t}function ov(e){const t={};return pm(e,(e,i)=>t[i]=""+e),t}function av(e,t,i){return e==i.path&&cm(t,i.parameters)}class lv{constructor(e,t,i,n){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=n}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Zm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const n=Bm(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,n[t],i),delete n[t]}),pm(n,(e,t)=>{this.deactivateRouteAndItsChildren(e,i)})}deactivateRoutes(e,t,i){const n=e.value,s=t?t.value:null;if(n===s)if(n.component){const s=i.getContext(n.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet);if(i&&i.outlet){const t=i.outlet.detach(),n=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:n})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet);if(i){const n=Bm(e),s=e.value.component?i.children:t;pm(n,(e,t)=>this.deactivateRouteAndItsChildren(e,s)),i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated())}}activateChildRoutes(e,t,i){const n=Bm(t);e.children.forEach(e=>{this.activateRoutes(e,n[e.value.outlet],i),this.forwardEvent(new Qg(e.value.snapshot))}),e.children.length&&this.forwardEvent(new Zg(e.value.snapshot))}activateRoutes(e,t,i){const n=e.value,s=t?t.value:null;if(Zm(n),n===s)if(n.component){const s=i.getOrCreateContext(n.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(n.component){const t=i.getOrCreateContext(n.outlet);if(this.routeReuseStrategy.shouldAttach(n.snapshot)){const e=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),cv(e.route)}else{const i=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(n.snapshot),s=i?i.module.componentFactoryResolver:null;t.attachRef=null,t.route=n,t.resolver=s,t.outlet&&t.outlet.activateWith(n,s),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,i)}}function cv(e){Zm(e.value),e.children.forEach(cv)}function hv(e){return"function"==typeof e}function uv(e){return e instanceof mm}class dv{constructor(e){this.segmentGroup=e||null}}class pv{constructor(e){this.urlTree=e}}function fv(e){return new w(t=>t.error(new dv(e)))}function gv(e){return new w(t=>t.error(new pv(e)))}function mv(e){return new w(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class vv{constructor(e,t,i,n,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=n,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Je)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(L(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(pg(e=>{if(e instanceof pv)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof dv)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(L(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(pg(e=>{if(e instanceof dv)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const n=e.segments.length>0?new vm([],{primary:e}):e;return new mm(n,t,i)}expandSegmentGroup(e,t,i,n){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(L(e=>new vm([],e))):this.expandSegment(e,i,t,i.segments,n,!0)}expandChildren(e,t,i){return function(e,t){if(0===Object.keys(e).length)return jf({});const i=[],n=[],s={};return pm(e,(e,r)=>{const o=t(r,e).pipe(L(e=>s[r]=e));"primary"===r?i.push(o):n.push(o)}),jf.apply(null,i.concat(n)).pipe(Qf(),dg(),L(()=>s))}(i.children,(i,n)=>this.expandSegmentGroup(e,t,n,i))}expandSegment(e,t,i,n,s,r){return jf(...i).pipe(L(o=>this.expandSegmentAgainstRoute(e,t,i,o,n,s,r).pipe(pg(e=>{if(e instanceof dv)return jf(null);throw e}))),Qf(),yg(e=>!!e),pg((e,i)=>{if(e instanceof Uf||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,n,s))return jf(new vm([],{}));throw new dv(t)}throw e}))}noLeftoversInUrl(e,t,i){return 0===t.length&&!e.children[i]}expandSegmentAgainstRoute(e,t,i,n,s,r,o){return Cv(n)!==r?fv(t):void 0===n.redirectTo?this.matchSegmentAgainstRoute(e,t,n,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r):fv(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,n,r):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,n){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?gv(s):this.lineralizeSegments(i,s).pipe(j(i=>{const s=new vm(i,{});return this.expandSegment(e,s,t,i,n,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,n,s,r){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=bv(t,n,s);if(!o)return fv(t);const h=this.applyRedirectCommands(a,n.redirectTo,c);return n.redirectTo.startsWith("/")?gv(h):this.lineralizeSegments(n,h).pipe(j(n=>this.expandSegment(e,t,i,n.concat(s.slice(l)),r,!1)))}matchSegmentAgainstRoute(e,t,i,n){if("**"===i.path)return i.loadChildren?this.configLoader.load(e.injector,i).pipe(L(e=>(i._loadedConfig=e,new vm(n,{})))):jf(new vm(n,{}));const{matched:s,consumedSegments:r,lastChild:o}=bv(t,i,n);if(!s)return fv(t);const a=n.slice(o);return this.getChildConfig(e,i,n).pipe(j(e=>{const i=e.module,n=e.routes,{segmentGroup:s,slicedSegments:o}=function(e,t,i,n){return i.length>0&&function(e,t,i){return i.some(i=>wv(e,t,i)&&"primary"!==Cv(i))}(e,i,n)?{segmentGroup:yv(new vm(t,function(e,t){const i={};i.primary=t;for(const n of e)""===n.path&&"primary"!==Cv(n)&&(i[Cv(n)]=new vm([],{}));return i}(n,new vm(i,e.children)))),slicedSegments:[]}:0===i.length&&function(e,t,i){return i.some(i=>wv(e,t,i))}(e,i,n)?{segmentGroup:yv(new vm(e.segments,function(e,t,i,n){const s={};for(const r of i)wv(e,t,r)&&!n[Cv(r)]&&(s[Cv(r)]=new vm([],{}));return Object.assign(Object.assign({},n),s)}(e,i,n,e.children))),slicedSegments:i}:{segmentGroup:e,slicedSegments:i}}(t,r,a,n);return 0===o.length&&s.hasChildren()?this.expandChildren(i,n,s).pipe(L(e=>new vm(r,e))):0===n.length&&0===o.length?jf(new vm(r,{})):this.expandSegment(i,s,n,o,"primary",!0).pipe(L(e=>new vm(r.concat(e.segments),e.children)))}))}getChildConfig(e,t,i){return t.children?jf(new sm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?jf(t._loadedConfig):function(e,t,i){const n=t.canLoad;return n&&0!==n.length?z(n).pipe(L(n=>{const s=e.get(n);let r;if(function(e){return e&&hv(e.canLoad)}(s))r=s.canLoad(t,i);else{if(!hv(s))throw new Error("Invalid CanLoad guard");r=s(t,i)}return fm(r)})).pipe(Qf(),(s=e=>!0===e,e=>e.lift(new wg(s,void 0,e)))):jf(!0);var s}(e.injector,t,i).pipe(j(i=>i?this.configLoader.load(e.injector,t).pipe(L(e=>(t._loadedConfig=e,e))):function(e){return new w(t=>t.error(im(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):jf(new sm([],e))}lineralizeSegments(e,t){let i=[],n=t.root;for(;;){if(i=i.concat(n.segments),0===n.numberOfChildren)return jf(i);if(n.numberOfChildren>1||!n.children.primary)return mv(e.redirectTo);n=n.children.primary}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,n){const s=this.createSegmentGroup(e,t.root,i,n);return new mm(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return pm(e,(e,n)=>{if("string"==typeof e&&e.startsWith(":")){const s=e.substring(1);i[n]=t[s]}else i[n]=e}),i}createSegmentGroup(e,t,i,n){const s=this.createSegments(e,t.segments,i,n);let r={};return pm(t.children,(t,s)=>{r[s]=this.createSegmentGroup(e,t,i,n)}),new vm(s,r)}createSegments(e,t,i,n){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,n):this.findOrReturn(t,i))}findPosParam(e,t,i){const n=i[t.path.substring(1)];if(!n)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return n}findOrReturn(e,t){let i=0;for(const n of t){if(n.path===e.path)return t.splice(i),n;i++}return e}}function bv(e,t,i){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||i.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const n=(t.matcher||nm)(i,e,t);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function yv(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new vm(e.segments.concat(t.segments),t.children)}return e}function wv(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0!==i.redirectTo}function Cv(e){return e.outlet||"primary"}class xv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sv{constructor(e,t){this.component=e,this.route=t}}function kv(e,t,i){const n=e._root;return function e(t,i,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bm(i);return t.children.forEach(t=>{!function(t,i,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,a=i?i.value:null,l=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(e,t,i){if("function"==typeof i)return i(e,t);switch(i){case"pathParamsChange":return!ym(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ym(e.url,t.url)||!cm(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ym(e,t)||!cm(e.queryParams,t.queryParams);case"paramsChange":default:return!Ym(e,t)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new xv(s)):(o.data=a.data,o._resolvedData=a._resolvedData),e(t,i,o.component?l?l.children:null:n,s,r),c&&r.canDeactivateChecks.push(new Sv(l&&l.outlet&&l.outlet.component||null,a))}else a&&Ev(i,l,r),r.canActivateChecks.push(new xv(s)),e(t,null,o.component?l?l.children:null:n,s,r)}(t,o[t.value.outlet],n,s.concat([t.value]),r),delete o[t.value.outlet]}),pm(o,(e,t)=>Ev(e,n.getContext(t),r)),r}(n,t?t._root:null,i,[n.value])}function _v(e,t,i){const n=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(n?n.module.injector:i).get(e)}function Ev(e,t,i){const n=Bm(e),s=e.value;pm(n,(e,n)=>{Ev(e,s.component?t?t.children.getContext(n):null:t,i)}),i.canDeactivateChecks.push(new Sv(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}const Iv=Symbol("INITIAL_VALUE");function Tv(){return xg(e=>qf(...e.map(e=>e.pipe(mg(1),function(...e){const t=e[e.length-1];return I(t)?(e.pop(),i=>_g(e,i,t)):t=>_g(e,t)}(Iv)))).pipe(Eg((e,t)=>{let i=!1;return t.reduce((e,n,s)=>{if(e!==Iv)return e;if(n===Iv&&(i=!0),!i){if(!1===n)return n;if(s===t.length-1||uv(n))return n}return e},e)},Iv),Jf(e=>e!==Iv),L(e=>uv(e)?e:!0===e),mg(1)))}function Fv(e,t){return null!==e&&t&&t(new Yg(e)),jf(!0)}function Dv(e,t){return null!==e&&t&&t(new Wg(e)),jf(!0)}function Av(e,t,i){const n=t.routeConfig?t.routeConfig.canActivate:null;return n&&0!==n.length?jf(n.map(n=>Yf(()=>{const s=_v(n,t,i);let r;if(function(e){return e&&hv(e.canActivate)}(s))r=fm(s.canActivate(t,e));else{if(!hv(s))throw new Error("Invalid CanActivate guard");r=fm(s(t,e))}return r.pipe(yg())}))).pipe(Tv()):jf(!0)}function Ov(e,t,i){const n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>Yf(()=>jf(t.guards.map(s=>{const r=_v(s,t.node,i);let o;if(function(e){return e&&hv(e.canActivateChild)}(r))o=fm(r.canActivateChild(n,e));else{if(!hv(r))throw new Error("Invalid CanActivateChild guard");o=fm(r(n,e))}return o.pipe(yg())})).pipe(Tv())));return jf(s).pipe(Tv())}class Rv{}class Pv{constructor(e,t,i,n,s,r){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=n,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=r}recognize(){try{const e=Lv(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),i=new qm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Hm(i,t),s=new Gm(this.url,n);return this.inheritParamsAndData(s._root),jf(s)}catch(e){return new w(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,i=$m(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=wm(t,(t,i)=>this.processSegmentGroup(e,t,i));return function(e){const t={};e.forEach(e=>{const i=t[e.value.outlet];if(i){const t=i.url.map(e=>e.toString()).join("/"),n=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${n}'.`)}t[e.value.outlet]=e.value})}(i),i.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),i}processSegment(e,t,i,n){for(const r of e)try{return this.processSegmentAgainstRoute(r,t,i,n)}catch(s){if(!(s instanceof Rv))throw s}if(this.noLeftoversInUrl(t,i,n))return[];throw new Rv}noLeftoversInUrl(e,t,i){return 0===t.length&&!e.children[i]}processSegmentAgainstRoute(e,t,i,n){if(e.redirectTo)throw new Rv;if((e.outlet||"primary")!==n)throw new Rv;let s,r=[],o=[];if("**"===e.path){const r=i.length>0?dm(i).parameters:{};s=new qm(i,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bv(e),n,e.component,e,Mv(t),Nv(t)+i.length,zv(e))}else{const a=function(e,t,i){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||i.length>0))throw new Rv;return{consumedSegments:[],lastChild:0,parameters:{}}}const n=(t.matcher||nm)(i,e,t);if(!n)throw new Rv;const s={};pm(n.posParams,(e,t)=>{s[t]=e.path});const r=n.consumed.length>0?Object.assign(Object.assign({},s),n.consumed[n.consumed.length-1].parameters):s;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:r}}(t,e,i);r=a.consumedSegments,o=i.slice(a.lastChild),s=new qm(r,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Bv(e),n,e.component,e,Mv(t),Nv(t)+r.length,zv(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Lv(t,r,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new Hm(s,e)]}if(0===a.length&&0===c.length)return[new Hm(s,[])];const h=this.processSegment(a,l,c,"primary");return[new Hm(s,h)]}}function Mv(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Nv(e){let t=e,i=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,i+=t._segmentIndexShift?t._segmentIndexShift:0;return i-1}function Lv(e,t,i,n,s){if(i.length>0&&function(e,t,i){return i.some(i=>Vv(e,t,i)&&"primary"!==Hv(i))}(e,i,n)){const s=new vm(t,function(e,t,i,n){const s={};s.primary=n,n._sourceSegment=e,n._segmentIndexShift=t.length;for(const r of i)if(""===r.path&&"primary"!==Hv(r)){const i=new vm([],{});i._sourceSegment=e,i._segmentIndexShift=t.length,s[Hv(r)]=i}return s}(e,t,n,new vm(i,e.children)));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===i.length&&function(e,t,i){return i.some(i=>Vv(e,t,i))}(e,i,n)){const r=new vm(e.segments,function(e,t,i,n,s,r){const o={};for(const a of n)if(Vv(e,i,a)&&!s[Hv(a)]){const i=new vm([],{});i._sourceSegment=e,i._segmentIndexShift="legacy"===r?e.segments.length:t.length,o[Hv(a)]=i}return Object.assign(Object.assign({},s),o)}(e,t,i,n,e.children,s));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:i}}const r=new vm(e.segments,e.children);return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:i}}function Vv(e,t,i){return(!(e.hasChildren()||t.length>0)||"full"!==i.pathMatch)&&""===i.path&&void 0===i.redirectTo}function Hv(e){return e.outlet||"primary"}function Bv(e){return e.data||{}}function zv(e){return e.resolve||{}}function jv(e,t,i,n){const s=_v(e,t,n);return fm(s.resolve?s.resolve(t,i):s(t,i))}function Uv(e){return function(t){return t.pipe(xg(t=>{const i=e(t);return i?z(i).pipe(L(()=>t)):z([t])}))}}class $v{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const qv=new Ve("ROUTES");class Gv{constructor(e,t,i,n){this.loader=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=n}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(L(i=>{this.onLoadEndListener&&this.onLoadEndListener(t);const n=i.create(e);return new sm(um(n.injector.get(qv)).map(lm),n)}))}loadModuleFactory(e){return"string"==typeof e?z(this.loader.load(e)):fm(e()).pipe(j(e=>e instanceof Xe?jf(e):z(this.compiler.compileModuleAsync(e))))}}class Kv{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Wv(e){throw e}function Zv(e,t,i){return t.parse("/")}function Yv(e,t){return jf(null)}let Qv=(()=>{class e{constructor(e,t,i,n,s,r,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=i,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new _,this.errorHandler=Wv,this.malformedUriErrorHandler=Zv,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Yv,afterPreactivation:Yv},this.urlHandlingStrategy=new Kv,this.routeReuseStrategy=new $v,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(Je),this.console=s.get(Pc);const l=s.get(Wc);this.isNgZoneEnabled=l instanceof Wc,this.resetConfig(a),this.currentUrlTree=new mm(new vm([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Gv(r,o,e=>this.triggerEvent(new Gg(e)),e=>this.triggerEvent(new Kg(e))),this.routerState=jm(this.currentUrlTree,this.rootComponentType),this.transitions=new Lf({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Jf(e=>0!==e.id),L(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),xg(e=>{let i=!1,n=!1;return jf(e).pipe(Ag(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),xg(e=>{const i=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return jf(e).pipe(xg(e=>{const i=this.transitions.getValue();return t.next(new Lg(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),i!==this.transitions.getValue()?Wf:[e]}),xg(e=>Promise.resolve(e)),(n=this.ngModule.injector,s=this.configLoader,r=this.urlSerializer,o=this.config,function(e){return e.pipe(xg(e=>function(e,t,i,n,s){return new vv(e,t,i,n,s).apply()}(n,s,r,e.extractedUrl,o).pipe(L(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),Ag(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,i,n,s){return function(r){return r.pipe(j(r=>function(e,t,i,n,s="emptyOnly",r="legacy"){return new Pv(e,t,i,n,s,r).recognize()}(e,t,r.urlAfterRedirects,i(r.urlAfterRedirects),n,s).pipe(L(e=>Object.assign(Object.assign({},r),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ag(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Ag(e=>{const i=new zg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(i)}));var n,s,r,o;if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:i,extractedUrl:n,source:s,restoredState:r,extras:o}=e,a=new Lg(i,this.serializeUrl(n),s,r);t.next(a);const l=jm(n,this.rootComponentType).snapshot;return jf(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:n,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),Wf}),Uv(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!o})}),Ag(e=>{const t=new jg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),L(e=>Object.assign(Object.assign({},e),{guards:kv(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(i){return i.pipe(j(i=>{const{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=i;return 0===o.length&&0===r.length?jf(Object.assign(Object.assign({},i),{guardsResult:!0})):function(e,t,i,n){return z(e).pipe(j(e=>function(e,t,i,n,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?jf(r.map(r=>{const o=_v(r,t,s);let a;if(function(e){return e&&hv(e.canDeactivate)}(o))a=fm(o.canDeactivate(e,t,i,n));else{if(!hv(o))throw new Error("Invalid CanDeactivate guard");a=fm(o(e,t,i,n))}return a.pipe(yg())})).pipe(Tv()):jf(!0)}(e.component,e.route,i,t,n)),yg(e=>!0!==e,!0))}(o,n,s,e).pipe(j(i=>i&&"boolean"==typeof i?function(e,t,i,n){return z(t).pipe(Fg(t=>z([Dv(t.route.parent,n),Fv(t.route,n),Ov(e,t.path,i),Av(e,t.route,i)]).pipe(Qf(),yg(e=>!0!==e,!0))),yg(e=>!0!==e,!0))}(n,r,e,t):jf(i)),L(e=>Object.assign(Object.assign({},i),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Ag(e=>{if(uv(e.guardsResult)){const t=im(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Ag(e=>{const t=new Ug(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Jf(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const i=new Hg(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(i),e.resolve(!1),!1}return!0}),Uv(e=>{if(e.guards.canActivateChecks.length)return jf(e).pipe(Ag(e=>{const t=new $g(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(t=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(e){return e.pipe(j(e=>{const{targetSnapshot:n,guards:{canActivateChecks:s}}=e;return s.length?z(s).pipe(Fg(e=>function(e,t,i,n){return function(e,t,i,n){const s=Object.keys(e);if(0===s.length)return jf({});if(1===s.length){const r=s[0];return jv(e[r],t,i,n).pipe(L(e=>({[r]:e})))}const r={};return z(s).pipe(j(s=>jv(e[s],t,i,n).pipe(L(e=>(r[s]=e,e))))).pipe(dg(),L(()=>r))}(e._resolve,e,t,n).pipe(L(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),$m(e,i).resolve),null)))}(e.route,n,t,i)),function(e,t){return arguments.length>=2?function(i){return b(Eg(e,t),ig(1),cg(t))(i)}:function(t){return b(Eg((t,i,n)=>e(t,i,n+1)),ig(1))(t)}}((e,t)=>e),L(t=>e)):jf(e)}))}),Ag(e=>{const t=new qg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}));var t,i}),Uv(e=>{const{targetSnapshot:t,id:i,extractedUrl:n,rawUrl:s,extras:{skipLocationChange:r,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:i,appliedUrlTree:n,rawUrlTree:s,skipLocationChange:!!r,replaceUrl:!!o})}),L(e=>{const t=function(e,t,i){const n=function e(t,i,n){if(n&&t.shouldReuseRoute(i.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=i.value;const r=function(t,i,n){return i.children.map(i=>{for(const s of n.children)if(t.shouldReuseRoute(s.value.snapshot,i.value))return e(t,i,s);return e(t,i)})}(t,i,n);return new Hm(s,r)}{const n=t.retrieve(i.value);if(n){const e=n.route;return function e(t,i){if(t.value.routeConfig!==i.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==i.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");i.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)e(t.children[n],i.children[n])}(i,e),e}{const n=new Um(new Lf((s=i.value).url),new Lf(s.params),new Lf(s.queryParams),new Lf(s.fragment),new Lf(s.data),s.outlet,s.component,s),r=i.children.map(i=>e(t,i));return new Hm(n,r)}}var s}(e,t._root,i?i._root:void 0);return new zm(n,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Ag(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(r=this.rootContexts,o=this.routeReuseStrategy,a=e=>this.triggerEvent(e),L(e=>(new lv(o,e.targetRouterState,e.currentRouterState,a).activate(r),e))),Ag({next(){i=!0},complete(){i=!0}}),(s=()=>{if(!i&&!n){this.resetUrlToCurrentUrlTree();const i=new Hg(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(i),e.resolve(!1)}this.currentNavigation=null},e=>e.lift(new Pg(s))),pg(i=>{if(n=!0,(s=i)&&s.ngNavigationCancelingError){const n=uv(i.url);n||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const s=new Hg(e.id,this.serializeUrl(e.extractedUrl),i.message);t.next(s),n?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(i.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const n=new Bg(e.id,this.serializeUrl(e.extractedUrl),i);t.next(n);try{e.resolve(this.errorHandler(i))}catch(r){e.reject(r)}}var s;return Wf}));var s,r,o,a}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const i="popstate"===e.type?"popstate":"hashchange",n=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,i,n,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){rm(e),this.config=e.map(lm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:i,queryParams:n,fragment:s,preserveQueryParams:r,queryParamsHandling:o,preserveFragment:a}=t;Sn()&&r&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=i||this.routerState.root,c=a?this.currentUrlTree.fragment:s;let h=null;if(o)switch(o){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),n);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=n||null}else h=r?this.currentUrlTree.queryParams:n||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,i,n,s){if(0===i.length)return Jm(t.root,t.root,t,n,s);const r=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Xm(!0,0,e);let t=0,i=!1;const n=e.reduce((e,n,s)=>{if("object"==typeof n&&null!=n){if(n.outlets){const t={};return pm(n.outlets,(e,i)=>{t[i]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(n.segmentPath)return[...e,n.segmentPath]}return"string"!=typeof n?[...e,n]:0===s?(n.split("/").forEach((n,s)=>{0==s&&"."===n||(0==s&&""===n?i=!0:".."===n?t++:""!=n&&e.push(n))}),e):[...e,n]},[]);return new Xm(i,t,n)}(i);if(r.toRoot())return Jm(t.root,new vm([],{}),t,n,s);const o=function(e,t,i){if(e.isAbsolute)return new ev(t.root,!0,0);if(-1===i.snapshot._lastPathIndex)return new ev(i.snapshot._urlSegment,!0,0);const n=Qm(e.commands[0])?0:1;return function(e,t,i){let n=e,s=t,r=i;for(;r>s;){if(r-=s,n=n.parent,!n)throw new Error("Invalid number of '../'");s=n.segments.length}return new ev(n,!1,s-r)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+n,e.numberOfDoubleDots)}(r,t,e),a=o.processChildren?nv(o.segmentGroup,o.index,r.commands):iv(o.segmentGroup,o.index,r.commands);return Jm(o.segmentGroup,a,t,n,s)}(l,this.currentUrlTree,e,h,c)}navigateByUrl(e,t={skipLocationChange:!1}){Sn()&&this.isNgZoneEnabled&&!Wc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const i=uv(e)?e:this.parseUrl(e),n=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const i=e[t];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(i){t=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return t}isActive(e,t){if(uv(e))return gm(this.currentUrlTree,e,t);const i=this.parseUrl(e);return gm(this.currentUrlTree,i,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,i)=>{const n=e[i];return null!=n&&(t[i]=n),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new Vg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,i,n,s){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let o,a,l;s?(o=s.resolve,a=s.reject,l=s.promise):l=new Promise((e,t)=>{o=e,a=t});const c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:n,resolve:o,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,i,n){const s=this.urlSerializer.serialize(e);n=n||{},this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,"",Object.assign(Object.assign({},n),{navigationId:i})):this.location.go(s,"",Object.assign(Object.assign({},n),{navigationId:i}))}resetStateAndUrl(e,t,i){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e}),e})(),Jv=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.route=t,this.commands=[],null==i&&n.setAttribute(s.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Sn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:eb(this.skipLocationChange),replaceUrl:eb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:eb(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:eb(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Fo(Qv),Fo(Um),Do("tabindex"),Fo(Ya),Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&Uo("click",(function(){return t.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),e})(),Xv=(()=>{class e{constructor(e,t,i){this.router=e,this.route=t,this.locationStrategy=i,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof Vg&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){Sn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,i,n){if(0!==e||t||i||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:eb(this.skipLocationChange),replaceUrl:eb(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:eb(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:eb(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(Fo(Qv),Fo(Um),Fo(Nh))},e.\u0275dir=yt({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)})),2&e&&(ka("href",t.href,Yn),_o("target",t.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Oa]}),e})();function eb(e){return""===e||!!e}let tb=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.element=t,this.renderer=i,this.link=n,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof Vg&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(Qv),Fo(Ga),Fo(Ya),Fo(Jv,8),Fo(Xv,8))},e.\u0275dir=yt({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(e,t,i){var n;1&e&&(bc(i,Jv,!0),bc(i,Xv,!0)),2&e&&(fc(n=Cc())&&(t.links=n),fc(n=Cc())&&(t.linksWithHrefs=n))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Oa]}),e})();class ib{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new nb,this.attachRef=null}}class nb{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new ib,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let sb=(()=>{class e{constructor(e,t,i,n,s){this.parentContexts=e,this.location=t,this.resolver=i,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new nc,this.deactivateEvents=new nc,this.name=n||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const i=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,s=new rb(e,n,this.location.injector);this.activated=this.location.createComponent(i,this.location.length,s),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(Fo(nb),Fo(bl),Fo(qa),Do("name"),Fo($r))},e.\u0275dir=yt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class rb{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Um?this.route:e===nb?this.childContexts:this.parent.get(e,t)}}class ob{}class ab{preload(e,t){return jf(null)}}let lb=(()=>{class e{constructor(e,t,i,n,s){this.router=e,this.injector=n,this.preloadingStrategy=s,this.loader=new Gv(t,i,t=>e.triggerEvent(new Gg(t)),t=>e.triggerEvent(new Kg(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jf(e=>e instanceof Vg),Fg(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Je);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const i=[];for(const n of t)if(n.loadChildren&&!n.canLoad&&n._loadedConfig){const e=n._loadedConfig;i.push(this.processRoutes(e.module,e.routes))}else n.loadChildren&&!n.canLoad?i.push(this.preloadConfig(e,n)):n.children&&i.push(this.processRoutes(e,n.children));return z(i).pipe(q(),L(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe(j(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(We(Qv),We(mh),We($c),We(oo),We(ob))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),cb=(()=>{class e{constructor(e,t,i={}){this.router=e,this.viewportScroller=t,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Lg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vg&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Jg&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new Jg(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e}),e})();const hb=new Ve("ROUTER_CONFIGURATION"),ub=new Ve("ROUTER_FORROOT_GUARD"),db=[zh,{provide:Cm,useClass:xm},{provide:Qv,useFactory:function(e,t,i,n,s,r,o,a={},l,c){const h=new Qv(null,e,t,i,n,s,r,um(o));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=_h();h.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h},deps:[Cm,nb,zh,oo,mh,$c,qv,hb,[class{},new se],[class{},new se]]},nb,{provide:Um,useFactory:function(e){return e.routerState.root},deps:[Qv]},{provide:mh,useClass:yh},lb,ab,class{preload(e,t){return t().pipe(pg(()=>jf(null)))}},{provide:hb,useValue:{enableTracing:!1}}];function pb(){return new ch("Router",Qv)}let fb=(()=>{class e{constructor(e,t){}static forRoot(t,i){return{ngModule:e,providers:[db,bb(t),{provide:ub,useFactory:vb,deps:[[Qv,new se,new oe]]},{provide:hb,useValue:i||{}},{provide:Nh,useFactory:mb,deps:[Ih,[new ne(Vh),new se],hb]},{provide:cb,useFactory:gb,deps:[Qv,Mu,hb]},{provide:ob,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:ab},{provide:ch,multi:!0,useFactory:pb},[yb,{provide:Ec,multi:!0,useFactory:wb,deps:[yb]},{provide:xb,useFactory:Cb,deps:[yb]},{provide:Rc,multi:!0,useExisting:xb}]]}}static forChild(t){return{ngModule:e,providers:[bb(t)]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)(We(ub,8),We(Qv,8))}}),e})();function gb(e,t,i){return i.scrollOffset&&t.setOffset(i.scrollOffset),new cb(e,t,i)}function mb(e,t,i={}){return i.useHash?new Bh(e,t):new Hh(e,t)}function vb(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function bb(e){return[{provide:ao,multi:!0,useValue:e},{provide:qv,multi:!0,useValue:e}]}let yb=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new _}appInitializer(){return this.injector.get(Fh,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),i=this.injector.get(Qv),n=this.injector.get(hb);if(this.isLegacyDisabled(n)||this.isLegacyEnabled(n))e(!0);else if("disabled"===n.initialNavigation)i.setUpLocationChangeListener(),e(!0);else{if("enabled"!==n.initialNavigation)throw new Error(`Invalid initialNavigation options: '${n.initialNavigation}'`);i.hooks.afterPreactivation=()=>this.initNavigation?jf(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),i.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(hb),i=this.injector.get(lb),n=this.injector.get(cb),s=this.injector.get(Qv),r=this.injector.get(fh);e===r.components[0]&&(this.isLegacyEnabled(t)?s.initialNavigation():this.isLegacyDisabled(t)&&s.setUpLocationChangeListener(),i.setUpPreloading(),n.init(),s.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(We(oo))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function wb(e){return e.appInitializer.bind(e)}function Cb(e){return e.bootstrapListener.bind(e)}const xb=new Ve("Router Initializer");function Sb(e,t){1&e&&(Po(0,"a",6),No(1,"i",7),Po(2,"span",8),ya(3,"Samples"),Mo(),Mo())}const kb=function(e){return{"ar-aside--expanded":e}};let _b=(()=>{class e{constructor(){this.isAsideExpanded=!1,this.logged=!1,this.isVisible=!1}ngOnInit(){this.isVisible=!0}toggleAside(){this.isAsideExpanded=!this.isAsideExpanded}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-aside"]],decls:10,vars:4,consts:[[1,"ar-aside",3,"ngClass"],[1,"ar-aside__list"],[1,"ar-aside__list-item","ar-aside__list-item--toggler",3,"click"],[1,"ar-aside__list-item-icn","fas","fa-bars"],["routerLink","/home","routerLinkActive","active","class","ar-aside__list-item",4,"ngIf"],[1,"ar-aside__copyright"],["routerLink","/home","routerLinkActive","active",1,"ar-aside__list-item"],[1,"ar-aside__list-item-icn","fas","fa-dice-d6"],[1,"ar-aside__list-item-txt"]],template:function(e,t){1&e&&(Po(0,"div",0),Po(1,"ul",1),Po(2,"li"),Po(3,"a",2),Uo("click",(function(){return t.toggleAside()})),No(4,"i",3),Mo(),Mo(),Po(5,"li"),Io(6,Sb,4,0,"a",4),Mo(),No(7,"li"),Mo(),Po(8,"p",5),ya(9," \xa9 Shell 2021 "),Mo(),Mo()),2&e&&(Oo("ngClass",Ul(2,kb,t.isAsideExpanded)),vs(6),Oo("ngIf",t.isVisible))},directives:[wu,ku,Xv,tb],styles:[""]}),e})();var Eb=function(e){return e.Success="Success",e.Error="Error",e.Info="Information",e.Warning="Warning",e}({});let Ib=(()=>{class e{constructor(){this.subject=new _}getAlert(){return this.subject.asObservable()}success(e){this.alert(Eb.Success,e)}error(e){this.alert(Eb.Error,e)}info(e){this.alert(Eb.Info,e)}warn(e){this.alert(Eb.Warning,e)}alert(e,t){this.subject.next({type:e,message:t})}clear(){this.subject.next()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function Tb(e,t){if(1&e){const e=Bo();Po(0,"section",1),Po(1,"span",2),Uo("click",(function(){Qt(e);const i=t.$implicit;return Go().removeAlert(i)})),Mo(),Po(2,"span",3),No(3,"span",4),Mo(),Po(4,"div",5),Po(5,"h1",6),ya(6),Mo(),Po(7,"p",7),ya(8),Mo(),Mo(),Mo()}if(2&e){const e=t.$implicit,i=Go();Oo("ngClass",i.alertType(e)),vs(3),Oo("ngClass",i.alertIcon(e)),vs(3),wa(e.type),vs(2),wa(e.message)}}let Fb=(()=>{class e{constructor(e){this.toastService=e,this.alerts=[],this.subscribeForAlerts()}subscribeForAlerts(){this.alertSubsription=this.toastService.getAlert().subscribe(e=>{this.alerts.push(e),setTimeout(()=>{this.removeAlert(e)},3e3)})}ngOnInit(){}ngOnDestroy(){this.alertSubsription.unsubscribe()}removeAlert(e){this.alerts=this.alerts.filter(t=>t!==e)}alertType(e){if(e)switch(e.type){case Eb.Success:return"ar-toast--success";case Eb.Error:return"ar-toast--error";case Eb.Info:return"ar-toast--info";case Eb.Warning:return"ar-toast--warning"}}alertIcon(e){if(e)switch(e.type){case Eb.Success:return"fas fa-check";case Eb.Error:return"far fa-times-circle";case Eb.Info:case Eb.Warning:return"fas fa-exclamation-circle"}}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ib))},e.\u0275cmp=pt({type:e,selectors:[["app-toast"]],decls:1,vars:1,consts:[["class","ar-toast ar-toast--active","style","z-index: 1000;",3,"ngClass",4,"ngFor","ngForOf"],[1,"ar-toast","ar-toast--active",2,"z-index","1000",3,"ngClass"],[1,"ar-toast__close","fas","fa-times",3,"click"],[1,"ar-toast__icn"],[3,"ngClass"],["role","alert",1,"ar-toast__content"],[1,"ar-toast__title"],[1,"ar-toast__desc"]],template:function(e,t){1&e&&Io(0,Tb,9,4,"section",0),2&e&&Oo("ngForOf",t.alerts)},directives:[xu,wu],styles:[""]}),e})(),Db=(()=>{class e{constructor(){this.title="Artemis"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"ar-main"],[1,"ar-body"],[1,"ar-body__content"]],template:function(e,t){1&e&&(Po(0,"main",0),No(1,"app-header"),Po(2,"section",1),No(3,"app-aside"),Po(4,"section",2),No(5,"router-outlet"),No(6,"app-toast"),Mo(),Mo(),Mo())},directives:[zf,_b,sb,Fb],styles:[""]}),e})();const Ab=(e,t)=>i=>t(e(i)),Ob=(e,t,i)=>e.addEventListener&&e.addEventListener(t,i),Rb=(e,t,i)=>e&&e.removeEventListener&&e.removeEventListener(t,i),Pb=()=>{},Mb=e=>e.preventDefault(),Nb=/touch/;function Lb(e){return e.type.match(Nb)?{pageX:e.changedTouches[0].pageX,pageY:e.changedTouches[0].pageY,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY,type:e.type,originalEvent:e,isTouch:!0}:{pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,offsetX:e.offsetX,offsetY:e.offsetY,type:e.type,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,originalEvent:e}}var Vb=(()=>{class e{static supportPointerEvent(){return"undefined"!=typeof window&&window.PointerEvent}get document(){return this._element?this._element.ownerDocument:document}constructor({press:e=Pb,drag:t=Pb,release:i=Pb,mouseOnly:n=!1}){this._pressHandler=Ab(Lb,e),this._dragHandler=Ab(Lb,t),this._releaseHandler=Ab(Lb,i),this._ignoreMouse=!1,this._mouseOnly=n,this._touchstart=e=>{1===e.touches.length&&this._pressHandler(e)},this._touchmove=e=>{1===e.touches.length&&this._dragHandler(e)},this._touchend=e=>{0===e.touches.length&&1===e.changedTouches.length&&(this._releaseHandler(e),this._ignoreMouse=!0,setTimeout(this._restoreMouse,2e3))},this._restoreMouse=()=>{this._ignoreMouse=!1},this._mousedown=e=>{const{which:t}=e;t&&t>1||this._ignoreMouse||(Ob(this.document,"mousemove",this._mousemove),Ob(this.document,"mouseup",this._mouseup),this._pressHandler(e))},this._mousemove=e=>{this._dragHandler(e)},this._mouseup=e=>{Rb(this.document,"mousemove",this._mousemove),Rb(this.document,"mouseup",this._mouseup),this._releaseHandler(e)},this._pointerdown=e=>{e.isPrimary&&0===e.button&&(Ob(this.document,"pointermove",this._pointermove),Ob(this.document,"pointerup",this._pointerup),Ob(this.document,"pointercancel",this._pointerup),Ob(this.document,"contextmenu",Mb),this._pressHandler(e))},this._pointermove=e=>{e.isPrimary&&this._dragHandler(e)},this._pointerup=e=>{e.isPrimary&&(Rb(this.document,"pointermove",this._pointermove),Rb(this.document,"pointerup",this._pointerup),Rb(this.document,"pointercancel",this._pointerup),Rb(this.document,"contextmenu",Mb),this._releaseHandler(e))}}bindTo(e){e!==this._element&&(this._element&&this._unbindFromCurrent(),this._element=e,this._bindToCurrent())}_bindToCurrent(){const e=this._element;this._usePointers()?Ob(e,"pointerdown",this._pointerdown):(Ob(e,"mousedown",this._mousedown),this._mouseOnly||(Ob(e,"touchstart",this._touchstart),Ob(e,"touchmove",this._touchmove),Ob(e,"touchend",this._touchend)))}_unbindFromCurrent(){const e=this._element;if(this._usePointers())return Rb(e,"pointerdown",this._pointerdown),Rb(this.document,"pointermove",this._pointermove),Rb(this.document,"pointerup",this._pointerup),Rb(this.document,"contextmenu",Mb),void Rb(this.document,"pointercancel",this._pointerup);Rb(e,"mousedown",this._mousedown),this._mouseOnly||(Rb(e,"touchstart",this._touchstart),Rb(e,"touchmove",this._touchmove),Rb(e,"touchend",this._touchend))}_usePointers(){return!this._mouseOnly&&e.supportPointerEvent()}update({press:e=Pb,drag:t=Pb,release:i=Pb,mouseOnly:n=!1}){this._pressHandler=Ab(Lb,e),this._dragHandler=Ab(Lb,t),this._releaseHandler=Ab(Lb,i),this._mouseOnly=n}destroy(){this._unbindFromCurrent(),this._element=null}}return e.default=e,e})();class Hb extends u{constructor(e,t){super()}schedule(e,t=0){return this}}class Bb extends Hb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,n=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(n,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,n=void 0;try{this.work(e)}catch(s){i=!0,n=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,n=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&i.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let zb=(()=>{class e{constructor(t,i=e.now){this.SchedulerAction=t,this.now=i}schedule(e,t=0,i){return new this.SchedulerAction(this,e).schedule(i,t)}}return e.now=()=>Date.now(),e})();class jb extends zb{constructor(e,t=zb.now){super(e,()=>jb.delegate&&jb.delegate!==this?jb.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return jb.delegate&&jb.delegate!==this?jb.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const Ub=new jb(Bb);class $b{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new qb(e,this.durationSelector))}}class qb extends N{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let i;try{const{durationSelector:t}=this;i=t(e)}catch(t){return this.destination.error(t)}const n=M(this,i);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:e,hasValue:t,throttled:i}=this;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,i,n){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Gb(e){return!l(e)&&e-parseFloat(e)+1>=0}function Kb(e){const{index:t,period:i,subscriber:n}=e;if(n.next(t),!n.closed){if(-1===i)return n.complete();e.index=t+1,this.schedule(e,i)}}function Wb(e,t=Ub){return i=()=>function(e=0,t,i){let n=-1;return Gb(t)?n=Number(t)<1?1:Number(t):I(t)&&(i=t),I(i)||(i=Ub),new w(t=>{const s=Gb(e)?e:+e-i.now();return i.schedule(Kb,s,{index:0,period:n,subscriber:t})})}(e,t),function(e){return e.lift(new $b(i))};var i}function Zb(e,t,i,s){return n(i)&&(s=i,i=void 0),s?Zb(e,t,i).pipe(L(e=>l(e)?s(...e):s(e))):new w(n=>{!function e(t,i,n,s,r){let o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(i,n,r),o=()=>e.removeEventListener(i,n,r)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(i,n),o=()=>e.off(i,n)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(i,n),o=()=>e.removeListener(i,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,a=t.length;o<a;o++)e(t[o],i,n,s,r)}s.add(o)}(e,t,(function(e){n.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),n,i)})}const Yb=()=>"undefined"!=typeof document,Qb=(e,t,i=!0)=>!(void 0===t[e]||t[e].isFirstChange()&&i||t[e].previousValue===t[e].currentValue),Jb=(e,t,i=!0)=>e.some(e=>Qb(e,t,i)),Xb=e=>e&&e.observers.length>0,ey=()=>{let e="";for(let t=0;t<32;t++){const i=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&i|8:i).toString(16)}return e};let ty=(()=>{class e{constructor(e,t){this.element=e,this.ngZone=t,this.enableDrag=!0,this.kendoPress=new nc,this.kendoDrag=new nc,this.kendoRelease=new nc}ngOnInit(){this.toggleDraggable()}ngOnChanges(e){Qb("enableDrag",e)&&this.toggleDraggable()}ngOnDestroy(){this.destroyDraggable()}toggleDraggable(){Yb()&&(this.destroyDraggable(),this.enableDrag&&(this.draggable=new Vb({drag:e=>this.kendoDrag.next(e),press:e=>this.kendoPress.next(e),release:e=>this.kendoRelease.next(e)}),this.ngZone.runOutsideAngular(()=>this.draggable.bindTo(this.element.nativeElement))))}destroyDraggable(){this.draggable&&(this.draggable.destroy(),this.draggable=null)}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoDraggable",""]],inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},features:[Oa]}),e})(),iy=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})(),ny=(()=>{class e{constructor(e,t,i){this.element=e,this.ngZone=t,this.renderer=i,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let t in e)e.hasOwnProperty(t)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,t,this.scope?e[t].bind(this.scope):e[t]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Wc),Fo(Ya))},e.\u0275dir=yt({type:e,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"}}),e})(),sy=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();class ry{constructor(e){this.resizeBatchService=e,this.resize=new nc,this.acceptedSize=!1,this.state=0}acceptSize(e=this.measure()){this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0}checkChanges(){Yb()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))}destroy(){this.resizeBatchService.cancel(this)}checkSize(){if(!this.parentElement)return;const{width:e,height:t}=this.measure();return e===this.lastWidth&&t===this.lastHeight?void 0:(this.lastWidth=e,this.lastHeight=t,this.acceptedSize=!1,this.resize.emit(),!0)}initSize(){const e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height}measure(){let e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}}}const oy=e=>{const t=document.createElement("div");return t.style.cssText=e,t},ay="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;";class ly extends ry{constructor(e,t,i){super(e),this.element=t,this.ngZone=i}checkChanges(){2!==this.state?super.checkChanges():this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize)}destroy(){if(super.destroy(),this.subscription&&this.subscription.unsubscribe(),this.expand){const e=this.element.nativeElement;e.removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null}}checkSize(){if(super.checkSize())return this.reset(),!0}init(){const e=this.parentElement=this.element.nativeElement.parentElement;"static"===getComputedStyle(e,null).getPropertyValue("position")&&(e.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()}render(){const e=this.element.nativeElement;e.style.cssText=ay,e.setAttribute("dir","ltr"),this.expand=oy(ay),this.expandChild=oy("position: absolute; left: 0; top: 0; transition: 0s;"),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=oy(ay);const t=oy("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;");this.shrink.appendChild(t),e.appendChild(this.shrink)}reset(){const e=this.expandChild;e.style.width="100000px",e.style.height="100000px";const t=this.expand;t.scrollLeft=1e5,t.scrollTop=1e5;const i=this.shrink;i.scrollLeft=1e5,i.scrollTop=1e5}subscribe(){this.ngZone.runOutsideAngular(()=>{this.subscription=K(Zb(this.shrink,"scroll"),Zb(this.expand,"scroll")).subscribe(()=>{this.checkSize()})})}}const cy="undefined"!=typeof ResizeObserver;class hy extends ry{constructor(e,t,i){super(e),this.element=t,this.ngZone=i}static supported(){return cy}destroy(){super.destroy(),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null}init(){this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(()=>{this.resizeObserver=new ResizeObserver(()=>{this.checkSize()}),this.resizeObserver.observe(this.parentElement)})}}let uy=(()=>{class e{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,t){this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=z(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(t=>t.instance===e))}cancel(e){const t=this.scheduled,i=t.length;for(let n=0;n<i;n++)if(t[n].instance===e)return t.splice(n,1),void(t.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),dy=(()=>{class e{constructor(e,t,i){this.rateLimit=10,this.resize=new nc;const n=hy.supported()?hy:ly;this.resizeService=new n(e,t,i),this.subscription=this.resizeService.resize.pipe(Wb(1e3/(this.rateLimit||10))).subscribe(()=>{this.resizeService.acceptedSize||this.resize.emit()})}ngAfterViewChecked(){this.resizeService.checkChanges()}ngOnDestroy(){this.subscription.unsubscribe(),this.resizeService.destroy()}acceptSize(e){this.resizeService.acceptSize(e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(uy),Fo(Ga),Fo(Wc))},e.\u0275cmp=pt({type:e,selectors:[["kendo-resize-sensor"]],inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),py=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[uy]}),e})();class fy{}var gy=function(e){return e[e.Alt=18]="Alt",e[e.ArrowDown=40]="ArrowDown",e[e.ArrowLeft=37]="ArrowLeft",e[e.ArrowRight=39]="ArrowRight",e[e.ArrowUp=38]="ArrowUp",e[e.Backspace=8]="Backspace",e[e.Control=17]="Control",e[e.Delete=46]="Delete",e[e.Digit0=48]="Digit0",e[e.Digit1=49]="Digit1",e[e.Digit2=50]="Digit2",e[e.Digit3=51]="Digit3",e[e.Digit4=52]="Digit4",e[e.Digit5=53]="Digit5",e[e.Digit6=54]="Digit6",e[e.Digit7=55]="Digit7",e[e.Digit8=56]="Digit8",e[e.Digit9=57]="Digit9",e[e.End=35]="End",e[e.Enter=13]="Enter",e[e.Escape=27]="Escape",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F10=121]="F10",e[e.Home=36]="Home",e[e.Insert=45]="Insert",e[e.KeyA=65]="KeyA",e[e.KeyB=66]="KeyB",e[e.KeyC=67]="KeyC",e[e.KeyD=68]="KeyD",e[e.KeyE=69]="KeyE",e[e.KeyF=70]="KeyF",e[e.KeyG=71]="KeyG",e[e.KeyH=72]="KeyH",e[e.KeyI=73]="KeyI",e[e.KeyJ=74]="KeyJ",e[e.KeyK=75]="KeyK",e[e.KeyL=76]="KeyL",e[e.KeyM=77]="KeyM",e[e.KeyN=78]="KeyN",e[e.KeyO=79]="KeyO",e[e.KeyP=80]="KeyP",e[e.KeyQ=81]="KeyQ",e[e.KeyR=82]="KeyR",e[e.KeyS=83]="KeyS",e[e.KeyT=84]="KeyT",e[e.KeyU=85]="KeyU",e[e.KeyV=86]="KeyV",e[e.KeyW=87]="KeyW",e[e.KeyX=88]="KeyX",e[e.KeyY=89]="KeyY",e[e.KeyZ=90]="KeyZ",e[e.NumpadDecimal=110]="NumpadDecimal",e[e.PageDown=34]="PageDown",e[e.PageUp=33]="PageUp",e[e.Shift=16]="Shift",e[e.Space=32]="Space",e[e.Tab=9]="Tab",e}({});function my(e=0,t=Ub){return(!Gb(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=Ub),new w(i=>(i.add(t.schedule(vy,e,{subscriber:i,counter:0,period:e})),i))}function vy(e){const{subscriber:t,counter:i,period:n}=e;t.next(i),this.schedule({subscriber:t,counter:i+1,period:n},n)}class by{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new yy(e,this.resultSelector))}}class yy extends f{constructor(e,t,i=Object.create(null)){super(e),this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:null,this.values=i}_next(e){const t=this.iterators;l(e)?t.push(new Cy(e)):t.push("function"==typeof e[A]?new wy(e[A]()):new xy(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let i=0;i<t;i++){let t=e[i];t.stillUnsubscribed?this.destination.add(t.subscribe(t,i)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,i=this.destination;for(let r=0;r<t;r++){let t=e[r];if("function"==typeof t.hasValue&&!t.hasValue())return}let n=!1;const s=[];for(let r=0;r<t;r++){let t=e[r],o=t.next();if(t.hasCompleted()&&(n=!0),o.done)return void i.complete();s.push(o.value)}this.resultSelector?this._tryresultSelector(s):i.next(s),n&&i.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}class wy{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return e&&e.done}}class Cy{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[A](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class xy extends N{constructor(e,t,i){super(e),this.parent=t,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[A](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e,t,i,n,s){this.buffer.push(t),this.parent.checkIterators()}subscribe(e,t){return M(this,this.observable,this,t)}}class Sy{constructor(e){this.total=e}call(e,t){return t.subscribe(new ky(e,this.total))}}class ky extends f{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}let _y=(()=>{class e{constructor(){this.changes=new _}notify(e){this.changes.next({rtl:e})}get(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Ey=(()=>{class e{get override(){return!1}ngOnChanges(e){this.register(e),Object.keys(e).some(t=>!e[t].isFirstChange())&&this.service.notifyChanges()}ngOnInit(){this.subscription=this.service.changes.pipe((1,e=>e.lift(new Sy(1)))).subscribe(()=>this.register(this))}register(e){Object.keys(e).forEach(e=>this.service.register(e,this[e],this.override))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,features:[Oa]}),e})();const Iy=new Ve("Kendo UI Right-to-Left token"),Ty=new Ve("Localization key prefix");let Fy=(()=>{class e{constructor(e,t,i){this.prefix=e,this.messageService=t,this._rtl=i,this.changes=new Lf({rtl:this._rtl}),this.dictionary={},t&&(this.subscription=t.changes.pipe(L(({rtl:e})=>void 0!==e?e:this._rtl),Ag(e=>this._rtl=e)).subscribe(e=>{this.dictionary={},this.changes.next({rtl:e})}))}get rtl(){return this._rtl}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get(e){const t=this.key(e);return this.dictionary[t]}register(e,t,i=!1){const n=this.key(e);let s=t;if(!i){if(this.dictionary.hasOwnProperty(n))return;s=this.defaultValue(n,t)}this.dictionary[n]=s}notifyChanges(){this.changes.next({rtl:this.rtl})}key(e){return this.prefix+"."+e}defaultValue(e,t){if(!this.messageService)return t;const i=this.messageService.get(e);return void 0===i?t:i}}return e.\u0275fac=function(t){return new(t||e)(We(Ty),We(_y,8),We(Iy,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function Dy(e){return t=>t.lift(new Ay(e))}class Ay{constructor(e){this.notifier=e}call(e,t){const i=new Oy(e),n=M(i,this.notifier);return n&&!i.seenValue?(i.add(n),t.subscribe(i)):i}}class Oy extends N{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,i,n,s){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ry(e,t){return t?xg(()=>e,t):xg(()=>e)}function Py(e){return e instanceof Date&&!isNaN(+e)}function My(e,t){return new w(t?i=>t.schedule(Ny,0,{error:e,subscriber:i}):t=>t.error(e))}function Ny({error:e,subscriber:t}){t.error(e)}let Ly=(()=>{class e{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return jf(this.value);case"E":return My(this.error);case"C":return Zf()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();function Vy(e,t=Ub){const i=Py(e)?+e-t.now():Math.abs(e);return e=>e.lift(new Hy(i,t))}class Hy{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new By(e,this.delay,this.scheduler))}}class By extends f{constructor(e,t,i){super(e),this.delay=t,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,i=t.queue,n=e.scheduler,s=e.destination;for(;i.length>0&&i[0].time-n.now()<=0;)i.shift().notification.observe(s);if(i.length>0){const t=Math.max(0,i[0].time-n.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(By.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,i=new zy(t.now()+this.delay,e);this.queue.push(i),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(Ly.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(Ly.createComplete()),this.unsubscribe()}}class zy{constructor(e,t){this.time=e,this.notification=t}}class jy{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Uy(e,this.compare,this.keySelector))}}class Uy extends f{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:i}=this;t=i?i(e):e}catch(n){return this.destination.error(n)}let i=!1;if(this.hasKey)try{const{compare:e}=this;i=e(this.key,t)}catch(n){return this.destination.error(n)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}const $y={leading:!0,trailing:!1};class qy{constructor(e,t,i,n){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=n}call(e,t){return t.subscribe(new Gy(e,this.duration,this.scheduler,this.leading,this.trailing))}}class Gy extends f{constructor(e,t,i,n,s){super(e),this.duration=t,this.scheduler=i,this.leading=n,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Ky,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function Ky(e){const{subscriber:t}=e;t.clearThrottle()}function Wy(e,t=Ub){return i=>i.lift(new Zy(e,t))}class Zy{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Yy(e,this.dueTime,this.scheduler))}}class Yy extends f{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Qy,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Qy(e){e.debouncedNext()}class Jy{constructor(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?ew:Xy}call(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))}}class Xy extends f{constructor(e,t){super(e),this.bufferSize=t,this.buffer=[]}_next(e){const t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])}_complete(){const e=this.buffer;e.length>0&&this.destination.next(e),super._complete()}}class ew extends f{constructor(e,t,i){super(e),this.bufferSize=t,this.startBufferEvery=i,this.buffers=[],this.count=0}_next(e){const{bufferSize:t,startBufferEvery:i,buffers:n,count:s}=this;this.count++,s%i==0&&n.push([]);for(let r=n.length;r--;){const i=n[r];i.push(e),i.length===t&&(n.splice(r,1),this.destination.next(i))}}_complete(){const{buffers:e,destination:t}=this;for(;e.length>0;){let i=e.shift();i.length>0&&t.next(i)}super._complete()}}function tw(e,t){return new w(i=>{const n=e.length;if(0===n)return void i.complete();const s=new Array(n);let r=0,o=0;for(let a=0;a<n;a++){const l=z(e[a]);let c=!1;i.add(l.subscribe({next:e=>{c||(c=!0,o++),s[a]=e},error:e=>i.error(e),complete:()=>{r++,r!==n&&c||(o===n&&i.next(t?t.reduce((e,t,i)=>(e[t]=s[i],e),{}):s),i.complete())}}))}})}const iw=new Ve("NgValueAccessor"),nw={provide:iw,useExisting:Se(()=>sw),multi:!0};let sw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ya),Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[ja([nw])]}),e})();const rw={provide:iw,useExisting:Se(()=>aw),multi:!0},ow=new Ve("CompositionEventMode");let aw=(()=>{class e{constructor(e,t,i){this._renderer=e,this._elementRef=t,this._compositionMode=i,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=_h()?_h().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ya),Fo(Ga),Fo(ow,8))},e.\u0275dir=yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Uo("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[ja([rw])]}),e})(),lw=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e}),e})(),cw=(()=>{class e extends lw{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return hw(t||e)},e.\u0275dir=yt({type:e,features:[Ea]}),e})();const hw=an(cw);function uw(){throw new Error("unimplemented")}class dw extends lw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return uw()}get asyncValidator(){return uw()}}class pw{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let fw=(()=>{class e extends pw{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(dw,2))},e.\u0275dir=yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&oa("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ea]}),e})(),gw=(()=>{class e extends pw{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(cw,2))},e.\u0275dir=yt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&oa("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[Ea]}),e})();function mw(e){return null==e||0===e.length}const vw=new Ve("NgValidators"),bw=new Ve("NgAsyncValidators"),yw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ww{static min(e){return t=>{if(mw(t.value)||mw(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(mw(t.value)||mw(e))return null;const i=parseFloat(t.value);return!isNaN(i)&&i>e?{max:{max:e,actual:t.value}}:null}}static required(e){return mw(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return mw(e.value)||yw.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(mw(t.value))return null;const i=t.value?t.value.length:0;return i<e?{minlength:{requiredLength:e,actualLength:i}}:null}}static maxLength(e){return t=>{const i=t.value?t.value.length:0;return i>e?{maxlength:{requiredLength:e,actualLength:i}}:null}}static pattern(e){if(!e)return ww.nullValidator;let t,i;return"string"==typeof e?(i="","^"!==e.charAt(0)&&(i+="^"),i+=e,"$"!==e.charAt(e.length-1)&&(i+="$"),t=new RegExp(i)):(i=e.toString(),t=e),e=>{if(mw(e.value))return null;const n=e.value;return t.test(n)?null:{pattern:{requiredPattern:i,actualValue:n}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Cw);return 0==t.length?null:function(e){return Sw(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Cw);return 0==t.length?null:function(e){return function(...e){if(1===e.length){const t=e[0];if(l(t))return tw(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return tw(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return tw(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(L(e=>t(...e)))}return tw(e,null)}(function(e,t){return t.map(t=>t(e))}(e,t).map(xw)).pipe(L(Sw))}}}function Cw(e){return null!=e}function xw(e){const t=zo(e)?z(e):e;if(!jo(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Sw(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function kw(e){return e.validate?t=>e.validate(t):e}function _w(e){return e.validate?t=>e.validate(t):e}const Ew={provide:iw,useExisting:Se(()=>Iw),multi:!0};let Iw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ya),Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ja([Ew])]}),e})();const Tw={provide:iw,useExisting:Se(()=>Dw),multi:!0};let Fw=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Dw=(()=>{class e{constructor(e,t,i,n){this._renderer=e,this._elementRef=t,this._registry=i,this._injector=n,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(dw),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ya),Fo(Ga),Fo(Fw),Fo(oo))},e.\u0275dir=yt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[ja([Tw])]}),e})();const Aw={provide:iw,useExisting:Se(()=>Ow),multi:!0};let Ow=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ya),Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[ja([Aw])]}),e})();const Rw='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Pw='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Mw='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class Nw{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Rw)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${Pw}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Mw}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Rw)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Pw)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Lw={provide:iw,useExisting:Se(()=>Vw),multi:!0};let Vw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=go}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const i=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",i)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ya),Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ja([Lw])]}),e})();const Hw={provide:iw,useExisting:Se(()=>Bw),multi:!0};let Bw=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=go}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const i=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(i.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const i=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const n=e.item(t),s=this._getOptionValue(n.value);i.push(s)}}else{const e=t.options;for(let t=0;t<e.length;t++){const n=e.item(t);if(n.selected){const e=this._getOptionValue(n.value);i.push(e)}}}this.value=i,e(i)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ya),Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Uo("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[ja([Hw])]}),e})();function zw(e,t){return[...t.path,e]}function jw(e,t){e||$w(t,"Cannot find control with"),t.valueAccessor||$w(t,"No value accessor for form control with"),e.validator=ww.compose([e.validator,t.validator]),e.asyncValidator=ww.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(i=>{e._pendingValue=i,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Uw(e,t)})}(e,t),function(e,t){e.registerOnChange((e,i)=>{t.valueAccessor.writeValue(e),i&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Uw(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function Uw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function $w(e,t){let i;throw i=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${i}`)}function qw(e){return null!=e?ww.compose(e.map(kw)):null}function Gw(e){return null!=e?ww.composeAsync(e.map(_w)):null}function Kw(e,t){if(!e.hasOwnProperty("model"))return!1;const i=e.model;return!!i.isFirstChange()||!go(t,i.currentValue)}const Ww=[sw,Ow,Iw,Vw,Bw,Dw];function Zw(e,t){if(!t)return null;Array.isArray(t)||$w(e,"Value accessor was not provided as an array for form control with");let i=void 0,n=void 0,s=void 0;return t.forEach(t=>{var r;t.constructor===aw?i=t:(r=t,Ww.some(e=>r.constructor===e)?(n&&$w(e,"More than one built-in value accessor matches form control with"),n=t):(s&&$w(e,"More than one custom value accessor matches form control with"),s=t))}),s||n||i||($w(e,"No valid value accessor for form control with"),null)}function Yw(e){const t=Jw(e)?e.validators:e;return Array.isArray(t)?qw(t):t||null}function Qw(e,t){const i=Jw(t)?t.asyncValidators:e;return Array.isArray(i)?Gw(i):i||null}function Jw(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Xw{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=Yw(e)}setAsyncValidators(e){this.asyncValidator=Qw(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=xw(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,i){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let n=e;return t.forEach(e=>{n=n instanceof tC?n.controls.hasOwnProperty(e)?n.controls[e]:null:n instanceof iC&&n.at(e)||null}),n}(this,e)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nc,this.statusChanges=new nc}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jw(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class eC extends Xw{constructor(e=null,t,i){super(Yw(t),Qw(i,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class tC extends Xw{constructor(e,t,i){super(Yw(t),Qw(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t instanceof eC?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((i,n)=>{t=t||this.contains(n)&&e(i)}),t}_reduceValue(){return this._reduceChildren({},(e,t,i)=>((t.enabled||this.disabled)&&(e[i]=t.value),e))}_reduceChildren(e,t){let i=e;return this._forEachChild((e,n)=>{i=t(i,e,n)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class iC extends Xw{constructor(e,t,i){super(Yw(t),Qw(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,i)=>{this.at(i)&&this.at(i).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((i,n)=>{i.reset(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof eC?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,i)=>{if(void 0===e[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const nC={provide:cw,useExisting:Se(()=>rC)},sC=(()=>Promise.resolve(null))();let rC=(()=>{class e extends cw{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new nc,this.form=new tC({},qw(e),Gw(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){sC.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),jw(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){sC.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),function(e,t){const i=e.indexOf(t);i>-1&&e.splice(i,1)}(this._directives,e)})}addFormGroup(e){sC.then(()=>{const t=this._findContainer(e.path),i=new tC({});(function(e,t){null==e&&$w(t,"Cannot find control with"),e.validator=ww.compose([e.validator,t.validator]),e.asyncValidator=ww.composeAsync([e.asyncValidator,t.asyncValidator])})(i,e),t.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){sC.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){sC.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,t=this._directives,this.form._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(Fo(vw,10),Fo(bw,10))},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Uo("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ja([nC]),Ea]}),e})(),oC=(()=>{class e extends cw{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return zw(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return qw(this._validators)}get asyncValidator(){return Gw(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return aC(t||e)},e.\u0275dir=yt({type:e,features:[Ea]}),e})();const aC=an(oC);class lC{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Rw}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${Pw}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Mw}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${Pw}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Mw}`)}}const cC={provide:cw,useExisting:Se(()=>hC)};let hC=(()=>{class e extends oC{constructor(e,t,i){super(),this._parent=e,this._validators=t,this._asyncValidators=i}_checkParentType(){this._parent instanceof e||this._parent instanceof rC||lC.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(Fo(cw,5),Fo(vw,10),Fo(bw,10))},e.\u0275dir=yt({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[ja([cC]),Ea]}),e})();const uC={provide:dw,useExisting:Se(()=>pC)},dC=(()=>Promise.resolve(null))();let pC=(()=>{class e extends dw{constructor(e,t,i,n){super(),this.control=new eC,this._registered=!1,this.update=new nc,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=i||[],this.valueAccessor=Zw(this,n)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Kw(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?zw(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return qw(this._rawValidators)}get asyncValidator(){return Gw(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof hC)&&this._parent instanceof oC?lC.formGroupNameException():this._parent instanceof hC||this._parent instanceof rC||lC.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||lC.missingNameException()}_updateValue(e){dC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,i=""===t||t&&"false"!==t;dC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(Fo(cw,9),Fo(vw,10),Fo(bw,10),Fo(iw,10))},e.\u0275dir=yt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ja([uC]),Ea,Oa]}),e})(),fC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const gC=new Ve("NgModelWithFormControlWarning"),mC={provide:dw,useExisting:Se(()=>vC)};let vC=(()=>{class e extends dw{constructor(e,t,i,n){super(),this._ngModelWarningConfig=n,this.update=new nc,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=Zw(this,i)}set isDisabled(e){Nw.disabledAttrWarning()}ngOnChanges(t){var i,n;this._isControlChanged(t)&&(jw(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),Kw(t,this.viewModel)&&("formControl",i=e,this,n=this._ngModelWarningConfig,Sn()&&"never"!==n&&((null!==n&&"once"!==n||i._ngModelWarningSentOnce)&&("always"!==n||this._ngModelWarningSent)||(Nw.ngModelWarning("formControl"),i._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return qw(this._rawValidators)}get asyncValidator(){return Gw(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return e.\u0275fac=function(t){return new(t||e)(Fo(vw,10),Fo(bw,10),Fo(iw,10),Fo(gC,8))},e.\u0275dir=yt({type:e,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ja([mC]),Ea,Oa]}),e._ngModelWarningSentOnce=!1,e})();const bC={provide:vw,useExisting:Se(()=>yC),multi:!0};let yC=(()=>{class e{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&""+e!="false",this._onChange&&this._onChange()}validate(e){return this.required?ww.required(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&_o("required",t.required?"":null)},inputs:{required:"required"},features:[ja([bC])]}),e})();const wC={provide:vw,useExisting:Se(()=>CC),multi:!0};let CC=(()=>{class e{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=ww.maxLength("number"==typeof this.maxlength?this.maxlength:parseInt(this.maxlength,10))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,t){2&e&&_o("maxlength",t.maxlength?t.maxlength:null)},inputs:{maxlength:"maxlength"},features:[ja([wC]),Oa]}),e})(),xC=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),SC=(()=>{class e{group(e,t=null){const i=this._reduceControls(e);let n=null,s=null,r=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(n=null!=t.validators?t.validators:null,s=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(n=null!=t.validator?t.validator:null,s=null!=t.asyncValidator?t.asyncValidator:null)),new tC(i,{asyncValidators:s,updateOn:r,validators:n})}control(e,t,i){return new eC(e,t,i)}array(e,t,i){const n=e.map(e=>this._createControl(e));return new iC(n,t,i)}_reduceControls(e){const t={};return Object.keys(e).forEach(i=>{t[i]=this._createControl(e[i])}),t}_createControl(e){return e instanceof eC||e instanceof tC||e instanceof iC?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),kC=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[Fw],imports:[xC]}),e})(),_C=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:gC,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[SC,Fw],imports:[xC]}),e})();var EC,IC,TC=["vvjmBve=","DhLWzq==","rM5KAM8=","z21bCfO=","y29Kzq==","C2nYAxb0s2v5","CgfYC2u=","zffeyxy=","ChjVzhvJDhm=","DgLTzxn0yw1W","r2ffv0C=","B2jQzwn0","D3r2twO=","zgf0yq==","B2z1BvG=","igzVCIbTB3jLigLUzM9YBwf0Aw9UlGO=","swvIzwC=","uhjVz3jLC3mG","C2v0","D2fYBG==","BMfTzq==","zg9JC1vYBa==","A0LRreO=","z3jVDxbfBMq=","vfzMs1O=","zNvUy3rPB24=","ww91CIbSAwnLBNnLigv4CgLYzwqGB24G","ChjVzhvJDe5HBwu=","z3jVDxa=","vgHLihbYB2r1y3qGAxmGBM90igLUy2X1zgvKigLUihrOzsbSAwnLBNnLlGO=","BMLUAu4=","z2v0","BgvUz3rO","uhDTvg0=","wKnNs0S=","lcb0AguGCgfJA2fNzsb3yxmGChvIBgLZAgvKig9Uia==","wNzfD2i=","B3LJz3C=","AKfdDMG=","zMLUza==","yufOzgq=","ChjVzhvJDenVzgvZ","tM8GBgLJzw5ZzsbMB3vUzc4k","ChvIBgLZAerHDgu=","C0v4EKy=","u2vLia==","BgLJzw5ZAw5Nrg9JC1vYBa==","CgfJA2fNzu5HBwu=","zxHWAxj5rgf0zq==","rgrushO=","CfLSqMi=","Dw5KzwzPBMvK","DMvYC2LVBG==","tgLJzw5ZzsbHy3rPDMf0Aw9UigzHAwXLzcbMB3iG","AMfxD3G=","AgfZ","BgLJzw5Zzuv4CgLYyxrPB25eyxrL","CMzsEvu=","Dg9mB2nHBgvtDhjPBMC=","txHWC0G=","CwvOAfG="];EC=TC,IC=415,function(e){for(;--e;)EC.push(EC.shift())}(++IC);var FC=function(e,t){var i=TC[e-=0];void 0===FC.uXIQOS&&(FC.BZzwkU=function(e){for(var t=function(e){for(var t,i,n=String(e).replace(/=+$/,""),s="",r=0,o=0;i=n.charAt(o++);~i&&(t=r%4?64*t+i:i,r++%4)?s+=String.fromCharCode(255&t>>(-2*r&6)):0)i="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(i);return s}(e),i=[],n=0,s=t.length;n<s;n++)i+="%"+("00"+t.charCodeAt(n).toString(16)).slice(-2);return decodeURIComponent(i)},FC.hCUrbZ={},FC.uXIQOS=!0);var n=FC.hCUrbZ[e];return void 0===n?(i=FC.BZzwkU(i),FC.hCUrbZ[e]=i):i=n,i},DC={data:"  {}  "},AC=new Map;function OC(e){if(AC[FC("0x6")](e[FC("0x20")])&&FC("0xb")!==FC("0xa"))return AC[FC("0x2b")](e[FC("0x20")]);var t,i,n,s=e[FC("0x3")]?" v"+e[FC("0x3")]:"",r=e[FC("0x20")]+s,o=JSON[FC("0x12")](DC[FC("0x19")]),a=!o[FC("0x11")]&&!o[FC("0x15")],l=o[FC("0x11")]&&typeof KendoLicensing===FC("0x2"),c=function(e,t){var i=e[FC("0x14")];if(!(i&&i[FC("0x2c")]||FC("0x38")!=FC("0x38")))return null;var n=new Set(t);return i[FC("0x33")]((function(e){if(FC("0x13")!==FC("0x22"))return n[FC("0x6")](e[FC("0x10")])}))}(o,e[FC("0x35")]);if(a||l?FC("0x2e")!==FC("0x1c")&&(t={type:0,packageName:r,docsUrl:e[FC("0x3a")]}):FC("0x34")!==FC("0x1")&&(c?FC("0x24")!==FC("0x32")&&c[FC("0x7")]<e[FC("0x37")]&&FC("0x30")==FC("0x30")&&(t={type:2,packageName:r,publishDate:RC(e[FC("0x37")]),expiryDate:RC(c[FC("0x7")]),docsUrl:e[FC("0x3a")]}):FC("0x2a")==FC("0x2a")&&(t={type:1,packageName:r,docsUrl:e[FC("0x3a")]})),t&&typeof console===FC("0x17")&&FC("0x0")!==FC("0x8")){var h=FC("0x1d")+e[FC("0x27")],u=typeof console[FC("0x28")]===FC("0x25");u?FC("0xc")!=FC("0xc")||console[FC("0x28")](h):FC("0x18")==FC("0x18")&&console[FC("0x1f")](h),console[FC("0x1f")]((i=t,n=FC("0x4")+i[FC("0x3b")]+"\n",2===i[FC("0xd")]?FC("0x16")!==FC("0x1a")&&(n+=FC("0x26")+i[FC("0x3c")][FC("0x9")]()+FC("0x2f")+i[FC("0x37")][FC("0x9")]()+".\n"):0===i[FC("0xd")]?FC("0x2d")==FC("0x2d")&&(n+=FC("0x36")):1===i[FC("0xd")]&&(FC("0xe")===FC("0xf")||(n+=FC("0x29"))),n+(FC("0x39")+i[FC("0x21")]+FC("0x1b")))),u&&(FC("0x5")===FC("0x31")||console[FC("0x23")]())}var d=!t;return AC[FC("0x1e")](e[FC("0x20")],d),d}function RC(e){return new Date(1e3*e)}const PC=e=>null!=e,MC=e=>null==e,NC=e=>Array.isArray(e),LC=e=>"function"==typeof e,VC=e=>"string"==typeof e,HC=e=>!isNaN(e-parseFloat(e)),BC=e=>e&&e.getTime,zC=e=>PC(e.filters),jC=(e,t,i)=>n=>e(n)?t(n):i(n),UC=(...e)=>t=>e.reduceRight((e,t)=>t(e),t),$C=e=>{e.filters&&(e.filters=e.filters.map(e=>{const t=Object.assign({},e);return!zC(e)&&VC(e.operator)&&(t.operator=(e=>({"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[e.toLowerCase()]||e))(e.operator)),zC(e)&&$C(t),t}))},qC=e=>(PC(e)&&(e=(e=>zC(e)?Object.assign({},e):{filters:NC(e)?e:[e],logic:"and"})(e),$C(e)),e),GC={},KC=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;GC[void 0]=e=>e;const WC=(e,t)=>{const i=e+t;if(GC[i])return GC[i];const n=[];return e.replace(KC,(e,t,i,s)=>{n.push(PC(t)?t:i||s)}),GC[i]=e=>{let i=e;for(let s=0;s<n.length;s++)if(i=i[n[s]],!PC(i)&&t)return i;return i},GC[i]},ZC=e=>t=>[e,t],YC=()=>null,QC=e=>t=>PC(e(t)),JC=e=>t=>(e=>PC(e)&&NC(e)&&e.length>0)(e(t)),XC=(e,t)=>jC(e,t,YC),ex=(e,t)=>i=>e(i).map(t).join("~"),tx=UC(...[['"',""],[":","-"]].map(([e,t])=>i=>i.replace(new RegExp(e,"g"),t))),ix=e=>e.slice(0,e.indexOf(".")),nx=({field:e,dir:t="asc"})=>`${e}-${t}`,sx=WC("take"),rx=WC("aggregates"),ox=WC("skip"),ax=WC("group"),lx=WC("sort",!0),cx=ex(lx,nx),hx=ex(ax,nx),ux=ex(rx,({field:e,aggregate:t})=>`${e}-${t}`),dx=UC(e=>`datetime'${e}'`,ix,tx,JSON.stringify,e=>new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))),px=UC(ZC("page"),({skip:e,take:t})=>Math.floor((e||0)/t)+1),fx=UC(ZC("pageSize"),sx),gx=UC(ZC("group"),hx),mx=UC(ZC("sort"),cx),vx=UC(ZC("aggregate"),ux),bx=(XC(QC(ox),px),XC(QC(sx),fx),XC(JC(ax),gx),XC(QC(rx),vx),UC(XC(JC(lx),mx),e=>Object.assign({},e,{sort:(lx(e)||[]).filter(({dir:e})=>!(e=>MC(e)||0===e.trim().length)(e))})),({field:e,operator:t,value:i})=>`${e}~${t}~${i}`),yx=(jC(e=>BC(e.value),UC(bx,({field:e,value:t,ignoreCase:i,operator:n})=>({value:dx(t),field:e,ignoreCase:i,operator:n})),bx),(e,t,i)=>(t[e]=i,t)),wx=e=>t=>{const i=t[e];return PC(i)?i:t[(n=e,n.replace(/(^[A-Z])/g,(e,t)=>t.toLowerCase()))];var n},Cx=(wx("Member"),wx("AggregateMethodName"),wx("Value"),e=>t=>Object.keys(t).reduce(e.bind(null,t),{})),xx=Cx((e,t,i)=>yx(i.toLowerCase(),t,e[i])),Sx=Cx((e,t,i)=>yx(i,t,xx(e[i]))),kx=(e,t)=>PC(e)?e:t,_x=UC(({field:e,hasSubgroups:t,value:i,aggregates:n,items:s})=>({aggregates:Sx(n),field:e,items:t?s.map(_x):s,value:i}),e=>({aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:kx(e.Key,kx(e.key,e.value))})),Ex=(e,t)=>MC(e)?e===t?0:-1:MC(t)?1:e.localeCompare?e.localeCompare(t):e>t?1:e<t?-1:0,Ix=(e,t)=>Ex(t,e),Tx=e=>{const t=WC(e.field,!0);return(i,n)=>("asc"===e.dir?Ex:Ix)(t(i),t(n))},Fx=(e,t)=>0,Dx=(e,t)=>(e.push(t),e),Ax=e=>t=>(i,n,s)=>t(i,e(n,s)),Ox=e=>t=>(i,n)=>e(n)?t(i,n):i,Rx=e=>PC(e.__value),Px=(e,t,i)=>{let n=t;for(let s=0,r=i.length;s<r;s++)if(n=e(n,i[s],s),Rx(n)){n=n.__value;break}return n},Mx=Ax(e=>e),Nx={or:{concat:(e,t)=>i=>e(i)||t(i),identity:()=>!1},and:{concat:(e,t)=>i=>e(i)&&t(i),identity:()=>!0}},Lx={contains:(e,t)=>(e||"").indexOf(t)>=0,doesnotcontain:(e,t)=>-1===(e||"").indexOf(t),doesnotendwith:(e,t)=>(e||"").indexOf(t,(e||"").length-(t||"").length)<0,doesnotstartwith:(e,t)=>-1===(e||"").lastIndexOf(t,0),endswith:(e,t)=>(e||"").indexOf(t,(e||"").length-(t||"").length)>=0,eq:(e,t)=>e===t,gt:(e,t)=>e>t,gte:(e,t)=>e>=t,isempty:e=>""===e,isnotempty:e=>""!==e,isnotnull:e=>PC(e),isnull:e=>MC(e),lt:(e,t)=>e<t,lte:(e,t)=>e<=t,neq:(e,t)=>e!=t,startswith:(e,t)=>0===(e||"").lastIndexOf(t,0)},Vx=/^\/Date\((.*?)\)\/$/,Hx=e=>{const t=Nx[e.logic];return e.filters.filter(PC).map(e=>zC(e)?Hx(e):(({field:e,ignoreCase:t,value:i,operator:n})=>{e=PC(e)?e:e=>e,t=!PC(t)||t;const s=((e,t,i)=>{if(!PC(t))return e;let n=e;if(VC(t)){const s=Vx.exec(t);s?t=new Date(+s[1]):n=t=>{const n=e(t);return"string"==typeof n&&i?n.toLowerCase():HC(n)?n+"":n}}return BC(t)?e=>{const t=n(e);return BC(t)?t.getTime():t}:n})(LC(e)?e:WC(e,!0),i,t);i=((e,t)=>{if(null!=e&&VC(e)){const i=Vx.exec(e);if(i)return new Date(+i[1]).getTime();if(t)return e.toLowerCase()}else if(null!=e&&BC(e))return e.getTime();return e})(i,t);const r=LC(n)?n:Lx[n];return e=>r(s(e),i,t)})(e)).reduce(t.concat,t.identity)},Bx=e=>e&&0!==e.filters.length?Hx(e):()=>!0,zx=(e,t)=>!PC(t)||zC(t)&&0===t.filters.length?e:e.filter(Bx(qC(t))),jx=e=>(e=NC(e)?e:[e]).map(e=>Object.assign({dir:"asc"},e)),Ux=Ax(e=>e),$x=(e,t=[],i=Ux,n=e)=>{if(!(t=jx(t)).length)return e;const s=t[0],r=Px(i((e=>{const t=WC(e,!0);let i=0;return(n,s)=>{n[e]=n[e]||{};const r=t(s),o=(e=>(e=PC(e)&&e.getTime?e.getTime():e)+"")(r),a=n[e][o]||{__position:i++,aggregates:{},items:[],value:r};return a.items.push(s),n[e][o]=a,n}})(s.field)),{},e),o=[];return Object.keys(r).forEach(e=>{Object.keys(r[e]).forEach(i=>{const a=r[e][i];let l={},c=n;PC(s.aggregates)&&(c=zx(n,{field:s.field,ignoreCase:!1,operator:"eq",value:a.value}),l=((e,t=[],i=Mx)=>{const n={};return t.length?((e={})=>(Object.keys(e).forEach(t=>{const i=e[t];Object.keys(i).forEach(e=>{i[e]=i[e].result()})}),e))(Px(i((e=>{const t=e.map(e=>{const t=WC(e.field,!0),i=(e.aggregate||"").toLowerCase(),n=WC(i,!0);return(s,r)=>{const o=s[e.field]||{},a=n(o)||{average:()=>{let e=0,t=0;return{calc:i=>{HC(i)?(e+=i,t++):e=i},result:()=>HC(e)?e/t:e}},count:()=>{let e=0;return{calc:()=>e++,result:()=>e}},max:()=>{let e=Number.NEGATIVE_INFINITY;return{calc:t=>{e=HC(e)||BC(e)?e:t,e<t&&(HC(t)||BC(t))&&(e=t)},result:()=>e}},min:()=>{let e=Number.POSITIVE_INFINITY;return{calc:t=>{e=HC(e)||BC(e)?e:t,e>t&&(HC(t)||BC(t))&&(e=t)},result:()=>e}},sum:()=>{let e=0;return{calc:t=>{t=PC(t)?t:0,e+=t},result:()=>e}}}[i]();return a.calc(t(r)),o[e.aggregate]=a,s[e.field]=o,s}});return(e,i)=>t.reduce((e,t)=>t(e,i),e)})(t)),n,e)):n})(c,s.aggregates)),o[a.__position]={aggregates:l,field:e,items:t.length>1?$x(a.items,t.slice(1),Ux,c):a.items,value:a.value}})}),o},qx=(e,t,i,n)=>{if(i-t<2)return;const s=t+i>>>1;qx(e,t,s,n),qx(e,s,i,n),((e,t,i,n,s)=>{let r=i-t,o=n-i;const a=[];for(let u=0;u<r;u++)a.push(e[t+u]);let l=0,c=i,h=t;do{s(e[c],a[l])<0?(e[h++]=e[c++],o--):(e[h++]=a[l++],r--)}while(o>0&&r>0);for(;r;)e[h++]=a[l++],r--;for(;o;)e[h++]=e[c++],o--})(e,t,s,i,n)},Gx=(e,t)=>{if(t.some(e=>PC(e.dir))){e=e.slice(0);const i=(e=>e.filter(e=>PC(e.dir)).map(e=>Tx(e)).reduce((e,t)=>(i,n)=>e(i,n)||t(i,n),Fx))(t);qx(e,0,e.length,i)}return e},Kx=(e,t)=>e===t,Wx=(e,t=Kx)=>((e,t)=>e.filter((e,i,n)=>n.findIndex(t.bind(null,e))===i))(e,(e=>{if(VC(e)){const t=WC(e);e=(e,i)=>t(e)===t(i)}return e})(t)),Zx=(e,t)=>{const{skip:i,take:n,filter:s,sort:r,group:o}=t,a=[...jx(o||[]),...r||[]];a.length&&(e=Gx(e,a));const l=PC(s)&&Ox.length,c=PC(o)&&o.length;if(!l&&!c)return{data:n?e.slice(i,i+n):e,total:e.length};let h;const u=[];let d;var p;if(l?(d=Bx(qC(s)),h=((e,t)=>{let i=0;for(let n=0,s=e.length;n<s;n++)t(e[n])&&i++;return i})(e,d),u.push(Ox(d))):h=e.length,PC(i)&&PC(n)&&(u.push((p=i,e=>(t,i)=>p--<=0?e(t,i):t)),u.push((e=>t=>(i,n)=>e-- >0?t(i,n):(e=>Rx(e)?e:{__value:e,reduced:!0})(i))(n))),u.length){const t=UC(...u);return{data:c?$x(e,o,t,((e,t)=>t?e.filter(t):e)(e,d)):Px(t(Dx),[],e),total:h}}return{data:c?$x(e,o):e,total:h}};function Yx(e){return e.ownerDocument||e.document||e}var Qx=e=>Yx(e).defaultView,Jx=e=>Yx(e).documentElement;let Xx=0;function eS(){if(!Xx&&"undefined"!=typeof document){const e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),Xx=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return Xx}function tS(e){const t=Qx(e),i=Jx(e),n={height:t.innerHeight,width:t.innerWidth};return i.scrollHeight-i.clientHeight>0&&(n.width-=eS()),n}var iS=e=>{let t=e.offsetParent;for(;t&&"static"===t.style.position;)t=t.offsetParent;return t||Jx(e)},nS=e=>{let t=e.getBoundingClientRect(),{left:i,top:n}=t;return t.height||t.width||(t=(e=>{const{display:t,left:i,position:n}=e.style;e.style.display="",e.style.left="-10000px",e.style.position="absolute";const s=e.getBoundingClientRect();return e.style.display=t,e.style.left=i,e.style.position=n,s})(e)),{top:n,left:i,height:t.height,width:t.width}},sS=(e,t)=>{const i=[];let n=e.parentNode;for(;n&&(i.push(n),n!==t);)n=n.parentNode;return i};function rS(e){const t=Jx(e),i=Qx(e);return{x:i.pageXOffset||t.scrollLeft||0,y:i.pageYOffset||t.scrollTop||0}}var oS=e=>e===(e.ownerDocument||{}).body?rS(e):{x:e.scrollLeft,y:e.scrollTop};const aS=function(e,t,i){let n=0;return e+t>i&&(n=i-(e+t)),e<0&&(n=-e),n},lS=function({offset:e,size:t,anchorSize:i,viewPortSize:n,anchorAlignPoint:s,elementAlignPoint:r,margin:o}){let a=0;const l=2*o;if(r!==s&&"center"!==r&&"middle"!==r&&"center"!==s&&"middle"!==s){const r="top"===s||"left"===s;e<0&&r?(a=t+i+l,e+a+t>n&&(a=0)):e>=0&&!r&&(e+t>n&&(a+=-(i+t+l)),e+a<0&&(a=0))}return a};var cS=e=>{const t=[];let i=e.parentNode.firstElementChild;for(;i;)i!==e&&t.push(i),i=i.nextElementSibling;return t};const hS=["container"];function uS(e,t){}const dS=["*"],pS=(e,t)=>e||{height:0,left:t.left,top:t.top,width:0},fS=()=>"undefined"!=typeof window,gS=/auto|scroll/,mS=e=>(e=>`${e.style.overflow}${e.style.overflowX}${e.style.overflowY}`)(e)||(e=>{const t=window.getComputedStyle(e);return`${t.overflow}${t.overflowX}${t.overflowY}`})(e);function vS(e){let t,i=!1;return(...n)=>(i||(t=e(...n),i=!0),t)}const bS=vS(()=>{if(!Yb()&&null!==document.body)return!1;const e=document.createElement("div");e.style.transform="matrix(10, 0, 0, 10, 0, 0)",e.innerHTML='<div style="position: fixed; top: 10px;">child</div>',document.body.appendChild(e);const t=10!==e.children[0].getBoundingClientRect().top;return document.body.removeChild(e),t}),yS=(e,t)=>e&&1!==t?{height:e.height/t,left:e.left/t,top:e.top/t,width:e.width/t}:e,wS=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];let CS=(()=>{class e{addOffset(e,t){return{left:e.left+t.left,top:e.top+t.top}}addScroll(e,t){return function(e,t){return{top:e.top+t.y,left:e.left+t.x,height:e.height,width:e.width}}(e,t)}align(e){return(e=>{const{anchorRect:t,anchorAlign:i,elementRect:n,elementAlign:s,margin:r={}}=e,o=i.horizontal,a=i.vertical,l=s.horizontal,c=s.vertical;let h=r.horizontal||0,u=r.vertical||0,d=t.top,p=t.left;return"bottom"===a&&(d+=t.height),"center"!==a&&"middle"!==a||(d+=Math.round(t.height/2)),"bottom"===c&&(d-=n.height,u*=-1),"center"!==c&&"middle"!==c||(d-=Math.round(n.height/2),u*=-1),"right"===o&&(p+=t.width),"center"!==o&&"middle"!==o||(p+=Math.round(t.width/2)),"right"===l&&(p-=n.width,h*=-1),"center"!==l&&"middle"!==l||(p-=Math.round(n.width/2),h*=-1),{top:d+u,left:p+h}})(e)}boundingOffset(e){return(e=>{if(!e.getBoundingClientRect){const t=tS(e);return{bottom:t.height,left:0,right:t.width,top:0}}const{bottom:t,left:i,right:n,top:s}=e.getBoundingClientRect();return{bottom:t,left:i,right:n,top:s}})(this.nativeElement(e))}getFontStyles(e){const t=this.getWindow();if(!t||!e)return[];const i=t.getComputedStyle(this.nativeElement(e));return wS.map(e=>({key:e,value:i[e]}))}getWindow(){return fS()?window:null}hasOffsetParent(e){return!!e&&!!this.nativeElement(e).offsetParent}offset(e){return e?nS(this.nativeElement(e)):null}offsetAtPoint(e,t){if(!e)return null;const i=this.nativeElement(e),{left:n,top:s,transition:r}=i.style;i.style.transition="none",i.style.left=t.left+"px",i.style.top=t.top+"px";const o=nS(i);return i.style.left=n,i.style.top=s,i.style.transition=r,o}nativeElement(e){return e?e.nativeElement||e:null}position(e,t,i=1){return e&&t?((e,t,i=1)=>{const n=t?iS(t):null,{top:s,left:r,height:o,width:a}=((e,t)=>{const i=Qx(e),n=i.getComputedStyle(e),s=nS(e),r=t||iS(e),o=e.ownerDocument;let a={top:0,left:0};if("fixed"!==n.position&&r!==o.body&&r!==o.documentElement){const e=i.getComputedStyle(r);a=nS(r),a.top+=parseInt(e.borderTopWidth,10),a.left+=parseInt(e.borderLeftWidth,10)}return{top:s.top-a.top,left:s.left-a.left,height:s.height,width:s.width}})(e,n),{x:l,y:c}=((e,t)=>e?oS(e):function(e){const t=iS(e);return t?oS(t):{x:0,y:0}}(t))(n,e),h=e.ownerDocument,u=n===h.body||n===h.documentElement?1:i;return{top:s+c*u,left:r+l*u,height:o,width:a}})(this.nativeElement(e),this.nativeElement(t),i):null}removeScroll(e,t){return function(e,t){return{top:e.top-t.y,left:e.left-t.x,height:e.height,width:e.width}}(e,t)}restrictToView(e){return(e=>{const{anchorRect:t,anchorAlign:i,elementRect:n,elementAlign:s,collisions:r,viewPort:o,margin:a={}}=e,{top:l,left:c,height:h,width:u}=n,{height:d,width:p}=o,f=a.horizontal||0,g=a.vertical||0;let m=0,v=0;const b="flip"===r.horizontal,y="flip"===r.vertical;"fit"===r.vertical&&(v+=aS(l,h,d)),"fit"===r.horizontal&&(m+=aS(c,u,p)),y&&(v+=lS({margin:g,offset:l,size:h,anchorSize:t.height,viewPortSize:d,anchorAlignPoint:i.vertical,elementAlignPoint:s.vertical})),b&&(m+=lS({margin:f,offset:c,size:u,anchorSize:t.width,viewPortSize:p,anchorAlignPoint:i.horizontal,elementAlignPoint:s.horizontal}));const w=b&&0!==m,C=y&&0!==v;return{flipped:w||C,flip:{horizontal:w,vertical:C},offset:{left:m,top:v}}})(e)}scrollPosition(e){return rS(this.nativeElement(e))}scrollableParents(e){return(e=>{const t=[];if(!Yb()||!fS())return t;let i=e.parentElement;for(;i;)(gS.test(mS(i))||i.hasAttribute("data-scrollable"))&&t.push(i),i=i.parentElement;return t.push(window),t})(this.nativeElement(e))}stackingElementOffset(e){const t=this.getRelativeContextElement(e);return t?nS(t):null}stackingElementScroll(e){const t=this.getRelativeContextElement(e);return t?{x:t.scrollLeft,y:t.scrollTop}:{x:0,y:0}}getRelativeContextElement(e){if(!e||!bS())return null;let t=this.nativeElement(e).parentElement;for(;t;){if("none"!==window.getComputedStyle(t).transform)return t;t=t.parentElement}return null}useRelativePosition(e){return!!this.getRelativeContextElement(e)}windowViewPort(e){return tS(this.nativeElement(e))}zIndex(e,t){return((e,t)=>{if(!e||!Yb()||!fS())return null;const i=((e,t)=>{const i=sS(e);let n,s,r=t;for(;r&&(n=cS(r),s=i.reduce((e,t)=>e.concat(n.filter(e=>e===t)),[])[0],!s);)r=r.parentElement;return s})(e,t);if(!i)return null;const n=[e].concat(sS(e,i)).reduce((e,t)=>{const i=t.style.zIndex||window.getComputedStyle(t).zIndex,n=parseInt(i,10);return n>e?n:e},0);return n?n+1:null})(this.nativeElement(e),this.nativeElement(t))}zoomLevel(){return Yb()&&fS()&&parseFloat((document.documentElement.clientWidth/window.innerWidth).toFixed(2))||1}isZoomed(){return this.zoomLevel()>1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const xS=new Ve("Popup Document Scale");let SS=(()=>{class e{constructor(e,t=1){this._dom=e,this.scale=t}alignElement(e){const{anchor:t,element:i,anchorAlign:n,elementAlign:s,margin:r,offset:o,positionMode:a}=e,l=this.scale||1,c="fixed"!==a&&this._dom.hasOffsetParent(i)?this.relativeRect(t,i,o,l):this.absoluteRect(t,i,o,l),h=yS(this._dom.offset(i),l);return this._dom.align({anchorAlign:n,anchorRect:c,elementAlign:s,elementRect:h,margin:r})}absoluteRect(e,t,i,n){const s=this.elementScrollPosition(e,t),r=pS(this._dom.offset(e),i),o=2*n,a=this._dom.stackingElementScroll(t);1!==n&&a&&(a.x/=o,a.y/=o);const l=this._dom.stackingElementOffset(t);return 1!==n&&l&&(l.left/=o,l.top/=o),this._dom.removeScroll(this._dom.addScroll(((e,t)=>t?{height:e.height,left:e.left-t.left,top:e.top-t.top,width:e.width}:e)(yS(r,n),l),a),s)}elementScrollPosition(e,t){return e?{x:0,y:0}:this._dom.scrollPosition(t)}relativeRect(e,t,i,n){const s=pS(this._dom.position(e,t,n),i);return yS(s,n)}}return e.\u0275fac=function(t){return new(t||e)(We(CS),We(xS,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),kS=(()=>{class e{constructor(e,t=1){this._dom=e,this.scale=t}positionElement(e){const{anchor:t,currentLocation:i,element:n,anchorAlign:s,elementAlign:r,collisions:o,margin:a}=e,l=this._dom,c=this.scale||1,h=l.offsetAtPoint(n,i),u=yS(h,c),d=yS(l.offset(t),c),p=pS(d,i),f=e.viewPort||l.windowViewPort(n);f.width=f.width/c,f.height=f.height/c;const g=l.restrictToView({anchorAlign:s,anchorRect:p,collisions:o,elementAlign:r,elementRect:u,margin:a,viewPort:f}),m=l.addOffset(i,g.offset);return{flip:g.flip,flipped:g.flipped,offset:m}}}return e.\u0275fac=function(t){return new(t||e)(We(CS),We(xS,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),_S=(()=>{class e{constructor(e,t){this._dom=e,this._zone=t}subscribe(e){Yb()&&this._zone.runOutsideAngular(()=>{this.subscription=Zb(this._dom.getWindow(),"resize").pipe(Wb(1e3/60)).subscribe(()=>e())})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isUnsubscribed(){return this.subscription&&this.subscription.closed}}return e.\u0275fac=function(t){return new(t||e)(We(CS),We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),ES=(()=>{class e{constructor(e,t){this._dom=e,this._zone=t}forElement(e){return this.unsubscribe(),this.element=e,this}subscribe(e){if(!e||!Yb()||!this.element)return;const t=this._dom.nativeElement(this.element),i=this._dom.scrollableParents(this.element);this._zone.runOutsideAngular(()=>{const n=i.map(e=>Zb(e,"scroll").pipe(Wb(1e3/60)));this.subscription=K(...n).subscribe(n=>{const s=n.target,r=i.filter(e=>e===s).length>0,o=s===document,a=s===window;(r||o||a)&&e(this.isVisible(t,s))})})}unsubscribe(){this.subscription&&this.subscription.unsubscribe()}isVisible(e,t){const i=this._dom.boundingOffset(e),n=this._dom.boundingOffset(t);return!(1<n.top-i.bottom||1<i.top-n.bottom||1<i.left-n.right||1<n.left-i.right)}}return e.\u0275fac=function(t){return new(t||e)(We(CS),We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const IS=function(){return{expand:e=>{const t="up"===e||"down"===e?"scaleY":"scaleX";let i;return i="down"===e?"top":"left"===e?"right":"right"===e?"left":"bottom",{start:{transform:t+"(0)",transformOrigin:i},end:{transform:t+"(1)"}}},slide:e=>{const t="left"===e||"right"===e?"translateX":"translateY";return{start:{transform:`${t}(${"right"===e||"down"===e?-100:100}%)`},end:{transform:t+"(0%)"}}},fade:()=>({start:{opacity:0},end:{opacity:1}}),zoom:()=>({start:{transform:"scale(0)"},end:{transform:"scale(1)"}})}}();let TS=(()=>{class e{constructor(e){this.animationBuilder=e,this.start=new nc,this.end=new nc}play(e,t,i){if(!this.flip||this.flip.horizontal!==i.horizontal||this.flip.vertical!==i.vertical){this.flip=i;const n=t.type||"slide",s=IS[n];if(s){const n=s(this.getDirection(i,t));this.playStates(e,n,t)}else if(Sn())throw new Error(`Unsupported animation type: "${n}". The supported types are slide, expand, fade and zoom.`)}}ngOnDestroy(){this.stopPlayer()}playStates(e,t,i){this.stopPlayer();const n=i.duration||100,s=this.animationBuilder.build([vd(t.start),gd(n+"ms ease-in",vd(t.end))]),r=this.player=s.create(e);r.onDone(()=>{this.end.emit(),this.stopPlayer()}),this.start.emit(),r.play()}getDirection(e,t){let i=t.direction||"down";return e.horizontal&&("left"===i?i="right":"right"===i&&(i="left")),e.vertical&&("down"===i?i="up":"up"===i&&(i="down")),i}stopPlayer(){this.player&&(this.player.destroy(),this.player=null)}}return e.\u0275fac=function(t){return new(t||e)(We(pd))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const FS={left:-1e4,top:0};let DS=(()=>{class e{constructor(e,t,i,n,s,r,o,a,l){this.container=e,this._alignService=t,this.domService=i,this._positionService=n,this._resizeService=s,this._scrollableService=r,this.animationService=o,this._renderer=a,this._zone=l,this.animate=!0,this.anchorAlign={horizontal:"left",vertical:"bottom"},this.collision={horizontal:"fit",vertical:"flip"},this.popupAlign={horizontal:"left",vertical:"top"},this.copyAnchorStyles=!1,this.positionMode="fixed",this.offset=FS,this.anchorViewportLeave=new nc,this.close=new nc,this.open=new nc,this.positionChange=new nc,this.resolvedPromise=Promise.resolve(null),this.initialCheck=!0,this._renderer.addClass(e.nativeElement,"k-animation-container"),this.updateFixedClass()}ngOnInit(){this.reposition=this.reposition.bind(this),this._resizeService.subscribe(this.reposition),this.animationSubscriptions=this.animationService.start.subscribe(this.onAnimationStart.bind(this)),this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this))),this._scrollableService.forElement(this.anchor||this.container).subscribe(this.onScroll.bind(this)),this.currentOffset=FS,this.setZIndex(),this.copyFontStyles(),this.updateFixedClass()}ngOnChanges(e){e.copyAnchorStyles&&this.copyFontStyles(),e.positionMode&&this.updateFixedClass()}ngAfterViewInit(){this.reposition(),this.animate||this.resolvedPromise.then(()=>{this.onAnimationEnd()})}ngAfterViewChecked(){this.initialCheck?this.initialCheck=!1:this._zone.runOutsideAngular(()=>{this.unsubscribeReposition(),this.repositionSubscription=z(this.resolvedPromise).subscribe(this.reposition)})}ngOnDestroy(){this.anchorViewportLeave.complete(),this.positionChange.complete(),this.close.emit(),this.close.complete(),this._resizeService.unsubscribe(),this._scrollableService.unsubscribe(),this.animationSubscriptions.unsubscribe(),this.unsubscribeReposition()}onResize(){this.reposition()}onAnimationStart(){this._renderer.removeClass(this.container.nativeElement,"k-animation-container-shown")}onAnimationEnd(){this._renderer.addClass(this.container.nativeElement,"k-animation-container-shown"),this.open.emit(),this.open.complete()}get currentOffset(){return this._currentOffset}set currentOffset(e){this.setContainerStyle("left",e.left+"px"),this.setContainerStyle("top",e.top+"px"),this._currentOffset=e}setZIndex(){this.anchor&&this.setContainerStyle("z-index",String(this.domService.zIndex(this.anchor,this.container)))}reposition(){if(!Yb())return;const{flip:e,offset:t}=this.position();this.currentOffset&&!((e,t)=>{const{left:i,top:n}=e,{left:s,top:r}=t;return Math.abs(i-s)>=1||Math.abs(n-r)>=1})(this.currentOffset,t)||(this.currentOffset=t,Xb(this.positionChange)&&this._zone.run(()=>this.positionChange.emit({offset:t,flip:e}))),this.animate&&this.animationService.play(this.contentContainer.nativeElement,this.animate,e),this.resizeSensor.acceptSize()}position(){const e=this._alignService.alignElement({anchor:this.anchor,anchorAlign:this.anchorAlign,element:this.container,elementAlign:this.popupAlign,margin:this.margin,offset:this.offset,positionMode:this.positionMode});return this._positionService.positionElement({anchor:this.anchor,anchorAlign:this.anchorAlign,collisions:this.collision,currentLocation:e,element:this.container,elementAlign:this.popupAlign,margin:this.margin})}onScroll(e){const t=Xb(this.anchorViewportLeave);e||!t?this.reposition():t&&this._zone.run(()=>{this.anchorViewportLeave.emit()})}copyFontStyles(){this.anchor&&this.copyAnchorStyles&&this.domService.getFontStyles(this.anchor).forEach(e=>this.setContainerStyle(e.key,e.value))}updateFixedClass(){this._renderer["fixed"===this.positionMode?"addClass":"removeClass"](this.container.nativeElement,"k-animation-container-fixed")}setContainerStyle(e,t){this._renderer.setStyle(this.container.nativeElement,e,t)}unsubscribeReposition(){this.repositionSubscription&&this.repositionSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(SS),Fo(CS),Fo(kS),Fo(_S),Fo(ES),Fo(TS),Fo(Ya),Fo(Wc))},e.\u0275cmp=pt({type:e,selectors:[["kendo-popup"]],viewQuery:function(e,t){var i;1&e&&(mc(hS,!0),mc(dy,!0)),2&e&&(fc(i=Cc())&&(t.contentContainer=i.first),fc(i=Cc())&&(t.resizeSensor=i.first))},inputs:{animate:"animate",anchorAlign:"anchorAlign",collision:"collision",popupAlign:"popupAlign",copyAnchorStyles:"copyAnchorStyles",positionMode:"positionMode",offset:"offset",anchor:"anchor",popupClass:"popupClass",margin:"margin"},outputs:{anchorViewportLeave:"anchorViewportLeave",close:"close",open:"open",positionChange:"positionChange"},exportAs:["kendo-popup"],features:[ja([SS,TS,CS,kS,_S,ES]),Oa],ngContentSelectors:dS,decls:5,vars:4,consts:[[1,"k-popup",3,"ngClass"],["container",""],[3,"ngTemplateOutlet","ngIf"],[3,"rateLimit","resize"]],template:function(e,t){1&e&&(Wo(),Po(0,"div",0,1),Zo(2),Io(3,uS,0,0,"ng-template",2),Po(4,"kendo-resize-sensor",3),Uo("resize",(function(){return t.onResize()})),Mo(),Mo()),2&e&&(Oo("ngClass",t.popupClass),vs(3),Oo("ngTemplateOutlet",t.content)("ngIf",t.content),vs(1),Oo("rateLimit",100))},directives:[wu,Ou,ku,dy],encapsulation:2}),e})();const AS=new Ve("Popup Container");let OS=(()=>{class e{constructor(e,t,i,n){this.applicationRef=e,this.componentFactoryResolver=t,this.injector=i,this.container=n}get rootViewContainer(){const e=this.applicationRef.components||[];if(e[0])return e[0];throw new Error("\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        ")}get rootViewContainerNode(){return this.container?this.container.nativeElement:this.getComponentRootNode(this.rootViewContainer)}open(e={}){const{component:t,nodes:i}=this.contentFrom(e.content),n=this.appendPopup(i,e.appendTo),s=n.instance;this.projectComponentInputs(n,e),n.changeDetectorRef.detectChanges(),t&&t.changeDetectorRef.detectChanges();const r=this.getComponentRootNode(n);return{close:()=>{var e;t&&t.destroy(),n.destroy(),(e=r)&&e.parentNode&&e.parentNode.removeChild(e)},content:t,popup:n,popupAnchorViewportLeave:s.anchorViewportLeave,popupClose:s.close,popupElement:r,popupOpen:s.open,popupPositionChange:s.positionChange}}appendPopup(e,t){const i=this.createComponent(DS,e,t);return t||this.rootViewContainerNode.appendChild(this.getComponentRootNode(i)),i}getComponentRootNode(e){return e.location.nativeElement}getComponentFactory(e){return this.componentFactoryResolver.resolveComponentFactory(e)}createComponent(e,t,i){const n=this.getComponentFactory(e);if(i)return i.createComponent(n,void 0,this.injector,t);{const e=n.create(this.injector,t);return this.applicationRef.attachView(e.hostView),e}}projectComponentInputs(e,t){return Object.getOwnPropertyNames(t).filter(e=>"content"!==e||t.content instanceof ml).map(i=>{e.instance[i]=t[i]}),e}contentFrom(e){if(!e||e instanceof ml)return{component:null,nodes:[[]]};const t=this.createComponent(e);return{component:t,nodes:[t?[t.location.nativeElement]:[]]}}}return e.\u0275fac=function(t){return new(t||e)(We(fh),We(qa),We(oo),We(AS,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),RS=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[OS],imports:[[Pu,py]]}),e})();const PS=()=>"undefined"!=typeof window,MS={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)(\.(\d+(\.\d+)?))?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},NS={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},LS={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},VS={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},HS=(e,t,i)=>{for(let n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return void 0!==i?i:e},BS=PS()&&window.navigator?window.navigator.userAgent:null,zS=BS?(e=>{let t=null,i=[];for(let n in LS)if(LS.hasOwnProperty(n)&&(i=e.match(LS[n]),i)){t={},t[n]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t})(BS):null,jS=BS?(e=>{let t,i=[];for(let n in MS)if(MS.hasOwnProperty(n)){if(i=e.match(MS[n]),!i)continue;if("windows"===n&&"plugins"in window.navigator)return null;const s={};return s.device=n,s.browser=HS(e,VS,"default"),s.name=HS(n,NS),s[s.name]=!0,s.majorVersion=i[2],s.minorVersion=i[3]?i[3].replace("_","."):".0",t=s.minorVersion.replace(".","").substr(0,2),s.flatVersion=s.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),s.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,s.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||s.cordova,s}return null})(BS):null,US=PS()&&"ontouchstart"in window,$S=zS&&!zS.chrome&&window.MSPointerEvent,qS=zS&&!zS.chrome&&window.PointerEvent,GS=jS&&(US||$S||qS),KS=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,WS=function(){return{undefined:e=>e}}();function ZS(e){return t=>t.lift(new YS(e))}class YS{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new QS(e,this.predicate))}}class QS extends f{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}const JS=["input"],XS=function(e,t){return{focus:e,blur:t}},ek=["content"],tk=["list"];function ik(e,t){}const nk=function(e,t){return{templateRef:e,$implicit:t}};function sk(e,t){if(1&e&&Io(0,ik,0,0,"ng-template",9),2&e){const e=Go(2);Oo("templateContext",$l(1,nk,e.fixedGroupTemplate.templateRef,e.currentGroup))}}function rk(e,t){if(1&e&&(Po(0,"strong"),ya(1),Mo()),2&e){const e=Go(2);vs(1),wa(e.currentGroup)}}const ok=function(e){return{"k-virtual-item":e}},ak=function(e,t,i){return{"height.px":e,"minHeight.px":t,boxSizing:i}};function lk(e,t){if(1&e&&(Po(0,"div",7),Io(1,sk,1,4,void 0,5),Io(2,rk,2,1,"ng-template",8),Mo()),2&e){const e=Go();Oo("ngClass",Ul(4,ok,e.virtual))("ngStyle",ql(6,ak,null==e.virtual?null:e.virtual.itemHeight,null==e.virtual?null:e.virtual.itemHeight,e.virtual?"border-box":"inherit")),vs(1),Oo("ngIf",e.fixedGroupTemplate),vs(1),Oo("ngIf",!e.fixedGroupTemplate)}}function ck(e,t){}function hk(e,t){if(1&e&&Io(0,ck,0,0,"ng-template",9),2&e){const e=Go().$implicit,t=Go(2);Oo("templateContext",$l(1,nk,t.template.templateRef,e))}}function uk(e,t){if(1&e&&ya(0),2&e){const e=Go().$implicit;wa(Go(2).getText(e))}}const dk=function(e,t){return{"k-virtual-item":e,"k-state-disabled":t}};function pk(e,t){if(1&e&&(Po(0,"li",11),Io(1,hk,1,4,void 0,5),Io(2,uk,1,1,"ng-template",8),Mo()),2&e){const e=t.$implicit,i=t.index,n=Go(2);Oo("height",null==n.virtual?null:n.virtual.itemHeight)("index",i+n.startFrom)("multipleSelection",n.multipleSelection)("ngClass",$l(8,dk,n.virtual,n.isDisabled(i))),_o("id",n.optionPrefix+"-"+n.getValue(e))("tabIndex",-1),vs(1),Oo("ngIf",n.template),vs(1),Oo("ngIf",!n.template)}}function fk(e,t){1&e&&Io(0,pk,3,11,"ng-template",10),2&e&&Oo("ngForOf",Go().data)}function gk(e,t){}function mk(e,t){if(1&e&&Io(0,gk,0,0,"ng-template",9),2&e){const e=Go(2).$implicit,t=Go(2);Oo("templateContext",$l(1,nk,t.groupTemplate.templateRef,e.value))}}function vk(e,t){if(1&e&&(Po(0,"strong"),ya(1),Mo()),2&e){const e=Go(2).$implicit;vs(1),Ca(" ",e.value,"")}}function bk(e,t){if(1&e&&(Po(0,"li",14),Io(1,mk,1,4,void 0,5),Io(2,vk,2,1,"ng-template",8),Mo()),2&e){const e=Go().$implicit,t=Go(2);Oo("ngClass",Ul(7,ok,t.virtual))("ngStyle",ql(9,ak,null==t.virtual?null:t.virtual.itemHeight,null==t.virtual?null:t.virtual.itemHeight,t.virtual?"border-box":"inherit")),_o("group-index",e.index)("id",t.optionPrefix+"-"+t.getValue(e.value))("tabIndex",-1),vs(1),Oo("ngIf",t.groupTemplate),vs(1),Oo("ngIf",!t.groupTemplate)}}function yk(e,t){}function wk(e,t){if(1&e&&Io(0,yk,0,0,"ng-template",9),2&e){const e=Go(2).$implicit,t=Go(2);Oo("templateContext",$l(1,nk,t.template.templateRef,e.value))}}function Ck(e,t){if(1&e&&ya(0),2&e){const e=Go(2).$implicit;wa(Go(2).getText(e.value))}}function xk(e,t){if(1&e&&(Po(0,"li",11),Io(1,wk,1,4,void 0,5),Io(2,Ck,1,1,"ng-template",8),Mo()),2&e){const e=Go().$implicit,t=Go(2);Oo("height",null==t.virtual?null:t.virtual.itemHeight)("index",e.offsetIndex)("multipleSelection",t.multipleSelection)("ngClass",$l(9,dk,t.virtual,t.isDisabled(e.offsetIndex))),_o("absolute-index",e.index)("id",t.optionPrefix+"-"+t.getValue(e.value))("tabIndex",-1),vs(1),Oo("ngIf",t.template),vs(1),Oo("ngIf",!t.template)}}function Sk(e,t){if(1&e&&(Io(0,bk,3,13,"li",12),Io(1,xk,3,12,"li",13)),2&e){const e=t.$implicit;Oo("ngIf",e.header&&e.index>0),vs(1),Oo("ngIf",!e.header)}}function kk(e,t){1&e&&Io(0,Sk,2,2,"ng-template",10),2&e&&Oo("ngForOf",Go().data)}function _k(e,t){if(1&e&&(Po(0,"div",15),No(1,"div"),Mo()),2&e){const e=Go();vs(1),ra("height",e.scrollHeight,"px")}}const Ek=function(e,t){return{"k-virtual-content":e,"k-list-scroller":t}},Ik=function(e){return{"k-virtual-list":e}},Tk=["container"],Fk=["popupTemplate"],Dk=["optionsList"],Ak=["noDataText",$localize`:kendo.autocomplete.noDataText|The text displayed in the popup when there are no items␟4e9993e088a293543eb0c2801343518c115b6f20␟2690656529626907484:NO DATA FOUND`,"clearTitle",$localize`:kendo.autocomplete.clearTitle|The title of the clear button␟7cf49cc2d50eebd29f8d61564512383caaaac7a6␟4821453594854847070:clear`];function Ok(e,t){if(1&e){const e=Bo();Po(0,"span",8),Uo("click",(function(t){return Qt(e),Go().clearValue(t)}))("mousedown",(function(t){return Qt(e),t.preventDefault()})),Mo()}2&e&&_o("title",Go().clearTitle)}function Rk(e,t){1&e&&No(0,"span",9)}function Pk(e,t){}const Mk=function(e){return{templateRef:e}};function Nk(e,t){if(1&e&&Io(0,Pk,0,0,"ng-template",14),2&e){const e=Go(2);Oo("templateContext",Ul(1,Mk,e.headerTemplate.templateRef))}}function Lk(e,t){}function Vk(e,t){if(1&e&&(Po(0,"div"),ya(1),Mo()),2&e){const e=Go(3);vs(1),wa(e.noDataText)}}function Hk(e,t){if(1&e&&(Po(0,"div",15),Io(1,Lk,0,0,"ng-template",16),Io(2,Vk,2,1,"ng-template",6),Mo()),2&e){const e=Go(2);vs(1),Oo("ngIf",e.noDataTemplate)("templateContext",Ul(3,Mk,null==e.noDataTemplate?null:e.noDataTemplate.templateRef)),vs(1),Oo("ngIf",!e.noDataTemplate)}}function Bk(e,t){}function zk(e,t){if(1&e&&Io(0,Bk,0,0,"ng-template",14),2&e){const e=Go(2);Oo("templateContext",Ul(1,Mk,e.footerTemplate.templateRef))}}function jk(e,t){if(1&e){const e=Bo();Io(0,Nk,1,3,void 0,10),Po(1,"kendo-list",11,12),Uo("pageChange",(function(t){return Qt(e),Go().pageChange(t)})),Mo(),Io(3,Hk,3,5,"div",13),Io(4,zk,1,3,void 0,10)}if(2&e){const e=Go();Oo("ngIf",e.headerTemplate),vs(1),Oo("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.valueField)("valueField",e.valueField)("template",e.template)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),vs(2),Oo("ngIf",0===e.data.length),vs(1),Oo("ngIf",e.footerTemplate)}}function Uk(e,t){if(1&e){const e=Bo();Po(0,"kendo-resize-sensor",17),Uo("resize",(function(){return Qt(e),Go().onResize()})),Mo()}}const $k=["wrapper"];$localize`:kendo.combobox.noDataText|The text displayed in the popup when there are no items␟2b6e00c74a6d9c98c03a6274d0224e9bd457ff89␟7708502966028483300:NO DATA FOUND`,$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`;const qk=["noDataText",$localize`:kendo.dropdownlist.noDataText|The text displayed in the popup when there are no items␟4fc2f70c9c8cf7b18affd6b938105996d6ac3306␟8289552890585138350:NO DATA FOUND`];function Gk(e,t){}function Kk(e,t){if(1&e&&Io(0,Gk,0,0,"ng-template",10),2&e){const e=Go();Oo("templateContext",$l(1,nk,e.valueTemplate.templateRef,e.dataItem))}}function Wk(e,t){1&e&&ya(0),2&e&&wa(Go().getText())}function Zk(e,t){if(1&e){const e=Bo();Po(0,"span",14),Uo("click",(function(t){return Qt(e),t.stopImmediatePropagation()})),Po(1,"input",15),Uo("ngModelChange",(function(t){return Qt(e),Go(2).filterText=t}))("keydown",(function(t){return Qt(e),Go(2).keydown(t)}))("input",(function(t){return Qt(e),Go(2).handleFilter(t)}))("focus",(function(){return Qt(e),Go(2).onFilterFocus()}))("blur",(function(){return Qt(e),Go(2).blurFilterInput()})),Mo(),No(2,"span",16),Mo()}if(2&e){const e=Go(2);vs(1),Oo("filterInput",e.isFocused&&!e.touchEnabled)("dir",e.direction)("ngModel",e.filterText),_o("aria-owns",e.ariaOwns)("aria-activedescendant",e.ariaActivedescendant)("aria-label",e.noDataLabel)}}const Yk=function(e){return{"k-state-disabled":e}};function Qk(e,t){if(1&e&&(Po(0,"div",17),ya(1),Mo()),2&e){const e=Go(2);Oo("ngClass",Ul(3,Yk,e.isDisabledDefaultItem))("index",-1),vs(1),Ca(" ",e.getDefaultItemText()," ")}}function Jk(e,t){}function Xk(e,t){if(1&e&&(Po(0,"div",17),Io(1,Jk,0,0,"ng-template",10),Mo()),2&e){const e=Go(2);Oo("ngClass",Ul(3,Yk,e.isDisabledDefaultItem))("index",-1),vs(1),Oo("templateContext",$l(5,nk,e.itemTemplate.templateRef,e.defaultItem))}}function e_(e,t){}function t_(e,t){if(1&e&&Io(0,e_,0,0,"ng-template",10),2&e){const e=Go(2);Oo("templateContext",Ul(1,Mk,e.headerTemplate.templateRef))}}function i_(e,t){}function n_(e,t){if(1&e&&(Po(0,"div"),ya(1),Mo()),2&e){const e=Go(3);vs(1),wa(e.noDataText)}}function s_(e,t){if(1&e&&(Po(0,"div",18),Io(1,i_,0,0,"ng-template",19),Io(2,n_,2,1,"ng-template",5),Mo()),2&e){const e=Go(2);vs(1),Oo("ngIf",e.noDataTemplate)("templateContext",Ul(3,Mk,e.noDataTemplate?e.noDataTemplate.templateRef:void 0)),vs(1),Oo("ngIf",!e.noDataTemplate)}}function r_(e,t){}function o_(e,t){if(1&e&&Io(0,r_,0,0,"ng-template",10),2&e){const e=Go(2);Oo("templateContext",Ul(1,Mk,e.footerTemplate.templateRef))}}function a_(e,t){if(1&e){const e=Bo();Io(0,Zk,3,6,"ng-template",5),Io(1,Qk,2,5,"ng-template",5),Io(2,Xk,2,8,"ng-template",5),Io(3,t_,1,3,void 0,4),Po(4,"kendo-list",11,12),Uo("pageChange",(function(t){return Qt(e),Go().pageChange(t)})),Mo(),Io(6,s_,3,5,"div",13),Io(7,o_,1,3,void 0,4)}if(2&e){const e=Go();Oo("ngIf",e.filterable),vs(1),Oo("ngIf",e.defaultItem&&!e.itemTemplate),vs(1),Oo("ngIf",e.defaultItem&&e.itemTemplate),vs(1),Oo("ngIf",e.headerTemplate),vs(1),Oo("id",e.listBoxId)("optionPrefix",e.optionPrefix)("data",e.data)("textField",e.textField)("valueField",e.valueField)("template",e.itemTemplate)("groupTemplate",e.groupTemplate)("fixedGroupTemplate",e.fixedGroupTemplate)("height",e.listHeight)("show",e.isOpen)("virtual",e.virtual),vs(2),Oo("ngIf",0===e.data.length),vs(1),Oo("ngIf",e.footerTemplate)}}function l_(e,t){if(1&e){const e=Bo();Po(0,"kendo-resize-sensor",20),Uo("resize",(function(){return Qt(e),Go().onResize()})),Mo()}}const c_=function(e,t){return{"k-dropdown-wrap":!0,"k-state-default":e,"k-state-disabled":t}};$localize`:kendo.multiselect.noDataText|The text displayed in the popup when there are no items␟3cc1323f79a5fe012960578e513f8a35b2af1e96␟1450213984397806503:NO DATA FOUND`,$localize`:kendo.combobox.clearTitle|The title of the clear button␟069e8fae80677e3e785861123bef446b3ff41ab4␟2025597431468961462:clear`;const h_=e=>null!=e,u_=()=>{let e,t,i="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(i+="-"),i+=(12===e?4:16===e?3&t|8:t).toString(16);return i},d_=(e,t,i=!1)=>{if(h_(e))return i?t&&h_(e[t])?e[t]:e:t?e[t]:e},p_=(e,t,i)=>{if(!h_(e))return!1;let n=String(e);return i&&(n=n.toLowerCase()),0===n.indexOf(t)},f_=e=>e.className.includes("ng-untouched"),g_=e=>{};let m_=(()=>{class e{constructor(e,t){this.localization=e,this.valueChange=new nc,this.onBlur=new nc,this.onFocus=new nc,this.onClick=new nc,this.onNavigate=new nc,this.searchBarClass=!0,this._userInput="",this._previousValue="",this._placeholder="",this.direction=e.rtl?"rtl":"ltr",this.renderer=t}get userInput(){return this._userInput}set userInput(e){this._userInput=e||""}get value(){return this.input.nativeElement.value}set placeholder(e){this._placeholder=e||"",this.setInputSize()}get placeholder(){return this._placeholder}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")}ngOnChanges(e){let t;if(this.input&&(e.userInput||e.suggestedText)){t=e.userInput&&e.userInput.previousValue?this._previousValue===e.userInput.previousValue?this._previousValue:e.userInput.currentValue||"":this._previousValue;const s=this.input.nativeElement.selectionStart,r=t.length===s;this.writeInputValue(this.suggestedText?(i=this.userInput).concat((n=this.suggestedText).substr(n.toLowerCase().indexOf(i.toLowerCase())+i.length)):this.userInput),this.suggestedText?this.setInputSelection(this.userInput.length,this.suggestedText.length):r?this.setInputSelection(this.userInput.length,this.userInput.length):this.setInputSelection(s,s),this._previousValue=this.userInput}var i,n}ngOnDestroy(){this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}writeInputValue(e){Yb()&&this.renderer.setProperty(this.input.nativeElement,"value",e)}setInputSelection(e,t){if(Yb()&&this.input.nativeElement===document.activeElement)try{this.input.nativeElement.setSelectionRange(e,t)}catch(i){}}handleInput(e){const t=e.target.value;t!==this.userInput&&(this._previousValue=t,this.valueChange.emit(t))}handleFocus(e){this.onFocus.emit(e)}handleBlur(e){this.onBlur.emit(e)}handleKeydown(e){[gy.ArrowUp,gy.ArrowDown,gy.ArrowLeft,gy.ArrowRight,gy.Enter,gy.Escape,gy.Delete,gy.Backspace,gy.Home,gy.End].indexOf(e.keyCode)>-1&&this.onNavigate.emit(e)}focus(){Yb()&&this.input.nativeElement.focus()}blur(){Yb()&&this.input.nativeElement.blur()}setInputSize(){const e=e=>e?e.length:0,t=this.input.nativeElement,i=e(this.placeholder),n=e(this.value),s=Math.max(i,n,1);this.renderer.setAttribute(t,"size",s.toString())}}return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(Ya))},e.\u0275cmp=pt({type:e,selectors:[["kendo-searchbar"]],viewQuery:function(e,t){var i;1&e&&gc(JS,!0),2&e&&fc(i=Cc())&&(t.input=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&oa("k-searchbar",t.searchBarClass)},inputs:{userInput:"userInput",placeholder:"placeholder",id:"id",listId:"listId",tagListId:"tagListId",activeDescendant:"activeDescendant",noDataLabel:"noDataLabel",disabled:"disabled",readonly:"readonly",tabIndex:"tabIndex",popupOpen:"popupOpen",role:"role",suggestedText:"suggestedText"},outputs:{valueChange:"valueChange",onBlur:"onBlur",onFocus:"onFocus",onClick:"onClick",onNavigate:"onNavigate"},features:[Oa],decls:2,vars:21,consts:[["autocomplete","off","aria-haspopup","listbox",3,"id","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope","input","keydown"],["input",""]],template:function(e,t){1&e&&(Po(0,"input",0,1),Uo("input",(function(e){return t.handleInput(e)}))("keydown",(function(e){return t.handleKeydown(e)})),Mo()),2&e&&(aa("k-input"),Oo("id",t.id)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",$l(18,XS,t.handleFocus,t.handleBlur))("scope",t),_o("tabIndex",t.tabIndex)("dir",t.direction)("role",t.role)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.popupOpen)("aria-owns",t.listId)("aria-describedby",t.tagListId)("aria-activedescendant",t.activeDescendant)("aria-label",t.noDataLabel))},directives:[ny],encapsulation:2}),e})(),v_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownListItemTemplate",""],["","kendoComboBoxItemTemplate",""],["","kendoAutoCompleteItemTemplate",""],["","kendoMultiSelectItemTemplate",""]]}),e})(),b_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownListHeaderTemplate",""],["","kendoComboBoxHeaderTemplate",""],["","kendoAutoCompleteHeaderTemplate",""],["","kendoMultiSelectHeaderTemplate",""]]}),e})(),y_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownListFooterTemplate",""],["","kendoComboBoxFooterTemplate",""],["","kendoAutoCompleteFooterTemplate",""],["","kendoMultiSelectFooterTemplate",""]]}),e})(),w_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownListGroupTemplate",""],["","kendoComboBoxGroupTemplate",""],["","kendoAutoCompleteGroupTemplate",""],["","kendoMultiSelectGroupTemplate",""]]}),e})(),C_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownListFixedGroupTemplate",""],["","kendoComboBoxFixedGroupTemplate",""],["","kendoAutoCompleteFixedGroupTemplate",""],["","kendoMultiSelectFixedGroupTemplate",""]]}),e})(),x_=(()=>{class e{constructor(){this.onSelect=new nc,this.onChange=new nc,this.onFocus=new nc,this.total=0,this.selectedIndices=[]}getTotal(){return this.total}isSelected(e){return h_(this.selectedIndices.find(t=>t===e))}isFocused(e){return e===this.focused}focus(e){this.isFocused(e)||(this.focused=e,this.onFocus.emit(e))}select(e){this.isSelected(e)||(this.selectedIndices=[e],this.focused=e,this.onSelect.emit({indices:[e],newSelection:h_(e)}))}add(e){this.isSelected(e)||(this.selectedIndices.push(e),this.focused=e,this.onChange.emit({added:e,indices:this.selectedIndices.slice()}))}unselect(e){if(!this.isSelected(e))return;const t=this.selectedIndices.indexOf(e);this.selectedIndices.splice(t,1),this.focused=e,this.onChange.emit({indices:this.selectedIndices.slice(),removed:e})}change(e){const t=h_(e)&&!this.isSelected(e);this.selectedIndices=[e],this.focused=e,this.onChange.emit({indices:[e],newSelection:t})}resetSelection(e){this.selectedIndices=e instanceof Array?e:[e],this.focused=this.selectedIndices[this.selectedIndices.length-1]}get selected(){return this.selectedIndices.slice()}get focused(){return this.focusedIndex}set focused(e){this.focusedIndex!==e&&(this.focusedIndex=e,this.onFocus.emit(e))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();var S_=function(e){return e[e.Undefined=0]="Undefined",e[e.Open=1]="Open",e[e.Close=2]="Close",e[e.Enter=3]="Enter",e[e.Tab=4]="Tab",e[e.Esc=5]="Esc",e[e.Delete=6]="Delete",e[e.Backspace=7]="Backspace",e[e.Home=8]="Home",e[e.End=9]="End",e[e.Up=10]="Up",e[e.Down=11]="Down",e[e.Left=12]="Left",e[e.Right=13]="Right",e}({});let k_=(()=>{class e{constructor(){this.grouped=!1,this.groupIndices=[]}set data(e){this._data=e,this.grouped=this.isGrouped(e),this.grouped&&(this.groupIndices=this.getGroupIndices(e),this._flatData=this.flatten(e))}get data(){return this.grouped?this._flatData:this._data}get itemsCount(){return h_(this.data)&&0!==this.data.length?(this.grouped?this._flatData.filter(e=>!e.header):this.data).length:0}isGrouped(e){return h_(e)&&0!==e.length&&h_(e[0])&&(i=["aggregates","field","items","value"],!!h_(t=e[0])&&i.every(e=>t.hasOwnProperty(e)));var t,i}getGroupIndices(e){let t=[];for(let i=0;i<=e.length-1;i++)t[i]=(t[i-1]||0)+e[i].items.length;return t}filter(e){let t=[];if(this.isGrouped(this.data))for(let i=0;i<=this.groupIndices.length-1;i++){const n=this.data[i].items.filter(e);n&&(t=t.concat(n))}else t=this.data.filter(e);return t}indexOf(e,t=0){let i=t=>t===e;return this.grouped&&(i=t=>t.value===e),this.findIndex(i,t)}findIndex(e,t=0){let i=-1;if(this.grouped){const n=this._flatData.filter(e=>!e.header&&e.offsetIndex>=t);i=n.findIndex(e),i=n[i]?n[i].offsetIndex:-1}else{const n=this.data.slice(t).findIndex(e);i=-1!==n?n+t:-1}return i}closestGroup(e){for(let t=e;t>=0;t--)if(this._flatData[t].header)return this._flatData[t]}find(e){const t=this.findIndex(e);return this.itemAt(t)}flatIndex(e){if(0===this.itemsCount)return-1;if(!this.grouped)return e;{const t=this._flatData.find(t=>!t.header&&t.offsetIndex===e);if(t)return t.index}return-1}itemAt(e){let t;if(0===this.itemsCount)return t;if(this.grouped){const i=this._flatData.find(t=>!t.header&&t.offsetIndex===e);i&&(t=i.value)}else t=this.data[e];return t}groupAt(e){if(0!==this.itemsCount&&this.isGrouped)return this._flatData.find(t=>t.header&&t.index===e)}groupField(){if(0!==this.itemsCount&&this.isGrouped)return this._data[0].field}itemGroup(e){if(!e||0===this.itemsCount||!this.isGrouped)return;const t=this.groupField();return t?e[t]:void 0}flatten(e,t,i=0,n=0){let s=[];h_(t)&&s.push({header:!0,index:n+i,offsetIndex:n,value:t});for(let r=0;r<e.length;r++){let t=[];e[r].items?(t=this.flatten(e[r].items,e[r].value,i,r),i+=e[r].items.length):t.push({header:!1,index:n+i+r+1,offsetIndex:i+r,value:e[r]}),s=s.concat(t)}return s}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),__=(()=>{class e{constructor(e){this.dataService=e,this.itemDisabled=null}isIndexDisabled(e){if(this.itemDisabled){const t=this.dataService.itemAt(e);if(h_(t))return this.itemDisabled({dataItem:t,index:e});if(h_(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}isItemDisabled(e){if(this.itemDisabled){const t=this.dataService.indexOf(e);if(-1!==t)return this.itemDisabled({dataItem:e,index:t});if(h_(this.defaultItem))return this.itemDisabled({dataItem:this.defaultItem,index:-1})}}}return e.\u0275fac=function(t){return new(t||e)(We(k_))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class E_{constructor(e,t){this.index=e,this.originalEvent=t}}let I_=(()=>{class e{constructor(e,t){this.disabledItemsService=e,this.selectionService=t,this.open=new nc,this.close=new nc,this.enter=new nc,this.tab=new nc,this.esc=new nc,this.up=new nc,this.right=new nc,this.down=new nc,this.left=new nc,this.delete=new nc,this.backspace=new nc,this.home=new nc,this.end=new nc}process(e){const t=e.originalEvent.keyCode,i=e.originalEvent.altKey;let n,s=S_.Undefined;i&&t===gy.ArrowDown?s=S_.Open:i&&t===gy.ArrowUp?s=S_.Close:t===gy.Enter?s=S_.Enter:t===gy.Escape?s=S_.Esc:t===gy.Tab?s=S_.Tab:t===gy.ArrowUp?(n=this.next({current:e.current,start:e.min,end:e.max,step:-1}),s=S_.Up):t===gy.ArrowLeft?(n=this.next({current:e.current,start:e.min,end:e.max,step:-1}),s=S_.Left):t===gy.ArrowDown?(n=this.next({current:e.current,start:e.min,end:e.max,step:1}),s=S_.Down):t===gy.ArrowRight?(n=this.next({current:e.current,start:e.min,end:e.max,step:1}),s=S_.Right):t===gy.Home?(n=this.isDisabled(0)?e.current:0,s=S_.Home):t===gy.End?(n=this.isDisabled(e.max)?e.current:e.max,s=S_.End):t===gy.Delete?s=S_.Delete:t===gy.Backspace&&(s=S_.Backspace);const r=new E_(n,e.originalEvent);return s!==S_.Undefined&&this[S_[s].toLowerCase()].emit(r),s}next(e){const{current:t,start:i,end:n,step:s}=e,r=h_(t)?this.clampIndex(t+s,i,n):i,o=this.firstFocusableIndex(r,i,n,s);return h_(o)?o:this.selectionService.isSelected(t)&&t>=i?t:this.firstFocusableIndex(r,i,n,-1*s)}clampIndex(e,t,i){return!h_(e)||e<t?t:e>i?i:e}firstFocusableIndex(e,t,i,n){for(;t<=e&&e<=i;){if(!this.isDisabled(e))return e;e+=n}}isDisabled(e){if(this.disabledItemsService)return this.disabledItemsService.isIndexDisabled(e)}}return e.\u0275fac=function(t){return new(t||e)(We(__),We(x_))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),T_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownListNoDataTemplate",""],["","kendoComboBoxNoDataTemplate",""],["","kendoAutoCompleteNoDataTemplate",""],["","kendoMultiSelectNoDataTemplate",""]]}),e})();class F_{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class D_{}let A_=(()=>{class e{constructor(e){this.element=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["li","role","option"],["li","role","group"]]}),e})(),O_=(()=>{class e{constructor(e,t,i,n,s,r,o){this.dataService=e,this.wrapper=t,this.selectionService=i,this.disabledItemsService=n,this.cdr=s,this.zone=r,this.renderer=o,this.selected=[],this.focused=-1,this.show=!0,this.multipleSelection=!1,this.onClick=new nc,this.pageChange=new nc,this.startFrom=0,this.lastLoaded=0,this.lastScrollTop=0,this.scrollToFocused=!1,this.selectSubscription=K(this.selectionService.onSelect.pipe(L(e=>e.indices[0])),this.selectionService.onFocus).pipe(xg(e=>this.zone.onStable.pipe(mg(1),L(()=>e)))).subscribe(this.scrollToItem.bind(this))}set data(e){this._data=e[0]&&e[0].header?e.slice(0):e}get data(){return this._data}set items(e){this._items=e}get items(){return this._items}get pageSize(){return this.virtual.pageSize?this.virtual.pageSize:Math.round(this.height/this.virtual.itemHeight)}get scrollHeight(){return(this.dataService.grouped?this.virtual.total-1:this.virtual.total)*this.virtual.itemHeight}ngOnChanges(e){Qb("data",e,!1)&&this.lastLoaded<=0&&(this.lastLoaded=this.data.length-1,this.scrollToFocused=!e.data.isFirstChange())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.scrollSubscription=Zb(this.content.nativeElement,"scroll").pipe(Wb(100),Ag(this.prefetchData.bind(this)),Ag(this.findCurrentGroup.bind(this))).subscribe(()=>{this.lastScrollTop=this.content.nativeElement.scrollTop})})}ngAfterViewChecked(){this.virtual&&this.positionItems(),this.items&&this.scrollToFocused&&(this.scrollToFocused=!1,this.scrollToItem(this.items.length&&-1===this.selectionService.focused?0:this.selectionService.focused)),this.dataService.grouped&&this.findCurrentGroup()}ngOnDestroy(){this.selectSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe()}firstVisibleItem(){const e=this.content.nativeElement,t=e.getBoundingClientRect(),i=Array.prototype.slice.call(e.querySelectorAll(".k-state-disabled"));i.forEach(e=>this.renderer.setStyle(e,"pointer-events","auto"));const n=document.elementFromPoint(t.left+1,t.top+1);return i.forEach(e=>this.renderer.setStyle(e,"pointer-events","none")),n}findCurrentGroup(){if(!this.dataService.grouped)return void(this.currentGroup=void 0);const e=this.firstVisibleItem();if(e){let t;"group"===e.getAttribute("role")?(t=parseInt(e.getAttribute("group-index"),10),this.currentGroup=this.dataService.groupAt(t).value):(t=parseInt(e.getAttribute("index"),10),this.currentGroup=this.dataService.itemGroup(this.dataService.itemAt(t)))}else this.currentGroup=void 0;this.cdr.detectChanges()}prefetchData(){if(!this.virtual)return;const e=Math.trunc(this.content.nativeElement.clientHeight/this.virtual.itemHeight),t=this.content.nativeElement.scrollTop,i=Math.trunc(t/this.virtual.itemHeight),n=t>this.lastScrollTop,s=this.lastLoaded-this.pageSize+e>=i-(this.pageSize-(this.lastLoaded-this.startFrom));n&&i+e>=this.lastLoaded&&this.lastLoaded<this.virtual.total-1&&this.changePage(i),!n&&s&&this.changePage(i-this.pageSize+e+1)}changePage(e){this.zone.run(()=>{let t=this.pageSize+e;t>this.virtual.total&&(e--,t=this.virtual.total),e<0&&(e=0),this.startFrom=e,this.lastLoaded=t,this.pageChange.emit({skip:e,take:this.pageSize})})}index(e,t){return e>0?this.dataService.groupIndices[e-1]+t:t}getText(e){return d_(e,this.textField)}getValue(e){return d_(e,this.valueField)}isDisabled(e){return h_(this.virtual)&&(e+=this.virtual.skip),this.disabledItemsService.isIndexDisabled(e)}scrollToItem(e){let t=e;if(this.dataService.grouped&&(t=this.dataService.flatIndex(e),t+=this.firstGroupHeaderInTargetedPage(t)?-1:0),this.virtual&&t>-1)return void this.scrollToIndex(t);const i=this.items.toArray();h_(i[t])&&-1!==t&&this.scroll(i[t].element)}scrollToIndex(e){let t=this.content.nativeElement,i=t.scrollTop;const n=e*this.virtual.itemHeight,s=t.clientHeight,r=n+this.virtual.itemHeight;i>n?i=n:r>i+s&&(i=r-s),t.scrollTop=i}scroll(e){if(!e)return;const t=e.nativeElement;let i=this.content.nativeElement,n=t.offsetTop,s=i.scrollTop,r=i.clientHeight,o=n+t.offsetHeight;s>n?s=n:o>s+r&&(s=o-r),i.scrollTop=s}positionItems(){this.items.forEach((e,t)=>{this.renderer.setStyle(e.element.nativeElement,"transform",`translateY(${(t+this.startFrom)*this.virtual.itemHeight}px`)})}firstGroupHeaderInTargetedPage(e){return!h_(this.virtual)||0===this.virtual.skip&&this.virtual.pageSize>e}}return e.\u0275fac=function(t){return new(t||e)(Fo(k_),Fo(Ga),Fo(x_),Fo(__),Fo($r),Fo(Wc),Fo(Ya))},e.\u0275cmp=pt({type:e,selectors:[["kendo-list"]],viewQuery:function(e,t){var i;1&e&&(mc(ek,!0),mc(tk,!0),mc(A_,!0)),2&e&&(fc(i=Cc())&&(t.content=i.first),fc(i=Cc())&&(t.list=i.first),fc(i=Cc())&&(t.items=i))},inputs:{selected:"selected",focused:"focused",show:"show",multipleSelection:"multipleSelection",data:"data",textField:"textField",valueField:"valueField",height:"height",template:"template",groupTemplate:"groupTemplate",fixedGroupTemplate:"fixedGroupTemplate",id:"id",optionPrefix:"optionPrefix",virtual:"virtual"},outputs:{onClick:"onClick",pageChange:"pageChange"},features:[Oa],decls:8,vars:15,consts:[["class","k-outer-group-header k-first",3,"ngClass","ngStyle",4,"ngIf"],["unselectable","on",3,"ngClass"],["content",""],["role","listbox",1,"k-list","k-reset",3,"ngClass"],["list",""],[4,"ngIf"],["class","k-height-container","role","presentation",4,"ngIf"],[1,"k-outer-group-header","k-first",3,"ngClass","ngStyle"],[3,"ngIf"],[3,"templateContext"],["ngFor","",3,"ngForOf"],["role","option","kendoDropDownsSelectable","",1,"k-item",3,"height","index","multipleSelection","ngClass"],["role","group","class","k-outer-group-header",3,"ngClass","ngStyle",4,"ngIf"],["role","option","kendoDropDownsSelectable","","class","k-item",3,"height","index","multipleSelection","ngClass",4,"ngIf"],["role","group",1,"k-outer-group-header",3,"ngClass","ngStyle"],["role","presentation",1,"k-height-container"]],template:function(e,t){1&e&&(Io(0,lk,3,10,"div",0),Po(1,"div",1,2),Po(3,"ul",3,4),Io(5,fk,1,1,void 0,5),Io(6,kk,1,1,void 0,5),Mo(),Io(7,_k,2,2,"div",6),Mo()),2&e&&(Oo("ngIf",t.dataService.grouped),vs(1),ra("max-height",t.height,"px"),Oo("ngClass",$l(10,Ek,t.virtual,!t.virtual)),vs(2),Oo("ngClass",Ul(13,Ik,t.virtual)),_o("id",t.id)("aria-hidden",!t.show),vs(2),Oo("ngIf",!t.dataService.grouped&&t.show),vs(1),Oo("ngIf",t.dataService.grouped),vs(1),Oo("ngIf",t.virtual))},directives:function(){return[ku,wu,Au,z_,xu,A_,j_]},encapsulation:2}),e})();const R_={pageSize:50,itemHeight:28},P_=e=>!0===e?R_:e?Object.assign({pageSize:R_.pageSize},e):null,M_={multi:!0,provide:iw,useExisting:Se(()=>N_)};let N_=(()=>{class e{constructor(e,t,i,n,s,r,o,a,l,c){this.localization=e,this.dataService=t,this.popupService=i,this.selectionService=n,this.navigationService=s,this.disabledItemsService=r,this._zone=o,this.cdr=a,this.renderer=l,this.highlightFirst=!0,this.focusableId="k-"+u_(),this.placeholder="",this.listHeight=200,this.clearButton=!0,this.disabled=!1,this.readonly=!1,this.tabindex=0,this.filterable=!1,this.valueChange=new nc,this.filterChange=new nc,this.open=new nc,this.close=new nc,this.onFocus=new nc,this.onBlur=new nc,this.widgetClasses=!0,this.listBoxId=u_(),this.optionPrefix=u_(),this.onChangeCallback=g_,this.onTouchedCallback=g_,this.popupMouseDownHandler=e=>e.preventDefault(),this._popupSettings={animate:!0},this._open=!1,this._value="",this.valueChangeSubject=new _,this._isFocused=!1,this.direction=e.rtl?"rtl":"ltr",this.wrapper=c.nativeElement,this.data=[],this.subscribeEvents(),this.selectionService.resetSelection([-1])}get width(){let e=0;Yb()&&(e=this.wrapper.offsetWidth);const t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return h_(e)?e+"px":"auto"}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get suggestion(){if(!this.text||!this.suggestedText)return void(this.suggestedText=void 0);const e=this.suggestedText.toLowerCase().startsWith(this.text.toLowerCase());return this.suggest&&!this.backspacePressed&&e?this.suggestedText:void 0}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}toggle(e){Promise.resolve(null).then(()=>{const t=h_(e)?e:!this._open;this._toggle(t)})}get isOpen(){return this._open}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||this._toggle(e)}get activeDescendant(){if(!this.isOpen||!h_(this.selectionService.focused)||-1===this.selectionService.focused)return null;const e=this.dataService.itemAt(this.selectionService.focused);return this.optionPrefix+"-"+d_(e,this.valueField)}get noDataLabel(){if(0===this.data.length)return this.noDataText}get clearTitle(){return this.localization.get("clearTitle")}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.filterable&&(this.selectionService.focused=this.isOpen&&this.data.length&&this.highlightFirst?this.firstFocusableIndex(0):-1),this.suggest&&this.dataService.itemsCount>0&&(this.suggestedText=d_(this.dataService.itemAt(0),this.valueField))}get data(){const e=this.virtual;if(e){const t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}set value(e){this.verifySettings(e),this._value=e||"",this.text=this.value,this.cdr.markForCheck()}get value(){return this._value||""}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set virtual(e){this._virtualSettings=P_(e)}get virtual(){return this._virtualSettings}get isFocused(){return this._isFocused}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper,"k-state-focused"),this._isFocused=e}get isDisabled(){return this.disabled}get dir(){return this.direction}ngOnInit(){this.renderer.removeAttribute(this.wrapper,"tabindex"),this.localizationChangeSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize})}reset(){this.value=""}clearValue(e){e.stopImmediatePropagation(),this.focus(),this.change(""),this.filterable&&this.filterChange.emit(""),this.selectionService.resetSelection([])}writeValue(e){this.value=e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}focus(){this.disabled||this.searchbar.focus()}blur(){this.disabled||this.searchbar.blur()}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:i}=this.width;e.style.minWidth=t,e.style.width=i}}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}verifySettings(e){if(Sn()&&h_(e)&&"string"!=typeof e)throw new Error("Expected value of type string. See https://www.telerik.com/kendo-angular-ui/components/dropdowns/autocomplete/value-binding/")}search(e,t=0){let i;i=e.length&&this.dataService.itemsCount?this.dataService.findIndex(this.findIndexPredicate(e),t):-1,this.disabledItemsService.isIndexDisabled(i)?i+1<this.dataService.itemsCount?this.search(e,i+1):this.selectionService.focus(-1):(this.selectionService.focus(i),this.suggest&&(this.suggestedText=d_(this.dataService.itemAt(i),this.valueField)))}navigate(e){this.isOpen&&this.selectionService.focus(e)}handleNavigate(e){const t=isNaN(this.selectionService.focused)?this.firstFocusableIndex(0):this.selectionService.focused;if(this.disabled||this.readonly||isNaN(t))return;const i=this.navigationService.process({current:t,max:this.dataService.itemsCount-1,min:0,originalEvent:e});i!==S_.Undefined&&i!==S_.Backspace&&i!==S_.Delete&&i!==S_.Home&&i!==S_.End&&i!==S_.Left&&i!==S_.Right&&(i===S_.Enter&&this.isOpen||i!==S_.Enter)&&e.preventDefault()}handleEnter(e){const t=this.selectionService.focused;let i;if(this.isOpen&&e.originalEvent.preventDefault(),t>=0)i=d_(this.dataService.itemAt(t),this.valueField);else{const e=this.suggest&&this.suggestedText&&this.data.length&&d_(this.dataService.itemAt(0),this.valueField,!0).toLowerCase()===this.searchbar.value.toLowerCase();i=this.isOpen&&e?this.suggestedText:this.searchbar.value}this.change(i)}handleEscape(){this.togglePopup(!1),this.selectionService.focused=-1,this.suggestedText=null}searchBarChange(e){const t=h_(this.text)?this.text.length:0;this.backspacePressed=e.length<t,this.text=e,this.togglePopup(e.length>0),this.highlightFirst||(this.selectionService.focused=-1),this.filterable?this.filterChange.emit(e):this.highlightFirst&&this.search(e)}handleFocus(){this.isFocused=!0,Xb(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()})}handleBlur(){const e=this.filterable?this.selectionService.focused:-1;let t,i;this.searchbar.input.nativeElement.scrollLeft=0,-1!==e?(t=this.dataService.itemAt(e),i=d_(t,this.valueField,!0)||""):i=this.searchbar.value;const n=i===this.searchbar.value,s=i.toLowerCase()===this.searchbar.value.toLowerCase();!n&&s&&this.selectionService.resetSelection([]),this.isFocused=!1;const r=this.value!==this.text;Xb(this.onBlur)||Xb(this.close)||f_(this.wrapper)||r?this._zone.run(()=>{r&&this.change(this.searchbar.value),this.onBlur.emit(),this.onTouchedCallback(),this.togglePopup(!1)}):this.togglePopup(!1)}pageChange(e){this.virtual.skip=e.skip}change(e){this.togglePopup(!1),this.valueChangeSubject.next(e)}subscribeEvents(){Yb()&&(this.valueChangeSubscription=this.valueChangeSubject.subscribe(e=>{const t=this.value!==e;this.value=e,this.text=e,t&&this.emitChange(e)}),this.changeSubscription=this.selectionService.onChange.subscribe(this.handleItemChange.bind(this)),this.focusSubscription=this.selectionService.onFocus.subscribe(this.handleItemFocus.bind(this)),this.navigationSubscription=K(this.navigationService.up,this.navigationService.down).subscribe(e=>this.navigate(e.index)),this.closeSubscription=this.navigationService.close.subscribe(()=>this.togglePopup(!1)),this.enterSubscription=this.navigationService.enter.subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)))}unsubscribeEvents(){Yb()&&(this.changeSubscription.unsubscribe(),this.navigationSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.valueChangeSubscription.unsubscribe(),this.focusSubscription.unsubscribe())}handleItemChange(e){const t=e.indices.length?e.indices[0]:void 0;if(this.selectionService.resetSelection([-1]),!h_(t))return;let i=d_(this.dataService.itemAt(t),this.valueField);this.change(i)}handleItemFocus(e){const t=this.selectionService.focused;Boolean(this.suggest&&this.data&&this.data.length&&t>=0)&&(this.suggestedText=d_(this.dataService.itemAt(t),this.valueField))}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupClass:this.listContainerClasses,positionMode:"absolute",popupAlign:{horizontal:e,vertical:"top"},anchorAlign:{horizontal:e,vertical:"bottom"}});const t=this.popupRef.popupElement,{min:i,max:n}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=i,t.style.width=n,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new F_;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}firstFocusableIndex(e){const t=this.data.length-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}findIndexPredicate(e){return this.dataService.grouped?t=>{let i=d_(t.value,this.valueField);return i=h_(i)?i.toString().toLowerCase():"",i.startsWith(e.toLowerCase())}:t=>{let i=d_(t,this.valueField);return i=h_(i)?i.toString().toLowerCase():"",i.startsWith(e.toLowerCase())}}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}}return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(k_),Fo(OS),Fo(x_),Fo(I_),Fo(__),Fo(Wc),Fo($r),Fo(Ya),Fo(Ga))},e.\u0275cmp=pt({type:e,selectors:[["kendo-autocomplete"]],contentQueries:function(e,t,i){var n;1&e&&(bc(i,v_,!0),bc(i,b_,!0),bc(i,y_,!0),bc(i,T_,!0),bc(i,w_,!0),bc(i,C_,!0)),2&e&&(fc(n=Cc())&&(t.template=n.first),fc(n=Cc())&&(t.headerTemplate=n.first),fc(n=Cc())&&(t.footerTemplate=n.first),fc(n=Cc())&&(t.noDataTemplate=n.first),fc(n=Cc())&&(t.groupTemplate=n.first),fc(n=Cc())&&(t.fixedGroupTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(mc(Tk,!0,bl),mc(Fk,!0),mc(m_,!0),mc(Dk,!0)),2&e&&(fc(i=Cc())&&(t.container=i.first),fc(i=Cc())&&(t.popupTemplate=i.first),fc(i=Cc())&&(t.searchbar=i.first),fc(i=Cc())&&(t.optionsList=i.first))},hostVars:9,hostBindings:function(e,t){2&e&&(_o("dir",t.dir),oa("k-widget",t.widgetClasses)("k-autocomplete",t.widgetClasses)("k-header",t.widgetClasses)("k-state-disabled",t.isDisabled))},inputs:{highlightFirst:"highlightFirst",focusableId:"focusableId",placeholder:"placeholder",listHeight:"listHeight",clearButton:"clearButton",disabled:"disabled",readonly:"readonly",tabindex:"tabindex",filterable:"filterable",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",tabIndex:"tabIndex",virtual:"virtual",valueField:"valueField",loading:"loading",suggest:"suggest"},outputs:{valueChange:"valueChange",filterChange:"filterChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoAutoComplete"],features:[ja([M_,k_,x_,I_,__,Fy,{provide:Ty,useValue:"kendo.autocomplete"},{provide:D_,useExisting:Se(()=>e)},{provide:fy,useExisting:Se(()=>e)}]),Oa],decls:11,vars:15,consts:[["kendoAutoCompleteLocalizedMessages","",6,"noDataText","clearTitle"],[3,"role","id","listId","activeDescendant","noDataLabel","userInput","suggestedText","disabled","readonly","tabIndex","popupOpen","placeholder","onNavigate","valueChange","onBlur","onFocus"],["searchbar",""],["class","k-icon k-clear-value k-i-close","role","button","tabindex","-1",3,"click","mousedown",4,"ngIf"],["class","k-icon k-i-loading",4,"ngIf"],["popupTemplate",""],[3,"ngIf"],["container",""],["role","button","tabindex","-1",1,"k-icon","k-clear-value","k-i-close",3,"click","mousedown"],[1,"k-icon","k-i-loading"],[4,"ngIf"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[3,"templateContext"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,Ak),Vo(),Po(2,"kendo-searchbar",1,2),Uo("onNavigate",(function(e){return t.handleNavigate(e)}))("valueChange",(function(e){return t.searchBarChange(e)}))("onBlur",(function(){return t.handleBlur()}))("onFocus",(function(){return t.handleFocus()})),Mo(),Io(4,Ok,1,1,"span",3),Io(5,Rk,1,0,"span",4),Io(6,jk,5,14,"ng-template",null,5,_c),Io(8,Uk,1,0,"ng-template",6),Ho(9,null,7)),2&e&&(vs(2),Oo("role","combobox")("id",t.focusableId)("listId",t.listBoxId)("activeDescendant",t.activeDescendant)("noDataLabel",t.noDataLabel)("userInput",t.text)("suggestedText",t.suggestion)("disabled",t.disabled)("readonly",t.readonly)("tabIndex",t.tabIndex)("popupOpen",t.isOpen)("placeholder",t.placeholder),vs(2),Oo("ngIf",!t.loading&&!t.readonly&&t.clearButton&&(null==t.text?null:t.text.length)),vs(1),Oo("ngIf",t.loading),vs(3),Oo("ngIf",t.isOpen))},directives:function(){return[q_,m_,ku,O_,z_,dy]},encapsulation:2}),e})();const L_=new Ve("dropdowns-touch-enabled");let V_=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownListValueTemplate",""]]}),e})();const H_={multi:!0,provide:iw,useExisting:Se(()=>B_)};let B_=(()=>{class e{constructor(e,t,i,n,s,r,o,a,l,c,h){this.localization=e,this.popupService=t,this.selectionService=i,this.navigationService=n,this.disabledItemsService=s,this.dataService=r,this._zone=o,this.renderer=a,this.hostElement=l,this.cdr=c,this.touchEnabled=h,this.focusableId="k-"+u_(),this.listHeight=200,this.disabled=!1,this.readonly=!1,this.filterable=!1,this.ignoreCase=!0,this.delay=500,this.tabindex=0,this.valueChange=new nc,this.filterChange=new nc,this.selectionChange=new nc,this.open=new nc,this.close=new nc,this.onFocus=new nc,this.onBlur=new nc,this.widgetClasses=!0,this.groupIndices=[],this.listBoxId=u_(),this.optionPrefix=u_(),this.filterText="",this._isFocused=!1,this.onTouchedCallback=e=>{},this.onChangeCallback=e=>{},this.word="",this.last="",this.filterFocused=new nc,this.filterBlurred=new nc,this.wrapperFocused=new nc,this.wrapperBlurred=new nc,this.selectionSubscription=new u,this._open=!1,this._popupSettings={animate:!0},this.direction=e.rtl?"rtl":"ltr",this.data=[],this.subscribeEvents(),this.popupMouseDownHandler=this.onMouseDown.bind(this)}get width(){const e=Yb()?this.wrapper.nativeElement.offsetWidth:0,t=this.popupSettings.width||e;return{min:isNaN(e)?e:e+"px",max:isNaN(t)?t:t+"px"}}get height(){const e=this.popupSettings.height;return h_(e)?e+"px":"auto"}get widgetTabIndex(){if(this.disabled)return;const e=Number(this.tabIndex);return isNaN(e)?0:e}get ariaExpanded(){return this.isOpen}get ariaOwns(){if(this.isOpen)return this.listBoxId}get ariaActivedescendant(){if(h_(this.dataItem))return this.optionPrefix+"-"+d_(this.dataItem,this.valueField)}get noDataLabel(){if(0===this.dataService.itemsCount)return this.noDataText}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}set data(e){this.dataService.data=e||[],this.virtual&&(this.virtual.skip=0),this.setState()}get data(){const e=this.virtual;if(e){const t=e.skip||0,i=t+e.pageSize;return e.total=this.dataService.data.length,this.dataService.data.slice(t,i)}return this.dataService.data}set value(e){h_(e)||(this._previousDataItem=void 0),this._value=e,this.setState(),this.cdr.markForCheck()}get value(){return this._value}set popupSettings(e){this._popupSettings=Object.assign({animate:!0},e)}get popupSettings(){return this._popupSettings}set itemDisabled(e){if("function"!=typeof e)throw new Error(`itemDisabled must be a function, but received ${JSON.stringify(e)}.`);this.disabledItemsService.itemDisabled=e}set virtual(e){this._virtualSettings=P_(e)}get virtual(){return this._virtualSettings}set valuePrimitive(e){this._valuePrimitive=e}get valuePrimitive(){return h_(this._valuePrimitive)?this._valuePrimitive:!h_(this.valueField)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}blurComponent(){this.wrapperBlurred.emit()}blurFilterInput(){this.filterBlurred.emit()}focusComponent(){this.wrapperFocused.emit(),this.isFocused||(this.isFocused=!0,Xb(this.onFocus)&&this._zone.run(()=>{this.onFocus.emit()}))}keydown(e){const t=h_(this.defaultItem)?-1:0;let i=isNaN(this.selectionService.focused)?this.firstFocusableIndex(t):this.selectionService.focused,n=0;if(this.disabled||this.readonly)return;if(this.filterable&&this.isFocused&&this.isOpen&&(e.keyCode===gy.Home||e.keyCode===gy.End))return;const s=h_(this.selectionService.selected[0]),r=h_(this.selectionService.focused)&&!this.selectionService.isSelected(this.selectionService.focused);s&&!r||(e.keyCode===gy.ArrowDown||e.keyCode===gy.ArrowRight?n=-1:e.keyCode!==gy.ArrowUp&&e.keyCode!==gy.ArrowLeft||(n=1));const o=e,a=this.navigationService.process({current:i+n,max:this.dataService.itemsCount-1,min:this.defaultItem?-1:0,originalEvent:o});a===S_.Undefined||a===S_.Tab||a===S_.Backspace||a===S_.Delete||(a===S_.Left||a===S_.Right)&&this.filterable||a===S_.Enter||o.preventDefault()}keypress(e){this.disabled||this.readonly||this.filterable||this.onKeyPress(e)}click(e){e.preventDefault(),this.focus(),this.togglePopup(!this.isOpen)}onResize(){if(this._open){const e=this.popupRef.popupElement,{min:t,max:i}=this.width;e.style.minWidth=t,e.style.width=i}}get dir(){return this.direction}set isFocused(e){this.renderer[e?"addClass":"removeClass"](this.wrapper.nativeElement,"k-state-focused"),this._isFocused=e}get isFocused(){return this._isFocused}ngOnInit(){this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.localizationChangesSubscription=this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr",this.setMessages()}),this.setMessages(),this.assignAriaDescribedBy()}isEmpty(){const e=this.value;return!(0===e||!1===e||e||this.defaultItem)}onFilterFocus(){this.filterFocused.emit()}ngOnDestroy(){this.destroyPopup(),this.unsubscribeEvents(),clearTimeout(this.messagesTimeout),this.localizationChangesSubscription&&this.localizationChangesSubscription.unsubscribe()}ngOnChanges(e){const t=this.virtual;t&&e.data&&e.data.isFirstChange()&&this.pageChange({skip:0,take:t.pageSize}),Qb("defaultItem",e,!1)&&(this.disabledItemsService.defaultItem=this.defaultItem),Jb(["textField","valueField","valuePrimitive","defaultItem","itemDisabled"],e,!1)&&this.setState()}ngAfterContentChecked(){this.verifySettings()}focus(){this.disabled||this.wrapper.nativeElement.focus()}blur(){this.disabled||this.wrapper.nativeElement.blur()}toggle(e){Promise.resolve(null).then(()=>{const t=h_(e)?e:!this._open;this._toggle(t)})}_toggle(e){this._open=e,this.destroyPopup(),this._open&&this.createPopup()}triggerPopupEvents(e){const t=new F_;return e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()}togglePopup(e){this.disabled||this.readonly||this.isOpen===e||this.triggerPopupEvents(e)||(!e&&this.filterable&&this.isFocused&&this.focus(),this._toggle(e))}get isOpen(){return this._open}reset(){this.value=void 0}writeValue(e){this.value=null===e?void 0:e}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.disabled=e}get buttonClasses(){return this.loading?"k-i-loading":this.iconClass||"k-i-arrow-s"}get listContainerClasses(){const e=["k-list-container","k-reset"];return this.popupSettings.popupClass&&e.push(this.popupSettings.popupClass),e}get isDisabledDefaultItem(){return this.disabledItemsService.isItemDisabled(this.defaultItem)}getText(){return this.text}getDefaultItemText(){return d_(this.defaultItem,this.textField)}createPopup(){this.virtual&&(this.virtual.skip=0);const e="rtl"===this.direction?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{horizontal:e,vertical:"bottom"},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{horizontal:e,vertical:"top"},popupClass:this.listContainerClasses,positionMode:"absolute"});const t=this.popupRef.popupElement,{min:i,max:n}=this.width;t.addEventListener("mousedown",this.popupMouseDownHandler),t.style.minWidth=i,t.style.width=n,t.style.height=this.height,t.setAttribute("dir",this.direction),this.popupRef.popupOpen.subscribe(()=>{this.cdr.detectChanges(),this.optionsList.scrollToItem(this.selectionService.focused)}),this.filterable||this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.togglePopup(!1))}destroyPopup(){this.popupRef&&(this.popupRef.popupElement.removeEventListener("mousedown",this.popupMouseDownHandler),this.popupRef.close(),this.popupRef=null)}updateState({dataItem:e,confirm:t=!1}){this.dataItem=e,this.text=this.prop(this.textField,this.valuePrimitive)(e),t&&(this._previousDataItem=e)}clearState(){this.text=void 0,this.dataItem=void 0}resetSelection(e){const t=!h_(e);this.selectionService.resetSelection(t?[]:[e]),this.selectionService.focused=t?this.firstFocusableIndex(0):e}onSelectionChange({dataItem:e}){this.updateState({dataItem:e}),this.selectionChange.emit(e),this.assignAriaDescribedBy()}subscribeEvents(){Yb()&&(this.selectionSubscription.add(this.selectionService.onSelect.pipe(Jf(e=>this.isOpen),L(this.itemFromEvent.bind(this))).subscribe(this.onSelectionChange.bind(this))),this.selectionSubscription.add(K(this.selectionService.onSelect.pipe(Jf(e=>!this.isOpen)),this.selectionService.onChange).pipe(L(this.itemFromEvent.bind(this)),Ag(e=>this.togglePopup(!1))).subscribe(({dataItem:e,value:t,newSelection:i})=>{i&&this.onSelectionChange({dataItem:e});const n=!h_(e)&&this._previousDataItem,s=t!==this.prop(this.valueField,this.valuePrimitive)(this.value);n?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):s&&(this.value=this.valuePrimitive?t:e,this._previousDataItem=e,this.emitChange(this.value)),this.clearFilter()})),this.navigationSubscription=K(this.navigationService.up,this.navigationService.down,this.navigationService.left.pipe(ZS(()=>this.filterable)),this.navigationService.right.pipe(ZS(()=>this.filterable)),this.navigationService.home,this.navigationService.end).pipe(Jf(e=>!isNaN(e.index))).subscribe(e=>this.selectionService.select(e.index)),this.openSubscription=this.navigationService.open.subscribe(()=>this.togglePopup(!0)),this.closeSubscription=this.navigationService.close.subscribe(()=>{this.togglePopup(!1),this.focus()}),this.enterSubscription=this.navigationService.enter.pipe(Ag(e=>e.originalEvent.preventDefault())).subscribe(this.handleEnter.bind(this)),this.escSubscription=this.navigationService.esc.subscribe(this.handleEscape.bind(this)),this.filterBlurredSubscription=this.filterBlurred.pipe(Fg(()=>my(10).pipe(mg(1),Dy(this.wrapperFocused)))).subscribe(()=>{this.wrapperBlurred.emit()}),this._zone.runOutsideAngular(()=>{this.componentBlurredSubscription=K(this.wrapperBlurred.pipe(Fg(()=>my(10).pipe(mg(1),Dy(this.filterFocused)))),this.navigationService.tab).pipe(Ag(e=>e instanceof E_&&this.focus()),Jf(()=>this.isFocused)).subscribe(()=>this.componentBlur())}))}unsubscribeEvents(){Yb()&&(this.navigationSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.enterSubscription.unsubscribe(),this.escSubscription.unsubscribe(),this.componentBlurredSubscription.unsubscribe(),this.filterBlurredSubscription.unsubscribe(),this.selectionSubscription&&this.selectionSubscription.unsubscribe())}itemFromEvent(e){const t=e.indices[0];let i=this.dataService.itemAt(t);i=h_(i)?i:this.currentOrDefault(t);const n=this.prop(this.valueField,this.valuePrimitive)(i);return{dataItem:i,index:t,newSelection:e.newSelection,value:n}}currentOrDefault(e){return h_(this.dataItem)&&-1!==e?this.dataItem:this.defaultItem}firstFocusableIndex(e){const t=this.dataService.itemsCount-1;return this.disabledItemsService.isIndexDisabled(e)?e<t?this.firstFocusableIndex(e+1):void 0:e}handleEnter(){this.isOpen?(this.selectionService.change(this.selectionService.focused),this.focus()):this.togglePopup(!0)}handleEscape(){h_(this.selectionService.selected[0])?this.selectionService.change(this.selectionService.selected[0]):(this.togglePopup(!1),this.clearFilter()),this.focus()}clearFilter(){this.filterable&&this.filterText&&(this.filterText="",this.cdr.markForCheck(),this.filterChange.emit(this.filterText))}verifySettings(){if(Sn()){if(this.defaultItem&&this.valueField&&"object"!=typeof this.defaultItem)throw new Error("defaultItem and data items must be of same type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/api/DropDownListComponent/#toc-defaultitem");if(!0===this.valuePrimitive&&h_(this.value)&&"object"==typeof this.value)throw new Error("Expected value of primitive type. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!1===this.valuePrimitive&&h_(this.value)&&"object"!=typeof this.value)throw new Error("Expected value of type Object. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-value-selection");if(!h_(this.valueField)!=!h_(this.textField))throw new Error("Expected textField and valueField options to be set. See http://www.telerik.com/kendo-angular-ui/components/dropdowns/dropdownlist/#toc-bind-to-arrays-of-complex-data")}}componentBlur(){this.isFocused=!1;const e=this.prop(this.valueField,this.valuePrimitive),t=h_(this.selectionService.selected[0])&&e(this.value)!==e(this.dataService.itemAt(this.selectionService.selected[0]));t||Xb(this.close)||Xb(this.onBlur)||Xb(this.filterChange)||f_(this.hostElement.nativeElement)?this._zone.run(()=>{t&&this.selectionService.change(this.selectionService.selected[0]),this.togglePopup(!1),this.clearFilter(),this.onBlur.emit(),this.onTouchedCallback()}):this.togglePopup(!1)}onMouseDown(e){"input"!==e.target.tagName.toLowerCase()&&e.preventDefault()}onKeyPress(e){if(0===e.which||e.keyCode===gy.Enter)return;let t=String.fromCharCode(e.charCode||e.keyCode);this.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this.word+=t,this.last=t,this.search()}search(){clearTimeout(this.typingTimeout),this.filterable||(this.typingTimeout=setTimeout(()=>{this.word=""},this.delay),this.selectNext())}selectNext(){let e=this.dataService.filter(e=>h_(e)&&!e.header&&!this.disabledItemsService.isItemDisabled(e)).map(e=>this.dataService.grouped?{item:e.value,itemIndex:e.offsetIndex}:{item:e,itemIndex:this.dataService.indexOf(e)});const t=((e,t)=>{for(let i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0})(this.word,this.last);let i,n,s,r=e.length,o=!isNaN(this.selectionService.selected[0]),a=o?this.selectionService.selected[0]:0;for(this.defaultItem&&!this.disabledItemsService.isItemDisabled(this.defaultItem)&&(s={item:this.defaultItem,itemIndex:-1},r+=1,a+=1),a+=t&&o?1:0,e=((e,t,i)=>{let n=e;return i&&(n=[i].concat(n)),n.slice(t).concat(n.slice(0,t))})(e,a,s),n=0;n<r;n++){i=d_(e[n].item,this.textField);const s=Boolean(t&&p_(i,this.last,this.ignoreCase)),r=Boolean(p_(i,this.word,this.ignoreCase));if(s||r){n=e[n].itemIndex;break}}n!==r&&this.navigate(n)}emitChange(e){this.onChangeCallback(e),this.valueChange.emit(e)}navigate(e){this.selectionService.select(e)}prop(e,t){return i=>{return h_(i)?t?e&&h_(n=i)&&"object"==typeof n?i[e]:i:i[e]:null;var n}}findDataItem({primitive:e,valueField:t,value:i}){const n={dataItem:null,index:-1},s=this.prop(t,e);let r;r=this.dataService.grouped?e=>s(e.value)===s(i):e=>s(e)===s(i);const o=this.dataService.findIndex(r);return n.dataItem=this.dataService.itemAt(o),n.index=o,n}setState(){const e=this.value,t=this.valueField,i=this.textField,n=this.valuePrimitive;if(this.defaultItem){const i=this.prop(t,n)(this.defaultItem),s=this.prop(t,n)(e);if(!h_(e)||s===i)return this.updateState({dataItem:this.defaultItem,confirm:!0}),this.resetSelection(-1),void(this.filterable&&this.filterText&&this.dataService.itemsCount&&(this.selectionService.focused=this.firstFocusableIndex(0)))}const s=this.findDataItem({primitive:n,valueField:t,value:e}),r=!(n&&i);s.dataItem?(this.updateState({dataItem:s.dataItem,confirm:!0}),this.resetSelection(s.index)):h_(e)&&r?(this.updateState({dataItem:e}),this.resetSelection()):this._previousDataItem?(this.updateState({dataItem:this._previousDataItem}),this.resetSelection()):(this.clearState(),this.resetSelection())}handleFilter(e){this.filterChange.emit(e.target.value)}pageChange(e){this.virtual.skip=e.skip}setMessages(){this._zone.runOutsideAngular(()=>{clearTimeout(this.messagesTimeout),this.messagesTimeout=setTimeout(()=>{this.noDataText=this.localization.get("noDataText"),this.cdr.detectChanges()})})}assignAriaDescribedBy(){const e=(this.wrapper.nativeElement.getAttribute("aria-describedby")||"").replace(this.valueLabelId,"").trim();this.valueLabelId=u_();const t=`${this.valueLabelId} ${e}`.trim();this.renderer.setAttribute(this.wrapper.nativeElement,"aria-describedby",t)}}return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(OS),Fo(x_),Fo(I_),Fo(__),Fo(k_),Fo(Wc),Fo(Ya),Fo(Ga),Fo($r),Fo(L_,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dropdownlist"]],contentQueries:function(e,t,i){var n;1&e&&(bc(i,v_,!0),bc(i,w_,!0),bc(i,C_,!0),bc(i,V_,!0),bc(i,b_,!0),bc(i,y_,!0),bc(i,T_,!0)),2&e&&(fc(n=Cc())&&(t.itemTemplate=n.first),fc(n=Cc())&&(t.groupTemplate=n.first),fc(n=Cc())&&(t.fixedGroupTemplate=n.first),fc(n=Cc())&&(t.valueTemplate=n.first),fc(n=Cc())&&(t.headerTemplate=n.first),fc(n=Cc())&&(t.footerTemplate=n.first),fc(n=Cc())&&(t.noDataTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(mc(Tk,!0,bl),mc(Fk,!0),gc($k,!0),mc(Dk,!0)),2&e&&(fc(i=Cc())&&(t.container=i.first),fc(i=Cc())&&(t.popupTemplate=i.first),fc(i=Cc())&&(t.wrapper=i.first),fc(i=Cc())&&(t.optionsList=i.first))},hostVars:7,hostBindings:function(e,t){2&e&&(_o("dir",t.dir),oa("k-widget",t.widgetClasses)("k-dropdown",t.widgetClasses)("k-header",t.widgetClasses))},inputs:{focusableId:"focusableId",listHeight:"listHeight",disabled:"disabled",readonly:"readonly",filterable:"filterable",ignoreCase:"ignoreCase",delay:"delay",tabindex:"tabindex",data:"data",value:"value",popupSettings:"popupSettings",itemDisabled:"itemDisabled",virtual:"virtual",valuePrimitive:"valuePrimitive",tabIndex:"tabIndex",iconClass:"iconClass",loading:"loading",textField:"textField",valueField:"valueField",defaultItem:"defaultItem"},outputs:{valueChange:"valueChange",filterChange:"filterChange",selectionChange:"selectionChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendoDropDownList"],features:[ja([H_,k_,x_,I_,__,Fy,{provide:Ty,useValue:"kendo.dropdownlist"},{provide:D_,useExisting:Se(()=>e)},{provide:fy,useExisting:Se(()=>e)}]),Oa],decls:14,vars:24,consts:[["kendoDropDownListLocalizedMessages","",6,"noDataText"],["unselectable","on","role","listbox","aria-haspopup","listbox",3,"id","ngClass","kendoEventsOutsideAngular","scope","keydown","keypress","click"],["wrapper",""],["unselectable","on",1,"k-input",3,"id"],[4,"ngIf"],[3,"ngIf"],["unselectable","on",1,"k-select"],["unselectable","on",1,"k-icon",3,"ngClass"],["popupTemplate",""],["container",""],[3,"templateContext"],[3,"id","optionPrefix","data","textField","valueField","template","groupTemplate","fixedGroupTemplate","height","show","virtual","pageChange"],["optionsList",""],["class","k-nodata",4,"ngIf"],[1,"k-list-filter",3,"click"],["tabindex","-1",1,"k-textbox",3,"filterInput","dir","ngModel","ngModelChange","keydown","input","focus","blur"],["unselectable","on",1,"k-icon","k-i-search"],["kendoDropDownsSelectable","",1,"k-list-optionlabel",3,"ngClass","index"],[1,"k-nodata"],[3,"ngIf","templateContext"],[3,"resize"]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,qk),Vo(),Po(2,"span",1,2),Uo("keydown",(function(e){return t.keydown(e)}))("keypress",(function(e){return t.keypress(e)}))("click",(function(e){return t.click(e)})),Po(4,"span",3),Io(5,Kk,1,4,void 0,4),Io(6,Wk,1,1,"ng-template",5),Mo(),Po(7,"span",6),No(8,"span",7),Mo(),Io(9,a_,8,17,"ng-template",null,8,_c),Mo(),Io(11,l_,1,0,"ng-template",5),Ho(12,null,9)),2&e&&(vs(2),Oo("id",t.focusableId)("ngClass",$l(18,c_,!t.disabled,t.disabled))("kendoEventsOutsideAngular",$l(21,XS,t.focusComponent,t.blurComponent))("scope",t),_o("dir",t.direction)("readonly",t.readonly)("tabindex",t.widgetTabIndex)("aria-disabled",t.disabled)("aria-readonly",t.readonly)("aria-expanded",t.ariaExpanded)("aria-owns",t.ariaOwns)("aria-activedescendant",t.ariaActivedescendant)("aria-label",t.noDataLabel),vs(2),Oo("id",t.valueLabelId),vs(1),Oo("ngIf",t.valueTemplate),vs(1),Oo("ngIf",!t.valueTemplate),vs(2),Oo("ngClass",t.buttonClasses),vs(3),Oo("ngIf",t.isOpen))},directives:function(){return[q_,wu,ny,ku,z_,O_,aw,Q_,fw,pC,j_,dy]},encapsulation:2}),e})(),z_=(()=>{class e{constructor(e){this.viewContainerRef=e}set templateContext(e){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}}return e.\u0275fac=function(t){return new(t||e)(Fo(bl))},e.\u0275dir=yt({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e})(),j_=(()=>{class e{constructor(e){this.multipleSelection=!1,this.selectionService=e}get focusedClassName(){return this.selectionService.isFocused(this.index)}get selectedClassName(){return this.selectionService.isSelected(this.index)}onClick(e){e.stopPropagation(),this.multipleSelection?this.selectionService.isSelected(this.index)?this.selectionService.unselect(this.index):this.selectionService.add(this.index):this.selectionService.change(this.index)}}return e.\u0275fac=function(t){return new(t||e)(Fo(x_))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownsSelectable",""]],hostVars:9,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e)})),2&e&&(_o("index",t.index),ra("height",t.height,"px")("min-height",t.height,"px"),oa("k-state-focused",t.focusedClassName)("k-state-selected",t.selectedClassName))},inputs:{multipleSelection:"multipleSelection",index:"index",height:"height"}}),e})(),U_=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return $_(t||e)},e.\u0275dir=yt({type:e,inputs:{noDataText:"noDataText",clearTitle:"clearTitle"},features:[Ea]}),e})();const $_=an(U_);let q_=(()=>{class e extends U_{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropDownListLocalizedMessages",""],["","kendoComboBoxLocalizedMessages",""],["","kendoAutoCompleteLocalizedMessages",""],["","kendoMultiSelectLocalizedMessages",""]],features:[ja([{provide:U_,useExisting:Se(()=>e)}]),Ea]}),e})(),G_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),K_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,kC,RS,py,G_,sy],Pu,kC,RS,py,G_,sy]}),e})(),W_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[K_],G_]}),e})();const Z_=GS;let Y_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:L_,useValue:Z_}],imports:[[K_],G_]}),e})(),Q_=(()=>{class e{constructor(e,t){this.element=e,this.zone=t}ngOnChanges(){this.focused&&this.nextTick(()=>this.element.nativeElement.focus())}nextTick(e){this.zone.runOutsideAngular(()=>setTimeout(e))}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","filterInput",""]],inputs:{focused:["filterInput","focused"]},features:[Oa]}),e})(),J_=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[K_],G_]}),e})();const X_=GS;let eE=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:L_,useValue:X_}],imports:[[K_],G_]}),e})(),tE=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[W_,Y_,J_,eE]}),e})();const iE=()=>"undefined"!=typeof window,nE={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},sE={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},rE={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i},oE={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i},aE=(e,t,i)=>{for(let n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return void 0!==i?i:e},lE=iE()&&window.navigator?window.navigator.userAgent:null,cE=lE?(e=>{let t=null,i=[];for(let n in rE)if(rE.hasOwnProperty(n)&&(i=e.match(rE[n]),i)){t={},t[n]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t})(lE):null,hE=lE?(e=>{let t,i=[];for(let n in nE)if(nE.hasOwnProperty(n)){if(i=e.match(nE[n]),!i)continue;if("windows"===n&&"plugins"in window.navigator)return null;const s={};return s.device=n,s.browser=aE(e,oE,"default"),s.name=aE(n,sE),s[s.name]=!0,s.majorVersion=i[2],s.minorVersion=i[3].replace("_","."),t=s.minorVersion.replace(".","").substr(0,2),s.flatVersion=s.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),s.cordova=void 0!==typeof window.PhoneGap||void 0!==typeof window.cordova,s.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||s.cordova,s}return null})(lE):null;function uE(e){return"string"==typeof e}iE()&&window,cE&&!cE.chrome&&window,cE&&!cE.chrome&&window;const dE=/\{(\d+)}?\}/g;class pE{constructor({name:e,message:t}){if(!e||!t)throw new Error("{ name: string, message: string } object is required!");this.name=e,this.message=t}formatMessage(...e){const t=fE(e),i=this.message.replace(dE,(function(e,i){return t[parseInt(i,10)]}));return`${this.name}: ${i}`}error(...e){return new Error(this.formatMessage(e))}}const fE=function(e){return e.reduce((e,t)=>e.concat(t),[])},gE=(mE={NoLocale:"Missing locale info for '{0}'",NoCurrency:"Cannot determine currency information. Please load the locale currencies data.",NoSupplementalCurrency:"Cannot determine currency. Please load the supplemental currencyData.",NoCurrencyRegion:"No currency data for region '{0}'",NoCurrencyDisplay:"Cannot determine currency display information. Please load the locale currencies data. The default culture does not include the all currencies data.",NoGMTInfo:"Cannot determine locale GMT format. Please load the locale timeZoneNames data.",NoWeekData:"Cannot determine locale first day of week. Please load the supplemental weekData.",NoFirstDay:"Cannot determine locale first day of week. Please load the supplemental weekData. The default culture includes only the 'en-US' first day info.",NoValidCurrency:"Cannot determine a default currency for the {0} locale. Please specify explicitly the currency with the format options.",NoDateFieldNames:"Cannot determine the locale date field names. Please load the locale dateFields data."},Object.keys(mE).reduce((function(e,t){return e[t]=new pE({name:t,message:mE[t]}),e}),{}));var mE;const vE={en:{name:"en",identity:{version:{_number:"$Revision: 12418 $",_cldrVersion:"29"},language:"en"},territory:"US",numbers:{symbols:{decimal:".",group:",",list:";",percentSign:"%",plusSign:"+",minusSign:"-",exponential:"E",superscriptingExponent:"\xd7",perMille:"\u2030",infinity:"\u221e",nan:"NaN",timeSeparator:":"},decimal:{patterns:["n"],groupSize:[3]},scientific:{patterns:["nEn"],groupSize:[]},percent:{patterns:["n%"],groupSize:[3]},currency:{patterns:["$n"],groupSize:[3],"unitPattern-count-one":"n $","unitPattern-count-other":"n $"},currencies:{BGN:{displayName:"Bulgarian Lev","displayName-count-one":"Bulgarian lev","displayName-count-other":"Bulgarian leva",symbol:"BGN"},EUR:{displayName:"Euro","displayName-count-one":"euro","displayName-count-other":"euros",symbol:"\u20ac","symbol-alt-narrow":"\u20ac"},USD:{displayName:"US Dollar","displayName-count-one":"US dollar","displayName-count-other":"US dollars",symbol:"$","symbol-alt-narrow":"$"}},localeCurrency:"USD",accounting:{patterns:["$n","($n)"],groupSize:[3]}},calendar:{gmtFormat:"GMT{0}",gmtZeroFormat:"GMT",patterns:{d:"M/d/y",D:"EEEE, MMMM d, y",m:"MMM d",M:"MMMM d",y:"MMM y",Y:"MMMM y",F:"EEEE, MMMM d, y h:mm:ss a",g:"M/d/y h:mm a",G:"M/d/y h:mm:ss a",t:"h:mm a",T:"h:mm:ss a",s:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'"},dateTimeFormats:{full:"{1} 'at' {0}",long:"{1} 'at' {0}",medium:"{1}, {0}",short:"{1}, {0}",availableFormats:{Bh:"h B",Bhm:"h:mm B",Bhms:"h:mm:ss B",d:"d",E:"ccc",EBhm:"E h:mm B",EBhms:"E h:mm:ss B",Ed:"d E",Ehm:"E h:mm a",EHm:"E HH:mm",Ehms:"E h:mm:ss a",EHms:"E HH:mm:ss",Gy:"y G",GyMMM:"MMM y G",GyMMMd:"MMM d, y G",GyMMMEd:"E, MMM d, y G",h:"h a",H:"HH",hm:"h:mm a",Hm:"HH:mm",hms:"h:mm:ss a",Hms:"HH:mm:ss",hmsv:"h:mm:ss a v",Hmsv:"HH:mm:ss v",hmv:"h:mm a v",Hmv:"HH:mm v",M:"L",Md:"M/d",MEd:"E, M/d",MMM:"LLL",MMMd:"MMM d",MMMEd:"E, MMM d",MMMMd:"MMMM d","MMMMW-count-one":"'week' W 'of' MMMM","MMMMW-count-other":"'week' W 'of' MMMM",ms:"mm:ss",y:"y",yM:"M/y",yMd:"M/d/y",yMEd:"E, M/d/y",yMMM:"MMM y",yMMMd:"MMM d, y",yMMMEd:"E, MMM d, y",yMMMM:"MMMM y",yQQQ:"QQQ y",yQQQQ:"QQQQ y","yw-count-one":"'week' w 'of' Y","yw-count-other":"'week' w 'of' Y"}},timeFormats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateFormats:{full:"EEEE, MMMM d, y",long:"MMMM d, y",medium:"MMM d, y",short:"M/d/yy"},days:{format:{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},"stand-alone":{abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},months:{format:{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},"stand-alone":{abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]}},quarters:{format:{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},"stand-alone":{abbreviated:["Q1","Q2","Q3","Q4"],narrow:["1","2","3","4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]}},dayPeriods:{format:{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},narrow:{midnight:"mi",am:"a","am-alt-variant":"am",noon:"n",pm:"p","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"in the morning",afternoon1:"in the afternoon",evening1:"in the evening",night1:"at night"}},"stand-alone":{abbreviated:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},narrow:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"},wide:{midnight:"midnight",am:"AM","am-alt-variant":"am",noon:"noon",pm:"PM","pm-alt-variant":"pm",morning1:"morning",afternoon1:"afternoon",evening1:"evening",night1:"night"}}},eras:{format:{wide:{0:"Before Christ",1:"Anno Domini","0-alt-variant":"Before Common Era","1-alt-variant":"Common Era"},abbreviated:{0:"BC",1:"AD","0-alt-variant":"BCE","1-alt-variant":"CE"},narrow:{0:"B",1:"A","0-alt-variant":"BCE","1-alt-variant":"CE"}}},dateFields:{era:{wide:"era"},year:{wide:"year",short:"yr.",narrow:"yr."},quarter:{wide:"quarter",short:"qtr.",narrow:"qtr."},month:{wide:"month",short:"mo.",narrow:"mo."},week:{wide:"week",short:"wk.",narrow:"wk."},day:{wide:"day",short:"day",narrow:"day"},weekday:{wide:"day of the week"},dayperiod:{wide:"AM/PM"},hour:{wide:"hour",short:"hr.",narrow:"hr."},minute:{wide:"minute",short:"min.",narrow:"min."},second:{wide:"second",short:"sec.",narrow:"sec."},millisecond:{wide:"millisecond",short:"ms",narrow:"ms"},zone:{wide:"time zone"}}}},supplemental:{likelySubtags:{en:"en-Latn-US"},currencyData:{region:{US:[{USD:{_from:"1792-01-01"}}]}},weekData:{firstDay:{US:"sun"},weekendStart:{"001":"sat"},weekendEnd:{"001":"sun"}}}};function bE(e){let t;return t=uE(e)?yE(e):e,t}function yE(e){if(vE[e])return vE[e];if(vE.supplemental.likelySubtags){const t=e.split("-"),i=t[0],n=t.slice(1),s=function(e,t){const i=vE.supplemental.likelySubtags;for(let n=0;n<t.length;n++){let s=i[e+"-"+t[n]];if(s)return s}if(i[e])return i[e]}(i,n),r=s?function(e,t){const i=e.split("-"),n=i[0],s=i[1],r=i[2];return vE[e]||-1!==t.indexOf(r)&&vE[n+"-"+r]||-1!==t.indexOf(s)&&vE[n+"-"+s]||vE[n]}(s,n):null;if(r)return r}throw gE.NoLocale.error(e)}function wE(e){if(e.territory)return e.territory;const t=e.identity;let i;return i=t&&t.territory?t.territory:function(e,t){const i=vE.supplemental.likelySubtags;let n=e.split("-");if(i){const t=i[e]||i[n[0]];t&&(n=t.split("-"))}if(t)for(let r=n.length-1;r>=1;r--){const e=n[r];e!==t.variant&&e!==t.script||n.splice(r,1)}const s=n.length;if(s>1)return n[s-1].toUpperCase()}(e.name,t),e.territory=i,i}function CE(e,t="en"){const i=yE(t).calendar.dateFields;if(!i)throw gE.NoDateFieldNames.error();const n=i[e.type]||{};return n[e.nameType]||n.wide}function xE(e,t){const{type:i,nameType:n,standAlone:s,lower:r}=t,o=(r?"lower-":"")+n,a=bE(e).calendar[i][s?"stand-alone":"format"];let l=a[o];var c;return!l&&r&&(l=a[o]=(c=a[n],Array.isArray(c)?function(e){const t=[];for(let i=0;i<e.length;i++)t.push(e[i].toLowerCase());return t}(c):function(e){const t={};for(let i in e)t[i]=e[i].toLowerCase();return t}(c))),l}function SE(e){const t=e.split("-"),i=parseInt(t[0],10),n=parseInt(t[1],10)-1,s=parseInt(t[2],10);return new Date(i,n,s)}const{NoCurrency:kE,NoCurrencyDisplay:_E,NoSupplementalCurrency:EE,NoCurrencyRegion:IE,NoValidCurrency:TE}=gE,FE="symbol",DE={"001":"USD",150:"EUR"};function AE(e,t,i){const n=bE(e).numbers.currencies;if(!n){if(i)throw kE.error();return}const s=n[t];if(s)return s;if(i)throw _E.error()}function OE(e,t){return t.length-e.length}function RE(e,t){const i=bE(e),n=i.numbers;if(!n.localeCurrency){const e=function(e,t=!0){if(DE[e])return DE[e];const i=vE.supplemental.currencyData;if(!i){if(t)throw EE.error();return}const n=i.region[e];if(n)return function(e){let t,i,n,s;for(let r=0;r<e.length;r++){const o=e[r],a=Object.keys(o)[0],l=o[a];if("XXX"!==a&&"false"!==l._tender&&l._from)if(l._to){if(!n){const e=SE(l._from),n=SE(l._to);(!i||i.to<n||i.from<e)&&(t=a,i={from:e,to:n})}}else{const e=SE(l._from);(!s||s<e)&&(n=a,s=e)}}return n||t}(n);if(t)throw IE.error(e)}(wE(i),t);if(!e&&t)throw TE.error(i.name);n.localeCurrency=e}return n.localeCurrency}const PE=["sun","mon","tue","wed","thu","fri","sat"],{NoWeekData:ME,NoFirstDay:NE}=gE;function LE(e){const t=bE(e);if(!isNaN(t.firstDay))return t.firstDay;const i=vE.supplemental.weekData;if(!i)throw ME.error();const n=i.firstDay[wE(t)]||i.firstDay["001"];if(!n)throw NE.error();return t.firstDay=PE.indexOf(n),t.firstDay}const{NoWeekData:VE}=gE;function HE(e){const t=bE(e);if(t.weekendRange)return t.weekendRange;const i=vE.supplemental.weekData;if(!i)throw VE.error();const n=wE(t),s=i.weekendEnd[n]||i.weekendEnd["001"];return t.weekendRange={start:PE.indexOf(i.weekendStart[n]||i.weekendStart["001"]),end:PE.indexOf(s)},t.weekendRange}function BE(e){return bE(e).numbers.symbols}function zE(e){return 1/e==-1/0}function jE(e,t={}){return t.currency||(t.currency=RE(e,!0)),function(e,t){const{value:i,currency:n,currencyDisplay:s=FE}=t;if("code"===s)return n;const r=AE(e,n,!0);let o;return o=s===FE?r["symbol-alt-narrow"]||r[FE]:void 0===typeof i||1!==i?r["displayName-count-other"]:r["displayName-count-one"],o}(e,t)}function UE(e,t,i,n,s){const r=s.numbers.symbols,o=e.indexOf(r.decimal),a=n.groupSize.slice();let l=a.shift(),c=-1!==o?o:i+1,h=e.substring(t,c),u=e;const d=h.length;if(d>=l){let i=d,n=[];for(;i>-1;){let e=h.substring(i-l,i);e&&n.push(e),i-=l;let t=a.shift();if(l=void 0!==t?t:l,0===l){e=h.substring(0,i),e&&n.push(e);break}}h=n.reverse().join(r.group),u=e.substring(0,t)+h+e.substring(c)}return u}function $E(e){return"currency"===e||"accounting"===e}function qE(e,t=2,i=!1){const n=t-String(e).length;let s=e;if(n>0){const t=new Array(n+1).join("0");s=i?e+t:t+e}return s}function GE(e,t){let i=e,n=t||0;return i=i.toString().split("e"),i=Math.round(Number(i[0]+"e"+(i[1]?Number(i[1])+n:n))),i=i.toString().split("e"),i=Number(i[0]+"e"+(i[1]?Number(i[1])-n:-n)),i.toFixed(Math.min(n,20))}const KE=/0+$/,WE=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g;function ZE(e,t){const i=e.format;-1!==i.indexOf("%")&&(e.style="percent",e.symbol=t.numbers.symbols.percentSign,e.number*=100),-1!==i.indexOf("$")&&(e.style="currency",e.symbol=jE(t))}function YE(e){let t=e.format;if(t.indexOf("'")>-1||t.indexOf('"')>-1||t.indexOf("\\")>-1){const i=e.literals=[];e.format=t.replace(WE,(function(e){const t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return i.push(n),"__??__"}))}}const QE=/(\.(?:[0-9]*[1-9])?)0+$/g,JE=/\.$/,XE=/\,/g;function eI(e,t,i){let n;return n=-1===e&&-1!==t?t:-1!==e&&-1===t?e:i?Math.min(e,t):Math.max(e,t),n}const tI=/^(n|c|p|e|a)(\d*)$/i;function iI(e){let t;return t=uE(e)?function(e){const t=tI.exec(e);if(t){const e={style:"decimal"};let i=t[1].toLowerCase();return"c"===i?e.style="currency":"a"===i?e.style="accounting":"p"===i?e.style="percent":"e"===i&&(e.style="scientific"),t[2]&&(e.minimumFractionDigits=e.maximumFractionDigits=parseInt(t[2],10)),e}}(e):e,t}function nI(e,t="n",i="en"){if(null==e)return"";if(!isFinite(e))return String(e);const n=yE(i),s=iI(t);let r;return r=s?function(e,t,i){const n=i.numbers.symbols,{style:s}=t,r=$E(s);if("scientific"===s)return(void 0!==t.minimumFractionDigits?e.toExponential(t.minimumFractionDigits):e.toExponential()).replace(".",n.decimal);let o,a=e;r&&(t.value=a,o=jE(i,t)),"percent"===s&&(a*=100,o=n.percentSign);const{minimumFractionDigits:l,maximumFractionDigits:c}=function(e){let{minimumFractionDigits:t,maximumFractionDigits:i,style:n}=e;const s=$E(n);let r;return s&&(r=function(e){let t=2,i=2;const n=((vE.supplemental.currencyData||{}).fractions||{})[e];return n&&n._digits&&(i=t=parseInt(n._digits,10)),{minimumFractionDigits:t,maximumFractionDigits:i}}(e.currency)),void 0===t&&(t=s?r.minimumFractionDigits:0),void 0===i&&(i="percent"===n?Math.max(t,0):s?Math.max(t,r.maximumFractionDigits):Math.max(t,3)),{minimumFractionDigits:t,maximumFractionDigits:i}}(t);a=GE(a,c);const h=a<0,u=zE(e),d=a.split(".");let p=d[0],f=qE(d[1]?d[1].replace(KE,""):"",l,!0);h&&(p=p.substring(1)),t.minimumIntegerDigits&&(p=qE(p,t.minimumIntegerDigits));let g,m=!1!==t.useGrouping?UE(p,0,p.length,t,i):p;if(f&&(m+=n.decimal+f),r&&"name"===t.currencyDisplay)g=function(e,t){const i=e.numbers.currency;let n=1!==t?i["unitPattern-count-other"]:i["unitPattern-count-one"];return t<0&&(n=n.replace("n","-n")),n}(i,e);else{const e=t.patterns;g=h||u?e[1]||"-"+e[0]:e[0]}return"n"!==g||h?function(e,t,i){let n="";for(let s=0,r=t.length;s<r;s++){let r=t.charAt(s);n+="n"===r?e:"$"===r||"%"===r?i:r}return n}(m,g,o):m}(e,Object.assign({},n.numbers[s.style||"decimal"],s),n):function(e,t,i){const n={negative:e<0,number:Math.abs(e),negativeZero:zE(e),format:t};return function(e){let{number:t,format:i}=e;if(i=i.split(";"),(e.negative||e.negativeZero)&&i[1])i=i[1],e.hasNegativeFormat=!0;else if(0===t){const t=i[2];i=t||i[0],t&&function(e){return-1===e.indexOf("#")&&-1===e.indexOf("0")}(t)&&(e.constant=t)}else i=i[0];e.format=i}(n),n.constant?n.constant:(YE(n),ZE(n,i),function(e){e.hasGroup=e.format.indexOf(",")>-1,e.hasGroup&&(e.format=e.format.replace(XE,""))}(n),function(e){let{number:t,format:i}=e,n=i.indexOf(".");if(-1!==n){const s=i.lastIndexOf("0")-n,r=i.lastIndexOf("#")-n,o=s>-1,a=r>-1;let l=t.toString().split("e");l=l[1]?GE(t,Math.abs(l[1])):l[0],l=l.split(".")[1]||"";let c=l.length,h=-1;o||a?o&&s>r?c=s:r>s&&(a&&c>r?c=r:o&&c<s&&(c=s),h=o?s:0):(e.format=i.substring(0,n)+i.substring(n+1),n=-1,c=0),c>-1&&(t=GE(t,c),h>-1&&(t=function(e,t){let i;return i=0===t?QE:new RegExp(`(\\.[0-9]{${t}}[1-9]*)0+$`,"g"),e.replace(i,"$1").replace(JE,"")}(t,h)))}else t=GE(t);e.negative&&-1*t>=0&&!e.negativeZero&&(e.negative=!1),e.number=t,e.decimalIndex=n}(n),function(e){const t=e.format;let i=t.indexOf("#"),n=t.indexOf("0"),s=eI(i,n,!0);i=t.lastIndexOf("#"),n=t.lastIndexOf("0");let r=eI(i,n);s===t.length&&(r=s),e.start=s,e.end=r,e.lastZeroIndex=n}(n),function(e,t){let i=e.number;return-1!==e.start&&(i=function(e,t){const{start:i,end:n,negative:s,negativeZero:r,format:o,decimalIndex:a,lastZeroIndex:l,hasNegativeFormat:c,hasGroup:h}=e;let u=e.number;const d=u.toString().split("."),p=o.length,f=d[0],g=d[1]||"",m=f.length;let v="";u=o.substring(0,i),!s&&!r||c||(u+="-");for(let b=i;b<p;b++){let e=o.charAt(b);if(-1===a){if(n-b<m){u+=f;break}}else if(-1!==l&&l<b&&(v=""),a-b<=m&&a-b>-1&&(u+=f,b=a),a===b){u+=(g?t.numbers.symbols.decimal:"")+g,b+=n-a+1;continue}"0"===e?(u+=e,v=e):"#"===e&&(u+=v)}return h&&(u=UE(u,i+(s&&!c?1:0),Math.max(n,m+i),t.numbers.decimal,t)),n>=i&&(u+=o.substring(n+1)),u}(e,t),i=function(e,t,i){let n=e;if("currency"===t||"percent"===t){n="";for(let t=0,s=e.length;t<s;t++){let s=e.charAt(t);n+="$"===s||"%"===s?i:s}}return n}(i,e.style,e.symbol),i=function(e,t){let i=e;if(t){const e=t.length;for(let n=0;n<e;n++)i=i.replace("__??__",t[n])}return i}(i,e.literals)),i}(n,i))}(e,t,n),r}function sI(e){return"number"==typeof e}const rI=/[eE][\-+]?[0-9]+/,oI=/\u00A0/g;function aI(e,t){if(t.length>1){const i=(t[1]||"").replace("$","").split("n");if(e.indexOf(i[0])>-1&&e.indexOf(i[1])>-1)return e.replace(i[0],"").replace(i[1],"")}}function lI(e,t="en",i={}){if(!e&&0!==e)return null;if(sI(e))return e;const n=yE(t),s=n.numbers.symbols;let r,o=e.toString(),a=i||{};if(uE(i)&&(a={format:i},YE(a),o=function(e,t){const i=t.literals;let n=e;if(i)for(let s=0;s<i.length;s++)n=n.replace(i[s],"");return n}(o,a),ZE(a,n)),("percent"===a.style||o.indexOf(s.percentSign)>-1)&&(o=o.replace(s.percentSign,""),r=!0),rI.test(o))return o=parseFloat(o.replace(s.decimal,".")),isNaN(o)?null:o;const{negative:l,number:c}=function(e,t,i){const n=iI(i)||{};let s,r=$E(n.style),o=e;const a=n.currency||RE(t,r);if(a){const e=function(e,t,i=!0){const n=AE(e,t,i);if(n){if(!n.displays){const e=[t];for(let t in n)e.push(n[t]);e.sort(OE),n.displays=e}return n.displays}}(t,a,r);if(e)for(let t=0;t<e.length;t++){let i=e[t];if(o.includes(i)){o=o.replace(i,""),r=!0;break}}if(r){const e=aI(o,t.numbers.currency.patterns)||aI(o,t.numbers.accounting.patterns);e&&(s=!0,o=e)}}return{number:o,negative:s}}(o,n,a);o=String(c).trim();const h=o.indexOf("-");if(h>0)return null;let u=h>-1;return u=void 0!==l?l:u,o=o.replace("-","").replace(oI," ").split(s.group.replace(oI," ")).join("").replace(s.decimal,"."),o=parseFloat(o),isNaN(o)?o=null:u&&(o*=-1),o&&r&&(o/=100),o}const cI=/\{(\d+)}/g;function hI(e){const t=arguments;return e.replace(cI,(e,i)=>t[parseInt(i,10)+1])}const uI=[2,1,5,3,4],dI={[(-2).toString()]:8,[(-1).toString()]:6,[2..toString()]:6,[1..toString()]:3},pI={numeric:1,"2-digit":2,short:3,long:4,narrow:5},fI=/[hHmsSzZoOvVxX]/,gI=[{key:"era",specifier:"G"},{key:"year",specifier:"y"},{key:"month",specifier:"M"},{key:"day",specifier:"d"},{key:"weekday",specifier:"E"},{key:"hour",getSpecifier:function(e){return e.hour12?"h":"H"}},{key:"minute",specifier:"m"},{key:"second",specifier:"s"},{key:"timeZoneName",specifier:"z"}],mI={e:"c",E:"c",M:"L",Q:"q"},vI={},bI={};function yI(e){return vI[e]||(vI[e]=new RegExp(e+"+")),vI[e]}function wI(e){const t=[];let i=e.charAt(0),n=i;for(let s=1;s<e.length;s++){let r=e.charAt(s);r===n?i+=r:(t.push(i),i=n=r)}return t.push(i),t}function CI(e,t){const i=e.length;let n,s,r=-Number.MAX_VALUE;for(let o in t){const a=[];let l=o.replace("v","z"),c=0;for(let t=0;t<i;t++){const i=e[t];let n=(yI(i[0]).exec(l)||[])[0];if(n){if(l=l.replace(n,""),n.length!==i.length){let e=Math.max(Math.min(uI[n.length]-uI[i.length],2),-2);c-=dI[e]}}else c-=120;if(a.push(n),c<r)break}l.length&&(c-=20*wI(l).length),c>r&&(r=c,n=a,s=t[o])}s=s.replace("v","z");for(let o=0;o<i;o++){const t=n[o];if(t&&t!==e[o]){const t=n[o][0];s=s.replace(yI(t),e[o]),mI[t]&&(s=s.replace(yI(mI[t]),e[o]))}}return s}function xI(e,t){const i=t.calendar;let n;if(uE(e))n=i.patterns[e]?i.patterns[e]:e;else if(e){if(e.pattern)return e.pattern;let s=e.skeleton;s||(e.datetime?n=hI(i.dateTimeFormats[e.datetime],i.timeFormats[e.datetime],i.dateFormats[e.datetime]):e.date?n=i.dateFormats[e.date]:e.time?n=i.timeFormats[e.time]:s=function(e){let t=[];for(let i=0;i<gI.length;i++){let n=gI[i],s=e[n.key];if(s){let i=n.specifier||n.getSpecifier(e);t.push(i.repeat(pI[s]))}}return t.join("")}(e)),s&&(n=function(e,t){const i=t.calendar.dateTimeFormats.availableFormats;if(i[e])return i[e];if(bI[t.name]&&bI[t.name][e])return bI[t.name][e];const n=e.search(fI);let s;if(n>0){const r=e.substr(0,n),o=e.substr(n);s=hI(t.calendar.dateTimeFormats.short,i[o]||CI(wI(o),i),i[r]||CI(wI(r),i))}else s=CI(wI(e),i);return function(e,t,i){bI[i]||(bI[i]={}),bI[i][e]=t}(e,s,t.name),s}(s,t))}return n||(n=i.patterns.d),n}function SI(e){let t;return e<=3?t="abbreviated":4===e?t="wide":5===e?t="narrow":6===e&&(t="short"),t}function kI(e,t,i,n,s){return xE(e,{type:t,nameType:SI(i),standAlone:n,lower:s})}function _I(e){return"function"==typeof e}function EI(e){return Boolean(e)&&_I(e.getTime)&&_I(e.getMonth)}const II={G:"era",y:"year",q:"quarter",Q:"quarter",M:"month",L:"month",d:"day",E:"weekday",c:"weekday",e:"weekday",h:"hour",H:"hour",k:"hour",K:"hour",m:"minute",s:"second",S:"millisecond",a:"dayperiod",x:"zone",X:"zone",z:"zone",Z:"zone"},TI=/d{1,2}|E{1,6}|e{1,6}|c{3,6}|c{1}|M{1,5}|L{1,5}|y{1,4}|H{1,2}|h{1,2}|k{1,2}|K{1,2}|m{1,2}|a{1,5}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|x{1,5}|X{1,5}|G{1,5}|q{1,5}|Q{1,5}|"[^"]*"|'[^']*'/g;function FI(e,t,i,n){return t<=2?qE(e+1,t):kI(i,"months",t,n)[e]}function DI(e,t,i,n){const s=Math.floor(e.getMonth()/3);return t<3?s+1:kI(i,"quarters",t,n)[s]}function AI(e,t,i){const{shortHours:n,optionalMinutes:s,separator:r,localizedName:o,zZeroOffset:a}=i,l=e.getTimezoneOffset()/60;if(0===l&&a)return"Z";const c=l<=0?"+":"-",h=Math.abs(l).toString().split("."),u=h[1]||0;let d=c+(n?h[0]:qE(h[0],2));return!u&&s||(d+=(r?":":"")+qE(u,2)),o&&(d=hI(0===l?t.calendar.gmtZeroFormat:t.calendar.gmtFormat,d)),d}function OI(e,t,i,n){let s;return s=t<3?function(e,t,i){const n=LE(i);let s;return s=e<n?7-n+e:e-n,s+1}(e.getDay(),0,i):kI(i,"days",t,n)[e.getDay()],s}const RI=function(){var e={d:function(e,t){return qE(e.getDate(),t)},E:function(e,t,i){return kI(i,"days",t)[e.getDay()]},M:function(e,t,i){return FI(e.getMonth(),t,i,!1)},L:function(e,t,i){return FI(e.getMonth(),t,i,!0)},y:function(e,t){let i=e.getFullYear();return 2===t&&(i%=100),qE(i,t)},h:function(e,t){return qE(e.getHours()%12||12,t)},H:function(e,t){return qE(e.getHours(),t)},k:function(e,t){return qE(e.getHours()||24,t)},K:function(e,t){return qE(e.getHours()%12,t)},m:function(e,t){return qE(e.getMinutes(),t)},s:function(e,t){return qE(e.getSeconds(),t)},S:function(e,t){const i=e.getMilliseconds();let n;return n=0!==i?qE(String(i/1e3).split(".")[1].substr(0,t),t,!0):qE("",t),n},a:function(e,t,i){return kI(i,"dayPeriods",t)[e.getHours()<12?"am":"pm"]},z:function(e,t,i){return AI(e,i,{shortHours:t<4,optionalMinutes:t<4,separator:!0,localizedName:!0})},Z:function(e,t,i){return AI(e,i,{separator:t>3,localizedName:4===t,zZeroOffset:5===t})},x:function(e,t,i){return AI(e,i,{optionalMinutes:1===t,separator:3===t||5===t})},X:function(e,t,i){return AI(e,i,{optionalMinutes:1===t,separator:3===t||5===t,zZeroOffset:!0})},G:function(e,t,i){let n=e.getFullYear()>=0?1:0;return kI(i,"eras",t)[n]}};return e.e=OI,e.c=function(e,t,i){return OI(e,t,i,!0)},e.q=function(e,t,i){return DI(e,t,i,!0)},e.Q=DI,e}();function PI(e,t,i="en"){if(!EI(e))return null==e?"":e;const n=yE(i);return xI(t,n).replace(TI,(function(t){let i,s=t.length;return i=t.includes("'")||t.includes('"')?t.slice(1,s-1):RI[t[0]](e,s,n),i}))}function MI(e,t,i){const n=e.getTimezoneOffset(),s=new Date(e.getTime()+6e4*(t-i)),r=s.getTimezoneOffset();return new Date(s.getTime()+6e4*(r-n))}const NI=/([+|\-]\d{1,2})(:?)(\d{2})?/,LI=/^\/Date\((.*?)\)\/$/,VI=/[+-]\d*/,HI={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},BI=/\d+/,zI=/^ */,jI=/ *$/,UI=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","E MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.SSSSSSSXXX","yyyy-MM-ddTHH:mm:ss.SSSXXX","yyyy-MM-ddTHH:mm:ss.SSXXX","yyyy-MM-ddTHH:mm:ssXXX","yyyy-MM-ddTHH:mm:ss.SSSSSSS","yyyy-MM-ddTHH:mm:ss.SSS","yyyy-MM-ddTHH:mmXXX","yyyy-MM-ddTHH:mmX","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"],$I=["G","g","F","Y","y","M","m","D","d","y","T","t"];function qI(e,t,i){return!(e>=t&&e<=i)}function GI(e,t){let{format:i,idx:n}=t,s=0;for(;i[n]===e;)s++,n++;return s>0&&(n-=1),t.idx=n,s}function KI(e,t){let i=e?HI[e]||new RegExp("^\\d{1,"+e+"}"):BI,n=t.value.substr(t.valueIdx,e).match(i);return n?(n=n[0],t.valueIdx+=n.length,parseInt(n,10)):null}function WI(e,t,i){let n,s,r,o=0,a=e.length,l=0,c=0;for(;o<a;o++)n=e[o],s=n.length,r=t.value.substr(t.valueIdx,s),i&&(r=r.toLowerCase()),r===n&&s>l&&(l=s,c=o);return l?(t.valueIdx+=l,c+1):null}function ZI(e){let t=!1;return e.value.charAt(e.valueIdx)===e.format[e.idx]&&(e.valueIdx++,t=!0),t}function YI(e,t,i){const{shortHours:n,noSeparator:s,optionalMinutes:r,localizedName:o,zLiteral:a}=i;if(e.UTC=!0,a&&"Z"===e.value.charAt(e.valueIdx))return e.valueIdx++,!1;if(o&&!WI(function(e){const{gmtFormat:t,gmtZeroFormat:i}=e;if(!t)throw gE.NoGMTInfo.error();return[t.replace("{0}","").toLowerCase(),i.replace("{0}","").toLowerCase()]}(t.calendar),e,!0))return!0;const l=NI.exec(e.value.substr(e.valueIdx,6));if(!l)return!o;const c=l[1],h=l[3],u=parseInt(c,10),d=l[2];let p=parseInt(h,10);return!!(isNaN(u)||!n&&3!==c.length||!r&&isNaN(p)||s&&d)||(isNaN(p)&&(p=null),!!(qI(u,-12,13)||p&&qI(p,0,59))||(e.valueIdx+=l[0].length,e.hoursOffset=u,void(e.minutesOffset=p)))}function QI(e,t,i){const n=GI(e,t),s=kI(i,"months",n,"L"===e,!0),r=n<3?KI(2,t):WI(s,t,!0);if(null===r||qI(r,1,12))return!0;t.month=r-1}function JI(e,t,i){const n=GI(e,t),s=kI(i,"days",n,"c"===e,!0);let r=n<3?KI(1,t):WI(s,t,!0);if(!r&&0!==r||qI(r,1,7))return!0}const XI=function(){return{d:function(e){GI("d",e);const t=KI(2,e);if(null===t||qI(t,1,31))return!0;null===e.day&&(e.day=t)},E:function(e,t){if(null===WI(kI(t,"days",GI("E",e),!1,!0),e,!0))return!0},M:function(e,t){return QI("M",e,t)},L:function(e,t){return QI("L",e,t)},y:function(e){const t=GI("y",e);let i=KI(1===t?void 0:t,e);if(null===i)return!0;if(2===t){const e=(new Date).getFullYear();i=e-e%100+i,i>2029&&(i-=100)}e.year=i},h:function(e){GI("h",e);let t=KI(2,e);if(12===t&&(t=0),null===t||qI(t,0,11))return!0;e.hours=t},K:function(e){GI("K",e);let t=KI(2,e);if(null===t||qI(t,0,11))return!0;e.hours=t},a:function(e,t){let i=kI(t,"dayPeriods",GI("a",e),!1,!0);const n=WI([i.pm],e,!0);if(!n&&!WI([i.am],e,!0))return!0;e.pmHour=n},H:function(e){GI("H",e);const t=KI(2,e);if(null===t||qI(t,0,23))return!0;e.hours=t},k:function(e){GI("k",e);let t=KI(2,e);if(null===t||qI(t,1,24))return!0;e.hours=24===t?0:t},m:function(e){GI("m",e);const t=KI(2,e);if(null===t||qI(t,0,59))return!0;e.minutes=t},s:function(e){GI("s",e);const t=KI(2,e);if(null===t||qI(t,0,59))return!0;e.seconds=t},S:function(e){const t=GI("S",e),i=e.value.substr(e.valueIdx,t);let n=null;if(isNaN(parseInt(i,10))||(n=parseFloat("0."+i,10),n=GE(n,3),n*=1e3,e.valueIdx+=t),null===n||qI(n,0,999))return!0;e.milliseconds=n},z:function(e,t){const i=GI("z",e)<4,n=YI(e,t,{shortHours:i,optionalMinutes:i,localizedName:!0});if(n)return n},Z:function(e,t){const i=GI("Z",e),n=YI(e,t,{noSeparator:i<4,zLiteral:5===i,localizedName:4===i});if(n)return n},x:function(e,t){const i=GI("x",e),n=YI(e,t,{noSeparator:3!==i&&5!==i,optionalMinutes:1===i});if(n)return n},X:function(e,t){const i=GI("X",e),n=YI(e,t,{noSeparator:3!==i&&5!==i,optionalMinutes:1===i,zLiteral:!0});if(n)return n},G:function(e,t){const i=kI(t,"eras",GI("G",e),!1,!0);if(null===WI([i[0],i[1]],e,!0))return!0},e:function(e,t){return JI("e",e,t)},c:function(e,t){return JI("c",e,t)}}}();function eT(e,t){return`${zI.exec(t)[0]}${e}${jI.exec(t)[0]}`}function tT(e,t,i){let n=xI(t,i).split("");const s={format:n,idx:0,value:eT(e,t),valueIdx:0,year:null,month:null,day:null,hours:null,minutes:null,seconds:null,milliseconds:null},r=n.length;let o=!1;for(;s.idx<r;s.idx++){let e=n[s.idx];if(o)"'"===e&&(o=!1),ZI(s);else if(XI[e]){if(XI[e](s,i))return null}else if("'"===e)o=!0,ZI(s);else if(!ZI(s))return null}return s.valueIdx<e.length?null:function(e){let{year:t,month:i,day:n,hours:s,minutes:r,seconds:o,milliseconds:a,pmHour:l,UTC:c,hoursOffset:h,minutesOffset:u}=e;const d=null!==s||null!==r||o||null,p=new Date;let f;return null===t&&null===i&&null===n&&d?(t=p.getFullYear(),i=p.getMonth(),n=p.getDate()):(null===t&&(t=p.getFullYear()),null===n&&(n=1)),l&&s<12&&(s+=12),c?(h&&(s+=-h),u&&(r+=-u*(h<0?-1:1)),f=new Date(Date.UTC(t,i,n,s,r,o,a))):(f=new Date(t,i,n,s,r,o,a),function(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}(f,s)),t<100&&f.setFullYear(t),f.getDate()!==n&&void 0===c?null:f}(s)||null}function iT(e,t,i="en"){if(!e)return null;if(EI(e))return e;let n=String(e).trim(),s=function(e){if(e&&0===e.indexOf("/D")){let t=LI.exec(e);if(t){t=t[1];let e=VI.exec(t.substring(1));return t=new Date(parseInt(t,10)),e&&(e=function(e){const t="-"===e.substr(0,1)?-1:1;let i=e.substring(1);return i=60*parseInt(i.substr(0,2),10)+parseInt(i.substring(2),10),t*i}(e[0]),t=MI(t,t.getTimezoneOffset(),0),t=MI(t,0,-1*e)),t}}}(n);if(s)return s;const r=yE(i);let o=t||function(e){const t=[],i=e.patterns,n=$I.length;for(let s=0;s<n;s++)t.push(i[$I[s]]);return t.concat(UI)}(r.calendar);o=Array.isArray(o)?o:[o];const a=o.length;for(let l=0;l<a;l++)if(s=tT(n,o[l],r),s)return s;return s}const nT={month:{type:"months",minLength:3,standAlone:"L"},quarter:{type:"quarters",minLength:3,standAlone:"q"},weekday:{type:"days",minLength:{E:0,c:3,e:3},standAlone:"c"},dayperiod:{type:"dayPeriods",minLength:0},era:{type:"eras",minLength:0}};function sT(e,t){const i=e[e.length-1];i&&"literal"===i.type?i.pattern+=t:e.push({type:"literal",pattern:t})}function rT(e){return"h"===e||"K"===e}function oT(e,t="en"){const i=xI(e,yE(t)),n=[];let s=TI.lastIndex=0,r=TI.exec(i);for(;r;){let e=r[0];if(s<r.index&&sT(n,i.substring(s,r.index)),e.startsWith('"')||e.startsWith("'"))sT(n,e);else{const t=e[0],i=II[t],s={type:i,pattern:e};"hour"===i&&(s.hour12=rT(e));const r=nT[i];if(r){const i=sI(r.minLength)?r.minLength:r.minLength[t],n=e.length;n>=i&&(s.names={type:r.type,nameType:SI(n),standAlone:r.standAlone===t})}n.push(s)}s=TI.lastIndex,r=TI.exec(i)}return s<i.length&&sT(n,i.substring(s)),n}const aT=/\{(\d+)(:[^\}]+)?\}/g;function lT(e,t,i){if(t){if(EI(e))return PI(e,t,i);if(sI(e))return nI(e,t,i)}return null!=e?e:""}function cT(e,t,i){return e.replace(aT,(function(e,n,s){return lT(t[parseInt(n,10)],s?s.substring(1):"",i)}))}const hT={name:"@progress/kendo-angular-intl",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1620213344,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"},uT="http://www.telerik.com/kendo-angular-ui/components/internationalization/troubleshooting/",dT={NoCurrency:`Solution: ${uT}#toc-no-currency`,NoCurrencyDisplay:`Solution: ${uT}#toc-no-currency-display`,NoCurrencyRegion:`Solution: ${uT}#toc-no-currency-region`,NoDateFieldNames:`Solution: ${uT}#toc-no-date-filed-names`,NoFirstDay:`Solution: ${uT}#toc-no-first-day`,NoGMTInfo:`Solution: ${uT}#toc-no-gmt-info`,NoLocale:`Solution: ${uT}#toc-no-locale`,NoValidCurrency:`Solution: ${uT}#toc-no-valid-currency`,NoWeekData:`Solution: ${uT}#toc-no-week-data`};function pT(e){return function(...t){try{return e.apply(null,t)}catch(i){throw i.message=function(e){const t=e.message,i=dT[Object.keys(dT).filter(e=>0===t.indexOf(e))[0]];return i?`${t} ${i}`:t}(i),i}}}const fT=pT(xE),gT=pT(CE),mT=pT(LE),vT=pT(cT),bT=pT(PI),yT=pT(nI),wT=pT(BE),CT=pT(iT),xT=pT(lI),ST=pT(oT),kT=pT(lT),_T=pT(HE),ET=/_/g;function IT(e){return new FT(e)}let TT=(()=>{let e=class{constructor(){this.changes=new nc,OC(hT)}notify(){this.changes.emit()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:function(e){return e?new e:IT(We(Mc))},providedIn:"root"}),e.ngInjectableDef=he({factory:function(){return IT(We(Mc))},token:e,providedIn:"root"}),e})(),FT=(()=>{let e=class extends TT{constructor(e){super(),this.localeId=e}get localeId(){return this.locale}set localeId(e){const t=e.replace(ET,"-");t!==this.locale&&(this.locale=t,this.notify())}format(e,...t){return vT(e,t,this.localeId)}toString(e,t,i){return kT(e,t,i||this.localeId)}formatDate(e,t,i){return bT(e,t,i||this.localeId)}parseDate(e,t,i){return CT(e,t,i||this.localeId)}parseNumber(e,t,i){return xT(e,i||this.localeId,t)}formatNumber(e,t,i){return yT(e,t,i||this.localeId)}dateFieldName(e,t){return gT(e,t||this.localeId)}dateFormatNames(e,t){return fT(t||this.localeId,e)}splitDateFormat(e,t){return ST(e,t||this.localeId)}numberSymbols(e){return wT(e||this.localeId)}firstDay(e){return mT(e||this.localeId)}weekendRange(e){return _T(e||this.localeId)}};return e.\u0275fac=function(t){return new(t||e)(We(Mc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),DT=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),AT=(()=>{class e{constructor(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}schedule(e,t){this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(()=>{this.subscription=z(this.resolvedPromise).subscribe(this.flush)})}isScheduled(e){return Boolean(this.scheduled.find(t=>t.instance===e))}cancel(e){const t=this.scheduled,i=t.length;for(let n=0;n<i;n++)if(t[n].instance===e)return t.splice(n,1),void(t.length||this.unsubscribe())}ngOnDestroy(){this.unsubscribe()}unsubscribe(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}flush(){this.scheduled.forEach(e=>{e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),OT=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[AT]}),e})();$localize`:kendo.slider.increment|The title of the **Increase** button of the Slider.␟0fa71630d40c425b9c366afd7f6c3cecc5bef59d␟8302125540024939132:increment`,$localize`:kendo.slider.decrement|The title of the **Decrease** button of the Slider.␟042c26f68d78afd6834ea46a5f7533850fe8c800␟652458644240352212:decrement`,$localize`:kendo.slider.dragHandle|The title of the drag handle of the Slider.␟481eb98e9cd8ef8e8b22051796441901e883763d␟9117416417579607469:Drag`,$localize`:kendo.switch.on|The **On** label of the Switch.␟155f0a38198ffbf0429c5dbf9765e74f246a8617␟818154782831456441:ON`,$localize`:kendo.switch.off|The **Off** label of the Switch.␟79df1a6d2b35c32b2948e3cee56dd3ffe28127bc␟759820891948194060:OFF`;const RT=["numericInput"],PT=["numericWrap"],MT=["increment",$localize`:kendo.numerictextbox.increment|The title for the **Increment** button in the NumericTextBox␟0fc68540ffa04fdc246cf6cf8a1fed085f8b19a5␟4467784268438010275:Increase value`,"decrement",$localize`:kendo.numerictextbox.decrement|The title for the **Decrement** button in the NumericTextBox␟df4751834075bf970c77d0da2c960b4e19a6b0dd␟3960022057994897997:Decrease value`],NT=function(e,t){return{mouseup:e,mouseleave:t}},LT=function(e){return{mousedown:e}};function VT(e,t){if(1&e&&(Po(0,"span",6),Po(1,"span",7),No(2,"span",8),Mo(),Po(3,"span",9),No(4,"span",10),Mo(),Mo()),2&e){const e=Go();Oo("kendoEventsOutsideAngular",$l(11,NT,e.releaseArrow,e.releaseArrow)),vs(1),oa("k-state-active",e.arrowDirection===e.ArrowDirection.Up),Oo("kendoEventsOutsideAngular",Ul(14,LT,e.increasePress))("title",e.incrementTitle),_o("aria-label",e.incrementTitle),vs(2),oa("k-state-active",e.arrowDirection===e.ArrowDirection.Down),Oo("kendoEventsOutsideAngular",Ul(16,LT,e.decreasePress))("title",e.decrementTitle),_o("aria-label",e.decrementTitle)}}const HT=function(e,t){return{mousewheel:e,DOMMouseScroll:t}},BT=function(e,t,i,n,s){return{dragenter:e,keydown:t,input:i,focus:n,blur:s}},zT=e=>(String(e).split(".")[1]||"").length,jT=(e,t)=>{const i=Math.min(t,20);return parseFloat(e.toFixed(i))};var UT=function(e){return e[e.backspace=8]="backspace",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.shift=16]="shift",e[e.ctrl=17]="ctrl",e[e.alt=18]="alt",e[e.space=32]="space",e[e.page_up=33]="page_up",e[e.page_down=34]="page_down",e[e.end=35]="end",e[e.home=36]="home",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e[e.delete=46]="delete",e[e.numpad_dot=110]="numpad_dot",e}({});const $T=(e,t,i=!0)=>e.some(e=>((e,t,i=!0)=>t[e]&&(!t[e].isFirstChange()||!i)&&t[e].previousValue!==t[e].currentValue)(e,t,i)),qT=e=>e.observers.length>0;function GT(e,t,...i){if(e&&e.nativeElement)return e.nativeElement[t].apply(e.nativeElement,i)}const KT=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);let WT=(()=>{class e{constructor(e,t){this.renderer=e,this.inputElement=t,this.onFocus=new nc,this.onBlur=new nc,this.onValueChange=new nc,this.listeners=[]}get hostClass(){return!0}set value(e){this.inputElement&&(this.inputElement.nativeElement.value=null==e?"":e,this.onValueChange.emit())}get value(){return this.inputElement.nativeElement.value}get id(){return this.inputElement.nativeElement.id}set id(e){this.renderer.setAttribute(this.inputElement.nativeElement,"id",e)}ngAfterViewInit(){const e=this.inputElement.nativeElement;this.listeners=[this.renderer.listen(e,"focus",()=>this.onFocus.emit()),this.renderer.listen(e,"blur",()=>this.onBlur.emit())]}ngOnDestroy(){this.listeners.forEach(e=>e())}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ya),Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["input","kendoTextBox",""]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-textbox",t.hostClass)},inputs:{value:"value"}}),e})();const ZT=/[eE][\-+]?[0-9]+/,YT=e=>e>=0?Math.floor(e):Math.ceil(e),QT=e=>{},JT=e=>!isNaN(e)&&null!==e;function XT(e,t){const i=t-String(e).length;let n=e;if(i>0){const t=new Array(i+1).join("0");n=parseFloat(e+t)}return n}var eF=function(e){return e[e.Down=-1]="Down",e[e.None=0]="None",e[e.Up=1]="Up",e}({});const tF=["min","max","step","decimals"],iF={decimals:null,max:null,min:null,step:1};let nF=(()=>{class e{constructor(e,t,i,n,s,r,o){this.intl=e,this.renderer=t,this.localizationService=i,this.injector=n,this.ngZone=s,this.changeDetector=r,this.hostElement=o,this.focusableId=`k-${KT()}${KT()}-${KT()}-${KT()}-${KT()}-${KT()}${KT()}${KT()}`,this.disabled=!1,this.readonly=!1,this.title="",this.autoCorrect=!1,this.decimals=null,this.step=1,this.spinners=!0,this.rangeValidation=!0,this.tabindex=0,this.value=null,this.valueChange=new nc,this.onFocus=new nc,this.onBlur=new nc,this.ArrowDirection=eF,this.arrowDirection=eF.None,this.inputValue="",this.minValidateFn=QT,this.maxValidateFn=QT,this._format="n2",this.increasePress=e=>{this.arrowPress(eF.Up,e)},this.decreasePress=e=>{this.arrowPress(eF.Down,e)},this.releaseArrow=()=>{clearTimeout(this.spinTimeout),this.arrowDirection!==eF.None&&(this.arrowDirection=eF.None,this.changeDetector.detectChanges())},this.handleInput=()=>{const e=this.numericInput.nativeElement;let{selectionStart:t,selectionEnd:i,value:n}=e;if(this.pressedKey===UT.numpad_dot&&(n=this.replaceNumpadDotValue()),!this.isValid(n))return e.value=this.inputValue,void this.setSelection(t-1,i-1);const s=this.intl.parseNumber(n);let r=this.restrictDecimals(s);if(this.autoCorrect){const e=this.limitInputValue(r);r=e.value,t=e.selectionStart,i=e.selectionEnd}s!==r||this.hasTrailingZeros(n)||!this.focused?(this.setInputValue(r),this.setSelection(t,i)):this.inputValue=n,this.updateValue(r),this.previousSelection=null},this.handleDragEnter=()=>{this.focused||this.isDisabled||this.setInputValue(this.value,!0)},this.handleFocus=()=>{this.focused||(this.focused=!0,this.isDisabled||(this.setInputValue(),this.ngZone.runOutsideAngular(()=>{setTimeout(()=>{this.setSelection(0,this.inputValue.length)},0)}))),qT(this.onFocus)&&this.ngZone.run(()=>{this.onFocus.emit()})},this.handleBlur=()=>{var e;this.focused=!1,this.inputValue!==this.elementValue&&this.handleInput(),this.setInputValue(),(qT(this.onBlur)||(e=this.control)&&(!e.touched||e.control&&"blur"===e.control.updateOn))&&this.ngZone.run(()=>{this.ngTouched(),this.onBlur.emit()})},this.handleKeyDown=e=>{if(this.isDisabled)return;let t;e.keyCode===UT.down?t=-1:e.keyCode===UT.up&&(t=1),t&&this.step&&(e.preventDefault(),this.addStep(t));const i=this.numericInput.nativeElement;this.previousSelection={end:i.selectionEnd,start:i.selectionStart},this.pressedKey=e.keyCode},this.handleWheel=e=>{if(this.focused&&!this.isDisabled){e.preventDefault();const t=(e=>{let t=0;return e.wheelDelta?(t=e.wheelDelta/120,t=t>0?Math.ceil(t):Math.floor(t)):e.detail&&(t=Math.round(-e.detail/3)),t})(e);this.addStep(t)}},this.ngChange=e=>{},this.ngTouched=()=>{},this.direction=i.rtl?"rtl":"ltr"}get format(){const e=this._format;return null!=e?e:"n2"}set format(e){this._format=e}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}get widgetClasses(){return!0}ngOnInit(){this.subscriptions=this.localizationService.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}),this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.hostElement&&this.renderer.removeAttribute(this.hostElement.nativeElement,"tabindex"),this.control=this.injector.get(dw,null)}ngOnChanges(e){var t,i;$T(tF,e,!1)&&this.parseOptions(tF.filter(t=>e[t])),this.verifySettings(),$T(["min","max","rangeValidation"],e,!1)&&(this.minValidateFn=this.rangeValidation?(i=this.min,e=>null!==e.value&&e.value<i?{minError:{minValue:i,value:e.value}}:null):QT,this.maxValidateFn=this.rangeValidation?(t=this.max,e=>null!==e.value&&e.value>t?{maxError:{maxValue:t,value:e.value}}:null):QT),$T(["autoCorrect","decimals","min"],e)&&delete this.numericRegex,$T(["value","format"],e,!1)&&(this.verifyValue(this.value),this.value=this.restrictModelValue(this.value),this.focused&&this.intl.parseNumber(this.elementValue)===this.value||this.setInputValue())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),clearTimeout(this.spinTimeout)}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}writeValue(e){this.verifyValue(e);let t=this.restrictModelValue(e);this.value=t,this.setInputValue()}registerOnChange(e){this.ngChange=e}registerOnTouched(e){this.ngTouched=e}setDisabledState(e){this.disabled=e}focus(){GT(this.numericInput,"focus")}blur(){GT(this.numericInput,"blur")}notifyValueChange(){this.setInputValue()}get incrementTitle(){return this.localizationService.get("increment")}get decrementTitle(){return this.localizationService.get("decrement")}get decimalSeparator(){return this.intl.numberSymbols().decimal}get elementValue(){return this.numericInput.nativeElement.value}set elementValue(e){this.renderer.setProperty(this.numericInput.nativeElement,"value",e)}get focused(){return this.isFocused}get hasDecimals(){return null!==this.decimals&&this.decimals>=0}set focused(e){if(this.isFocused!==e&&this.numericWrap){const t=this.numericWrap.nativeElement,i=this.numericInput.nativeElement;e?(this.renderer.addClass(t,"k-state-focused"),this.isDisabled||this.renderer.removeClass(i,"k-formatted-value")):(this.renderer.removeClass(t,"k-state-focused"),this.renderer.addClass(i,"k-formatted-value")),this.isFocused=e}}get isDisabled(){return this.disabled||this.readonly}arrowPress(e,t){t.preventDefault(),this.isDisabled||(hE||(this.focused=!0,this.focus()),this.arrowDirection!==e&&(this.arrowDirection=e,this.changeDetector.detectChanges()),this.step?this.spin(e,500):this.setInputValue())}updateValue(e){var t,i;(t=this.value)===(i=e)||null===t&&void 0===i||void 0===t&&null===i||this.ngZone.run(()=>{this.value=e,this.ngChange(e),this.valueChange.emit(e),this.changeDetector.markForCheck()})}replaceNumpadDotValue(){let e=this.inputValue||"";if(this.previousSelection){const t=this.numericInput.nativeElement,{selectionStart:i,selectionEnd:n}=t,{start:s,end:r}=this.previousSelection;t.value=e=e.substring(0,s)+this.decimalSeparator+e.substring(r),this.setSelection(i,n)}return e}isValid(e){return this.numericRegex||(this.numericRegex=(e=>{const{autoCorrect:t,decimals:i,min:n}=e;let s,r=e.separator;return"."===r&&(r="\\"+r),s=0===i?"\\d*":`(?:(?:\\d+(${r}\\d*)?)|(?:${r}\\d*))?`,new RegExp(`^${t&&null!==n&&n>=0?"":"-?"}${s}$`)})({autoCorrect:this.autoCorrect,decimals:this.decimals,min:this.min,separator:this.decimalSeparator})),this.numericRegex.test(e)}spin(e,t){clearTimeout(this.spinTimeout),this.spinTimeout=window.setTimeout(()=>{this.spin(e,50)},t),this.addStep(e)}addStep(e){let t=((e,t)=>{const i=((e,t)=>Math.max(zT(e),zT(t)))(e,t);return jT(e+t,i)})(this.value||0,this.step*e);t=this.limitValue(t),t=this.restrictDecimals(t),this.setInputValue(t),this.updateValue(t)}setSelection(e,t){this.focused&&GT(this.numericInput,"setSelectionRange",e,t)}limitValue(e){let t=e;return this.isInRange(e)||(JT(this.max)&&e>this.max&&(t=this.max),JT(this.min)&&e<this.min&&(t=this.min)),t}limitInputValue(e){let{selectionStart:t,selectionEnd:i,value:n}=this.numericInput.nativeElement,s=e,r=!1;if(!this.isInRange(e)){const o=n.length-String(this.inputValue).length,{min:a,max:l}=this,c=JT(l),h=JT(a);let u,d,p=e;if(0===t&&this.inputValue.substr(1)===n)return{selectionEnd:i,selectionStart:t,value:null};if(c&&e>l?e>0?d=!0:u=l:h&&e<a&&(e>0?u=a:d=!0),u){const t=this.tryPadValue(e,u);t&&YT(e)!==YT(u)&&(p=t,r=!0)}else d&&this.inputValue&&t!==n.length&&(p=parseFloat(n.substr(0,t)+n.substr(t+o)));s=this.limitValue(p),r=(r||s!==p)&&this.previousSelection&&this.previousSelection.end-this.previousSelection.start+o>0}return{selectionEnd:r?String(s).length:i,selectionStart:t,value:s}}tryPadValue(e,t){const i=String(Math.floor(t)).length,n=XT(e,i),s=XT(e,i+1);let r;return this.isInRange(n)?r=n:this.isInRange(s)&&(r=s),r}isInRange(e){return!JT(e)||(!JT(this.min)||this.min<=e)&&(!JT(this.max)||e<=this.max)}restrictModelValue(e){let t=this.restrictDecimals(e,!0);return this.autoCorrect&&this.limitValue(t)!==t&&(t=null),t}restrictDecimals(e,t){let i=e;if(e&&this.hasDecimals){const n=this.decimals,s=String(e);if(t||ZT.test(s))i=jT(e,n);else{const e=s.split(".");let t=e[1];t&&t.length>n&&(t=t.substr(0,n),i=parseFloat(`${e[0]}.${t}`))}}return i}formatInputValue(e){return String(e).replace(".",this.decimalSeparator)}formatValue(e,t){let i;return i=null!==e&&(e=>void 0!==e)(e)&&""!==e?t&&!this.readonly?this.formatInputValue(e):this.intl.formatNumber(e,this.format):"",i}setInputValue(e=this.value,t=this.focused){const i=this.formatValue(e,t);this.elementValue=i,this.inputValue=i}verifySettings(){if(Sn()&&null!==this.min&&null!==this.max&&this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/inputs/api/NumericTextBoxComponent/#toc-max.")}verifyValue(e){if(Sn()&&e&&"number"!=typeof e)throw new Error(`The NumericTextBox component requires value of type Number and ${JSON.stringify(e)} was set.`)}parseOptions(e){for(let t=0;t<e.length;t++){const i=e[t],n=this[i];if("string"==typeof n){const e=parseFloat(n),t=!isNaN(e);if(Sn()&&!t&&""!==n)throw new Error(`The NumericTextBox component requires value of type Number or a String representing a number for the ${i} property and ${JSON.stringify(n)} was set.`);this[i]=t?e:iF[i]}}}intlChange(){delete this.numericRegex,!this.numericInput||this.focused&&this.isValid(this.elementValue)||this.setInputValue()}hasTrailingZeros(e){if(this.hasDecimals&&this.focused){const t=e.split(this.decimalSeparator)[1];return t&&t.length>this.decimals&&t.lastIndexOf("0")===t.length-1}}}return e.\u0275fac=function(t){return new(t||e)(Fo(TT),Fo(Ya),Fo(Fy),Fo(oo),Fo(Wc),Fo($r),Fo(Ga))},e.\u0275cmp=pt({type:e,selectors:[["kendo-numerictextbox"]],viewQuery:function(e,t){var i;1&e&&(mc(RT,!0),mc(PT,!0)),2&e&&(fc(i=Cc())&&(t.numericInput=i.first),fc(i=Cc())&&(t.numericWrap=i.first))},hostVars:5,hostBindings:function(e,t){2&e&&(_o("dir",t.direction),oa("k-widget",t.widgetClasses)("k-numerictextbox",t.widgetClasses))},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",autoCorrect:"autoCorrect",decimals:"decimals",step:"step",spinners:"spinners",rangeValidation:"rangeValidation",tabindex:"tabindex",value:"value",format:"format",tabIndex:"tabIndex",max:"max",min:"min",placeholder:"placeholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur"},exportAs:["kendoNumericTextBox"],features:[ja([Fy,{provide:Ty,useValue:"kendo.numerictextbox"},{provide:iw,useExisting:Se(()=>e),multi:!0},{provide:vw,useExisting:Se(()=>e),multi:!0}]),Oa],decls:7,vars:23,consts:[["kendoNumericTextBoxLocalizedMessages","",6,"increment","decrement"],[1,"k-numeric-wrap",3,"kendoEventsOutsideAngular"],["numericWrap",""],["role","spinbutton","autocomplete","off","autocorrect","off",1,"k-input","k-formatted-value",3,"id","tabindex","disabled","readonly","kendoEventsOutsideAngular"],["numericInput",""],["class","k-select",3,"kendoEventsOutsideAngular",4,"ngIf"],[1,"k-select",3,"kendoEventsOutsideAngular"],[1,"k-link","k-link-increase",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"kendoEventsOutsideAngular","title"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,MT),Vo(),Po(2,"span",1,2),No(4,"input",3,4),Io(6,VT,5,18,"span",5),Mo()),2&e&&(vs(2),oa("k-state-disabled",t.disabled),Oo("kendoEventsOutsideAngular",$l(14,HT,t.handleWheel,t.handleWheel)),vs(2),Oo("id",t.focusableId)("tabindex",t.tabIndex)("disabled",t.disabled)("readonly",t.readonly)("kendoEventsOutsideAngular",function(e,t,i,n,s,r,o,a){const l=si()+17,c=Zt(),h=ko(c,l,i,n,s,r);return Co(c,l+4,o)||h?yo(c,l+5,t(i,n,s,r,o)):wo(c,l+5)}(0,BT,t.handleDragEnter,t.handleKeyDown,t.handleInput,t.handleFocus,t.handleBlur)),_o("aria-valuemin",t.min)("aria-valuemax",t.max)("aria-valuenow",t.value)("title",t.title)("placeholder",t.placeholder),vs(2),Oo("ngIf",t.spinners))},directives:function(){return[dF,lF,ku]},encapsulation:2}),e})(),sF=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return rF(t||e)},e.\u0275dir=yt({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[Ea]}),e})();const rF=an(sF);let oF=(()=>{class e extends sF{constructor(e){super(),this.service=e}get override(){return!0}}return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-numerictextbox-messages"]],features:[ja([{provide:sF,useExisting:Se(()=>e)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),aF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:TT,useClass:FT}],imports:[[Pu]]}),e})(),lF=(()=>{class e{constructor(e,t,i){this.element=e,this.ngZone=t,this.renderer=i,this.events={}}ngOnInit(){if(!this.element||!this.element.nativeElement)return;const e=this.events;this.subscriptions=[],this.ngZone.runOutsideAngular(()=>{for(let t in e)e.hasOwnProperty(t)&&this.subscriptions.push(this.renderer.listen(this.element.nativeElement,t,e[t]))})}ngOnDestroy(){if(this.subscriptions){for(let e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Wc),Fo(Ya))},e.\u0275dir=yt({type:e,selectors:[["","kendoEventsOutsideAngular",""]],inputs:{events:["kendoEventsOutsideAngular","events"]}}),e})(),cF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),hF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:TT,useClass:FT}],imports:[[Pu,aF,cF,OT]]}),e})(),uF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:TT,useClass:FT}],imports:[[Pu,cF,OT]]}),e})(),dF=(()=>{class e extends sF{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoNumericTextBoxLocalizedMessages",""]],features:[ja([{provide:sF,useExisting:Se(()=>e)}]),Ea]}),e})(),pF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:TT,useClass:FT}],imports:[[Pu,cF]]}),e})(),fF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:TT,useClass:FT}],imports:[[Pu,cF]]}),e})(),gF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})(),mF=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:TT,useClass:FT}],imports:[[Pu],gF,hF,uF,pF,fF]}),e})();const vF=e=>e?new Date(e.getTime()):null,bF=(e,t)=>{const i=vF(e);return 0===t&&23===i.getHours()&&i.setHours(i.getHours()+2),i},yF=(e,t)=>{const i=vF(e);return i.setDate(i.getDate()+t),bF(i,e.getHours())},wF=(e,t,i,n=0,s=0,r=0,o=0)=>{const a=new Date(e,t,i,n,s,r,o);return e>-1&&e<100&&a.setFullYear(a.getFullYear()-1900),bF(a,n)},CF=e=>wF(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),xF=(e,t)=>!e&&!t||e&&t&&e.getTime()===t.getTime(),SF=e=>{const t=wF(e.getFullYear(),e.getMonth()+1,1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return yF(t,-1)},kF=(e,t)=>{const i=vF(e),n=(12+(i.getMonth()+t)%12)%12;return i.setMonth(i.getMonth()+t),((e,t)=>e.getMonth()!==t?SF(kF(e,-1)):e)(bF(i,e.getHours()),n)},_F=(e,t)=>{const i=e.getMonth(),n=wF(t,i,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.getMonth()===i?n:SF(kF(n,-1))},EF=(e,t)=>bF(_F(e,e.getFullYear()+t),e.getHours()),IF=(e,t)=>EF(e,10*t),TF=(e,t)=>EF(e,100*t),FF=(e,t)=>_F(e,t(e.getFullYear())),DF=e=>FF(e,e=>e-e%100),AF=e=>FF(e,e=>e-e%100+90),OF=e=>FF(e,e=>e-e%10),RF=(e,t)=>(DF(t).getFullYear()-DF(e).getFullYear())/100,PF=e=>FF(e,e=>e-e%10+9),MF=(e,t)=>(OF(t).getFullYear()-OF(e).getFullYear())/10,NF=(e,t)=>yF(e,7*t),LF=e=>wF(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());var VF=function(e){return e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward",e}({});const HF=(e,t,i=VF.Forward)=>{const n=vF(e),s=(t-n.getDay()+7*i)%7;return n.setDate(n.getDate()+s),bF(n,e.getHours())},BF=(e,t)=>12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),zF=(e,t)=>{const i=e.getDate(),n=wF(e.getFullYear(),t,i,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());return n.getDate()===i?n:SF(kF(n,-1))},jF=e=>zF(e,0),UF=e=>zF(e,11),$F=(e,t)=>t.getFullYear()-e.getFullYear();var qF=function(e){return e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e}({});const GF=(e,t)=>{const i=wF(e.getFullYear(),0,1,-6),n=((e,t)=>t!==qF.Monday?yF(((e,t)=>HF(e,t,VF.Backward))(e,t),4):yF(e,4-(e.getDay()||7)))(e,t).getTime()-i.getTime(),s=Math.floor(n/864e5);return 1+Math.floor(s/7)},KF=(e,t=qF.Monday)=>{e=CF(e);const i=yF(e,-7),n=yF(e,7),s=GF(e,t);return 0===s?GF(i,t)+1:53===s&&GF(n,t)>1?1:s};class WF extends Bb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}}class ZF extends jb{}const YF=new ZF(WF);class QF extends f{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(QF.dispatch,this.delay,new JF(e,this.destination)))}_next(e){this.scheduleMessage(Ly.createNext(e))}_error(e){this.scheduleMessage(Ly.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(Ly.createComplete()),this.unsubscribe()}}class JF{constructor(e,t){this.notification=e,this.destination=t}}class XF extends _{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),super.next(e)}nextTimeWindow(e){this._events.push(new eD(this._getNow(),e)),this._trimBufferThenGetEvents(),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),n=this.scheduler,s=i.length;let r;if(this.closed)throw new x;if(this.isStopped||this.hasError?r=u.EMPTY:(this.observers.push(e),r=new S(this,e)),n&&e.add(e=new QF(e,n)),t)for(let o=0;o<s&&!e.closed;o++)e.next(i[o]);else for(let o=0;o<s&&!e.closed;o++)e.next(i[o].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),r}_getNow(){return(this.scheduler||YF).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,n=this._events,s=n.length;let r=0;for(;r<s&&!(e-n[r].time<i);)r++;return s>t&&(r=Math.max(r,s-t)),r>0&&n.splice(0,r),n}}class eD{constructor(e,t){this.time=e,this.value=t}}class tD extends Bb{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class iD extends jb{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,n=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++n<s&&(e=t.shift()));if(this.active=!1,i){for(;++n<s&&(e=t.shift());)e.unsubscribe();throw i}}}const nD=new iD(tD);class sD{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new rD(e,this.predicate,this.inclusive))}}class rD extends f{constructor(e,t,i){super(e),this.predicate=t,this.inclusive=i,this.index=0}_next(e){const t=this.destination;let i;try{i=this.predicate(e,this.index++)}catch(n){return void t.error(n)}this.nextOrComplete(e,i)}nextOrComplete(e,t){const i=this.destination;Boolean(t)?i.next(e):(this.inclusive&&i.next(e),i.complete())}}const oD=["*"],aD=["list"];function lD(e,t){if(1&e&&ya(0),2&e){const e=Go().$implicit;wa(Go().service.navigationTitle(e))}}function cD(e,t){}const hD=function(e,t,i){return{$implicit:e,activeView:t,date:i}};function uD(e,t){if(1&e&&(Po(0,"li"),Po(1,"span"),Io(2,lD,1,1,"ng-template",5),Io(3,cD,0,0,"ng-template",6),Mo(),Mo()),2&e){const e=t.$implicit,i=t.index,n=Go();_o("data-date-index",i),vs(1),oa("k-calendar-navigation-marker",n.service.isRangeStart(e)),vs(1),Oo("ngIf",!n.templateRef),vs(1),Oo("ngIf",n.templateRef)("ngTemplateOutlet",n.templateRef)("ngTemplateOutletContext",ql(7,hD,n.service.navigationTitle(e),n.activeViewValue,e))}}const dD=function(e){return{click:e}};function pD(e,t){if(1&e&&(Po(0,"th",11),ya(1),Mo()),2&e){const e=t.$implicit;ra("width",Go(2).colWidth,"%"),vs(1),wa(e)}}function fD(e,t){if(1&e&&(Po(0,"table",7),Po(1,"thead",8),Po(2,"tr",9),Io(3,pD,2,3,"th",10),Mo(),Mo(),Mo()),2&e){const e=Go();vs(3),Oo("ngForOf",e.weekNames)}}function gD(e,t){1&e&&No(0,"col")}function mD(e,t){if(1&e){const e=Bo();Po(0,"tbody",12),Uo("cellClick",(function(t){return Qt(e),Go().cellClick.emit(t)}))("weekNumberCellClick",(function(t){return Qt(e),Go().weekNumberCellClick.emit(t)})),Mo()}if(2&e){const e=t.$implicit,i=Go();Oo("activeView",i.activeView)("isActive",i.isActive)("min",i.min)("max",i.max)("cellUID",i.cellUID)("focusedDate",i.focusedDate)("selectedDates",i.selectedDates)("weekNumber",i.weekNumber)("templateRef",i.cellTemplateRef)("weekNumberTemplateRef",i.weekNumberTemplateRef)("viewDate",e)}}const vD=["today",$localize`:kendo.calendar.today|The label for the today button in the calendar header␟7a8b7961a5c754397897f39a824bdec621719040␟4715594042078324085:Today`,"prevButtonTitle",$localize`:kendo.calendar.prevButtonTitle|The title of the previous button in the Classic calendar␟031715cd6a995d5dd1f62365cfe1b9e6226ca185␟9114031309296786030:Navigate to previous view`,"nextButtonTitle",$localize`:kendo.calendar.nextButtonTitle|The title of the next button in the Classic calendar␟cd8c0952c72306cccf0973c8fd1957ef9da1f569␟7248948899360601102:Navigate to next view`];function bD(e,t){if(1&e){const e=Bo();Po(0,"kendo-calendar-navigation",5),Uo("valueChange",(function(t){return Qt(e),Go(2).handleNavigation(t)}))("pageChange",(function(){return Qt(e),Go(2).onPageChange()})),Mo()}if(2&e){const e=Go(2);Oo("activeView",e.activeViewEnum)("focusedDate",e.focusedDate)("min",e.min)("max",e.max)("templateRef",null==e.navigationItemTemplate?null:e.navigationItemTemplate.templateRef)}}function yD(e,t){if(1&e){const e=Bo();Lo(0),Io(1,bD,1,5,"kendo-calendar-navigation",2),Po(2,"kendo-calendar-viewlist",3),Uo("todayButtonClick",(function(t){return Qt(e),Go().handleDateChange({selectedDates:[t],focusedDate:t})}))("cellClick",(function(t){return Qt(e),Go().handleCellClick(t)}))("weekNumberCellClick",(function(t){return Qt(e),Go().handleWeekNumberClick(t)}))("activeDateChange",(function(t){Qt(e);const i=Go();return i.emitEvent(i.activeViewDateChange,t)}))("pageChange",(function(){return Qt(e),Go().onPageChange()})),Mo(),Po(3,"kendo-resize-sensor",4),Uo("resize",(function(){return Qt(e),Go().onResize()})),Mo(),Vo()}if(2&e){const e=Go();var i;const t=null==(i=e.activeCellTemplate())?null:i.templateRef;vs(1),Oo("ngIf",e.navigation),vs(1),Oo("activeView",e.activeViewEnum)("isActive",e.isActive)("cellTemplateRef",t)("headerTitleTemplateRef",null==e.headerTitleTemplate?null:e.headerTitleTemplate.templateRef)("weekNumberTemplateRef",null==e.weekNumberTemplate?null:e.weekNumberTemplate.templateRef)("cellUID",e.cellUID)("min",e.min)("max",e.max)("focusedDate",e.focusedDate)("weekNumber",e.weekNumber)("selectedDates",e.selectedDates)}}function wD(e,t){if(1&e){const e=Bo();Lo(0),Po(1,"kendo-multiviewcalendar",6,7),Uo("activeViewChange",(function(t){return Qt(e),Go().handleActiveViewChange(t)}))("valueChange",(function(t){Qt(e);const i=To(2);return Go().handleMultiViewCalendarValueChange(t,i.focusedDate)})),No(3,"kendo-multiviewcalendar-messages",8),Mo(),Vo()}if(2&e){const e=Go();vs(1),Oo("views",1)("min",e.min)("max",e.max)("isActive",e.isActive)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("animateNavigation",e.animateNavigation)("cellTemplate",e.activeCellTemplate())("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("headerTitleTemplate",e.headerTitleTemplate)("weekNumberTemplate",e.weekNumberTemplate)("focusedDate",e.focusedDate)("selection",e.selection)("value",e.value)("disabledDates",e.disabledDates),vs(2),Oo("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))}}const CD=["dateInput"],xD=["wrap"],SD=["increment",$localize`:kendo.dateinput.increment|The label for the **Increment** button in the DateInput␟a55944f9de69e7cc86b91200fe96f980a947d704␟589112377451589685:Increase value`,"decrement",$localize`:kendo.dateinput.decrement|The label for the **Decrement** button in the DateInput␟0eded761107e6dad120997006a7f915bade9b15c␟6980524091606682769:Decrease value`];function kD(e,t){if(1&e){const e=Bo();Po(0,"span",6),Uo("mousedown",(function(t){return Qt(e),t.preventDefault()})),Po(1,"span",7),Uo("mousedown",(function(){Qt(e);const t=Go();return t.arrowDirection=t.arrow.Up}))("mouseleave",(function(){Qt(e);const t=Go();return t.arrowDirection=t.arrow.None}))("click",(function(){return Qt(e),Go().handleButtonClick(1)})),No(2,"span",8),Mo(),Po(3,"span",9),Uo("click",(function(){return Qt(e),Go().handleButtonClick(-1)}))("mousedown",(function(){Qt(e);const t=Go();return t.arrowDirection=t.arrow.Down}))("mouseleave",(function(){Qt(e);const t=Go();return t.arrowDirection=t.arrow.None})),No(4,"span",10),Mo(),Mo()}if(2&e){const e=Go();vs(1),oa("k-state-active",e.arrowDirection===e.arrow.Up),Oo("title",e.localization.get("increment")),_o("aria-label",e.localization.get("increment")),vs(2),oa("k-state-active",e.arrowDirection===e.arrow.Down),Oo("title",e.localization.get("decrement")),_o("aria-label",e.localization.get("decrement"))}}const _D=function(e,t,i,n,s,r,o){return{click:e,focus:t,mousedown:i,touchstart:n,dragstart:s,drop:r,blur:o}},ED=["container"],ID=["popupTemplate"],TD=["wrapper"],FD=["today",$localize`:kendo.datepicker.today|The label for the today button in the calendar header␟c8af34428eb25c8f689f0c19a9300394b07b5be3␟5799873230514803381:Today`,"toggle",$localize`:kendo.datepicker.toggle|The title of the toggle button in the datepicker component␟f6c28c2d80dbe993c4b33f4dc4010364f41cc2ae␟4817467473728423164:Toggle calendar`,"prevButtonTitle",$localize`:kendo.datepicker.prevButtonTitle|The title of the previous button in the Classic calendar␟b24bedd31916ff8439cd7e3c46cbdabea3409dd1␟1741914107549506055:Navigate to previous view`,"nextButtonTitle",$localize`:kendo.datepicker.nextButtonTitle|The title of the next button in the Classic calendar␟2f0e2a91beb7149035e42bd0d6663e8903dc3852␟3363484587807059211:Navigate to next view`];function DD(e,t){}const AD=function(e){return{keydown:e}};function OD(e,t){if(1&e){const e=Bo();Po(0,"kendo-calendar",9,10),Uo("valueChange",(function(t){Qt(e);const i=Go();return i.handleChange(i.mergeTime(t))})),No(2,"kendo-calendar-messages",11),Mo(),Io(3,DD,0,0,"ng-template")}if(2&e){const e=Go();Oo("type",e.calendarType)("min",e.min)("max",e.max)("navigation",e.navigation)("animateNavigation",e.animateCalendarNavigation)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("weekNumber",e.weekNumber)("cellTemplate",e.cellTemplate)("monthCellTemplate",e.monthCellTemplate)("yearCellTemplate",e.yearCellTemplate)("decadeCellTemplate",e.decadeCellTemplate)("centuryCellTemplate",e.centuryCellTemplate)("weekNumberTemplate",e.weekNumberTemplate)("headerTitleTemplate",e.headerTitleTemplate)("navigationItemTemplate",e.navigationItemTemplate)("focusedDate",e.focusedDate)("value",e.value)("kendoEventsOutsideAngular",Ul(25,AD,e.handleKeydown))("scope",e)("disabledDates",e.disabledDates),vs(2),Oo("today",e.localization.get("today"))("prevButtonTitle",e.localization.get("prevButtonTitle"))("nextButtonTitle",e.localization.get("nextButtonTitle"))}}const RD=function(e,t){return{click:e,mousedown:t}};$localize`:kendo.timepicker.accept|The Accept button text in the timepicker component␟4c3bf42192220c7611c09ece1c5de14855139dd0␟7519663530416240229:Set`,$localize`:kendo.timepicker.acceptLabel|The label for the Accept button in the timepicker component␟93c2a9c3aa49f56e452c0aecbaabe3bb33fa4222␟4355879331538595758:Set time`,$localize`:kendo.timepicker.cancel|The Cancel button text in the timepicker component␟132eefca16bd41d489b4647724b91e93793603aa␟1086687567255473060:Cancel`,$localize`:kendo.timepicker.cancelLabel|The label for the Cancel button in the timepicker component␟2cf6f4ca4470810944b4016c9b6f87943d3390ab␟83621966901491941:Cancel changes`,$localize`:kendo.timepicker.now|The Now button text in the timepicker component␟bbc99bb74ae75a503bd813aad0c7253d3553e923␟5912507758515138116:Now`,$localize`:kendo.timepicker.nowLabel|The label for the Now button in the timepicker component␟df1a696f318275aa934e27850920889d494c2740␟371982627910576599:Select now`,$localize`:kendo.timepicker.toggle|The label for the toggle button in the timepicker component␟f2c196786ed2d3ecb2369750c36aac9a4053fb30␟6938407659294495526:Toggle time list`;const PD=["dateTab",$localize`:kendo.datetimepicker.dateTab|The Date tab text in the datetimepicker popup header␟5bb17f81ae8dbc109499ce3792afffa6b7cef855␟3360129034450596425:Date`,"dateTabLabel",$localize`:kendo.datetimepicker.dateTabLabel|The label for the Date tab in the datetimepicker popup header␟2a400c9e364a4c6d83ac39b5513c962805db54b2␟1810540079817643910:Date tab`,"timeTab",$localize`:kendo.datetimepicker.timeTab|The Time tab text in the datetimepicker popup header␟e9b2b760a6916040e7520a9a2926d65de175944d␟3807284594201983607:Time`,"timeTabLabel",$localize`:kendo.datetimepicker.timeTabLabel|The label for the Time tab in the datetimepicker popup header␟13bf7e3a1036140119732c6d5952f7a20c22999e␟2577682127494513393:Time tab`,"toggle",$localize`:kendo.datetimepicker.toggle|The title of the toggle button in the datetimepicker component␟60296a83f0d3e3d07aaba87c4f8e91b0aca3c22a␟3159207801887264026:Toggle popup`,"accept",$localize`:kendo.datetimepicker.accept|The Accept button text in the datetimepicker component␟4359b59db7ded88e106ada877e744c71b188f8f9␟3915774704336012538:Set`,"acceptLabel",$localize`:kendo.datetimepicker.acceptLabel|The label for the Accept button in the datetimepicker component␟cbea4571cca81ad9767a6b29f0287d1f3f6372dc␟4770689705864890748:Set`,"cancel",$localize`:kendo.datetimepicker.cancel|The Cancel button text in the datetimepicker component␟17ab795d6f7527dd962a309759ca58cb4edd7e52␟5100781969600382158:Cancel`,"cancelLabel",$localize`:kendo.datetimepicker.cancelLabel|The label for the Cancel button in the datetimepicker component␟ba26795ab9f4c21d66b17549ba854a96fcdac1f9␟3535986227615756275:Cancel`,"now",$localize`:kendo.datetimepicker.now|The Now button text in the timepicker component␟7172e7e9a1741f6b63439ec89e498c995cb23b0d␟5497093725885127701:NOW`,"nowLabel",$localize`:kendo.datetimepicker.nowLabel|The label for the Now button in the timepicker component␟52d90641b26b1ce4c011cadf0437ce36c1dac1d5␟5046379108717037514:Select now`,"today",$localize`:kendo.datetimepicker.today|The label for the today button in the calendar header␟9ef9db9ac4951523d519b989d223f507878c612d␟2570147067439993260:Today`,"prevButtonTitle",$localize`:kendo.datetimepicker.prevButtonTitle|The title of the previous button in the Classic calendar␟447d09c4ecfc2ab2b84d708f4c07fa0fcda85167␟6176055232586065404:Navigate to previous view`,"nextButtonTitle",$localize`:kendo.datetimepicker.nextButtonTitle|The title of the next button in the Classic calendar␟80fd3325bfe94a180fd27391f2245c024472ec58␟6424339255333594510:Navigate to next view`];function MD(e,t){if(1&e&&(Po(0,"button",25),ya(1),Mo()),2&e){const e=Go(2);Oo("kendoEventsOutsideAngular",Ul(5,dD,e.handleCancel))("scope",e),_o("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),vs(1),Ca(" ",e.localization.get("cancel")," ")}}const ND=function(e,t){return{mousedown:e,keydown:t}},LD=function(e,t){return{focusin:e,focusout:t}},VD=function(e,t){return{click:e,keydown:t}},HD=function(e){return{transitionend:e}},BD=function(e,t,i){return{keydown:e,focusin:t,focusout:i}};function zD(e,t){if(1&e){const e=Bo();Po(0,"div",9),Po(1,"div",10),Po(2,"div",11),Po(3,"button",12),ya(4),Mo(),Po(5,"button",13),ya(6),Mo(),Mo(),Mo(),Po(7,"div",14,15),Po(9,"div",16),Po(10,"kendo-calendar",17),Uo("valueChange",(function(t){return Qt(e),Go().calendarValue=t}))("valueChange",(function(){return Qt(e),Go().handleCalendarValueChange()})),No(11,"kendo-calendar-messages",18),Mo(),Mo(),Po(12,"div",19),Po(13,"kendo-timeselector",20),No(14,"kendo-timeselector-messages",21),Mo(),Mo(),Mo(),Po(15,"div",22),Io(16,MD,2,7,"button",23),Po(17,"button",24),ya(18),Mo(),Mo(),Mo()}if(2&e){const e=To(8),t=Go();"k-datetime-wrap k-",i=t.activeTab,"-tab",ha(rt,la,Eo(Zt(),"k-datetime-wrap k-",i,"-tab"),!0),Oo("kendoEventsOutsideAngular",$l(62,ND,t.preventMouseDown,t.handleKeyDown))("scope",t),vs(1),Oo("kendoEventsOutsideAngular",$l(65,LD,t.handleFocus,t.handleBlur))("scope",t),vs(2),oa("k-state-active","date"===t.activeTab),Oo("kendoEventsOutsideAngular",$l(68,VD,t.changeActiveTab.bind(t,"date"),t.handleBackTabOut))("scope",t),_o("title",t.localization.get("dateTabLabel"))("aria-label",t.localization.get("dateTabLabel")),vs(1),Ca(" ",t.localization.get("dateTab")," "),vs(1),oa("k-state-active","time"===t.activeTab),Oo("kendoEventsOutsideAngular",Ul(71,dD,t.changeActiveTab.bind(t,"time"))),_o("title",t.localization.get("timeTabLabel"))("aria-label",t.localization.get("timeTabLabel")),vs(1),Ca(" ",t.localization.get("timeTab")," "),vs(1),ra("transition",t.tabSwitchTransition),Oo("kendoEventsOutsideAngular",Ul(73,HD,t.handleTabChangeTransitionEnd.bind(t,e))),vs(3),Oo("value",t.calendarValue)("type",t.calendarType)("min",t.calendarMin)("max",t.calendarMax)("focusedDate",t.focusedDate)("weekNumber",t.weekNumber)("navigation",!1)("animateNavigation",t.animateCalendarNavigation)("cellTemplate",t.cellTemplate)("monthCellTemplate",t.monthCellTemplate)("yearCellTemplate",t.yearCellTemplate)("decadeCellTemplate",t.decadeCellTemplate)("centuryCellTemplate",t.centuryCellTemplate)("weekNumberTemplate",t.weekNumberTemplate)("headerTitleTemplate",t.headerTitleTemplate)("disabled",t.disableCalendar)("disabledDates",t.disabledDates),vs(1),Oo("today",t.localization.get("today"))("prevButtonTitle",t.localization.get("prevButtonTitle"))("nextButtonTitle",t.localization.get("nextButtonTitle")),vs(2),Oo("value",t.value)("format",t.timeSelectorFormat)("min",t.timeSelectorMin)("max",t.timeSelectorMax)("setButton",!1)("cancelButton",!1)("steps",t.steps)("disabled",t.disableTimeSelector),vs(1),Oo("now",t.localization.get("now"))("nowLabel",t.localization.get("nowLabel")),vs(1),Oo("kendoEventsOutsideAngular",ql(75,BD,t.handleTabOut,t.handleFocus,t.handleBlur))("scope",t),vs(1),Oo("ngIf",t.cancelButton),vs(1),Oo("disabled",!t.calendarValue)("kendoEventsOutsideAngular",Ul(79,dD,t.handleAccept))("scope",t),_o("title",t.localization.get("acceptLabel"))("aria-label",t.localization.get("acceptLabel")),vs(1),Ca(" ",t.localization.get("accept")," ")}var i}const jD=function(e,t){return{mousedown:e,click:t}};function UD(e,t){if(1&e&&(Po(0,"caption",7),ya(1),Mo()),2&e){const e=Go().date,t=Go();Oo("ngClass",t.getCaptionClass()),vs(1),wa(t.getCaptionTitle(e))}}function $D(e,t){if(1&e&&(Po(0,"th",11),ya(1),Mo()),2&e){const e=t.$implicit;vs(1),wa(e)}}function qD(e,t){if(1&e&&(Po(0,"thead",8),Po(1,"tr",9),Io(2,$D,2,1,"th",10),Mo(),Mo()),2&e){const e=Go(2);vs(2),Oo("ngForOf",e.weekNames)}}function GD(e,t){if(1&e){const e=Bo();Po(0,"table",3),Io(1,UD,2,2,"caption",4),Io(2,qD,3,1,"thead",5),Po(3,"tbody",6),Uo("cellClick",(function(t){return Qt(e),Go().cellClick.emit(t)}))("weekNumberCellClick",(function(t){return Qt(e),Go().weekNumberCellClick.emit(t)}))("cellEnter",(function(t){return Qt(e),Go().cellEnter.emit(t)}))("cellLeave",(function(t){return Qt(e),Go().cellLeave.emit(t)})),Mo(),Mo()}if(2&e){const e=t.date,i=t.className,n=Go();Oo("ngClass",i),vs(1),Oo("ngIf",n.showViewHeader),vs(1),Oo("ngIf",n.isMonthView()),vs(1),Oo("activeView",n.activeView)("isActive",n.isActive)("min",n.min)("max",n.max)("cellUID",n.cellUID)("focusedDate",n.focusedDate)("selectedDates",n.selectedDates)("selectionRange",n.selectionRange)("activeRangeEnd",n.activeRangeEnd)("weekNumber",n.weekNumber)("templateRef",n.cellTemplateRef)("weekNumberTemplateRef",n.weekNumberTemplateRef)("viewDate",e)}}function KD(e,t){}const WD=function(e){return{date:e,className:"k-pointer-events-none"}};function ZD(e,t){if(1&e&&Io(0,KD,0,0,"ng-template",12),2&e){const e=Go();Oo("ngTemplateOutlet",To(1))("ngTemplateOutletContext",Ul(2,WD,e.nextAnimationDate))}}function YD(e,t){}const QD=function(e){return{date:e}};function JD(e,t){if(1&e&&Io(0,YD,0,0,"ng-template",12),2&e){const e=t.$implicit;Go(),Oo("ngTemplateOutlet",To(1))("ngTemplateOutletContext",Ul(2,QD,e))}}function XD(e,t){}function eA(e,t){if(1&e&&Io(0,XD,0,0,"ng-template",12),2&e){const e=Go();Oo("ngTemplateOutlet",To(1))("ngTemplateOutletContext",Ul(2,WD,e.prevAnimationDate))}}const tA=["today",$localize`:kendo.multiviewcalendar.today|The label for the today button in the calendar header␟c237cef31a55d762ecfdcac701d283313f30bbfc␟7780927771207785084:Today`,"prevButtonTitle",$localize`:kendo.multiviewcalendar.prevButtonTitle|The label for the previous button in the Multiview calendar␟e783e2af4828224b846fa92148ea1cc52b21bb13␟9101635325676663492:Navigate to previous view`,"nextButtonTitle",$localize`:kendo.multiviewcalendar.nextButtonTitle|The label for the next button in the Multiview calendar␟3e3a529a242f39d22f841c3bd8045ec75b696b7a␟3994336778698343633:Navigate to next view`];function iA(e,t){1&e&&ya(0),2&e&&wa(Go().title)}function nA(e,t){}function sA(e,t){if(1&e){const e=Bo();Po(0,"button",8),Uo("click",(function(){return Qt(e),Go().prevButtonClick.emit()})),No(1,"span",9),Mo()}if(2&e){const e=Go();Oo("disabled",e.isPrevDisabled)("title",e.prevButtonTitle),_o("aria-disabled",e.isPrevDisabled)}}function rA(e,t){if(1&e){const e=Bo();Po(0,"button",10),Uo("click",(function(){return Qt(e),Go().nextButtonClick.emit()})),No(1,"span",11),Mo()}if(2&e){const e=Go();Oo("disabled",e.isNextDisabled)("title",e.nextButtonTitle),_o("aria-disabled",e.isNextDisabled)}}const oA=["kendoCalendarView",""];function aA(e,t){1&e&&(Po(0,"td",3),ya(1,"\xa0"),Mo())}function lA(e,t){if(1&e&&(Po(0,"tr",4),Po(1,"th",5),ya(2),Mo(),Mo()),2&e){const e=Go();vs(1),Oo("colSpan",e.colSpan),vs(1),wa(e.title)}}function cA(e,t){if(1&e&&ya(0),2&e){const e=Go(3).$implicit,t=Go();Ca(" ",t.getWeekNumber(t.firstDate(e))," ")}}function hA(e,t){}const uA=function(e,t){return{$implicit:e,cellContext:t}};function dA(e,t){if(1&e&&(Po(0,"td",9),Io(1,cA,1,1,"ng-template",6),Io(2,hA,0,0,"ng-template",10),Mo()),2&e){const e=Go(2).$implicit,t=Go();Oo("kendoEventsOutsideAngular",Ul(5,dD,t.handleWeekNumberClick.bind(t,e))),vs(1),Oo("ngIf",!t.weekNumberTemplateRef),vs(1),Oo("ngIf",t.weekNumberTemplateRef)("ngTemplateOutlet",t.weekNumberTemplateRef)("ngTemplateOutletContext",$l(7,uA,t.firstDate(e),t.getWeekNumberContext(e)))}}function pA(e,t){if(1&e&&Io(0,dA,3,10,"td",8),2&e){const e=Go().$implicit,t=Go(),i=To(1);Oo("ngIf",t.firstDate(e))("ngIfElse",i)}}function fA(e,t){1&e&&ya(0),2&e&&wa(Go(2).$implicit.formattedValue)}function gA(e,t){}function mA(e,t){if(1&e&&Io(0,gA,0,0,"ng-template",15),2&e){const e=Go(2).$implicit;Oo("ngTemplateOutlet",Go(2).templateRef)("ngTemplateOutletContext",$l(2,uA,e.value,e))}}function vA(e,t){if(1&e&&(Po(0,"td",12),Po(1,"span",13),Io(2,fA,1,1,"ng-template",6),Io(3,mA,1,5,void 0,14),Mo(),Mo()),2&e){const e=Go(),t=e.$implicit,i=e.index,n=Go().index,s=Go();Oo("ngClass",s.getStyles(t))("title",t.title),_o("id",t.id)("data-cell-index",s.tableCellIndex(n,i))("aria-selected",t.isSelected||t.isRangeStart||t.isRangeMid||t.isRangeEnd)("aria-disabled",t.isDisabled),vs(2),Oo("ngIf",!s.templateRef),vs(1),Oo("ngIf",s.templateRef)}}function bA(e,t){if(1&e&&(Lo(0),Io(1,vA,4,8,"td",11),Vo()),2&e){const e=t.$implicit,i=Go(2),n=To(1);vs(1),Oo("ngIf",i.shouldRenderCellContent(e))("ngIfElse",n)}}function yA(e,t){if(1&e&&(Po(0,"tr",4),Io(1,pA,1,2,"ng-template",6),Io(2,bA,2,2,"ng-container",7),Mo()),2&e){const e=t.$implicit,i=Go();vs(1),Oo("ngIf",i.weekNumber),vs(1),Oo("kForOf",e)}}function wA(e,t){if(1&e&&(Po(0,"li",3),Po(1,"span"),ya(2),Mo(),Mo()),2&e){const e=t.$implicit;_o("data-timelist-item-index",t.index),vs(2),wa(e.text)}}const CA=["accept"],xA=["cancel"],SA=["now"],kA=["listWrapper"],_A=["accept",$localize`:kendo.timeselector.accept|The Accept button text in the timeselector component␟801811aa1609e3f173c86baa82cee037f75a215f␟5362895271044573681:Set`,"acceptLabel",$localize`:kendo.timeselector.acceptLabel|The label for the Accept button in the timeselector component␟b4b1e5ac55f0330f6c4e32b866ae4339ad969978␟3417396278000787211:Set time`,"cancel",$localize`:kendo.timeselector.cancel|The Cancel button text in the timeselector component␟3004d7704ffa6202a3b3925fcea490e486203a3e␟1890188482755567622:Cancel`,"cancelLabel",$localize`:kendo.timeselector.cancelLabel|The label for the Cancel button in the timeselector component␟08dfbdfffd662371a6ff4c0b6ed82b9faa48143b␟5738120209397145846:Cancel changes`,"now",$localize`:kendo.timeselector.now|The Now button text in the timeselector component␟98cba1ae36a7bbe15e1bac1837e07922ec109e7d␟1926162752852226109:Now`,"nowLabel",$localize`:kendo.timeselector.nowLabel|The label for the Now button in the timeselector component␟08e6a8a51d970609e138950fdd89c5cf201869f3␟7789175884909488647:Select now`],EA=function(e,t,i){return{click:e,focus:t,blur:i}};function IA(e,t){if(1&e&&(Po(0,"button",8,9),ya(2),Mo()),2&e){const e=Go();Oo("kendoEventsOutsideAngular",ql(6,EA,e.handleNow,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),_o("title",e.localization.get("nowLabel"))("aria-label",e.localization.get("nowLabel")),vs(2),wa(e.localization.get("now"))}}const TA=function(e,t){return{focus:e,blur:t}};function FA(e,t){if(1&e){const e=Bo();Po(0,"div",12,13),Po(2,"span",2),ya(3),Mo(),Po(4,"kendo-timelist",14),Uo("valueChange",(function(t){return Qt(e),Go(2).current=t})),Mo(),Mo()}if(2&e){const e=Go(),t=e.$implicit,i=e.index,n=Go();vs(3),wa(n.intl.dateFieldName(t)),vs(1),Oo("min",n.min)("max",n.max)("part",t)("step",n.partStep(t))("disabled",n.disabled)("value",n.current)("kendoEventsOutsideAngular",$l(10,TA,n.handleListFocus,n.handleBlur))("scope",n),_o("data-timelist-index",i)}}function DA(e,t){if(1&e&&(Po(0,"div",15),ya(1),Mo()),2&e){const e=Go().$implicit;vs(1),Ca(" ",e.pattern," ")}}function AA(e,t){if(1&e&&(Io(0,FA,5,13,"div",10),Io(1,DA,2,1,"div",11)),2&e){const e=t.$implicit;Oo("ngIf","literal"!==e.type),vs(1),Oo("ngIf","literal"===e.type)}}function OA(e,t){if(1&e&&(Po(0,"button",19,20),ya(2),Mo()),2&e){const e=Go(2);Oo("kendoEventsOutsideAngular",ql(6,EA,e.handleReject,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),_o("title",e.localization.get("cancelLabel"))("aria-label",e.localization.get("cancelLabel")),vs(2),wa(e.localization.get("cancel"))}}function RA(e,t){if(1&e&&(Po(0,"button",21,22),ya(2),Mo()),2&e){const e=Go(2);Oo("kendoEventsOutsideAngular",ql(6,EA,e.handleAccept,e.handleFocus,e.handleBlur))("scope",e)("disabled",e.disabled),_o("title",e.localization.get("acceptLabel"))("aria-label",e.localization.get("acceptLabel")),vs(2),wa(e.localization.get("accept"))}}function PA(e,t){if(1&e&&(Po(0,"div",16),Io(1,OA,3,10,"button",17),Io(2,RA,3,10,"button",18),Mo()),2&e){const e=Go();vs(1),Oo("ngIf",e.cancelButton),vs(1),Oo("ngIf",e.setButton)}}const MA={name:"@progress/kendo-angular-dateinputs",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1629447371,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};var NA=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Up=2]="Up",e[e.Down=3]="Down",e[e.PrevView=4]="PrevView",e[e.NextView=5]="NextView",e[e.FirstInView=6]="FirstInView",e[e.LastInView=7]="LastInView",e[e.LowerView=8]="LowerView",e[e.UpperView=9]="UpperView",e}({});const LA={start:null,end:null},VA=new Date(1980,0,1),HA=new Date(1900,0,1),BA=new Date(2099,11,31),zA=new Date(1980,0,1),jA=new Date(1980,0,1,23,59,59),UA=e=>e&&(!e.touched||e.control&&"blur"===e.control.updateOn),$A=e=>e.preventDefault(),qA=e=>e.relatedTarget||document.activeElement,GA=e=>null!=e,KA=e=>null!=e,WA=e=>(t,i)=>{const n=vF(t);return n[e](i),n},ZA=(e,t)=>{const i=vF(e);return i.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),i},YA=(e,t,i)=>({candidateValue:ZA(VA,e),maxValue:yF(ZA(VA,i),t.getHours()<i.getHours()||t.getHours()===i.getHours()&&t.getMinutes()<i.getMinutes()?0:1),minValue:ZA(VA,t)}),QA=WA("setFullYear"),JA=WA("setHours"),XA=WA("setMinutes"),eO=WA("setSeconds"),tO=WA("setMilliseconds"),iO=(e,t,i=1)=>{const n=[];for(let s=e;s<t;s+=i)n.push(s);return n},nO=(e,t,i)=>!e||!(t&&t>e||i&&i<e),sO=(e,t)=>!KA(e)||!KA(t)||e<=t,rO=(e,t,i)=>e?t&&e<t?vF(t):i&&e>i?vF(i):e:e,oO=()=>new Date,aO=()=>CF(new Date),lO=e=>{},cO=()=>"undefined"!=typeof window,hO=(e,t)=>e.slice(t).concat(e.slice(0,t)),uO=e=>(t,i="",n={})=>{const s=document.createElement(e);return s.className=i,Object.keys(n).map(e=>s.style[e]=n[e]),"string"==typeof t?s.innerHTML=t||"":(t||[]).forEach(e=>e&&s.appendChild(e)),s},dO=(e,t)=>void 0!==e[t],pO=(e,t)=>e[t]&&null!=e[t].currentValue,fO=(e=[])=>e&&e[e.length-1],gO=(e,t)=>{const{start:i,end:n}=t||LA;return!(!i||!n)&&i<e&&e<n},mO=(e,t)=>(e=e||[]).length===(t=t||[]).length&&e.every((e,i)=>xF(e,t[i])),vO=(e,t)=>e&&t?new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()):null,bO=e=>e?new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999):null,yO=[[]],wO={[NA.Left]:e=>IF(e,-1),[NA.Up]:e=>IF(e,-5),[NA.Right]:e=>IF(e,1),[NA.Down]:e=>IF(e,5),[NA.PrevView]:e=>TF(e,-1),[NA.NextView]:e=>TF(e,1),[NA.FirstInView]:e=>DF(e),[NA.LastInView]:e=>AF(e)};let CO=(()=>{let e=class{constructor(){this.dateRange=(e,t)=>{if(!GA(e)||!GA(t))return[];const i=[];let n=e;for(;n<=t;)i.push(n),n=IF(n,1);return i}}addToDate(e,t){return TF(e,t)}datesList(e,t){return iO(0,t).map(t=>TF(e,t))}data(e){const{cellUID:t,focusedDate:i,isActiveView:n,max:s,min:r,selectedDates:o,selectionRange:a=LA,viewDate:l}=e;if(!l)return yO;const c=iO(0,4),h=DF(l),u=AF(l),d=aO();return iO(0,3).map(e=>{const l=IF(h,4*e);return c.map(e=>{const c=this.normalize(IF(l,e),r,s),p=c.getFullYear()>u.getFullYear();if(!this.isInRange(c,r,s)||p)return null;const f=this.isEqual(c,a.start),g=this.isEqual(c,a.end),m=!f&&!g&&gO(c,a);return{formattedValue:this.value(c),id:`${t}${c.getTime()}`,isFocused:this.isEqual(c,i),isSelected:n&&o.some(e=>this.isEqual(c,e)),isWeekend:!1,isRangeStart:f,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&this.isEqual(c,u),isRangeSplitStart:m&&this.isEqual(c,h),isToday:this.isEqual(c,d),title:this.cellTitle(c),value:c}})})}isEqual(e,t){return!(!e||!t)&&OF(e).getFullYear()===OF(t).getFullYear()}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()+99}isInRange(e,t,i){const n=OF(e).getFullYear(),s=!t||OF(t).getFullYear()<=n,r=!i||n<=OF(i).getFullYear();return s&&r}beginningOfPeriod(e){if(!e)return e;const t=OF(DF(e));return wF(t.getFullYear(),0,1)}isRangeStart(e){return e.getFullYear()%1e3==0}move(e,t){const i=wO[t];return i?i(e):e}cellTitle(e){return OF(e).getFullYear().toString()}navigationTitle(e){return e?DF(e).getFullYear().toString():""}title(e){return e?`${DF(e).getFullYear()} - ${AF(e).getFullYear()}`:""}rowLength(){return 4}skip(e,t){return RF(t,e)}total(e,t){return RF(e,t)+1}value(e){return e?OF(e).getFullYear().toString():""}viewDate(e,t,i=1){const n=this.total(e,t);return n<i?TF(e,-1*(i-n)):e}normalize(e,t,i){return e<t&&this.isEqual(e,t)?vF(t):e>i&&this.isEqual(e,i)?vF(i):e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const xO=[[]],SO={[NA.Left]:e=>EF(e,-1),[NA.Up]:e=>EF(e,-5),[NA.Right]:e=>EF(e,1),[NA.Down]:e=>EF(e,5),[NA.PrevView]:e=>IF(e,-1),[NA.NextView]:e=>IF(e,1),[NA.FirstInView]:e=>OF(e),[NA.LastInView]:e=>PF(e)};let kO=(()=>{let e=class{constructor(){this.dateRange=(e,t)=>{if(!GA(e)||!GA(t))return[];const i=[];let n=e;for(;n<=t;)i.push(n),n=EF(n,1);return i}}addToDate(e,t){return IF(e,t)}datesList(e,t){return iO(0,t).map(t=>IF(e,t))}data(e){const{cellUID:t,focusedDate:i,isActiveView:n,max:s,min:r,selectedDates:o,selectionRange:a=LA,viewDate:l}=e;if(!l)return xO;const c=iO(0,4),h=OF(l),u=PF(l),d=aO();return iO(0,3).map(e=>{const l=EF(h,4*e);return c.map(e=>{const c=this.normalize(EF(l,e),r,s),p=c.getFullYear()>u.getFullYear();if(!this.isInRange(c,r,s)||p)return null;const f=this.isEqual(c,a.start),g=this.isEqual(c,a.end),m=!f&&!g&&gO(c,a);return{formattedValue:this.value(c),id:`${t}${c.getTime()}`,isFocused:this.isEqual(c,i),isSelected:n&&o.some(e=>this.isEqual(c,e)),isWeekend:!1,isRangeStart:f,isRangeMid:m,isRangeEnd:g,isRangeSplitEnd:m&&this.isEqual(c,u),isRangeSplitStart:m&&this.isEqual(c,h),isToday:this.isEqual(c,d),title:this.cellTitle(c),value:c}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()+9}isInRange(e,t,i){const n=e.getFullYear(),s=!t||t.getFullYear()<=n,r=!i||n<=i.getFullYear();return s&&r}beginningOfPeriod(e){if(!e)return e;const t=OF(e);return wF(t.getFullYear(),0,1)}isRangeStart(e){return e.getFullYear()%100==0}move(e,t){const i=SO[t];return i?i(e):e}cellTitle(e){return e.getFullYear().toString()}navigationTitle(e){return e?OF(e).getFullYear().toString():""}title(e){return e?`${OF(e).getFullYear()} - ${PF(e).getFullYear()}`:""}rowLength(){return 4}skip(e,t){return MF(t,e)}total(e,t){return MF(e,t)+1}value(e){return e?e.getFullYear().toString():""}viewDate(e,t,i=1){const n=this.total(e,t);return n<i?IF(e,-1*(i-n)):e}normalize(e,t,i){return e<t&&this.isEqual(e,t)?vF(t):e>i&&this.isEqual(e,i)?vF(i):e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const _O=[[]],EO={[NA.Left]:e=>yF(e,-1),[NA.Up]:e=>NF(e,-1),[NA.Right]:e=>yF(e,1),[NA.Down]:e=>NF(e,1),[NA.PrevView]:e=>kF(e,-1),[NA.NextView]:e=>kF(e,1),[NA.FirstInView]:e=>LF(e),[NA.LastInView]:e=>SF(e)};let IO=(()=>{let e=class{constructor(e){this._intlService=e,this.dateRange=(e,t)=>{if(!GA(e)||!GA(t))return[];const i=[];let n=e;for(;n<=t;)i.push(n),n=yF(n,1);return i}}addToDate(e,t){return kF(e,t)}datesList(e,t){return iO(0,t).map(t=>kF(e,t))}data(e){const{cellUID:t,focusedDate:i,isActiveView:n,max:s,min:r,selectedDates:o,selectionRange:a=LA,viewDate:l,isDateDisabled:c=(()=>!1)}=e;if(!l)return _O;const h=LF(l),u=CF(h),d=SF(l),p=CF(d),f=HF(h,this._intlService.firstDay(),-1),g=iO(0,7),m=aO();return iO(0,6).map(e=>{const l=yF(f,7*e);return g.map(e=>{const f=this.normalize(yF(l,e),r,s),g=CF(f),v=g<u||g>p;if(f<r||f>s)return null;const b=this.isEqual(f,a.start),y=this.isEqual(f,a.end),w=!b&&!y&&gO(f,a);return{formattedValue:this.value(f),id:`${t}${f.getTime()}`,isFocused:this.isEqual(f,i),isSelected:n&&o.some(e=>this.isEqual(f,e)),isWeekend:this.isWeekend(f),isRangeStart:b,isRangeMid:w,isRangeEnd:y,isRangeSplitStart:w&&this.isEqual(f,h),isRangeSplitEnd:w&&this.isEqual(f,d),isToday:this.isEqual(f,m),title:this.cellTitle(f),value:f,isDisabled:c(f),isOtherMonth:v}})})}isEqual(e,t){return!(!e||!t)&&CF(e).getTime()===CF(t).getTime()}isInArray(e,t){if(0===t.length)return!1;const i=this.beginningOfPeriod(t[0]),n=this.beginningOfPeriod(kF(t[t.length-1],1));return i<=e&&e<n}isInRange(e,t,i){const n=CF(e),s=!t||CF(t)<=n,r=!i||n<=CF(i);return s&&r}beginningOfPeriod(e){return e?wF(e.getFullYear(),e.getMonth(),1):e}isRangeStart(e){return!e.getMonth()}move(e,t){const i=EO[t];return i?i(e):e}cellTitle(e){return this._intlService.formatDate(e,"D")}navigationTitle(e){return e?this.isRangeStart(e)?e.getFullYear().toString():this.abbrMonthNames()[e.getMonth()]:""}title(e){return`${this.wideMonthNames()[e.getMonth()]} ${e.getFullYear()}`}rowLength(e={}){return 7+(e.prependCell?1:0)}skip(e,t){return BF(t,e)}total(e,t){return BF(e,t)+1}value(e){return e?e.getDate().toString():""}viewDate(e,t,i=1){const n=this.total(e,t);return n<i?kF(e,-1*(i-n)):e}isWeekend(e){const{start:t,end:i}=this._intlService.weekendRange(),n=e.getDay();return i<t?n<=i||t<=n:t<=n&&n<=i}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,i){return e<t&&this.isEqual(e,t)?vF(t):e>i&&this.isEqual(e,i)?vF(i):e}wideMonthNames(){return this._intlService.dateFormatNames({nameType:"wide",type:"months"})}};return e.\u0275fac=function(t){return new(t||e)(We(TT))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const TO=[[]],FO={[NA.Left]:e=>kF(e,-1),[NA.Up]:e=>{return kF(e,(t=e.getMonth())>4?-5:t<2?-2:-7);var t},[NA.Right]:e=>kF(e,1),[NA.Down]:e=>{return kF(e,(t=e.getMonth())<7?5:t<10?7:2);var t},[NA.PrevView]:e=>EF(e,-1),[NA.NextView]:e=>EF(e,1),[NA.FirstInView]:e=>jF(e),[NA.LastInView]:e=>UF(e)};let DO=(()=>{let e=class{constructor(e){this._intlService=e,this.dateRange=(e,t)=>{if(!GA(e)||!GA(t))return[];const i=[];let n=e;for(;n<=t;)i.push(n),n=kF(n,1);return i}}addToDate(e,t){return EF(e,t)}datesList(e,t){return iO(0,t).map(t=>EF(e,t))}data(e){const{cellUID:t,focusedDate:i,isActiveView:n,max:s,min:r,selectedDates:o,selectionRange:a=LA,viewDate:l}=e;if(!l)return TO;const c=this.abbrMonthNames(),h=jF(l),u=UF(l),d=h.getFullYear(),p=iO(0,4),f=aO();return iO(0,3).map(e=>{const l=kF(h,4*e);return p.map(e=>{const p=this.normalize(kF(l,e),r,s),g=d<p.getFullYear();if(!this.isInRange(p,r,s)||g)return null;const m=this.isEqual(p,a.start),v=this.isEqual(p,a.end),b=!m&&!v&&gO(p,a);return{formattedValue:c[p.getMonth()],id:`${t}${p.getTime()}`,isFocused:this.isEqual(p,i),isSelected:n&&o.some(e=>this.isEqual(p,e)),isWeekend:!1,isRangeStart:m,isRangeMid:b,isRangeEnd:v,isRangeSplitEnd:b&&this.isEqual(p,u),isRangeSplitStart:b&&this.isEqual(p,h),isToday:this.isEqual(p,f),title:this.cellTitle(p),value:p}})})}isEqual(e,t){return!(!e||!t)&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}isInArray(e,t){if(!t.length)return!1;const i=e.getFullYear();return t[0].getFullYear()<=i&&i<=t[t.length-1].getFullYear()}isInRange(e,t,i){const n=wF(e.getFullYear(),e.getMonth(),1),s=!t||wF(t.getFullYear(),t.getMonth(),1)<=n,r=!i||n<=wF(i.getFullYear(),i.getMonth(),1);return s&&r}beginningOfPeriod(e){return e?wF(e.getFullYear(),0,1):e}isRangeStart(e){return e.getFullYear()%10==0}move(e,t){const i=FO[t];return i?i(e):e}cellTitle(e){return`${e.getFullYear()} ${this.value(e)}`}navigationTitle(e){return this.title(e)}title(e){return e?e.getFullYear().toString():""}rowLength(){return 4}skip(e,t){return $F(t,e)}total(e,t){return $F(e,t)+1}value(e){return e?this.abbrMonthNames()[e.getMonth()]:""}viewDate(e,t,i=1){const n=this.total(e,t);return n<i?EF(e,-1*(i-n)):e}abbrMonthNames(){return this._intlService.dateFormatNames({nameType:"abbreviated",type:"months"})}normalize(e,t,i){return e<t&&this.isEqual(e,t)?vF(t):e>i&&this.isEqual(e,i)?vF(i):e}};return e.\u0275fac=function(t){return new(t||e)(We(TT))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();var AO=function(e){return e[e.month=0]="month",e[e.year=1]="year",e[e.decade=2]="decade",e[e.century=3]="century",e}({});const OO={[AO.month]:IO,[AO.year]:DO,[AO.decade]:kO,[AO.century]:CO};let RO=(()=>{let e=class{constructor(e){this.injector=e,this.viewChanged=new nc,this.bottom=AO.month,this.top=AO.century}configure(e,t){this.bottom=e,this.top=t}service(e){const t=OO[e];return t?this.injector.get(t):null}moveDown(e){this.move(e,-1)}moveUp(e){this.move(e,1)}moveToBottom(e){e!==this.bottom&&this.viewChanged.emit({view:this.bottom})}canMoveDown(e){return this.bottom<e}canMoveUp(e){return e<this.top}clamp(e){return e<this.bottom?this.bottom:e>this.top?this.top:e}move(e,t){const i=this.clamp(((e,t)=>{const i=AO[AO[e+t]];return void 0!==i?i:e})(e,t));i!==e&&this.viewChanged.emit({view:i})}};return e.\u0275fac=function(t){return new(t||e)(We(oo))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const PO=uO("div"),MO=uO("ul"),NO=uO("li"),LO=uO("td"),VO=uO("th"),HO=uO("tr"),BO=uO("tbody"),zO=uO("thead"),jO=uO("table"),UO=(e,t)=>new Array(e).fill("1").map(t),$O=e=>PO(e,"k-flex k-content k-calendar-content k-scrollable"),qO=(()=>{let e;return()=>Yb?(e||(e=PO([$O([MO([NO("<span>FEB</span>")])])],"k-calendar-navigation",{left:"0px",position:"absolute"})),e):null})(),GO=({cells:e,rows:t},i,n)=>{let s;return()=>Yb?(s||(s=((e,t,i)=>PO([PO('\n            <span class="k-button k-flat k-title k-calendar-title">March 2017</span>\n            <span class="k-spacer"></span>\n            <span class="k-calendar-nav k-hstack">\n                <span class="k-today k-nav-today">TODAY</span>\n            </span>\n        ',"k-calendar-header k-hstack"),i?jO([zO([HO([VO("MO","k-calendar-th")],"k-calendar-tr")],"k-calendar-thead")],"k-calendar-weekdays k-calendar-table"):null,$O([e,e])],t,{left:"-10000px",position:"absolute"}))(((e,t=1)=>jO([BO([HO([VO("1","k-calendar-th")],"k-calendar-tr")].concat(UO(e,()=>HO(UO(t,e=>LO(`<span class="k-link">${e}</span>`,"k-calendar-td")),"k-calendar-tr"))),"k-calendar-tbody")],"k-calendar-table"))(t,e),i,n)),s):null},KO=e=>e.querySelector(".k-scrollable"),WO=e=>(KO(e).classList.add("k-scrollable-horizontal"),e),ZO=GO({cells:7,rows:6},"k-vstack k-calendar-view k-calendar-monthview",!0),YO=GO({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-yearview",!1),QO=GO({cells:4,rows:3},"k-vstack k-calendar-view k-calendar-decadeview",!1),JO=e=>parseFloat(window.getComputedStyle(e).height)||e.offsetHeight,XO=e=>{const t=window.getComputedStyle(e);return parseFloat(t.width)+parseFloat(t.paddingLeft)+parseFloat(t.paddingRight)||e.offsetWidth},eR=e=>e.querySelector("tbody");let tR=(()=>{let e=class{ensureHeights(){void 0===this.calendarHeight&&this.calculateHeights()}calculateHeights(e){Yb()&&(this.hostContainer=e,this.batch(ZO(),e=>{const t=eR(e);this.calendarHeight=JO(e),this.monthViewHeight=JO(t),this.headerHeight=JO(t.children[0]),this.scrollableContentHeight=JO(KO(e))}),this.batch(WO(ZO()),e=>{const t=eR(e);this.calendarWidth=XO(e),this.monthViewWidth=XO(t),this.scrollableContentWidth=XO(KO(e))}),this.batch(YO(),e=>{this.yearViewHeight=JO(eR(e)),this.scrollableYearContentHeight=JO(KO(e))}),this.batch(WO(YO()),e=>{this.yearViewWidth=XO(eR(e))}),this.batch(QO(),e=>{this.decadeViewHeight=JO(eR(e)),this.centuryViewHeight=this.decadeViewHeight}),this.batch(WO(QO()),e=>{this.decadeViewWidth=XO(eR(e)),this.centuryViewWidth=this.decadeViewWidth}),this.batch(qO(),e=>{this.navigationItemHeight=JO(e.querySelector("li"))}))}viewHeight(e){return this.viewDimension(e,"height")}viewWidth(e){return this.viewDimension(e,"width")}viewDimension(e,t){const i="height"===t?"ViewHeight":"ViewWidth";switch(e){case AO.month:return this["month"+i];case AO.year:return this["year"+i];case AO.decade:return this["decade"+i];case AO.century:return this["century"+i];default:return 1}}batch(e,t){if(!GA(this.hostContainer))return;const i=this.hostContainer.cloneNode();document.body.appendChild(i);try{t(i.appendChild(e))}catch(n){throw n}finally{document.body.removeChild(i)}}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class iR{constructor(e=0,t,i){this.total=e,this.rowHeight=t,this.detailRowHeight=i,this.offsets=[],this.heights=[];let n=0;for(let s=0;s<e;s++)this.offsets.push(n),n+=t,this.heights.push(t)}height(e){return this.heights[e]}expandDetail(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}collapseDetail(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}index(e){if(e<0)return;const t=this.offsets.reduce((t,i,n)=>void 0!==t?t:i===e?n:i>e?n-1:void 0,void 0);return void 0===t?this.total-1:t}offset(e){return this.offsets[e]}totalHeight(){return this.heights.reduce((e,t)=>e+t,0)}updateRowHeight(e,t){this.heights[e]+=t,this.offsets=((e,t,i)=>[...e.slice(0,t+1),...e.slice(t+1).map(e=>e+i)])(this.offsets,e,t)}}const nR=e=>Math.max(e,0);class sR{constructor(e){this.offset=e}}class rR{constructor(e){this.skip=e}}class oR{constructor(e){this.scrollObservable=e,this.firstLoaded=0,this.bottomOffset=0,this.topOffset=0}create(e,t,i,n,s=0,r=0,o="vertical"){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=n,this.lastScroll=0,this.topOffset=s,this.bottomOffset=r,this.direction=o;const a=new XF(2),l=this.rowsForHeight(s),c=nR(t-l);return a.next(new sR(this.rowOffset(c))),l&&a.next(new rR(c)),this.subscription=new w(e=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(t=>this.onScroll(t,e))}).subscribe(e=>a.next(e)),a}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollLeft:e,scrollTop:t,offsetHeight:i,offsetWidth:n},s){const r="vertical"===this.direction?t:e,o="vertical"===this.direction?i:n;if(this.lastScroll===r)return;const a=this.lastScroll>=r;this.lastScroll=r;const l=this.rowHeightService.index(nR(r-this.topOffset)),c=this.rowHeightService.index(nR(r+o-this.bottomOffset));if(!a&&c>=this.lastLoaded&&this.lastLoaded<this.total&&(this.firstLoaded=l,s.next(new sR(this.rowOffset(l))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new rR(this.firstLoaded))),a&&l<=this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=nR(l-e),s.next(new sR(this.rowOffset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new rR(this.firstLoaded))}}rowOffset(e){return this.rowHeightService.offset(e)+this.topOffset}rowsForHeight(e){return Math.ceil(e/this.rowHeightService.height(0))}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=null)}}const aR=new Ve("dateinputs-scroll-service-factory");function lR(e){return new oR(e)}var cR=function(e){return e[e.Backward=0]="Backward",e[e.Forward=1]="Forward",e}({});const hR={[cR.Forward]:e=>t=>t+e,[cR.Backward]:e=>t=>t-e},uR={[cR.Forward]:e=>t=>Math.min(t,e),[cR.Backward]:e=>t=>Math.max(t,e)},dR={[cR.Forward]:e=>t=>t<e,[cR.Backward]:e=>t=>t>e};let pR=(()=>{let e=class{constructor(e,t,i,n){this.container=t,this.renderer=i,this.zone=n,this.direction="vertical",this.itemHeight=1,this.itemWidth=1,this.topOffset=0,this.bottomOffset=0,this.maxScrollDifference=100,this.scrollOffsetSize=0,this.scrollDuration=150,this.activeIndexChange=new nc,this.pageChange=new nc,this.scrollChange=new nc,this.wrapperClasses=!0,this.resolvedPromise=Promise.resolve(null),this.dispatcher=new _,this.scroller=e(this.dispatcher)}get horizontalClass(){return"horizontal"===this.direction}get totalVertexLength(){const e=this.totalSize+"px";return"vertical"===this.direction?{height:e}:{width:e}}get containerOffsetSize(){return this.getContainerProperty("vertical"===this.direction?"offsetHeight":"offsetWidth")}get containerScrollSize(){return this.getContainerProperty("vertical"===this.direction?"scrollHeight":"scrollWidth")}get containerScrollPosition(){return this.getContainerProperty("vertical"===this.direction?"scrollTop":"scrollLeft")}ngOnChanges(e){(e.direction||e.take||e.total)&&(this.initServices(),this.totalSize=this.rowHeightService.totalHeight()+this.bottomOffset)}ngOnInit(){this.rowHeightService||(this.rowHeightService=this.createRowHeightService())}ngAfterViewInit(){this.zone.runOutsideAngular(()=>{this.containerScrollSubscription=this.scroll$().pipe(L(e=>e.target)).subscribe(e=>{this.dispatcher.next(e),this.emitActiveIndex()})})}ngOnDestroy(){this.containerScrollSubscription&&this.containerScrollSubscription.unsubscribe(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.animationSubscription&&this.animationSubscription.unsubscribe()}getContainerProperty(e){return this.container.nativeElement[e]}activeIndex(){return this.itemIndex(Math.ceil(this.containerScrollPosition))}itemIndex(e){return this.rowHeightService.index(e)}itemOffset(e){return this.rowHeightService.offset(e)}isIndexVisible(e){if(!this.rowHeightService)return!1;const t=this.containerScrollPosition,i=t+this.containerOffsetSize,n=this.rowHeightService.offset(e),s=n+this.rowHeightService.height(e);return n>=t&&s<=i}isListScrolled(e){return this.containerScrollPosition!==this.rowHeightService.offset(e)}scrollTo(e){this.renderer.setProperty(this.container.nativeElement,"vertical"===this.direction?"scrollTop":"scrollLeft",e)}scrollToIndex(e){this.zone.runOutsideAngular(()=>{this.resolvedPromise.then(()=>{this.scrollTo(this.rowHeightService.offset(e))})})}scrollToBottom(){this.scrollTo(this.totalSize)}animateToIndex(e){this.animationSubscription&&this.animationSubscription.unsubscribe();const t=this.rowHeightService.offset(e),i=this.getContainerScrollDirection(t),{start:n,end:s}=this.scrollRange(t,i);if(n===s)return;const r=this.scrollStep(n,s),o=hR[i](r),a=uR[i](s),l=dR[i](o(s));this.zone.runOutsideAngular(()=>{this.animationSubscription=qf(jf(n),my(0,nD)).pipe(L(e=>e[0]),Eg(o),function(e,t=!1){return i=>i.lift(new sD(e,t))}(l),L(a)).subscribe(e=>this.scrollTo(e))})}scrollRange(e,t){const i=this.containerScrollPosition;if(parseInt(e,10)===parseInt(i,10))return{start:e,end:e};const n=this.containerMaxScroll(),s=t===cR.Backward?1:-1,r=(o=this.maxScrollDifference,Math.min(Math.abs(e-i),o));var o;const a=Math.min(e,n);return{start:Math.min(Math.max(a+s*r,0),n),end:a}}scrollStep(e,t){return Math.abs(t-e)/(this.scrollDuration/17)}scroll$(){return Yb()?Zb(this.container.nativeElement,"scroll"):Wf}initServices(){this.rowHeightService=this.createRowHeightService(),this.scrollSubscription&&this.scrollSubscription.unsubscribe(),this.scrollSubscription=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total,this.topOffset,this.scrollOffsetSize,this.direction).subscribe(e=>{e instanceof rR?this.pageChange.emit(e):this.scrollChange.emit(e)})}createRowHeightService(){return new iR(this.total,"vertical"===this.direction?this.itemHeight:this.itemWidth,0)}emitActiveIndex(){const e=this.rowHeightService.index(this.containerScrollPosition-this.topOffset);this.lastActiveIndex!==e&&(this.lastActiveIndex=e,this.activeIndexChange.emit(e))}containerMaxScroll(){return this.containerScrollSize-this.containerOffsetSize}getContainerScrollDirection(e){return e<this.containerScrollPosition?cR.Backward:cR.Forward}};return e.\u0275fac=function(t){return new(t||e)(Fo(aR),Fo(Ga),Fo(Ya),Fo(Wc))},e.\u0275cmp=pt({type:e,selectors:[["kendo-virtualization"]],hostVars:10,hostBindings:function(e,t){2&e&&oa("k-flex",t.wrapperClasses)("k-content",t.wrapperClasses)("k-calendar-content",t.wrapperClasses)("k-scrollable",t.wrapperClasses)("k-scrollable-horizontal",t.horizontalClass)},inputs:{direction:"direction",itemHeight:"itemHeight",itemWidth:"itemWidth",topOffset:"topOffset",bottomOffset:"bottomOffset",maxScrollDifference:"maxScrollDifference",scrollOffsetSize:"scrollOffsetSize",scrollDuration:"scrollDuration",skip:"skip",take:"take",total:"total"},outputs:{activeIndexChange:"activeIndexChange",pageChange:"pageChange",scrollChange:"scrollChange"},features:[ja([{provide:aR,useValue:lR}]),Oa],ngContentSelectors:oD,decls:2,vars:3,consts:[[1,"k-scrollable-placeholder",3,"ngStyle"]],template:function(e,t){1&e&&(Wo(),Zo(0),No(1,"div",0)),2&e&&(vs(1),oa("k-scrollable-horizontal-placeholder","horizontal"===t.direction),Oo("ngStyle",t.totalVertexLength))},directives:[Au],encapsulation:2}),e})();const fR=(e,t,i)=>{for(;e&&e!==i&&!t(e);)e=e.parentNode;if(e!==i)return e},gR=(e,t)=>{for(;e&&!t(e);)e=e.parentNode;return e};let mR=(()=>{let e=class{constructor(e,t,i,n,s){this.bus=e,this.dom=t,this.intl=i,this.cdr=n,this.renderer=s,this.min=new Date(HA),this.max=new Date(BA),this.focusedDate=new Date,this.valueChange=new nc,this.pageChange=new nc,this.dates=[],this.take=30,this.indexToScroll=-1}get getComponentClass(){return!0}ngOnInit(){this.dom.ensureHeights();const e=this.dom.calendarHeight;this.itemHeight=this.dom.navigationItemHeight,this.maxViewHeight=this.dom.monthViewHeight,this.topOffset=(e-this.itemHeight)/2,this.bottomOffset=e-this.itemHeight,this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.activeViewValue=AO[this.activeView];const t=rO(this.focusedDate,this.min,this.max),i=this.service.total(this.min,this.max),n=this.total&&this.total!==i;this.skip=this.service.skip(t,this.min),this.total=i,!n&&this.service.isInArray(t,this.dates)||(this.dates=this.service.datesList(t,this.getTake(this.skip))),(e.focusedDate||n)&&(this.indexToScroll=this.service.skip(this.focusedDate,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,i=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",i),this.renderer.setStyle(t,"-ms-transform",i)}handleDateChange(e){const t=fR(e.target,e=>e.hasAttribute("data-date-index"),this.list.nativeElement);if(t){const e=parseInt(t.getAttribute("data-date-index"),10);this.valueChange.emit(vF(this.dates[e]))}}getTake(e){return Math.min(this.total-e,this.take)}intlChange(){this.activeView===AO.month&&this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(RO),Fo(tR),Fo(TT),Fo($r),Fo(Ya))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-navigation"]],viewQuery:function(e,t){var i;1&e&&(mc(pR,!0),gc(aD,!0)),2&e&&(fc(i=Cc())&&(t.virtualization=i.first),fc(i=Cc())&&(t.list=i.first))},hostVars:2,hostBindings:function(e,t){2&e&&oa("k-calendar-navigation",t.getComponentClass)},inputs:{min:"min",max:"max",focusedDate:"focusedDate",activeView:"activeView",templateRef:"templateRef"},outputs:{valueChange:"valueChange",pageChange:"pageChange"},features:[Oa],decls:5,vars:12,consts:[[1,"k-calendar-navigation-highlight"],[3,"skip","take","total","itemHeight","topOffset","bottomOffset","maxScrollDifference","pageChange","scrollChange"],[1,"k-reset",3,"kendoEventsOutsideAngular","scope"],["list",""],[4,"kFor","kForOf"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(No(0,"span",0),Po(1,"kendo-virtualization",1),Uo("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)})),Po(2,"ul",2,3),Io(4,uD,4,11,"li",4),Mo(),Mo()),2&e&&(vs(1),Oo("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.itemHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset)("maxScrollDifference",t.maxViewHeight),vs(1),Oo("kendoEventsOutsideAngular",Ul(10,dD,t.handleDateChange))("scope",t),vs(2),Oo("kForOf",t.dates))},directives:function(){return[pR,ny,pP,ku,Ou]},encapsulation:2,changeDetection:0}),e})(),vR=(()=>{let e=class{constructor(e,t,i,n,s){this.bus=e,this.cdr=t,this.intl=i,this.dom=n,this.renderer=s,this.isActive=!0,this.min=new Date(HA),this.max=new Date(BA),this.selectedDates=[],this.cellClick=new nc,this.weekNumberCellClick=new nc,this.activeDateChange=new nc,this.todayButtonClick=new nc,this.pageChange=new nc,this.getComponentClass=!0,this.dates=[],this.cols=[],this.weekNames=[],this.take=5,this.animateToIndex=!0,this.indexToScroll=-1,this.minViewsToRender=1}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentMonthClass(){return this.activeView===AO.month}get getComponentYearClass(){return this.activeView===AO.year}get getComponentDecadeClass(){return this.activeView===AO.decade}get getComponentCenturyClass(){return this.activeView===AO.century}ngOnInit(){this.weekNames=this.getWeekNames(),this.bottomOffset=this.getBottomOffset(),this.viewOffset=-1*this.dom.headerHeight,this.viewHeight=this.dom.viewHeight(this.activeView),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}ngOnChanges(e){if(this.service=this.bus.service(this.activeView),!this.service)return;this.cols=new Array(this.service.rowLength({prependCell:this.weekNumber})).fill(""),this.colWidth=Math.round(100/this.cols.length),this.weekNames=dO(e,"weekNumber")&&this.weekNumber?this.getWeekNames():this.weekNames;const t=dO(e,"activeView"),i=this.focusedDate,n=rO(this.service.viewDate(i,this.max,this.minViewsToRender),this.min,this.max),s=this.service.total(this.min,this.max),r=this.total&&this.total!==s||!this.service.isInArray(i,this.dates);var o,a;this.skip=this.service.skip(n,this.min),this.total=s,this.animateToIndex=!t,this.bottomOffset=this.getBottomOffset(),this.viewHeight=this.dom.viewHeight(this.activeView),r&&(this.dates=this.service.datesList(n,this.getTake(this.skip))),a=i,(o=this.activeDate)&&a&&o.getFullYear()===a.getFullYear()&&o.getMonth()===a.getMonth()||(this.activeDate=vF(i));const l=dO(e,"focusedDate")||t;(r||l||this.virtualization.isIndexVisible(this.skip))&&(this.indexToScroll=this.service.skip(i,this.min))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe()}ngAfterViewInit(){-1!==this.indexToScroll&&(this.virtualization.scrollToIndex(this.indexToScroll),this.indexToScroll=-1)}ngAfterViewChecked(){-1!==this.indexToScroll&&(this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](this.indexToScroll),this.animateToIndex=!0,this.indexToScroll=-1)}onPageChange({skip:e}){this.dates=this.service.datesList(this.service.addToDate(this.min,e),this.getTake(e)),this.pageChange.emit()}scrollChange({offset:e}){const t=this.list.nativeElement,i=`translateY(${e}px)`;this.renderer.setStyle(t,"transform",i),this.renderer.setStyle(t,"-ms-transform",i)}setActiveDate(e){const t=this.service.addToDate(this.min,e);xF(this.activeDate,t)||(this.activeDate=t,this.activeDateChange.emit(t),this.cdr.detectChanges())}isMonthView(){return this.activeView===AO.month}isScrolled(){return this.virtualization.isListScrolled(this.service.skip(this.focusedDate,this.min))}getBottomOffset(){return this.getScrollableHeight()-this.dom.viewHeight(this.activeView)}getScrollableHeight(){return this.activeView===AO.month?this.dom.scrollableContentHeight:this.dom.scrollableYearContentHeight}getTake(e){return Math.min(this.total-e,this.take)}getWeekNames(){const e=hO(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return this.weekNumber?[""].concat(e):e}intlChange(){this.weekNames=this.getWeekNames(),this.isMonthView()&&this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(RO),Fo($r),Fo(TT),Fo(tR),Fo(Ya))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-viewlist"]],viewQuery:function(e,t){var i;1&e&&(mc(pR,!0),gc(aD,!0)),2&e&&(fc(i=Cc())&&(t.virtualization=i.first),fc(i=Cc())&&(t.list=i.first))},hostVars:12,hostBindings:function(e,t){2&e&&oa("k-vstack",t.getComponentClass)("k-calendar-view",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",weekNumber:"weekNumber",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",headerTitleTemplateRef:"headerTitleTemplateRef",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",activeDateChange:"activeDateChange",todayButtonClick:"todayButtonClick",pageChange:"pageChange"},features:[Oa],decls:8,vars:17,consts:[[3,"currentDate","min","max","activeView","templateRef","todayButtonClick"],["class","k-calendar-weekdays k-calendar-table","style","table-layout: auto;",4,"ngIf"],[3,"tabindex","skip","take","total","itemHeight","topOffset","bottomOffset","scrollOffsetSize","maxScrollDifference","pageChange","scrollChange","activeIndexChange"],[1,"k-calendar-table"],["list",""],[4,"ngFor","ngForOf"],["class","k-calendar-tbody","kendoCalendarView","","role","rowgroup",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick",4,"kFor","kForOf"],[1,"k-calendar-weekdays","k-calendar-table",2,"table-layout","auto"],[1,"k-calendar-thead"],[1,"k-calendar-tr"],["class","k-calendar-th",3,"width",4,"ngFor","ngForOf"],[1,"k-calendar-th"],["kendoCalendarView","","role","rowgroup",1,"k-calendar-tbody",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick"]],template:function(e,t){1&e&&(Po(0,"kendo-calendar-header",0),Uo("todayButtonClick",(function(e){return t.todayButtonClick.emit(e)})),Mo(),Io(1,fD,4,1,"table",1),Po(2,"kendo-virtualization",2),Uo("pageChange",(function(e){return t.onPageChange(e)}))("scrollChange",(function(e){return t.scrollChange(e)}))("activeIndexChange",(function(e){return t.setActiveDate(e)})),Po(3,"table",3,4),Po(5,"colgroup"),Io(6,gD,1,0,"col",5),Mo(),Io(7,mD,1,11,"tbody",6),Mo(),Mo()),2&e&&(Oo("currentDate",t.activeDate)("min",t.min)("max",t.max)("activeView",t.activeView)("templateRef",t.headerTitleTemplateRef),vs(1),Oo("ngIf",t.isMonthView()),vs(1),Oo("tabindex",-1)("skip",t.skip)("take",t.take)("total",t.total)("itemHeight",t.viewHeight)("topOffset",t.viewOffset)("bottomOffset",t.bottomOffset)("scrollOffsetSize",t.viewOffset)("maxScrollDifference",t.viewHeight),vs(4),Oo("ngForOf",t.cols),vs(1),Oo("kForOf",t.dates))},directives:function(){return[fP,ku,pR,xu,pP,gP]},encapsulation:2,changeDetection:0}),e})();const bR={33:NA.PrevView,34:NA.NextView,35:NA.LastInView,36:NA.FirstInView,37:NA.Left,38:NA.Up,39:NA.Right,40:NA.Down,"meta+38":NA.UpperView,"meta+40":NA.LowerView};let yR=(()=>{let e=class{constructor(e){this.bus=e}action(e){return bR[`${e.ctrlKey||e.metaKey?"meta+":""}${e.keyCode}`]}move(e,t,i){const n=this.bus.service(i);return n?t===NA.UpperView&&this.bus.canMoveUp(i)?(this.bus.moveUp(i),e):t===NA.LowerView&&this.bus.canMoveDown(i)?(this.bus.moveDown(i),e):n.move(e,t):e}};return e.\u0275fac=function(t){return new(t||e)(We(RO))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const wR=()=>!1;let CR=(()=>{let e=class{constructor(){this.changes=new _,this.isDateDisabled=wR}initialize(e){if("function"==typeof e)this.isDateDisabled=t=>e(CF(t));else if(t=e,Array.isArray(t)&&t.length>0&&t.every(e=>"number"==typeof e)){const t=new Set(e);this.isDateDisabled=e=>t.has(e.getDay())}else if((e=>Array.isArray(e)&&e.length>0&&e.every(e=>e instanceof Date))(e)){const t=new Set(e.map(e=>CF(e).getTime()));this.isDateDisabled=e=>t.has(CF(e).getTime())}else this.isDateDisabled=wR,this.notifyInvalidInput(e);var t;this.notifyServiceChange()}notifyInvalidInput(e){if(GA(e)&&Sn())throw new Error("The 'disabledDates' value should be a function, a Day array or a Date array. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/disabled-dates/ for more information.")}notifyServiceChange(){this.changes.next()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),xR=(()=>{let e=class{constructor(e){this.bus=e}performSelection(e){let{date:t,modifiers:i,selectionMode:n,activeViewEnum:s,rangePivot:r}=e,o=e.selectedDates.slice();if("multiple"===n)if(i.ctrlKey||i.metaKey)this.isDateSelected(o,t)?o=o.filter(e=>!xF(e,t)):o.push(t),r=t;else if(i.shiftKey){const[e,i]=[r||t,t].filter(e=>GA(e)).sort((e,t)=>e.getTime()-t.getTime());o=this.bus.service(s).dateRange(e,i),r=t>o[0]?o[0]:fO(o)}else o=[t],r=t;else o=[t],r=t;return{selectedDates:o,rangePivot:r}}isDateSelected(e,t){return e.some(e=>xF(e,t))}};return e.\u0275fac=function(t){return new(t||e)(We(RO))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),SR=(()=>{let e=class{constructor(e,t){this.dom=e,this.zone=t}configure(e){const t=Math.max(this.dom.viewHeight(e)/this.dom.navigationItemHeight,1);this.divideByMagnitude=(e=>t=>Math.floor(t/e))(t),this.powerByMagnitude=(e=>t=>t*e)(t)}sync(e,t){this.unsubscribe(),e&&t&&(this.navigator=e,this.view=t,this.zone.runOutsideAngular(()=>{let i,n;this.navSubscription=e.scroll$().subscribe(e=>{n?n=!1:(i=!0,this.scrollSiblingOf(e.target))}),this.viewSubscription=t.scroll$().subscribe(e=>{i?i=!1:(n=!0,this.scrollSiblingOf(e.target))})}))}scrollSiblingOf(e){const t=this.siblingComponent(e),i=this.calculateScroll(t,e.scrollTop);t.scrollTo(i)}siblingComponent(e){return this.navigator.container.nativeElement===e?this.view:this.navigator}calculateScroll(e,t){return(e===this.navigator?this.divideByMagnitude:this.powerByMagnitude)(t)}destroy(){this.unsubscribe()}unsubscribe(){this.navSubscription&&this.navSubscription.unsubscribe(),this.viewSubscription&&this.viewSubscription.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)(We(tR),We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),kR=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarCellTemplate",""]]}),e})(),_R=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarMonthCellTemplate",""]]}),e})(),ER=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarYearCellTemplate",""]]}),e})(),IR=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarDecadeCellTemplate",""]]}),e})(),TR=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarCenturyCellTemplate",""]]}),e})(),FR=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarWeekNumberCellTemplate",""]]}),e})(),DR=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarHeaderTitleTemplate",""]]}),e})(),AR=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarNavigationItemTemplate",""]]}),e})(),OR=(()=>{class e{constructor(){this.onFocus=new nc,this.onBlur=new nc,this.sameDateSelected=new nc,this.dateCompletenessChange=new nc}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const RR=e=>t=>e&&t.value&&t.value<e?{minError:{minValue:e,value:t.value}}:null,PR=e=>t=>e&&t.value&&t.value>e?{maxError:{maxValue:e,value:t.value}}:null,MR="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",NR=e=>e?e.virtualization:null,LR={multi:!0,provide:iw,useExisting:Se(()=>BR)},VR={multi:!0,provide:vw,useExisting:Se(()=>BR)},HR={provide:fy,useExisting:Se(()=>BR)};let BR=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,h,u,d){this.bus=e,this.dom=t,this.element=i,this.navigator=n,this.renderer=s,this.cdr=r,this.ngZone=o,this.injector=a,this.scrollSyncService=l,this.disabledDatesService=c,this.localization=h,this.selectionService=u,this.pickerService=d,this.id=ey(),this.rangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.navigation=!0,this.activeView=AO[AO.month],this.bottomView=AO[AO.month],this.topView=AO[AO.century],this.animateNavigation=!1,this.weekNumber=!1,this.activeViewChange=new nc,this.activeViewDateChange=new nc,this.valueChange=new nc,this.isActive=!1,this.cellUID=ey(),this.selectedDates=[],this._min=new Date(HA),this._max=new Date(BA),this._focusedDate=aO(),this.onControlChange=lO,this.onControlTouched=lO,this.onValidatorChange=lO,this.minValidateFn=lO,this.maxValidateFn=lO,this.syncNavigation=!0,this._type="infinite",this.domEvents=[],this.resolvedPromise=Promise.resolve(null),this.destroyed=!1,OC(MA),this.setClasses(i.nativeElement),this.pickerService&&(this.pickerService.calendar=this)}set focusedDate(e){this._focusedDate=e||aO(),this.setAriaActivedescendant()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(HA)}get min(){return this._min}set max(e){this._max=e||new Date(BA)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(e=>GA(e)).map(e=>vF(e)):vF(e);const t=[].concat(e).filter(e=>GA(e)).map(e=>vF(e));if(!mO(t,this.selectedDates)){const e=fO(t);this.rangePivot=vF(e),this.focusedDate=vF(e)||this.focusedDate,this.selectedDates=t}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set type(e){this.renderer.removeClass(this.element.nativeElement,"k-calendar-"+this.type),this.renderer.addClass(this.element.nativeElement,"k-calendar-"+e),this._type=e}get type(){return this._type}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}get activeViewEnum(){const e=AO[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return AO[this.bottomView]}get topViewEnum(){return AO[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}ngOnInit(){this.dom.calculateHeights(this.element.nativeElement),this.scrollSyncService.configure(this.activeViewEnum),this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.viewChangeSubscription=this.bus.viewChanged.subscribe(({view:e})=>this.handleActiveViewChange(AO[e])),this.control=this.injector.get(dw,null),this.element&&this.ngZone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),this.scrollSyncService.configure(this.activeViewEnum),pO(e,"focusedDate")&&(this.focusedDate=rO(e.focusedDate.currentValue,this.min,this.max)),e.navigation&&(this.syncNavigation=!0),(e.min||e.max||e.rangeValidation)&&(this.minValidateFn=this.rangeValidation?RR(this.min):lO,this.maxValidateFn=this.rangeValidation?PR(this.max):lO,this.onValidatorChange())}ngAfterViewInit(){this.setAriaActivedescendant()}ngAfterViewChecked(){this.syncNavigation&&(this.syncNavigation=!1,this.scrollSyncService.sync(NR(this.navigationView),NR(this.monthView)))}ngOnDestroy(){this.scrollSyncService.destroy(),this.viewChangeSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerService&&(this.pickerService.calendar=null),this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.destroyed=!0}onResize(){this.focusedDate=new Date(this.focusedDate),this.cdr.detectChanges()}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}containsElement(e){return Boolean(gR(e,e=>e===this.element.nativeElement))}handleNavigation(e){if(this.disabled)return;const t=e?new Date(vF(e).setDate(1)):this.focusedDate;this.focusedDate=rO(t,this.min,this.max),this.detectChanges()}onPageChange(){Wc.isInAngularZone()||(this.pageChangeSubscription&&this.pageChangeSubscription.unsubscribe(),this.pageChangeSubscription=z(this.resolvedPromise).subscribe(()=>{this.detectChanges()}))}handleMultiViewCalendarValueChange(e,t){const i=Array.isArray(e)?e:[e];this.handleDateChange({selectedDates:i,focusedDate:t})}handleDateChange(e){const t=Array.isArray(e.selectedDates)?e.selectedDates:[e.selectedDates],i=this.bus.canMoveDown(this.activeViewEnum),n=t.filter(e=>!this.disabledDatesService.isDateDisabled(e));this.focusedDate=e.focusedDate||this.focusedDate,this.disabled||(i||!mO(n,this.selectedDates)?i?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(this.focusedDate)||this.ngZone.run(()=>{this.selectedDates=n.map(e=>vF(e)),this.value=this.parseSelectionToValue(n),this.onControlChange(this.parseSelectionToValue(n)),this.valueChange.emit(this.parseSelectionToValue(n)),this.cdr.markForCheck()}):this.emitSameDate())}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case AO.month:return this.monthCellTemplate||this.cellTemplate;case AO.year:return this.yearCellTemplate;case AO.decade:return this.decadeCellTemplate;case AO.century:return this.centuryCellTemplate;default:return null}}emitEvent(e,t){Xb(e)&&this.ngZone.run(()=>{e.emit(t)})}handleActiveViewChange(e){this.activeView=e,this.emitEvent(this.activeViewChange,e),"infinite"===this.type&&this.scrollSyncService.configure(this.activeViewEnum),this.detectChanges()}handleCellClick({date:e,modifiers:t}){this.performSelection(e,t)}handleWeekNumberClick(e){"single"!==this.selection&&this.ngZone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:fO(e)})})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-"+this.type)}verifyChanges(){if(Sn()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if(Sn()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${MR} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(e=>e instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${MR} for possible resolution.`)}}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"blur",this.handleBlur.bind(this)),this.renderer.listen(e,"focus",this.handleFocus.bind(this)),this.renderer.listen(e,"mousedown",$A),this.renderer.listen(e,"click",this.handleComponentClick.bind(this)),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)))}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(){this.pickerService&&this.pickerService.onFocus.emit()}handleBlur(e){this.isActive=!1,!this.pickerService&&UA(this.control)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):(this.emitBlur(e),this.detectChanges())}handleFocus(){this.isActive=!0,Wc.isInAngularZone()||this.detectChanges(),this.emitFocus()}handleComponentClick(){this.isActive||("infinite"===this.type&&this.monthView.isScrolled()&&(this.focusedDate=vF(this.focusedDate),this.detectChanges()),this.focus())}handleKeydown(e){const t=-1!==[gy.ArrowUp,gy.ArrowRight,gy.ArrowDown,gy.ArrowLeft].indexOf(e.keyCode);if(GA(this.pickerService)&&t&&e.altKey)return;const i=rO(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);xF(this.focusedDate,i)||(this.focusedDate=i,this.detectChanges(),e.preventDefault()),e.keyCode===gy.Enter&&this.performSelection(this.focusedDate,e)}detectChanges(){this.destroyed||this.cdr.detectChanges()}emitSameDate(){this.pickerService&&this.pickerService.sameDateSelected.emit()}setAriaActivedescendant(){if(!GA(this.element))return;const e=this.cellUID+this.focusedDate.getTime();this.renderer.setAttribute(this.element.nativeElement,"aria-activedescendant",e)}parseSelectionToValue(e){return e=e||[],"single"===this.selection?vF(fO(e)):e.map(e=>vF(e))}performSelection(e,t){const i=this.selectionService.performSelection({date:e,modifiers:t,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=i.rangePivot,this.handleDateChange({selectedDates:i.selectedDates,focusedDate:e})}};return e.\u0275fac=function(t){return new(t||e)(Fo(RO),Fo(tR),Fo(Ga),Fo(yR),Fo(Ya),Fo($r),Fo(Wc),Fo(oo),Fo(SR),Fo(CR),Fo(Fy),Fo(xR),Fo(OR,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar"]],contentQueries:function(e,t,i){var n;1&e&&(yc(i,kR,!0),yc(i,_R,!0),yc(i,ER,!0),yc(i,IR,!0),yc(i,TR,!0),yc(i,FR,!0),yc(i,DR,!0),yc(i,AR,!0)),2&e&&(fc(n=Cc())&&(t.cellTemplate=n.first),fc(n=Cc())&&(t.monthCellTemplate=n.first),fc(n=Cc())&&(t.yearCellTemplate=n.first),fc(n=Cc())&&(t.decadeCellTemplate=n.first),fc(n=Cc())&&(t.centuryCellTemplate=n.first),fc(n=Cc())&&(t.weekNumberTemplate=n.first),fc(n=Cc())&&(t.headerTitleTemplate=n.first),fc(n=Cc())&&(t.navigationItemTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(mc(mR,!0),mc(vR,!0)),2&e&&(fc(i=Cc())&&(t.navigationView=i.first),fc(i=Cc())&&(t.monthView=i.first))},hostVars:8,hostBindings:function(e,t){2&e&&(_o("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled),oa("k-week-number",t.weekNumber)("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",selection:"selection",disabled:"disabled",tabindex:"tabindex",navigation:"navigation",activeView:"activeView",bottomView:"bottomView",topView:"topView",animateNavigation:"animateNavigation",weekNumber:"weekNumber",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",type:"type",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"]},outputs:{activeViewChange:"activeViewChange",activeViewDateChange:"activeViewDateChange",valueChange:"valueChange"},exportAs:["kendo-calendar"],features:[ja([RO,LR,VR,HR,Fy,CR,{provide:Ty,useValue:"kendo.calendar"},yR,SR,xR]),Oa],decls:4,vars:2,consts:[["kendoCalendarLocalizedMessages","",6,"today","prevButtonTitle","nextButtonTitle"],[4,"ngIf"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange",4,"ngIf"],[3,"activeView","isActive","cellTemplateRef","headerTitleTemplateRef","weekNumberTemplateRef","cellUID","min","max","focusedDate","weekNumber","selectedDates","todayButtonClick","cellClick","weekNumberCellClick","activeDateChange","pageChange"],[3,"resize"],[3,"activeView","focusedDate","min","max","templateRef","valueChange","pageChange"],[3,"views","min","max","isActive","activeView","bottomView","topView","weekNumber","animateNavigation","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","headerTitleTemplate","weekNumberTemplate","focusedDate","selection","value","disabledDates","activeViewChange","valueChange"],["multiviewcalendar",""],[3,"today","prevButtonTitle","nextButtonTitle"]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,vD),Vo(),Io(2,yD,4,12,"ng-container",1),Io(3,wD,4,23,"ng-container",1)),2&e&&(vs(2),Oo("ngIf","infinite"===t.type),vs(1),Oo("ngIf","classic"===t.type))},directives:function(){return[EP,ku,vR,dy,mR,uP,xP]},encapsulation:2,changeDetection:0}),e})();const zR=()=>(e,t)=>!GA(e.value)&&t?{incompleteDate:!0}:null;var jR,UR=function(e){return e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.None=2]="None",e}({});const $R=/year|month|<day>/,qR=/hour|minute|second|millisecond/,GR=/d|M|H|h|m|s/,KR=e=>e.replace(/^0*/,"");class WR{constructor(){this.symbols=""}}class ZR{constructor(e,t,i,n,s=68){if(this.intl=e,this.formatPlaceholder=t,this.format=i,this.twoDigitYearMax=s,this.year=!0,this.month=!0,this.date=!0,this.hours=!0,this.minutes=!0,this.seconds=!0,this.milliseconds=!0,this.leadingZero=null,this.monthNames=null,this.typedMonthPart="",this.value=CF(new Date),this.knownParts="adHhmMsSEy",this.symbols={E:"E",H:"H",M:"M",a:"a",d:"d",h:"h",m:"m",s:"s",S:"S",y:"y"},OC(MA),this.monthNames=this.allFormatedMonths(),this.dayPeriods=this.allDayPeriods(),n)this.value=vF(n);else{this.value=CF(new Date);const e=this.dateFormatString(this.value,this.format).symbols;for(let t=0;t<e.length;t++)this.setExisting(e[t],!1)}}hasValue(){return this.intl.splitDateFormat(this.format).reduce((e,t)=>e||"literal"!==t.type&&"dayperiod"!==t.type&&this.getExisting(t.pattern[0]),!1)}shouldNormalizeCentury(){return this.intl.splitDateFormat(this.format).some(e=>"yy"===e.pattern)}getDateObject(){for(let e=0;e<this.knownParts.length;e++)if(!this.getExisting(this.knownParts[e]))return null;return vF(this.value)}getTextAndFormat(e){return this.merge(this.intl.formatDate(this.value,e),this.dateFormatString(this.value,e))}getExisting(e){switch(e){case"y":return this.year;case"M":case"L":return this.month;case"d":return this.date;case"E":return this.date&&this.month&&this.year;case"h":case"H":return this.hours;case"m":return this.minutes;case"s":return this.seconds;case"S":return this.milliseconds;default:return!0}}setExisting(e,t){switch(e){case"y":this.year=t,!1===t&&this.value.setFullYear(2e3);break;case"M":this.month=t,!1===t&&this.value.setMonth(0);break;case"d":this.date=t;break;case"h":case"H":this.hours=t;break;case"m":this.minutes=t;break;case"s":this.seconds=t;break;case"S":this.milliseconds=t;break;default:return}}modifyPart(e,t){let i=vF(this.value);switch(e){case"y":i.setFullYear(i.getFullYear()+t);break;case"M":i=kF(this.value,t);break;case"d":case"E":i.setDate(i.getDate()+t);break;case"h":case"H":i.setHours(i.getHours()+t);break;case"m":i.setMinutes(i.getMinutes()+t);break;case"s":i.setSeconds(i.getSeconds()+t);break;case"S":i.setMilliseconds(i.getMilliseconds()+t);break;case"a":i.setHours(i.getHours()+12*t)}this.shouldNormalizeCentury()&&(i=this.normalizeCentury(i)),i.getFullYear()>0&&(this.setExisting(e,!0),this.value=i)}parsePart(e,t,i){if(!t)return this.resetLeadingZero(),this.setExisting(e,!1),{value:null,switchToNext:!1};let n=this.intl.formatDate(this.value,this.format),s=this.dateFormatString(this.value,this.format),r=s.symbols,o=!1,a="",l="",c="";for(let m=0;m<n.length;m++)r[m]===e?(l+=this.getExisting(e)?n[m]:"0",o=!0):o?c+=n[m]:a+=n[m];let h=l.length-3,u=null;const d=this.matchMonth(t),p=this.matchDayPeriod(t,e),f="0"===t,g=(this.leadingZero||{})[e]||0;f?0!==parseInt(i?t:l+t,10)||this.isAbbrMonth(s.partMap,e)||this.incrementLeadingZero(e):this.resetLeadingZero();for(let m=Math.max(0,h);m<=l.length;m++){let n=i?t:l.substring(m)+t;"S"===e&&i&&(n=Array(r.match(/S+(\1)/)[0].length).join("0")+n);let o=parseInt(n,10);if(u=this.intl.parseDate(a+n+c,this.format),!u&&!isNaN(o)&&!isNaN(parseInt(t,10))){if("M"===e&&!d){const e=o-1;e>-1&&e<12&&(u=vF(this.value),u.setMonth(e),u.getMonth()!==e&&(u=SF(kF(u,-1))))}"y"===e&&(u=wF(parseInt(n,10),this.month?this.value.getMonth():0,this.date?this.value.getDate():1,this.hours?this.value.getHours():0,this.minutes?this.value.getMinutes():0,this.seconds?this.value.getSeconds():0,this.milliseconds?this.value.getMilliseconds():0),this.date&&u.getDate()!==this.value.getDate()&&(u=SF(kF(u,-1))))}if(u){const i=this.partPattern(s.partMap,e).pattern,r=this.intl.parseDate(`${a}${this.peek(n,i)}${c}`,this.format),o=this.patternLength(i)||i.length,l=g+(KR(n)||t).length>=o,h=null===r||l;return this.shouldNormalizeCentury()&&(u=this.normalizeCentury(u)),this.value=u,this.setExisting(e,!0),{value:this.value,switchToNext:h}}}return d&&(u=this.intl.parseDate(a+d+c,this.format),u)?(this.value=u,this.setExisting(e,!0),{value:this.value,switchToNext:!1}):p&&(u=this.intl.parseDate(a+p+c,this.format),u)?(this.value=u,{value:this.value,switchToNext:!0}):(f&&this.setExisting(e,!1),{value:null,switchToNext:!1})}resetLeadingZero(){const e=null!==this.leadingZero;return this.setLeadingZero(null),e}setLeadingZero(e){this.leadingZero=e}normalizeCentury(e){if(!GA(e))return e;const t=(e=>!GA(e)||isNaN(e.getTime())?0:Number(e.getFullYear().toString().slice(-2)))(e),i=this.getNormalizedCenturyBase(t);return QA(e,i+t)}incrementLeadingZero(e){const t=this.leadingZero||{};t[e]=(t[e]||0)+1,this.leadingZero=t}isAbbrMonth(e,t){const i=this.partPattern(e,t);return"month"===i.type&&i.names}partPattern(e,t){return e.filter(e=>-1!==e.pattern.indexOf(t))[0]}peek(e,t){const i=KR(e)+"0";return(e=>new Array(Math.max(e,0)).fill("0").join(""))(t.length-i.length)+i}matchMonth(e){if(this.typedMonthPart+=e.toLowerCase(),!this.monthNames)return"";for(;this.typedMonthPart.length>0;){for(let t=0;t<this.monthNames.length;t++)if(0===this.monthNames[t].toLowerCase().indexOf(this.typedMonthPart))return this.monthNames[t];const e=parseInt(this.typedMonthPart,10);if(e>=1&&e<=12&&e.toString()===this.typedMonthPart)return this.monthNames[e-1];this.typedMonthPart=this.typedMonthPart.substring(1,this.typedMonthPart.length)}return""}matchDayPeriod(e,t){const i=String(e).toLowerCase();if("a"===t&&this.dayPeriods){if(this.dayPeriods.am.toLowerCase().startsWith(i))return this.dayPeriods.am;if(this.dayPeriods.pm.toLowerCase().startsWith(i))return this.dayPeriods.pm}return""}allFormatedMonths(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("month"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}allDayPeriods(){const e=this.intl.splitDateFormat(this.format);for(let t=0;t<e.length;t++)if("dayperiod"===e[t].type&&e[t].names)return this.intl.dateFormatNames(e[t].names);return null}patternLength(e){return"y"===e[0]?4:GR.test(e)?2:0}dateFormatString(e,t){const i=this.intl.splitDateFormat(t),n=[],s=[];for(let o=0;o<i.length;o++){let t=this.intl.formatDate(e,{pattern:i[o].pattern}).length;for(;t>0;)n.push(this.symbols[i[o].pattern[0]]||"_"),s.push(i[o]),t--}const r=new WR;return r.symbols=n.join(""),r.partMap=s,r}merge(e,t){let i="",n="",s=t.symbols;for(let r=s.length-1;r>=0;r--)if(-1===this.knownParts.indexOf(s[r])||this.getExisting(s[r]))i=e[r]+i,n=s[r]+n;else{const e=s[r];for(;r>=0&&e===s[r];)r--;for(r++,i=this.leadingZero&&this.leadingZero[e]?"0"+i:this.dateFieldName(t.partMap[r])+i;n.length<i.length;)n=s[r]+n}return[i,n]}dateFieldName(e){const t=this.formatPlaceholder||"wide";return t[e.type]?t[e.type]:"formatPattern"===t?e.pattern:this.intl.dateFieldName(Object.assign(e,{nameType:t}))}getNormalizedCenturyBase(e){return e>this.twoDigitYearMax?1900:2e3}}let YR=(()=>{let e=jR=class{constructor(e,t,i,n,s,r,o,a){this.cdr=e,this.intl=t,this.renderer=i,this.element=n,this.ngZone=s,this.injector=r,this.localization=o,this.pickerService=a,this.focusableId="k-"+ey(),this.disabled=!1,this.readonly=!1,this.title="",this.tabindex=0,this.role="spinbutton",this.ariaReadOnly=!1,this.format="d",this.placeholder=null,this.steps={},this.rangeValidation=!0,this.autoCorrect=!1,this.incompleteDateValidation=!1,this.twoDigitYearMax=68,this.spinners=!1,this.isPopupOpen=!1,this.hasPopup=!1,this.valueChange=new nc,this.valueUpdate=new nc,this.onFocus=new nc,this.onBlur=new nc,this.arrow=UR,this.arrowDirection=UR.None,this.formatSections={date:!1,time:!1},this.hasMousedown=!1,this.focusedPriorToMousedown=!1,this.isDateIncomplete=!1,this.currentValue="",this.currentFormat="",this.backspace=!1,this.resetSegmentValue=!0,this.minValidator=lO,this.maxValidator=lO,this.incompleteValidator=lO,this._value=null,this._active=!1,this.kendoDate=null,this.paste=!1,this.domEvents=[],this.onControlChange=lO,this.onControlTouched=lO,this.onValidatorChange=lO,this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections(),this.pickerService&&(this.pickerService.input=this)}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set value(e){this.verifyValue(e),this.autoCorrect&&!nO(e,this.min,this.max)||(this._value=vF(e),this.valueUpdate.emit(vF(e)))}get value(){return this._value}get wrapperClass(){return!0}get disabledClass(){return this.disabled}get inputElement(){return this.dateInput?this.dateInput.nativeElement:null}get inputValue(){return(this.inputElement||{}).value||""}get isActive(){return this._active}set isActive(e){if(this._active=e,this.wrap&&!GA(this.pickerService)){const t=this.wrap.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}}get inputFormat(){return this.format?"string"==typeof this.format?this.format:this.format.inputFormat:"d"}get displayFormat(){return this.format?"string"==typeof this.format?this.format:this.format.displayFormat:"d"}isEmpty(){return!this.currentValue||!String(this.currentValue).trim()}containsElement(e){return Boolean(gR(e,e=>e===this.element.nativeElement))}ngOnChanges(e){this.verifyRange(),(e.min||e.max||e.rangeValidation||e.incompleteDateValidation)&&(this.minValidator=this.rangeValidation?RR(this.min):lO,this.maxValidator=this.rangeValidation?PR(this.max):lO,this.incompleteValidator=this.incompleteDateValidation?zR():lO,this.onValidatorChange()),e.format&&(this.symbolsMap=this.dateSymbolMap(),this.updateFormatSections());const t=this.kendoDate&&xF(this.value,this.kendoDate.getDateObject());(e.format||!t||e.placeholder)&&(this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive))}ngOnDestroy(){this.intlSubscription&&this.intlSubscription.unsubscribe(),this.pickerService&&(this.pickerService.input=null),this.domEvents.forEach(e=>e())}validate(e){return this.minValidator(e)||this.maxValidator(e)||this.incompleteValidator(e,this.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}ngOnInit(){this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(),this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this)),this.ngControl=this.injector.get(dw,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.ngZone.runOutsideAngular(()=>{this.bindEvents()}))}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}writeValue(e){this.verifyValue(e),this.kendoDate=this.getKendoDate(e),this.value=vF(e),this.updateElementValue(this.isActive)}triggerChange(){const e=this.kendoDate.getDateObject();+e!=+this.value&&(this.value=vF(e),this.notify())}notify(){this.ngZone.run(()=>{this.onControlChange(vF(this.value)),this.valueChange.emit(vF(this.value))})}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}focus(){const e=this.inputElement;e&&(e.focus(),this.selectDateSegment(this.currentFormat[0]))}blur(){const e=this.inputElement;e&&e.blur()}handleButtonClick(e){this.arrowDirection=UR.None,this.modifyDateSegmentValue(e)}modifyDateSegmentValue(e){const t=this.caret(),i=this.currentFormat[t[0]];let n=(this.steps||{})[this.symbolsMap[i]]||1;if("S"===i&&!this.steps.millisecond){const e=(e=>{const t=e&&e.match(/S+(\1)/);return t?t[0].length:0})(this.inputFormat);n=Math.pow(10,3-e)}this.kendoDate.modifyPart(i,e*n),this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.selectDateSegment(i),this.updateIncompleteValidationStatus()}switchDateSegment(e){const t=this.caret();if(this.kendoDate.resetLeadingZero()&&this.updateElementValue(this.isActive),t[0]<t[1]&&this.currentFormat[t[0]]!==this.currentFormat[t[1]-1])return this.selectNearestSegment(e>0?t[0]:t[1]-1),this.resetSegmentValue=!0,!0;const i=this.currentFormat[t[0]];let n=t[0]+e;for(;n>0&&n<this.currentFormat.length&&(this.currentFormat[n]===i||"_"===this.currentFormat[n]);)n+=e;if("_"===this.currentFormat[n])return!1;let s=n;for(;s>=0&&s<this.currentFormat.length&&this.currentFormat[s]===this.currentFormat[n];)s+=e;return n>s&&(s+1!==t[0]||n+1!==t[1])?(this.caret(s+1,n+1),this.resetSegmentValue=!0,!0):n<s&&(n!==t[0]||s!==t[1])&&(this.caret(n,s),this.resetSegmentValue=!0,!0)}selectDateSegment(e){let t=-1,i=0;for(let n=0;n<this.currentFormat.length;n++)this.currentFormat[n]===e&&(i=n+1,-1===t&&(t=n));t<0&&(t=0),this.caret(0,0),this.caret(t,i)}handleClick(){if(this.hasMousedown=!1,this.isActive){const e=this.inputElement.selectionStart!==this.inputElement.selectionEnd,t=GA(this.placeholder)&&!this.kendoDate.hasValue()&&!this.focusedPriorToMousedown,i=!e&&t?0:this.caret()[0];this.selectNearestSegment(i)}}handleDragAndDrop(e){e.preventDefault()}handleMousedown(){this.hasMousedown=!0,this.focusedPriorToMousedown=this.isActive}handleFocus(e){this.isActive=!0,this.updateElementValue(),this.hasMousedown||this.caret(0,this.inputValue.length),this.hasMousedown=!1,Xb(this.onFocus)?this.ngZone.run(()=>{this.emitFocus(e)}):this.emitFocus(e)}handleBlur(e){this.isActive=!1,this.resetSegmentValue=!0,this.kendoDate.resetLeadingZero(),this.updateElementValue(),Xb(this.onBlur)||UA(this.ngControl)?this.ngZone.run(()=>{this.onControlTouched(),this.emitBlur(e),this.cdr.markForCheck()}):this.emitBlur(e)}getKendoDate(e){const{leadingZero:t}=this.kendoDate||{}||null,i=new ZR(this.intl,this.formatPlaceholder,this.inputFormat,e,this.twoDigitYearMax);return i.setLeadingZero(this.isActive?t:null),i}dateSymbolMap(){return this.intl.splitDateFormat(this.inputFormat).reduce((e,t)=>(e[t.pattern[0]]=t.type,e),{})}updateElementValue(e){const t=this.caret()[0],i=this.kendoDate.getTextAndFormat(this.isActive?this.inputFormat:this.displayFormat),n=!this.isActive&&GA(this.placeholder)&&!this.kendoDate.hasValue(),s=this.inputElement;this.currentFormat=i[1],this.currentValue=n?"":i[0],this.renderer.setProperty(s,"value",this.currentValue),s.placeholder!==this.placeholder&&this.renderer.setProperty(s,"placeholder",this.placeholder),e&&this.selectNearestSegment(t)}caret(e,t=e){const i=void 0!==e;let n=[e,e];const s=this.inputElement;if(!i||!this.disabled&&!this.readonly){try{void 0!==s.selectionStart&&(i&&(Yb()&&document.activeElement!==s&&s.focus(),s.setSelectionRange(e,t)),n=[s.selectionStart,s.selectionEnd])}catch(r){n=[]}return n}}selectNearestSegment(e){for(let t=e,i=e-1;t<this.currentFormat.length||i>=0;t++,i--){if(t<this.currentFormat.length&&"_"!==this.currentFormat[t])return void this.selectDateSegment(this.currentFormat[t]);if(i>=0&&"_"!==this.currentFormat[i])return void this.selectDateSegment(this.currentFormat[i])}}verifyRange(){if(Sn()&&!sO(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DateInputComponent/#toc-max.")}verifyValue(e){if(Sn()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/dateinput/#toc-using-with-json for possible resolution.")}putDateInRange(){const e=this.kendoDate.getDateObject(),t=rO(e,this.min,this.max);this.autoCorrect&&!xF(e,t)&&(this.kendoDate=this.getKendoDate(t))}updateFormatSections(){this.formatSections=this.intl.splitDateFormat(this.inputFormat).reduce(({date:e,time:t},i)=>({date:e||$R.test(i.type),time:t||qR.test(i.type)}),{date:!1,time:!1})}intlChange(){this.updateFormatSections(),this.kendoDate=this.getKendoDate(this.value),this.updateElementValue(this.isActive)}updateOnPaste(){let e=this.intl.parseDate(this.inputValue,this.inputFormat)||this.value;GA(e)&&this.kendoDate.shouldNormalizeCentury()&&(e=this.kendoDate.normalizeCentury(e));const t=+e!=+this.value;this.writeValue(e),t&&this.notify()}bindEvents(){const e=this.element.nativeElement,t=this.handleMouseWheel.bind(this);this.domEvents.push(this.renderer.listen(e,"DOMMouseScroll",t),this.renderer.listen(e,"mousewheel",t),this.renderer.listen(e,"keydown",this.handleKeydown.bind(this)),this.renderer.listen(e,"paste",this.handlePaste.bind(this)),this.renderer.listen(e,"input",this.handleInput.bind(this)))}handleMouseWheel(e){this.disabled||this.readonly||!this.isActive||((e=window.event||e).shiftKey?this.switchDateSegment((e.wheelDelta||-e.detail)>0?-1:1):this.modifyDateSegmentValue((e.wheelDelta||-e.detail)>0?1:-1),e.returnValue=!1,e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())}handlePaste(){this.paste=!0}handleKeydown(e){if(!(this.disabled||this.readonly||e.altKey||e.ctrlKey||e.metaKey))if(e.keyCode!==gy.Tab)if(e.keyCode!==gy.Backspace){switch(e.keyCode){case gy.ArrowDown:this.modifyDateSegmentValue(-1);break;case gy.ArrowUp:this.modifyDateSegmentValue(1);break;case gy.ArrowRight:this.switchDateSegment(1);break;case gy.ArrowLeft:this.switchDateSegment(-1);break;case gy.Home:this.selectNearestSegment(0);break;case gy.End:this.selectNearestSegment(this.inputValue.length);break;default:return}e.preventDefault()}else this.backspace=!0;else this.switchDateSegment(e.shiftKey?-1:1)&&e.preventDefault()}handleInput(){if(this.disabled||this.readonly)return;if(this.paste)return this.updateOnPaste(),void(this.paste=!1);const e=((e,t,i,n)=>{const s=n+e.length-i.length,r=e[s],o=e.substring(0,n+e.length-i.length),a=i.substring(0,n),l=[];if(o===a&&n>0)return l.push([t[n-1],a[n-1]]),l;if(0===o.indexOf(a)&&(0===a.length||t[a.length-1]!==t[a.length])){let e="";1===a.length&&l.push([t[0],a[0]]);for(let i=a.length;i<o.length;i++)t[i]!==e&&"_"!==t[i]&&(e=t[i],l.push([e,""]));return l}if(0===a.indexOf(o)||"_"===t[n-1]){let e=t[0];for(let i=Math.max(0,o.length-1);i<t.length;i++)if("_"!==t[i]){e=t[i];break}return[[e,a[n-1]]]}return" "===a[a.length-1]||a[a.length-1]===r&&"_"===t[s]?[[t[n-1],"_"]]:[[t[n-1],a[n-1]]]})(this.currentValue,this.currentFormat,this.inputValue,this.caret()[0]),t=1===e.length&&"_"===e[0][1];let i=!1;if(!t){let t;for(let s=0;s<e.length;s++)t=this.kendoDate.parsePart(e[s][0],e[s][1],this.resetSegmentValue),i=t.switchToNext;const n=this.kendoDate.getDateObject();this.value&&n&&!this.formatSections.date&&(this.kendoDate=this.getKendoDate(ZA(this.value,n)))}this.resetSegmentValue=!1,this.putDateInRange(),this.updateElementValue(this.isActive),this.triggerChange(),this.updateIncompleteValidationStatus(),e.length&&"_"!==e[0][0]&&this.selectDateSegment(e[0][0]),(i||t)&&this.switchDateSegment(1),this.backspace&&this.switchDateSegment(-1),this.backspace=!1}emitFocus(e){this.onFocus.emit(),this.pickerService&&this.pickerService.onFocus.emit(e)}emitBlur(e){this.onBlur.emit(),this.pickerService&&this.pickerService.onBlur.emit(e)}updateIncompleteValidationStatus(){const e=this.isDateIncomplete;this.isDateIncomplete=this.kendoDate.hasValue()&&null===this.value,e!==this.isDateIncomplete&&this.incompleteDateValidation&&(GA(this.ngControl)&&!GA(this.pickerService)?(this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())):GA(this.pickerService)&&this.pickerService.dateCompletenessChange.emit())}};return e.\u0275fac=function(t){return new(t||e)(Fo($r),Fo(TT),Fo(Ya),Fo(Ga),Fo(Wc),Fo(oo),Fo(Fy),Fo(OR,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dateinput"]],viewQuery:function(e,t){var i;1&e&&(gc(CD,!0),mc(xD,!0)),2&e&&(fc(i=Cc())&&(t.dateInput=i.first),fc(i=Cc())&&(t.wrap=i.first))},hostVars:6,hostBindings:function(e,t){2&e&&oa("k-widget",t.wrapperClass)("k-dateinput",t.wrapperClass)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",disabled:"disabled",readonly:"readonly",title:"title",tabindex:"tabindex",role:"role",ariaReadOnly:"ariaReadOnly",format:"format",placeholder:"placeholder",steps:"steps",rangeValidation:"rangeValidation",autoCorrect:"autoCorrect",incompleteDateValidation:"incompleteDateValidation",twoDigitYearMax:"twoDigitYearMax",spinners:"spinners",isPopupOpen:"isPopupOpen",hasPopup:"hasPopup",tabIndex:"tabIndex",value:"value",formatPlaceholder:"formatPlaceholder",max:"max",min:"min"},outputs:{valueChange:"valueChange",valueUpdate:"valueUpdate",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-dateinput"],features:[ja([{provide:iw,useExisting:Se(()=>jR),multi:!0},{provide:vw,useExisting:Se(()=>jR),multi:!0},{provide:Ty,useValue:"kendo.dateinput"},{provide:fy,useExisting:Se(()=>jR)},Fy]),Oa],decls:7,vars:21,consts:[["kendoDateInputLocalizedMessages","",6,"increment","decrement"],[1,"k-dateinput-wrap"],["wrap",""],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"k-input",3,"id","title","tabindex","disabled","readonly","placeholder","kendoEventsOutsideAngular","scope"],["dateInput",""],["class","k-select",3,"mousedown",4,"ngIf"],[1,"k-select",3,"mousedown"],[1,"k-link","k-link-increase",3,"title","mousedown","mouseleave","click"],[1,"k-icon","k-i-arrow-n"],[1,"k-link","k-link-decrease",3,"title","click","mousedown","mouseleave"],[1,"k-icon","k-i-arrow-s"]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,SD),Vo(),Po(2,"span",1,2),No(4,"input",3,4),Io(6,kD,5,8,"span",5),Mo()),2&e&&(vs(4),Oo("id",t.focusableId)("title",t.title)("tabindex",t.tabindex)("disabled",t.disabled)("readonly",t.readonly)("placeholder",t.placeholder)("kendoEventsOutsideAngular",function(e,t,i,n,s,r,o,a,l,c){const h=si()+13,u=Zt();let d=ko(u,h,i,n,s,r);return So(u,h+4,o,a,l)||d?yo(u,h+7,t(i,n,s,r,o,a,l)):wo(u,h+7)}(0,_D,t.handleClick,t.handleFocus,t.handleMousedown,t.handleMousedown,t.handleDragAndDrop,t.handleDragAndDrop,t.handleBlur))("scope",t),_o("role",t.role)("aria-readonly",t.ariaReadOnly)("aria-expanded",t.isPopupOpen)("aria-haspopup",t.hasPopup),vs(2),Oo("ngIf",t.spinners))},directives:function(){return[PP,ny,ku]},encapsulation:2,changeDetection:0}),e})();class QR{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}const JR=new Ve("dateinputs-touch-enabled"),XR=e=>t=>e&&t.value&&e(t.value)?{disabledDate:!0}:null;var eP;let tP=(()=>{let e=eP=class{constructor(e,t,i,n,s,r,o,a,l,c){this.zone=e,this.localization=t,this.cdr=i,this.popupService=n,this.element=s,this.renderer=r,this.injector=o,this.pickerService=a,this.disabledDatesService=l,this.touchEnabled=c,this.focusableId="k-"+ey(),this.activeView=AO[AO.month],this.bottomView=AO[AO.month],this.topView=AO[AO.century],this.calendarType="infinite",this.animateCalendarNavigation=!1,this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.navigation=!0,this.min=vF(HA),this.max=vF(BA),this.incompleteDateValidation=!1,this.focusedDate=null,this.format="d",this.twoDigitYearMax=68,this.placeholder=null,this.tabindex=0,this.title="",this.rangeValidation=!0,this.disabledDatesValidation=!0,this.weekNumber=!1,this.valueChange=new nc,this.onFocus=new nc,this.onBlur=new nc,this.open=new nc,this.close=new nc,this.wrapperClasses=!0,this.popupUID=ey(),this._popupSettings={animate:!0},this._show=!1,this._value=null,this._active=!1,this.onControlChange=lO,this.onControlTouched=lO,this.onValidatorChange=lO,this.minValidateFn=lO,this.maxValidateFn=lO,this.disabledDatesValidateFn=lO,this.incompleteValidator=lO,this.resolvedPromise=Promise.resolve(null),this.domEvents=[],OC(MA),this.pickerSubscriptions=this.pickerService.onFocus.subscribe(this.handleFocus.bind(this)),this.pickerSubscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.pickerSubscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleSameSelection.bind(this))),this.pickerSubscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this)))}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}set navigationItemTemplateRef(e){this.navigationItemTemplate=e}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set value(e){this.verifyValue(e),this._value=vF(e)}get value(){return this._value}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}get disabledClass(){return this.disabled}get inputRole(){return this.readOnlyInput?"listbox":"spinbutton"}get isActive(){return this._active}set isActive(e){if(this._active=e,!this.wrapper)return;const t=this.wrapper.nativeElement;e?this.renderer.addClass(t,"k-state-focused"):this.renderer.removeClass(t,"k-state-focused")}get show(){return this._show}set show(e){e&&(this.disabled||this.readonly)||(e||this._show&&Xb(this.close)?this.zone.run(()=>{this.togglePopup(e)}):this.togglePopup(e))}isEmpty(){return!this.value&&this.input.isEmpty()}ngOnInit(){this.localizationChangeSubscription=this.localization.changes.subscribe(()=>this.cdr.markForCheck()),this.control=this.injector.get(dw,null),this.element&&(this.renderer.removeAttribute(this.element.nativeElement,"tabindex"),this.zone.runOutsideAngular(()=>{this.bindEvents()}))}ngOnChanges(e){this.verifySettings(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?RR(this.min):lO,this.maxValidateFn=this.rangeValidation?PR(this.max):lO,this.disabledDatesValidateFn=this.disabledDatesValidation?XR(this.disabledDatesService.isDateDisabled):lO,this.incompleteValidator=this.incompleteDateValidation?zR():lO,this.onValidatorChange())}ngOnDestroy(){this.isActive=!1,this.show=!1,this.localizationChangeSubscription&&this.localizationChangeSubscription.unsubscribe(),this.windowBlurSubscription&&this.windowBlurSubscription.unsubscribe(),this.domEvents.forEach(e=>e()),this.pickerSubscriptions.unsubscribe()}get isOpen(){return this.show}writeValue(e){this.verifyValue(e),this.value=vF(e),this.cdr.markForCheck(),!e&&this.input&&(this.input.placeholder=this.placeholder,this.input.writeValue(e))}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.input&&this.input.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}focus(){this.input.focus()}blur(){(this.calendar||this.input).blur()}toggle(e){this.disabled||this.readonly||this.resolvedPromise.then(()=>{this._toggle(void 0===e?!this.show:e)})}handleIconClick(e){this.disabled||this.readonly||(e.preventDefault(),this.focusInput(),this.handleFocus(),this.show=!this.show,this.cdr.markForCheck())}handleMousedown(e){e.preventDefault()}handleChange(e){this.cdr.markForCheck(),this.focusInput(),this.value=e,this.show=!1,this.onControlChange(vF(e)),this.valueChange.emit(vF(e))}handleInputChange(e){this.handleChange(this.input.formatSections.time?e:this.mergeTime(e))}get popupClasses(){return["k-calendar-container","k-group","k-reset"].concat(this.popupSettings.popupClass||[])}get appendTo(){const{appendTo:e}=this.popupSettings;if(e&&"root"!==e)return"component"===e?this.container:e}get input(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}mergeTime(e){return this.value&&e?ZA(e,this.value):e}handleKeydown(e){const{altKey:t,keyCode:i}=e;i===gy.Escape&&(this.show=!1),t&&(i!==gy.ArrowDown||this.show||(this.show=!0),i===gy.ArrowUp&&(this.show=!1)),i===gy.Tab&&this.show&&this.calendar.isActive&&(this.input.focus(),this.show=!1)}togglePopup(e){const t=new QR;!this._show&&e?this.open.emit(t):this._show&&!e&&this.close.emit(t),t.isDefaultPrevented()||(this._toggle(e),this.toggleFocus())}_toggle(e){if(e!==this._show)if(this._show=e,e){const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,anchorAlign:{vertical:"bottom",horizontal:e},animate:this.popupSettings.animate,appendTo:this.appendTo,content:this.popupTemplate,popupAlign:{vertical:"top",horizontal:e},popupClass:this.popupClasses,positionMode:"absolute"}),this.popupRef.popupElement.setAttribute("id",this.popupUID),this.subscription=this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.show=!1)}else this.popupRef.close(),this.popupRef=null,this.subscription.unsubscribe()}focusInput(){this.touchEnabled||this.input.focus()}toggleFocus(){this.isActive&&(this.show?(this.calendar||this.cdr.detectChanges(),this.calendar&&this.calendar.focus()):this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}verifySettings(){if(Sn()&&!sO(this.min,this.max))throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/DatePickerComponent/#toc-max.")}verifyValue(e){if(Sn()&&e&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check http://www.telerik.com/kendo-angular-ui/components/dateinputs/datepicker/#toc-using-with-json for possible resolution.")}bindEvents(){this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this))),cO()&&(this.windowBlurSubscription=Zb(window,"blur").subscribe(this.handleWindowBlur.bind(this)))}handleFocus(){this.isActive||(this.isActive=!0,Xb(this.onFocus)&&this.zone.run(()=>{this.onFocus.emit()}))}handleWindowBlur(){this.isOpen&&(this.show=!1)}handleBlur(e){const t=e&&qA(e);t&&(this.input.containsElement(t)||this.calendar&&this.calendar.containsElement(t))||(Xb(this.onBlur)||this.show&&Xb(this.close)||UA(this.control)?this.zone.run(()=>{this.blurComponent(),this.cdr.markForCheck()}):this.blurComponent())}blurComponent(){this.isActive=!1,this.show=!1,this.cdr.detectChanges(),this.onControlTouched(),this.onBlur.emit()}handleSameSelection(){this.show&&(this.focusInput(),this.show=!1)}handleDateCompletenessChange(){this.cdr.markForCheck(),this.zone.run(()=>this.onValidatorChange())}};return e.\u0275fac=function(t){return new(t||e)(Fo(Wc),Fo(Fy),Fo($r),Fo(OS),Fo(Ga),Fo(Ya),Fo(oo),Fo(OR),Fo(CR),Fo(JR,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-datepicker"]],contentQueries:function(e,t,i){var n;1&e&&(bc(i,kR,!0),bc(i,_R,!0),bc(i,ER,!0),bc(i,IR,!0),bc(i,TR,!0),bc(i,FR,!0),bc(i,DR,!0),bc(i,AR,!0)),2&e&&(fc(n=Cc())&&(t.cellTemplate=n.first),fc(n=Cc())&&(t.monthCellTemplate=n.first),fc(n=Cc())&&(t.yearCellTemplate=n.first),fc(n=Cc())&&(t.decadeCellTemplate=n.first),fc(n=Cc())&&(t.centuryCellTemplate=n.first),fc(n=Cc())&&(t.weekNumberTemplate=n.first),fc(n=Cc())&&(t.headerTitleTemplate=n.first),fc(n=Cc())&&(t.navigationItemTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(gc(ED,!0,bl),gc(ID,!0),mc(TD,!0)),2&e&&(fc(i=Cc())&&(t.container=i.first),fc(i=Cc())&&(t.popupTemplate=i.first),fc(i=Cc())&&(t.wrapper=i.first))},hostVars:6,hostBindings:function(e,t){2&e&&oa("k-widget",t.wrapperClasses)("k-datepicker",t.wrapperClasses)("k-state-disabled",t.disabledClass)},inputs:{focusableId:"focusableId",activeView:"activeView",bottomView:"bottomView",topView:"topView",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",navigation:"navigation",min:"min",max:"max",incompleteDateValidation:"incompleteDateValidation",focusedDate:"focusedDate",format:"format",twoDigitYearMax:"twoDigitYearMax",placeholder:"placeholder",tabindex:"tabindex",title:"title",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",weekNumber:"weekNumber",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],navigationItemTemplateRef:["navigationItemTemplate","navigationItemTemplateRef"],popupSettings:"popupSettings",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",formatPlaceholder:"formatPlaceholder"},outputs:{valueChange:"valueChange",onFocus:"focus",onBlur:"blur",open:"open",close:"close"},exportAs:["kendo-datepicker"],features:[ja([{provide:iw,useExisting:Se(()=>eP),multi:!0},{provide:vw,useExisting:Se(()=>eP),multi:!0},{provide:fy,useExisting:Se(()=>eP)},Fy,OR,CR,{provide:Ty,useValue:"kendo.datepicker"}]),Oa],decls:12,vars:26,consts:[["kendoDatePickerLocalizedMessages","",6,"today","toggle","prevButtonTitle","nextButtonTitle"],[1,"k-picker-wrap"],["wrapper",""],[3,"role","focusableId","hasPopup","isPopupOpen","disabled","readonly","ariaReadOnly","tabindex","title","format","twoDigitYearMax","formatPlaceholder","placeholder","min","max","incompleteDateValidation","value","valueChange"],["input",""],["role","button",1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-icon","k-i-calendar"],["container",""],["popupTemplate",""],[3,"type","min","max","navigation","animateNavigation","activeView","bottomView","topView","weekNumber","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","navigationItemTemplate","focusedDate","value","kendoEventsOutsideAngular","scope","disabledDates","valueChange"],["calendar",""],[3,"today","prevButtonTitle","nextButtonTitle"]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,FD),Vo(),Po(2,"span",1,2),Po(4,"kendo-dateinput",3,4),Uo("valueChange",(function(e){return t.handleInputChange(e)})),Mo(),Po(6,"span",5),No(7,"span",6),Mo(),Mo(),Ho(8,null,7),Io(10,OD,4,27,"ng-template",null,8,_c)),2&e&&(vs(2),oa("k-state-disabled",t.disabled),vs(2),Oo("role",t.inputRole)("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.show)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("ariaReadOnly",t.readonly)("tabindex",t.tabindex)("title",t.title)("format",t.format)("twoDigitYearMax",t.twoDigitYearMax)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("incompleteDateValidation",t.incompleteDateValidation)("value",t.value),vs(2),Oo("kendoEventsOutsideAngular",$l(23,RD,t.handleIconClick,t.handleMousedown))("scope",t),_o("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")))},directives:function(){return[VP,YR,ny,BR,TP]},encapsulation:2,changeDetection:0}),e})();var iP;const nP=new RegExp("hour|minute|second|dayperiod|literal");let sP=(()=>{let e=iP=class{constructor(e,t,i,n,s,r,o,a,l,c){this.popupService=e,this.intl=t,this.cdr=i,this.pickerService=n,this.ngZone=s,this.host=r,this.touchEnabled=o,this.localization=a,this.disabledDatesService=l,this.renderer=c,this.hostClasses=!0,this.twoDigitYearMax=68,this.focusableId="k-"+ey(),this.title="",this.disabled=!1,this.readonly=!1,this.readOnlyInput=!1,this.cancelButton=!0,this.steps={},this.calendarType="infinite",this.animateCalendarNavigation=!1,this.weekNumber=!1,this.rangeValidation=!0,this.disabledDatesValidation=!0,this.incompleteDateValidation=!1,this.valueChange=new nc,this.open=new nc,this.close=new nc,this.onFocus=new nc,this.onBlur=new nc,this.activeTab="date",this.timeSelectorFormat="t",this.timeSelectorMin=vF(zA),this.timeSelectorMax=vF(jA),this.calendarValue=null,this.calendarMin=vF(HA),this.calendarMax=bO(BA),this._popupSettings={animate:!0},this._value=null,this._format="g",this._tabindex=0,this._defaultTab="date",this._min=vO(HA,zA),this._max=vO(BA,jA),this._isActive=!1,this.onControlTouched=lO,this.onControlChange=lO,this.onValidatorChange=lO,this.minValidateFn=lO,this.maxValidateFn=lO,this.disabledDatesValidateFn=lO,this.incompleteValidator=lO,this.subscriptions=new u,OC(MA)}get input(){return this.pickerService.input}get calendar(){return this.pickerService.calendar}get timeSelector(){return this.pickerService.timeSelector}set value(e){this.verifyValue(e),this._value=vF(e),this.setCalendarValue(e),this.cdr.markForCheck()}get value(){return this._value}set format(e){this._format=e;const t=this.getDisplayFormat(e);this.timeSelectorFormat=this.getTimeSelectorFormat(t)}get format(){return this._format}set tabindex(e){const t=Number(e);this._tabindex=isNaN(t)?0:t}get tabindex(){return this.disabled?-1:this._tabindex}set disabledDates(e){this._disabledDates=e,this.disabledDatesService.initialize(e)}get disabledDates(){return this._disabledDates}set popupSettings(e){this._popupSettings=Object.assign({},{animate:!0},e)}get popupSettings(){return this._popupSettings}set min(e){GA(e)&&(this._min=vF(e),this.calendarMin=CF(e))}get min(){return this._min}set max(e){GA(e)&&(this._max=vF(e),this.calendarMax=bO(e))}get max(){return this._max}get isOpen(){return GA(this.popupRef)}get isActive(){return this._isActive}set isActive(e){e?this.renderer.addClass(this.wrapper.nativeElement,"k-state-focused"):this.renderer.removeClass(this.wrapper.nativeElement,"k-state-focused"),this._isActive=e}set defaultTab(e){this._defaultTab=e||"date",this.activeTab=this.defaultTab}get defaultTab(){return this._defaultTab}get tabSwitchTransition(){return this.isOpen?null:"none"}get disableCalendar(){return"date"!==this.activeTab&&!this.calendar.isActive}get inputRole(){return this.readOnlyInput?"listbox":"spinbutton"}get disableTimeSelector(){return"time"!==this.activeTab&&!this.timeSelector.isActive}get activeTabComponent(){if(this.isOpen)return GA(this.calendar)||GA(this.timeSelector)||this.cdr.detectChanges(),"date"===this.activeTab?this.calendar:this.timeSelector}get appendTo(){const{appendTo:e}=this.popupSettings;if(GA(e)&&"root"!==e)return"component"===e?this.container:e}ngOnInit(){this.subscriptions.add(this.pickerService.onFocus.pipe(Ag(this.detectPopupChanges.bind(this))).subscribe(this.handleFocus.bind(this))),this.subscriptions.add(this.pickerService.onBlur.subscribe(this.handleBlur.bind(this))),this.subscriptions.add(this.pickerService.sameDateSelected.subscribe(this.handleCalendarValueChange.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.subscriptions.add(this.pickerService.dateCompletenessChange.subscribe(this.handleDateCompletenessChange.bind(this))),cO()&&this.subscriptions.add(this.ngZone.runOutsideAngular(()=>Zb(window,"blur").subscribe(this.handleCancel.bind(this))))}ngOnChanges(e){(GA(e.min)||GA(e.max))&&this.verifyMinMaxRange(),(e.min||e.max||e.rangeValidation||e.disabledDatesValidation||e.disabledDates||e.incompleteDateValidation)&&(this.minValidateFn=this.rangeValidation?RR(this.min):lO,this.maxValidateFn=this.rangeValidation?PR(this.max):lO,this.disabledDatesValidateFn=this.disabledDatesValidation?XR(this.disabledDatesService.isDateDisabled):lO,this.incompleteValidator=this.incompleteDateValidation?zR():lO,this.onValidatorChange())}ngOnDestroy(){this.isOpen&&this.closePopup(),this.subscriptions.unsubscribe()}focus(){this.disabled||(this.isOpen?this.activeTabComponent.focus():this.input.focus())}blur(){this.isOpen&&this.activeTabComponent.isActive?this.activeTabComponent.blur():this.input.blur()}toggle(e){this.disabled||this.readonly||e===this.isOpen||((GA(e)?e:!this.isOpen)?this.openPopup():(this.closePopup(),this.activeTab!==this.defaultTab&&(this.activeTab=this.defaultTab,this.cdr.detectChanges())))}writeValue(e){this.value=e}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesValidateFn(e)||this.incompleteValidator(e,this.input&&this.input.isDateIncomplete)}registerOnValidatorChange(e){this.onValidatorChange=e}isEmpty(){return!GA(this.value)&&this.input.isEmpty()}handleIconClick(e){if(this.disabled||this.readonly)return;e.preventDefault();const t=!this.isOpen||Xb(this.close);this.run(t,()=>{const e=!this.isOpen;this.handleFocus(),this.togglePopup(e),this.switchFocus()})}handleFocus(){this.isActive||(this.isActive=!0,Xb(this.onFocus)&&this.ngZone.run(()=>this.onFocus.emit()))}handleBlur(e){if(!this.isActive||this.focusTargetInComponent(e))return;this.isActive=!1;const t=this.host.nativeElement.classList.contains("ng-untouched")||Xb(this.onBlur)||this.isOpen&&Xb(this.close);this.run(t,()=>{this.onBlur.emit(),this.onControlTouched(),this.togglePopup(!1),this.cdr.markForCheck()})}changeActiveTab(e){this.isOpen&&this.activeTab!==e&&(xF(this.timeSelector.value,this.timeSelector.current)||this.timeSelector.handleAccept(),this.activeTab=e,this.cdr.detectChanges(),this.detectPopupChanges())}handleTabChangeTransitionEnd(e,t){t.target===e&&this.activeTabComponent.focus()}handleAccept(){if(!this.isOpen)return;const e=vO(this.calendar.value,this.timeSelector.current),t=!xF(this.value,e)||Xb(this.close);this.run(t,()=>{this.handleValueChange(e),this.togglePopup(!1)})}handleCancel(){if(!this.isOpen)return;const e=Xb(this.close);this.run(e,()=>this.togglePopup(!1))}handleInputValueChange(e){this.handleValueChange(e),this.isOpen&&this.togglePopup(!1)}handleCalendarValueChange(){this.setTimeSelectorMinMax(this.calendar.value),this.changeActiveTab("time")}handleKeyDown(e){if(this.disabled||this.readonly)return;const{keyCode:t,altKey:i}=e;switch(t){case i&&gy.ArrowUp:case gy.Escape:this.handleCancel();break;case!this.isOpen&&i&&gy.ArrowDown:this.ngZone.run(()=>this.togglePopup(!0));break;case i&&gy.ArrowRight:this.changeActiveTab("time");break;case i&&gy.ArrowLeft:this.changeActiveTab("date");break;case this.isOpen&&this.timeSelector.isActive&&GA(this.calendarValue)&&gy.Enter:this.handleAccept();break;default:return}e.preventDefault()}handleTabOut(e){const{keyCode:t,shiftKey:i,target:n}=e,s=GA(n.nextElementSibling)&&!n.nextElementSibling.disabled;t!==gy.Tab||i||s||(this.input.focus(),this.handleCancel())}handleBackTabOut(e){const{keyCode:t,shiftKey:i}=e;t===gy.Tab&&i&&this.input.focus()}preventMouseDown(e){e.preventDefault()}verifyValue(e){if(Sn()&&GA(e)&&!(e instanceof Date))throw new Error("The 'value' should be a valid JavaScript Date instance. Check https://www.telerik.com/kendo-angular-ui/components/dateinputs/datetimepicker/integration-with-json/ for possible resolution.")}verifyMinMaxRange(){if(Sn()&&!sO(this.min,this.max))throw new Error("The max value should be bigger than the min. See https://www.telerik.com/kendo-angular-ui/components/dateinputs/datetimepicker/date-time-limits/.")}getTimeSelectorFormat(e){return this.intl.splitDateFormat(e).filter(this.timeFormatPartFilter).reduce((e,t)=>e+t.pattern,"")||"t"}getDisplayFormat(e){return e?"string"==typeof e?e:e.displayFormat:"g"}timeFormatPartFilter(e,t,i){const n=t>=1&&i[t-1];return nP.test(n&&"literal"===e.type?n.type:e.type)}togglePopup(e){if(e===this.isOpen)return;const t=new QR;e?this.open.emit(t):this.close.emit(t),t.isDefaultPrevented()||(this.toggle(e),this.switchFocus())}switchFocus(){this.isActive&&(this.isOpen?this.activeTabComponent.focus():this.touchEnabled?this.input.isActive||this.handleBlur():this.input.focus())}openPopup(){this.setCalendarValue(this.value),this.setTimeSelectorMinMax(this.value);const e=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:this.wrapper,content:this.popupTemplate,positionMode:"absolute",animate:this.popupSettings.animate,appendTo:this.appendTo,popupClass:"k-datetime-container "+(this.popupSettings.popupClass||""),anchorAlign:{vertical:"bottom",horizontal:e},popupAlign:{vertical:"top",horizontal:e}}),this.popupRef.popupAnchorViewportLeave.subscribe(()=>this.handleCancel())}closePopup(){this.isOpen&&(this.popupRef.close(),this.popupRef=null)}handleValueChange(e){xF(this.value,e)||(this.value=vF(e),this.onControlChange(vF(e)),this.valueChange.emit(vF(e)))}focusTargetInComponent(e){if(!GA(e))return!1;const t=e.relatedTarget||document.activeElement,i=GA(this.popupRef)&&this.popupRef.popupElement.contains(t),n=this.wrapper.nativeElement.contains(t);return i||n}setTimeSelectorMinMax(e){const t=GA(e)&&xF(CF(e),CF(this.min));this.timeSelectorMin=vF(t?this.min:zA);const i=GA(e)&&xF(CF(e),CF(this.max));this.timeSelectorMax=vF(i?this.max:jA)}setCalendarValue(e){const t=GA(e)&&nO(e,this.calendarMin,this.calendarMax);this.calendarValue=t?CF(e):null}detectPopupChanges(){this.isOpen&&this.popupRef.popup.changeDetectorRef.detectChanges()}run(e,t){e?this.ngZone.run(()=>t()):t()}handleDateCompletenessChange(){this.cdr.markForCheck(),this.ngZone.run(()=>this.onValidatorChange())}};return e.\u0275fac=function(t){return new(t||e)(Fo(OS),Fo(TT),Fo($r),Fo(OR),Fo(Wc),Fo(Ga),Fo(JR),Fo(Fy),Fo(CR),Fo(Ya))},e.\u0275cmp=pt({type:e,selectors:[["kendo-datetimepicker"]],contentQueries:function(e,t,i){var n;1&e&&(bc(i,kR,!0),bc(i,_R,!0),bc(i,ER,!0),bc(i,IR,!0),bc(i,TR,!0),bc(i,FR,!0),bc(i,DR,!0)),2&e&&(fc(n=Cc())&&(t.cellTemplate=n.first),fc(n=Cc())&&(t.monthCellTemplate=n.first),fc(n=Cc())&&(t.yearCellTemplate=n.first),fc(n=Cc())&&(t.decadeCellTemplate=n.first),fc(n=Cc())&&(t.centuryCellTemplate=n.first),fc(n=Cc())&&(t.weekNumberTemplate=n.first),fc(n=Cc())&&(t.headerTitleTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&(gc(TD,!0),gc(ED,!0,bl),gc(ID,!0,ml)),2&e&&(fc(i=Cc())&&(t.wrapper=i.first),fc(i=Cc())&&(t.container=i.first),fc(i=Cc())&&(t.popupTemplate=i.first))},hostVars:4,hostBindings:function(e,t){2&e&&oa("k-widget",t.hostClasses)("k-datetimepicker",t.hostClasses)},inputs:{twoDigitYearMax:"twoDigitYearMax",focusableId:"focusableId",title:"title",disabled:"disabled",readonly:"readonly",readOnlyInput:"readOnlyInput",cancelButton:"cancelButton",steps:"steps",calendarType:"calendarType",animateCalendarNavigation:"animateCalendarNavigation",weekNumber:"weekNumber",rangeValidation:"rangeValidation",disabledDatesValidation:"disabledDatesValidation",incompleteDateValidation:"incompleteDateValidation",value:"value",format:"format",tabindex:"tabindex",disabledDates:"disabledDates",popupSettings:"popupSettings",min:"min",max:"max",defaultTab:"defaultTab",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",focusedDate:"focusedDate"},outputs:{valueChange:"valueChange",open:"open",close:"close",onFocus:"focus",onBlur:"blur"},exportAs:["kendo-datetimepicker"],features:[ja([OR,Fy,CR,{provide:Ty,useValue:"kendo.datetimepicker"},{provide:iw,useExisting:Se(()=>iP),multi:!0},{provide:vw,useExisting:Se(()=>iP),multi:!0},{provide:fy,useExisting:Se(()=>iP)}]),Oa],decls:12,vars:35,consts:[["kendoDateTimePickerLocalizedMessages","",6,"dateTab","dateTabLabel","timeTab","timeTabLabel","toggle","accept","acceptLabel","cancel","cancelLabel","now","nowLabel","today","prevButtonTitle","nextButtonTitle"],[1,"k-picker-wrap"],["wrapper",""],[3,"value","format","twoDigitYearMax","min","max","incompleteDateValidation","formatPlaceholder","placeholder","disabled","readonly","role","ariaReadOnly","steps","tabindex","title","focusableId","hasPopup","isPopupOpen","kendoEventsOutsideAngular","scope","valueChange"],[1,"k-select",3,"kendoEventsOutsideAngular","scope"],[1,"k-link","k-link-date"],[1,"k-icon"],["container",""],["popupTemplate",""],[3,"kendoEventsOutsideAngular","scope"],[1,"k-datetime-buttongroup",3,"kendoEventsOutsideAngular","scope"],[1,"k-button-group","k-button-group-stretched"],["type","button",1,"k-button","k-date-tab",3,"kendoEventsOutsideAngular","scope"],["type","button",1,"k-button","k-time-tab",3,"kendoEventsOutsideAngular"],[1,"k-datetime-selector",3,"kendoEventsOutsideAngular"],["dateTimeSelector",""],[1,"k-datetime-calendar-wrap"],[3,"value","type","min","max","focusedDate","weekNumber","navigation","animateNavigation","cellTemplate","monthCellTemplate","yearCellTemplate","decadeCellTemplate","centuryCellTemplate","weekNumberTemplate","headerTitleTemplate","disabled","disabledDates","valueChange"],[3,"today","prevButtonTitle","nextButtonTitle"],[1,"k-datetime-time-wrap"],[3,"value","format","min","max","setButton","cancelButton","steps","disabled"],[3,"now","nowLabel"],[1,"k-datetime-footer","k-action-buttons","k-actions","k-hstack","k-justify-content-stretch",3,"kendoEventsOutsideAngular","scope"],["type","button","class","k-button k-time-cancel",3,"kendoEventsOutsideAngular","scope",4,"ngIf"],["type","button",1,"k-time-accept","k-button","k-primary",3,"disabled","kendoEventsOutsideAngular","scope"],["type","button",1,"k-button","k-time-cancel",3,"kendoEventsOutsideAngular","scope"]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,PD),Vo(),Po(2,"span",1,2),Po(4,"kendo-dateinput",3),Uo("valueChange",(function(e){return t.handleInputValueChange(e)})),Mo(),Po(5,"span",4),Po(6,"span",5),No(7,"span",6),Mo(),Mo(),Mo(),Ho(8,null,7),Io(10,zD,19,81,"ng-template",null,8,_c)),2&e&&(vs(2),oa("k-state-disabled",t.disabled),vs(2),Oo("value",t.value)("format",t.format)("twoDigitYearMax",t.twoDigitYearMax)("min",t.min)("max",t.max)("incompleteDateValidation",t.incompleteDateValidation)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("disabled",t.disabled)("readonly",t.readonly||t.readOnlyInput)("role",t.inputRole)("ariaReadOnly",t.readonly)("steps",t.steps)("tabindex",t.tabindex)("title",t.title)("focusableId",t.focusableId)("hasPopup",!0)("isPopupOpen",t.isOpen)("kendoEventsOutsideAngular",Ul(30,AD,t.handleKeyDown))("scope",t),vs(1),Oo("kendoEventsOutsideAngular",$l(32,jD,t.preventMouseDown,t.handleIconClick))("scope",t),_o("title",t.localization.get("toggle"))("aria-label",t.localization.get("toggle")),vs(2),oa("k-i-calendar","date"===t.activeTab)("k-i-clock","time"===t.activeTab))},directives:function(){return[ZM,YR,ny,BR,TP,VM,UM,ku]},encapsulation:2,changeDetection:0}),e})(),rP=(()=>{let e=class{constructor(e){this.intl=e}getWeekNames(e=!1){const t=hO(this.intl.dateFormatNames({nameType:"short",type:"days"}),this.intl.firstDay());return e?[""].concat(t):t}};return e.\u0275fac=function(t){return new(t||e)(We(TT))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),oP=(()=>{let e=class{constructor(e,t,i,n,s,r){this.bus=e,this.intl=t,this.weekService=i,this.cdr=n,this.element=s,this.renderer=r,this.activeView=AO.month,this.isActive=!0,this.min=new Date(HA),this.max=new Date(BA),this.selectedDates=[],this.views=2,this.showViewHeader=!1,this.animateNavigation=!1,this.cellClick=new nc,this.weekNumberCellClick=new nc,this.cellEnter=new nc,this.cellLeave=new nc,this.activeDateChange=new nc,this.getComponentClass=!0,this.weekNames=[],this.dates=[],this.intlSubscription=this.intl.changes.subscribe(this.intlChange.bind(this))}get weekNumber(){return this.showWeekNumbers&&this.isMonthView()}set weekNumber(e){this.showWeekNumbers=e}get getComponentMonthClass(){return this.activeView===AO.month}get getComponentYearClass(){return this.activeView===AO.year}get getComponentDecadeClass(){return this.activeView===AO.decade}get getComponentCenturyClass(){return this.activeView===AO.century}ngOnChanges(e){if(this.initService(),(0===this.weekNames.length||e.weekNumber)&&(this.weekNames=this.weekService.getWeekNames(this.weekNumber)),!this.service)return;this.views=this.views||2;const t=this.focusedDate,i=this.clampDate(this.service.viewDate(t,this.max,this.views));this.skip=this.service.skip(i,this.min),this.total=this.service.total(this.min,this.max);const n=dO(e,"activeView"),s=this.views>0&&dO(e,"views");!n&&this.isInDates(t)&&!s&&this.activeDate||(this.dates=this.service.datesList(i,this.getTake(this.skip)),this.activeDate=vF(this.dates[0]),this.activeDateChange.emit(this.activeDate))}ngAfterViewInit(){1===this.views&&this.setTableMinWidth()}ngOnDestroy(){this.intlSubscription.unsubscribe()}initService(){this.service=this.bus.service(this.activeView)}isMonthView(){return this.activeView===AO.month}getCaptionTitle(e){return this.service.title(e)}getCaptionClass(){return this.isMonthView()?"k-month-header":"k-meta-header"}animateView(e){const t=this.element.nativeElement,i=t.querySelector("table"),n=parseFloat(getComputedStyle(t).width),s=parseFloat(getComputedStyle(i).width);this.renderer.setStyle(t,"width",n+"px"),this.renderer.setStyle(t,"overflow","visible"),e===NA.NextView?this.nextAnimationDate=vF(this.dates[0]):this.prevAnimationDate=vF(this.dates[this.dates.length-1]),this.cdr.detectChanges(),t.querySelectorAll("table").forEach(e=>{this.renderer.setStyle(e,"width",s+"px"),1===this.views&&this.renderer.setStyle(e,"min-width",n+"px")});const r=i.getBoundingClientRect(),o=parseFloat(getComputedStyle(t).columnGap),a=e===NA.NextView?"translateX(0)":`translateX(-${r.width+o}px)`,l=e===NA.NextView?`translateX(-${r.width+o}px)`:"translateX(0)";this.animation?this.animation.cancel():(this.animation=t.animate([{transform:a},{transform:l}],{duration:500,easing:"ease-out"}),this.animation.oncancel=this.animation.onfinish=()=>{this.renderer.removeStyle(t,"width"),this.renderer.removeStyle(t,"overflow"),t.querySelectorAll("table").forEach(e=>{this.renderer.removeStyle(e,"width")}),this.animation=null,this.nextAnimationDate=null,this.prevAnimationDate=null,this.cdr.detectChanges()})}navigate(e){this.animateNavigation&&Yb()&&GA(this.element.nativeElement.animate)&&this.animateView(e);const t=this.move(e),i=this.service.datesList(t,this.getTake(this.skip));return this.isListInRange(i)&&(this.dates=i),this.activeDate=vF(this.dates[0]),this.focusedDate=vF(t),this.cdr.markForCheck(),this.activeDateChange.emit(this.activeDate),vF(t)}canNavigate(e){return!!this.service&&this.isListInRange(this.service.datesList(this.move(e),this.getTake(this.skip)))}setTableMinWidth(){const e=this.element.nativeElement,t=e.querySelector("table");if(t){const i=parseFloat(getComputedStyle(e).width);this.renderer.setStyle(t,"min-width",i+"px")}}intlChange(){this.weekNames=this.weekService.getWeekNames(this.weekNumber),this.cdr.markForCheck()}clampDate(e){return rO(e,this.min,this.max)}move(e){return this.service.move(this.dates[0]||this.focusedDate,e)}isListInRange(e){const t=this.service.beginningOfPeriod(this.min),i=this.service.beginningOfPeriod(this.service.addToDate(this.max,1));return t<=e[0]&&e[e.length-1]<i}isInDates(e){return this.service.isInArray(e,this.dates)}getTake(e){return Math.min(this.total-e,this.views)}};return e.\u0275fac=function(t){return new(t||e)(Fo(RO),Fo(TT),Fo(rP),Fo($r),Fo(Ga),Fo(Ya))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-horizontal"]],hostVars:12,hostBindings:function(e,t){2&e&&oa("k-calendar-view",t.getComponentClass)("k-justify-align-start",t.getComponentClass)("k-calendar-monthview",t.getComponentMonthClass)("k-calendar-yearview",t.getComponentYearClass)("k-calendar-decadeview",t.getComponentDecadeClass)("k-calendar-centuryview",t.getComponentCenturyClass)},inputs:{activeView:"activeView",isActive:"isActive",min:"min",max:"max",selectedDates:"selectedDates",views:"views",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",focusedDate:"focusedDate",cellTemplateRef:"cellTemplateRef",weekNumberTemplateRef:"weekNumberTemplateRef",activeRangeEnd:"activeRangeEnd",cellUID:"cellUID",selectionRange:"selectionRange"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave",activeDateChange:"activeDateChange"},features:[Oa],decls:5,vars:3,consts:[["tableTemplate",""],[4,"ngIf"],[4,"kFor","kForOf"],[1,"k-content","k-calendar-content","k-calendar-table",3,"ngClass"],[3,"ngClass",4,"ngIf"],["class","k-calendar-thead",4,"ngIf"],["kendoCalendarView","","role","rowgroup","direction","horizontal",1,"k-calendar-tbody",3,"activeView","isActive","min","max","cellUID","focusedDate","selectedDates","selectionRange","activeRangeEnd","weekNumber","templateRef","weekNumberTemplateRef","viewDate","cellClick","weekNumberCellClick","cellEnter","cellLeave"],[3,"ngClass"],[1,"k-calendar-thead"],["role","row",1,"k-calendar-tr"],["class","k-calendar-th",4,"ngFor","ngForOf"],[1,"k-calendar-th"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Io(0,GD,4,16,"ng-template",null,0,_c),Io(2,ZD,1,4,void 0,1),Io(3,JD,1,4,void 0,2),Io(4,eA,1,4,void 0,1)),2&e&&(vs(2),Oo("ngIf",t.nextAnimationDate),vs(1),Oo("kForOf",t.dates),vs(1),Oo("ngIf",t.prevAnimationDate))},directives:function(){return[ku,pP,wu,gP,xu,Ou]},encapsulation:2,changeDetection:0}),e})();const aP=()=>null,lP="http://www.telerik.com/kendo-angular-ui/components/dateinputs/calendar/#toc-using-with-json",cP={multi:!0,provide:iw,useExisting:Se(()=>uP)},hP={multi:!0,provide:vw,useExisting:Se(()=>uP)};let uP=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a){this.bus=e,this.element=t,this.navigator=i,this.renderer=n,this.cdr=s,this.zone=r,this.disabledDatesService=o,this.selectionService=a,this.id=ey(),this.rangeValidation=!1,this.disabledDatesRangeValidation=!1,this.selection="single",this.disabled=!1,this.tabindex=0,this.isActive=!1,this.activeView=AO[AO.month],this.bottomView=AO[AO.month],this.topView=AO[AO.century],this.showViewHeader=!1,this.animateNavigation=!1,this.weekNumber=!1,this.views=2,this.activeViewChange=new nc,this.cellEnter=new nc,this.cellLeave=new nc,this.valueChange=new nc,this.cellUID=ey(),this.isHovered=!1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.prevView=NA.PrevView,this.nextView=NA.NextView,this.selectedDates=[],this._min=new Date(HA),this._max=new Date(BA),this._focusedDate=aO(),this.resolvedPromise=Promise.resolve(),this.onControlChange=lO,this.onControlTouched=lO,this.onValidatorChange=lO,this.minValidateFn=lO,this.maxValidateFn=lO,this.disabledDatesRangeValidateFn=lO,this.subscriptions=new u(()=>{}),this.setClasses(t.nativeElement)}set focusedDate(e){this._focusedDate=e||aO()}get focusedDate(){return this._focusedDate}set min(e){this._min=e||new Date(HA)}get min(){return this._min}set max(e){this._max=e||new Date(BA)}get max(){return this._max}get value(){return this._value}set value(e){this.verifyValue(e),this._value=Array.isArray(e)?e.filter(e=>GA(e)).map(e=>vF(e)):vF(e);const t=[].concat(e).filter(e=>GA(e)).map(e=>vF(e));if(!mO(t,this.selectedDates)){const e=fO(t);this.rangePivot=vF(e),this.focusedDate=vF(e)||this.focusedDate,this.selectedDates=t}}set tabIndex(e){this.tabindex=e}get tabIndex(){return this.tabindex}set disabledDates(e){this.disabledDatesService.initialize(e)}set selectionRange(e){this._selectionRange=e,this.disabledDatesRangeValidation&&this.onValidatorChange()}get selectionRange(){return this._selectionRange}set cellTemplateRef(e){this.cellTemplate=e}set monthCellTemplateRef(e){this.monthCellTemplate=e}set yearCellTemplateRef(e){this.yearCellTemplate=e}set decadeCellTemplateRef(e){this.decadeCellTemplate=e}set centuryCellTemplateRef(e){this.centuryCellTemplate=e}set weekNumberTemplateRef(e){this.weekNumberTemplate=e}set headerTitleTemplateRef(e){this.headerTitleTemplate=e}get activeViewEnum(){const e=AO[this.activeView];return e<this.bottomViewEnum?this.bottomViewEnum:e}get bottomViewEnum(){return AO[this.bottomView]}get topViewEnum(){return AO[this.topView]}get widgetId(){return this.id}get widgetRole(){return"grid"}get calendarTabIndex(){return this.disabled?void 0:this.tabIndex}get ariaDisabled(){return this.disabled}get ariaActivedescendant(){return this.cellUID+this.focusedDate.getTime()}handleBlur(){this.onControlTouched(),this.isActive=!1,this.isHovered=!1}handleFocus(){this.isActive=!0}handleMouseEnter(){this.isHovered=!0}handleMouseLeave(){this.isHovered=!1}handleMousedown(e){e.preventDefault()}handleClick(){this.isActive||this.focus()}keydown(e){e.keyCode===gy.Enter&&this.performSelection(this.focusedDate,e);const t=rO(this.navigator.move(this.focusedDate,this.navigator.action(e),this.activeViewEnum),this.min,this.max);xF(this.focusedDate,t)||(this.focusedDate=t,e.preventDefault())}ngOnInit(){this.subscriptions.add(this.bus.viewChanged.subscribe(({view:e})=>{this.activeView=AO[e],this.activeViewChange.emit(this.activeView),this.cdr.detectChanges(),this.updateButtonState()}))}ngOnChanges(e){var t;this.verifyChanges(),this.bus.configure(this.bottomViewEnum,this.topViewEnum),pO(e,"focusedDate")&&(this.focusedDate=rO(e.focusedDate.currentValue,this.min,this.max)),(e.min||e.max||e.rangeValidation||e.disabledDates||e.disabledDatesRangeValidation)&&(this.minValidateFn=this.rangeValidation?RR(this.min):lO,this.maxValidateFn=this.rangeValidation?PR(this.max):lO,this.disabledDatesRangeValidateFn=this.disabledDatesRangeValidation?GA(t=this.disabledDatesService.isDateDisabled)?e=>{if(!(GA(e)&&GA(e.start)&&GA(e.end))||e.start>e.end)return null;const i=((e,t,i)=>{if(!(e&&t&&i)||e>t)return[];const n=[];let s=e;for(;s<=t;)i(s)&&n.push(s),s=yF(s,1);return n})(e.start,e.end,t);return i.length?{disabledDatesInRange:i}:null}:aP:lO,this.onValidatorChange()),(e.min||e.max||e.focusedDate||e.activeView)&&this.updateButtonState()}ngOnDestroy(){this.subscriptions.unsubscribe()}ngAfterViewInit(){this.updateButtonState()}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}handleDateChange(e){const t=this.bus.canMoveDown(this.activeViewEnum),i=e.selectedDates.filter(e=>!this.disabledDatesService.isDateDisabled(e));this.focusedDate=e.focusedDate||this.focusedDate;const n=!t&&mO(i,this.selectedDates);this.disabled||n||(t?this.bus.moveDown(this.activeViewEnum):this.disabledDatesService.isDateDisabled(this.focusedDate)||(this.selectedDates=i.map(e=>vF(e)),this.value=this.parseSelectionToValue(i),this.onControlChange(this.parseSelectionToValue(i)),this.valueChange.emit(this.parseSelectionToValue(i))))}setActiveDate(e){this.activeDate=vF(e),this.cdr.detectChanges()}writeValue(e){this.verifyValue(e),this.value=e,this.cdr.markForCheck()}registerOnChange(e){this.onControlChange=e}registerOnTouched(e){this.onControlTouched=e}setDisabledState(e){this.disabled=e,this.cdr.markForCheck()}validate(e){return this.minValidateFn(e)||this.maxValidateFn(e)||this.disabledDatesRangeValidateFn(this.selectionRange)}registerOnValidatorChange(e){this.onValidatorChange=e}activeCellTemplate(){switch(this.activeViewEnum){case AO.month:return this.monthCellTemplate||this.cellTemplate;case AO.year:return this.yearCellTemplate;case AO.decade:return this.decadeCellTemplate;case AO.century:return this.centuryCellTemplate;default:return null}}navigate(e){this.focusedDate=this.viewList.navigate(e),this.updateButtonState()}emitCellEvent(e,t){Xb(e)&&this.zone.run(()=>{e.emit(t)})}handleCellClick({date:e,modifiers:t}){this.performSelection(e,t)}handleWeekNumberClick(e){"single"!==this.selection&&this.zone.run(()=>{this.handleDateChange({selectedDates:e,focusedDate:fO(e)})})}setClasses(e){this.renderer.addClass(e,"k-widget"),this.renderer.addClass(e,"k-calendar"),this.renderer.addClass(e,"k-calendar-range")}verifyChanges(){if(Sn()){if(this.min>this.max)throw new Error("The max value should be bigger than the min. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-min and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-max.");if(this.bottomViewEnum>this.topViewEnum)throw new Error("The topView should be greater than bottomView. See http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-bottomview and http://www.telerik.com/kendo-angular-ui/components/dateinputs/api/CalendarComponent/#toc-topview.")}}verifyValue(e){if(Sn()){if("single"===this.selection&&e&&!(e instanceof Date))throw new Error(`The 'value' should be a valid JavaScript Date instance. Check ${lP} for possible resolution.`);if("multiple"===this.selection&&e&&Array.isArray(e)&&!e.every(e=>e instanceof Date))throw new Error(`The 'value' should be an array of valid JavaScript Date instances. Check ${lP} for possible resolution.`)}}updateButtonState(){this.resolvedPromise.then(()=>{this.isPrevDisabled=!this.viewList.canNavigate(this.prevView),this.isNextDisabled=!this.viewList.canNavigate(this.nextView),this.cdr.markForCheck()})}parseSelectionToValue(e){return e=e||[],"single"===this.selection?vF(fO(e)):e.map(e=>vF(e))}performSelection(e,t){const i=this.selectionService.performSelection({date:e,modifiers:t,selectionMode:this.selection,activeViewEnum:this.activeViewEnum,rangePivot:this.rangePivot,selectedDates:this.selectedDates});this.rangePivot=i.rangePivot,this.handleDateChange({selectedDates:i.selectedDates,focusedDate:e})}};return e.\u0275fac=function(t){return new(t||e)(Fo(RO),Fo(Ga),Fo(yR),Fo(Ya),Fo($r),Fo(Wc),Fo(CR),Fo(xR))},e.\u0275cmp=pt({type:e,selectors:[["kendo-multiviewcalendar"]],contentQueries:function(e,t,i){var n;1&e&&(yc(i,kR,!0),yc(i,_R,!0),yc(i,ER,!0),yc(i,IR,!0),yc(i,TR,!0),yc(i,FR,!0),yc(i,DR,!0)),2&e&&(fc(n=Cc())&&(t.cellTemplate=n.first),fc(n=Cc())&&(t.monthCellTemplate=n.first),fc(n=Cc())&&(t.yearCellTemplate=n.first),fc(n=Cc())&&(t.decadeCellTemplate=n.first),fc(n=Cc())&&(t.centuryCellTemplate=n.first),fc(n=Cc())&&(t.weekNumberTemplate=n.first),fc(n=Cc())&&(t.headerTitleTemplate=n.first))},viewQuery:function(e,t){var i;1&e&&mc(oP,!0),2&e&&fc(i=Cc())&&(t.viewList=i.first)},hostVars:7,hostBindings:function(e,t){1&e&&Uo("blur",(function(){return t.handleBlur()}))("focus",(function(){return t.handleFocus()}))("mouseenter",(function(){return t.handleMouseEnter()}))("mouseleave",(function(){return t.handleMouseLeave()}))("mousedown",(function(e){return t.handleMousedown(e)}))("click",(function(){return t.handleClick()}))("keydown",(function(e){return t.keydown(e)})),2&e&&(_o("id",t.widgetId)("role",t.widgetRole)("tabindex",t.calendarTabIndex)("aria-disabled",t.ariaDisabled)("aria-activedescendant",t.ariaActivedescendant),oa("k-state-disabled",t.ariaDisabled))},inputs:{id:"id",rangeValidation:"rangeValidation",disabledDatesRangeValidation:"disabledDatesRangeValidation",selection:"selection",disabled:"disabled",tabindex:"tabindex",isActive:"isActive",activeView:"activeView",bottomView:"bottomView",topView:"topView",showViewHeader:"showViewHeader",animateNavigation:"animateNavigation",weekNumber:"weekNumber",views:"views",focusedDate:"focusedDate",min:"min",max:"max",value:"value",tabIndex:"tabIndex",disabledDates:"disabledDates",selectionRange:"selectionRange",cellTemplateRef:["cellTemplate","cellTemplateRef"],monthCellTemplateRef:["monthCellTemplate","monthCellTemplateRef"],yearCellTemplateRef:["yearCellTemplate","yearCellTemplateRef"],decadeCellTemplateRef:["decadeCellTemplate","decadeCellTemplateRef"],centuryCellTemplateRef:["centuryCellTemplate","centuryCellTemplateRef"],weekNumberTemplateRef:["weekNumberTemplate","weekNumberTemplateRef"],headerTitleTemplateRef:["headerTitleTemplate","headerTitleTemplateRef"],activeRangeEnd:"activeRangeEnd"},outputs:{activeViewChange:"activeViewChange",cellEnter:"cellEnter",cellLeave:"cellLeave",valueChange:"valueChange"},exportAs:["kendo-multiviewcalendar"],features:[ja([RO,cP,hP,Fy,CR,{provide:Ty,useValue:"kendo.multiviewcalendar"},yR,xR]),Oa],decls:4,vars:24,consts:[["kendoMultiViewCalendarLocalizedMessages","",6,"today","prevButtonTitle","nextButtonTitle"],[3,"activeView","currentDate","min","max","rangeLength","templateRef","isPrevDisabled","isNextDisabled","showNavigationButtons","todayButtonClick","prevButtonClick","nextButtonClick"],[3,"activeView","isActive","cellTemplateRef","weekNumberTemplateRef","cellUID","views","min","max","focusedDate","animateNavigation","showViewHeader","weekNumber","activeRangeEnd","selectionRange","selectedDates","valueChange","cellClick","weekNumberCellClick","cellEnter","cellLeave","activeDateChange"]],template:function(e,t){if(1&e&&(Lo(0,0),Nl(1,tA),Vo(),Po(2,"kendo-calendar-header",1),Uo("todayButtonClick",(function(e){return t.handleDateChange({selectedDates:[e],focusedDate:e})}))("prevButtonClick",(function(){return t.navigate(t.prevView)}))("nextButtonClick",(function(){return t.navigate(t.nextView)})),Mo(),Po(3,"kendo-calendar-horizontal",2),Uo("valueChange",(function(e){return t.handleDateChange(e)}))("cellClick",(function(e){return t.handleCellClick(e)}))("weekNumberCellClick",(function(e){return t.handleWeekNumberClick(e)}))("cellEnter",(function(e){return t.emitCellEvent(t.cellEnter,e)}))("cellLeave",(function(e){return t.emitCellEvent(t.cellLeave,e)}))("activeDateChange",(function(e){return t.setActiveDate(e)})),Mo()),2&e){var i;const e=null==(i=t.activeCellTemplate())?null:i.templateRef;vs(2),Oo("activeView",t.activeViewEnum)("currentDate",t.activeDate)("min",t.min)("max",t.max)("rangeLength",t.views)("templateRef",null==t.headerTitleTemplate?null:t.headerTitleTemplate.templateRef)("isPrevDisabled",t.isPrevDisabled)("isNextDisabled",t.isNextDisabled)("showNavigationButtons",!0),vs(1),Oo("activeView",t.activeViewEnum)("isActive",t.isActive||t.isHovered)("cellTemplateRef",e)("weekNumberTemplateRef",null==t.weekNumberTemplate?null:t.weekNumberTemplate.templateRef)("cellUID",t.cellUID)("views",t.views)("min",t.min)("max",t.max)("focusedDate",t.focusedDate)("animateNavigation",t.animateNavigation)("showViewHeader",t.showViewHeader)("weekNumber",t.weekNumber)("activeRangeEnd",t.activeRangeEnd)("selectionRange",t.selectionRange)("selectedDates",t.selectedDates)}},directives:function(){return[wP,fP,oP]},encapsulation:2,changeDetection:0}),e})();class dP{constructor(e,t,i,n){this.$implicit=e,this.kForOf=t,this.index=i,this.count=n}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pP=(()=>{let e=class{constructor(e,t,i){this._viewContainer=e,this._template=t,this._differs=i,this._differ=null}set kForTemplate(e){e&&(this._template=e)}ngOnChanges(e){if("kForOf"in e){const n=e.kForOf.currentValue;if(this._differ||!n)return;try{this._differ=this._differs.find(n).create(this.kForTrackBy)}catch(i){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'.`)}}var t}ngDoCheck(){if(this._differ){const e=this._differ.diff(this.kForOf);e&&this._applyChanges(e)}}_applyChanges(e){if(!Yb())return;const t=this._viewContainer.length,i=this.kForOf.length,n={};e.forEachOperation((e,t,i)=>{null!==i&&(n[i]=e.item)});for(let s=t;s<i;s++)this._viewContainer.createEmbeddedView(this._template,new dP(null,this.kForOf,-1,-1),s);for(let s=this._viewContainer.length;s>i;s--)this._viewContainer.remove(s-1);for(let s=0;s<this._viewContainer.length;s++){const e=this._viewContainer.get(s);e.context.index=s,e.context.count=length,e.context.$implicit=n[s]||null}}};return e.\u0275fac=function(t){return new(t||e)(Fo(bl),Fo(ml),Fo(ul))},e.\u0275dir=yt({type:e,selectors:[["","kFor","","kForOf",""]],inputs:{kForTemplate:"kForTemplate",kForOf:"kForOf",kForTrackBy:"kForTrackBy"},features:[Oa]}),e})(),fP=(()=>{let e=class{constructor(e,t,i,n,s){this.bus=e,this.cdr=t,this.localization=i,this.intl=n,this.disabledDatesService=s,this.navigate=!0,this.todayAvailable=!0,this.min=new Date(HA),this.max=new Date(BA),this.rangeLength=1,this.isPrevDisabled=!0,this.isNextDisabled=!0,this.showNavigationButtons=!1,this.todayButtonClick=new nc,this.prevButtonClick=new nc,this.nextButtonClick=new nc,this.getComponentClass=!0,this.subscriptions=new u}ngOnInit(){this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))).add(this.localization.changes.subscribe(this.l10nChange.bind(this))).add(this.disabledDatesService.changes.subscribe(this.setTodayAvailability.bind(this)))}ngOnChanges(e){this.bus.service(this.activeView)&&(this.activeViewValue=AO[this.activeView],this.todayMessage=this.localization.get("today"),this.setTodayAvailability(),this.navigate=this.bus.canMoveUp(this.activeView),this.title=this.getTitle())}ngOnDestroy(){this.subscriptions.unsubscribe()}handleTodayClick(){this.todayAvailable&&(this.bus.moveToBottom(this.activeView),this.todayButtonClick.emit(rO(aO(),this.min,this.max)))}handleNavigation(){this.navigate&&this.bus.moveUp(this.activeView)}intlChange(){this.currentDate&&this.bus.service(this.activeView)&&(this.title=this.getTitle(),this.cdr.markForCheck())}l10nChange(){this.prevButtonTitle=this.localization.get("prevButtonTitle"),this.nextButtonTitle=this.localization.get("nextButtonTitle"),this.todayMessage=this.localization.get("today"),this.cdr.markForCheck()}getTitle(){if(!this.currentDate)return"";const e=this.bus.service(this.activeView),t=this.rangeLength-1,i=e.title(this.currentDate),n=e.addToDate(this.currentDate,t);return t<1||!e.isInRange(n,this.min,this.max)?i:`${i} - ${e.title(n)}`}setTodayAvailability(){const e=aO(),t=nO(e,CF(this.min),CF(this.max)),i=this.disabledDatesService.isDateDisabled(e);this.todayAvailable=t&&!i,this.cdr.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(RO),Fo($r),Fo(Fy),Fo(TT),Fo(CR))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-header"]],hostVars:4,hostBindings:function(e,t){2&e&&oa("k-calendar-header",t.getComponentClass)("k-hstack",t.getComponentClass)},inputs:{min:"min",max:"max",rangeLength:"rangeLength",isPrevDisabled:"isPrevDisabled",isNextDisabled:"isNextDisabled",showNavigationButtons:"showNavigationButtons",activeView:"activeView",currentDate:"currentDate",templateRef:"templateRef"},outputs:{todayButtonClick:"todayButtonClick",prevButtonClick:"prevButtonClick",nextButtonClick:"nextButtonClick"},features:[Oa],decls:9,vars:23,consts:[[1,"k-button","k-flat","k-title","k-calendar-title",3,"kendoEventsOutsideAngular","scope"],[3,"ngIf"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-spacer"],[1,"k-calendar-nav","k-hstack"],["class","k-button k-flat k-icon-button k-prev-view","type","button",3,"disabled","title","click",4,"ngIf"],[1,"k-today","k-nav-today",3,"kendoEventsOutsideAngular","scope"],["class","k-button k-flat k-icon-button k-next-view","type","button",3,"disabled","title","click",4,"ngIf"],["type","button",1,"k-button","k-flat","k-icon-button","k-prev-view",3,"disabled","title","click"],[1,"k-icon","k-i-arrow-60-left"],["type","button",1,"k-button","k-flat","k-icon-button","k-next-view",3,"disabled","title","click"],[1,"k-icon","k-i-arrow-60-right"]],template:function(e,t){1&e&&(Po(0,"span",0),Io(1,iA,1,1,"ng-template",1),Io(2,nA,0,0,"ng-template",2),Mo(),No(3,"span",3),Po(4,"span",4),Io(5,sA,2,3,"button",5),Po(6,"span",6),ya(7),Mo(),Io(8,rA,2,3,"button",7),Mo()),2&e&&(oa("k-state-disabled",!t.navigate),Oo("kendoEventsOutsideAngular",Ul(15,dD,t.handleNavigation))("scope",t),vs(1),Oo("ngIf",!t.templateRef),vs(1),Oo("ngIf",t.templateRef)("ngTemplateOutlet",t.templateRef)("ngTemplateOutletContext",ql(17,hD,t.title,t.activeViewValue,t.currentDate)),vs(3),Oo("ngIf",t.showNavigationButtons),vs(1),oa("k-state-disabled",!t.todayAvailable),Oo("kendoEventsOutsideAngular",Ul(21,dD,t.handleTodayClick))("scope",t),vs(1),Ca(" ",t.todayMessage," "),vs(1),Oo("ngIf",t.showNavigationButtons))},directives:[ny,ku,Ou],encapsulation:2}),e})(),gP=(()=>{let e=class{constructor(e,t,i,n,s,r,o){this.bus=e,this.intl=t,this.cdr=i,this.element=n,this.zone=s,this.renderer=r,this.disabledDatesService=o,this.direction="vertical",this.isActive=!0,this.selectedDates=[],this.cellClick=new nc,this.weekNumberCellClick=new nc,this.cellEnter=new nc,this.cellLeave=new nc,this.colSpan=0,this.subscriptions=new u,this.domEvents=[],this.subscriptions.add(this.intl.changes.subscribe(this.intlChange.bind(this))),this.subscriptions.add(this.disabledDatesService.changes.subscribe(this.disabledDatesChange.bind(this)))}get weekNumber(){return this.showWeekNumbers&&this.activeView===AO.month}set weekNumber(e){this.showWeekNumbers=e}ngOnInit(){this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnChanges(e){this.service=this.bus.service(this.activeView),this.service&&(this.colSpan=this.service.rowLength({prependCell:this.weekNumber}),this.title=this.service.title(this.viewDate),this.updateData(),e.activeView&&(this.currentCellIndex=null))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.domEvents.forEach(e=>e())}isHorizontal(){return"horizontal"===this.direction}isMonthView(){return this.activeView===AO.month}shouldRenderCellContent(e){return GA(e)&&!(!this.isHorizontal()&&e.isOtherMonth)}firstDate(e){const t=this.firstWeekDateContext(e);return t?t.value:null}getWeekNumber(e){return this.weekNumber?KF(e,this.intl.firstDay()):null}getWeekNumberContext(e){const t=this.firstWeekDateContext(e);if(!this.weekNumber||!t)return null;const i=KF(t.value,this.intl.firstDay()).toString();return{formattedValue:i,id:null,isFocused:!1,isSelected:!1,isWeekend:!1,title:i,value:vF(t.value)}}getStyles(e){const{isRangeEnd:t,isRangeStart:i}=e;return n={"k-range-end":!e.isOtherMonth&&t,"k-range-mid":!e.isOtherMonth&&e.isRangeMid,"k-range-split-end":!e.isOtherMonth&&e.isRangeSplitEnd,"k-range-split-start":!e.isOtherMonth&&e.isRangeSplitStart,"k-range-start":!e.isOtherMonth&&i,"k-state-active":"start"===this.activeRangeEnd&&i||"end"===this.activeRangeEnd&&t,"k-state-focused":!e.isOtherMonth&&this.isActive&&e.isFocused,"k-state-selected":!e.isOtherMonth&&(e.isSelected||i||t),"k-today":!e.isOtherMonth&&e.isToday,"k-weekend":e.isWeekend,"k-state-disabled":e.isDisabled,"k-other-month":e.isOtherMonth},Object.keys(n).reduce((e,t)=>n[t]?e.concat(t):e,[]).join(" ");var n}tableCellIndex(e,t){return`${e}:${t}`}handleWeekNumberClick(e){const t=e.map(e=>e.value).filter(e=>!this.disabledDatesService.isDateDisabled(e));this.weekNumberCellClick.emit(t)}firstWeekDateContext(e){if(!this.weekNumber)return null;let t=0,i=this.shouldRenderCellContent(e[t])?e[t]:null;for(;!i&&t<e.length;){const n=e[++t];i=this.shouldRenderCellContent(n)?n:null}return i}updateData(){const e=fO(this.selectedDates)||aO(),t=ZA(this.viewDate,e);this.data=this.service.data({cellUID:this.cellUID,focusedDate:this.focusedDate,isActiveView:!this.bus.canMoveDown(this.activeView),max:this.max,min:this.min,selectedDates:this.selectedDates,selectionRange:this.selectionRange,viewDate:t,isDateDisabled:this.disabledDatesService.isDateDisabled,direction:this.direction})}intlChange(){this.updateData(),this.cdr.markForCheck()}disabledDatesChange(){this.updateData(),this.cdr.markForCheck()}bindEvents(){const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",this.cellMouseoverHandler.bind(this)),this.renderer.listen(e,"mouseleave",this.mouseLeaveHandler.bind(this)),this.renderer.listen(e,"click",this.clickHandler.bind(this)))}clickHandler(e){const t=this.closestCell(e);if(!t)return;const i=t.getAttribute("data-cell-index"),n=this.cellByIndex(i);if(!n.isDisabled){const{ctrlKey:t,metaKey:i,shiftKey:s}=e;this.cellClick.emit({date:n.value,modifiers:{ctrlKey:t,metaKey:i,shiftKey:s}})}}mouseLeaveHandler(){this.currentCellIndex&&this.emitCellLeave()}cellMouseoverHandler(e){const t=this.closestCell(e);if(t){const e=t.getAttribute("data-cell-index");this.currentCellIndex&&this.currentCellIndex!==e&&this.emitCellLeave();const i=this.cellByIndex(e).value;this.cellEnter.emit(i),this.currentCellIndex=e}else this.currentCellIndex&&this.emitCellLeave()}closestCell(e){return fR(e.target,e=>e.hasAttribute("data-cell-index"),this.element.nativeElement)}emitCellLeave(){const e=this.cellByIndex(this.currentCellIndex);e&&this.cellLeave.emit(e.value),this.currentCellIndex=null}cellByIndex(e){const[t,i]=e.split(":");return this.data[t][i]}};return e.\u0275fac=function(t){return new(t||e)(Fo(RO),Fo(TT),Fo($r),Fo(Ga),Fo(Wc),Fo(Ya),Fo(CR))},e.\u0275cmp=pt({type:e,selectors:[["","kendoCalendarView",""]],inputs:{direction:"direction",isActive:"isActive",selectedDates:"selectedDates",weekNumber:"weekNumber",activeView:"activeView",cellUID:"cellUID",focusedDate:"focusedDate",viewDate:"viewDate",activeRangeEnd:"activeRangeEnd",selectionRange:"selectionRange",min:"min",max:"max",viewIndex:"viewIndex",templateRef:"templateRef",weekNumberTemplateRef:"weekNumberTemplateRef"},outputs:{cellClick:"cellClick",weekNumberCellClick:"weekNumberCellClick",cellEnter:"cellEnter",cellLeave:"cellLeave"},features:[Oa],attrs:oA,decls:4,vars:2,consts:[["emptyCell",""],["class","k-calendar-tr","role","row",4,"ngIf"],["class","k-calendar-tr","role","row",4,"kFor","kForOf"],[1,"k-empty","k-calendar-td"],["role","row",1,"k-calendar-tr"],["scope","col",1,"k-calendar-caption",3,"colSpan"],[3,"ngIf"],[4,"kFor","kForOf"],["class","k-alt k-calendar-td",3,"kendoEventsOutsideAngular",4,"ngIf","ngIfElse"],[1,"k-alt","k-calendar-td",3,"kendoEventsOutsideAngular"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],["class","k-calendar-td","role","gridcell",3,"ngClass","title",4,"ngIf","ngIfElse"],["role","gridcell",1,"k-calendar-td",3,"ngClass","title"],[1,"k-link"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Io(0,aA,2,0,"ng-template",null,0,_c),Io(2,lA,3,2,"tr",1),Io(3,yA,3,2,"tr",2)),2&e&&(vs(2),Oo("ngIf",!t.isHorizontal()),vs(1),Oo("kForOf",t.data))},directives:[ku,pP,ny,Ou,wu],encapsulation:2}),e})(),mP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,sy]]}),e})(),vP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),bP=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return eN(t||e)},e.\u0275dir=yt({type:e,inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[Ea]}),e})();var yP;let wP=(()=>{let e=yP=class extends bP{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoMultiViewCalendarLocalizedMessages",""]],features:[ja([{provide:bP,useExisting:Se(()=>yP)}]),Ea]}),e})();var CP;let xP=(()=>{let e=CP=class extends bP{constructor(e){super(),this.service=e}get override(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-multiviewcalendar-messages"]],features:[ja([{provide:bP,useExisting:Se(()=>CP)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),SP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[yR,CO,kO,IO,DO,rP],imports:[[Pu,mP,DT,vP,RS],mP,vP]}),e})(),kP=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return tN(t||e)},e.\u0275dir=yt({type:e,inputs:{today:"today",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[Ea]}),e})();var _P;let EP=(()=>{let e=_P=class extends kP{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoCalendarLocalizedMessages",""]],features:[ja([{provide:kP,useExisting:Se(()=>_P)}]),Ea]}),e})();var IP;let TP=(()=>{let e=IP=class extends kP{constructor(e){super(),this.service=e}get override(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-calendar-messages"]],features:[ja([{provide:kP,useExisting:Se(()=>IP)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),FP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})(),DP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[tR,CO,kO,IO,DO,rP],imports:[[Pu,mP,SP,DT,vP,FP,sy,py],mP,vP]}),e})(),AP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[DP,SP],DP,SP]}),e})(),OP=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return iN(t||e)},e.\u0275dir=yt({type:e,inputs:{decrement:"decrement",increment:"increment"},features:[Ea]}),e})();var RP;let PP=(()=>{let e=RP=class extends OP{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoDateInputLocalizedMessages",""]],features:[ja([{provide:OP,useExisting:Se(()=>RP)}]),Ea]}),e})(),MP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,DT,sy]]}),e})(),NP=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return nN(t||e)},e.\u0275dir=yt({type:e,inputs:{today:"today",toggle:"toggle",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[Ea]}),e})();var LP;let VP=(()=>{let e=LP=class extends NP{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoDatePickerLocalizedMessages",""]],features:[ja([{provide:NP,useExisting:Se(()=>LP)}]),Ea]}),e})();var HP;let BP=(()=>{let e=HP=class extends NP{constructor(e){super(),this.service=e}get override(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-datepicker-messages"]],features:[ja([{provide:NP,useExisting:Se(()=>HP)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const zP=GS;let jP=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:JR,useValue:zP}],imports:[[Pu,MP,DP,DT,RS,vP,sy],vP]}),e})();const UP=[SP,MP,RS,sy];let $P=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,UP]]}),e})();const qP=uO("div"),GP=uO("ul"),KP=uO("li"),WP=(()=>Yb()?qP([qP([qP([GP([KP("<span>02</span>","k-item")],"k-reset")],"k-time-container k-content k-scrollable")],"k-time-list")],"k-time-list-wrapper",{left:"-10000px",position:"absolute"}):null)();let ZP=(()=>{let e=class{ensureHeights(){void 0===this.timeListHeight&&this.calculateHeights()}calculateHeights(e){if(!Yb())return;const t=e&&e.querySelector(".k-time-list-container")||document.body,i=t.appendChild(WP);this.timeListHeight=i.querySelector(".k-scrollable").getBoundingClientRect().height,this.itemHeight=i.querySelector("li").getBoundingClientRect().height,t.removeChild(i)}isActive(e){return!(!Yb()||!e)&&(e.nativeElement||e)===document.activeElement}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const YP=(e=>e=>e%24)(),QP=(e,t)=>YP(24+e-t),JP=e=>(t,i)=>i&&CF(t).getTime()!==CF(i).getTime()?JA(t,e):t,XP=JP(0),eM=JP(23);let tM=(()=>{let e=class{constructor(e){this.intl=e,this.boundRange=!1,this.insertUndividedMax=!1}apply(e,t){return JA(e,t.getHours())}configure(e){const{boundRange:t=this.boundRange,insertUndividedMax:i=this.insertUndividedMax,min:n=this.min,max:s=this.max,part:r,step:o=this.step}=e;this.boundRange=t,this.insertUndividedMax=i,this.toListItem=e=>{const t=JA(VA,e);return{text:this.intl.formatDate(t,r.pattern),value:t}},this.min=n,this.max=s,this.step=o}data(e){const[t]=this.range(e),i=(n=t,s=this.step,e=>YP(n+e*s));var n,s;const r=iO(0,this.countFromMin(e)).map(e=>this.toListItem(i(e)));return this.addLast(r),this.addMissing(r,e),r}isRangeChanged(e,t){return!xF(this.min,e)||!xF(this.max,t)}limitRange(e,t,i){return this.boundRange?[XP(e,i),eM(t,i)]:[e,t]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastHour(e)===e.getHours()||!this.isMissing(e)}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastHour(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const i=this.toListItem(t.getHours());return e.splice(this.selectedIndex(t),0,i),e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(QP(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(JA(this.max,this.lastHour(e)))}divideByStep(e){return QP(e.getHours(),this.min.getHours())/this.step}lastHour(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getHours(),i.getHours()]}};return e.\u0275fac=function(t){return new(t||e)(We(TT))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const iM=(e=>e=>e%60)(),nM=(e,t)=>iM(60+e-t),sM=e=>(t,i)=>i&&t.getHours()!==i.getHours()?XA(t,e):t,rM=sM(0),oM=sM(59);let aM=(()=>{let e=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return XA(e,t.getMinutes())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:i=this.min,max:n=this.max,part:s,step:r=this.step}=e;this.insertUndividedMax=t,this.toListItem=e=>{const t=XA(VA,e);return{text:this.intl.formatDate(t,s.pattern),value:t}},this.min=i,this.max=n,this.step=r}data(e){const[t]=this.range(e),i=(n=t,s=this.step,e=>iM(n+e*s));var n,s;const r=iO(0,this.countFromMin(e)).map(e=>this.toListItem(i(e)));return this.addLast(r),this.addMissing(r,e),r}isRangeChanged(e,t){return!xF(this.min,e)||!xF(this.max,t)}limitRange(e,t,i){return[rM(e,i),oM(t,i)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMinute(e)===e.getMinutes()||!this.isMissing(e)}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastMinute(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const i=this.toListItem(t.getMinutes());return e.splice(this.selectedIndex(t),0,i),e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(nM(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(XA(this.max,this.lastMinute(e)))}divideByStep(e){return nM(e.getMinutes(),this.min.getMinutes())/this.step}lastMinute(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getMinutes(),i.getMinutes()]}};return e.\u0275fac=function(t){return new(t||e)(We(TT))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const lM=(e=>e=>e%60)(),cM=(e,t)=>lM(60+e-t),hM=e=>(t,i)=>!i||t.getHours()===i.getHours()&&t.getMinutes()===i.getMinutes()?t:eO(t,e),uM=hM(0),dM=hM(59);let pM=(()=>{let e=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return eO(e,t.getSeconds())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:i=this.min,max:n=this.max,part:s,step:r=this.step}=e;this.insertUndividedMax=t,this.toListItem=e=>{const t=eO(VA,e);return{text:this.intl.formatDate(t,s.pattern),value:t}},this.min=i,this.max=n,this.step=r}data(e){const[t]=this.range(e),i=(n=t,s=this.step,e=>lM(n+e*s));var n,s;const r=iO(0,this.countFromMin(e)).map(e=>this.toListItem(i(e)));return this.addLast(r),this.addMissing(r,e),r}isRangeChanged(e,t){return!xF(this.min,e)||!xF(this.max,t)}limitRange(e,t,i){return[uM(e,i),dM(t,i)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastSecond(e)===e.getSeconds()||!this.isMissing(e)}divideByStep(e){return cM(e.getSeconds(),this.min.getSeconds())/this.step}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastSecond(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const i=this.toListItem(t.getSeconds());return e.splice(this.selectedIndex(t),0,i),e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(cM(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(eO(this.max,this.lastSecond(e)))}lastSecond(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getSeconds(),i.getSeconds()]}};return e.\u0275fac=function(t){return new(t||e)(We(TT))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const fM=(e=>e=>e%1e3)(),gM=(e,t)=>fM(1e3+e-t),mM=e=>(t,i)=>!i||t.getHours()===i.getHours()&&t.getMinutes()===i.getMinutes()&&t.getSeconds()===i.getSeconds()?t:tO(t,e),vM=mM(0),bM=mM(999);let yM=(()=>{let e=class{constructor(e){this.intl=e,this.insertUndividedMax=!1}apply(e,t){return tO(e,t.getMilliseconds())}configure(e){const{insertUndividedMax:t=this.insertUndividedMax,min:i=this.min,max:n=this.max,step:s=this.step}=e;this.insertUndividedMax=t,this.toListItem=e=>{const t=tO(VA,e);return{text:this.intl.formatDate(t,"SSS"),value:t}},this.min=i,this.max=n,this.step=s}data(e){const[t]=this.range(e),i=(n=t,s=this.step,e=>fM(n+e*s));var n,s;const r=iO(0,this.countFromMin(e)).map(e=>this.toListItem(i(e)));return this.addLast(r),this.addMissing(r,e),r}isRangeChanged(e,t){return!xF(this.min,e)||!xF(this.max,t)}limitRange(e,t,i){return[vM(e,i),bM(t,i)]}total(e){const t=this.insertUndividedMax&&this.isLastMissing(e)?1:0,i=this.isMissing(e)?1:0;return this.countFromMin(e)+i+t}selectedIndex(e){return Math.ceil(this.divideByStep(e))}valueInList(e){return!e||this.insertUndividedMax&&this.lastMillisecond(e)===e.getMilliseconds()||!this.isMissing(e)}divideByStep(e){return gM(e.getMilliseconds(),this.min.getMilliseconds())/this.step}addLast(e,t){return this.insertUndividedMax&&this.isLastMissing(t)&&e.push(this.toListItem(this.lastMillisecond(t))),e}addMissing(e,t){if(this.valueInList(t))return e;const i=this.toListItem(t.getMilliseconds());return e.splice(this.selectedIndex(t),0,i),e}countFromMin(e){const[t,i]=this.range(e);return Math.floor(gM(i,t)/this.step)+1}isMissing(e){return!!e&&this.selectedIndex(e)!==this.divideByStep(e)}isLastMissing(e){return this.isMissing(tO(this.max,this.lastMillisecond(e)))}lastMillisecond(e){return this.range(e)[1]}range(e){const[t,i]=this.limitRange(this.min,this.max,e);return[t.getMilliseconds(),i.getMilliseconds()]}};return e.\u0275fac=function(t){return new(t||e)(We(TT))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const wM=(e,t)=>{const i=vF(e);return i.setHours(t),i},CM=e=>null!==e&&e<12,xM=(e,t,i)=>!t&&!i||e>=t&&e<=i,SM=(e,t,i)=>!t&&!i||e>=t||e<=i;let kM=(()=>{let e=class{constructor(e){this.intl=e}apply(e,t){const i=e.getHours(),n=CM(i),s=CM(t.getHours());if(n&&s||!n&&!s)return e;const[r,o=24]=this.normalizedRange();return wM(e,Math.min(Math.max(r,i+(s?-12:12)),o||24))}configure(e){const{min:t=this.min,max:i=this.max,part:n=this.part}=e;this.min=t,this.max=i,this.part=n}data(e){const t=this.part.names;if(!t)return[];const i=[],[n,s]=this.normalizedRange(),r=this.intl.dateFormatNames(t);var o;return CM(n)&&i.push({text:r.am,value:wM(this.min,n)}),null!==(o=s)&&(!o||o>11)&&i.push({text:r.pm,value:wM(this.min,Math.max(12,s))}),this.min.getHours()!==n?i.reverse():i}isRangeChanged(e,t){return!1}limitRange(e,t,i){return[e,t]}total(){const[e,t]=this.normalizedRange();return(e||t)&&(e>11||t<12)?1:2}selectedIndex(e){if(!this.valueInList(e))return-1;const t=Math.floor(e.getHours()/12);return this.min.getHours()===this.normalizedRange()[0]?t:0===t?1:0}valueInList(e){return(this.min.getHours()!==this.normalizedRange()[0]?SM:xM)(e.getHours(),this.min.getHours(),this.max.getHours())}normalizedRange(){const e=this.min.getHours(),t=this.max.getHours();return[Math.min(e,t),Math.max(e,t)]}};return e.\u0275fac=function(t){return new(t||e)(We(TT))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const _M=()=>null,EM={35:(e,t)=>e[e.length-1],36:(e,t)=>e[0],38:(e,t)=>e[t-1],40:(e,t)=>e[t+1]},IM={dayperiod:kM,hour:tM,minute:aM,second:pM,millisecond:yM};let TM=(()=>{let e=class{constructor(e,t,i,n,s){this.element=e,this.injector=t,this.dom=i,this.renderer=n,this.zone=s,this.min=vF(VA),this.max=vF(jA),this.step=1,this.disabled=!1,this.valueChange=new nc,this.componentClass=!0,this.animateToIndex=!0,this.isActive=!1,this.skip=0,this.total=60,this.data=[],this.indexToScroll=-1,this.domEvents=[]}get tabIndex(){return this.disabled?void 0:0}ngOnChanges(e){e.part&&(this.service=this.injector.get(IM[this.part.type]),this.service.configure(this.serviceSettings()));const t=this.value,i=e.value||{},[n,s]=this.service.limitRange(this.min,this.max,t);(this.service.isRangeChanged(n,s)||e.min||e.max||e.step)&&(this.data=[],this.service.configure(this.serviceSettings({min:n,max:s}))),this.data.length&&!this.hasMissingValue(i)||(this.animateToIndex=!1,this.data=this.service.data(t)),this.animateToIndex=this.animateToIndex&&this.textHasChanged(i),this.total=this.service.total(t),this.indexToScroll=this.selectedIndex(t)}ngOnInit(){this.animateToIndex=!0,this.dom.ensureHeights(),this.itemHeight=this.dom.itemHeight,this.listHeight=this.dom.timeListHeight,this.topOffset=(this.listHeight-this.itemHeight)/2,this.bottomOffset=this.listHeight-this.itemHeight,this.topThreshold=.05*this.itemHeight,this.bottomThreshold=.95*this.itemHeight;const e=`translateY(${this.topOffset}px)`;this.style={transform:e,"-ms-transform":e},this.element&&this.zone.runOutsideAngular(()=>{this.bindEvents()})}ngOnDestroy(){this.scrollSubscription.unsubscribe(),this.domEvents.forEach(e=>e())}ngAfterViewInit(){this.scrollOnce(e=>this.virtualization.scrollToIndex(e))}ngAfterViewChecked(){this.scrollOnce(e=>{this.virtualization[this.animateToIndex?"animateToIndex":"scrollToIndex"](e),this.animateToIndex=!0})}handleChange(e){const t=this.service.apply(this.value,e.value);this.value.getTime()!==t.getTime()&&(this.indexToScroll=this.data.indexOf(e),this.value=t,this.valueChange.emit(t))}handleItemClick(e){const t=fR(e.target,e=>e.hasAttribute("data-timelist-item-index"),this.element.nativeElement);if(t){const e=t.getAttribute("data-timelist-item-index");this.handleChange(this.data[e])}}focus(){this.element&&this.element.nativeElement.focus()}blur(){this.element&&this.element.nativeElement.blur()}itemOffset(e){const t=this.selectedIndex(this.value),i=this.virtualization.activeIndex(),n=this.virtualization.itemOffset(i),s=Math.abs(Math.ceil(e)-n);if(t===i&&s<2)return n;const r=t>i;return r&&s>=this.bottomThreshold||!r&&s>this.topThreshold?this.virtualization.itemOffset(i+1):n}hasMissingValue({previousValue:e,currentValue:t}){const i=e&&!this.service.valueInList(e),n=t&&!this.service.valueInList(t);return i||n}scrollOnce(e){-1!==this.indexToScroll&&(e(this.indexToScroll),this.indexToScroll=-1)}serviceSettings(e){const t=Object.assign({},{boundRange:!1,insertUndividedMax:!1,max:this.max,min:this.min,part:this.part,step:this.step},e);return t.boundRange="hour"!==t.part.type,t}selectedIndex(e){return e?this.service.selectedIndex(e):-1}textHasChanged({previousValue:e,currentValue:t}){if(!e||!t)return!1;const i=this.data[this.selectedIndex(e)],n=this.data[this.selectedIndex(t)];return i&&n&&i.text!==n.text}handleKeyDown(e){const t=(EM[e.keyCode]||_M)(this.data,this.service.selectedIndex(this.value));t&&(this.handleChange(t),e.preventDefault())}bindEvents(){this.scrollSubscription=this.virtualization.scroll$().pipe(Wy(100),L(e=>e.target.scrollTop),L(e=>this.itemOffset(e)),L(e=>this.virtualization.itemIndex(e))).subscribe(e=>{this.virtualization.scrollToIndex(e),this.handleChange(this.data[e])});const e=this.element.nativeElement;this.domEvents.push(this.renderer.listen(e,"mouseover",()=>!this.isActive&&this.focus()),this.renderer.listen(e,"click",()=>this.focus()),this.renderer.listen(e,"blur",()=>this.isActive=!1),this.renderer.listen(e,"focus",()=>this.isActive=!0),this.renderer.listen(e,"keydown",this.handleKeyDown.bind(this)))}};return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(oo),Fo(ZP),Fo(Ya),Fo(Wc))},e.\u0275cmp=pt({type:e,selectors:[["kendo-timelist"]],viewQuery:function(e,t){var i;1&e&&gc(pR,!0),2&e&&fc(i=Cc())&&(t.virtualization=i.first)},hostVars:3,hostBindings:function(e,t){2&e&&(_o("tabindex",t.tabIndex),oa("k-time-list",t.componentClass))},inputs:{min:"min",max:"max",step:"step",disabled:"disabled",value:"value",part:"part"},outputs:{valueChange:"valueChange"},features:[Oa],decls:3,vars:13,consts:[["role","presentation","tabindex","-1",1,"k-time-container",3,"skip","take","total","itemHeight","maxScrollDifference","topOffset","bottomOffset"],[1,"k-reset",3,"ngStyle","kendoEventsOutsideAngular","scope"],["class","k-item",4,"ngFor","ngForOf"],[1,"k-item"]],template:function(e,t){1&e&&(Po(0,"kendo-virtualization",0),Po(1,"ul",1),Io(2,wA,3,2,"li",2),Mo(),Mo()),2&e&&(Oo("skip",t.skip)("take",t.total)("total",t.total)("itemHeight",t.itemHeight)("maxScrollDifference",t.listHeight)("topOffset",t.topOffset)("bottomOffset",t.bottomOffset),vs(1),Oo("ngStyle",t.style)("kendoEventsOutsideAngular",Ul(11,dD,t.handleItemClick))("scope",t),vs(1),Oo("ngForOf",t.data))},directives:[pR,Au,ny,xu],encapsulation:2}),e})();const FM=(e,t)=>e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes(),DM=(e,t)=>FM(e,t)&&e.getSeconds()===t.getSeconds(),AM=[{type:"hour",getter:e=>e.getHours(),minGetter:(e,t)=>t.getHours()},{type:"minute",getter:e=>e.getMinutes(),minGetter:(e,t)=>FM(e,t)?t.getMinutes():0},{type:"second",getter:e=>e.getSeconds(),minGetter:(e,t)=>DM(e,t)?t.getSeconds():0},{type:"millisecond",getter:e=>e.getMilliseconds(),minGetter:(e,t)=>((e,t)=>DM(e,t)&&e.getMilliseconds()===t.getMilliseconds())(e,t)?t.getMilliseconds():0}],OM=e=>t=>e.map(e=>{const i=t[e.type];return i?((e,t,i)=>(n,s)=>{const r=e(n),o=t(n,s),a=r-o;if(a<0)return o;const l=a%i;return r-l+(l>i/2?i:0)})(e.getter,e.minGetter,i):e.getter}),RM=(e=>t=>e.map((e=>t=>e[t.type]?(e=>(t,i)=>e(i))(t.getter):(e=>(t,i)=>e(t))(t.getter))((e=>e.reduce((e,t)=>(e[t.type]=t.type,e),{}))(t))))(AM),PM=OM(AM),MM=e=>(t,i)=>(t.setHours(...e.map(e=>e(t,i))),t),NM=(e,t,i,n)=>e.length||!t.isActive?e:[{next:n[i+1]||t,prev:n[i-1]||t}];var LM=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});let VM=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a){this.localization=e,this.cdr=t,this.element=i,this.intl=n,this.dom=s,this.zone=r,this.renderer=o,this.pickerService=a,this.componentClass=!0,this.format="t",this.min=vF(zA),this.max=vF(jA),this.cancelButton=!0,this.setButton=!0,this.nowButton=!0,this.disabled=!1,this.value=null,this.valueChange=new nc,this.valueReject=new nc,this.isActive=!1,this.showNowButton=!0,this._activeListIndex=-1,this._steps={},this.domEvents=[],this.pickerService&&(this.pickerService.timeSelector=this)}get disabledClass(){return this.disabled}set steps(e){this._steps=e||{}}get steps(){return this._steps}set current(e){this._current=((e,t,i)=>{if(!e||!t||!i)return e;const{candidateValue:n,minValue:s,maxValue:r}=YA(e,t,i);return n<s?ZA(e,t):n>r?ZA(e,i):e})(this.snapTime(vF(e||VA),this.min),this.min,this.max),Wc.isInAngularZone()||this.cdr.detectChanges()}get current(){return this._current}get activeListIndex(){return this._activeListIndex}set activeListIndex(e){if(this._activeListIndex=e,this.timeListWrappers&&this.timeListWrappers.length&&(this.timeListWrappers.forEach(e=>{this.renderer.removeClass(e.nativeElement,"k-state-focused")}),e>=0)){const t=this.listIndex(e),i=this.timeListWrappers.toArray()[t];i&&this.renderer.addClass(i.nativeElement,"k-state-focused")}}ngOnInit(){this.subscriptions=this.intl.changes.subscribe(this.intlChange.bind(this)),this.localization&&this.subscriptions.add(this.localization.changes.subscribe(()=>this.cdr.markForCheck())),this.dom.calculateHeights(this.element.nativeElement),this.init(),this.bindEvents()}ngOnChanges(e){this.init()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.pickerService&&(this.pickerService.timeSelector=null),this.domEvents.forEach(e=>e())}focus(){const e=this.timeLists.first;e&&e.focus()}blur(){const e=this.timeLists.first;e&&e.blur()}handleAccept(){this.handleChange(this.mergeValue(vF(this.value||CF(oO())),this.current))}handleNow(){this.current=oO(),this.handleChange(this.current),this.cdr.markForCheck()}handleReject(){this.current=this.value,this.valueReject.emit()}handleFocus(e){this.isActive||(this.isActive=!0,this.emitFocus(e))}handleListFocus(e){const t=parseInt(e.target.getAttribute("data-timelist-index"),10);this.activeListIndex=t,this.handleFocus(e)}handleBlur(e){const t=qA(e);t&&this.containsElement(t)||(this.activeListIndex=-1,this.isActive=!1,this.emitBlur(e))}containsElement(e){return Boolean(gR(e,e=>e===this.element.nativeElement))}partStep(e){return this.steps[e.type]||1}init(e){var t;e&&!dO(e,"format")||(this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=MM(RM(this.dateFormatParts))),e&&!dO(e,"steps")||(this.snapTime=(t=PM(this.steps),(e,i)=>{const n=vF(e);return n.setHours(...t.map(e=>e(n,i))),n})),e&&!dO(e,"value")||(this.current=this.value),this.showNowButton=!this.hasSteps()&&this.nowButton&&((e,t,i)=>{if(!e||!t||!i)return!0;const{candidateValue:n,minValue:s,maxValue:r}=YA(e,t,i);return s<=n&&n<=r})(oO(),this.min,this.max)}focusList(e){this.timeLists.length&&this.timeLists.reduce(NM,[]).map(t=>e===LM.Right?t.next:t.prev).map(e=>e&&e.focus())}handleChange(e){this.value=e,this.valueChange.emit(vF(e))}hasActiveButton(){return!!this.accept&&[this.accept,this.cancel,this.now].reduce((e,t)=>e||this.dom.isActive(t),!1)}hasSteps(){const e=Object.keys(this.steps);return e.length!==e.reduce((e,t)=>e+this.steps[t],0)}intlChange(){this.dateFormatParts=this.intl.splitDateFormat(this.format),this.mergeValue=MM(RM(this.dateFormatParts)),this.cdr.markForCheck()}bindEvents(){this.element&&this.zone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element.nativeElement,"keydown",this.handleKeydown.bind(this)))})}handleKeydown(e){const{keyCode:t,altKey:i}=e,n=-1!==[gy.ArrowLeft,gy.ArrowRight].indexOf(t);GA(this.pickerService)&&n&&i||(t!==gy.Enter||this.hasActiveButton()?t!==gy.ArrowLeft&&t!==gy.ArrowRight||this.focusList(t===gy.ArrowLeft?LM.Left:LM.Right):this.handleAccept())}emitBlur(e){this.pickerService&&this.pickerService.onBlur.emit(e)}emitFocus(e){this.pickerService&&this.pickerService.onFocus.emit(e)}listIndex(e){let t=0,i=0;for(;i<e;)"literal"!==this.dateFormatParts[i].type&&t++,i++;return t}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo($r),Fo(Ga),Fo(TT),Fo(ZP),Fo(Wc),Fo(Ya),Fo(OR,8))},e.\u0275cmp=pt({type:e,selectors:[["kendo-timeselector"]],viewQuery:function(e,t){var i;1&e&&(mc(CA,!0),mc(xA,!0),mc(SA,!0),mc(TM,!0),mc(kA,!0)),2&e&&(fc(i=Cc())&&(t.accept=i.first),fc(i=Cc())&&(t.cancel=i.first),fc(i=Cc())&&(t.now=i.first),fc(i=Cc())&&(t.timeLists=i),fc(i=Cc())&&(t.timeListWrappers=i))},hostVars:4,hostBindings:function(e,t){2&e&&oa("k-timeselector",t.componentClass)("k-state-disabled",t.disabledClass)},inputs:{format:"format",min:"min",max:"max",cancelButton:"cancelButton",setButton:"setButton",nowButton:"nowButton",disabled:"disabled",value:"value",steps:"steps"},outputs:{valueChange:"valueChange",valueReject:"valueReject"},exportAs:["kendo-timeselector"],features:[ja([Fy,{provide:Ty,useValue:"kendo.timeselector"}]),Oa],decls:10,vars:4,consts:[["kendoTimeSelectorLocalizedMessages","",6,"accept","acceptLabel","cancel","cancelLabel","now","nowLabel"],[1,"k-time-header"],[1,"k-title","k-timeselector-title"],["class","k-button k-flat k-time-now","type","button",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],[1,"k-time-list-container"],[1,"k-time-highlight"],["ngFor","",3,"ngForOf"],["class","k-time-footer k-action-buttons",4,"ngIf"],["type","button",1,"k-button","k-flat","k-time-now",3,"kendoEventsOutsideAngular","scope","disabled"],["now",""],["class","k-time-list-wrapper","role","presentation","tabindex","-1",4,"ngIf"],["class","k-time-separator",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-time-list-wrapper"],["listWrapper",""],[3,"min","max","part","step","disabled","value","kendoEventsOutsideAngular","scope","valueChange"],[1,"k-time-separator"],[1,"k-time-footer","k-action-buttons"],["class","k-button k-time-cancel","type","button",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],["type","button","class","k-time-accept k-button k-primary",3,"kendoEventsOutsideAngular","scope","disabled",4,"ngIf"],["type","button",1,"k-button","k-time-cancel",3,"kendoEventsOutsideAngular","scope","disabled"],["cancel",""],["type","button",1,"k-time-accept","k-button","k-primary",3,"kendoEventsOutsideAngular","scope","disabled"],["accept",""]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,_A),Vo(),Po(2,"div",1),Po(3,"span",2),ya(4),Mo(),Io(5,IA,3,10,"button",3),Mo(),Po(6,"div",4),No(7,"span",5),Io(8,AA,2,2,"ng-template",6),Mo(),Io(9,PA,3,2,"div",7)),2&e&&(vs(4),Ca(" ",t.intl.formatDate(t.current,t.format)," "),vs(1),Oo("ngIf",t.showNowButton),vs(3),Oo("ngForOf",t.dateFormatParts),vs(1),Oo("ngIf",t.setButton||t.cancelButton))},directives:function(){return[zM,ku,xu,ny,TM]},encapsulation:2,changeDetection:0}),e})(),HM=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return sN(t||e)},e.\u0275dir=yt({type:e,inputs:{accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",now:"now",nowLabel:"nowLabel",toggle:"toggle"},features:[Ea]}),e})();var BM;let zM=(()=>{let e=BM=class extends HM{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoTimeSelectorLocalizedMessages",""]],features:[ja([{provide:HM,useExisting:Se(()=>BM)}]),Ea]}),e})();var jM;let UM=(()=>{let e=jM=class extends HM{constructor(e){super(),this.service=e}get override(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-timeselector-messages"]],features:[ja([{provide:HM,useExisting:Se(()=>jM)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const $M=[MP,DT,RS,FP,sy],qM=[ZP,tM,aM,pM,yM,kM,{provide:JR,useValue:GS}];let GM=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:qM,imports:[[Pu,...$M]]}),e})(),KM=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return rN(t||e)},e.\u0275dir=yt({type:e,inputs:{toggle:"toggle",dateTab:"dateTab",dateTabLabel:"dateTabLabel",timeTab:"timeTab",timeTabLabel:"timeTabLabel",accept:"accept",acceptLabel:"acceptLabel",cancel:"cancel",cancelLabel:"cancelLabel",today:"today",now:"now",nowLabel:"nowLabel",prevButtonTitle:"prevButtonTitle",nextButtonTitle:"nextButtonTitle"},features:[Ea]}),e})();var WM;let ZM=(()=>{let e=WM=class extends KM{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoDateTimePickerLocalizedMessages",""]],features:[ja([{provide:KM,useExisting:Se(()=>WM)}]),Ea]}),e})();const YM=GS;let QM=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:JR,useValue:YM}],imports:[[Pu,DT,MP,DP,GM,RS,sy,vP],vP]}),e})();const JM=[AP,MP,jP,GM,$P,QM];let XM=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[JM,AP,MP,jP,GM,$P,QM]}),e})();const eN=an(bP),tN=an(kP),iN=an(OP),nN=an(NP),sN=an(HM),rN=an(KM);$localize`:kendo.floatinglabel.optional|The text for the optional segment of a FloatingLabel component␟d6b1dd6fb7530bd600b430042425d10b22163d1f␟356911862062553631:Optional`;const oN=["*"],aN=["optional",$localize`:kendo.label.optional|The text for the optional segment of a Label component␟a1cd4a8f359a22151d7e73f2887fbb2967cd389a␟3476218486854814180:Optional`];function lN(e,t){if(1&e&&(Po(0,"span",3),ya(1),Mo()),2&e){const e=Go();vs(1),Ca("(",e.textFor("optional"),")")}}let cN=(()=>{class e{constructor(e,t,i){this.label=e,this.renderer=t,this.zone=i,this.labelClass=!0,this.handleClick=()=>{const e=this.getFocusableComponent();e&&((e=>e.wrapper&&"KENDO-UPLOAD"===e.wrapper.tagName)(e)&&e.fileSelect.nativeElement.click(),e.focus&&e.focus(),((e,t)=>(e=>e instanceof HTMLInputElement&&/^(checkbox|radio)$/.test(e.type)&&!e.hidden)(e)&&!((e,t)=>e.parentElement===t||t.hasAttribute("for"))(e,t))(e,this.label.nativeElement)&&e.click())}}get labelFor(){if("string"==typeof this.for)return this.for;if(!Yb())return null;const e=this.getFocusableComponent()||{};return e.focusableId||e.id||null}ngAfterViewInit(){this.setAriaLabelledby(),this.zone.runOutsideAngular(()=>this.clickListener=this.renderer.listen(this.label.nativeElement,"click",this.handleClick))}ngOnDestroy(){this.clickListener&&this.clickListener()}setAriaLabelledby(){if(!Yb())return;const e=this.getFocusableComponent();if(e&&e.focusableId){const t=(e=>{if(!e)return null;let t=e;for(;t.parentElement;)t=t.parentElement;return t})(this.label.nativeElement).querySelector("#"+e.focusableId);if(!t)return;const i=this.label.nativeElement,n=i.id||"k-"+ey();i.getAttribute("id")||this.renderer.setAttribute(i,"id",n),this.renderer.setAttribute(t,"aria-labelledby",n)}}getFocusableComponent(){const e=this.for;return e&&void 0!==e.focus?e:null}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Ya),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["label","for",""]],hostVars:3,hostBindings:function(e,t){2&e&&(_o("for",t.labelFor),oa("k-label",t.labelClass))},inputs:{for:"for"}}),e})(),hN=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return uN(t||e)},e.\u0275dir=yt({type:e,inputs:{optional:"optional"},features:[Ea]}),e})();const uN=an(hN);let dN=(()=>{class e extends hN{constructor(e){super(),this.service=e}}return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoLabelLocalizedMessages",""],["","kendoFloatingLabelLocalizedMessages",""]],features:[ja([{provide:hN,useExisting:Se(()=>e)}]),Ea]}),e})(),pN=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),fN=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,pN],pN]}),e})(),gN=(()=>{class e{constructor(e,t,i){this.elementRef=e,this.renderer=t,this.localization=i,this.subscriptions=new u,this.direction=i.rtl?"rtl":"ltr",this.renderer.removeAttribute(this.elementRef.nativeElement,"id")}ngAfterContentInit(){if(this.for)return void(this.control=this.for);const e=this.elementRef.nativeElement.querySelector("kendo-label > input, kendo-label > textarea, kendo-label > select");if(e)return e.hasAttribute("id")||this.renderer.setAttribute(e,"id","k-"+ey()),void(this.control=e);this.control=this.kendoInput}ngOnInit(){this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>{this.direction=e?"rtl":"ltr"}))}ngAfterViewInit(){this.labelDirective.setAriaLabelledby()}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}textFor(e){return this.localization.get(e)}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Ya),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-label"]],contentQueries:function(e,t,i){var n;1&e&&yc(i,fy,!0),2&e&&fc(n=Cc())&&(t.kendoInput=n.first)},viewQuery:function(e,t){var i;1&e&&gc(cN,!0),2&e&&fc(i=Cc())&&(t.labelDirective=i.first)},hostVars:1,hostBindings:function(e,t){2&e&&_o("dir",t.direction)},inputs:{text:"text",for:"for",optional:"optional"},exportAs:["kendoLabel"],features:[ja([Fy,{provide:Ty,useValue:"kendo.label"}])],ngContentSelectors:oN,decls:6,vars:5,consts:[["kendoLabelLocalizedMessages","",6,"optional"],[3,"for"],["class","k-label-optional",4,"ngIf"],[1,"k-label-optional"]],template:function(e,t){1&e&&(Wo(),Lo(0,0),Nl(1,aN),Vo(),Po(2,"label",1),ya(3),Io(4,lN,2,1,"span",2),Mo(),Zo(5)),2&e&&(vs(2),oa("k-label-empty",!t.text),Oo("for",t.control),vs(1),Ca(" ",t.text,""),vs(1),Oo("ngIf",t.optional))},directives:[dN,cN,ku],encapsulation:2}),e})(),mN=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,pN],fN,pN]}),e})(),vN=(()=>{class e{constructor(){this.buttonLookChange=new Lf("default"),this.buttonClicked=new _,this.buttonClicked$=this.buttonClicked.asObservable()}click(e){this.buttonClicked.next(e)}setButtonLook(e){this.buttonLookChange.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),bN=(()=>{class e{constructor(e,t,i,n,s){this.service=i,this.ngZone=s,this.toggleable=!1,this.primary=!1,this.look="default",this.isDisabled=!1,this.isIcon=!1,this.isIconClass=!1,this.tabIndex=0,this.selectedChange=new nc,this.domEvents=[],this.direction=n.rtl?"rtl":"ltr",this.localizationChangeSubscription=n.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr"),this.element=e.nativeElement,this.renderer=t}get togglable(){return this.toggleable}set togglable(e){this.toggleable=e}get selected(){return this._selected||!1}set selected(e){this._selected=e}set icon(e){e?this.iconSetter(e,()=>{this.isIcon=!0,this.addIcon("k-icon k-i-"+e)}):(this.isIcon=!1,this.updateIconNode())}set iconClass(e){e?this.iconSetter(e,()=>{this.isIconClass=!0,this.addIcon(e)}):(this.isIconClass=!1,this.updateIconNode())}set imageUrl(e){e?this.iconSetter(e,this.addImgIcon.bind(this)):this.removeImageNode()}set disabled(e){this.isDisabled=e,this.renderer.setProperty(this.element,"disabled",e)}get classButton(){return!0}get classDisabled(){return this.isDisabled}get classPrimary(){return this.primary}get isFlat(){return"flat"===this.look}get isBare(){return"bare"===this.look}get isOutline(){return"outline"===this.look}get classActive(){return this.selected}ngOnInit(){this.service&&(this.buttonLookChangeSubscription=this.service.buttonLookChange.pipe(Jf(e=>"default"!==e)).subscribe(e=>this.look=e)),!this.element.hasAttribute("role")&&this.togglable&&this.toggleAriaCheckbox(this.toggleable),this.ngZone.runOutsideAngular(()=>{this.domEvents.push(this.renderer.listen(this.element,"click",this._onButtonClick.bind(this)))})}ngOnChanges(e){(Qb("togglable",e)||Qb("toggleable",e))&&this.toggleAriaCheckbox(this.toggleable)}ngAfterViewChecked(){this.setIconTextClasses()}ngOnDestroy(){this.imageNode=null,this.iconNode=null,this.renderer=null,this.localizationChangeSubscription.unsubscribe(),this.service&&this.buttonLookChangeSubscription&&this.buttonLookChangeSubscription.unsubscribe(),clearTimeout(this.deferTimeout),this.domEvents.forEach(e=>e())}focus(){Yb()&&this.element.focus()}blur(){Yb()&&this.element.blur()}setAttribute(e,t){this.renderer.setAttribute(this.element,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.element,e)}setSelected(e){const t=this.selected!==e;this.selected=e,this.setAttribute("aria-checked",this.selected.toString()),this.toggleClass("k-state-active",this.selected),t&&Xb(this.selectedChange)&&this.ngZone.run(()=>{this.selectedChange.emit(e)})}toggleAriaCheckbox(e){Yb()&&(e?(this.setAttribute("role","checkbox"),this.setAttribute("aria-checked",this.selected.toString())):(this.removeAttribute("role"),this.removeAttribute("aria-checked")))}hasText(){return!!Yb()&&String(this.element.textContent).trim().length>0}addImgIcon(e){let t=this.renderer;this.imageNode?t.setProperty(this.imageNode,"src",e):Yb()&&(this.imageNode=t.createElement("img"),t.setProperty(this.imageNode,"src",e),t.setProperty(this.imageNode,"className","k-image"),t.setAttribute(this.imageNode,"role","presentation"),this.prependChild(this.imageNode))}addIcon(e){let t=this.renderer;this.iconNode?t.setProperty(this.iconNode,"className",e):Yb()&&(this.iconNode=t.createElement("span"),t.setProperty(this.iconNode,"className",e),t.setAttribute(this.iconNode,"role","presentation"),this.prependChild(this.iconNode))}prependChild(e){this.defer(()=>{this.renderer&&e!==this.element.firstChild&&this.renderer.insertBefore(this.element,e,this.element.firstChild)})}defer(e){this.ngZone.runOutsideAngular(()=>{this.deferTimeout=setTimeout(e,0)})}iconSetter(e,t){e&&t(e),this.setIconTextClasses()}removeImageNode(){this.imageNode&&this.renderer.parentNode(this.imageNode)&&(this.renderer.removeChild(this.element,this.imageNode),this.imageNode=null)}removeIconNode(){this.iconNode&&this.renderer.parentNode(this.iconNode)&&(this.renderer.removeChild(this.element,this.iconNode),this.iconNode=null)}updateIconNode(){this.isIcon||this.isIconClass||this.removeIconNode()}setIconTextClasses(){const e=this.isIcon||this.isIconClass||this.imageNode,t=this.hasText();this.toggleClass("k-button-icon",e&&!t),this.toggleClass("k-button-icontext",e&&t)}toggleClass(e,t){t?this.renderer.addClass(this.element,e):this.renderer.removeClass(this.element,e)}_onButtonClick(){this.toggleable&&(!this.disabled&&this.service&&this.ngZone.run(()=>{this.service.click(this)}),this.service||this.setSelected(!this.selected))}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Ya),Fo(vN,8),Fo(Fy),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["button","kendoButton",""]],hostVars:15,hostBindings:function(e,t){2&e&&(_o("dir",t.direction),oa("k-button",t.classButton)("k-state-disabled",t.classDisabled)("k-primary",t.classPrimary)("k-flat",t.isFlat)("k-bare",t.isBare)("k-outline",t.isOutline)("k-state-active",t.classActive))},inputs:{toggleable:"toggleable",primary:"primary",look:"look",tabIndex:"tabIndex",togglable:"togglable",selected:"selected",icon:"icon",iconClass:"iconClass",imageUrl:"imageUrl",disabled:"disabled"},outputs:{selectedChange:"selectedChange"},exportAs:["kendoButton"],features:[ja([Fy,{provide:Ty,useValue:"kendo.button"}]),Oa]}),e})();class yN{}function wN(e){return void 0!==e}const CN=Math.PI/180,xN=Number.MAX_VALUE,SN=-Number.MAX_VALUE;function kN(e){return e*CN}function _N(e,t){const i=(n=t)?Math.pow(10,n):1;var n;return Math.round(e*i)/i}var EN=(()=>{class e extends yN{constructor(e=0,t=0,i=0,n=0,s=0,r=0){super(),this.a=e,this.b=t,this.c=i,this.d=n,this.e=s,this.f=r}multiplyCopy(t){return new e(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}invert(){const{a:t,b:i,c:n,d:s,e:r,f:o}=this,a=t*s-i*n;return 0===a?null:new e(s/a,-i/a,-n/a,t/a,(n*o-s*r)/a,(i*r-t*o)/a)}clone(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)}equals(e){return!!e&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d&&this.e===e.e&&this.f===e.f}round(e){return this.a=_N(this.a,e),this.b=_N(this.b,e),this.c=_N(this.c,e),this.d=_N(this.d,e),this.e=_N(this.e,e),this.f=_N(this.f,e),this}toArray(e){const t=[this.a,this.b,this.c,this.d,this.e,this.f];if(wN(e))for(let i=0;i<t.length;i++)t[i]=_N(t[i],e);return t}toString(e,t=","){return this.toArray(e).join(t)}static translate(t,i){return new e(1,0,0,1,t,i)}static unit(){return new e(1,0,0,1,0,0)}static rotate(t,i,n){const s=new e;return s.a=Math.cos(kN(t)),s.b=Math.sin(kN(t)),s.c=-s.b,s.d=s.a,s.e=i-i*s.a+n*s.b||0,s.f=n-n*s.a-i*s.b||0,s}static scale(t,i){return new e(t,0,0,i,0,0)}}return e.IDENTITY=e.unit(),e})(),IN=class extends yN{observers(){return this._observers=this._observers||[],this._observers}addObserver(e){return this._observers?this._observers.push(e):this._observers=[e],this}removeObserver(e){const t=this.observers(),i=t.indexOf(e);return-1!==i&&t.splice(i,1),this}trigger(e,t){const i=this._observers;if(i&&!this._suspended)for(let n=0;n<i.length;n++){let s=i[n];s[e]&&s[e](t)}return this}optionsChange(e={}){e.element=this,this.trigger("optionsChange",e)}geometryChange(){this.trigger("geometryChange",{element:this})}suspend(){return this._suspended=(this._suspended||0)+1,this}resume(){return this._suspended=Math.max((this._suspended||0)-1,0),this}_observerField(e,t){this[e]&&this[e].removeObserver(this),this[e]=t,t.addObserver(this)}};function TN(e){return function(t){return this[e]!==t&&(this[e]=t,this.geometryChange()),this}}function FN(e){return function(){return this[e]}}var DN=(e,t)=>{const i=class extends e{};return function(e,t){for(let i=0;i<t.length;i++){let n=t[i],s=n.charAt(0).toUpperCase()+n.substring(1,n.length);e["set"+s]=TN(n),e["get"+s]=FN(n)}}(i.prototype,t),i};function AN(e){return e&&"function"==typeof e.matrix?e.matrix():e}class ON extends(DN(IN,["x","y"])){constructor(e,t){super(),this.x=e||0,this.y=t||0}equals(e){return e&&e.x===this.x&&e.y===this.y}clone(){return new ON(this.x,this.y)}rotate(e,t){const i=ON.create(t)||ON.ZERO;return this.transform(EN.rotate(e,i.x,i.y))}translate(e,t){return this.x+=e,this.y+=t,this.geometryChange(),this}translateWith(e){return this.translate(e.x,e.y)}move(e,t){return this.x=this.y=0,this.translate(e,t)}scale(e,t=e){return this.x*=e,this.y*=t,this.geometryChange(),this}scaleCopy(e,t){return this.clone().scale(e,t)}transform(e){const t=AN(e),{x:i,y:n}=this;return this.x=t.a*i+t.c*n+t.e,this.y=t.b*i+t.d*n+t.f,this.geometryChange(),this}transformCopy(e){const t=this.clone();return e&&t.transform(e),t}distanceTo(e){const t=this.x-e.x,i=this.y-e.y;return Math.sqrt(t*t+i*i)}round(e){return this.x=_N(this.x,e),this.y=_N(this.y,e),this.geometryChange(),this}toArray(e){const t=wN(e);return[t?_N(this.x,e):this.x,t?_N(this.y,e):this.y]}toString(e,t=" "){let{x:i,y:n}=this;return wN(e)&&(i=_N(i,e),n=_N(n,e)),i+t+n}static create(e,t){if(wN(e))return e instanceof ON?e:1===arguments.length&&2===e.length?new ON(e[0],e[1]):new ON(e,t)}static min(){let e=xN,t=xN;for(let i=0;i<arguments.length;i++){let n=arguments[i];e=Math.min(n.x,e),t=Math.min(n.y,t)}return new ON(e,t)}static max(){let e=SN,t=SN;for(let i=0;i<arguments.length;i++){const n=arguments[i];e=Math.max(n.x,e),t=Math.max(n.y,t)}return new ON(e,t)}static minPoint(){return new ON(SN,SN)}static maxPoint(){return new ON(xN,xN)}static get ZERO(){return new ON(0,0)}}var RN=ON;class PN extends(DN(IN,["width","height"])){constructor(e,t){super(),this.width=e||0,this.height=t||0}equals(e){return e&&e.width===this.width&&e.height===this.height}clone(){return new PN(this.width,this.height)}toArray(e){const t=wN(e);return[t?_N(this.width,e):this.width,t?_N(this.height,e):this.height]}static create(e,t){if(wN(e))return e instanceof PN?e:1===arguments.length&&2===e.length?new PN(e[0],e[1]):new PN(e,t)}static get ZERO(){return new PN(0,0)}}var MN=PN;class NN extends IN{constructor(e=new RN,t=new MN,i=0){super(),this.setOrigin(e),this.setSize(t),this.setCornerRadius(i)}clone(){return new NN(this.origin.clone(),this.size.clone())}equals(e){return e&&e.origin.equals(this.origin)&&e.size.equals(this.size)}setOrigin(e){return this._observerField("origin",RN.create(e)),this.geometryChange(),this}getOrigin(){return this.origin}setCornerRadius(e){return this.cornerRadius=Array.isArray(e)?e:[e,e],this.geometryChange(),this}getCornerRadius(){return this.cornerRadius}setSize(e){return this._observerField("size",MN.create(e)),this.geometryChange(),this}getSize(){return this.size}width(){return this.size.width}height(){return this.size.height}topLeft(){return this.origin.clone()}bottomRight(){return this.origin.clone().translate(this.width(),this.height())}topRight(){return this.origin.clone().translate(this.width(),0)}bottomLeft(){return this.origin.clone().translate(0,this.height())}center(){return this.origin.clone().translate(this.width()/2,this.height()/2)}bbox(e){const t=this.topLeft().transformCopy(e),i=this.topRight().transformCopy(e),n=this.bottomRight().transformCopy(e),s=this.bottomLeft().transformCopy(e);return NN.fromPoints(t,i,n,s)}transformCopy(e){return NN.fromPoints(this.topLeft().transform(e),this.bottomRight().transform(e))}expand(e,t=e){return this.size.width+=2*e,this.size.height+=2*t,this.origin.translate(-e,-t),this}expandCopy(e,t){return this.clone().expand(e,t)}containsPoint(e){const t=this.origin,i=this.bottomRight();return!(e.x<t.x||e.y<t.y||i.x<e.x||i.y<e.y)}_isOnPath(e,t){const i=this.expandCopy(t,t),n=this.expandCopy(-t,-t);return i.containsPoint(e)&&!n.containsPoint(e)}static fromPoints(){const e=RN.min.apply(null,arguments),t=RN.max.apply(null,arguments),i=new MN(t.x-e.x,t.y-e.y);return new NN(e,i)}static union(e,t){return NN.fromPoints(RN.min(e.topLeft(),t.topLeft()),RN.max(e.bottomRight(),t.bottomRight()))}static intersect(e,t){const i={left:e.topLeft().x,top:e.topLeft().y,right:e.bottomRight().x,bottom:e.bottomRight().y},n={left:t.topLeft().x,top:t.topLeft().y,right:t.bottomRight().x,bottom:t.bottomRight().y};if(i.left<=n.right&&n.left<=i.right&&i.top<=n.bottom&&n.top<=i.bottom)return NN.fromPoints(new RN(Math.max(i.left,n.left),Math.max(i.top,n.top)),new RN(Math.min(i.right,n.right),Math.min(i.bottom,n.bottom)))}}var LN=NN;class VN extends IN{constructor(e=EN.unit()){super(),this._matrix=e}clone(){return new VN(this._matrix.clone())}equals(e){return e&&e._matrix.equals(this._matrix)}translate(e,t){return this._matrix=this._matrix.multiplyCopy(EN.translate(e,t)),this._optionsChange(),this}scale(e,t=e,i=null){let n=i;return n&&(n=RN.create(n),this._matrix=this._matrix.multiplyCopy(EN.translate(n.x,n.y))),this._matrix=this._matrix.multiplyCopy(EN.scale(e,t)),n&&(this._matrix=this._matrix.multiplyCopy(EN.translate(-n.x,-n.y))),this._optionsChange(),this}rotate(e,t){const i=RN.create(t)||RN.ZERO;return this._matrix=this._matrix.multiplyCopy(EN.rotate(e,i.x,i.y)),this._optionsChange(),this}multiply(e){const t=AN(e);return this._matrix=this._matrix.multiplyCopy(t),this._optionsChange(),this}matrix(e){return e?(this._matrix=e,this._optionsChange(),this):this._matrix}_optionsChange(){this.optionsChange({field:"transform",value:this})}}var HN=VN;function BN(e){return null===e?null:e instanceof HN?e:new HN(e)}function zN(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function jN(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)zN(i,n)&&(e[n]=i[n])}}return e}function UN(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}Math,DN(IN,["radiusX","radiusY","startAngle","endAngle","anticlockwise"]),Math,DN(IN,["radius"]);var $N={arraySet:function(e,t,i,n,s){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),s);else for(var r=0;r<n;r++)e[s+r]=t[i+r]},flattenChunks:function(e){var t,i,n,s,r,o;for(n=0,t=0,i=e.length;t<i;t++)n+=e[t].length;for(o=new Uint8Array(n),s=0,t=0,i=e.length;t<i;t++)o.set(r=e[t],s),s+=r.length;return o},Buf8:function(e){return new Uint8Array(e)},Buf16:function(e){return new Uint16Array(e)},Buf32:function(e){return new Int32Array(e)}},qN={arraySet:function(e,t,i,n,s){for(var r=0;r<n;r++)e[s+r]=t[i+r]},flattenChunks:function(e){return[].concat.apply([],e)},Buf8:function(e){return new Array(e)},Buf16:function(e){return new Array(e)},Buf32:function(e){return new Array(e)}};let GN=()=>{const e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;return GN=()=>e,e},KN=(e,t,i,n,s)=>(KN=GN()?$N.arraySet:qN.arraySet,KN(e,t,i,n,s)),WN=e=>(WN=GN()?$N.flattenChunks:qN.flattenChunks,WN(e)),ZN=e=>(ZN=GN()?$N.Buf8:qN.Buf8,ZN(e)),YN=e=>(YN=GN()?$N.Buf16:qN.Buf16,YN(e)),QN=e=>(QN=GN()?$N.Buf32:qN.Buf32,QN(e)),JN=function(){let e=!0;try{String.fromCharCode.apply(null,[0])}catch(t){e=!1}return JN=()=>e,e},XN=function(){let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){e=!1}return XN=()=>e,e},eL=function(e){for(var t=ZN(256),i=0;i<256;i++)t[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;return t[254]=t[254]=1,eL=e=>t[e],t[e]};function tL(e){var t,i,n,s,r,o=e.length,a=0;for(s=0;s<o;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),r=0,s=0;r<a;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?t[r++]=i:i<2048?(t[r++]=192|i>>>6,t[r++]=128|63&i):i<65536?(t[r++]=224|i>>>12,t[r++]=128|i>>>6&63,t[r++]=128|63&i):(t[r++]=240|i>>>18,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63,t[r++]=128|63&i);return t}function iL(e,t){if(t<65534&&(e.subarray&&XN()||!e.subarray&&JN()))return String.fromCharCode.apply(null,UN(e,t));for(var i="",n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i}function nL(e,t){var i,n,s,r,o=t||e.length,a=new Array(2*o);for(n=0,i=0;i<o;)if((s=e[i++])<128)a[n++]=s;else if((r=eL(s))>4)a[n++]=65533,i+=r-1;else{for(s&=2===r?31:3===r?15:7;r>1&&i<o;)s=s<<6|63&e[i++],r--;r>1?a[n++]=65533:s<65536?a[n++]=s:(a[n++]=55296|(s-=65536)>>10&1023,a[n++]=56320|1023&s)}return iL(a,n)}function sL(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+eL(e[i])>t?i:t}function rL(e,t,i,n){for(var s=65535&e|0,r=e>>>16&65535|0,o=0;0!==i;){i-=o=i>2e3?2e3:i;do{r=r+(s=s+t[n++]|0)|0}while(--o);s%=65521,r%=65521}return s|r<<16|0}let oL=function(){const e=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();return oL=()=>e,e};function aL(e,t,i,n){var s=oL(),r=n+i;e^=-1;for(var o=n;o<r;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}function lL(e,t){var i,n,s,r,o,a,l,c,h,u,d,p,f,g,m,v,b,y,w,C,x,S,k,_,E;_=e.input,s=(n=e.next_in)+(e.avail_in-5),E=e.output,o=(r=e.next_out)-(t-e.avail_out),a=r+(e.avail_out-257),l=(i=e.state).dmax,c=i.wsize,h=i.whave,u=i.wnext,d=i.window,p=i.hold,f=i.bits,g=i.lencode,m=i.distcode,v=(1<<i.lenbits)-1,b=(1<<i.distbits)-1;e:do{f<15&&(p+=_[n++]<<f,p+=_[n++]<<(f+=8),f+=8),y=g[p&v];t:for(;;){if(p>>>=w=y>>>24,f-=w,0==(w=y>>>16&255))E[r++]=65535&y;else{if(!(16&w)){if(0==(64&w)){y=g[(65535&y)+(p&(1<<w)-1)];continue t}if(32&w){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}C=65535&y,(w&=15)&&(f<w&&(p+=_[n++]<<f,f+=8),C+=p&(1<<w)-1,p>>>=w,f-=w),f<15&&(p+=_[n++]<<f,p+=_[n++]<<(f+=8),f+=8),y=m[p&b];i:for(;;){if(p>>>=w=y>>>24,f-=w,!(16&(w=y>>>16&255))){if(0==(64&w)){y=m[(65535&y)+(p&(1<<w)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(x=65535&y,f<(w&=15)&&(p+=_[n++]<<f,(f+=8)<w&&(p+=_[n++]<<f,f+=8)),(x+=p&(1<<w)-1)>l){e.msg="invalid distance too far back",i.mode=30;break e}if(p>>>=w,f-=w,x>(w=r-o)){if((w=x-w)>h&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(S=0,k=d,0===u){if(S+=c-w,w<C){C-=w;do{E[r++]=d[S++]}while(--w);S=r-x,k=E}}else if(u<w){if(S+=c+u-w,(w-=u)<C){C-=w;do{E[r++]=d[S++]}while(--w);if(S=0,u<C){C-=w=u;do{E[r++]=d[S++]}while(--w);S=r-x,k=E}}}else if(S+=u-w,w<C){C-=w;do{E[r++]=d[S++]}while(--w);S=r-x,k=E}for(;C>2;)E[r++]=k[S++],E[r++]=k[S++],E[r++]=k[S++],C-=3;C&&(E[r++]=k[S++],C>1&&(E[r++]=k[S++]))}else{S=r-x;do{E[r++]=E[S++],E[r++]=E[S++],E[r++]=E[S++],C-=3}while(C>2);C&&(E[r++]=E[S++],C>1&&(E[r++]=E[S++]))}break}}break}}while(n<s&&r<a);p&=(1<<(f-=(C=f>>3)<<3))-1,e.next_in=n-=C,e.next_out=r,e.avail_in=n<s?s-n+5:5-(n-s),e.avail_out=r<a?a-r+257:257-(r-a),i.hold=p,i.bits=f}var cL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],hL=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],uL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dL=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function pL(e,t,i,n,s,r,o,a){var l,c,h,u,d,p,f,g,m,v=a.bits,b=0,y=0,w=0,C=0,x=0,S=0,k=0,_=0,E=0,I=0,T=null,F=0,D=YN(16),A=YN(16),O=null,R=0;for(b=0;b<=15;b++)D[b]=0;for(y=0;y<n;y++)D[t[i+y]]++;for(x=v,C=15;C>=1&&0===D[C];C--);if(x>C&&(x=C),0===C)return s[r++]=20971520,s[r++]=20971520,a.bits=1,0;for(w=1;w<C&&0===D[w];w++);for(x<w&&(x=w),_=1,b=1;b<=15;b++)if(_<<=1,(_-=D[b])<0)return-1;if(_>0&&(0===e||1!==C))return-1;for(A[1]=0,b=1;b<15;b++)A[b+1]=A[b]+D[b];for(y=0;y<n;y++)0!==t[i+y]&&(o[A[t[i+y]]++]=y);if(0===e?(T=O=o,p=19):1===e?(T=cL,F-=257,O=hL,R-=257,p=256):(T=uL,O=dL,p=-1),I=0,y=0,b=w,d=r,S=x,k=0,h=-1,u=(E=1<<x)-1,1===e&&E>852||2===e&&E>592)return 1;for(;;){f=b-k,o[y]<p?(g=0,m=o[y]):o[y]>p?(g=O[R+o[y]],m=T[F+o[y]]):(g=96,m=0),l=1<<b-k,w=c=1<<S;do{s[d+(I>>k)+(c-=l)]=f<<24|g<<16|m|0}while(0!==c);for(l=1<<b-1;I&l;)l>>=1;if(0!==l?(I&=l-1,I+=l):I=0,y++,0==--D[b]){if(b===C)break;b=t[i+o[y]]}if(b>x&&(I&u)!==h){for(0===k&&(k=x),d+=w,_=1<<(S=b-k);S+k<C&&!((_-=D[S+k])<=0);)S++,_<<=1;if(E+=1<<S,1===e&&E>852||2===e&&E>592)return 1;s[h=I&u]=x<<24|S<<16|d-r|0}}return 0!==I&&(s[d+I]=b-k<<24|64<<16|0),a.bits=x,0}function fL(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function gL(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=YN(320),this.work=YN(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var mL,vL,bL=!0;function yL(e){if(bL){var t;for(mL=QN(512),vL=QN(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(pL(1,e.lens,0,288,mL,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;pL(2,e.lens,0,32,vL,0,e.work,{bits:5}),bL=!1}e.lencode=mL,e.lenbits=9,e.distcode=vL,e.distbits=5}function wL(e,t,i,n){var s,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=ZN(r.wsize)),n>=r.wsize?(KN(r.window,t,i-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):((s=r.wsize-r.wnext)>n&&(s=n),KN(r.window,t,i-n,s,r.wnext),(n-=s)?(KN(r.window,t,i-n,n,0),r.wnext=n,r.whave=r.wsize):(r.wnext+=s,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=s))),0}function CL(e,t){var i,n,s,r,o,a,l,c,h,u,d,p,f,g,m,v,b,y,w,C,x,S,k,_,E=0,I=ZN(4),T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(i=e.state).mode&&(i.mode=13),o=e.next_out,s=e.output,r=e.next_in,n=e.input,c=i.hold,h=i.bits,u=a=e.avail_in,d=l=e.avail_out,S=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;h<16;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(2&i.wrap&&35615===c){i.check=0,I[0]=255&c,I[1]=c>>>8&255,i.check=aL(i.check,I,2,0),c=0,h=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",i.mode=30;break}if(8!=(15&c)){e.msg="unknown compression method",i.mode=30;break}if(h-=4,x=8+(15&(c>>>=4)),0===i.wbits)i.wbits=x;else if(x>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<x,e.adler=i.check=1,i.mode=512&c?10:12,c=0,h=0;break;case 2:for(;h<16;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(i.flags=c,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=c>>8&1),512&i.flags&&(I[0]=255&c,I[1]=c>>>8&255,i.check=aL(i.check,I,2,0)),c=0,h=0,i.mode=3;case 3:for(;h<32;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}i.head&&(i.head.time=c),512&i.flags&&(I[0]=255&c,I[1]=c>>>8&255,I[2]=c>>>16&255,I[3]=c>>>24&255,i.check=aL(i.check,I,4,0)),c=0,h=0,i.mode=4;case 4:for(;h<16;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}i.head&&(i.head.xflags=255&c,i.head.os=c>>8),512&i.flags&&(I[0]=255&c,I[1]=c>>>8&255,i.check=aL(i.check,I,2,0)),c=0,h=0,i.mode=5;case 5:if(1024&i.flags){for(;h<16;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}i.length=c,i.head&&(i.head.extra_len=c),512&i.flags&&(I[0]=255&c,I[1]=c>>>8&255,i.check=aL(i.check,I,2,0)),c=0,h=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((p=i.length)>a&&(p=a),p&&(i.head&&(x=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),KN(i.head.extra,n,r,p,x)),512&i.flags&&(i.check=aL(i.check,n,p,r)),a-=p,r+=p,i.length-=p),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===a)break e;p=0;do{x=n[r+p++],i.head&&x&&i.length<65536&&(i.head.name+=String.fromCharCode(x))}while(x&&p<a);if(512&i.flags&&(i.check=aL(i.check,n,p,r)),a-=p,r+=p,x)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===a)break e;p=0;do{x=n[r+p++],i.head&&x&&i.length<65536&&(i.head.comment+=String.fromCharCode(x))}while(x&&p<a);if(512&i.flags&&(i.check=aL(i.check,n,p,r)),a-=p,r+=p,x)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;h<16;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(c!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}c=0,h=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;h<32;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}e.adler=i.check=fL(c),c=0,h=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=o,e.avail_out=l,e.next_in=r,e.avail_in=a,i.hold=c,i.bits=h,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last){c>>>=7&h,h-=7&h,i.mode=27;break}for(;h<3;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}switch(i.last=1&c,h-=1,3&(c>>>=1)){case 0:i.mode=14;break;case 1:if(yL(i),i.mode=20,6===t){c>>>=2,h-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}c>>>=2,h-=2;break;case 14:for(c>>>=7&h,h-=7&h;h<32;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&c,c=0,h=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(p=i.length){if(p>a&&(p=a),p>l&&(p=l),0===p)break e;KN(s,n,r,p,o),a-=p,r+=p,l-=p,o+=p,i.length-=p;break}i.mode=12;break;case 17:for(;h<14;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(i.nlen=257+(31&c),h-=5,i.ndist=1+(31&(c>>>=5)),h-=5,i.ncode=4+(15&(c>>>=5)),c>>>=4,h-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;h<3;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}i.lens[T[i.have++]]=7&c,c>>>=3,h-=3}for(;i.have<19;)i.lens[T[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,S=pL(0,i.lens,0,19,i.lencode,0,i.work,k={bits:i.lenbits}),i.lenbits=k.bits,S){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;v=(E=i.lencode[c&(1<<i.lenbits)-1])>>>16&255,b=65535&E,!((m=E>>>24)<=h);){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(b<16)c>>>=m,h-=m,i.lens[i.have++]=b;else{if(16===b){for(_=m+2;h<_;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(c>>>=m,h-=m,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}x=i.lens[i.have-1],p=3+(3&c),c>>>=2,h-=2}else if(17===b){for(_=m+3;h<_;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}h-=m,x=0,p=3+(7&(c>>>=m)),c>>>=3,h-=3}else{for(_=m+7;h<_;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}h-=m,x=0,p=11+(127&(c>>>=m)),c>>>=7,h-=7}if(i.have+p>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;p--;)i.lens[i.have++]=x}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,S=pL(1,i.lens,0,i.nlen,i.lencode,0,i.work,k={bits:i.lenbits}),i.lenbits=k.bits,S){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,S=pL(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,k={bits:i.distbits}),i.distbits=k.bits,S){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(a>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=r,e.avail_in=a,i.hold=c,i.bits=h,lL(e,d),o=e.next_out,s=e.output,l=e.avail_out,r=e.next_in,n=e.input,a=e.avail_in,c=i.hold,h=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;v=(E=i.lencode[c&(1<<i.lenbits)-1])>>>16&255,b=65535&E,!((m=E>>>24)<=h);){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(v&&0==(240&v)){for(y=m,w=v,C=b;v=(E=i.lencode[C+((c&(1<<y+w)-1)>>y)])>>>16&255,b=65535&E,!(y+(m=E>>>24)<=h);){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}c>>>=y,h-=y,i.back+=y}if(c>>>=m,h-=m,i.back+=m,i.length=b,0===v){i.mode=26;break}if(32&v){i.back=-1,i.mode=12;break}if(64&v){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&v,i.mode=22;case 22:if(i.extra){for(_=i.extra;h<_;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}i.length+=c&(1<<i.extra)-1,c>>>=i.extra,h-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;v=(E=i.distcode[c&(1<<i.distbits)-1])>>>16&255,b=65535&E,!((m=E>>>24)<=h);){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(0==(240&v)){for(y=m,w=v,C=b;v=(E=i.distcode[C+((c&(1<<y+w)-1)>>y)])>>>16&255,b=65535&E,!(y+(m=E>>>24)<=h);){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}c>>>=y,h-=y,i.back+=y}if(c>>>=m,h-=m,i.back+=m,64&v){e.msg="invalid distance code",i.mode=30;break}i.offset=b,i.extra=15&v,i.mode=24;case 24:if(i.extra){for(_=i.extra;h<_;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}i.offset+=c&(1<<i.extra)-1,c>>>=i.extra,h-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===l)break e;if(i.offset>(p=d-l)){if((p=i.offset-p)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}f=p>i.wnext?i.wsize-(p-=i.wnext):i.wnext-p,p>i.length&&(p=i.length),g=i.window}else g=s,f=o-i.offset,p=i.length;p>l&&(p=l),l-=p,i.length-=p;do{s[o++]=g[f++]}while(--p);0===i.length&&(i.mode=21);break;case 26:if(0===l)break e;s[o++]=i.length,l--,i.mode=21;break;case 27:if(i.wrap){for(;h<32;){if(0===a)break e;a--,c|=n[r++]<<h,h+=8}if(e.total_out+=d-=l,i.total+=d,d&&(e.adler=i.check=i.flags?aL(i.check,s,d,o-d):rL(i.check,s,d,o-d)),d=l,(i.flags?c:fL(c))!==i.check){e.msg="incorrect data check",i.mode=30;break}c=0,h=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;h<32;){if(0===a)break e;a--,c+=n[r++]<<h,h+=8}if(c!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}c=0,h=0}i.mode=29;case 29:S=1;break e;case 30:S=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=o,e.avail_out=l,e.next_in=r,e.avail_in=a,i.hold=c,i.bits=h,(i.wsize||d!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&wL(e,e.output,e.next_out,d-e.avail_out),d-=e.avail_out,e.total_in+=u-=e.avail_in,e.total_out+=d,i.total+=d,i.wrap&&d&&(e.adler=i.check=i.flags?aL(i.check,s,d,e.next_out-d):rL(i.check,s,d,e.next_out-d)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===u&&0===d||4===t)&&0===S&&(S=-5),S}function xL(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?-2:11===i.mode&&rL(1,t,n,0)!==i.check?-3:wL(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,0):-2}var SL={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function kL(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function _L(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var EL=Object.prototype.toString;class IL{constructor(e){if(!(this instanceof IL))return new IL(e);this.options=jN({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kL,this.strm.avail_out=0;var i,n,s,r=function(e,t){var i,n;return e?(n=new gL,e.state=n,n.window=null,0!==(i=function(e,t){var i,n;return e&&e.state?(t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==(n=e.state).window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,function(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,function(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=QN(852),t.distcode=t.distdyn=QN(592),t.sane=1,t.back=-1,0):-2}(e)):-2}(e))):-2}(e,t))&&(e.state=null),i):-2}(this.strm,t.windowBits);if(0!==r)throw new Error(SL[r]);if(this.header=new _L,n=this.header,(i=this.strm)&&i.state&&(0==(2&(s=i.state).wrap)||(s.head=n,n.done=!1)),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=tL(t.dictionary):"[object ArrayBuffer]"===EL.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&0!==(r=xL(this.strm,t.dictionary))))throw new Error(SL[r])}push(e,t){var i,n,s,r,o,a,l=this.strm,c=this.options.chunkSize,h=this.options.dictionary,u=!1;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,l.input="string"==typeof e?function(e){for(var t=new Uint8Array(e.length),i=0,n=t.length;i<n;i++)t[i]=e.charCodeAt(i);return t}(e):"[object ArrayBuffer]"===EL.call(e)?new Uint8Array(e):e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=ZN(c),l.next_out=0,l.avail_out=c),2===(i=CL(l,0))&&h&&(a="string"==typeof h?tL(h):"[object ArrayBuffer]"===EL.call(h)?new Uint8Array(h):h,i=xL(this.strm,a)),-5===i&&!0===u&&(i=0,u=!1),1!==i&&0!==i)return this.onEnd(i),this.ended=!0,!1;l.next_out&&(0!==l.avail_out&&1!==i&&(0!==l.avail_in||4!==n&&2!==n)||("string"===this.options.to?(s=sL(l.output,l.next_out),r=l.next_out-s,o=nL(l.output,s),l.next_out=r,l.avail_out=c-r,r&&KN(l.output,l.output,s,r,0),this.onData(o)):this.onData(UN(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(u=!0)}while((l.avail_in>0||0===l.avail_out)&&1!==i);return 1===i&&(n=4),4===n?(i=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0}(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==n||(this.onEnd(0),l.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):WN(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}function TL(e){for(var t=e.length;--t>=0;)e[t]=0}var FL,DL,AL,OL,RL,PL,ML,NL,LL,VL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],HL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],BL=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],zL=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function jL(e,t,i,n,s){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=s,this.has_stree=e&&e.length}function UL(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function $L(e){return e<256?AL[e]:AL[256+(e>>>7)]}function qL(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function GL(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,qL(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function KL(e,t,i){GL(e,i[2*t],i[2*t+1])}function WL(e,t){var i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1}function ZL(e,t,i){var n,s,r=new Array(16),o=0;for(n=1;n<=15;n++)r[n]=o=o+i[n-1]<<1;for(s=0;s<=t;s++){var a=e[2*s+1];0!==a&&(e[2*s]=WL(r[a]++,a))}}function YL(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function QL(e){e.bi_valid>8?qL(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function JL(e,t,i,n){var s=2*t,r=2*i;return e[s]<e[r]||e[s]===e[r]&&n[t]<=n[i]}function XL(e,t,i){for(var n=e.heap[i],s=i<<1;s<=e.heap_len&&(s<e.heap_len&&JL(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!JL(t,n,e.heap[s],e.depth));)e.heap[i]=e.heap[s],i=s,s<<=1;e.heap[i]=n}function eV(e,t,i){var n,s,r,o,a=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],s=e.pending_buf[e.l_buf+a],a++,0===n?KL(e,s,t):(KL(e,(r=OL[s])+256+1,t),0!==(o=VL[r])&&GL(e,s-=RL[r],o),KL(e,r=$L(--n),i),0!==(o=HL[r])&&GL(e,n-=PL[r],o))}while(a<e.last_lit);KL(e,256,t)}function tV(e,t){var i,n,s,r=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<l;i++)0!==r[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):r[2*i+1]=0;for(;e.heap_len<2;)r[2*(s=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[s]=0,e.opt_len--,a&&(e.static_len-=o[2*s+1]);for(t.max_code=c,i=e.heap_len>>1;i>=1;i--)XL(e,r,i);s=l;do{i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],XL(e,r,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,r[2*s]=r[2*i]+r[2*n],e.depth[s]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,r[2*i+1]=r[2*n+1]=s,e.heap[1]=s++,XL(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,s,r,o,a,l=t.dyn_tree,c=t.max_code,h=t.stat_desc.static_tree,u=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,g=0;for(r=0;r<=15;r++)e.bl_count[r]=0;for(l[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)(r=l[2*l[2*(n=e.heap[i])+1]+1]+1)>f&&(r=f,g++),l[2*n+1]=r,n>c||(e.bl_count[r]++,o=0,n>=p&&(o=d[n-p]),e.opt_len+=(a=l[2*n])*(r+o),u&&(e.static_len+=a*(h[2*n+1]+o)));if(0!==g){do{for(r=f-1;0===e.bl_count[r];)r--;e.bl_count[r]--,e.bl_count[r+1]+=2,e.bl_count[f]--,g-=2}while(g>0);for(r=f;0!==r;r--)for(n=e.bl_count[r];0!==n;)(s=e.heap[--i])>c||(l[2*s+1]!==r&&(e.opt_len+=(r-l[2*s+1])*l[2*s],l[2*s+1]=r),n--)}}(e,t),ZL(r,c,e.bl_count)}function iV(e,t,i){var n,s,r=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)s=o,o=t[2*(n+1)+1],++a<l&&s===o||(a<c?e.bl_tree[2*s]+=a:0!==s?(s!==r&&e.bl_tree[2*s]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,r=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4))}function nV(e,t,i){var n,s,r=-1,o=t[1],a=0,l=7,c=4;for(0===o&&(l=138,c=3),n=0;n<=i;n++)if(s=o,o=t[2*(n+1)+1],!(++a<l&&s===o)){if(a<c)do{KL(e,s,e.bl_tree)}while(0!=--a);else 0!==s?(s!==r&&(KL(e,s,e.bl_tree),a--),KL(e,16,e.bl_tree),GL(e,a-3,2)):a<=10?(KL(e,17,e.bl_tree),GL(e,a-3,3)):(KL(e,18,e.bl_tree),GL(e,a-11,7));a=0,r=s,0===o?(l=138,c=3):s===o?(l=6,c=3):(l=7,c=4)}}var sV=!1;function rV(e,t,i,n){GL(e,0+(n?1:0),3),function(e,t,i,n){QL(e),qL(e,i),qL(e,~i),KN(e.pending_buf,e.window,t,i,e.pending),e.pending+=i}(e,t,i)}function oV(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(OL[i]+256+1)]++,e.dyn_dtree[2*$L(t)]++),e.last_lit===e.lit_bufsize-1}function aV(e,t){return e.msg=SL[t],t}function lV(e){return(e<<1)-(e>4?9:0)}function cV(e){for(var t=e.length;--t>=0;)e[t]=0}function hV(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(KN(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function uV(e,t){(function(e,t,i,n){var s,r,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),tV(e,e.l_desc),tV(e,e.d_desc),o=function(e){var t;for(iV(e,e.dyn_ltree,e.l_desc.max_code),iV(e,e.dyn_dtree,e.d_desc.max_code),tV(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*zL[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(r=e.static_len+3+7>>>3)<=(s=e.opt_len+3+7>>>3)&&(s=r)):s=r=i+5,i+4<=s&&-1!==t?rV(e,t,i,n):4===e.strategy||r===s?(GL(e,2+(n?1:0),3),eV(e,FL,DL)):(GL(e,4+(n?1:0),3),function(e,t,i,n){var s;for(GL(e,t-257,5),GL(e,i-1,5),GL(e,n-4,4),s=0;s<n;s++)GL(e,e.bl_tree[2*zL[s]+1],3);nV(e,e.dyn_ltree,t-1),nV(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),eV(e,e.dyn_ltree,e.dyn_dtree)),YL(e),n&&QL(e)})(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,hV(e.strm)}function dV(e,t){e.pending_buf[e.pending++]=t}function pV(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function fV(e,t){var i,n,s=e.max_chain_length,r=e.strstart,o=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,c=e.window,h=e.w_mask,u=e.prev,d=e.strstart+258,p=c[r+o-1],f=c[r+o];e.prev_length>=e.good_match&&(s>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(i=t)+o]===f&&c[i+o-1]===p&&c[i]===c[r]&&c[++i]===c[r+1]){r+=2,i++;do{}while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<d);if(n=258-(d-r),r=d-258,n>o){if(e.match_start=t,o=n,n>=a)break;p=c[r+o-1],f=c[r+o]}}}while((t=u[t&h])>l&&0!=--s);return o<=e.lookahead?o:e.lookahead}function gV(e){var t,i,n,s,r,o,a,l,c,h,u=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=u+(u-262)){KN(e.window,e.window,u,u,0),e.match_start-=u,e.strstart-=u,e.block_start-=u,t=i=e.hash_size;do{n=e.head[--t],e.head[t]=n>=u?n-u:0}while(--i);t=i=u;do{n=e.prev[--t],e.prev[t]=n>=u?n-u:0}while(--i);s+=u}if(0===e.strm.avail_in)break;if(a=e.window,l=e.strstart+e.lookahead,h=void 0,(h=(o=e.strm).avail_in)>(c=s)&&(h=c),i=0===h?0:(o.avail_in-=h,KN(a,o.input,o.next_in,h,l),1===o.state.wrap?o.adler=rL(o.adler,a,h,l):2===o.state.wrap&&(o.adler=aL(o.adler,a,h,l)),o.next_in+=h,o.total_in+=h,h),e.lookahead+=i,e.lookahead+e.insert>=3)for(e.ins_h=e.window[r=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[r+3-1])&e.hash_mask,e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function mV(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(gV(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,uV(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(uV(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(uV(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&uV(e,!1),1)}function vV(e,t){for(var i,n;;){if(e.lookahead<262){if(gV(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-262&&(e.match_length=fV(e,i)),e.match_length>=3)if(n=oV(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=oV(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(uV(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(uV(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(uV(e,!1),0===e.strm.avail_out)?1:2}function bV(e,t){for(var i,n,s;;){if(e.lookahead<262){if(gV(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-262&&(e.match_length=fV(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-3,n=oV(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(uV(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=oV(e,0,e.window[e.strstart-1]))&&uV(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=oV(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(uV(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(uV(e,!1),0===e.strm.avail_out)?1:2}function yV(e,t,i,n,s){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=s}let wV=function(){const e=[new yV(0,0,0,0,mV),new yV(4,4,8,4,vV),new yV(4,5,16,8,vV),new yV(4,6,32,32,vV),new yV(4,4,16,16,bV),new yV(8,16,32,32,bV),new yV(8,16,128,128,bV),new yV(8,32,128,256,bV),new yV(32,128,258,1024,bV),new yV(32,258,258,4096,bV)];return wV=()=>e,e};function CV(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=YN(1146),this.dyn_dtree=YN(122),this.bl_tree=YN(78),cV(this.dyn_ltree),cV(this.dyn_dtree),cV(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=YN(16),this.heap=YN(573),cV(this.heap),this.heap_len=0,this.heap_max=0,this.depth=YN(573),cV(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xV(e,t){var i,n,s,r;if(!e||!e.state||t>5||t<0)return e?aV(e,-2):-2;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&4!==t)return aV(e,0===e.avail_out?-5:-2);if(n.strm=e,i=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,dV(n,31),dV(n,139),dV(n,8),n.gzhead?(dV(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),dV(n,255&n.gzhead.time),dV(n,n.gzhead.time>>8&255),dV(n,n.gzhead.time>>16&255),dV(n,n.gzhead.time>>24&255),dV(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),dV(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(dV(n,255&n.gzhead.extra.length),dV(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=aL(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(dV(n,0),dV(n,0),dV(n,0),dV(n,0),dV(n,0),dV(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),dV(n,3),n.status=113);else{var o=8+(n.w_bits-8<<4)<<8;o|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(o|=32),o+=31-o%31,n.status=113,pV(n,o),0!==n.strstart&&(pV(n,e.adler>>>16),pV(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(s=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>s&&(e.adler=aL(e.adler,n.pending_buf,n.pending-s,s)),hV(e),s=n.pending,n.pending!==n.pending_buf_size));)dV(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>s&&(e.adler=aL(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(e.adler=aL(e.adler,n.pending_buf,n.pending-s,s)),hV(e),s=n.pending,n.pending===n.pending_buf_size)){r=1;break}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,dV(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>s&&(e.adler=aL(e.adler,n.pending_buf,n.pending-s,s)),0===r&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(e.adler=aL(e.adler,n.pending_buf,n.pending-s,s)),hV(e),s=n.pending,n.pending===n.pending_buf_size)){r=1;break}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,dV(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>s&&(e.adler=aL(e.adler,n.pending_buf,n.pending-s,s)),0===r&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&hV(e),n.pending+2<=n.pending_buf_size&&(dV(n,255&e.adler),dV(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),0!==n.pending){if(hV(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&lV(t)<=lV(i)&&4!==t)return aV(e,-5);if(666===n.status&&0!==e.avail_in)return aV(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&666!==n.status){var a=2===n.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(gV(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=oV(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(uV(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(uV(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(uV(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){for(var i,n,s,r,o=e.window;;){if(e.lookahead<=258){if(gV(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=o[s=e.strstart-1])===o[++s]&&n===o[++s]&&n===o[++s]){r=e.strstart+258;do{}while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&s<r);e.match_length=258-(r-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=oV(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=oV(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(uV(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(uV(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(uV(e,!1),0===e.strm.avail_out)?1:2}(n,t):wV()[n.level].func(n,t);if(3!==a&&4!==a||(n.status=666),1===a||3===a)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===a&&(1===t?function(e){GL(e,2,3),KL(e,256,FL),function(e){16===e.bi_valid?(qL(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}(n):5!==t&&(rV(n,0,0,!1),3===t&&(cV(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),hV(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(dV(n,255&e.adler),dV(n,e.adler>>8&255),dV(n,e.adler>>16&255),dV(n,e.adler>>24&255),dV(n,255&e.total_in),dV(n,e.total_in>>8&255),dV(n,e.total_in>>16&255),dV(n,e.total_in>>24&255)):(pV(n,e.adler>>>16),pV(n,65535&e.adler)),hV(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)}var SV=Object.prototype.toString;class kV{constructor(e){this.options=jN({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kL,this.strm.avail_out=0;var i,n=function(e,t,i,n,s,r){if(!e)return-2;var o=1;if(-1===t&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),s<1||s>9||8!==i||n<8||n>15||t<0||t>9||r<0||r>4)return aV(e,-2);8===n&&(n=9);var a=new CV;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=s+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=ZN(2*a.w_size),a.head=YN(a.hash_size),a.prev=YN(a.w_size),a.lit_bufsize=1<<s+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=ZN(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=r,a.method=i,function(e){var t=function(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,function(e){sV||(function(){var e,t,i,n,s,r=new Array(16);for(TL(FL=new Array(576)),TL(DL=new Array(60)),TL(AL=new Array(512)),TL(OL=new Array(256)),TL(RL=new Array(29)),TL(PL=new Array(30)),i=0,n=0;n<28;n++)for(RL[n]=i,e=0;e<1<<VL[n];e++)OL[i++]=n;for(OL[i-1]=n,s=0,n=0;n<16;n++)for(PL[n]=s,e=0;e<1<<HL[n];e++)AL[s++]=n;for(s>>=7;n<30;n++)for(PL[n]=s<<7,e=0;e<1<<HL[n]-7;e++)AL[256+s++]=n;for(t=0;t<=15;t++)r[t]=0;for(e=0;e<=143;)FL[2*e+1]=8,e++,r[8]++;for(;e<=255;)FL[2*e+1]=9,e++,r[9]++;for(;e<=279;)FL[2*e+1]=7,e++,r[7]++;for(;e<=287;)FL[2*e+1]=8,e++,r[8]++;for(ZL(FL,287,r),e=0;e<30;e++)DL[2*e+1]=5,DL[2*e]=WL(e,5);ML=new jL(FL,VL,257,286,15),NL=new jL(DL,HL,0,30,15),LL=new jL(new Array(0),BL,0,19,7)}(),sV=!0),e.l_desc=new UL(e.dyn_ltree,ML),e.d_desc=new UL(e.dyn_dtree,NL),e.bl_desc=new UL(e.bl_tree,LL),e.bi_buf=0,e.bi_valid=0,YL(e)}(t),0):aV(e,-2)}(e);return 0===t&&function(e){e.window_size=2*e.w_size,cV(e.head);const t=wV();e.max_lazy_match=t[e.level].max_lazy,e.good_match=t[e.level].good_length,e.nice_match=t[e.level].nice_length,e.max_chain_length=t[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}(e)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(SL[n]);if(t.header&&(i=this.strm)&&i.state&&(2!==i.state.wrap||(i.state.gzhead=t.header)),t.dictionary){var s;if(s="string"==typeof t.dictionary?tL(t.dictionary):"[object ArrayBuffer]"===SV.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=function(e,t){var i,n,s,r,o,a,l,c,h=t.length;if(!e||!e.state)return-2;if(2===(r=(i=e.state).wrap)||1===r&&42!==i.status||i.lookahead)return-2;for(1===r&&(e.adler=rL(e.adler,t,h,0)),i.wrap=0,h>=i.w_size&&(0===r&&(cV(i.head),i.strstart=0,i.block_start=0,i.insert=0),c=ZN(i.w_size),KN(c,t,h-i.w_size,i.w_size,0),t=c,h=i.w_size),o=e.avail_in,a=e.next_in,l=e.input,e.avail_in=h,e.next_in=0,e.input=t,gV(i);i.lookahead>=3;){n=i.strstart,s=i.lookahead-2;do{i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++}while(--s);i.strstart=n,i.lookahead=2,gV(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=a,e.input=l,e.avail_in=o,i.wrap=r,0}(this.strm,s)))throw new Error(SL[n]);this._dict_set=!0}}push(e,t){var i,n,s,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;n=t===~~t?t:!0===t?4:0,r.input="string"==typeof e?tL(e):"[object ArrayBuffer]"===SV.call(e)?new Uint8Array(e):e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=ZN(o),r.next_out=0,r.avail_out=o),1!==(i=xV(r,n))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==n&&2!==n)||this.onData("string"===this.options.to?iL(s=UN(r.output,r.next_out),s.length):UN(r.output,r.next_out))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===n?(i=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?aV(e,-2):(e.state=null,113===t?aV(e,-3):0):-2}(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==n||(this.onEnd(0),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):WN(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}let _V;"undefined"!=typeof document&&(_V=document.createElement("div"),_V.style.cssText="position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;padding: 0 !important; margin: 0 !important; border: 0 !important;line-height: normal !important; visibility: hidden !important; white-space: pre!important;");const EV={}.toString;class IV extends IN{constructor(e,t=""){super(),this.prefix=t;for(let i in e){let t=e[i];t=this._wrap(t,i),this[i]=t}}get(e){const t=e.split(".");let i=this;for(;t.length&&i;)i=i[t.shift()];return i}set(e,t){this.get(e)!==t&&(this._set(e,this._wrap(t,e)),this.optionsChange({field:this.prefix+e,value:t}))}_set(e,t){const i=e.indexOf(".")>=0;let n=this,s=e;if(i){const e=s.split(".");let t=this.prefix;for(;e.length>1;){s=e.shift(),t+=s+".";let i=n[s];i||(i=new IV({},t),i.addObserver(this),n[s]=i),n=i}s=e[0]}n._clear(s),n[s]=t}_clear(e){const t=this[e];t&&t.removeObserver&&t.removeObserver(this)}_wrap(e,t){const i=EV.call(e);let n=e;return null!==n&&wN(n)&&"[object Object]"===i&&(e instanceof IV||e instanceof yN||(n=new IV(n,this.prefix+t+".")),n.addObserver(this)),n}}var TV=IV;let FV=1;function DV(){return"kdef"+FV++}function AV(e){return""===e||null===e||"none"===e||"transparent"===e||!wN(e)}var OV=class extends IN{get nodeType(){return"Rect"}constructor(e){super(),this._initOptions(e)}_initOptions(e={}){const{clip:t,transform:i}=e;i&&(e.transform=BN(i)),t&&!t.id&&(t.id=DV()),this.options=new TV(e),this.options.addObserver(this)}transform(e){if(!wN(e))return this.options.get("transform");this.options.set("transform",BN(e))}parentTransform(){let e,t=this;for(;t.parent;){t=t.parent;let i=t.transform();i&&(e=i.matrix().multiplyCopy(e||EN.unit()))}if(e)return BN(e)}currentTransform(e=this.parentTransform()){const t=AN(this.transform());let i,n=AN(e);if(i=t&&n?n.multiplyCopy(t):t||n,i)return BN(i)}visible(e){return wN(e)?(this.options.set("visible",e),this):!1!==this.options.get("visible")}clip(e){const t=this.options;return wN(e)?(e&&!e.id&&(e.id=DV()),t.set("clip",e),this):t.get("clip")}opacity(e){return wN(e)?(this.options.set("opacity",e),this):function(e,t){return wN(e)?e:1}(this.options.get("opacity"))}clippedBBox(e){const t=this._clippedBBox(e);if(t){const i=this.clip();return i?LN.intersect(t,i.bbox(e)):t}}containsPoint(e,t){if(this.visible()){const i=this.currentTransform(t);let n=e;return i&&(n=e.transformCopy(i.matrix().invert())),this._hasFill()&&this._containsPoint(n)||this._isOnPath&&this._hasStroke()&&this._isOnPath(n)}return!1}_hasFill(){const e=this.options.fill;return e&&!AV(e.color)}_hasStroke(){const e=this.options.stroke;return e&&e.width>0&&!AV(e.color)}_clippedBBox(e){return this.bbox(e)}},RV=e=>class extends e{fill(e,t){const i=this.options;if(wN(e)){if(e&&"Gradient"!==e.nodeType){const n={color:e};wN(t)&&(n.opacity=t),i.set("fill",n)}else i.set("fill",e);return this}return i.get("fill")}stroke(e,t,i){return wN(e)?(this.options.set("stroke.color",e),wN(t)&&this.options.set("stroke.width",t),wN(i)&&this.options.set("stroke.opacity",i),this):this.options.get("stroke")}};function PV(e){const t="_"+e;return function(e){return wN(e)?(this._observerField(t,RN.create(e)),this.geometryChange(),this):this[t]}}var MV=(e,t)=>{const i=class extends e{};return function(e,t){for(let i=0;i<t.length;i++)e[t[i]]=PV(t[i])}(i.prototype,t),i};RV(MV(OV,["position"]));const NV=[].push,LV=[].pop,VV=[].splice,HV=[].shift,BV=[].slice,zV=[].unshift;var jV=class extends IN{constructor(e=[]){super(),this.length=0,this._splice(0,e.length,e)}elements(e){return e?(this._splice(0,this.length,e),this._change(),this):this.slice(0)}push(){const e=arguments,t=NV.apply(this,e);return this._add(e),t}slice(){return BV.call(this)}pop(){const e=this.length,t=LV.apply(this);return e&&this._remove([t]),t}splice(e,t){const i=BV.call(arguments,2),n=this._splice(e,t,i);return this._change(),n}shift(){const e=this.length,t=HV.apply(this);return e&&this._remove([t]),t}unshift(){const e=arguments,t=zV.apply(this,e);return this._add(e),t}indexOf(e){const t=this.length;for(let i=0;i<t;i++)if(this[i]===e)return i;return-1}_splice(e,t,i){const n=VV.apply(this,[e,t].concat(i));return this._clearObserver(n),this._setObserver(i),n}_add(e){this._setObserver(e),this._change()}_remove(e){this._clearObserver(e),this._change()}_setObserver(e){for(let t=0;t<e.length;t++)e[t].addObserver(this)}_clearObserver(e){for(let t=0;t<e.length;t++)e[t].removeObserver(this)}_change(){}};const UV=EN.IDENTITY.toString();var $V=e=>class extends e{bbox(e){const t=AN(this.currentTransform(e)),i=t?t.toString():UV;let n;this._bboxCache&&this._matrixHash===i?n=this._bboxCache.clone():(n=this._bbox(t),this._bboxCache=n?n.clone():null,this._matrixHash=i);const s=this.options.get("stroke.width");return s&&n&&n.expand(s/2),n}geometryChange(){delete this._bboxCache,this.trigger("geometryChange",{element:this})}};function qV(e){const t="_"+e;return function(e){return wN(e)?(this._observerField(t,e),this.geometryChange(),this):this[t]}}MV(IN,["anchor","controlIn","controlOut"]),RV($V(OV)),RV($V(OV));var GV=(e,t=["geometry"])=>{const i=class extends e{};return function(e,t){for(let i=0;i<t.length;i++)e[t[i]]=qV(t[i])}(i.prototype,t),i};GV(OV,["rect"]);var KV=class extends jV{_change(){this.optionsChange({field:"stops"})}};function WV(e){return function(t){return wN(t)?(this.options.set(e,t),this):this.options.get(e)}}const ZV=["offset","color","opacity"];class YV extends(((e,t)=>{const i=class extends e{};return function(e,t){for(let i=0;i<t.length;i++)e[t[i]]=WV(t[i])}(i.prototype,t),i})(IN,ZV)){constructor(e,t,i){super(),this.options=new TV({offset:e,color:t,opacity:wN(i)?i:1}),this.options.addObserver(this)}static create(e){if(wN(e)){let t;return t=e instanceof YV?e:e.length>1?new YV(e[0],e[1],e[2]):new YV(e.offset,e.color,e.opacity),t}}}var QV=YV,JV=class extends IN{get nodeType(){return"Gradient"}constructor(e={}){super(),this.stops=new KV(this._createStops(e.stops)),this.stops.addObserver(this),this._userSpace=e.userSpace,this.id=DV()}userSpace(e){return wN(e)?(this._userSpace=e,this.optionsChange(),this):this._userSpace}_createStops(e=[]){const t=[];for(let i=0;i<e.length;i++)t.push(QV.create(e[i]));return t}addStop(e,t,i){this.stops.push(new QV(e,t,i))}removeStop(e){const t=this.stops.indexOf(e);t>=0&&this.stops.splice(t,1)}optionsChange(e){this.trigger("optionsChange",{field:"gradient"+(e?"."+e.field:""),value:this})}geometryChange(){this.optionsChange()}};MV(JV,["start","end"]),RV($V(GV(OV))),"undefined"!=typeof Element&&Element.prototype&&Element,"undefined"!=typeof window&&window.kendo&&window,MV(JV,["center"]);const XV=()=>document.createElement("a");function eH(e,t){let i=e;if("string"==typeof e){const t=e.split(";base64,"),n=t[0],s=atob(t[1]),r=new Uint8Array(s.length);for(let e=0;e<s.length;e++)r[e]=s.charCodeAt(e);i=new Blob([r.buffer],{type:n})}navigator.msSaveBlob(i,t)}function tH(e,t){let i=e;window.Blob&&e instanceof Blob&&(i=URL.createObjectURL(e));const n=XV();n.download=t,n.href=i;const s=document.createEvent("MouseEvents");s.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(s),setTimeout(()=>URL.revokeObjectURL(i))}function iH(e,t,i){if(!i.proxyURL)return;const n=document.createElement("form");n.setAttribute("action",i.proxyURL),n.setAttribute("method","POST"),n.setAttribute("target",i.proxyTarget||"_self");const s=i.proxyData||{};s.fileName=t;const r=e.split(";base64,");s.contentType=r[0].replace("data:",""),s.base64=r[1];for(let o in s)if(s.hasOwnProperty(o)){const e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",o),e.setAttribute("value",s[o]),n.appendChild(e)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}let nH={compile:function(e){return e}};var sH=class{static register(e){nH=e}static compile(e){return nH.compile(e)}};const rH=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g,oH={};function aH(e){if(oH[e])return oH[e];const t=[];return e.replace(rH,(function(e,i,n,s){t.push(void 0!==i?i:n||s)})),oH[e]=function(e){let i=e;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i},oH[e]}function lH(e,t){return e.reduce((e,i,n)=>{const s=t(i,n);return null!=s&&e.push(s),e},[])}function cH(e){return`${e.title}: ${e.value}`}function hH(e,t){const i=[];for(let n=0;n<e;n++)i.push(t(n));return i}function uH(e){return e.id}oH[void 0]=function(e){return e};var dH={Promise};const pH={base64:!0,array:!0,string:!0,nodebuffer:!1,nodestream:!1,get arraybuffer(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},get uint8array(){return"undefined"!=typeof Uint8Array},get blob(){return fH()}};let fH=function(){let e;if("undefined"==typeof ArrayBuffer)e=!1;else{const i=new ArrayBuffer(0);try{e=0===new Blob([i],{type:"application/zip"}).size}catch(t){e=!1}}return fH=()=>e,e};const gH="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function mH(e){return e}function vH(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}function bH(e,t,i){var n=[],s=0,r=e.length;if(r<=i)return String.fromCharCode.apply(null,e);for(;s<r;)n.push(String.fromCharCode.apply(null,"array"===t?e.slice(s,Math.min(s+i,r)):e.subarray(s,Math.min(s+i,r)))),s+=i;return n.join("")}let yH=()=>{let e;try{e=pH.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){e=!1}return yH=()=>e,e};function wH(e){var t=65536,i=_H(e),n=!0;if("uint8array"===i&&(n=yH()),n)for(;t>1;)try{return bH(e,i,t)}catch(s){t=Math.floor(t/2)}return function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t}(e)}const CH=wH;function xH(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}var SH={string:{string:mH,array:function(e){return vH(e,new Array(e.length))},arraybuffer:function(e){return SH.string.uint8array(e).buffer},uint8array:function(e){return vH(e,new Uint8Array(e.length))}},array:{string:wH,array:mH,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)}},arraybuffer:{string:function(e){return wH(new Uint8Array(e))},array:function(e){return xH(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:mH,uint8array:function(e){return new Uint8Array(e)}},uint8array:{string:wH,array:function(e){return xH(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:mH}};const kH=function(e,t){if(t||(t=""),!e)return t;EH(e);var i=_H(t);return SH[i][e](t)},_H=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":pH.uint8array&&e instanceof Uint8Array?"uint8array":pH.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},EH=function(e){if(!pH[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},IH=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},TH=function(e,t,i){setTimeout((function(){e.apply(i||null,t||[])}),0)},FH=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.hasOwnProperty.call(arguments[e],t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},DH=function(e,t,i,n,s){return dH.Promise.resolve(t).then((function(e){return pH.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new dH.Promise((function(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var r,o=_H(t);return o?("arraybuffer"===o?t=kH("uint8array",t):"string"===o&&(s?t=function(e){let t,i,n,s,r,o,a,l=0,c=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");let h,u=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===gH.charAt(64)&&u--,e.charAt(e.length-2)===gH.charAt(64)&&u--,u%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=pH.uint8array?new Uint8Array(0|u):new Array(0|u);l<e.length;)s=gH.indexOf(e.charAt(l++)),r=gH.indexOf(e.charAt(l++)),o=gH.indexOf(e.charAt(l++)),a=gH.indexOf(e.charAt(l++)),t=s<<2|r>>4,i=(15&r)<<4|o>>2,n=(3&o)<<6|a,h[c++]=t,64!==o&&(h[c++]=i),64!==a&&(h[c++]=n);return h}(t):i&&!0!==n&&(t=vH(r=t,pH.uint8array?new Uint8Array(r.length):new Array(r.length)))),t):dH.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))};class AH{constructor(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}push(e){this.emit("data",e)}end(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0}error(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)}on(e,t){return this._listeners[e].push(t),this}cleanUp(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]}emit(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)}pipe(e){return e.registerPrevious(this)}registerPrevious(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this}pause(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)}resume(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e}flush(){}processChunk(e){this.push(e)}withStreamInfo(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this}mergeStreamInfo(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])}lock(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()}toString(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}}let OH=function(e){const t=new Array(256);for(let i=0;i<256;i++)t[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;return t[254]=t[254]=1,OH=function(e){return t[e]},t[e]};const RH=function(e){return function(e){var t,i,n,s,r,o=e.length,a=0;for(s=0;s<o;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=pH.uint8array?new Uint8Array(a):new Array(a),r=0,s=0;r<a;s++)55296==(64512&(i=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(i=65536+(i-55296<<10)+(n-56320),s++),i<128?t[r++]=i:i<2048?(t[r++]=192|i>>>6,t[r++]=128|63&i):i<65536?(t[r++]=224|i>>>12,t[r++]=128|i>>>6&63,t[r++]=128|63&i):(t[r++]=240|i>>>18,t[r++]=128|i>>>12&63,t[r++]=128|i>>>6&63,t[r++]=128|63&i);return t}(e)},PH=function(e){return function(e){var t,i,n,s,r=e.length,o=new Array(2*r);for(i=0,t=0;t<r;)if((n=e[t++])<128)o[i++]=n;else if((s=OH(n))>4)o[i++]=65533,t+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&t<r;)n=n<<6|63&e[t++],s--;s>1?o[i++]=65533:n<65536?o[i++]=n:(o[i++]=55296|(n-=65536)>>10&1023,o[i++]=56320|1023&n)}return o.length!==i&&(o.subarray?o=o.subarray(0,i):o.length=i),CH(o)}(e=kH(pH.uint8array?"uint8array":"array",e))};class MH extends AH{constructor(){super("utf-8 decode"),this.leftOver=null}processChunk(e){var t=kH(pH.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(pH.uint8array){var i=t;(t=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+OH(e[i])>t?i:t}(t),s=t;n!==t.length&&(pH.uint8array?(s=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(s=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:PH(s),meta:e.meta})}flush(){this.leftOver&&this.leftOver.length&&(this.push({data:PH(this.leftOver),meta:{}}),this.leftOver=null)}}class NH extends AH{constructor(){super("utf-8 encode")}processChunk(e){this.push({data:RH(e.data),meta:e.meta})}}class LH extends AH{constructor(e){super("ConvertWorker to "+e),this.destType=e}processChunk(e){this.push({data:kH(this.destType,e.data),meta:e.meta})}}class VH{constructor(e,t,i){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string"}try{this._internalType=n,this._outputType=t,this._mimeType=i,EH(n),this._worker=e.pipe(new LH(n)),e.lock()}catch(s){this._worker=new AH("error"),this._worker.error(s)}}accumulate(e){return t=this,i=e,new dH.Promise((function(e,n){var s=[],r=t._internalType,o=t._outputType,a=t._mimeType;t.on("data",(function(e,t){s.push(e),i&&i(t)})).on("error",(function(e){s=[],n(e)})).on("end",(function(){try{var t=function(e,t,i){switch(e){case"blob":return function(e,t){return EH("blob"),new Blob([e],{type:t})}(kH("arraybuffer",t),i);case"base64":return function(e){let t,i,n,s,r,o,a,l=[],c=0,h=e.length,u=h,d="string"!=typeof e;for(;c<e.length;)u=h-c,d?(t=e[c++],i=c<h?e[c++]:0,n=c<h?e[c++]:0):(t=e.charCodeAt(c++),i=c<h?e.charCodeAt(c++):0,n=c<h?e.charCodeAt(c++):0),s=t>>2,r=(3&t)<<4|i>>4,o=u>1?(15&i)<<2|n>>6:64,a=u>2?63&n:64,l.push(gH.charAt(s)+gH.charAt(r)+gH.charAt(o)+gH.charAt(a));return l.join("")}(t);default:return kH(e,t)}}(o,function(e,t){var i,n=0,s=null,r=0;for(i=0;i<t.length;i++)r+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(s=new Uint8Array(r),i=0;i<t.length;i++)s.set(t[i],n),n+=t[i].length;return s;default:throw new Error("concat : unsupported type '"+e+"'")}}(r,s),a);e(t)}catch(i){n(i)}s=[]})).resume()}));var t,i}on(e,t){var i=this;return this._worker.on(e,"data"===e?function(e){t.call(i,e.data,e.meta)}:function(){TH(t,arguments,i)}),this}resume(){return TH(this._worker.resume,[],this._worker),this}pause(){return this._worker.pause(),this}}var HH=Object.freeze({__proto__:null,base64:!1,binary:!1,dir:!1,createFolders:!0,date:null,compression:null,compressionOptions:null,comment:null,unixPermissions:null,dosPermissions:null});class BH extends AH{constructor(e){super("DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=_H(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}cleanUp(){super.cleanUp(),this.data=null}resume(){return!!super.resume()&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,TH(this._tickAndRepeat,[],this)),!0)}_tickAndRepeat(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(TH(this._tickAndRepeat,[],this),this._tickScheduled=!0))}_tick(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})}}class zH extends AH{constructor(e){super("DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}processChunk(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),super.processChunk(e)}}let jH=function(){const e=[];for(let t=0;t<256;t++){let i=t;for(let e=0;e<8;e++)i=1&i?3988292384^i>>>1:i>>>1;e[t]=i}return jH=function(){return e},e};function UH(e,t){return void 0!==e&&e.length?"string"!==_H(e)?function(e,t,i,n){const s=jH();let r=0+i;e^=-1;for(let o=0;o<r;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}(0|t,e,e.length):function(e,t,i,n){const s=jH();let r=0+i;e^=-1;for(let o=0;o<r;o++)e=e>>>8^s[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length):0}class $H extends AH{constructor(){super("Crc32Probe"),this.withStreamInfo("crc32",0)}processChunk(e){this.streamInfo.crc32=UH(e.data,this.streamInfo.crc32||0),this.push(e)}}class qH{constructor(e,t,i,n,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=s}getContentWorker(){var e=new BH(dH.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new zH("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e}getCompressedWorker(){return new BH(dH.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}static createWorkerFrom(e,t,i){return e.pipe(new $H).pipe(new zH("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new zH("compressedSize")).withStreamInfo("compression",t)}}class GH{constructor(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}internalStream(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!n&&(t=t.pipe(new NH)),!s&&n&&(t=t.pipe(new MH))}catch(r){(t=new AH("error")).error(r)}return new VH(t,i,"")}async(e,t){return this.internalStream(e).accumulate(t)}_compressWorker(e,t){if(this._data instanceof qH&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new NH)),qH.createWorkerFrom(i,e,t)}_decompressWorker(){return this._data instanceof qH?this._data.getContentWorker():this._data instanceof AH?this._data:new BH(this._data)}}let KH=function(){const e="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array?"uint8array":"array";KH=function(){return e}};class WH extends AH{constructor(e,t){super("FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}processChunk(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(kH(KH(),e.data),!1)}flush(){super.flush(),null===this._pako&&this._createPako(),this._pako.push([],!0)}cleanUp(){super.cleanUp(),this._pako=null}_createPako(){const e={raw:!0,level:this._pakoOptions.level||-1};this._pako="Deflate"===this._pakoAction?new kV(e):new IL(e),this._pako.onData=e=>{this.push({data:e,meta:this.meta})}}}var ZH={STORE:{magic:"\0\0",compressWorker:function(){return new AH("STORE compression")},uncompressWorker:function(){return new AH("STORE decompression")}},DEFLATE:{magic:"\b\0",compressWorker:function(e){return new WH("Deflate",e)},uncompressWorker:function(){return new WH("Inflate",{})}}},YH=function(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n},QH=function(e,t,i,n,s,r){var o,a,l=e.file,c=e.compression,h=r!==RH,u=kH("string",r(l.name)),d=kH("string",RH(l.name)),p=l.comment,f=kH("string",r(p)),g=kH("string",RH(p)),m=d.length!==l.name.length,v=g.length!==p.length,b="",y="",w="",C=l.dir,x=l.date,S={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(S.crc32=e.crc32,S.compressedSize=e.compressedSize,S.uncompressedSize=e.uncompressedSize);var k=0;t&&(k|=8),h||!m&&!v||(k|=2048);var _,E,I=0,T=0;C&&(I|=16),"UNIX"===s?(T=798,I|=(E=_=l.unixPermissions,_||(E=C?16893:33204),(65535&E)<<16)):(T=20,I|=63&(l.dosPermissions||0)),o=x.getUTCHours(),o<<=6,o|=x.getUTCMinutes(),o<<=5,o|=x.getUTCSeconds()/2,a=x.getUTCFullYear()-1980,a<<=4,a|=x.getUTCMonth()+1,a<<=5,a|=x.getUTCDate(),m&&(y=YH(1,1)+YH(UH(u),4)+d,b+="up"+YH(y.length,2)+y),v&&(w=YH(1,1)+YH(UH(f),4)+g,b+="uc"+YH(w.length,2)+w);var F="";return F+="\n\0",F+=YH(k,2),F+=c.magic,F+=YH(o,2),F+=YH(a,2),F+=YH(S.crc32,4),F+=YH(S.compressedSize,4),F+=YH(S.uncompressedSize,4),F+=YH(u.length,2),{fileRecord:"PK\x03\x04"+(F+=YH(b.length,2))+u+b,dirRecord:"PK\x01\x02"+YH(T,2)+F+YH(f.length,2)+"\0\0\0\0"+YH(I,4)+YH(n,4)+u+b+f}},JH=function(e){return"PK\x07\b"+YH(e.crc32,4)+YH(e.compressedSize,4)+YH(e.uncompressedSize,4)};class XH extends AH{constructor(e,t,i,n){super("ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}push(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,super.push({data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))}openedSource(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=QH(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0}closedSource(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,i=QH(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:JH(e),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null}flush(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=function(e,t,i,n,s){var r=kH("string",s(n));return"PK\x05\x06\0\0\0\0"+YH(e,2)+YH(e,2)+YH(t,4)+YH(i,4)+YH(r.length,2)+r}(this.dirRecords.length,this.bytesWritten-e,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})}prepareNextSource(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()}registerPrevious(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this}resume(){return!!super.resume()&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))}error(e){var t=this._sources;if(!super.error(e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0}lock(){super.lock();for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()}}class eB{constructor(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}checkOffset(e){this.checkIndex(this.index+e)}checkIndex(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")}setIndex(e){this.checkIndex(e),this.index=e}skip(e){this.setIndex(this.index+e)}byteAt(e){}readInt(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i}readString(e){return kH("string",this.readData(e))}readData(e){}lastIndexOfSignature(e){}readAndCheckSignature(e){}readDate(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}}class tB extends eB{constructor(e){super(e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}byteAt(e){return this.data[this.zero+e]}lastIndexOfSignature(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),s=e.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===t&&this.data[r+1]===i&&this.data[r+2]===n&&this.data[r+3]===s)return r-this.zero;return-1}readAndCheckSignature(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),s=e.charCodeAt(3),r=this.readData(4);return t===r[0]&&i===r[1]&&n===r[2]&&s===r[3]}readData(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t}}class iB extends eB{constructor(e){super(e)}byteAt(e){return this.data.charCodeAt(this.zero+e)}lastIndexOfSignature(e){return this.data.lastIndexOf(e)-this.zero}readAndCheckSignature(e){return e===this.readData(4)}readData(e){this.checkOffset(e);const t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t}}class nB extends tB{constructor(e){super(e)}readData(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t}}function sB(e){const t=_H(e);return EH(t),"string"!==t||pH.uint8array?pH.uint8array?new nB(kH("uint8array",e)):new tB(kH("array",e)):new iB(e)}class rB{constructor(e,t){this.options=e,this.loadOptions=t}isEncrypted(){return 1==(1&this.bitFlag)}useUTF8(){return 2048==(2048&this.bitFlag)}readLocalPart(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in ZH)if(ZH.hasOwnProperty(t)&&ZH[t].magic===e)return ZH[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+IH(this.compressionMethod)+" unknown (inner file : "+kH("string",this.fileName)+")");this.decompressed=new qH(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))}readCentralPart(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)}processAttributes(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)}parseZIP64ExtraField(e){if(this.extraFields[1]){var t=sB(this.extraFields[1].value);-1===this.uncompressedSize&&(this.uncompressedSize=t.readInt(8)),-1===this.compressedSize&&(this.compressedSize=t.readInt(8)),-1===this.localHeaderOffset&&(this.localHeaderOffset=t.readInt(8)),-1===this.diskNumberStart&&(this.diskNumberStart=t.readInt(4))}}readExtraFields(e){var t,i,n,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index<s;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n}}handleUTF8(){var e=pH.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=PH(this.fileName),this.fileCommentStr=PH(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=kH(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var s=kH(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}}findExtraFieldUnicodePath(){var e=this.extraFields[28789];if(e){var t=sB(e.value);return 1!==t.readInt(1)||UH(this.fileName)!==t.readInt(4)?null:PH(t.readData(e.length-5))}return null}findExtraFieldUnicodeComment(){var e=this.extraFields[25461];if(e){var t=sB(e.value);return 1!==t.readInt(1)||UH(this.fileComment)!==t.readInt(4)?null:PH(t.readData(e.length-5))}return null}}class oB{constructor(e){this.files=[],this.loadOptions=e}checkSignature(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+IH(t)+", expected "+IH(e)+")")}}isSignature(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(i),n}readBlockEndOfCentral(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=kH(pH.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)}readBlockZip64EndOfCentral(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}}readBlockZip64EndOfCentralLocator(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")}readLocalFiles(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature("PK\x03\x04"),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()}readCentralDir(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature("PK\x01\x02");)(e=new rB({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}readEndOfCentral(){var e=this.reader.lastIndexOfSignature("PK\x05\x06");if(e<0)throw this.isSignature(0,"PK\x03\x04")?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature("PK\x05\x06"),this.readBlockEndOfCentral(),65535===this.diskNumber||65535===this.diskWithCentralDirStart||65535===this.centralDirRecordsOnThisDisk||65535===this.centralDirRecords||-1===this.centralDirSize||-1===this.centralDirOffset){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature("PK\x06\x07"))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature("PK\x06\x07"),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,"PK\x06\x06")&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature("PK\x06\x06"),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature("PK\x06\x06"),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(n>0)this.isSignature(t,"PK\x01\x02")||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")}prepareReader(e){this.reader=sB(e)}load(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}}var aB={isNode:!1};function lB(e){return new dH.Promise((function(t,i){var n=e.decompressed.getContentWorker().pipe(new $H);n.on("error",(function(e){i(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}function cB(e,t){var i=this;return t=FH(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:PH}),aB.isNode&&aB.isStream(e)?dH.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):DH("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var i=new oB(t);return i.load(e),i})).then((function(e){var i=[dH.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var s=0;s<n.length;s++)i.push(lB(n[s]));return dH.Promise.all(i)})).then((function(e){for(var n=e.shift(),s=n.files,r=0;r<s.length;r++){var o=s[r];i.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i}))}var hB=function(e,t,i){var n,s,r=_H(t),o=FH(i||{},HH);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=dB(e)),o.createFolders&&(n=uB(e))&&pB.call(this,n,!0),i&&void 0!==i.binary||(o.binary=!("string"===r&&!1===o.binary&&!1===o.base64)),(t instanceof qH&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",r="string"),s=t instanceof qH||t instanceof AH?t:DH(e,t,o.binary,o.optimizedBinaryString,o.base64);var a=new GH(e,s,o);this.files[e]=a},uB=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},dB=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},pB=function(e,t){return t=void 0===t||t,e=dB(e),this.files[e]||hB.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function fB(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class gB{constructor(){if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){const e=new gB;for(const t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}load(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}forEach(e){var t,i,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n))}filter(e){var t=[];return this.forEach((function(i,n){e(i,n)&&t.push(n)})),t}file(e,t,i){if(1===arguments.length){if(fB(e)){var n=e;return this.filter((function(e,t){return!t.dir&&n.test(e)}))}var s=this.files[this.root+e];return s&&!s.dir?s:null}return hB.call(this,e=this.root+e,t,i),this}folder(e){if(!e)return this;if(fB(e))return this.filter((function(t,i){return i.dir&&e.test(t)}));var t=pB.call(this,this.root+e),i=this.clone();return i.root=t.name,i}remove(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter((function(t,i){return i.name.slice(0,e.length)===e})),n=0;n<i.length;n++)delete this.files[i[n].name];return this}generate(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}generateInternalStream(e){var t,i={};try{if((i=FH(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:RH})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");EH(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS"),t=function(e,t,i){var n=new XH(t.streamFiles,i,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,i){s++;var r=function(e,t){var i=e||t,n=ZH[i];if(!n)throw new Error(i+" is not a valid compression method !");return n}(i.options.compression,t.compression),o=i.dir,a=i.date;i._compressWorker(r,i.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:o,date:a,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(n)})),n.entriesCount=s}catch(r){n.error(r)}return n}(this,i,i.comment||this.comment||"")}catch(n){(t=new AH("error")).error(n)}return new VH(t,i.type||"string",i.mimeType)}generateAsync(e,t){return this.generateInternalStream(e).accumulate(t)}loadAsync(e,t){return cB.apply(this,[e,t])}static loadAsync(e,t){return(new gB).loadAsync(e,t)}static get support(){return pH}static get defaults(){return HH}static get version(){return"3.2.2-esm"}static get external(){return dH}}var mB=gB;let vB={toString:e=>e};function bB(e,t,i){return(1461*(e+4800+((t-13)/12|0))/4|0)+(367*(t-1-12*((t-13)/12|0))/12|0)-(3*((e+4900+((t-13)/12|0))/100|0)/4|0)+i-32075}const yB=bB(1900,0,-1),wB="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",CB=`data:${wB};base64,`,xB={compression:"DEFLATE",type:"base64"},SB={compression:"DEFLATE",type:"blob"},kB={compression:"DEFLATE",type:"arraybuffer"};function _B(e){return CB+e}function EB(e,t){return t.indexOf(e)}const IB=JSON.parse.bind(JSON);function TB(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")}function FB(e,t){let i="";for(let n=0;n<e;++n)i+=t(n);return i}function DB(e,t){let i="";if(null!=e)if(Array.isArray(e))for(let n=0;n<e.length;++n)i+=t(e[n],n);else"object"==typeof e&&Object.keys(e).forEach((n,s)=>{i+=t(e[n],n,s)});return i}const AB='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r',OB=e=>`${AB}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${DB(e,e=>`\n    <Relationship Id="${e.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/image" Target="${e.target}"/>`)}\n</Relationships>`;function RB(e){const t=Math.floor(e/26)-1;return(t>=0?RB(t):"")+String.fromCharCode(65+e%26)}function PB(e,t){return RB(t)+(e+1)}function MB(e,t){return"$"+RB(t)+"$"+(e+1)}function NB(e){return(e.frozenRows||(e.freezePane||{}).rowSplit||1)-1}function LB(e){return e/7-Math.floor(128/7)/256}class VB{constructor(e,t,i,n){this.options=e,this._strings=t,this._styles=i,this._borders=n,this._validations={},this._comments=[],this._drawings=e.drawings||[],this._hyperlinks=(this.options.hyperlinks||[]).map((e,t)=>Object.assign({},e,{rId:"link"+t}))}relsToXML(){const e=this._hyperlinks,t=this._comments,i=this._drawings;if(e.length||t.length||i.length)return(({hyperlinks:e,comments:t,sheetIndex:i,drawings:n})=>`${AB}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${DB(e,e=>`\n    <Relationship Id="${e.rId}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink" Target="${TB(e.target)}" TargetMode="External" />`)}\n  ${t.length?`\n    <Relationship Id="comment${i}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments" Target="../comments${i}.xml"/>\n    <Relationship Id="vml${i}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing" Target="../drawings/vmlDrawing${i}.vml"/>`:""}\n  ${n.length?`\n    <Relationship Id="drw${i}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing" Target="../drawings/drawing${i}.xml"/>`:""}\n</Relationships>`)({hyperlinks:e,comments:t,sheetIndex:this.options.sheetIndex,drawings:i})}toXML(e){const t=this.options.mergedCells||[],i=function(e,t){const i=[],n=[];!function(e,t){for(let i=0;i<e.length;i++){const n=e[i];if(!n)continue;let s=n.index;"number"!=typeof s&&(s=i),t(n,s)}}(e,(function(e,t){const s={_source:e,index:t,height:e.height,level:e.level,cells:[]};i.push(s),n[t]=s}));const s=WB(i).slice(0),r={rowData:i,rowsByIndex:n,mergedCells:t};for(let o=0;o<s.length;o++)JB(s[o],r),delete s[o]._source;return WB(i)}(this.options.rows||[],t);this._readCells(i);let n,s=this.options.filter;s&&"number"==typeof s.from&&"number"==typeof s.to?s={from:PB(NB(this.options),s.from),to:PB(NB(this.options),s.to)}:s&&s.ref&&s.columns&&(n=s,s=null);const r=[];for(let u in this._validations)Object.prototype.hasOwnProperty.call(this._validations,u)&&r.push(this._validations[u]);let o=null;this.options.defaultCellStyle&&(o=this._lookupStyle(this.options.defaultCellStyle));const a=this.options.freezePane||{},l=this.options.defaults||{},c=this.options.rows?this._getLastRow():1,h=this.options.rows?this._getLastCol():1;return(({frozenColumns:e,frozenRows:t,columns:i,defaults:n,data:s,index:r,mergeCells:o,autoFilter:a,filter:l,showGridLines:c,hyperlinks:h,validations:u,defaultCellStyleId:d,rtl:p,legacyDrawing:f,drawing:g,lastRow:m,lastCol:v})=>`${AB}\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" mc:Ignorable="x14ac">\n   ${m&&v?`<dimension ref="A1:${PB(m-1,v-1)}" />`:""}\n\n   <sheetViews>\n     <sheetView ${p?'rightToLeft="1"':""} ${0===r?'tabSelected="1"':""} workbookViewId="0" ${!1===c?'showGridLines="0"':""}>\n     ${t||e?`\n       <pane state="frozen"\n         ${e?`xSplit="${e}"`:""}\n         ${t?`ySplit="${t}"`:""}\n         topLeftCell="${String.fromCharCode(65+(e||0))+((t||0)+1)}"\n       />`:""}\n     </sheetView>\n   </sheetViews>\n\n   <sheetFormatPr x14ac:dyDescent="0.25" ${n.skipCustomHeight?"":'customHeight="1"'} defaultRowHeight="${n.rowHeight?.75*n.rowHeight:15}"\n     ${n.columnWidth?`defaultColWidth="${LB(n.columnWidth)}"`:""} />\n\n   ${null!=d||i&&i.length>0?`\n     <cols>\n       ${i&&i.length?"":`\n         <col min="1" max="16384" style="${d}"\n              ${n.columnWidth?`width="${LB(n.columnWidth)}"`:""} /> `}\n       ${DB(i,(e,t)=>{const i="number"==typeof e.index?e.index+1:t+1;return 0===e.width?`<col ${null!=d?`style="${d}"`:""}\n                        min="${i}" max="${i}" hidden="1" customWidth="1" />`:`<col ${null!=d?`style="${d}"`:""}\n                      min="${i}" max="${i}" customWidth="1"\n                      ${e.autoWidth?`width="${(7*e.width+5)/7*256/256}" bestFit="1"`:`width="${LB(e.width)}"`} />`})}\n     </cols>`:""}\n\n   <sheetData>\n     ${DB(s,(e,t)=>{return`\n         <row r="${"number"==typeof e.index?e.index+1:t+1}" x14ac:dyDescent="0.25"\n              ${e.level?`outlineLevel="${e.level}"`:""}\n              ${0===e.height?'hidden="1"':e.height?`ht="${i=e.height,.75*i}" customHeight="1"`:""}>\n           ${DB(e.data,e=>{return`\n             <c r="${e.ref}" ${e.style?`s="${e.style}"`:""} ${e.type?`t="${e.type}"`:""}>\n               ${null!=e.formula?(t=e.formula,"string"==typeof t?`<f>${TB(t)}</f>`:`<f t="array" ref="${t.ref}">${TB(t.src)}</f>`):""}\n               ${null!=e.value?`<v>${TB(e.value)}</v>`:""}\n             </c>`;var t})}\n         </row>\n       `;var i})}\n   </sheetData>\n\n   ${a?`<autoFilter ref="${a.from}:${a.to}"/>`:l?oz(l):""}\n\n   ${o.length?`\n     <mergeCells count="${o.length}">\n       ${DB(o,e=>`<mergeCell ref="${e}"/>`)}\n     </mergeCells>`:""}\n\n   ${u.length?`\n     <dataValidations>\n       ${DB(u,e=>`\n         <dataValidation sqref="${e.sqref.join(" ")}"\n                         showErrorMessage="${e.showErrorMessage}"\n                         type="${TB(e.type)}"\n                         ${"list"!==e.type?`operator="${TB(e.operator)}"`:""}\n                         allowBlank="${e.allowBlank}"\n                         showDropDown="${e.showDropDown}"\n                         ${e.error?`error="${TB(e.error)}"`:""}\n                         ${e.errorTitle?`errorTitle="${TB(e.errorTitle)}"`:""}>\n           ${e.formula1?`<formula1>${TB(e.formula1)}</formula1>`:""}\n           ${e.formula2?`<formula2>${TB(e.formula2)}</formula2>`:""}\n         </dataValidation>`)}\n     </dataValidations>`:""}\n\n   ${h.length?`\n     <hyperlinks>\n       ${DB(h,e=>`\n         <hyperlink ref="${e.ref}" r:id="${e.rId}"/>`)}\n     </hyperlinks>`:""}\n\n   <pageMargins left="0.7" right="0.7" top="0.75" bottom="0.75" header="0.3" footer="0.3" />\n   ${g?`<drawing r:id="${g}"/>`:""}\n   ${f?`<legacyDrawing r:id="${f}"/>`:""}\n</worksheet>`)({frozenColumns:this.options.frozenColumns||a.colSplit,frozenRows:this.options.frozenRows||a.rowSplit,columns:this.options.columns,defaults:l,data:i,index:e,mergeCells:t,autoFilter:s,filter:n,showGridLines:this.options.showGridLines,hyperlinks:this._hyperlinks,validations:r,defaultCellStyleId:o,rtl:void 0!==this.options.rtl?this.options.rtl:l.rtl,legacyDrawing:this._comments.length?"vml"+this.options.sheetIndex:null,drawing:this._drawings.length?"drw"+this.options.sheetIndex:null,lastRow:c,lastCol:h})}commentsXML(){if(this._comments.length)return(({comments:e})=>`${AB}\n<comments xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">\n  <authors>\n    <author></author>\n  </authors>\n  <commentList>\n    ${DB(e,e=>`\n      <comment ref="${e.ref}" authorId="0">\n        <text>\n          <r>\n            <rPr>\n              <sz val="8"/>\n              <color indexed="81"/>\n              <rFont val="Tahoma"/>\n              <charset val="1"/>\n            </rPr>\n            <t>${TB(e.text)}</t>\n          </r>\n        </text>\n      </comment>`)}\n  </commentList>\n</comments>`)({comments:this._comments})}drawingsXML(e){if(this._drawings.length){let i={};return{main:(t=this._drawings.map(t=>{let n=YB(t.topLeftCell),s=i[t.image];return s||(s=i[t.image]={rId:"img"+t.image,target:e[t.image].target}),{col:n.col,colOffset:QB(t.offsetX),row:n.row,rowOffset:QB(t.offsetY),width:QB(t.width),height:QB(t.height),imageId:s.rId}}),`${AB}\n<xdr:wsDr xmlns:xdr="http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing"\n          xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main"\n          xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  ${DB(t,(e,t)=>`\n    <xdr:oneCellAnchor editAs="oneCell">\n      <xdr:from>\n        <xdr:col>${e.col}</xdr:col>\n        <xdr:colOff>${e.colOffset}</xdr:colOff>\n        <xdr:row>${e.row}</xdr:row>\n        <xdr:rowOff>${e.rowOffset}</xdr:rowOff>\n      </xdr:from>\n      <xdr:ext cx="${e.width}" cy="${e.height}" />\n      <xdr:pic>\n        <xdr:nvPicPr>\n          <xdr:cNvPr id="${t+1}" name="Picture ${t+1}"/>\n          <xdr:cNvPicPr/>\n        </xdr:nvPicPr>\n        <xdr:blipFill>\n          <a:blip r:embed="${e.imageId}"/>\n          <a:stretch>\n            <a:fillRect/>\n          </a:stretch>\n        </xdr:blipFill>\n        <xdr:spPr>\n          <a:prstGeom prst="rect">\n            <a:avLst/>\n          </a:prstGeom>\n        </xdr:spPr>\n      </xdr:pic>\n      <xdr:clientData/>\n    </xdr:oneCellAnchor>`)}\n</xdr:wsDr>`),rels:OB(i)}}var t}legacyDrawing(){if(this._comments.length)return(({comments:e})=>`<xml xmlns:v="urn:schemas-microsoft-com:vml"\n     xmlns:o="urn:schemas-microsoft-com:office:office"\n     xmlns:x="urn:schemas-microsoft-com:office:excel">\n  <v:shapetype coordsize="21600,21600" id="_x0000_t202" path="m,l,21600r21600,l21600,xe">\n    <v:stroke joinstyle="miter"/>\n    <v:path gradientshapeok="t" o:connecttype="rect"/>\n  </v:shapetype>\n  ${DB(e,e=>`\n    <v:shape type="#_x0000_t202" style="visibility: hidden" fillcolor="#ffffe1" o:insetmode="auto">\n      <v:shadow on="t" color="black" obscured="t"/>\n      <x:ClientData ObjectType="Note">\n        <x:MoveWithCells/>\n        <x:SizeWithCells/>\n        <x:Anchor>${e.anchor}</x:Anchor>\n        <x:AutoFill>False</x:AutoFill>\n        <x:Row>${e.row}</x:Row>\n        <x:Column>${e.col}</x:Column>\n      </x:ClientData>\n    </v:shape>`)}\n</xml>`)({comments:this._comments})}_lookupString(e){const t="$"+e,i=this._strings.indexes[t];let n;return void 0!==i?n=i:(n=this._strings.indexes[t]=this._strings.uniqueCount,this._strings.uniqueCount++),this._strings.count++,n}_lookupStyle(e){const t=JSON.stringify(e);if("{}"===t)return 0;let i=EB(t,this._styles);return i<0&&(i=this._styles.push(t)-1),i+1}_lookupBorder(e){const t=JSON.stringify(e);if("{}"===t)return;let i=EB(t,this._borders);return i<0&&(i=this._borders.push(t)-1),i+1}_readCells(e){for(let t=0;t<e.length;t++){const i=e[t],n=i.cells;i.data=[];for(let e=0;e<n.length;e++){const t=this._cell(n[e],i.index,e);t&&i.data.push(t)}}}_cell(e,t,i){if(!e||e===KB)return null;let n=e.value,s={};e.borderLeft&&(s.left=e.borderLeft),e.borderRight&&(s.right=e.borderRight),e.borderTop&&(s.top=e.borderTop),e.borderBottom&&(s.bottom=e.borderBottom),s=this._lookupBorder(s);const r=this.options.defaultCellStyle||{};let o={borderId:s};!function(e){e("color"),e("background"),e("bold"),e("italic"),e("underline"),e("fontFamily")||e("fontName","fontFamily"),e("fontSize"),e("format"),e("textAlign")||e("hAlign","textAlign"),e("verticalAlign")||e("vAlign","verticalAlign"),e("wrap"),e("indent")}((function(t,i){let n=e[t];if(void 0===n&&(n=r[t]),void 0!==n)return o[i||t]=n,!0}));const a=(this.options.columns||[])[i];let l=typeof n;if(a&&a.autoWidth&&(!e.colSpan||1===e.colSpan)){let t=n;"number"===l&&(t=class{static register(e){vB=e}static toString(e,t){return vB.toString(e,t)}}.toString(n,e.format)),a.width=Math.max(a.width||0,String(t).length)}"string"===l?(n=function(e){return String(e).replace(/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,"").replace(/\r?\n/g,"\r\n")}(n),n=this._lookupString(n),l="s"):"number"===l?l="n":"boolean"===l?(l="b",n=Number(n)):n&&n.getTime?(l=null,n=function(e){const t=(e.getHours()+(e.getMinutes()+(e.getSeconds()+e.getMilliseconds()/1e3)/60)/60)/24,i=function(e,t,i){return bB(e,t,i)-yB}(e.getFullYear(),e.getMonth(),e.getDate());return i<0?i-1+t:i+t}(n),o.format||(o.format="mm-dd-yy")):(l=null,n=null),o=this._lookupStyle(o);const c=PB(t,i);return e.validation&&this._addValidation(e.validation,c),e.comment&&this._comments.push({ref:c,text:e.comment,row:t,col:i,anchor:[i+1,15,t,10,i+3,15,t+3,4].join(", ")}),{value:n,formula:e.formula,type:l,style:o,ref:c}}_addValidation(e,t){const i={showErrorMessage:"reject"===e.type?1:0,formula1:e.from,formula2:e.to,type:zB[e.dataType]||e.dataType,operator:BB[e.comparerType]||e.comparerType,allowBlank:e.allowNulls?1:0,showDropDown:e.showButton?0:1,error:e.messageTemplate,errorTitle:e.titleTemplate},n=JSON.stringify(i);this._validations[n]||(this._validations[n]=i,i.sqref=[]),this._validations[n].sqref.push(t)}_getLastRow(){return HB(this.options.rows)}_getLastCol(){let e=0;return this.options.rows.forEach((function(t){t.cells&&(e=Math.max(e,HB(t.cells)))})),e}}function HB(e){let t=e.length;return e.forEach((function(e){e.index&&e.index>=t&&(t=e.index+1)})),t}const BB={greaterThanOrEqualTo:"greaterThanOrEqual",lessThanOrEqualTo:"lessThanOrEqual"},zB={number:"decimal"},jB={General:0,0:1,"0.00":2,"#,##0":3,"#,##0.00":4,"0%":9,"0.00%":10,"0.00E+00":11,"# ?/?":12,"# ??/??":13,"mm-dd-yy":14,"d-mmm-yy":15,"d-mmm":16,"mmm-yy":17,"h:mm AM/PM":18,"h:mm:ss AM/PM":19,"h:mm":20,"h:mm:ss":21,"m/d/yy h:mm":22,"#,##0 ;(#,##0)":37,"#,##0 ;[Red](#,##0)":38,"#,##0.00;(#,##0.00)":39,"#,##0.00;[Red](#,##0.00)":40,"mm:ss":45,"[h]:mm:ss":46,"mmss.0":47,"##0.0E+0":48,"@":49,"[$-404]e/m/d":27,"m/d/yy":30,t0:59,"t0.00":60,"t#,##0":61,"t#,##0.00":62,"t0%":67,"t0.00%":68,"t# ?/?":69,"t# ??/??":70};function UB(e){let t=e;return t.length<6&&(t=t.replace(/(\w)/g,(function(e,t){return t+t}))),t=t.substring(1).toUpperCase(),t.length<8&&(t="FF"+t),t}class $B{constructor(e){this.options=e||{},this._strings={indexes:{},count:0,uniqueCount:0},this._styles=[],this._borders=[],this._images=this.options.images,this._imgId=0,this._sheets=lH(this.options.sheets||[],(e,t)=>(e.defaults=this.options,e.sheetIndex=t+1,new VB(e,this._strings,this._styles,this._borders)))}imageFilename(e){const t=++this._imgId;switch(e){case"image/jpg":case"image/jpeg":return`image${t}.jpg`;case"image/png":return`image${t}.png`;case"image/gif":return`image${t}.gif`;default:return`image${t}.bin`}}toZIP(){const e=new mB,t=e.folder("docProps");t.file("core.xml",(({creator:e,lastModifiedBy:t,created:i,modified:n})=>`${AB}\n <cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties"\n   xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/"\n   xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">\n   <dc:creator>${TB(e)}</dc:creator>\n   <cp:lastModifiedBy>${TB(t)}</cp:lastModifiedBy>\n   <dcterms:created xsi:type="dcterms:W3CDTF">${TB(i)}</dcterms:created>\n   <dcterms:modified xsi:type="dcterms:W3CDTF">${TB(n)}</dcterms:modified>\n</cp:coreProperties>`)({creator:this.options.creator||"Kendo UI",lastModifiedBy:this.options.creator||"Kendo UI",created:this.options.date||(new Date).toJSON(),modified:this.options.date||(new Date).toJSON()}));const i=this._sheets.length;t.file("app.xml",(({sheets:e})=>`${AB}\n<Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties" xmlns:vt="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes">\n  <Application>Microsoft Excel</Application>\n  <DocSecurity>0</DocSecurity>\n  <ScaleCrop>false</ScaleCrop>\n  <HeadingPairs>\n    <vt:vector size="2" baseType="variant">\n      <vt:variant>\n        <vt:lpstr>Worksheets</vt:lpstr>\n      </vt:variant>\n      <vt:variant>\n        <vt:i4>${e.length}</vt:i4>\n      </vt:variant>\n    </vt:vector>\n  </HeadingPairs>\n  <TitlesOfParts>\n    <vt:vector size="${e.length}" baseType="lpstr">${DB(e,(e,t)=>e.options.title?`<vt:lpstr>${TB(e.options.title)}</vt:lpstr>`:`<vt:lpstr>Sheet${t+1}</vt:lpstr>`)}</vt:vector>\n  </TitlesOfParts>\n  <LinksUpToDate>false</LinksUpToDate>\n  <SharedDoc>false</SharedDoc>\n  <HyperlinksChanged>false</HyperlinksChanged>\n  <AppVersion>14.0300</AppVersion>\n</Properties>`)({sheets:this._sheets})),e.folder("_rels").file(".rels",'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n            <Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n               <Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/>\n               <Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/>\n               <Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/>\n            </Relationships>');const n=e.folder("xl");if(n.folder("_rels").file("workbook.xml.rels",(({count:e})=>`${AB}\n<Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">\n  ${FB(e,e=>`\n    <Relationship Id="rId${e+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${e+1}.xml" />`)}\n  <Relationship Id="rId${e+1}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml" />\n  <Relationship Id="rId${e+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml" />\n</Relationships>`)({count:i})),this._images){const e=n.folder("media");Object.keys(this._images).forEach(t=>{const i=this._images[t],n=this.imageFilename(i.type);e.file(n,i.data),i.target="../media/"+n})}const s={};n.file("workbook.xml",(({sheets:e,filterNames:t,userNames:i})=>`${AB}\n<workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships">\n  <fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="9303" />\n  <workbookPr defaultThemeVersion="124226" />\n  <bookViews>\n    <workbookView xWindow="240" yWindow="45" windowWidth="18195" windowHeight="7995" />\n  </bookViews>\n  <sheets>\n  ${DB(e,({options:e},t)=>`<sheet name="${TB(e.name||e.title||"Sheet"+(t+1))}" sheetId="${t+1}" r:id="rId${t+1}" />`)}\n  </sheets>\n  ${t.length||i.length?`\n    <definedNames>\n      ${DB(t,e=>{return`\n         <definedName name="_xlnm._FilterDatabase" hidden="1" localSheetId="${e.localSheetId}">${TB((t=e.name,/^\'/.test(t)||/^[a-z_][a-z0-9_]*$/i.test(t)?t:"'"+t.replace(/\x27/g,"\\'")+"'"))}!${TB(e.from)}:${TB(e.to)}</definedName>`;var t})}\n      ${DB(i,e=>`\n         <definedName name="${e.name}" hidden="${e.hidden?1:0}" ${null!=e.localSheetId?`localSheetId="${e.localSheetId}"`:""}>${TB(e.value)}</definedName>`)}\n    </definedNames>`:""}\n  <calcPr fullCalcOnLoad="1" calcId="145621" />\n</workbook>`)({sheets:this._sheets,filterNames:lH(this._sheets,(function(e,t){const i=e.options,n=i.name||i.title||"Sheet"+(t+1);s[n.toLowerCase()]=t;const r=i.filter;if(r){if(r.ref){let e=r.ref.split(":"),i=YB(e[0]),s=YB(e[1]);return{localSheetId:t,name:n,from:MB(i.row,i.col),to:MB(s.row,s.col)}}if(void 0!==r.from&&void 0!==r.to)return{localSheetId:t,name:n,from:MB(NB(i),r.from),to:MB(NB(i),r.to)}}})),userNames:lH(this.options.names||[],(function(e){return{name:e.localName,localSheetId:e.sheet?s[e.sheet.toLowerCase()]:null,value:e.value,hidden:e.hidden}}))}));const r=n.folder("worksheets"),o=n.folder("drawings"),a=o.folder("_rels"),l=r.folder("_rels"),c=[],h=[];for(let v=0;v<i;v++){const e=this._sheets[v],t=`sheet${v+1}.xml`,i=e.toXML(v),s=e.relsToXML(),u=e.commentsXML(),d=e.legacyDrawing(),p=e.drawingsXML(this._images);if(s&&l.file(t+".rels",s),u){let t=`comments${e.options.sheetIndex}.xml`;n.file(t,u),c.push(t)}if(d&&o.file(`vmlDrawing${e.options.sheetIndex}.vml`,d),p){let t=`drawing${e.options.sheetIndex}.xml`;o.file(t,p.main),a.file(t+".rels",p.rels),h.push(t)}r.file(t,i)}const u=lH(this._borders,IB),d=lH(this._styles,IB),p=function(e){return e.underline||e.bold||e.italic||e.color||e.fontFamily||e.fontSize},f=lH(d,(function(e){if(e.fontSize&&(e.fontSize=function(e){let t,i=Number(e);return i&&(t=3*i/4),t}(e.fontSize)),e.color&&(e.color=UB(e.color)),p(e))return e})),g=lH(d,(function(e){if(e.format&&void 0===jB[e.format])return e})),m=lH(d,(function(e){if(e.background)return e.background=UB(e.background),e}));return n.file("styles.xml",(({formats:e,fonts:t,fills:i,borders:n,styles:s})=>`${AB}\n<styleSheet\n    xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"\n    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"\n    mc:Ignorable="x14ac"\n    xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac">\n  <numFmts count="${e.length}">\n  ${DB(e,(e,t)=>`\n    <numFmt formatCode="${TB(e.format)}" numFmtId="${165+t}" />`)}\n  </numFmts>\n  <fonts count="${t.length+1}" x14ac:knownFonts="1">\n    <font>\n       <sz val="11" />\n       <color theme="1" />\n       <name val="Calibri" />\n       <family val="2" />\n       <scheme val="minor" />\n    </font>\n    ${DB(t,e=>`\n    <font>\n      ${e.bold?"<b/>":""}\n      ${e.italic?"<i/>":""}\n      ${e.underline?"<u/>":""}\n      <sz val="${e.fontSize||11}" />\n      ${e.color?`<color rgb="${TB(e.color)}" />`:'<color theme="1" />'}\n      ${e.fontFamily?`\n        <name val="${TB(e.fontFamily)}" />\n        <family val="2" />\n      `:'\n        <name val="Calibri" />\n        <family val="2" />\n        <scheme val="minor" />\n      '}\n    </font>`)}\n  </fonts>\n  <fills count="${i.length+2}">\n      <fill><patternFill patternType="none"/></fill>\n      <fill><patternFill patternType="gray125"/></fill>\n    ${DB(i,e=>"\n      "+(e.background?`\n        <fill>\n          <patternFill patternType="solid">\n              <fgColor rgb="${TB(e.background)}"/>\n          </patternFill>\n        </fill>\n      `:""))}\n  </fills>\n  <borders count="${n.length+1}">\n    <border><left/><right/><top/><bottom/><diagonal/></border>\n    ${DB(n,GB)}\n  </borders>\n  <cellStyleXfs count="1">\n    <xf borderId="0" fillId="0" fontId="0" />\n  </cellStyleXfs>\n  <cellXfs count="${s.length+1}">\n    <xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" />\n    ${DB(s,e=>`\n      <xf xfId="0"\n          ${e.fontId?`fontId="${e.fontId}" applyFont="1"`:""}\n          ${e.fillId?`fillId="${e.fillId}" applyFill="1"`:""}\n          ${e.numFmtId?`numFmtId="${e.numFmtId}" applyNumberFormat="1"`:""}\n          ${e.textAlign||e.verticalAlign||e.wrap?'applyAlignment="1"':""}\n          ${e.borderId?`borderId="${e.borderId}" applyBorder="1"`:""}>\n        ${e.textAlign||e.verticalAlign||e.wrap?`\n        <alignment\n          ${e.textAlign?`horizontal="${TB(e.textAlign)}"`:""}\n          ${e.verticalAlign?`vertical="${TB(e.verticalAlign)}"`:""}\n          ${e.indent?`indent="${TB(e.indent)}"`:""}\n          ${e.wrap?'wrapText="1"':""} />\n        `:""}\n      </xf>\n    `)}\n  </cellXfs>\n  <cellStyles count="1">\n    <cellStyle name="Normal" xfId="0" builtinId="0"/>\n  </cellStyles>\n  <dxfs count="0" />\n  <tableStyles count="0" defaultTableStyle="TableStyleMedium2" defaultPivotStyle="PivotStyleMedium9" />\n</styleSheet>`)({fonts:f,fills:m,formats:g,borders:u,styles:lH(d,(function(e){const t={};return p(e)&&(t.fontId=EB(e,f)+1),e.background&&(t.fillId=EB(e,m)+2),t.textAlign=e.textAlign,t.indent=e.indent,t.verticalAlign=e.verticalAlign,t.wrap=e.wrap,t.borderId=e.borderId,e.format&&(t.numFmtId=void 0!==jB[e.format]?jB[e.format]:165+EB(e,g)),t}))})),n.file("sharedStrings.xml",(({count:e,uniqueCount:t,indexes:i})=>`${AB}\n<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="${e}" uniqueCount="${t}">\n  ${DB(Object.keys(i),e=>`\n    <si><t xml:space="preserve">${TB(e.substring(1))}</t></si>`)}\n</sst>`)(this._strings)),e.file("[Content_Types].xml",(({sheetCount:e,commentFiles:t,drawingFiles:i})=>`${AB}\n<Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types">\n  <Default Extension="png" ContentType="image/png"/>\n  <Default Extension="gif" ContentType="image/gif"/>\n  <Default Extension="jpg" ContentType="image/jpeg"/>\n  <Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" />\n  <Default Extension="xml" ContentType="application/xml" />\n  <Default Extension="vml" ContentType="application/vnd.openxmlformats-officedocument.vmlDrawing"/>\n  <Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" />\n  <Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/>\n  <Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/>\n  ${FB(e,e=>`<Override PartName="/xl/worksheets/sheet${e+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" />`)}\n  ${DB(t,e=>`<Override PartName="/xl/${e}" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"/>`)}\n  ${DB(i,e=>`<Override PartName="/xl/drawings/${e}" ContentType="application/vnd.openxmlformats-officedocument.drawing+xml"/>`)}\n  <Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml" />\n  <Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml" />\n</Types>`)({sheetCount:i,commentFiles:c,drawingFiles:h})),e}toDataURL(){const e=this.toZIP();return e.generateAsync?e.generateAsync(xB).then(_B):_B(e.generate(xB))}toBlob(){const e=this.toZIP();return e.generateAsync?e.generateAsync(SB):new Blob([e.generate(kB)],{type:wB})}}function qB(e,t){let i="";return t&&(i+="<"+e+' style="'+function(e){let t="thin";return 2===e?t="medium":3===e&&(t="thick"),t}(t.size)+'">',t.color&&(i+='<color rgb="'+UB(t.color)+'"/>'),i+="</"+e+">"),i}function GB(e){return"<border>"+qB("left",e.left)+qB("right",e.right)+qB("top",e.top)+qB("bottom",e.bottom)+"</border>"}const KB={};function WB(e){return e.sort((function(e,t){return e.index-t.index}))}function ZB(e,t){for(let i=0;i<e.length;++i){const n=e[i].split(":");let s=n[0];if(s===t){let e=n[1];return s=YB(s),e=YB(e),{rowSpan:e.row-s.row+1,colSpan:e.col-s.col+1}}}}function YB(e){const t=/^([a-z]+)(\d+)$/i.exec(e);return{row:(i=t[2],parseInt(i,10)-1),col:function(e){let t=e.toUpperCase(),i=0;for(let n=0;n<t.length;++n)i=26*i+t.charCodeAt(n)-64;return i-1}(t[1])};var i}function QB(e){return Math.round(9525*e)}function JB(e,t){const i=e.index,n=e._source.cells,s=e.cells;var r,o;if(n)for(let a=0;a<n.length;a++){const e=n[a]||KB;let l=e.rowSpan||1,c=e.colSpan||1;const h=XB(s,e),u=PB(i,h);if(1===l&&1===c){const e=ZB(t.mergedCells,u);e&&(c=e.colSpan,l=e.rowSpan)}if(tz(e,s,h,c),(l>1||c>1)&&(r=t.mergedCells,o=u+":"+PB(i+l-1,h+c-1),r.indexOf(o)<0&&r.push(o)),l>1)for(let n=i+1;n<i+l;n++){let i=t.rowsByIndex[n];i||(i=t.rowsByIndex[n]={index:n,cells:[]},t.rowData.push(i)),tz(e,i.cells,h-1,c+1)}}}function XB(e,t){let i;return"number"==typeof t.index?(i=t.index,ez(e,t,t.index)):i=function(e,t){let i=e.length;for(let n=0;n<e.length+1;n++)if(!e[n]){e[n]=t,i=n;break}return i}(e,t),i}function ez(e,t,i){e[i]=t}function tz(e,t,i,n){for(let s=1;s<n;s++)ez(t,{borderTop:e.borderTop,borderRight:e.borderRight,borderBottom:e.borderBottom,borderLeft:e.borderLeft},i+s)}const iz=({logic:e,criteria:t})=>`\n<customFilters ${"and"===e?'and="1"':""}>\n${DB(t,e=>{let t=oz.customOperator(e);return`<customFilter ${t?`operator="${t}"`:""} val="${oz.customValue(e)}"/>`})}\n</customFilters>`,nz=({type:e})=>`<dynamicFilter type="${oz.dynamicFilterType(e)}" />`,sz=({type:e,value:t})=>`<top10 percent="${/percent$/i.test(e)?1:0}"\n       top="${/^top/i.test(e)?1:0}"\n       val="${t}" />`,rz=({blanks:e,values:t})=>`<filters ${e?'blank="1"':""}>\n    ${DB(t,e=>`\n      <filter val="${e}" />`)}\n  </filters>`;function oz(e){return(({ref:e,columns:t,generators:i})=>`\n<autoFilter ref="${e}">\n  ${DB(t,e=>`\n    <filterColumn colId="${e.index}">\n      ${i[e.filter](e)}\n    </filterColumn>\n  `)}\n</autoFilter>`)({ref:e.ref,columns:e.columns,generators:{custom:iz,dynamic:nz,top:sz,value:rz}})}oz.customOperator=function(e){return{eq:"equal",gt:"greaterThan",gte:"greaterThanOrEqual",lt:"lessThan",lte:"lessThanOrEqual",ne:"notEqual",doesnotstartwith:"notEqual",doesnotendwith:"notEqual",doesnotcontain:"notEqual",doesnotmatch:"notEqual"}[e.operator.toLowerCase()]},oz.customValue=function(e){function t(e){return e.replace(/([*?])/g,"~$1")}switch(e.operator.toLowerCase()){case"startswith":case"doesnotstartwith":return t(e.value)+"*";case"endswith":case"doesnotendwith":return"*"+t(e.value);case"contains":case"doesnotcontain":return"*"+t(e.value)+"*";default:return e.value}},oz.dynamicFilterType=function(e){return{quarter1:"Q1",quarter2:"Q2",quarter3:"Q3",quarter4:"Q4",january:"M1",february:"M2",march:"M3",april:"M4",may:"M5",june:"M6",july:"M7",august:"M8",september:"M9",october:"M10",november:"M11",december:"M12"}[e.toLowerCase()]||e};const az=(e,t,i)=>{let n=e.createEmbeddedView(t);const s=e=>(i(t,e),n.detectChanges(),n.rootNodes.reduce((e,t)=>e+t.textContent,"").trim());return s.destroy=()=>{n.destroy(),n=null},s},lz=(e,t)=>{e.$implicit=e.group=t,e.field=t.field,e.value=t.value,e.aggregates=t.aggregates},cz=(e,t)=>{e.group=t.group,e.$implicit=e.aggregates=t},hz=(e,t)=>{},uz=e=>{e&&e.forEach(e=>{e.destroy()})};class dz{constructor(e,t){this.title=e.title,this.field=e.field,this.hidden=e.hidden,this.locked=e.locked,this.width=e.width,this.headerCellOptions=e.headerCellOptions,this.cellOptions=e.cellOptions,this.groupHeaderCellOptions=e.groupHeaderCellOptions,this.groupFooterCellOptions=e.groupFooterCellOptions,this.footerCellOptions=e.footerCellOptions,e.footerTemplate&&(this.footerTemplate=az(e.footerTemplate.templateRef,{$implicit:e,column:e,columnIndex:t},hz)),e.groupFooterTemplate&&(this.groupFooterTemplate=az(e.groupFooterTemplate.templateRef,{column:e,field:e.field},cz)),e.groupHeaderTemplate&&(this.groupHeaderTemplate=az(e.groupHeaderTemplate.templateRef,{},lz))}destroy(){this.footerTemplate&&this.footerTemplate.destroy(),this.groupFooterTemplate&&this.groupFooterTemplate.destroy(),this.groupHeaderTemplate&&this.groupHeaderTemplate.destroy(),uz(this.columns)}}const pz=e=>{const t=(e=>{const t=[];let i=0;const n=(e,t,s)=>{e.forEach(e=>{if(e.level===s){const r=new dz(e,i);if(t.push(r),e.children&&e.children.length>1){const t=r.columns=[];n(e.children,t,s+1)}else i++}})};return n(e,t,0),t})(e.columns),i=new class{constructor(e){e.columns=this._trimColumns(e.columns||[]),this.allColumns=lH(this._leafColumns(e.columns||[]),this._prepareColumn),this.columns=this._visibleColumns(this.allColumns),this.options=e,this.data=e.data||[],this.aggregates=e.aggregates||{},this.groups=[].concat(e.groups||[]),this.hasGroups=this.groups.length>0,this.hierarchy=e.hierarchy,this.hasGroupHeaderColumn=this.columns.some(e=>e.groupHeaderColumnTemplate),this.collapsible=this.options.collapsible}workbook(){return{sheets:[{columns:this._columns(),rows:this.hierarchy?this._hierarchyRows():this._rows(),freezePane:this._freezePane(),filter:this._filter()}]}}_trimColumns(e){return e.filter(e=>{let t=Boolean(e.field);return!t&&e.columns&&(t=this._trimColumns(e.columns).length>0),t})}_leafColumns(e){let t=[];for(let i=0;i<e.length;i++)e[i].columns?t=t.concat(this._leafColumns(e[i].columns)):t.push(e[i]);return t}_prepareColumn(e){if(!e.field)return null;let t=function(t){return aH(e.field)(t)},i=null;return e.values&&(i={},e.values.forEach((function(e){i[e.value]=e.text})),t=function(t){return i[aH(e.field)(t)]}),Object.assign({},e,{value:t,values:i,groupHeaderTemplate:e.groupHeaderTemplate?sH.compile(e.groupHeaderTemplate):cH,groupHeaderColumnTemplate:e.groupHeaderColumnTemplate?sH.compile(e.groupHeaderColumnTemplate):null,groupFooterTemplate:e.groupFooterTemplate?sH.compile(e.groupFooterTemplate):null,footerTemplate:e.footerTemplate?sH.compile(e.footerTemplate):null})}_filter(){if(!this.options.filterable)return null;const e=this._depth();return{from:e,to:e+this.columns.length-1}}_createPaddingCells(e){return hH(e,()=>Object.assign({background:"#dfdfdf",color:"#333"},this.options.paddingCellOptions))}_dataRow(e,t,i){let n=this._createPaddingCells(t);if(this.hasGroups&&i&&e.items){n=n.concat(this._groupHeaderCells(e,t,i));const s=this._dataRows(e.items,t+1);return s.unshift({type:"group-header",cells:n,level:this.collapsible?t:null}),s.concat(this._footer(e,t))}const s=[];for(let r=0;r<this.columns.length;r++)s[r]=this._cell(e,this.columns[r]);return this.hierarchy&&(s[0].colSpan=i-t+1),[{type:"data",cells:n.concat(s),level:this.collapsible?t:null}]}_groupHeaderCells(e,t,i){const n=[],s=this.allColumns.filter((function(t){return t.field===e.field}))[0]||{},r=s&&s.title?s.title:e.field,o=s?s.groupHeaderTemplate||s.groupHeaderColumnTemplate:null,a=Object.assign({title:r,field:e.field,value:s&&s.values?s.values[e.value]:e.value,aggregates:e.aggregates,items:e.items},e.aggregates[e.field]),l=o?o(a):`${r}: ${e.value}`;return n.push(Object.assign({value:l,background:"#dfdfdf",color:"#333",colSpan:(this.hasGroupHeaderColumn?1:this.columns.length)+i-t},s.groupHeaderCellOptions)),this.hasGroupHeaderColumn&&this.columns.forEach((function(t,i){i>0&&n.push(Object.assign({background:"#dfdfdf",color:"#333",value:t.groupHeaderColumnTemplate?t.groupHeaderColumnTemplate(Object.assign({group:a},a,e.aggregates[t.field])):void 0},t.groupHeaderCellOptions))})),n}_dataRows(e,t){const i=this._depth(),n=[];for(let s=0;s<e.length;s++)n.push.apply(n,this._dataRow(e[s],t,i));return n}_hierarchyRows(){const e=this._depth(),t=this.data,i=this.hierarchy.itemLevel,n=this.hierarchy.itemId||uH,s=this._hasFooterTemplate(),r=[],o=[];let a,l=0;s||(this.collapsible=!1);for(let c=0;c<t.length;c++){const h=t[c],u=i(h,c);s&&(u>l?o.push({id:a,level:l}):u<l&&r.push.apply(r,this._hierarchyFooterRows(o,u,e)),l=u,a=n(h,c)),r.push.apply(r,this._dataRow(h,u+1,e))}return s&&(r.push.apply(r,this._hierarchyFooterRows(o,0,e)),r.push(this._hierarchyFooter(t.length?this.aggregates[t[0].parentId]:{},0,e))),this._prependHeaderRows(r),r}_hierarchyFooterRows(e,t,i){const n=[];for(;e.length&&e[e.length-1].level>=t;){const t=e.pop();n.push(this._hierarchyFooter(this.aggregates[t.id],t.level+1,i))}return n}_hasFooterTemplate(){const e=this.columns;for(let t=0;t<e.length;t++)if(e[t].footerTemplate)return!0}_hierarchyFooter(e,t,i){const n=this.columns.map((function(n,s){const r=s?1:i-t+1;return Object.assign(n.footerTemplate?{background:"#dfdfdf",color:"#333",colSpan:r,value:n.footerTemplate(Object.assign({aggregates:e},(e||{})[n.field]))}:{background:"#dfdfdf",color:"#333",colSpan:r},n.footerCellOptions)}));return{type:"footer",cells:this._createPaddingCells(t).concat(n),level:this.collapsible?t:null}}_footer(e,t){const i=[],n=this.columns.some(e=>e.groupFooterTemplate);let s,r;n&&(r={group:{items:e.items,field:e.field,value:e.value}},s={},Object.keys(e.aggregates).forEach(t=>{s[t]=Object.assign({},e.aggregates[t],r)}));const o=this.columns.map(t=>{if(t.groupFooterTemplate){let i=Object.assign({},s,e.aggregates[t.field],r);return Object.assign({background:"#dfdfdf",color:"#333",value:t.groupFooterTemplate(i)},t.groupFooterCellOptions)}return Object.assign({background:"#dfdfdf",color:"#333"},t.groupFooterCellOptions)});return n&&i.push({type:"group-footer",cells:this._createPaddingCells(this.groups.length).concat(o),level:this.collapsible?t:null}),i}_isColumnVisible(e){return this._visibleColumns([e]).length>0&&(e.field||e.columns)}_visibleColumns(e){return e.filter(e=>{let t=e.exportable;"object"==typeof t&&(t=e.exportable.excel);let i=!e.hidden&&!1!==t||e.hidden&&!0===t;return i&&e.columns&&(i=this._visibleColumns(e.columns).length>0),i})}_headerRow(e,t){const i=e.cells.map((function(t){return Object.assign(t,{colSpan:t.colSpan>1?t.colSpan:1,rowSpan:e.rowSpan>1&&!t.colSpan?e.rowSpan:1})}));return this.hierarchy&&i[0].firstCell&&(i[0].colSpan+=this._depth()),{type:"header",cells:hH(t.length,()=>Object.assign({background:"#7a7a7a",color:"#fff"},this.options.headerPaddingCellOptions)).concat(i)}}_prependHeaderRows(e){const t=this.groups,i=[{rowSpan:1,cells:[],index:0}];this._prepareHeaderRows(i,this.options.columns);for(let n=i.length-1;n>=0;n--)e.unshift(this._headerRow(i[n],t))}_prepareHeaderRows(e,t,i,n){const s=n||e[e.length-1];let r=e[s.index+1],o=0;for(let a=0;a<t.length;a++){const n=t[a];if(this._isColumnVisible(n)){const t=Object.assign({background:"#7a7a7a",color:"#fff",value:n.title||n.field,colSpan:0,firstCell:0===a&&(!i||i.firstCell)},n.headerCellOptions);s.cells.push(t),n.columns&&n.columns.length&&(r||(r={rowSpan:0,cells:[],index:e.length},e.push(r)),t.colSpan=this._trimColumns(this._visibleColumns(n.columns)).length,this._prepareHeaderRows(e,n.columns,t,r),o+=t.colSpan-1,s.rowSpan=e.length-s.index)}}i&&(i.colSpan+=o)}_rows(){const e=this._dataRows(this.data,0);if(this.columns.length){this._prependHeaderRows(e);let t=!1;const i=this.columns.map(e=>e.footerTemplate?(t=!0,Object.assign({background:"#dfdfdf",color:"#333",value:e.footerTemplate(Object.assign({},this.aggregates,this.aggregates[e.field]))},e.footerCellOptions)):Object.assign({background:"#dfdfdf",color:"#333"},e.footerCellOptions));t&&e.push({type:"footer",cells:this._createPaddingCells(this.groups.length).concat(i)})}return e}_headerDepth(e){let t=0;for(let i=0;i<e.length;i++)if(e[i].columns){const n=this._headerDepth(e[i].columns);n>t&&(t=n)}return 1+t}_freezePane(){const e=this._visibleColumns(this.options.columns||[]),t=this._visibleColumns(this._trimColumns(this._leafColumns(e.filter((function(e){return e.locked}))))).length;return{rowSplit:this._headerDepth(e),colSplit:t?t+this.groups.length:0}}_cell(e,t){return Object.assign({value:t.value(e)},t.cellOptions)}_depth(){let e=0;return e=this.hierarchy?this.hierarchy.depth:this.groups.length,e}_columns(){return hH(this._depth(),()=>({width:20})).concat(this.columns.map((function(e){return{width:parseInt(e.width,10),autoWidth:!e.width}})))}}({columns:t,data:e.data,filterable:e.filterable,groups:e.group,paddingCellOptions:e.paddingCellOptions,headerPaddingCellOptions:e.headerPaddingCellOptions,collapsible:e.collapsible}).workbook();return i.creator=e.creator,i.date=e.date,i.rtl=e.rtl,uz(t),i};let fz=(()=>{class e{constructor(e){this.parent=e}get level(){return this.parent?this.parent.level+1:0}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,contentQueries:function(t,i,n){var s;1&t&&bc(n,e,!1),2&t&&fc(s=Cc())&&(i.children=s)},inputs:{title:"title",width:"width",locked:"locked",hidden:"hidden",headerCellOptions:"headerCellOptions"}}),e})(),gz=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})();const mz=["lockedHeader"],vz=["header"],bz=["ariaRoot"],yz=["footer"],wz=["groupPanelEmpty",$localize`:kendo.grid.groupPanelEmpty|The label visible in the Grid group panel when it is empty␟30bcb3a2fbc22fcab6ca805e74b90adb8ba1ae96␟1430663748859427158:Drag a column header and drop it here to group by that column`,"noRecords",$localize`:kendo.grid.noRecords|The label visible in the Grid when there are no records␟ff9cfd4bf3e40305db251f2b6961796c0550b4b0␟1243399825085142134:No records available.`,"pagerFirstPage",$localize`:kendo.grid.pagerFirstPage|The label for the first page button in Grid pager␟b405dfc5ee42415daa08d54847d3010de1821111␟5647145449685906398:Go to the first page`,"pagerPreviousPage",$localize`:kendo.grid.pagerPreviousPage|The label for the previous page button in Grid pager␟47aa4fe05f5a2577d3336971d7c44ce48802b860␟6745088753482690847:Go to the previous page`,"pagerNextPage",$localize`:kendo.grid.pagerNextPage|The label for the next page button in Grid pager␟90031133fca899b4e491d9fc51128c1a184afb30␟5510985262435270859:Go to the next page`,"pagerLastPage",$localize`:kendo.grid.pagerLastPage|The label for the last page button in Grid pager␟fe84f2ea868286ce03e50b6e55558c16d675c753␟4539768510520419313:Go to the last page`,"pagerPage",$localize`:kendo.grid.pagerPage|The label before the current page number in the Grid pager␟89c1f616c25bb610824cd8a26473a03921df48bd␟5228228287003939680:Page`,"pagerOf",$localize`:kendo.grid.pagerOf|The label before the total pages number in the Grid pager␟0c9abe48f5d4bd2cb51846712e41864fc64aad6a␟7004642096327889102:of`,"pagerItems",$localize`:kendo.grid.pagerItems|The label after the total pages number in the Grid pager␟7c1704d11bfb77340485acd891439c2b6c6616ca␟700193548223931835:items`,"pagerPageNumberInputTitle",$localize`:kendo.grid.pagerPageNumberInputTitle|The label for the pager input in the Grid pager␟f8bad8f2c7345e4fe531480e3034f7d3e954d383␟2090461908134774363:Page Number`,"pagerItemsPerPage",$localize`:kendo.grid.pagerItemsPerPage|The label for the page size chooser in the Grid pager␟3331fe7ec45f299afaa4c1e08ea25c493eda9144␟8838594644885628398:items per page`,"filter",$localize`:kendo.grid.filter|The label of the filter cell or icon␟21a04b7b090dac60e0449cb6e435b7e879173c75␟7977992299945497789:Filter`,"filterEqOperator",$localize`:kendo.grid.filterEqOperator|The text of the equal filter operator␟8b31e1604d10a2f8709dcb1ed5c237e33cffc135␟4328959145426393682:Is equal to`,"filterNotEqOperator",$localize`:kendo.grid.filterNotEqOperator|The text of the not equal filter operator␟d46e14d35d89d2fadf5c852abf5557643510a013␟8497658332767349737:Is not equal to`,"filterIsNullOperator",$localize`:kendo.grid.filterIsNullOperator|The text of the is null filter operator␟078c50eb1fe8b2b43fcc40c5e7f4493152310c2f␟1298299704757177797:Is null`,"filterIsNotNullOperator",$localize`:kendo.grid.filterIsNotNullOperator|The text of the is not null filter operator␟70b39eeaf2674907b2e59b414baf17e032b464dc␟8362279767336741540:Is not null`,"filterIsEmptyOperator",$localize`:kendo.grid.filterIsEmptyOperator|The text of the is empty filter operator␟a4e77e444b4e9b63851ac818e20136212b06c750␟4762263229995523226:Is empty`,"filterIsNotEmptyOperator",$localize`:kendo.grid.filterIsNotEmptyOperator|The text of the is not empty filter operator␟dee7553c341248e90aef4a8e7438c52e667e68be␟8245213618709258015:Is not empty`,"filterStartsWithOperator",$localize`:kendo.grid.filterStartsWithOperator|The text of the starts with filter operator␟da43b363b636156e3ccdbb64a0788bdeab51e992␟6087783423599420507:Starts with`,"filterContainsOperator",$localize`:kendo.grid.filterContainsOperator|The text of the contains filter operator␟5b568a46d2e34ebde7dd53a7e599cbbb7dc6bae1␟3831180413287131758:Contains`,"filterNotContainsOperator",$localize`:kendo.grid.filterNotContainsOperator|The text of the does not contain filter operator␟be06aa4fde7fa722c9de5a45f241ff595071d718␟7331253838216904826:Does not contain`,"filterEndsWithOperator",$localize`:kendo.grid.filterEndsWithOperator|The text of the ends with filter operator␟a54b2ecffb41f0603ceedc7ea5a40b7d130e2fa1␟3662435311670509156:Ends with`,"filterGteOperator",$localize`:kendo.grid.filterGteOperator|The text of the greater than or equal filter operator␟68471603db771d0304d02fe086da9701c16911c3␟4542824413455511831:Is greater than or equal to`,"filterGtOperator",$localize`:kendo.grid.filterGtOperator|The text of the greater than filter operator␟ae68acc0e18252a348bdfb32112996d81e5305de␟1527483349261806183:Is greater than`,"filterLteOperator",$localize`:kendo.grid.filterLteOperator|The text of the less than or equal filter operator␟e48d50a6422c616a00b95025adc5283aff4fa8cb␟4840714404733417604:Is less than or equal to`,"filterLtOperator",$localize`:kendo.grid.filterLtOperator|The text of the less than filter operator␟c4d58f0e509cb7e37014715dd91546a724210d70␟498627126459578706:Is less than`,"filterIsTrue",$localize`:kendo.grid.filterIsTrue|The text of the IsTrue boolean filter option␟d5f1e9028bc60c30e8f8e0f9cfeb872512446cea␟2361673238316312251:Is True`,"filterIsFalse",$localize`:kendo.grid.filterIsFalse|The text of the IsFalse boolean filter option␟6d34731320e2536fd78f4a9e08f0b8dcd01edf3d␟7759366406135608407:Is False`,"filterBooleanAll",$localize`:kendo.grid.filterBooleanAll|The text of the (All) boolean filter option␟4da1456a62bafe2614ed2bc05a2c790a64a4dd0b␟9215343856736761875:(All)`,"filterAfterOrEqualOperator",$localize`:kendo.grid.filterAfterOrEqualOperator|The text of the after or equal date filter operator␟d7dac1bbc2372d578a9d2bca099de766043aed7e␟1964413288176201979:Is after or equal to`,"filterAfterOperator",$localize`:kendo.grid.filterAfterOperator|The text of the after date filter operator␟bff777df0d0831cc02679227422fab4ef2763fa9␟3078502182807244703:Is after`,"filterBeforeOperator",$localize`:kendo.grid.filterBeforeOperator|The text of the before date filter operator␟35ef5cf367670f15432c9f8761bc85fbdb2b1830␟3348865631071358219:Is before`,"filterBeforeOrEqualOperator",$localize`:kendo.grid.filterBeforeOrEqualOperator|The text of the before or equal date filter operator␟27a6b29ffbc1eb498de8d7af20051461a2e842ec␟6582064037090631388:Is before or equal to`,"filterFilterButton",$localize`:kendo.grid.filterFilterButton|The text of the filter button␟4f1c08d0b056646cdb668da669e2e15825adfe4d␟5185263258022896121:Filter`,"filterClearButton",$localize`:kendo.grid.filterClearButton|The text of the clear filter button␟06e4e4dadede6f91f261cdbb7fb174246a135238␟3031209415830321799:Clear`,"filterAndLogic",$localize`:kendo.grid.filterAndLogic|The text of the And filter logic␟f73fbcc2f813d469e4a34491950ca01ea1ac8f60␟512662285155477884:And`,"filterOrLogic",$localize`:kendo.grid.filterOrLogic|The text of the Or filter logic␟04e64780de0fc1c3a9986997e0808ec53a5f2a63␟1964926727342405367:Or`,"loading",$localize`:kendo.grid.loading|The loading text␟781c049cc69efc30bc8053af9ace3cb4b04bd438␟5425510787229531767:Loading`,"columnMenu",$localize`:kendo.grid.columnMenu|The title of the column menu icon␟3596c6b21d39223adc5c352daec9938474a8cc0d␟2820335494528144626:Column Menu`,"columns",$localize`:kendo.grid.columns|The text shown in the column menu for the columns item␟9b841399fbb3d81f2401f98b4f4763834b72a1e5␟5332162737795508854:Columns`,"lock",$localize`:kendo.grid.lock|The text shown in the column menu for the lock item␟f356cae509dec3dc1b7156326b9a0328a79c62a8␟5849203148124173556:Lock`,"unlock",$localize`:kendo.grid.unlock|The text shown in the column menu for the unlock item␟f33355540003068372e39ba7f3def794869ea9f8␟6968586378603932789:Unlock`,"sortable",$localize`:kendo.grid.sortable|The label of the sort icon␟a692ba271be066ce379f942ff67094e1ea989f4c␟3824304972336788145:Sortable`,"sortAscending",$localize`:kendo.grid.sortAscending|The text shown in the column menu for the sort ascending item␟96beffd8446c5455f3bbdc313c946db32df7dcc2␟6297762560864270240:Sort Ascending`,"sortDescending",$localize`:kendo.grid.sortDescending|The text shown in the column menu for the sort descending item␟208d0538d4c2537a1cbf456941e34a2884053d52␟5605073536641230977:Sort Descending`,"sortedAscending",$localize`:kendo.grid.sortedAscending|The status announcement when a column is sorted ascending␟947c64329461efd9f8a9aa2c51acbbd099170aa5␟6275944032047713540:Sorted Ascending`,"sortedDescending",$localize`:kendo.grid.sortedDescending|The status announcement when a column is sorted descending␟092a688d1b2b6d873bdc29beaaf43c3f45336581␟8155280769473236383:Sorted Descending`,"sortedDefault",$localize`:kendo.grid.sortedDefault|The status announcement when a column is no longer sorted␟66e99ea340974022c07c52a6f668f5573e7edab0␟5229177293891232538:Not Sorted`,"columnsApply",$localize`:kendo.grid.columnsApply|The text shown in the column menu or column chooser for the columns apply button␟04600bd6e362cf9da9f7f9c4666eab2c88eb6a90␟34213208292862969:Apply`,"columnsReset",$localize`:kendo.grid.columnsReset|The text shown in the column menu or column chooser for the columns reset button␟94d3b472d99994a5cca9930afd4cf0ac2774c382␟4465838259914958827:Reset`,"detailExpand",$localize`:kendo.grid.detailExpand|The title of the expand icon of detail rows.␟ad6629bb6e79235623cfce486ef48087dbe96fb5␟6952757249912226136:Expand Details`,"detailCollapse",$localize`:kendo.grid.detailCollapse|The title of the collapse icon of detail rows.␟ace0c0a58fbb211e8678efb3bd6ac9bb587144c3␟6065477639036399169:Collapse Details`,"filterDateToday",$localize`:kendo.grid.filterDateToday|The text of the Today button of the Date filter.␟745058f85d92ee5228977277195262978828c4c8␟1656723147090613075:TODAY`,"filterDateToggle",$localize`:kendo.grid.filterDateToggle|The title of the Toggle button of the Date filter.␟2c916ea2cbd37665e512219650c37dc17b9ef0c0␟15438307630389352:Toggle Calendar`,"filterNumericDecrement",$localize`:kendo.grid.filterNumericDecrement|The title of the Decrement button of the Numeric filter.␟7f991d698abebb2e50570f9aef14126ae931c513␟534533728304192410:Decrement`,"filterNumericIncrement",$localize`:kendo.grid.filterNumericIncrement|The title of the Increment button of the Numeric filter.␟25bc8b86968819d3f687aa6dde652800bd4b6b2a␟5462143714591662391:Increment`];function Cz(e,t){1&e&&No(0,"kendo-grid-toolbar",8)}function xz(e,t){if(1&e){const e=Bo();Po(0,"kendo-grid-group-panel",9),Uo("change",(function(t){return Qt(e),Go().groupChange.emit(t)})),Mo()}if(2&e){const e=Go();Oo("text",e.groupableEmptyText)("groups",e.group)}}function Sz(e,t){if(1&e&&(Po(0,"div",21,22),Po(2,"table",23),No(3,"colgroup",18),No(4,"thead",24),Mo(),Mo()),2&e){const e=Go(3);ra("width",e.lockedWidth,"px"),vs(2),ra("width",e.lockedWidth,"px"),Oo("locked",!0),vs(1),Oo("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),vs(1),Oo("resizable",e.resizable)("scrollable",!0)("columns",e.lockedColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("groups",e.group)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate)}}function kz(e,t){if(1&e&&(Po(0,"div",25),No(1,"div"),Mo()),2&e){const e=Go(3);vs(1),ra("width",e.columnsContainer.unlockedWidth,"px")}}const _z=function(){return[]};function Ez(e,t){if(1&e&&(Po(0,"div",13),Io(1,Sz,5,23,"div",14),Po(2,"div",15,16),Po(4,"table",17),No(5,"colgroup",18),No(6,"thead",19),Mo(),Io(7,kz,2,2,"div",20),Mo(),Mo()),2&e){const e=Go(2);ra("padding",e.headerPadding),vs(1),Oo("ngIf",e.isLocked),vs(1),Oo("kendoGridResizableContainer",e.lockedLeafColumns.length)("lockedWidth",e.lockedWidth+e.scrollbarWidth+2),vs(2),ra("width",e.nonLockedWidth,"px"),Oo("virtualColumns",e.virtualColumns),vs(1),Oo("columns",e.headerLeafColumns)("groups",e.isLocked?jl(28,_z):e.group)("detailTemplate",e.detailTemplate),vs(1),Oo("resizable",e.resizable)("scrollable",!0)("columns",e.headerColumns)("totalColumnLevels",e.totalColumnLevels)("sort",e.sort)("filter",e.filter)("filterable",e.filterable)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("groups",e.isLocked?jl(29,_z):e.group)("sortable",e.sortable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("lockedColumnsCount",e.lockedLeafColumns.length)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate),vs(1),Oo("ngIf",e.virtualColumns)}}function Iz(e,t){if(1&e&&(Po(0,"div",33),Po(1,"table",23),No(2,"colgroup",31),No(3,"tfoot",34),Mo(),Mo()),2&e){const e=Go(3);ra("width",e.lockedWidth,"px"),vs(1),ra("width",e.lockedWidth,"px"),Oo("locked",!0),vs(1),Oo("columns",e.lockedLeafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),vs(1),Oo("scrollable",!0)("groups",e.group)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate)("logicalRowIndex",e.ariaRowCount)}}function Tz(e,t){if(1&e&&(Po(0,"div",26),Io(1,Iz,4,13,"div",27),Po(2,"div",28,29),Po(4,"table",30),No(5,"colgroup",31),No(6,"tfoot",32),Mo(),Mo(),Mo()),2&e){const e=Go(2);ra("padding",e.headerPadding),vs(1),Oo("ngIf",e.lockedLeafColumns.length),vs(1),Oo("kendoGridResizableContainer",e.lockedLeafColumns.length)("lockedWidth",e.lockedWidth+e.scrollbarWidth+3),vs(2),ra("width",e.nonLockedWidth,"px"),vs(1),Oo("columns",e.nonLockedLeafColumns)("groups",e.isLocked?jl(16,_z):e.group)("detailTemplate",e.detailTemplate),vs(1),Oo("logicalRowIndex",e.ariaRowCount)("scrollable",!0)("groups",e.isLocked?jl(17,_z):e.group)("columns",e.nonLockedLeafColumns)("lockedColumnsCount",e.lockedLeafColumns.length)("detailTemplate",e.detailTemplate)}}function Fz(e,t){if(1&e){const e=Bo();Io(0,Ez,8,30,"div",10),Po(1,"kendo-grid-list",11),Uo("pageChange",(function(t){return Qt(e),Go().notifyPageChange("list",t)}))("scrollBottom",(function(){return Qt(e),Go().notifyScrollBottom()}))("contentScroll",(function(t){return Qt(e),Go().contentScroll.emit(t)})),Mo(),Io(2,Tz,7,18,"div",12)}if(2&e){const e=Go();Oo("ngIf",!e.hideHeader),vs(1),Oo("data",e.view)("rowHeight",e.rowHeight)("detailRowHeight",e.detailRowHeight)("total",e.totalCount)("take",e.pageSize)("groups",e.group)("groupable",e.groupable)("skip",e.skip)("trackBy",e.trackBy)("columns",e.columnsContainer)("selectable",e.selectable)("filterable",e.filterable)("detailTemplate",e.detailTemplate)("noRecordsTemplate",e.noRecordsTemplate)("rowClass",e.rowClass)("loading",e.loading)("isVirtual",e.isVirtual)("virtualColumns",e.virtualColumns)("enableDrag",e.marqueeSelection),vs(1),Oo("ngIf",e.showFooter)}}function Dz(e,t){if(1&e&&No(0,"thead",39),2&e){const e=Go(2);Oo("resizable",e.resizable)("scrollable",!1)("columns",e.visibleColumns)("totalColumnLevels",e.totalColumnLevels)("groups",e.group)("groupable",e.showGroupPanel)("reorderable",e.reorderable)("sort",e.sort)("sortable",e.sortable)("filter",e.filter)("filterable",e.filterable)("columnMenu",e.columnMenuOptions)("columnMenuTemplate",e.columnMenuTemplate)("detailTemplate",e.detailTemplate)}}function Az(e,t){if(1&e&&No(0,"tfoot",40),2&e){const e=Go(2);Oo("scrollable",!1)("logicalRowIndex",e.ariaRowCount)("groups",e.group)("columns",e.leafColumns)("detailTemplate",e.detailTemplate)}}function Oz(e,t){1&e&&No(0,"div",41)}function Rz(e,t){if(1&e&&(Po(0,"table"),No(1,"colgroup",31),Io(2,Dz,1,14,"thead",35),No(3,"tbody",36),Io(4,Az,1,5,"tfoot",37),Mo(),Io(5,Oz,1,0,"div",38)),2&e){const e=Go();ra("table-layout",e.resizable?"fixed":null),vs(1),Oo("columns",e.leafColumns)("groups",e.group)("detailTemplate",e.detailTemplate),vs(1),Oo("ngIf",!e.hideHeader),vs(1),Oo("groups",e.group)("data",e.view)("skip",e.skip)("columns",e.leafColumns)("selectable",e.selectable)("filterable",e.filterable)("noRecordsTemplate",e.noRecordsTemplate)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showGroupFooters)("trackBy",e.trackBy)("rowClass",e.rowClass)("enableDrag",e.marqueeSelection),vs(1),Oo("ngIf",e.showFooter),vs(1),Oo("ngIf",e.loading)}}function Pz(e,t){if(1&e){const e=Bo();Po(0,"kendo-pager",42),Uo("pageChange",(function(t){return Qt(e),Go().notifyPageChange("pager",t)})),Mo()}if(2&e){const e=Go();Oo("template",e.pagerTemplate)("pageSize",e.pageSize)("total",e.view.total)("skip",e.skip)("options",e.pageable)}}function Mz(e,t){1&e&&No(0,"kendo-grid-toolbar",43)}const Nz=["container"],Lz=["lockedContainer"],Vz=["lockedTable"],Hz=["table"],Bz=function(e,t,i,n){return{keydown:e,scroll:t,mousewheel:i,DOMMouseScroll:n}};function zz(e,t){if(1&e&&(Po(0,"div",12,13),Po(2,"div",3),Po(3,"table",14,15),No(5,"colgroup",6),No(6,"tbody",16),Mo(),No(7,"kendo-resize-sensor"),Mo(),Po(8,"div",9),No(9,"div"),Mo(),Mo()),2&e){const e=Go();ra("width",e.lockedWidth,"px"),Oo("kendoEventsOutsideAngular",Gl(25,Bz,e.lockedKeydown,e.lockedScroll,e.lockedMousewheel,e.lockedMousewheel))("scope",e),vs(3),ra("width",e.lockedWidth,"px"),Oo("locked",!0),vs(2),Oo("groups",e.groups)("columns",e.lockedLeafColumns)("detailTemplate",e.detailTemplate),vs(1),Oo("groups",e.groups)("isLocked",!0)("data",e.data)("noRecordsText","")("columns",e.lockedLeafColumns)("totalColumnsCount",e.leafColumns.length)("detailTemplate",e.detailTemplate)("showGroupFooters",e.showFooter)("skip",e.skip)("selectable",e.selectable)("trackBy",e.trackBy)("filterable",e.filterable)("rowClass",e.rowClass),vs(3),ra("height",e.totalHeight,"px")}}function jz(e,t){1&e&&No(0,"kendo-resize-sensor")}function Uz(e,t){1&e&&No(0,"kendo-resize-sensor")}function $z(e,t){if(1&e&&(Po(0,"div",17),No(1,"div"),Mo()),2&e){const e=Go();vs(1),ra("width",e.totalWidth,"px")}}function qz(e,t){1&e&&No(0,"div",18)}const Gz=["kendoGridFilterRow",""];function Kz(e,t){1&e&&No(0,"td",3),2&e&&oa("k-group-cell",!0)}function Wz(e,t){1&e&&No(0,"td",3),2&e&&oa("k-hierarchy-cell",!0)}function Zz(e,t){if(1&e&&No(0,"td",4),2&e){const e=t.$implicit,i=t.index,n=Go();Oo("column",e)("filter",n.filter)("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",n.lockedColumnsCount+i),_o("aria-label",n.filterLabel)}}const Yz=["kendoGridFilterCell",""];function Qz(e,t){if(1&e&&(Lo(0),Ho(1,3),Vo()),2&e){const e=Go(2);vs(1),Oo("column",e.column)("filter",e.filter)}}function Jz(e,t){}function Xz(e,t){if(1&e&&Io(0,Jz,0,0,"ng-template",5),2&e){const e=Go(3);Oo("ngTemplateOutlet",e.column.filterCellTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function ej(e,t){if(1&e&&(Lo(0),Io(1,Xz,1,2,void 0,4),Vo()),2&e){const e=Go(2);vs(1),Oo("ngIf",e.column.filterCellTemplateRef)}}function tj(e,t){1&e&&(Lo(0,1),Io(1,Qz,2,2,"ng-container",2),Io(2,ej,2,1,"ng-container",2),Vo()),2&e&&(Oo("ngSwitch",Go().hasTemplate),vs(1),Oo("ngSwitchCase",!1),vs(1),Oo("ngSwitchCase",!0))}const ij=["*"],nj=["dropdown"],sj=function(){return{width:"auto"}};function rj(e,t){if(1&e){const e=Bo();Po(0,"kendo-dropdownlist",3,4),Uo("valueChange",(function(t){return Qt(e),Go().onChange(t)}))("keydown",(function(t){return Qt(e),Go().dropdownKeydown(t)})),Mo()}if(2&e){const e=Go();Oo("data",e.operators)("value",e.value)("valuePrimitive",!0)("popupSettings",jl(4,sj))}}const oj=function(e){return{"k-clear-button-visible":e}},aj=["kendoGridColGroup",""];function lj(e,t){1&e&&No(0,"col"),2&e&&oa("k-group-col",!0)}function cj(e,t){1&e&&No(0,"col"),2&e&&oa("k-hierarchy-col",!0)}function hj(e,t){1&e&&No(0,"col"),2&e&&ra("width",t.$implicit.width,"px")}function uj(e,t){if(1&e&&(Io(0,lj,1,2,"col",1),Io(1,cj,1,2,"col",2),Io(2,hj,1,2,"col",3)),2&e){const e=Go();Oo("ngForOf",e.groups),vs(1),Oo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),vs(1),Oo("ngForOf",e.columnsToRender)("ngForTrackBy",e.trackBy)}}const dj=["kendoGridLoading",""];function pj(e,t){if(1&e&&Ho(0,3),2&e){const e=Go();Oo("ngTemplateOutlet",e.template.templateRef)("ngTemplateOutletContext",e.templateContext)}}function fj(e,t){1&e&&No(0,"kendo-pager-prev-buttons")}function gj(e,t){1&e&&No(0,"kendo-pager-numeric-buttons",6),2&e&&Oo("buttonCount",Go(2).settings.buttonCount)}function mj(e,t){1&e&&No(0,"kendo-pager-input")}function vj(e,t){1&e&&No(0,"kendo-pager-next-buttons")}function bj(e,t){1&e&&No(0,"kendo-pager-info")}function yj(e,t){1&e&&No(0,"kendo-pager-page-sizes",7),2&e&&Oo("pageSizes",Go(2).settings.pageSizes)}function wj(e,t){if(1&e&&(Lo(0),Io(1,fj,1,0,"kendo-pager-prev-buttons",1),Io(2,gj,1,1,"kendo-pager-numeric-buttons",4),Io(3,mj,1,0,"kendo-pager-input",1),Io(4,vj,1,0,"kendo-pager-next-buttons",1),Io(5,bj,1,0,"kendo-pager-info",1),Io(6,yj,1,1,"kendo-pager-page-sizes",5),Vo()),2&e){const e=Go();vs(1),Oo("ngIf",e.settings.previousNext),vs(1),Oo("ngIf","numeric"===e.settings.type),vs(1),Oo("ngIf","input"===e.settings.type),vs(1),Oo("ngIf",e.settings.previousNext),vs(1),Oo("ngIf",e.settings.info),vs(1),Oo("ngIf",e.settings.pageSizes)}}function Cj(e,t){if(1&e){const e=Bo();Po(0,"kendo-resize-sensor",8),Uo("resize",(function(){return Qt(e),Go().resizeHandler()})),Mo()}}const xj=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-first":!0}},Sj=function(){return{"k-icon":!0,"k-i-seek-w":!0}},kj=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"":!0}},_j=function(){return{"k-icon":!0,"k-i-arrow-w":!0}},Ej=function(){return{"k-icon":!0,"k-i-arrow-e":!0}},Ij=function(e){return{"k-link":!0,"k-pager-nav":!0,"k-state-disabled":e,"k-pager-last":!0}},Tj=function(){return{"k-icon":!0,"k-i-seek-e":!0}};function Fj(e,t){if(1&e&&(Po(0,"option",7),ya(1,"... "),Mo()),2&e){const e=Go();_o("aria-label",e.pageLabel(e.start-1))}}const Dj=function(e){return{"k-link":!0,"k-state-selected":e}};function Aj(e,t){if(1&e&&(Po(0,"option",8),ya(1),Mo()),2&e){const e=t.$implicit,i=Go();Oo("value",e.toString())("ngClass",Ul(5,Dj,i.currentPage==e)),_o("aria-label",i.pageLabel(e))("aria-current",i.currentPage==e?"page":void 0),vs(1),Ca(" ",e," ")}}function Oj(e,t){if(1&e&&(Po(0,"option",9),ya(1,"... "),Mo()),2&e){const e=Go();_o("aria-label",e.pageLabel(e.end+1))}}function Rj(e,t){if(1&e){const e=Bo();Po(0,"li"),Po(1,"a",10),Uo("click",(function(){Qt(e);const t=Go();return t.changePage(t.start-2)})),ya(2,"..."),Mo(),Mo()}if(2&e){const e=Go();vs(1),_o("aria-label",e.pageLabel(e.start-1))}}function Pj(e,t){if(1&e){const e=Bo();Po(0,"li"),Po(1,"a",11),Uo("click",(function(){Qt(e);const i=t.$implicit;return Go().changePage(i-1)})),ya(2),Mo(),Mo()}if(2&e){const e=t.$implicit,i=Go();vs(1),Oo("ngClass",Ul(3,Dj,i.currentPage==e)),_o("aria-label",i.pageLabel(e)),vs(1),Ca(" ",e," ")}}function Mj(e,t){if(1&e){const e=Bo();Po(0,"li"),Po(1,"a",10),Uo("click",(function(){Qt(e);const t=Go();return t.changePage(t.end)})),ya(2,"..."),Mo(),Mo()}if(2&e){const e=Go();vs(1),_o("aria-label",e.pageLabel(e.end+1))}}const Nj=function(){return{"k-pager-numbers":!0,"k-reset":!0}},Lj=function(){return{"k-pager-input":!0,"k-label":!0}},Vj=function(e,t){return{keydown:e,focusout:t}},Hj=["kendoGridGroupHeader",""];function Bj(e,t){1&e&&No(0,"td",4)}function zj(e,t){if(1&e&&Io(0,Bj,1,0,"td",3),2&e){const e=Go();Oo("ngForOf",e.prefixGroupCell(e.item))}}function jj(e,t){if(1&e&&(ya(0),Jl(1,"valueOf")),2&e){const e=Go(3);xa(" ",e.groupTitle(e.item),": ",ec(1,2,e.item.data,"value",e.formatForGroup(e.item))," ")}}function Uj(e,t){}const $j=function(e,t){return{"k-i-collapse":e,"k-i-expand":t}},qj=function(e,t,i,n,s,r,o,a){return{templateRef:e,group:t,aggregates:i,value:n,field:s,index:r,expanded:o,$implicit:a}};function Gj(e,t){if(1&e){const e=Bo();Po(0,"a",7),Uo("click",(function(){Qt(e);const t=Go(2);return t.toggleGroup(t.item)})),Mo(),Io(1,jj,2,6,"ng-template",0),Io(2,Uj,0,0,"ng-template",8)}if(2&e){const e=Go(2);Oo("ngClass",$l(3,$j,e.isExpanded,!e.isExpanded)),vs(1),Oo("ngIf",!e.groupHeaderTemplate(e.item)),vs(1),Oo("templateContext",function(e,t,i,n,s,r,o,a,l,c,h){const u=si()+6,d=Zt(),p=ko(d,u,i,n,s,r);return ko(d,u+4,o,a,l,c)||p?yo(d,u+8,t(i,n,s,r,o,a,l,c)):wo(d,u+8)}(0,qj,e.groupHeaderTemplate(e.item),e.item.data,null==e.item.data?null:e.item.data.aggregates,null==e.item.data?null:e.item.data.value,null==e.item.data?null:e.item.data.field,e.item.index,e.isExpanded,e.item.data))}}function Kj(e,t){if(1&e&&(Po(0,"td",5),Po(1,"p",6),Io(2,Gj,3,15,"ng-template",0),Mo(),Mo()),2&e){const e=Go();Oo("logicalRowIndex",e.logicalRowIndex)("logicalColIndex",0)("logicalSlaveCell",e.skipGroupDecoration)("groupItem",e.item)("colSpan",e.logicalColSpan()),_o("colspan",e.groupSpan(e.item))("role",e.ariaRole())("aria-expanded",e.isExpanded),vs(2),Oo("ngIf",!e.skipGroupDecoration)}}const Wj=function(e,t,i,n,s,r){return{group:e,aggregates:t,value:i,field:n,index:s,$implicit:r}};function Zj(e,t){if(1&e&&Ho(0,12),2&e){const e=Go().$implicit,t=Go(2);Oo("ngTemplateOutlet",e.groupHeaderColumnTemplateRef)("ngTemplateOutletContext",Kl(2,Wj,t.item.data,null==t.item.data?null:t.item.data.aggregates,null==t.item.data?null:t.item.data.value,null==t.item.data?null:t.item.data.field,t.item.index,t.item.data))}}function Yj(e,t){if(1&e&&(Po(0,"td",10),Io(1,Zj,1,9,"ng-container",11),Mo()),2&e){const e=t.$implicit,i=t.index,n=Go(2);Oo("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",i+1)("logicalSlaveCell",!1)("groupItem",n.item)("colSpan",1),vs(1),Oo("ngIf",e.groupHeaderColumnTemplateRef)}}function Qj(e,t){if(1&e&&(Lo(0),Io(1,Yj,2,6,"td",9),Vo()),2&e){const e=Go();vs(1),Oo("ngForOf",e.groupHeaderColumns)}}const Jj=function(){return{lastTarget:!0}};function Xj(e,t){if(1&e&&(Po(0,"div",3),ya(1),Mo()),2&e){const e=Go();Oo("context",jl(2,Jj)),vs(1),Ca(" ",e.text," ")}}const eU=function(e){return{field:e}},tU=function(e,t){return{field:e,type:"groupIndicator",hint:t}};function iU(e,t){if(1&e){const e=Bo();Po(0,"div",3),Po(1,"div",4),Uo("directionChange",(function(t){return Qt(e),Go().directionChange(t)}))("remove",(function(t){return Qt(e),Go().remove(t)})),Mo(),Mo()}if(2&e){const e=t.$implicit,i=t.index,n=Go();Oo("context",Ul(5,eU,e.field)),vs(1),Oo("enableDrag",!0)("context",$l(7,tU,e.field,n.groupTitles[i]))("group",e)("groupTitle",n.groupTitles[i])}}function nU(e,t){1&e&&(Po(0,"div",3),ya(1,"\xa0"),Mo()),2&e&&Oo("context",jl(1,Jj))}const sU=["kendoGroupIndicator",""],rU=["kendoGridHeader",""];function oU(e,t){1&e&&No(0,"th",7)}function aU(e,t){1&e&&No(0,"th",8),2&e&&Oo("logicalRowIndex",Go().index)("logicalColIndex",0)}function lU(e,t){if(1&e&&No(0,"kendo-grid-filter-menu",16),2&e){const e=Go(3).$implicit,t=Go(3);Oo("column",e)("filter",t.filter)}}function cU(e,t){if(1&e&&No(0,"kendo-grid-column-menu",17),2&e){const e=Go(3).$implicit,t=Go(3);Oo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)}}function hU(e,t){}function uU(e,t){1&e&&ya(0),2&e&&wa(Go(3).$implicit.displayTitle)}const dU=function(e,t,i,n){return{templateRef:e,columnIndex:t,column:i,$implicit:n}};function pU(e,t){if(1&e&&(Io(0,lU,1,2,"kendo-grid-filter-menu",13),Io(1,cU,1,7,"kendo-grid-column-menu",14),Io(2,hU,0,0,"ng-template",15),Io(3,uU,1,1,"ng-template",0)),2&e){const e=Go(2).$implicit,t=Go(3);Oo("ngIf",t.showFilterMenu&&t.isFilterable(e)),vs(1),Oo("ngIf",t.showColumnMenu(e)),vs(1),Oo("templateContext",Gl(4,dU,e.headerTemplateRef,e.leafIndex,e,e)),vs(1),Oo("ngIf",!e.headerTemplateRef)}}function fU(e,t){}function gU(e,t){if(1&e&&(Po(0,"span",24),ya(1),Mo()),2&e){const e=Go(3).$implicit;vs(1),wa(e.displayTitle)}}function mU(e,t){if(1&e&&(Po(0,"span",25),ya(1),Mo()),2&e){const e=Go(3).$implicit,t=Go(3);vs(1),wa(t.sortOrder(e.field))}}function vU(e,t){if(1&e&&No(0,"kendo-grid-filter-menu",16),2&e){const e=Go(3).$implicit,t=Go(3);Oo("column",e)("filter",t.filter)}}function bU(e,t){if(1&e&&No(0,"kendo-grid-column-menu",17),2&e){const e=Go(3).$implicit,t=Go(3);Oo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)("sort",t.sort)("filter",t.filter)("sortable",t.sortable)}}function yU(e,t){if(1&e){const e=Bo();Po(0,"span",18),Po(1,"span",19,20),Uo("click",(function(t){Qt(e);const i=To(2),n=Go(2).$implicit;return Go(3).onSortClick(n,t,i)})),Io(3,fU,0,0,"ng-template",15),Io(4,gU,2,1,"ng-template",0),No(5,"span",21),Io(6,mU,2,1,"span",22),Mo(),No(7,"span",23),Io(8,vU,1,2,"kendo-grid-filter-menu",13),Io(9,bU,1,7,"kendo-grid-column-menu",14),Mo()}if(2&e){const e=Go(2).$implicit,t=Go(3);vs(3),Oo("templateContext",Gl(8,dU,e.headerTemplateRef,e.leafIndex,e,e)),vs(1),Oo("ngIf",!e.headerTemplateRef),vs(1),Oo("ngClass",t.sortIcon(e.field)),_o("aria-label",t.sortableLabel),vs(1),Oo("ngIf",t.showSortNumbering(e)),vs(1),Oo("innerHtml",t.sortStatus(e),Zn),vs(1),Oo("ngIf",t.showFilterMenu&&t.isFilterable(e)),vs(1),Oo("ngIf",t.showColumnMenu(e))}}function wU(e,t){if(1&e&&(No(0,"input",26),No(1,"label",27)),2&e){const e=Go(5);_o("id",e.selectAllCheckboxId()),vs(1),_o("for",e.selectAllCheckboxId())}}function CU(e,t){if(1&e&&No(0,"span",28),2&e){const e=Go(2).$implicit,t=Go(3);Oo("column",e)("columns",t.columns)}}const xU=function(e,t,i,n){return{field:e,type:"column",column:t,hint:i,lastColumn:n}};function SU(e,t){if(1&e){const e=Bo();Po(0,"th",11),Uo("keydown",(function(t){Qt(e);const i=Go().$implicit;return Go(3).onHeaderKeydown(i,t)})),Io(1,pU,4,9,"ng-template",0),Io(2,yU,10,13,"ng-template",0),Io(3,wU,2,2,"ng-template",0),Io(4,CU,1,2,"span",12),Mo()}if(2&e){const e=Go(),t=e.$implicit,i=e.index,n=e.last,s=Go().index,r=Go(2);oa("k-filterable",r.showFilterMenu&&r.isFilterable(t)||r.showColumnMenu(t))("k-first",r.isFirstOnRow(t,i)),Oo("logicalRowIndex",s)("logicalColIndex",r.logicalColumnIndex(t))("colSpan",t.colspan)("rowSpan",t.rowspan(r.totalColumnLevels))("enableDrag",r.shouldActivate(t))("context",Gl(19,xU,t.field,t,t.title||t.field,n&&0===i))("ngClass",t.headerClass)("ngStyle",t.headerStyle),_o("aria-sort",r.sortState(t))("rowspan",t.rowspan(r.totalColumnLevels))("colspan",t.colspan),vs(1),Oo("ngIf",!r.isSortable(t)),vs(1),Oo("ngIf",r.isSortable(t)),vs(1),Oo("ngIf",r.isCheckboxColumn(t)&&!t.headerTemplateRef&&t.showSelectAll),vs(1),Oo("ngIf",r.resizable)}}function kU(e,t){if(1&e&&No(0,"kendo-grid-column-menu",31),2&e){const e=Go(2).$implicit,t=Go(3);Oo("standalone",!1)("settings",t.columnMenu)("column",e)("columnMenuTemplate",t.columnMenuTemplate)}}function _U(e,t){}function EU(e,t){1&e&&ya(0),2&e&&wa(Go(2).$implicit.displayTitle)}function IU(e,t){if(1&e&&No(0,"span",28),2&e){const e=Go(2).$implicit,t=Go(3);Oo("column",e)("columns",t.columns)}}const TU=function(e,t,i){return{type:"columnGroup",column:e,hint:t,lastColumn:i}};function FU(e,t){if(1&e&&(Po(0,"th",29),Io(1,kU,1,4,"kendo-grid-column-menu",30),Io(2,_U,0,0,"ng-template",15),Io(3,EU,1,1,"ng-template",0),Io(4,IU,1,2,"span",12),Mo()),2&e){const e=Go(),t=e.$implicit,i=e.index,n=e.last,s=Go().index,r=Go(2);oa("k-first",r.isFirstOnRow(t,i))("k-filterable",r.showColumnMenu(t)),Oo("logicalRowIndex",s)("logicalColIndex",r.logicalColumnIndex(t))("rowSpan",t.rowspan(r.totalColumnLevels))("colSpan",t.colspan)("enableDrag",r.shouldActivate(t))("context",ql(18,TU,t,t.title,n&&0===i))("ngClass",t.headerClass)("ngStyle",t.headerStyle),_o("rowspan",t.rowspan(r.totalColumnLevels))("colspan",t.colspan),vs(1),Oo("ngIf",r.showColumnMenu(t)),vs(1),Oo("templateContext",Gl(22,dU,t.headerTemplateRef,r.lockedColumnsCount+i,t,t)),vs(1),Oo("ngIf",!t.headerTemplateRef),vs(1),Oo("ngIf",r.resizable)}}function DU(e,t){if(1&e&&(Io(0,SU,5,24,"th",9),Io(1,FU,5,27,"th",10)),2&e){const e=t.$implicit,i=Go(3);Oo("ngIf",!i.isColumnGroupComponent(e)),vs(1),Oo("ngIf",i.isColumnGroupComponent(e))}}function AU(e,t){if(1&e&&(Po(0,"tr",3),Io(1,oU,1,0,"th",4),Io(2,aU,1,2,"th",5),Io(3,DU,2,2,"ng-template",6),Mo()),2&e){const e=t.index,i=Go(2);Oo("logicalRowIndex",e)("logicalSlaveRow",i.lockedColumnsCount>0)("logicalCellsCount",i.columns.length)("logicalSlaveCellsCount",i.unlockedColumnsCount),vs(1),Oo("ngForOf",i.groups),vs(1),Oo("ngIf",null==i.detailTemplate?null:i.detailTemplate.templateRef),vs(1),Oo("ngForOf",i.columnsForLevel(e))("ngForTrackBy",i.trackByIndex)}}function OU(e,t){if(1&e&&No(0,"tr",32),2&e){const e=Go(2);Oo("columns",e.leafColumns)("filter",e.filter)("groups",e.groups)("detailTemplate",e.detailTemplate)("lockedColumnsCount",e.lockedColumnsCount)("logicalRowIndex",e.totalColumnLevels+1)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount)}}function RU(e,t){if(1&e&&(Io(0,AU,4,8,"tr",1),Io(1,OU,1,9,"tr",2)),2&e){const e=Go();Oo("ngForOf",e.columnLevels),vs(1),Oo("ngIf",e.showFilterRow)}}function PU(e,t){if(1&e){const e=Bo();Po(0,"kendo-grid-filter-menu-container",4),Uo("close",(function(){return Qt(e),Go().close()})),Mo()}if(2&e){const e=Go();Oo("column",e.column)("filter",e.filter)}}const MU=function(e){return{"k-grid-filter":!0,"k-state-active":e}};function NU(e,t){if(1&e&&(Lo(0),Ho(1,7),Vo()),2&e){const e=Go();vs(1),Oo("filterService",e.childService)("column",e.column)("filter",e.childFilter)}}function LU(e,t){}function VU(e,t){if(1&e&&Io(0,LU,0,0,"ng-template",9),2&e){const e=Go(2);Oo("ngTemplateOutlet",e.column.filterMenuTemplateRef)("ngTemplateOutletContext",e.templateContext)}}function HU(e,t){if(1&e&&(Lo(0),Io(1,VU,1,2,void 0,8),Vo()),2&e){const e=Go();vs(1),Oo("ngIf",e.column.filterMenuTemplateRef)}}function BU(e,t){if(1&e){const e=Bo();Po(0,"kendo-dropdownlist",3),Uo("valueChange",(function(t){return Qt(e),Go().logicChange(t)})),Mo()}if(2&e){const e=Go();Oo("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function zU(e,t){if(1&e&&No(0,"kendo-grid-string-filter-menu-input",4),2&e){const e=Go();Oo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)}}function jU(e,t){if(1&e){const e=Bo();Po(0,"kendo-dropdownlist",3),Uo("valueChange",(function(t){return Qt(e),Go().logicChange(t)})),Mo()}if(2&e){const e=Go();Oo("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function UU(e,t){if(1&e&&No(0,"kendo-grid-numeric-filter-menu-input",4),2&e){const e=Go();Oo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("format",e.format)("decimals",e.decimals)("spinners",e.spinners)("min",e.min)("max",e.max)("step",e.step)}}function $U(e,t){if(1&e){const e=Bo();Po(0,"kendo-dropdownlist",3),Uo("valueChange",(function(t){return Qt(e),Go().logicChange(t)})),Mo()}if(2&e){const e=Go();Oo("data",e.logicOperators)("valuePrimitive",!0)("value",null==e.filter?null:e.filter.logic)}}function qU(e,t){if(1&e&&No(0,"kendo-grid-date-filter-menu-input",4),2&e){const e=Go();Oo("operators",e.operators)("currentFilter",e.secondFilter)("filterService",e.filterService)("column",e.column)("filter",e.filter)("activeView",e.activeView)("bottomView",e.bottomView)("topView",e.topView)("format",e.format)("formatPlaceholder",e.formatPlaceholder)("placeholder",e.placeholder)("min",e.min)("max",e.max)("weekNumber",e.weekNumber)}}function GU(e,t){if(1&e){const e=Bo();Po(0,"li"),Po(1,"input",2),Uo("change",(function(){Qt(e);const i=t.$implicit;return Go().onChange(i.value)})),Mo(),Po(2,"label",3),ya(3),Mo(),Mo()}if(2&e){const e=t.$implicit,i=Go();vs(1),Oo("name",i.idPrefix)("checked",i.isSelected(e.value)),_o("id",i.radioId(e.value)),vs(1),_o("for",i.radioId(e.value)),vs(1),wa(e.text)}}function KU(e,t){if(1&e&&(Po(0,"label",3),No(1,"input",4),Po(2,"span",5),ya(3),Mo(),Mo()),2&e){const e=t.$implicit,i=t.index,n=Go();vs(1),Oo("checked",!e.hidden)("disabled",n.isDisabled(e)),_o("data-index",i),vs(2),wa(e.displayTitle)}}function WU(e,t){if(1&e){const e=Bo();Po(0,"div",6),Po(1,"button",7),Uo("click",(function(){return Qt(e),Go().cancelChanges()})),ya(2),Mo(),Po(3,"button",8),Uo("click",(function(){return Qt(e),Go().applyChanges()})),ya(4),Mo(),Mo()}if(2&e){const e=Go();Oo("ngClass",e.actionsClass),vs(2),wa(e.resetText),vs(2),wa(e.applyText)}}function ZU(e,t){if(1&e){const e=Bo();Po(0,"span",4),ya(1),Mo(),Po(2,"kendo-grid-columnlist",5),Uo("apply",(function(t){return Qt(e),Go().onApply(t)}))("columnChange",(function(t){return Qt(e),Go().onChange(t)})),Mo()}if(2&e){const e=Go();vs(1),wa(e.localization.get("columns")),vs(1),Oo("columns",e.columns)("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("autoSync",e.autoSync)("allowHideAll",e.allowHideAll)}}function YU(e,t){if(1&e){const e=Bo();Po(0,"kendo-grid-columnlist",2),Uo("apply",(function(t){return Qt(e),Go().onApply(t)})),Mo()}if(2&e){const e=Go();Oo("applyText",e.localization.get("columnsApply"))("resetText",e.localization.get("columnsReset"))("columns",e.columns)("autoSync",!1)("allowHideAll",!1)("actionsClass",e.actionsClass)}}function QU(e,t){if(1&e){const e=Bo();Po(0,"kendo-grid-filter-menu-container",2),Uo("close",(function(){return Qt(e),Go().close()})),Mo()}if(2&e){const e=Go();Oo("column",e.service.column)("filter",e.service.filter)("actionsClass",e.actionsClass)}}function JU(e,t){1&e&&No(0,"span",3),2&e&&Oo("ngClass",Go().iconClass)}function XU(e,t){if(1&e&&(Po(0,"div",4),Ho(1,5),No(2,"div"),Mo()),2&e){const e=Go();Oo("@state",e.contentState),vs(1),Oo("ngTemplateOutlet",e.contentTemplate.templateRef)}}const e$=function(e,t){return{service:e,column:t}};function t$(e,t){if(1&e&&Ho(0,5),2&e){const e=Go(),t=To(6);Oo("ngTemplateOutlet",e.column.columnMenuTemplateRef||e.columnMenuTemplate||t)("ngTemplateOutletContext",$l(2,e$,e.service,e.column))}}function i$(e,t){1&e&&No(0,"kendo-grid-columnmenu-sort",8),2&e&&Oo("service",Go(2).service)}function n$(e,t){1&e&&No(0,"kendo-grid-columnmenu-lock",8),2&e&&Oo("service",Go(2).service)}function s$(e,t){if(1&e){const e=Bo();Po(0,"kendo-grid-columnmenu-chooser",9),Uo("expand",(function(){return Qt(e),Go(2).onColumnsExpand()})),Mo()}if(2&e){const e=Go(2);Oo("service",e.service)("expanded",e.expandedColumns)}}function r$(e,t){if(1&e){const e=Bo();Po(0,"kendo-grid-columnmenu-filter",9),Uo("expand",(function(){return Qt(e),Go(2).onFilterExpand()})),Mo()}if(2&e){const e=Go(2);Oo("service",e.service)("expanded",e.expandedFilter)}}function o$(e,t){if(1&e&&(Io(0,i$,1,1,"kendo-grid-columnmenu-sort",6),Io(1,n$,1,1,"kendo-grid-columnmenu-lock",6),Io(2,s$,1,2,"kendo-grid-columnmenu-chooser",7),Io(3,r$,1,2,"kendo-grid-columnmenu-filter",7)),2&e){const e=Go();Oo("ngIf",e.hasSort),vs(1),Oo("ngIf",e.hasLock),vs(1),Oo("ngIf",e.hasColumnChooser),vs(1),Oo("ngIf",e.hasFilter)}}const a$=function(e){return{"k-state-active":e}},l$=["kendoGridTableBody",""];function c$(e,t){1&e&&No(0,"td",7)}function h$(e,t){1&e&&Io(0,c$,1,0,"td",6),2&e&&Oo("ngForOf",Go(2).groups)}function u$(e,t){1&e&&No(0,"td",8),2&e&&Oo("logicalRowIndex",Go(2).addRowLogicalIndex())("logicalColIndex",0)}function d$(e,t){if(1&e&&No(0,"td",9),2&e){const e=t.$implicit,i=t.index,n=Go(2);Oo("rowIndex",-1)("columnIndex",n.lockedColumnsCount+i)("isNew",!0)("column",e)("dataItem",n.newDataItem)("ngClass",e.cssClass)("ngStyle",e.style)("logicalRowIndex",n.addRowLogicalIndex())("logicalColIndex",n.logicalColIndex(e))("colSpan",e.colspan),_o("colspan",e.colspan)}}function p$(e,t){if(1&e&&(Po(0,"tr",3),Io(1,h$,1,1,"ng-template",0),Io(2,u$,1,2,"td",4),Io(3,d$,1,11,"td",5),Mo()),2&e){const e=Go();Oo("logicalRowIndex",e.addRowLogicalIndex())("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.unlockedColumnsCount),vs(1),Oo("ngIf",!e.skipGroupDecoration),vs(1),Oo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),vs(1),Oo("ngForOf",e.columns)("ngForTrackBy",e.trackByColumns)}}function f$(e,t){}function g$(e,t){if(1&e&&(Lo(0),ya(1),Vo()),2&e){const e=Go(2);vs(1),Ca(" ",e.noRecordsText," ")}}const m$=function(e){return{templateRef:e}};function v$(e,t){if(1&e&&(Po(0,"tr",10),Po(1,"td"),Io(2,f$,0,0,"ng-template",11),Io(3,g$,2,1,"ng-container",12),Mo(),Mo()),2&e){const e=Go();vs(1),_o("colspan",e.colSpan),vs(1),Oo("ngIf",null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef)("templateContext",Ul(4,m$,null==e.noRecordsTemplate?null:e.noRecordsTemplate.templateRef)),vs(1),Oo("ngIf",!(null!=e.noRecordsTemplate&&e.noRecordsTemplate.templateRef))}}function b$(e,t){if(1&e&&No(0,"tr",17),2&e){const e=Go(),t=e.$implicit,i=e.index,n=Go();Oo("columns",n.columns)("groups",n.groups)("item",t)("hasDetails",null==n.detailTemplate?null:n.detailTemplate.templateRef)("skipGroupDecoration",n.skipGroupDecoration)("hasGroupHeaderColumn",n.hasGroupHeaderColumn)("groupHeaderColumns",n.groupHeaderColumns)("rowIndex",i+1)("totalColumnsCount",n.totalColumnsCount)("logicalRowIndex",n.logicalRowIndex(i))("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.groupHeaderSlaveCellsCount)}}function y$(e,t){1&e&&No(0,"td",7)}function w$(e,t){1&e&&Io(0,y$,1,0,"td",6),2&e&&Oo("ngForOf",Go(3).groups)}function C$(e,t){if(1&e){const e=Bo();Po(0,"a",23),Uo("click",(function(){Qt(e);const t=Go(3).$implicit;return Go().toggleRow(t.index,t.data)})),Mo()}if(2&e){const e=Go(3).$implicit,t=Go();Oo("ngClass",t.detailButtonStyles(e)),_o("title",t.detailButtonTitle(e))}}function x$(e,t){if(1&e&&(Po(0,"td",21),Io(1,C$,1,2,"a",22),Mo()),2&e){const e=Go(2),t=e.index,i=e.$implicit,n=Go();Oo("logicalRowIndex",n.logicalRowIndex(t))("logicalColIndex",0)("dataRowIndex",i.index)("dataItem",i.data)("detailExpandCell",!0),vs(1),Oo("ngIf",n.detailTemplate.showIf(i.data,i.index))}}function S$(e,t){if(1&e&&No(0,"td",24),2&e){const e=t.$implicit,i=t.index,n=Go(2),s=n.$implicit,r=n.index,o=Go();ra("touch-action",o.isSelectable()&&o.selectable.drag?"none":"auto"),oa("k-grid-edit-cell",o.isEditingCell(s.index,e))("k-state-selected",o.isSelectable&&o.cellSelectionService.isCellSelected(s,e)),Oo("rowIndex",s.index)("columnIndex",o.lockedColumnsCount+i)("column",e)("dataItem",s.data)("logicalRowIndex",o.logicalRowIndex(r))("logicalColIndex",o.logicalColIndex(e))("dataRowIndex",s.index)("dataItem",s.data)("colIndex",i)("colSpan",e.colspan)("ngClass",e.cssClass)("ngStyle",e.style),_o("data-kendo-grid-column-index",o.lockedColumnsCount+i)("aria-selected",o.isSelectable()?o.isAriaSelected(s,e):void 0)("colspan",e.colspan)}}const k$=function(e,t){return{dataItem:e,index:t}};function _$(e,t){if(1&e&&(Po(0,"tr",18),Io(1,w$,1,1,"ng-template",0),Io(2,x$,2,6,"td",19),Io(3,S$,1,21,"td",20),Mo()),2&e){const e=Go(),t=e.$implicit,i=e.index,n=Go();oa("k-alt",n.isOdd(t))("k-master-row",null==n.detailTemplate?null:n.detailTemplate.templateRef)("k-grid-edit-row",n.isEditingRow(t.index))("k-state-selected",n.isSelectable()&&n.isRowSelected(t)),Oo("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",n.logicalRowIndex(i))("logicalSlaveRow",n.lockedColumnsCount>0)("logicalCellsCount",n.columns.length)("logicalSlaveCellsCount",n.unlockedColumnsCount)("ngClass",n.rowClass($l(20,k$,t.data,t.index))),_o("data-kendo-grid-item-index",t.index),vs(1),Oo("ngIf",!n.skipGroupDecoration),vs(1),Oo("ngIf",null==n.detailTemplate?null:n.detailTemplate.templateRef),vs(1),Oo("ngForOf",n.columns)("ngForTrackBy",n.trackByColumns)}}function E$(e,t){1&e&&No(0,"td",30)}function I$(e,t){}const T$=function(e,t,i){return{dataItem:e,rowIndex:t,$implicit:i}};function F$(e,t){if(1&e&&(Po(0,"tr",25),Io(1,E$,1,0,"td",26),No(2,"td",27),Po(3,"td",28),Io(4,I$,0,0,"ng-template",29),Mo(),Mo()),2&e){const e=Go(),t=e.$implicit,i=e.index,n=Go();oa("k-alt",n.isOdd(t)),Oo("dataRowIndex",t.index)("dataItem",t.data)("logicalRowIndex",n.logicalRowIndex(i)+1)("logicalSlaveRow",!1)("logicalCellsCount",1),vs(1),Oo("ngForOf",n.groups),vs(2),Oo("logicalRowIndex",n.logicalRowIndex(i)+1)("logicalColIndex",0)("dataRowIndex",t.index)("dataItem",t.data)("colIndex",0)("colSpan",n.allColumnsSpan+1),_o("colspan",n.columnsSpan),vs(1),Oo("ngTemplateOutlet",n.detailTemplate.templateRef)("ngTemplateOutletContext",ql(17,T$,t.data,t.index,t.data))}}function D$(e,t){1&e&&No(0,"td",30)}function A$(e,t){1&e&&Io(0,D$,1,0,"td",26),2&e&&Oo("ngForOf",Go(3).groups)}function O$(e,t){if(1&e&&No(0,"td",8),2&e){const e=Go(2).index;Oo("logicalRowIndex",Go().logicalRowIndex(e))("logicalColIndex",0)}}function R$(e,t){}const P$=function(e,t,i,n,s,r){return{templateRef:e,group:t,field:i,column:n,aggregates:s,$implicit:r}};function M$(e,t){if(1&e&&(Po(0,"td",33),Io(1,R$,0,0,"ng-template",34),Mo()),2&e){const e=t.$implicit,i=Go(2),n=i.index,s=i.$implicit,r=Go();Oo("logicalRowIndex",r.logicalRowIndex(n))("logicalColIndex",r.logicalColIndex(e)),_o("data-skip",r.skipGroupDecoration),vs(1),Oo("templateContext",Kl(4,P$,e.groupFooterTemplateRef,s.data,e.field,e,null==s.data?null:s.data.aggregates,null==s.data?null:s.data.aggregates))}}function N$(e,t){if(1&e&&(Po(0,"tr",31),Io(1,A$,1,1,"ng-template",0),Io(2,O$,1,2,"td",4),Io(3,M$,2,11,"td",32),Mo()),2&e){const e=Go().index,t=Go();Oo("logicalRowIndex",t.logicalRowIndex(e))("logicalSlaveRow",t.lockedColumnsCount>0)("logicalCellsCount",t.columns.length)("logicalSlaveCellsCount",t.unlockedColumnsCount),vs(1),Oo("ngIf",!t.skipGroupDecoration),vs(1),Oo("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),vs(1),Oo("ngForOf",t.footerColumns)("ngForTrackBy",t.trackByColumns)}}function L$(e,t){if(1&e&&(Io(0,b$,1,13,"tr",13),Io(1,_$,4,23,"tr",14),Io(2,F$,5,21,"tr",15),Io(3,N$,4,8,"tr",16)),2&e){const e=t.$implicit,i=Go();Oo("ngIf",i.isGroup(e)&&i.isParentGroupExpanded(e)&&i.showGroupHeader(e)),vs(1),Oo("ngIf",i.isDataItem(e)&&i.isInExpandedGroup(e)),vs(1),Oo("ngIf",i.isDataItem(e)&&i.isInExpandedGroup(e)&&(null==i.detailTemplate?null:i.detailTemplate.templateRef)&&i.detailTemplate.showIf(e.data,e.index)&&i.isExpanded(e)),vs(1),Oo("ngIf",i.isFooter(e)&&(i.isInExpandedGroup(e)||i.showGroupFooters&&i.isParentGroupExpanded(e))&&!e.data.hideFooter)}}const V$=["kendoGridCell",""];function H$(e,t){}function B$(e,t){if(1&e&&(ya(0),Jl(1,"valueOf")),2&e){const e=t.$implicit;Ca(" ",ec(1,1,Go(3).dataItem,e.field,e.format)," ")}}function z$(e,t){1&e&&Io(0,B$,2,5,"ng-template",4),2&e&&Oo("ngForOf",Go(2).childColumns)}function j$(e,t){if(1&e&&(ya(0),Jl(1,"valueOf")),2&e){const e=Go(2);wa(ec(1,1,e.dataItem,e.column.field,e.column.format))}}function U$(e,t){if(1&e&&(No(0,"input",5),No(1,"label",6)),2&e){const e=Go(2);Oo("kendoGridSelectionCheckbox",e.rowIndex),_o("id",e.selectionCheckboxId),vs(1),_o("for",e.selectionCheckboxId)}}function $$(e,t){if(1&e&&(Lo(0),Io(1,H$,0,0,"ng-template",2),Io(2,z$,1,1,"ng-template",3),Io(3,j$,2,5,"ng-template",3),Io(4,U$,2,3,"ng-template",3),Vo()),2&e){const e=Go();vs(1),Oo("ngIf",e.column.templateRef)("ngTemplateOutlet",e.column.templateRef)("ngTemplateOutletContext",e.templateContext),vs(1),Oo("ngIf",e.isSpanColumn),vs(1),Oo("ngIf",e.isBoundColumn),vs(1),Oo("ngIf",e.isCheckboxColumn&&!e.isNew)}}function q$(e,t){}function G$(e,t){if(1&e&&Io(0,q$,0,0,"ng-template",9),2&e){const e=Go(2);Oo("ngTemplateOutlet",e.column.editTemplateRef)("ngTemplateOutletContext",e.editTemplateContext)}}function K$(e,t){if(1&e&&No(0,"kendo-numerictextbox",13),2&e){const e=Go(3);Oo("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function W$(e,t){if(1&e&&No(0,"kendo-datepicker",13),2&e){const e=Go(3);Oo("format",e.format)("formControl",e.formGroup.get(e.column.field))}}function Z$(e,t){if(1&e&&No(0,"input",14),2&e){const e=Go(3);Oo("formControl",e.formGroup.get(e.column.field))}}function Y$(e,t){if(1&e&&No(0,"input",15),2&e){const e=Go(3);Oo("formControl",e.formGroup.get(e.column.field))}}function Q$(e,t){1&e&&(Lo(0,0),Io(1,K$,1,2,"kendo-numerictextbox",10),Io(2,W$,1,2,"kendo-datepicker",10),Io(3,Z$,1,1,"input",11),Io(4,Y$,1,1,"input",12),Vo()),2&e&&(Oo("ngSwitch",Go(2).column.editor),vs(1),Oo("ngSwitchCase","numeric"),vs(1),Oo("ngSwitchCase","date"),vs(1),Oo("ngSwitchCase","boolean"))}function J$(e,t){if(1&e&&(Lo(0),Io(1,G$,1,2,void 0,7),Io(2,Q$,5,4,"ng-container",8),Vo()),2&e){const e=Go();vs(1),Oo("ngIf",e.column.editTemplateRef),vs(1),Oo("ngIf",!e.column.editTemplateRef)}}const X$=["kendoGridFooter",""];function eq(e,t){1&e&&No(0,"td",5),2&e&&oa("k-group-cell",!0)}function tq(e,t){1&e&&No(0,"td",5),2&e&&oa("k-hierarchy-cell",!0)}function iq(e,t){}function nq(e,t){if(1&e&&(Po(0,"td",6),Io(1,iq,0,0,"ng-template",7),Mo()),2&e){const e=t.$implicit,i=t.index,n=Go(2);Oo("logicalRowIndex",n.logicalRowIndex)("logicalColIndex",n.logicalColumnIndex(e))("ngClass",e.footerClass)("ngStyle",e.footerStyle),vs(1),Oo("templateContext",Gl(5,dU,e.footerTemplateRef,n.lockedColumnsCount+i,e,e))}}function sq(e,t){if(1&e&&(Po(0,"tr",1),Io(1,eq,1,2,"td",2),Io(2,tq,1,2,"td",3),Io(3,nq,2,10,"td",4),Mo()),2&e){const e=Go();oa("k-footer-template",!0),Oo("logicalRowIndex",e.logicalRowIndex)("logicalSlaveRow",e.lockedColumnsCount>0)("logicalCellsCount",e.columns.length)("logicalSlaveCellsCount",e.columns.length-e.lockedColumnsCount),vs(1),Oo("ngForOf",e.groups),vs(1),Oo("ngIf",null==e.detailTemplate?null:e.detailTemplate.templateRef),vs(1),Oo("ngForOf",e.columnsToRender)}}function rq(e,t){}function oq(e,t){if(1&e&&Io(0,rq,0,0,"ng-template",1),2&e){const e=Go();Oo("ngTemplateOutlet",e.toolbarTemplateRef)("ngTemplateOutletContext",e.context)}}const aq=/^\s*$/,lq=e=>null!=e,cq=e=>null==e,hq=e=>Array.isArray(e),uq=e=>!!e,dq=e=>cq(e)||aq.test(e),pq=e=>K(jf(e),e.changes),fq=()=>"undefined"==typeof document,gq=e=>"string"==typeof e,mq=e=>"number"==typeof e&&!isNaN(e),vq=e=>gq(e)&&!dq(e)&&e.startsWith("{0:")?e.slice(3,e.length-1):e,bq=e=>(...t)=>!e.apply(null,t),yq=(...e)=>t=>e.reduce((e,i)=>e||i(t),!1),wq=(...e)=>t=>e.reduce((e,i)=>e&&i(t),!0),Cq=new Ve("Skip"),xq=Sq();function Sq(){if("function"==typeof Symbol&&Symbol.iterator)return Symbol.iterator;const e=Object.getOwnPropertyNames(Map.prototype),t=Map.prototype;for(let i=0;i<e.length;++i){const n=e[i];if("entries"!==n&&"size"!==n&&t[n]===t.entries)return n}}const kq="undefined"!=typeof window?window:{},_q=kq.requestAnimationFrame||kq.msRequestAnimationFrame||(e=>setTimeout(e,1e3/60)),Eq=kq.cancelAnimationFrame||kq.msCancelRequestAnimationFrame||clearTimeout;let Iq=(()=>{let e=class{constructor(){this.hostClass=!0}get sizedClass(){return lq(this.width)}get flexBasisStyle(){return this.width}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-spacer"],["kendo-pager-spacer"]],hostVars:6,hostBindings:function(e,t){2&e&&(ra("flex-basis",t.flexBasisStyle),oa("k-spacer",t.hostClass)("k-spacer-sized",t.sizedClass))},inputs:{width:"width"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),Tq=(()=>{let e=class{constructor(){this.cellClick=new nc,this.cellMousedown=new nc,this.cellMouseup=new nc,this.click=new nc,this.keydown=new nc,this.focus=new nc,this.focusIn=new nc,this.focusOut=new nc,this.windowBlur=new nc}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Fq=(()=>{let e=class{constructor(){this.changes=new nc}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),Dq=(()=>{let e=class{constructor(){this.groups=new Set}registerGroup(e){this.alive&&this.groups.add(e)}unregisterGroup(e){this.alive&&this.groups.delete(e)}activate(){this.alive&&this.groups.forEach(e=>e.activate())}deactivate(){this.alive&&this.groups.forEach(e=>e.deactivate())}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const Aq=/^(?:a|input|select|option|textarea|button|object)$/i,Oq={},Rq=e=>String(e).trim().split(" "),Pq=(e,t)=>{const i=Rq(t);return Boolean(Rq(e.className).find(e=>i.indexOf(e)>=0))},Mq=e=>t=>Pq(t,e),Nq=e=>(Oq[e]||(Oq[e]=t=>String(t.nodeName).toLowerCase()===e.toLowerCase()),Oq[e]),Lq=(e,t)=>{for(;e&&!t(e);)e=e.parentNode;return e},Vq=(e,t,i)=>{for(;e&&e!==i&&!t(e);)e=e.parentNode;if(e!==i)return e},Hq=e=>{const t=e.getBoundingClientRect();return(t.width>0&&t.height>0||0!==t.x&&0!==t.y)&&"hidden"!==window.getComputedStyle(e).visibility},Bq=e=>{if(!e.tagName)return!1;const t=e.tagName.toLowerCase(),i=Boolean(e.getAttribute("tabIndex"));return!e.disabled&&Aq.test(t)||i},zq=(e,t=!0)=>{if(!Bq(e))return!1;const i=e.getAttribute("tabIndex");return(!t||Hq(e))&&"-1"!==i},jq=(e,t,i=!0)=>{if(e){if(i&&t(e))return e;for(e=e.firstChild;e;){if(1===e.nodeType){const i=jq(e,t);if(i)return i}e=e.nextSibling}}},Uq=Nq("button"),$q=Nq("input"),qq=/(button|checkbox|color|file|radio|reset|submit)/i;class Gq{constructor(e,t){this.renderer=t,this.element=e.nativeElement,this.focusable=((e,t=!0)=>jq(this.element,e=>zq(e,t)))(0,!1)||this.element}get enabled(){return this.focusable&&!this.focusable.disabled}get visible(){return this.focusable&&Hq(this.focusable)}isNavigable(){return this.canFocus()&&!(e=this.element).disabled&&(Uq(e)||(e=>$q(e)&&qq.test(e.type))(e));var e}toggle(e){this.renderer.setAttribute(this.focusable,"tabIndex",e?"0":"-1")}focus(){this.focusable&&this.focusable.focus()}canFocus(){return this.visible&&this.enabled}hasFocus(){return document.activeElement!==this.element&&Lq(document.activeElement,e=>e===this.element)}}const Kq=new Ve("grid-cell-context");let Wq=(()=>{let e=class{constructor(e,t,i){this.cellContext=e,this.hostElement=t,this.renderer=i,this.active=!0,this.cellContext&&(this.group=this.cellContext.focusGroup),this.group&&this.group.registerElement(this)}ngAfterViewInit(){this.element||(this.element=new Gq(this.hostElement,this.renderer)),this.group&&this.toggle(this.group.isActive)}ngOnDestroy(){this.group&&this.group.unregisterElement(this)}toggle(e){this.element&&e!==this.active&&(this.active=e,this.element.toggle(e))}canFocus(){return this.element&&this.element.canFocus()}isNavigable(){return this.element&&this.element.isNavigable()}focus(){this.element&&this.element.focus()}hasFocus(){return this.element&&this.element.hasFocus()}registerElement(e){this.element=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(Kq,12),Fo(Ga),Fo(Ya))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridFocusable",""],["","kendoGridEditCommand",""],["","kendoGridRemoveCommand",""],["","kendoGridSaveCommand",""],["","kendoGridCancelCommand",""],["","kendoGridSelectionCheckbox",""]]}),e})();class Zq{constructor(e){this.navigationService=e}focus(){this.navigationService.focusCell()}toggle(e){this.navigationService.toggle(e)}canFocus(){return!0}hasFocus(){return this.navigationService.hasFocus()}isNavigable(){return!1}}class Yq{constructor(e){this.model=e,this.changes=new _,this.activeRow=0,this.activeCol=0,this.virtualCol=0,this.virtualRow=0}get row(){return this.model.findRow(this.activeRow)}get cell(){const e=this.row;if(e)return this.model.findCell(this.activeCol,e)}get dataRowIndex(){const e=this.row;return e?e.dataRowIndex:-1}reset(e=this.activeRow,t=this.activeCol,i=!0){this.activate(e,t,i)&&(this.virtualRow=e,this.virtualCol=t)}activate(e,t,i){if(!i&&this.isActiveRange(e,t))return!1;const n=this.activeCol,s=this.activeRow;return this.activeCol=t,this.activeRow=e,this.changes.next({colIndex:t,prevColIndex:n,prevRowIndex:s,rowIndex:e}),!0}isActiveRange(e,t){if(this.activeRow!==e)return!1;const i=this.cell,{start:n,end:s}=this.model.cellRange(i);return!Boolean(i)||n<=t&&t<=s}assume(e=this.activeRow,t=this.activeCol){this.virtualRow=e,this.virtualCol=t,this.activeCol=t,this.activeRow=e}announce(){this.changes.next({colIndex:this.activeCol,prevColIndex:this.activeCol,prevRowIndex:this.activeRow,rowIndex:this.activeRow})}activateVirtualCell(e){const t=this.model.rowRange(e),i=this.model.cellRange(e),n=this.activeCol,s=this.activeRow;if(t.start<=s&&s<=t.end&&i.start<=n&&n<=i.end)return this.activeRow=e.rowIndex,this.activeCol=e.colIndex,!0}isActive(e,t){return this.activeCol===t&&this.activeRow===e}moveUp(e=1){return this.offsetRow(-e)}moveDown(e=1){return this.offsetRow(e)}moveLeft(e=1){return this.offsetCol(-e)}moveRight(e=1){return this.offsetCol(e)}lastCellIndex(e){return this.metadata.columns.leafColumnsToRender.length-1+(!this.metadata.hasDetailTemplate||e&&e.groupItem?0:1)}offsetCol(e){const t=this.model.findRow(this.virtualRow),i=this.lastCellIndex(t),n=this.virtualCol;this.virtualCol=Math.max(0,Math.min(n+e,i));let s=this.virtualCol,r=this.virtualRow,o=this.model.findCell(this.virtualCol,t);if(!o&&this.metadata.virtualColumns)return this.activate(r,s);if(o.colSpan>1&&o.colIndex<=n&&n<o.colIndex+o.colSpan){s=e>0?Math.min(o.colIndex+o.colSpan,i):Math.max(0,o.colIndex+e);const r=this.model.findCell(s,t);o!==r?(o=r,this.virtualCol=o.colIndex):this.virtualCol=n}return this.activate(o.rowIndex,o.colIndex)}offsetRow(e){let t=this.virtualCol;if(this.metadata&&this.metadata.isVirtual){const i=this.metadata.maxLogicalRowIndex;let n=Math.max(0,Math.min(this.activeRow+e,i));this.metadata.hasDetailTemplate&&!this.model.findRow(n)&&(n=e>0?n+1:n-1,n=Math.max(0,Math.min(n,i))),this.metadata.hasDetailTemplate&&n===i&&this.model.lastRow.index!==i&&n--;const s=this.model.findRow(n);if(s){let i=this.model.findCell(this.virtualCol,s);i.rowIndex<=this.virtualRow&&e>0&&i.rowSpan>1&&(i=this.model.findCell(this.virtualCol,this.model.findRow(i.rowIndex+i.rowSpan-1+e))),n=i.rowIndex,t=i.colIndex}return this.virtualRow=n,this.activate(n,t)}const i=this.model.findRow(this.virtualRow+e)||this.model.nextRow(this.virtualRow,e);if(!i)return!1;let n=this.model.findCell(this.virtualCol,i);return n&&n.rowIndex<=this.virtualRow&&e>0&&n.rowSpan>1&&(n=this.model.findCell(this.virtualCol,this.model.findRow(n.rowIndex+n.rowSpan-1+e))),!n&&this.metadata.virtualColumns?this.activate(this.virtualRow+e,this.virtualCol):(this.virtualRow=n.rowIndex,this.activate(this.virtualRow,n.colIndex))}}class Qq{constructor(){this.count=0,this.items={}}get first(){if(this.count>0){let e;return this.forEach(t=>(e=t,!0)),e}}get last(){if(this.count>0){const e=Object.keys(this.items);return this.items[e[e.length-1]]}}removeItem(e){this.items[e]&&(delete this.items[e],this.count--)}setItem(e,t){this.items[e]||this.count++,this.items[e]=t}getItem(e){return this.items[e]}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}forEach(e){for(let t in this.items)if(this.items.hasOwnProperty(t)&&e(this.items[t]))return this.items[t]}find(e){return this.forEach(e)}}class Jq{constructor(){this.rows=new Qq}get firstRow(){return this.rows.first}get lastRow(){return this.rows.last}registerCell(e){const t=this.rows.getItem(e.logicalRowIndex);if(!t)return;const i=e.logicalColIndex,n={uid:e.uid,colIndex:i,rowIndex:t.index,colSpan:e.colSpan,rowSpan:e.rowSpan,detailExpandCell:e.detailExpandCell,dataItem:t.dataItem,dataRowIndex:t.dataRowIndex,focusGroup:e.focusGroup};return t.cells.setItem(i,n),e.groupItem&&(t.groupItem=e.groupItem),n}unregisterCell(e,t,i){const n=this.rows.getItem(t);if(n){const t=n.cells.getItem(e);t&&t.uid===i.uid&&n.cells.removeItem(e)}}registerRow(e){const t={uid:e.uid,index:e.logicalRowIndex,dataItem:e.dataItem,dataRowIndex:e.dataRowIndex,cells:new Qq};this.rows.setItem(e.logicalRowIndex,t)}updateRow(e){const t=this.rows.getItem(e.logicalRowIndex);t&&Object.assign(t,{dataItem:e.dataItem,dataRowIndex:e.dataRowIndex})}unregisterRow(e,t){const i=this.rows.getItem(e);i&&i.uid===t.uid&&this.rows.removeItem(e)}cellRange(e){return e?{start:e.colIndex,end:e.colIndex+(e.colSpan||1)-1}:{}}rowRange(e){return e?{start:e.rowIndex,end:e.rowIndex+(e.rowSpan||1)-1}:{}}nextRow(e,t){const i=this.rows.toArray(),n=this.rows.getItem(e),s=i.indexOf(n);return i[s+t]}findRow(e){return this.rows.getItem(e)}findCell(e,t){if(!t)return;const i=t.index;let n=t.cells.getItem(e),s=i;for(;!n&&t;)t=this.rows.getItem(s),n=this.rowCell(e,t),s--;return n&&i<=t.index+(n.rowSpan||1)-1?n:void 0}rowCell(e,t){if(!t||!t.cells.count)return;const i=t.cells.first;let n,s=e;for(;!n&&s>=i.colIndex;)n=t.cells.getItem(s),s--;return n&&e<=n.colIndex+(n.colSpan||1)-1?n:void 0}}class Xq{constructor(){this.prevented=!1}preventDefault(){this.prevented=!0}isDefaultPrevented(){return this.prevented}}class eG extends Xq{constructor(e){super(),this.action="cellClose",Object.assign(this,e)}}const tG=e=>-1===e||void 0===e;let iG=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new nc,this.editedIndices=[],this.keepEditCell=!1,this.closingCell=!1,this.changedSource=new _,this.changed=this.changedSource.asObservable().pipe(xg(()=>this.ngZone.onStable.asObservable().pipe(mg(1))))}editRow(e,t){this.editedIndices.push({index:e,group:t}),this.onChanged()}addRow(e){this.newItemGroup={group:e},this.onChanged()}editCell(e,t,i){tG(e)||!1===t.editable||!t.editTemplate&&!t.field||(this.preventCellClose(),this.closeCell()||(this.editRow(e,i),this.column=t,this.onChanged()))}isEditing(){return this.editedIndices.length>0}isEditingCell(){return this.isEditing()&&void 0!==this.column}get hasNewItem(){return lq(this.newItemGroup)}get newDataItem(){return this.hasNewItem?this.newItemGroup.group.value:{}}close(e){tG(e)?this.newItemGroup=void 0:(this.editedIndices=this.editedIndices.filter((e=>t=>t.index!==e)(e)),delete this.column,this.onChanged())}closeCell(e){if(this.column&&!this.closingCell)return this.ngZone.run(()=>{const{index:t,group:i}=this.editedIndices[0],n=new eG({column:this.column,formGroup:i,originalEvent:e,rowIndex:t});return this.closingCell=!0,this.changes.emit(n),this.closingCell=!1,n.isDefaultPrevented()||this.cancelCell(),n.isDefaultPrevented()})}cancelCell(){this.column&&(this.editedIndices=[],delete this.column,this.onChanged())}shouldCloseCell(){return this.column&&!this.keepEditCell}preventCellClose(){this.ngZone.runOutsideAngular(()=>{window.clearTimeout(this.keepCellTimeout),this.keepEditCell=!0,this.keepCellTimeout=window.setTimeout(()=>{this.keepEditCell=!1},0)})}context(e){return tG(e)?this.newItemGroup:this.findByIndex(e)}columnContext(e,t){return tG(e)?this.newItemGroup:this.column&&t!==this.column?void 0:this.findByIndex(e)}isEdited(e){return!(!tG(e)||!lq(this.newItemGroup))||!this.column&&lq(this.findByIndex(e))}hasEdited(e){return lq(this.context(e))}isEditedColumn(e,t){return!(!this.column||this.column!==t)&&lq(this.findByIndex(e))}beginEdit(e){this.changes.emit({action:"edit",rowIndex:e})}beginAdd(){this.changes.emit({action:"add"})}endEdit(e){const{group:t}=this.context(e);this.changes.emit({action:"cancel",rowIndex:e,formGroup:t,isNew:tG(e)})}save(e){const{group:t}=this.context(e);this.changes.emit({action:"save",rowIndex:e,formGroup:t,isNew:tG(e)})}remove(e){this.changes.emit({action:"remove",rowIndex:e})}findByIndex(e){return this.editedIndices.find((e=>t=>t.index===e)(e))}onChanged(){this.ngZone.runOutsideAngular(()=>{this.changedSource.next()})}};return e.\u0275fac=function(t){return new(t||e)(We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const nG=e=>e.lastIndexOf("_")>-1?e.slice(0,e.lastIndexOf("_")):"";let sG=(()=>{let e=class extends class{constructor(e){this.isInitiallyCollapsed=e,this.changes=new _,this.rowState=new Set}toggleRow(e,t){const i=this.rowState.has(e);this.emitEvent({dataItem:t,expand:this.isInitiallyCollapsed?!i:i,index:e})||(i?this.rowState.delete(e):this.rowState.add(e))}isExpanded(e){const t=this.rowState.has(e);return this.isInitiallyCollapsed?t:!t}reset(){this.rowState.clear()}emitEvent(e){return this.changes.next(e),!1}}{constructor(e=!1){super(e)}isInExpandedGroup(e,t=!0){t&&(e=nG(e));let i=!0;for(;e&&i;)i=this.isExpanded(e),e=nG(e);return i}expandChildren(e){this.rowState.forEach(t=>((e,t)=>t!==e&&e.startsWith(t))(t,e)&&this.rowState.delete(t))}};return e.\u0275fac=function(t){return new(t||e)(We(Cq,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),rG=(()=>{class e{constructor(){this.changes=new _,this.pageChange=new _}get currentPage(){return this.skip/this.pageSize}notifyChanges(e){this.total=e.total,this.pageSize=e.pageSize,this.skip=e.skip,this.changes.next(e)}changePage(e){this.pageChange.next({skip:e*this.pageSize,take:this.pageSize})}changePageSize(e){this.pageChange.next({skip:0,take:e})}nextPage(){const e=this.currentPage+1;e*this.pageSize<this.total&&this.changePage(e)}prevPage(){const e=this.currentPage-1;e*this.pageSize>=0&&this.changePage(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class oG extends Xq{constructor(e){super(),Object.assign(this,e)}}class aG extends Xq{constructor(e){super(),Object.assign(this,e)}}let lG=(()=>{let e=class{constructor(){this.changes=new _,this.rowState=new Set}ngOnDestroy(){this.rowState.clear()}isExpanded(e,t){return this.userCallback?this.userCallback({index:e,dataItem:t}):this.rowState.has(e)}toggleRow(e,t){this.isExpanded(e,t)?this.collapseRow(e,t):this.expandRow(e,t)}expandRow(e,t){this.emitEvent({dataItem:t,index:e,expand:!0})||this.userCallback||this.rowState.add(e)}collapseRow(e,t){this.emitEvent({dataItem:t,index:e,expand:!1})||this.userCallback||this.rowState.delete(e)}emitEvent(e){const t=new(e.expand?aG:oG)(e);return this.changes.next(t),t.isDefaultPrevented()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),cG=(()=>{let e=class{constructor(){this.requests=new _}scrollTo(e){this.requests.next(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const hG=(e,t)=>Lq(e,Nq("kendo-grid"))===t,uG=Nq("th"),dG=Nq("td"),pG=Nq(".k-grid-footer td"),fG=e=>dG(e)||uG(e)||pG(e),gG=(e,t)=>{const i=((e,t)=>{let i=Lq(e,fG);for(;i&&!hG(i,t);)i=Lq(i.parentElement,fG);return i})(e,t),n=Lq(i,Nq("tr"));if(i&&n){let e=n.getAttribute("aria-rowindex");e=e?parseInt(e,10)-1:null;let t=i.getAttribute("aria-colindex");if(t=t?parseInt(t,10)-1:null,null!==e&&null!==t)return{colIndex:t,rowIndex:e,element:i}}},mG=e=>(e=>e===gy.ArrowLeft||e===gy.ArrowRight||e===gy.ArrowUp||e===gy.ArrowDown)(e)||e===gy.PageUp||e===gy.PageDown||e===gy.Home||e===gy.End,vG=Nq("input");class bG{constructor(e,t){this.firstItemIndex=e,this.lastItemIndex=t}containsRow(e){return e<0||e>=this.firstItemIndex&&e<=this.lastItemIndex}intersects(e,t){return e<=this.firstItemIndex&&this.lastItemIndex<=t||this.firstItemIndex<=e&&e<=this.lastItemIndex||this.firstItemIndex<=t&&t<=this.lastItemIndex}}let yG=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,h){this.zone=e,this.domEvents=t,this.pagerContextService=i,this.scrollRequestService=n,this.groupsService=s,this.detailsService=r,this.focusRoot=o,this.editService=a,this.cd=l,this.localization=c,this.focusableParent=h,this.cellKeydown=new nc,this.activeRowIndex=0,this.alive=!1,this.active=!0,this.mode=0,this.model=new Jq,this.cursor=new Yq(this.model),this.changes=this.cursor.changes}set metadata(e){this.meta=e,this.cursor.metadata=e}get metadata(){return this.meta}get enabled(){return this.alive}get activeCell(){if(0!==this.mode)return this.cursor.cell}get activeRow(){if(0!==this.mode)return Object.assign({},this.cursor.row,{cells:this.cursor.row.cells.toArray()})}get activeDataRow(){return Math.max(0,this.activeRowIndex-this.meta.headerRows)}init(e){this.alive=!0,this.focusRoot.alive=!0,this.metadata=e;const t=(...e)=>t=>this.zone.isStable?z([!0]).pipe(L(()=>t)):this.zone.onStable.pipe(mg(1),L(()=>t),...e),i=t();if(this.subs=new u,this.subs.add(this.cursor.changes.subscribe(e=>this.onCursorChanges(e))),this.subs.add(this.domEvents.focus.pipe(xg(i)).subscribe(e=>this.navigateTo(e.target))),this.subs.add(this.domEvents.focusOut.pipe(Jf(()=>0!==this.mode),xg(t(Dy(this.domEvents.focus)))).subscribe(e=>this.onFocusOut(e))),this.subs.add(this.domEvents.windowBlur.pipe(Jf(()=>0!==this.mode)).subscribe(()=>this.onWindowBlur())),this.subs.add(this.editService.changes.pipe(Jf(e=>"edit"!==e.action&&2===this.mode),Jf(e=>"cellClose"===e.action&&!e.prevented),xg(i)).subscribe(()=>this.leaveCell())),this.subs.add(this.pagerContextService.pageChange.subscribe(()=>this.cursor.reset(0,0))),this.subs.add(this.domEvents.keydown.subscribe(e=>this.onKeydown(e))),this.subs.add(this.domEvents.keydown.pipe(Jf(e=>e.keyCode===gy.Tab&&2===this.mode),Ry(this.domEvents.focusOut.pipe(Dy(my(0).pipe(mg(1)))))).subscribe(()=>this.onTabout())),this.focusableParent){const e=new Zq(this);this.focusableParent.registerElement(e)}this.deactivateElements()}ngOnDestroy(){this.subs&&this.subs.unsubscribe(),this.alive=!1}registerCell(e){if(e.logicalRowIndex!==this.pendingRowIndex){const t=this.model.registerCell(e);this.virtualCell&&this.cursor.activateVirtualCell(t)&&(this.virtualCell=!1)}}registerCellOnCurrentRow(e){e.logicalRowIndex===this.pendingRowIndex&&this.model.registerCell(e)}unregisterCell(e,t,i){this.model.unregisterCell(e,t,i)}registerRow(e){this.model.registerRow(e),this.pendingRowIndex=e.logicalRowIndex}updateRow(e){this.model.updateRow(e)}unregisterRow(e,t){this.model.unregisterRow(e,t)}isCellFocusable(e){return this.alive&&this.active&&2!==this.mode&&this.cursor.isActive(e.logicalRowIndex,e.logicalColIndex)}isCellFocused(e){return 1===this.mode&&this.isCellFocusable(e)}navigateTo(e){if(!this.alive)return;const t=gG(e,this.meta.gridElement.nativeElement);if(!t)return;const i=this.mode,n=((e,t,i=!1)=>{if(!Lq(t,t=>t===e))return!1;const n=Lq(t,e=>e===t);return n&&(i||n!==e)})(t.element,document.activeElement),s=2===this.mode&&this.activeRowIndex===t.rowIndex&&e!==t.element;if(n)this.mode=2,this.cursor.reset(t.rowIndex,t.colIndex),this.activateRow();else if(!s){this.mode=1,this.deactivateElements();const e=this.cursor.isActive(t.rowIndex,t.colIndex);1===i&&e||this.cursor.reset(t.rowIndex,t.colIndex)}}tryFocus(e){this.activateElements();const t=((e,t=!0)=>jq(e,e=>zq(e,t),!1))(e);if(t){const e=gG(t,this.meta.gridElement.nativeElement);e&&(this.cursor.reset(e.rowIndex,e.colIndex),this.deactivateElements(),this.enterCell()),t.focus()}else this.deactivateElements();return!!t}needsViewport(){return this.meta&&this.meta.isVirtual}setViewport(e,t){if(this.viewport=new bG(e,t),this.meta&&this.meta.isVirtual&&this.activeDataRow>-1){const i=this.activeDataRow,n=i-t;e-i>0?this.cursor.reset(e+this.meta.headerRows):n>0&&this.cursor.reset(t-this.meta.headerRows)}}setColumnViewport(e,t){this.columnViewport=new bG(e,t)}focusCell(e,t){return this.mode=1,this.cursor.reset(e,t),this.activeCell}focusCellByElement(e){const t=gG(e,this.meta.gridElement.nativeElement);if(t)return this.focusCell(t.rowIndex,t.colIndex)}focusNextCell(e=!0){return this.focusAdjacentCell(!0,e)}focusPrevCell(e=!0){return this.focusAdjacentCell(!1,e)}toggle(e){this.active=e,this.cursor.announce()}hasFocus(){return 1===this.mode||2===this.mode}autoFocusCell(e,t){return!this.meta.virtualColumns||t<this.meta.columns.lockedLeafColumns.length||this.columnViewport.intersects(e,t)}focusAdjacentCell(e,t){this.focusCell();let i=e?this.moveCursorFwd():this.moveCursorBwd();if(t&&!i&&(i=e?this.cursor.moveDown(1):this.cursor.moveUp(1),i)){const t=this.cursor.row,i=e?0:this.cursor.lastCellIndex(t);this.cursor.reset(t.index,i)}return i?this.activeCell:(this.mode=0,this.cursor.announce(),null)}enterCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup,i=t&&t.canFocus();this.mode=i?2:1,this.cursor.announce(),i&&(this.activateRow(),t.focus())}leaveCell(){const e=this.cursor.cell;if(!e)return;const t=e.focusGroup;t&&t.canFocus()||this.deactivateElements(),this.mode=1,this.cursor.announce()}activateElements(){this.focusRoot.activate()}deactivateElements(){this.focusRoot.deactivate()}activateRow(){this.cursor.row.cells.forEach(e=>e.focusGroup&&e.focusGroup.activate())}moveCursorFwd(){return this.localization.rtl?this.cursor.moveLeft():this.cursor.moveRight()}moveCursorBwd(){return this.localization.rtl?this.cursor.moveRight():this.cursor.moveLeft()}onCursorKeydown(e){let t=!1;const i=e.ctrlKey||e.metaKey,n=i?5:1;if(!this.onCellKeydown(e))return;const s=this.cursor.row;switch(e.keyCode){case gy.ArrowDown:t=this.cursor.moveDown(n);break;case gy.ArrowUp:t=this.cursor.moveUp(n);break;case gy.ArrowRight:t=this.moveCursorFwd();break;case gy.ArrowLeft:t=this.moveCursorBwd();break;case gy.PageDown:if(this.metadata.isVirtual&&this.viewport){let e=this.meta.headerRows+this.viewport.lastItemIndex+1;this.metadata.hasDetailTemplate&&e++,e=Math.min(this.meta.maxLogicalRowIndex,e),this.cursor.reset(e),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.nextPage()),t=!0);break;case gy.PageUp:if(this.metadata.isVirtual&&this.viewport){let e=Math.max(this.meta.headerRows,this.viewport.firstItemIndex-(this.viewport.lastItemIndex-this.viewport.firstItemIndex)-1);this.cursor.reset(e),t=!0}else this.metadata.hasPager&&(this.zone.run(()=>this.pagerContextService.prevPage()),t=!0);break;case gy.Home:this.cursor.reset(i?this.meta.isVirtual?this.meta.headerRows:this.model.firstRow.index:s.index,0,!1),t=!0;break;case gy.End:if(i)if(this.meta.isVirtual){let e=this.meta.maxLogicalRowIndex;this.meta.hasDetailTemplate&&e--,this.cursor.reset(e,this.cursor.lastCellIndex(),!1)}else this.cursor.reset(this.model.lastRow.index,this.cursor.lastCellIndex(this.model.lastRow),!1);else{const e=this.cursor.lastCellIndex(s),t=this.model.findCell(e,s);t?this.cursor.reset(t.rowIndex,t.colIndex):this.cursor.reset(s.index,e)}t=!0;break;case gy.Enter:case gy.F2:const o=s.groupItem;o?this.zone.run(()=>this.groupsService.toggleRow(o.index,o.data)):this.cursor.cell.detailExpandCell?this.zone.run(()=>this.detailsService.toggleRow(s.dataRowIndex,s.dataItem)):(this.enterCell(),this.cursor.cell.focusGroup.isNavigable()||(t=!0));break;default:e.ctrlKey||e.altKey||1!==(r=e.key).length||!r.match(/\S/)||this.enterCell()}var r;t&&e.preventDefault()}onContentKeydown(e){if(!this.onCellKeydown(e))return;const t=!e.defaultPrevented&&e.keyCode===gy.Enter&&(i=e.srcElement)&&vG(i)&&"text"===i.type.toLowerCase();var i;e.keyCode===gy.Escape||e.keyCode===gy.F2||t?(this.leaveCell(),this.cursor.reset(),e.stopPropagation()):mG(e.keyCode)&&this.cursor.cell.focusGroup.isNavigable()&&(this.onCursorKeydown(e),e.defaultPrevented&&this.leaveCell())}onCellKeydown(e){if(this.editService.isEditingCell()){const t=e.keyCode===gy.Enter,i=e.keyCode===gy.Escape,n=mG(e.keyCode);if(t)this.editService.closeCell(e);else if(i)this.editService.cancelCell(),this.cd.detectChanges();else if(n)return!1}return this.cellKeydown.emit(e),!0}onCursorChanges(e){this.activeRowIndex=e.rowIndex;const t=this.activeDataRow;if(this.meta&&this.meta.isVirtual&&this.viewport&&!this.viewport.containsRow(t)&&t>-1&&this.scrollRequestService.scrollTo({row:t}),this.meta.virtualColumns&&e.colIndex>=this.meta.columns.lockedLeafColumns.length){const t=this.activeCell,{start:i,end:n}=this.model.cellRange(t);t||(this.virtualCell=!0),(!t&&0!==this.mode||t&&!this.columnViewport.intersects(i,n))&&this.scrollRequestService.scrollTo({column:e.colIndex-(this.metadata.hasDetailTemplate?1:0)})}}onFocusOut(e){this.mode=Hq(e.target)?0:1,this.deactivateElements(),this.cursor.announce()}onWindowBlur(){this.mode=0,this.deactivateElements(),this.cursor.announce()}onKeydown(e){1===this.mode?this.onCursorKeydown(e):2===this.mode&&this.onContentKeydown(e)}onTabout(){this.cursor.cell.focusGroup.isNavigable()||(this.leaveCell(),this.cursor.reset())}};return e.\u0275fac=function(t){return new(t||e)(We(Wc),We(Tq),We(rG),We(cG),We(sG),We(lG),We(Dq),We(iG),We($r),We(Fy),We(Wq,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),wG=(()=>{let e=class{constructor(e,t,i){this.domEvents=e,this.localDataChangesService=t,this.navigationService=i,this.changes=new nc,this.lastSelectionStartIndex=0,this.currentSelection=[],this.selectAllChecked=!1,this.active=!1,this.dragging=!1,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const e=this.settings.selectable,t="object"==typeof e&&lq(e)&&"multiple"===e.mode&&!1!==e.enabled&&!e.checkboxOnly&&e.drag;return this.active&&t}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const t=this.getIterator();this._selectAllState=!0;let i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type){const t={dataItem:i.value.data,index:i.value.index};e.rowSelected(t)?this.currentSelection[i.value.index]=t:this._selectAllState=void 0}i=t.next()}0===this.currentSelection.length&&(this._selectAllState=!1)}}isSelected(e){if(this.settings&&this.active)return this.options.enabled&&lq(this.currentSelection[e])}handleClick(e,t){if(this.dragging)return void(this.dragging=!1);let i;const n=t.ctrlKey||t.metaKey;"single"===this.options.mode&&n&&this.isSelected(e.index)?i=this.toggle(e):"multiple"===this.options.mode&&(n&&!t.shiftKey?i=this.toggle(e):t.shiftKey&&(i=this.addAllTo(e,n))),lq(i)||(i=this.select(e),this.currentSelection[e.index]={dataItem:e.data,index:e.index}),(i.selectedRows.length||i.deselectedRows.length)&&(i.ctrlKey=n,i.shiftKey=t.shiftKey,this.changes.emit(i))}toggle(e){let t=[],i=[];this.lastSelectionStartIndex=e.index;const n={dataItem:e.data,index:e.index};return this.isSelected(e.index)?i.push(n):t.push(n),{deselectedRows:i,selectedRows:t}}toggleByIndex(e){const t=this.getIterator();this.selectAllChecked&&this.isSelected(e)&&(this.selectAllChecked=!1);let i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type&&i.value.index===e){const t={data:i.value.data,index:i.value.index};return this.isSelected(e)||"multiple"===this.options.mode?this.toggle(t):this.select(t)}i=t.next()}}select(e){let t=[],i=[];return this.lastSelectionStartIndex=e.index,this.isSelected(e.index)||i.push({dataItem:e.data,index:e.index}),this.currentSelection.forEach(i=>{i.index!==e.index&&t.push(i)}),{deselectedRows:t,selectedRows:i}}deselect(e){const t=this.getIterator();let i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type&&i.value.data===e){const e={dataItem:i.value.data,index:i.value.index};this.isSelected(e.index)&&this.changes.emit({ctrlKey:!1,deselectedRows:[e],selectedRows:[]})}i=t.next()}}addAllTo(e,t){let i=[],n=[];const s=Math.min(this.lastSelectionStartIndex,e.index),r=Math.max(this.lastSelectionStartIndex,e.index),o=this.getIterator();let a=o.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const e=a.value.index,o={dataItem:a.value.data,index:e};(e<s||e>r)&&this.isSelected(e)&&!t&&n.push(o),e>=s&&e<=r&&!this.isSelected(e)&&i.push(o)}a=o.next()}return{deselectedRows:n,selectedRows:i}}updateAll(e){this.selectAllChecked=e;let t=[],i=[];const n=this.getIterator();let s=n.next();for(;!s.done;){if(s.value&&"data"===s.value.type){const n=s.value.index,r={dataItem:s.value.data,index:n};this.isSelected(n)&&!e&&i.push(r),!this.isSelected(n)&&e&&t.push(r)}s=n.next()}(t.length||i.length)&&this.changes.emit({ctrlKey:!0,deselectedRows:i,selectedRows:t,shiftKey:!0})}selectRange(e,t){let i=[],n=[];const s=Math.min(e,t),r=Math.max(e,t),o=this.getIterator();let a=o.next();for(;!a.done;){if(a.value&&"data"===a.value.type){const e=a.value.index,t={dataItem:a.value.data,index:e};(e<s||e>r)&&this.isSelected(e)&&n.push(t),e>=s&&e<=r&&!this.isSelected(e)&&i.push(t)}a=o.next()}return{deselectedRows:n,selectedRows:i}}get selectAllState(){return this._selectAllState}get selected(){return this.currentSelection.map(e=>e.index).filter(e=>"number"==typeof e)}get options(){const e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return lq(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}targetArgs(){return{index:this.mouseDownEventArgs.rowIndex,dataItem:this.mouseDownEventArgs.dataItem}}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,!this.options.enabled||this.options.mode&&"multiple"!==this.options.mode||this.options.checkboxOnly||!e.originalEvent.shiftKey||this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&lq(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[xq]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}};return e.\u0275fac=function(t){return new(t||e)(We(Tq),We(Fq),We(yG))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),CG=(()=>{let e=class{constructor(e,t,i){this.domEvents=e,this.localDataChangesService=t,this.navigationService=i,this.changes=new nc,this.mouseUpEvent=new nc,this.currentSelection=[],this.active=!1,this.dragging=!1,this.dragSelectDeselect=!1,this.lastSelectionItem={itemKey:0,columnKey:0},this.lastSelectionItemRowIndex=0,this.lastSelectionItemColIndex=0,this.addSubscriptions()}get enableMarquee(){if(!this.settings||this.settings&&"object"==typeof this.settings&&this.settings.checkboxOnly)return!1;const e=this.settings.selectable,t="object"==typeof e&&lq(e)&&"multiple"===e.mode&&e.cell&&!1!==e.enabled&&e.drag;return this.active&&t}init(e){if(this.settings=e,this.currentSelection=[],e.selectable&&!1!==e.selectable.enabled){const t=this.getIterator();let i=t.next();for(;!i.done;){if(i.value&&"data"===i.value.type){const t={dataItem:i.value.data,index:i.value.index};e.columns.forEach(i=>{const n=e.cellSelected(t,i,i.leafIndex);n.selected&&this.currentSelection.push(n.item)})}i=t.next()}}}isCellSelected(e,t){if(this.settings&&this.active){const i=this.settings.cellSelected({dataItem:e.data,index:e.index},t,t.leafIndex);return this.options.enabled&&i.selected}return!1}handleClick(e,t){if(this.dragging)return void(this.dragging=!1);let i;const n=t.ctrlKey||t.metaKey;if("single"===this.options.mode&&n&&this.isCellSelected(e,e.column))i=this.toggle(e);else if("multiple"===this.options.mode)if(n&&!t.shiftKey)i=this.toggle(e);else if(t.shiftKey){const t=Math.min(this.lastSelectionItemRowIndex,e.index),n=Math.min(this.lastSelectionItemColIndex,e.column.leafIndex),s=Math.max(this.lastSelectionItemRowIndex,e.index),r=Math.max(this.lastSelectionItemColIndex,e.column.leafIndex);i=this.selectRange(t,n,s,r)}lq(i)||(i=this.select(e),this.currentSelection=[this.lastSelectionItem]),(i.selectedCells.length||i.deselectedCells.length)&&(i.ctrlKey=n,i.shiftKey=t.shiftKey,this.changes.emit(i))}toggle(e){let t=[],i=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)?i.push(this.lastSelectionItem):t.push(this.lastSelectionItem),{deselectedCells:i,selectedCells:t}}select(e){const t=[],i=[];return this.lastSelectionItem=this.settings.cellSelected({dataItem:e.data,index:e.index},e.column,e.column.leafIndex).item,this.lastSelectionItemRowIndex=e.index,this.lastSelectionItemColIndex=e.column.leafIndex,this.isCellSelected(e,e.column)||t.push(this.lastSelectionItem),this.currentSelection.forEach(e=>{e.itemKey===this.lastSelectionItem.itemKey&&e.columnKey===this.lastSelectionItem.columnKey||i.push(e)}),{deselectedCells:i,selectedCells:t}}deselect(e){const t=this.getIterator();let i,n=t.next();for(;!n.done;){if(n.value&&"data"===n.value.type&&n.value.data===e){i={dataItem:n.value.data,index:n.value.index};break}n=t.next()}if(i){const e=this.currentSelection.filter(e=>{const t=this.settings.cellSelected(i,null,null).item;return e.itemKey===t.itemKey});e.length&&this.changes.emit({ctrlKey:!1,deselectedCells:e,selectedCells:[]})}}selectRange(e,t,i,n){const s=[],r=[],o=Math.min(e,i),a=Math.min(t,n),l=Math.max(e,i),c=Math.max(t,n),h=this.getIterator();let u=h.next();for(;!u.done;){if(u.value&&"data"===u.value.type){const e=u.value.index,t={dataItem:u.value.data,index:e};this.settings.columns.forEach(i=>{const{item:n}=this.settings.cellSelected(t,i,i.leafIndex),h=this.isCellSelected(u.value,i),d=o<=e&&e<=l&&a<=i.leafIndex&&i.leafIndex<=c;!d&&h&&r.push(n),d&&!h&&s.push(n)})}u=h.next()}return{deselectedCells:r,selectedCells:s}}get options(){const e={checkboxOnly:!1,enabled:!0,mode:"multiple"};return lq(this.settings)?"boolean"==typeof this.settings.selectable?{checkboxOnly:!1,enabled:this.settings.selectable,mode:"multiple"}:Object.assign(e,this.settings.selectable):e}ngOnDestroy(){this.removeSubscriptions()}addSubscriptions(){this.cellClickSubscription||(this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.options.enabled&&!this.options.checkboxOnly&&"contextmenu"!==e.type&&this.active&&this.handleClick({index:e.rowIndex,data:e.dataItem,column:e.column},e.originalEvent)})),this.mousedownSubscription||(this.mousedownSubscription=this.domEvents.cellMousedown.subscribe(e=>{this.mouseDownEventArgs=e,!this.options.enabled||this.options.mode&&"multiple"!==this.options.mode||this.options.checkboxOnly||!e.originalEvent.shiftKey||this.active&&(e.originalEvent.preventDefault(),this.navigationService.focusCellByElement(e.originalEvent.target))})),this.localDataChangesService&&!this.dataChangedSubscription&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(e=>{this.active&&lq(e.action)&&"remove"===e.action&&this.deselect(e.item)}))}getIterator(){const e=this.settings.view.accessor();if(e)return e[xq]()}removeSubscriptions(){this.cellClickSubscription&&(this.cellClickSubscription.unsubscribe(),this.cellClickSubscription=null),this.mousedownSubscription&&(this.mousedownSubscription.unsubscribe(),this.mousedownSubscription=null),this.dataChangedSubscription&&(this.dataChangedSubscription.unsubscribe(),this.dataChangedSubscription=null)}};return e.\u0275fac=function(t){return new(t||e)(We(Tq),We(Fq),We(yG))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const xG={topLeft:{x:2,y:2},topRight:{x:-2,y:2},bottomLeft:{x:2,y:-2},bottomRight:{x:-2,y:-2}};let SG=(()=>{let e=class{constructor(e,t,i,n){this.draggable=e,this.selection=t,this.cellSelection=i,this.domEvents=n,this.selectionStarted=!1}get userSelection(){return this.cellSelection.enableMarquee||this.selection.enableMarquee?"none":null}ngOnInit(){this.subscriptions=this.draggable.kendoPress.subscribe(this.start.bind(this)),this.subscriptions.add(this.draggable.kendoDrag.subscribe(this.moveMarquee.bind(this)))}ngOnDestroy(){this.subscriptions.unsubscribe(),this.clean()}start(e){e.originalEvent.target.classList.contains("k-checkbox")?this.pressArgs=null:(this.pressArgs=e,this.pressTarget=null)}moveMarquee(e){this.pressTarget||(this.pressTarget=this.cellSelection.active?this.cellSelection.mouseDownEventArgs:this.selection.mouseDownEventArgs);const t=this.pressArgs;if(!t)return;if(!this.selectionStarted){if(!(Math.sqrt(Math.pow(e.pageX-t.pageX,2)+Math.pow(e.pageY-t.pageY,2))>5))return;this.selectionStarted=!0,this.dragEndSubscription=K(this.domEvents.cellMouseup.pipe(mg(1)),this.draggable.kendoRelease.pipe(Vy(1),mg(1))).subscribe(this.endSelection.bind(this))}this.initMarquee();const i=this.marqueeElement,n=this.getMarqueeQuadrant(e.pageX,e.pageY,t.pageX,t.pageY);let s=Math.min(e.pageX,t.pageX),r=Math.min(e.pageY,t.pageY);const o=Math.abs(e.pageX-t.pageX),a=Math.abs(e.pageY-t.pageY);n&&(s+=xG[n].x,r+=xG[n].y),i.style.left=s+"px",i.style.top=r+"px",i.style.width=o+"px",i.style.height=a+"px"}endSelection(e){"mouseup"!==e.type&&"touchend"!==e.type||(this.cellSelection.active?(this.cellSelection.dragging=!0,this.cellSelection.changes.emit(this.cellSelection.selectRange(this.pressTarget.rowIndex,this.pressTarget.column.leafIndex,e.rowIndex,e.column.leafIndex))):this.selection.active&&(this.selection.dragging=!0,this.selection.changes.emit(this.selection.selectRange(this.pressTarget.rowIndex,e.rowIndex)))),this.clean()}clean(){this.marqueeElement&&(document.body.removeChild(this.marqueeElement),this.marqueeElement=null),this.dragEndSubscription&&this.dragEndSubscription.unsubscribe(),this.dragEndSubscription=null,this.pressTarget=null,this.pressArgs=null,this.selectionStarted=!1,this.cellSelection.active?this.cellSelection.dragging=!1:this.selection.dragging=!1}initMarquee(){this.marqueeElement||(this.marqueeElement=(()=>{const e=document.createElement("div");e.className="k-marquee";const t=document.createElement("div");return t.className="k-marquee-color",e.appendChild(t),e})(),document.body.appendChild(this.marqueeElement))}getMarqueeQuadrant(e,t,i,n){const s=e<i,r=e>i,o=t<n,a=t>n;return s&&o?"topLeft":s&&a?"bottomLeft":r&&o?"topRight":r&&a?"bottomRight":null}};return e.\u0275fac=function(t){return new(t||e)(Fo(ty),Fo(wG),Fo(CG),Fo(Tq))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridSelectionMarquee",""]],hostVars:4,hostBindings:function(e,t){2&e&&ra("user-select",t.userSelection)("-webkit-user-select",t.userSelection)}}),e})();class kG extends nc{constructor(e,t=!1){super(t),this.ngZone=e}subscribe(e,t,i){let n,s=e=>null,r=()=>null;return e&&"object"==typeof e?(n=t=>{this.ngZone.run(()=>e.next(t))},e.error&&(s=t=>{this.ngZone.run(()=>e.error(t))}),e.complete&&(r=()=>{this.ngZone.run(()=>e.complete())})):(n=t=>{this.ngZone.run(()=>e(t))},t&&(s=e=>{this.ngZone.run(()=>t(e))}),i&&(r=()=>{this.ngZone.run(()=>i())})),super.subscribe(n,s,r)}}const _G={name:"@progress/kendo-angular-grid",productName:"Kendo UI for Angular",productCodes:["KENDOUIANGULAR","KENDOUICOMPLETE"],publishDate:1608136059,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning"};let EG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridCellTemplate",""]]}),e})(),IG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridGroupHeaderTemplate",""]]}),e})(),TG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridGroupHeaderColumnTemplate",""]]}),e})(),FG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridEditTemplate",""]]}),e})(),DG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridGroupFooterTemplate",""]]}),e})(),AG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridHeaderTemplate",""]]}),e})(),OG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridFooterTemplate",""]]}),e})(),RG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridColumnMenuTemplate",""]]}),e})();const PG=e=>e.isSpanColumn,MG=e=>e.isCheckboxColumn;let NG=(()=>{class e{constructor(e){if(this.parent=e,this.matchesMedia=!0,this.orderIndex=0,this.isColumnGroup=!1,this.isSpanColumn=!1,this.resizable=!0,this.reorderable=!0,this.minResizableWidth=10,this.locked=!1,this.lockable=!0,this.columnMenu=!0,this.includeInChooser=!0,this.headerTemplates=new rc,this.columnMenuTemplates=new rc,e&&!(t=e).isColumnGroup&&!PG(t))throw new Error("Columns can be nested only inside ColumnGroupComponent");var t}set width(e){this._width=parseInt(e,10)}get width(){return this._width}get level(){return this.parent&&PG(this.parent)?this.parent.level:this.parent?this.parent.level+1:0}get isLocked(){return this.parent?this.parent.isLocked:this.locked}get colspan(){return 1}rowspan(e){return this.level<e?e-this.level+1:1}get headerTemplateRef(){const e=this.headerTemplates.first;return e?e.templateRef:void 0}get footerTemplateRef(){return this.footerTemplate?this.footerTemplate.templateRef:void 0}get columnMenuTemplateRef(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get displayTitle(){return this.title}get isVisible(){return!this.hidden&&this.matchesMedia}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,contentQueries:function(e,t,i){var n;1&e&&(bc(i,OG,!0),bc(i,AG,!1),bc(i,RG,!1)),2&e&&(fc(n=Cc())&&(t.footerTemplate=n.first),fc(n=Cc())&&(t.headerTemplates=n),fc(n=Cc())&&(t.columnMenuTemplates=n))},inputs:{resizable:"resizable",reorderable:"reorderable",minResizableWidth:"minResizableWidth",locked:"locked",lockable:"lockable",columnMenu:"columnMenu",includeInChooser:"includeInChooser",width:"width",title:"title",autoSize:"autoSize",hidden:"hidden",media:"media",style:"style",headerStyle:"headerStyle",footerStyle:"footerStyle",cssClass:["class","cssClass"],headerClass:"headerClass",footerClass:"footerClass"}}),e})(),LG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridFilterCellTemplate",""]]}),e})(),VG=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridFilterMenuTemplate",""]]}),e})();var HG;function BG(e){return lq(e.field)}let zG=(()=>{let e=HG=class extends NG{constructor(e){super(e),this.sortable=!0,this.groupable=!0,this.editor="text",this.filter="text",this.filterable=!0,this.editable=!0}get templateRef(){return this.template?this.template.templateRef:void 0}get groupHeaderTemplateRef(){return this.groupHeaderTemplate?this.groupHeaderTemplate.templateRef:void 0}get groupHeaderColumnTemplateRef(){return this.groupHeaderColumnTemplate?this.groupHeaderColumnTemplate.templateRef:void 0}get groupFooterTemplateRef(){return this.groupFooterTemplate?this.groupFooterTemplate.templateRef:void 0}get editTemplateRef(){return this.editTemplate?this.editTemplate.templateRef:void 0}get filterCellTemplateRef(){return this.filterCellTemplate?this.filterCellTemplate.templateRef:void 0}get filterMenuTemplateRef(){return this.filterMenuTemplate?this.filterMenuTemplate.templateRef:void 0}get displayTitle(){return void 0===this.title?this.field:this.title}};return e.\u0275fac=function(t){return new(t||e)(Fo(NG,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column"]],contentQueries:function(e,t,i){var n;1&e&&(bc(i,EG,!0),bc(i,IG,!0),bc(i,TG,!0),bc(i,DG,!0),bc(i,FG,!0),bc(i,LG,!0),bc(i,VG,!0)),2&e&&(fc(n=Cc())&&(t.template=n.first),fc(n=Cc())&&(t.groupHeaderTemplate=n.first),fc(n=Cc())&&(t.groupHeaderColumnTemplate=n.first),fc(n=Cc())&&(t.groupFooterTemplate=n.first),fc(n=Cc())&&(t.editTemplate=n.first),fc(n=Cc())&&(t.filterCellTemplate=n.first),fc(n=Cc())&&(t.filterMenuTemplate=n.first))},inputs:{sortable:"sortable",groupable:"groupable",editor:"editor",filter:"filter",filterable:"filterable",editable:"editable",field:"field",format:"format"},features:[ja([{provide:NG,useExisting:Se(()=>HG)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var jG;function UG(e){return e.isSpanColumn}let $G=(()=>{let e=jG=class extends NG{constructor(e){if(super(e),this.isSpanColumn=!0,this.template=new rc,this.editTemplate=new rc,this.childColumns=new rc,this.includeInChooser=!1,this._editable=!0,this._locked=!1,e&&e.isSpanColumn)throw new Error("SpanColumn cannot be nested inside another SpanColumn")}set editable(e){this._editable=e}get editable(){return lq(this.editTemplateRef)&&this._editable}set width(e){}get width(){return this.childColumns.reduce((e,t)=>e+t.width,0)}get leafIndex(){return this.childColumns.first.leafIndex}get templateRef(){const e=this.template.first;return e?e.templateRef:void 0}get editTemplateRef(){const e=this.editTemplate.first;return e?e.templateRef:void 0}get colspan(){return this.childColumns.filter(e=>e.isVisible).length}set locked(e){this._locked=e}get locked(){return this._locked||this.childColumns.some(e=>e.locked)}get childrenArray(){return this.childColumns.toArray()}get hasChildren(){return this.childColumns.length>0}};return e.\u0275fac=function(t){return new(t||e)(Fo(NG,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-span-column"]],contentQueries:function(e,t,i){var n;1&e&&(bc(i,EG,!1),bc(i,FG,!1),bc(i,zG,!1)),2&e&&(fc(n=Cc())&&(t.template=n),fc(n=Cc())&&(t.editTemplate=n),fc(n=Cc())&&(t.childColumns=n))},inputs:{editable:"editable",locked:"locked"},features:[ja([{provide:NG,useExisting:Se(()=>jG)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const qG=e=>e.reduce((e,t)=>e.concat(UG(t)?t.childrenArray:[t]),[]),GG=e=>e.reduce((e,t)=>e.concat(UG(t)?[t].concat(t.childrenArray):[t]),[]),KG=e=>qG(e).filter(e=>e.isVisible),WG=e=>t=>(t||[]).reduce((t,i)=>t+(i[e]||0),0),ZG=WG("width"),YG=WG("colspan"),QG=new RegExp("^[$A-Z_a-z][$A-Z_a-z0-9\\.]*$"),JG=e=>e.reduce((e,t)=>(t.isColumnGroup?e=e.concat(JG((e=>e.children.filter(t=>t!==e))(t))):t.isSpanColumn?e=e.concat(t.childrenArray):e.push(t),e),[]).filter(e=>e.isVisible),XG=(e,...t)=>JG(t).some(e),eK=e=>Gx(e,[{field:"orderIndex",dir:"asc"}]),tK=e=>uq(e.parent)&&UG(e.parent);var iK;function nK(e){return e.isColumnGroup}let sK=(()=>{let e=iK=class extends NG{constructor(e){if(super(e),this.parent=e,this.includeInChooser=!1,this.isColumnGroup=!0,this.minResizableWidth=10,e&&e.isSpanColumn)throw new Error("ColumnGroupComponent cannot be nested inside SpanColumnComponent")}rowspan(){return 1}get colspan(){return this.children&&1!==this.children.length?YG(this.children.filter(e=>e!==this&&e.isVisible)):1}get leafIndex(){return this.children?(this.firstChild||{}).leafIndex:-1}get childrenArray(){return this.children.filter(e=>e!==this)}get hasChildren(){return Boolean(this.firstChild)}get firstChild(){return this.children.find(e=>e!==this)}};return e.\u0275fac=function(t){return new(t||e)(Fo(NG,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-group"]],contentQueries:function(e,t,i){var n;1&e&&bc(i,NG,!1),2&e&&fc(n=Cc())&&(t.children=n)},features:[ja([{provide:NG,useExisting:Se(()=>iK)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),rK=(()=>{let e=class{constructor(e){this.templateRef=e,this._condition=()=>!0}set showIf(e){if("function"!=typeof e)throw new Error(`showIf must be a function, but received ${JSON.stringify(e)}.`);this._condition=e}get showIf(){return this._condition}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridDetailTemplate",""]],inputs:{showIf:["kendoGridDetailTemplateShowIf","showIf"]}}),e})();const oK=()=>Yb()&&document.createElement;let aK,lK=null,cK=null,hK=(()=>{let e=class{constructor(e,t){this.zone=e,this.changeDetector=t,this.changes=new nc,"undefined"!=typeof window&&this.zone.runOutsideAngular(()=>{this.subscriptions=Zb(window,"resize").pipe(Wb(100)).subscribe(()=>{aK!==window.devicePixelRatio&&e.run(()=>{lK=null,this.changes.emit(),this.changeDetector.markForCheck()})})})}ngOnDestroy(){this.subscriptions&&(this.subscriptions.unsubscribe(),this.subscriptions=null)}get scrollbarWidth(){return function(){if(null===lK&&oK()){aK=window.devicePixelRatio||1;const e=document.createElement("div");e.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),lK=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)}return lK}()}get rtlScrollLeft(){return function(){if(null===cK&&oK()){const e=document.createElement("div");e.style.cssText="overflow:scroll;zoom:1;clear:both;display:block;width:100px;visibility:hidden;position:absolute;left:-10000px;direction:rtl;",e.innerHTML="<div style='width:200px;height:1px;'</div>",document.body.appendChild(e);const t=e.scrollLeft;e.scrollLeft=-1,cK=e.scrollLeft<0?e.scrollLeft:t,document.body.removeChild(e)}return cK}()}};return e.\u0275fac=function(t){return new(t||e)(We(Wc),We($r))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const uK=e=>void 0!==e.items&&void 0!==e.field,dK=e=>e.reduce((e,t)=>uK(t)?e.concat(dK(t.items)):e.concat([t]),[]),pK=(e,{footers:t,level:i,dataIndex:n,parentGroupIndex:s,groupIndex:r})=>{const o=e[0];return lq(o)&&uK(o)?(void 0!==(a=o).offset&&void 0!==a.skipHeader&&(r=lq(o.offset)?o.offset:r),new vK(e,t,i,n,s,r)):new mK(e,n,s);var a};class fK{constructor(e,t=0){this.arr=e,this.idx=t,this.arr=e||[]}[xq](){return this}next(){return this.idx<this.arr.length?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:void 0}}}class gK{constructor(e,t=0,i=(e=>e)){this.dataIndex=t,this.resultMap=i,this._innerIterator=e[xq]?e[xq]():new fK(e)}[xq](){return this}next(){return this.resultMap(this._innerIterator.next(),this.dataIndex++)}}class mK extends gK{constructor(e,t,i){super(e,t,(e,t)=>({done:e.done,value:{data:e.value,groupIndex:i,index:t,type:"data"}}))}get index(){return this.dataIndex}}class vK{constructor(e,t=!1,i=0,n=0,s="",r=0){this.arr=e,this.outputFooters=t,this.level=i,this.dataIndex=n,this.parentIndex=s,this.groupIndex=r,this.currentGroupIndex="",this.arr=e||[],this._iterator=new gK(this.arr,this.dataIndex)}[xq](){return this}nextGroupItem(){return this.current=this._iterator.next().value,this._innerIterator=null,this.current?(this.currentGroupIndex=`${(e=this.parentIndex)?e+"_":e}${this.groupIndex++}`,{done:!1,value:{data:this.current,index:this.currentGroupIndex,level:this.level,type:"group"}}):(this.current=null,{done:!0,value:void 0});var e}footerItem(){if(this.current){const e=this.current;return this.current=null,{done:!1,value:{data:e,groupIndex:this.currentGroupIndex,level:this.level,type:"footer"}}}return this.current=null,{done:!0,value:void 0}}innerIterator(e){return this._innerIterator||(this._innerIterator=pK(e.items,{dataIndex:this.dataIndex,footers:this.outputFooters,level:this.level+1,parentGroupIndex:this.currentGroupIndex})),this._innerIterator}nextDataItem(e){const t=this.innerIterator(e).next();return lq(t.value)&&!t.done&&"data"===t.value.type&&(this.dataIndex=t.value.index+1),t.done?void 0:t}next(){return lq(this.current)?this.nextDataItem(this.current)||(this.outputFooters?this.footerItem():this.nextGroupItem()):this.nextGroupItem()}get index(){return this.dataIndex+1}}class bK{constructor(e,t=0,i=!1){this.source=e,this.skip=t,this.groupFooters=i,this.source=this.source?this.source:[],this.isObject=this.isGridDataResult(this.source)}isGridDataResult(e){return void 0!==e.total&&void 0!==e.data}get total(){return this.isObject?this.source.total:this.source.length}get data(){return this.isObject?this.source.data:this.source}map(e){return this.data.map(e)}filter(e){return this.data.filter(e)}reduce(e,t){return this.data.reduce(e,t)}forEach(e){this.data.forEach(e)}some(e){return this.data.some(e)}[xq](){return pK(this.data,{dataIndex:this.skip,footers:this.groupFooters,groupIndex:this.skip})}toString(){return this.data.toString()}}class yK{constructor(e){this.accessor=e}get total(){return this.accessor().total}get length(){return this.accessor().data.length}get first(){return this.accessor().data[0]}get last(){return this.accessor().data[this.length-1]}at(e){return((e,t)=>{const i=e[0];return lq(i)&&uK(i)?dK(e)[t]:e[t]})(this.accessor().data,e)}map(e){return this.accessor().map(e)}filter(e){return this.accessor().filter(e)}reduce(e,t){return this.accessor().reduce(e,t)}forEach(e){this.accessor().forEach(e)}some(e){return this.accessor().some(e)}[xq](){return this.accessor()[xq]()}toString(){return this.accessor().toString()}}let wK=(()=>{class e{constructor(e,t){this.grid=e,this.cd=t,this.selectedKeys=[],this.selectedKeysChange=new nc,this.init()}init(){lq(this.grid.rowSelected)||(this.grid.rowSelected=e=>this.selectedKeys.indexOf(this.getItemKey(e))>=0),lq(this.grid.cellSelected)||(this.grid.cellSelected=(e,t,i)=>{const n=this.getSelectionItem(e,t,i);return{selected:this.selectedKeys.some(e=>e.columnKey===n.columnKey&&e.itemKey===n.itemKey),item:n}}),this.selectionChangeSubscription=this.grid.selectionChange.subscribe(this.onSelectionChange.bind(this))}destroy(){this.selectionChangeSubscription.unsubscribe()}reset(){this.selectedKeys=[]}getItemKey(e){if(this.selectionKey){if("string"==typeof this.selectionKey)return e.dataItem[this.selectionKey];if("function"==typeof this.selectionKey)return this.selectionKey(e)}return e.index}getSelectionItem(e,t,i){const n={};return n.itemKey=this.getItemKey(e),lq(t)||lq(i)?(this.columnKey&&("string"==typeof this.columnKey&&(n.columnKey=e.dataItem[this.columnKey]),"function"==typeof this.columnKey&&(n.columnKey=this.columnKey(t,i))),{itemKey:n.itemKey,columnKey:n.columnKey?n.columnKey:i}):n}onSelectionChange(e){e.selectedRows?(e.deselectedRows.forEach(e=>{const t=this.getItemKey(e),i=this.selectedKeys.indexOf(t);i>=0&&this.selectedKeys.splice(i,1)}),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedRows.forEach(e=>{const t=this.getItemKey(e);this.selectedKeys.indexOf(t)<0&&this.selectedKeys.push(t)})):(e.deselectedCells.forEach(e=>{const t=this.getCellSelectionItemIndex(e);t>=0&&this.selectedKeys.splice(t,1)}),"single"===this.grid.selectableSettings.mode&&this.selectedKeys.length>0&&this.reset(),e.selectedCells.forEach(e=>{this.getCellSelectionItemIndex(e)<0&&this.selectedKeys.push(e)})),this.cd.markForCheck(),this.selectedKeysChange.emit(this.selectedKeys)}getCellSelectionItemIndex(e){return this.selectedKeys.findIndex(t=>t.itemKey===e.itemKey&&t.columnKey===e.columnKey)}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,inputs:{selectedKeys:"selectedKeys",selectionKey:["kendoGridSelectBy","selectionKey"],columnKey:"columnKey"},outputs:{selectedKeysChange:"selectedKeysChange"}}),e})();class CK{constructor(e){this.columns=e,this.allColumns=new rc,this.leafColumns=new rc,this.lockedColumns=new rc,this.nonLockedColumns=new rc,this.lockedLeafColumns=new rc,this.nonLockedLeafColumns=new rc,this.totalLevels=0,this.changes=new nc,this.leafColumnsToRender=[],this.lockedColumnsToRender=[],this.nonLockedColumnsToRender=[],this.hasGroupHeaderColumn=!1,this.hasGroupFooter=!1,this.hasFooter=!1,this.unlockedWidth=0}refresh(){const e=this.totalLevels,t=new Array,i=new Array,n=new Array,s=new Array,r=new Array,o=new Array,a=new Array,l=new Array,c=new Array;let h=!1,u=!1,d=!1,p=0,f=0;this.totalLevels=0,this.columns().forEach(e=>{const g=!0===e.isLocked?i:n,m=!0===e.isLocked?s:r,v=!0===e.isLocked?l:c;nK(e)||(g.push(e),t.push(e),a.push.apply(a,KG([e])),v.push.apply(v,KG([e])),h=h||XG(e=>Boolean(e.groupHeaderColumnTemplateRef),e),u=u||XG(e=>Boolean(e.groupFooterTemplateRef),e),d=d||XG(e=>Boolean(e.footerTemplateRef),e),e.isLocked||(p+=e.width||0),e.isSpanColumn?e.childColumns.forEach(e=>{e.leafIndex=f++}):e.leafIndex=f++),m.push(e),o.push(e),this.totalLevels=e.level>this.totalLevels?e.level:this.totalLevels}),this.hasGroupHeaderColumn=h,this.hasGroupFooter=u,this.hasFooter=d,this.leafColumnsToRender=a,this.lockedColumnsToRender=l,this.nonLockedColumnsToRender=c,this.unlockedWidth=p;const g=((...e)=>{let t=!1;for(let i=0;i<e.length;i++){const[n,s]=e[i];t=t||n.length!==s.length,n.reset(s)}return t})([this.leafColumns,t],[this.lockedLeafColumns,i],[this.nonLockedLeafColumns,n],[this.lockedColumns,s],[this.allColumns,o],[this.nonLockedColumns,r])||e!==this.totalLevels;return g&&this.changes.emit(),g}}const xK=(e,t)=>{e.forEach(e=>{t(e),e.isColumnGroup&&e.hasChildren&&xK(e.childrenArray,t)})},SK=(e,t)=>{eK(e).forEach(e=>{t(e),e.isColumnGroup&&e.hasChildren&&SK(e.childrenArray,t)})},kK=(e,t)=>{const i=[];return eK(e).forEach(e=>{if(t(e))if(e.isColumnGroup){const n=kK(e.childrenArray,t);n.length&&i.push(e,...n)}else e.isSpanColumn&&!kK(e.childrenArray,t).length||i.push(e)}),i};class _K{constructor(e){this.columns=e}static empty(){return new _K(new rc)}forEach(e){xK(this.columns,e)}filter(e){const t=[];return xK(this.columns,i=>{e(i)&&t.push(i)}),t}filterHierarchy(e){return kK(this.columns.toArray(),e)}filterSort(e){const t=[];return SK(this.columns.toArray(),i=>{e(i)&&t.push(i)}),t}toArray(){const e=[];return xK(this.columns,t=>{e.push(t)}),e}rootColumns(){return this.columns.toArray()}}let EK=(()=>{class e{constructor(){this._columnList=_K.empty}get columns(){return qG(this._columnList().toArray()).filter(BG)}registerColumnsContainer(e){this._columnList=e}formatForGroup(e){const t=this.columnForGroup(e);return t?t.format:""}isGroupable(e){const[t]=this.columns.filter(t=>t.field===e);return!t||t.groupable}groupTitle(e){const t=this.columnForGroup(e);return t?t.title||t.field:this.groupField(e)}groupHeaderTemplate(e){const t=this.columnForGroup(e);return t?t.groupHeaderTemplateRef||t.groupHeaderColumnTemplateRef:void 0}groupField(e){return e.data?e.data.field:e.field}columnForGroup(e){const t=this.groupField(e),[i]=this.columns.filter(e=>e.field===t);return i}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),IK=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new nc}notify(){this.subscription&&!this.subscription.closed||(this.subscription=this.ngZone.onStable.asObservable().pipe(mg(1)).subscribe(()=>this.changes.emit()))}};return e.\u0275fac=function(t){return new(t||e)(We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),TK=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridNoRecordsTemplate",""]]}),e})();const FK=e=>t=>t.forEach(t=>t.style.height=e),DK=(e,t)=>{const i=document.activeElement,n=((e,t)=>{const i=[];for(let n=0,s=e.length;n<s&&t[n];n++)i.push([e[n],t[n]]);return i})(e.rows,t.rows);n.filter(([e,t])=>e.style.height||t.style.height).forEach(FK(""));const s=(e=>e.map(([e,t])=>{const i=e.offsetHeight,n=t.offsetHeight;return i<n?n:i}))(n);[e,t].forEach(e=>e.style.display="none"),n.forEach((e=>(t,i)=>FK(e[i]+1+"px")(t))(s)),[e,t].forEach(e=>e.style.display=""),document.activeElement!==i&&(e.contains(i)||t.contains(i))&&i.focus()};let AK=(()=>{class e{constructor(){this.changes=new _}filter(e){this.changes.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),OK=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoPagerTemplate",""]]}),e})(),RK=(()=>{let e=class{constructor(){this.savePDF=new nc,this.drawPDF=new nc,this.exportClick=new nc,this.dataChanged=new nc}save(e){this.emitEvent(this.savePDF,e)}draw(e,t){this.emitEvent(this.drawPDF,{component:e,promise:t})}emitEvent(e,t){if(0===e.observers.length){if(Sn())throw new Error("Creating PDF requires including the PDFModule and adding the <kendo-grid-pdf> component.")}else e.emit(t)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class PK extends Xq{}let MK=(()=>{let e=class{constructor(){this.scroll=!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const NK=e=>window.matchMedia(e).matches;let LK=(()=>{let e=class{constructor(){this.matchMedia=NK}matchesMedia(e){return!e||this.matchMedia((e=>({xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]||e))(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),VK=(()=>{let e=class{constructor(){this.saveToExcel=new nc,this.exportClick=new nc}save(e){if(0===this.saveToExcel.observers.length){if(Sn())throw new Error("Saving excel requires including the ExcelModule and adding the <kendo-grid-excel> component.")}else this.saveToExcel.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),HK=(()=>{let e=class{constructor(e){this.templateRef=e,this._position="top"}set position(e){this._position=e}get position(){return this._position}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridToolbarTemplate",""]],inputs:{position:"position"}}),e})(),BK=(()=>{let e=class{constructor(e){this.ngZone=e,this.changes=new _,this.elements=[],this.subscriptions=new u,this.headerSubscription=new u,this.bodySubscription=new u,this.subscriptions.add(this.changes.subscribe(e=>this.scrollLeft(e)))}registerEmitter(e,t){this.unregister(t),this.elements.push({element:e,sourceType:t}),"body"!==t&&"header"!==t||this.ngZone.runOutsideAngular(()=>{const i=Zb(e,"scroll").pipe(L(({target:{scrollLeft:e}})=>({scrollLeft:e,sourceType:t}))),n=i.pipe(function(e,t){return t=>t.lift(new jy(e,void 0))}((e,t)=>e.scrollLeft===t.scrollLeft),Jf(e=>!this.source||this.source===e.sourceType),Ag(e=>this.source=e.sourceType)).subscribe(e=>this.changes.next(e));n.add(i.pipe(Jf(e=>this.source&&this.source!==e.sourceType)).subscribe(()=>this.source=void 0)),"body"===t?this.bodySubscription.add(n):this.headerSubscription.add(n)})}destroy(){this.subscriptions.unsubscribe(),this.headerSubscription.unsubscribe(),this.bodySubscription.unsubscribe()}scrollLeft({scrollLeft:e,sourceType:t}){this.ngZone.runOutsideAngular(()=>{this.elements.filter(e=>t!==e.sourceType).forEach(({element:t})=>t.scrollLeft=e)})}unregister(e){const t=this.elements.findIndex(t=>t.sourceType===e);t>-1&&("header"===e?(this.headerSubscription.unsubscribe(),this.headerSubscription=new u):"body"===e&&(this.bodySubscription.unsubscribe(),this.bodySubscription=new u),this.elements.splice(t,1))}};return e.\u0275fac=function(t){return new(t||e)(We(Wc))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),zK=(()=>{let e=class{constructor(){this.resizeSubscription=new u(()=>{}),this.dispatcher=new _,this.changes=this.dispatcher.asObservable().pipe(function(e,t=Ub,i=$y){return n=>n.lift(new qy(e,t,i.leading,i.trailing))}(100))}connect(e){this.resizeSubscription.add(e.subscribe(this.dispatcher))}destroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const jK=e=>e.parent?jK(e.parent):!!e.locked,UK=(e,t)=>Object.assign({columns:JG([e]),locked:jK(e)},t);let $K=(()=>{let e=class{constructor(){this.changes=new nc,this.tables=[],this.batch=null}start(e){this.trackColumns(e);const t=(this.column.isColumnGroup?[e]:[]).concat(JG([e]));this.changes.emit({columns:t,locked:jK(this.column),type:"start"})}resizeColumns(e){const t=UK(this.column,{deltaPercent:e,type:"resizeColumn"});this.changes.emit(t)}resizeTable(e,t){const i=UK(e,{delta:t,type:"resizeTable"});this.changes.emit(i)}resizedColumn(e){this.resizedColumns.push(e)}end(){this.changes.emit({columns:[],resizedColumns:this.resizedColumns,type:"end"})}registerTable(e){return this.tables.push(e),()=>{this.tables.splice(this.tables.indexOf(e),1)}}measureColumns(e){null!==this.batch?this.batch.push(...e):this.autoFitBatch(e,()=>this.end())}autoFit(...e){const t=e.filter(e=>!e.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>{if(t.length<e.length){const t=e.filter(e=>e.isLocked);this.autoFitStart(t),this.autoFitBatch(this.batch,()=>this.end())}else this.end()})}trackColumns(e){this.resizedColumns=[],this.column=e}autoFitStart(e){if(this.batch=[],this.resizedColumns=[],0===e.length)return;const t=e[0].isLocked;this.changes.emit({type:"start",columns:e,locked:t}),this.changes.emit({type:"triggerAutoFit",columns:e,locked:t})}autoFitBatch(e,t){const i=e.length>0&&e[0].column.isLocked;(function(...e){const t=e[e.length-1];return"function"==typeof t&&e.pop(),G(e,void 0).lift(new by(t))})(...this.tables.filter(e=>e.locked===i).map(t=>t.autoFit(e))).pipe(mg(1)).subscribe(n=>{this.changes.emit({columns:e.map(e=>e.column),type:"autoFitComplete",widths:n,locked:i}),t&&t()}),this.batch=null}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const qK=e=>!0===e||"string"==typeof e&&e.indexOf("row")>-1;class GK extends Xq{constructor(e){super(),this.originalEvent=e}}let KK=(()=>{let e=class{constructor(e,t,i,n,s){this.popupService=e,this.renderer=t,this.ngZone=i,this.localization=s,this.onClose=new _,this.scrollSubscription=n.changes.subscribe(()=>this.destroy())}open(e,t,i,n="k-grid-filter-popup"){const s=lq(i)&&this.popupRef===i;if(this.destroy(),!s){const i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchorAlign:{vertical:"bottom",horizontal:i},popupAlign:{vertical:"top",horizontal:i},anchor:e,popupClass:n,content:t,positionMode:"absolute"}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.attachClose(e)}return this.popupRef}destroy(){this.popupRef&&(this.detachClose(),this.popupRef.close(),this.popupRef=null)}ngOnDestroy(){this.destroy(),this.scrollSubscription.unsubscribe()}detachClose(){this.removeClick&&this.removeClick()}attachClose(e){this.detachClose(),this.ngZone.runOutsideAngular(()=>this.removeClick=this.renderer.listen("document","click",t=>{if(!((e,t)=>{for(;e;){if(t(e))return!0;e=e.parentNode}return!1})(t.target,t=>this.popupRef.popupElement===t||t===e)){const e=new GK(t);this.onClose.next(e),e.isDefaultPrevented()||this.destroy()}}))}};return e.\u0275fac=function(t){return new(t||e)(We(OS),We(Ya),We(Wc),We(BK),We(Fy))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const WK=e=>{let t=!1;return()=>(t||(document.body.appendChild(e),t=!0),e)},ZK=e=>{const{clientTop:t,clientLeft:i}=(e=>e.ownerDocument.documentElement)(e),{pageYOffset:n,pageXOffset:s}=(e=>e.ownerDocument.defaultView)(e),{top:r,left:o}=e.getBoundingClientRect();return{top:r+n-t,left:o+s-i}},YK=(e,t)=>0!=(4&t.compareDocumentPosition(e)),QK=(e,t)=>e===t||0!=(16&t.compareDocumentPosition(e)),JK=(e,t)=>{const i=ZK(e),{offsetWidth:n,offsetHeight:s}=e;return{left:i.left+(t?0:n),top:i.top,height:s}};let XK=(()=>{let e=class{constructor(){this.changes=new nc,this.register=[],this.lastTarget=null}add(e){this.register.push(e)}remove(e){this.register=this.register.filter(t=>t!==e)}notifyDrag(e,t,i){const n=this.targetFor(t);this.lastTarget!==n&&(this.changes.next({draggable:e,mouseEvent:i,target:this.lastTarget,type:"leave"}),n&&this.changes.next({draggable:e,mouseEvent:i,target:n,type:"enter"}),this.lastTarget=n)}notifyDrop(e,t){this.changes.next({draggable:e,mouseEvent:t,target:this.lastTarget,type:"drop"}),this.lastTarget=null}targetFor(e){const t=QK.bind(null,e);return this.register.find(({element:{nativeElement:e}})=>t(e))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const eW=(e,t)=>{const i=e.querySelector(".k-icon");i.className=i.className.replace(/(plus|cancel)/,t?"plus":"cancel")},tW=(e,t=null)=>{const i=e.querySelectorAll(".k-icon")[1],n=null==t?"":t?"k-i-lock":"k-i-unlock";i.className=i.className.replace(/(k-i-unlock|k-i-lock)/,"")+" "+n};let iW=(()=>{let e=class{constructor(e){this.santizer=e}create(e,t,i){this.initCoords(e),this.dom=document.createElement("div"),((e,t)=>{const i=getComputedStyle(t);e.className="k-header k-drag-clue",e.style.position="absolute",e.style.zIndex="20000",e.style.paddingLeft=i.paddingLeft,e.style.paddingTop=i.paddingTop,e.style.paddingBottom=i.paddingBottom,e.style.paddingRight=i.paddingRight,e.style.width=i.width,e.style.height=i.height})(this.dom,t);const n=this.santizer.sanitize(Gn.HTML,i);this.dom.innerHTML=`\n            <span class="k-icon k-drag-status k-i-cancel k-icon-with-modifier">\n                <span class="k-icon k-icon-modifier"></span>\n            </span>\n            ${n}\n        `}attach(){return WK(this.dom)}remove(){var e;this.dom&&this.dom.parentNode&&(e=this.dom,setTimeout(()=>document.body.removeChild(e)),this.dom=null)}show(){this.dom.style.display=""}hide(){this.dom.style.display="none"}enable(){eW(this.dom,!0)}disable(){eW(this.dom,!1)}removeLock(){tW(this.dom)}toggleLock(e){tW(this.dom,e)}move(e){this.dom.style.top=this.initialTop+e.pageY+"px",this.dom.style.left=this.initialLeft+e.pageX+"px"}initCoords(e){const{top:t,left:i}=ZK(e.originalEvent.target);this.initialTop=t-e.pageY,this.initialLeft=i-e.pageX}};return e.\u0275fac=function(t){return new(t||e)(We(ld))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),nW=(()=>{let e=class{create(){this.dom=document.createElement("div"),this.dom.className="k-grouping-dropclue",this.hide()}attach(){return WK(this.dom)}remove(){this.dom&&this.dom.parentElement&&(document.body.removeChild(this.dom),this.dom=null)}hide(){this.dom.style.display="none"}position({left:e,top:t,height:i}){this.dom.style.display="block",this.dom.style.height=i+"px",this.dom.style.top=t+"px",this.dom.style.left=e-this.dom.offsetWidth/2+"px"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),sW=(()=>{let e=class{constructor(){this.changes=new nc}reorder(e){this.changes.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class rW extends Xq{constructor({column:e,newIndex:t,oldIndex:i}){super(),this.column=e,this.newIndex=t,this.oldIndex=i}}class oW{constructor(e,t,i,n,s,r,o,a){this.dataRows=e,this.headerRows=t,this.isVirtual=i,this.hasPager=n,this.hasDetailTemplate=s,this.gridElement=r,this.virtualColumns=o,this.columns=a}get maxLogicalRowIndex(){return this.headerRows+(this.hasDetailTemplate?2*this.dataRows:this.dataRows)-1}}let aW=0,lW=(()=>{let e=class{constructor(){this.prefix="k-grid"+aW++}cellId(e,t){return`${this.prefix}-r${e}c${t}`}selectionCheckboxId(e){return`${this.prefix}-checkbox${e}`}selectAllCheckboxId(){return this.prefix+"-select-all"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),cW=(()=>{let e=class{constructor(){this.visibilityChange=new nc,this.lockedChange=new nc,this.columnRangeChange=new nc,this.columnsContainer=new CK(()=>[])}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get isLocked(){return this.lockedLeafColumns.length>0}get totalLevels(){return this.columnsContainer.totalLevels}get leafNamedColumns(){const e=qG(this.list().filterSort(e=>!e.isColumnGroup)).filter(e=>e.matchesMedia&&e.displayTitle);return Gx(e,[{field:"locked",dir:"desc"}])}get unlockedRootCount(){return this.list().rootColumns().filter(e=>!e.locked&&e.isVisible).length}init(e,t){this.columnsContainer=e,this.list=t}changeVisibility(e){this.visibilityChange.emit(e)}changeLocked(e){this.lockedChange.emit(e)}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),hW=(()=>{class e{constructor(){this.changes=new _}sort(e){this.changes.next(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class uW{constructor(e){this.columns=e}}class dW{constructor(e){this.columns=e}}function pW(e,t){return"data"===t.type&&t.isEditing?t.data:e}const fW=(e,t,i,n)=>e.changes.pipe(Jf(({dataItem:e})=>lq(e))).subscribe(e=>e.expand?t.emit(n(e)):i.emit(n(e))),gW=(e,t)=>Lq(e,Mq("k-grid-edit-cell"))&&Lq(e,Nq("kendo-grid"))===t,mW={};let vW=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,h,u,d,p,f,g,m,v,b,y,w,C,x,S,k){this.supportService=e,this.selectionService=t,this.cellSelectionService=i,this.wrapper=n,this.groupInfoService=s,this.groupsService=r,this.changeNotification=o,this.detailsService=a,this.editService=l,this.filterService=c,this.pdfService=h,this.responsiveService=u,this.renderer=d,this.excelService=p,this.ngZone=f,this.scrollSyncService=g,this.domEvents=m,this.columnResizingService=v,this.changeDetectorRef=b,this.columnReorderService=y,this.columnInfoService=w,this.navigationService=C,this.sortService=x,this.scrollRequestService=S,this.data=[],this.scrollable="scrollable",this.selectable=!1,this.trackBy=pW,this.virtualColumns=!1,this.filterable=!1,this.sortable=!1,this.pageable=!1,this.groupable=!1,this.navigable=!1,this.autoSize=!1,this.resizable=!1,this.reorderable=!1,this.loading=!1,this.columnMenu=!1,this.hideHeader=!1,this.filterChange=new nc,this.pageChange=new nc,this.groupChange=new kG(this.ngZone),this.sortChange=new nc,this.selectionChange=new nc,this.dataStateChange=new nc,this.groupExpand=new nc,this.groupCollapse=new nc,this.detailExpand=new nc,this.detailCollapse=new nc,this.edit=new nc,this.cancel=new nc,this.save=new nc,this.remove=new nc,this.add=new nc,this.cellClose=new nc,this.cellClick=new kG(this.ngZone),this.pdfExport=new nc,this.excelExport=new nc,this.columnResize=new kG(this.ngZone),this.columnReorder=new nc,this.columnVisibilityChange=new nc,this.columnLockedChange=new nc,this.scrollBottom=new nc,this.contentScroll=new nc,this.columns=new rc,this.footer=new rc,this.selectionDirective=!1,this.columnsContainer=new CK(()=>this.columnList.filterHierarchy(e=>(e.matchesMedia=this.matchesMedia(e),e.isVisible))),this.view=new yK(()=>new bK(this.data,this.skip,this.hasGroupFooters)),this.shouldGenerateColumns=!0,this._sort=new Array,this._group=new Array,this._skip=0,this.cachedWindowWidth=0,this._rowSelected=null,this._cellSelected=null,this.rtl=!1,this._rowClass=()=>null,OC(_G),this.localizationSubscription=k.changes.subscribe(({rtl:e})=>{this.rtl=e,this.direction=this.rtl?"rtl":"ltr"}),this.groupInfoService.registerColumnsContainer(()=>this.columnList),this.columnInfoService.init(this.columnsContainer,()=>this.columnList),this.columnVisibilityChangeSubscription=this.columnInfoService.visibilityChange.subscribe(e=>{this.columnVisibilityChange.emit(new uW(e))}),this.columnLockedChangeSubscription=this.columnInfoService.lockedChange.subscribe(e=>{this.columnLockedChange.emit(new dW(e))}),this.groupExpandCollapseSubscription=fW(r,this.groupExpand,this.groupCollapse,({dataItem:e,index:t})=>({group:e,groupIndex:t})),this.detailsServiceSubscription=fW(a,this.detailExpand,this.detailCollapse,e=>e),this.filterSubscription=this.filterService.changes.subscribe(e=>{this.filterChange.emit(e)}),this.sortSubscription=this.sortService.changes.subscribe(e=>{this.sortChange.emit(e)}),this.attachStateChangesEmitter(),this.attachEditHandlers(),this.attachDomEventHandlers(),this.pdfSubscription=this.pdfService.exportClick.subscribe(this.emitPDFExportEvent.bind(this)),this.excelSubscription=this.excelService.exportClick.subscribe(this.saveAsExcel.bind(this)),this.columnsContainerChange(),this.handleColumnResize(),this.columnList=new _K(this.columns),this.columnReorderSubscription=this.columnReorderService.changes.subscribe(this.reorder.bind(this)),this.columnRangeChangeSubscription=this.columnInfoService.columnRangeChange.subscribe(this.onColumnRangeChange.bind(this))}get skip(){return this._skip}set skip(e){e>=0&&(this._skip=e)}set sort(e){hq(e)&&(this._sort=e)}get sort(){return this._sort}set group(e){hq(e)&&(this._group=e)}get group(){return this._group}get showTopToolbar(){return this.toolbarTemplate&&["top","both"].indexOf(this.toolbarTemplate.position)>-1}get showBottomToolbar(){return this.toolbarTemplate&&["bottom","both"].indexOf(this.toolbarTemplate.position)>-1}get isLocked(){return this.lockedLeafColumns.length>0}get showPager(){return!this.isVirtual&&!1!==this.pageable}get showGroupPanel(){return this.groupable&&!1!==this.groupable.enabled}get groupableEmptyText(){return this.groupable.emptyText}get marqueeSelection(){return this.selectionService.enableMarquee||this.cellSelectionService.enableMarquee}set navigatable(e){this.navigable=e}get navigatable(){return this.navigable}set rowClass(e){if(Sn&&"function"!=typeof e)throw new Error(`rowClass must be a function, but received ${JSON.stringify(e)}.`);this._rowClass=e}get rowClass(){return this._rowClass}set rowSelected(e){if(Sn&&"function"!=typeof e)throw new Error(`rowSelected must be a function, but received ${JSON.stringify(e)}.`);this._rowSelected=e}get rowSelected(){return this._rowSelected}set cellSelected(e){if(Sn&&"function"!=typeof e)throw new Error(`cellSelected must be a function, but received ${JSON.stringify(e)}.`);this._cellSelected=e}get cellSelected(){return this._cellSelected}get activeCell(){return this.navigationService.activeCell}get activeRow(){return this.navigationService.activeRow}get dir(){return this.direction}get hostClasses(){return!0}get lockedClasses(){return this.lockedLeafColumns.length>0}get virtualClasses(){return this.isVirtual}get noScrollbarClass(){return 0===this.scrollbarWidth}get detailTemplate(){return this._customDetailTemplate?this._customDetailTemplate:this.detailTemplateChildren?this.detailTemplateChildren.first:void 0}set detailTemplate(e){this._customDetailTemplate=e}get noRecordsTemplate(){return this._customNoRecordsTemplate?this._customNoRecordsTemplate:this.noRecordsTemplateChildren?this.noRecordsTemplateChildren.first:void 0}set noRecordsTemplate(e){this._customNoRecordsTemplate=e}get pagerTemplate(){return this._customPagerTemplate?this._customPagerTemplate:this.pagerTemplateChildren?this.pagerTemplateChildren.first:void 0}set pagerTemplate(e){this._customPagerTemplate=e}get toolbarTemplate(){return this._customToolbarTemplate?this._customToolbarTemplate:this.toolbarTemplateChildren?this.toolbarTemplateChildren.first:void 0}set toolbarTemplate(e){this._customToolbarTemplate=e}get scrollbarWidth(){return this.supportService.scrollbarWidth}get headerPadding(){if(fq())return"";const e=Math.max(0,this.scrollbarWidth-1)+"px";return`0 ${this.rtl?0:e} 0 ${this.rtl?e:0}`}get hasGroupFooters(){return this.columnsContainer.hasGroupFooter}get showFooter(){return this.columnsContainer.hasFooter}get showGroupFooters(){return this.groupable&&this.groupable.showFooter}get ariaRowCount(){return this.totalColumnLevels+1+this.view.total}get ariaColCount(){return this.columnsContainer.leafColumnsToRender.length}get isVirtual(){return"virtual"===this.scrollable}get isScrollable(){return"none"!==this.scrollable}get visibleColumns(){return this.columnsContainer.allColumns}get lockedColumns(){return this.columnsContainer.lockedColumns}get nonLockedColumns(){return this.columnsContainer.nonLockedColumns}get lockedLeafColumns(){return this.columnsContainer.lockedLeafColumns}get nonLockedLeafColumns(){return this.columnsContainer.nonLockedLeafColumns}get leafColumns(){return this.columnsContainer.leafColumns}get totalColumnLevels(){return this.columnsContainer.totalLevels}get headerColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedColumns}get headerLeafColumns(){return this.virtualColumns&&!this.pdfService.exporting?this.leafViewportColumns:this.nonLockedLeafColumns}get lockedWidth(){const e=32*this.group.length;return qG(this.lockedLeafColumns.toArray()).reduce((e,t)=>e+(t.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return this.virtualColumns?this.leafViewportColumns.reduce((e,t)=>e+(t.width||0),0):this.columnsContainer.unlockedWidth}get selectableSettings(){if(this.selectionService)return this.selectionService.options}get columnMenuTemplate(){const e=this.columnMenuTemplates.first;return e?e.templateRef:null}get totalCount(){return this.isVirtual||!lq(this.pageSize)?this.view.total:this.pageSize}expandRow(e){this.toggleDetailRowLegacy(e,!0)}collapseRow(e){this.toggleDetailRowLegacy(e,!1)}expandGroup(e){this.groupsService.isExpanded(e)||this.groupsService.toggleRow(e,null)}collapseGroup(e){this.groupsService.isExpanded(e)&&this.groupsService.toggleRow(e,null)}resetGroupsState(){this.groupsService.reset()}expandGroupChildren(e){this.groupsService.expandChildren(e)}onDataChange(){this.autoGenerateColumns(),this.changeNotification.notify(),this.pdfService.dataChanged.emit(),lq(this.defaultSelection)&&this.defaultSelection.reset(),this.initSelectionService(),this.updateNavigationMetadata()}ngOnChanges(e){Qb("data",e)&&this.onDataChange(),this.lockedLeafColumns.length&&Jb(["pageSize","skip","sort","group"],e)&&this.changeNotification.notify(),Jb(["pageSize","scrollable","virtualColumns"],e)&&this.updateNavigationMetadata(),Qb("virtualColumns",e)&&(this.viewportColumns=this.leafViewportColumns=null),Qb("height",e,!1)&&this.renderer.setStyle(this.wrapper.nativeElement,"height",this.height+"px"),Qb("filterable",e)&&this.lockedColumns.length&&this.syncHeaderHeight(this.ngZone.onStable.asObservable().pipe(mg(1))),Jb(["columnMenu","sortable","filterable"],e,!1)&&(this.columnMenuOptions=this.columnMenu&&Object.assign({filter:Boolean(this.filterable),sort:Boolean(this.sortable)},this.columnMenu)),Qb("scrollable",e)&&this.isScrollable&&this.ngZone.onStable.pipe(mg(1)).subscribe(()=>this.attachScrollSync()),Qb("selectable",e)&&this.shouldResetSelection(e.selectable)&&(this.defaultSelection?this.defaultSelection.reset():this.selectionDirective&&this.selectionDirective.reset())}ngAfterViewInit(){this.attachScrollSync(),this.attachElementEventHandlers(),this.updateNavigationMetadata(),this.applyAutoSize()}ngAfterContentChecked(){this.columnsContainer.refresh(),this.verifySettings(),this.initSelectionService()}ngAfterContentInit(){this.shouldGenerateColumns=!this.columns.length,this.autoGenerateColumns(),this.columnList=new _K(this.columns),this.columnsChangeSubscription=this.columns.changes.subscribe(()=>this.verifySettings())}ngOnInit(){this.navigable&&this.navigationService.init(this.navigationMetadata())}ngOnDestroy(){this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.groupExpandCollapseSubscription&&this.groupExpandCollapseSubscription.unsubscribe(),this.detailsServiceSubscription&&this.detailsServiceSubscription.unsubscribe(),this.editServiceSubscription&&this.editServiceSubscription.unsubscribe(),this.pdfSubscription&&this.pdfSubscription.unsubscribe(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.sortSubscription&&this.sortSubscription.unsubscribe(),this.columnsChangeSubscription&&this.columnsChangeSubscription.unsubscribe(),this.excelSubscription&&this.excelSubscription.unsubscribe(),this.columnsContainerChangeSubscription&&this.columnsContainerChangeSubscription.unsubscribe(),this.scrollSyncService&&this.scrollSyncService.destroy(),this.detachElementEventHandlers&&this.detachElementEventHandlers(),this.defaultSelection&&this.defaultSelection.destroy(),this.cellClickSubscription&&this.cellClickSubscription.unsubscribe(),this.footerChangeSubscription&&this.footerChangeSubscription.unsubscribe(),this.ngZone=null,this.columnResizingSubscription&&this.columnResizingSubscription.unsubscribe(),this.columnReorderSubscription&&this.columnReorderSubscription.unsubscribe(),this.localizationSubscription&&this.localizationSubscription.unsubscribe(),this.columnVisibilityChangeSubscription&&this.columnVisibilityChangeSubscription.unsubscribe(),this.columnLockedChangeSubscription&&this.columnLockedChangeSubscription.unsubscribe(),this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.columnRangeChangeSubscription.unsubscribe()}attachScrollSync(){fq()||(this.header&&this.scrollSyncService.registerEmitter(this.header.nativeElement,"header"),this.footer&&(this.footerChangeSubscription=pq(this.footer).subscribe(e=>e.map(e=>e.nativeElement).filter(lq).forEach(e=>this.scrollSyncService.registerEmitter(e,"footer")))))}editRow(e,t,i){if(this.editService.editRow(e,t),lq(i)&&i.skipFocus)return;const n=`tr[data-kendo-grid-item-index="${e}"]`,s=i&&i.columnIndex,r=isNaN(s)?n:`${n} td[data-kendo-grid-column-index="${s}"]`;this.focusEditElement(r)}closeRow(e){this.editService.close(e)}addRow(e){if(!(e instanceof tC)){const i=Object.keys(e).reduce((t=e,(e,i)=>(e[i]=new eC(t[i]),e)),{});e=new tC(i)}var t;this.editService.addRow(e),this.focusEditElement(".k-grid-add-row")}editCell(e,t,i){const n=this.columnInstance(t);this.editService.editCell(e,n,i),this.focusEditElement(".k-grid-edit-cell")}closeCell(){return!this.editService.closeCell()}cancelCell(){this.editService.cancelCell()}isEditing(){return this.editService.isEditing()}isEditingCell(){return this.editService.isEditingCell()}saveAsPDF(){this.pdfService.save(this)}drawPDF(){const e=(()=>{let e,t;const i=new Promise((n,s)=>{e=e=>(n(e),i),t=e=>(s(e),i)});return i.resolve=e,i.reject=t,i})();return this.pdfService.draw(this,e),e}saveAsExcel(){this.excelService.save(this)}autoFitColumn(e){this.columnResizingService.autoFit(e)}autoFitColumns(e=this.columns){let t;t=e instanceof rc?e.toArray():e,this.columnResizingService.autoFit(...t)}notifyPageChange(e,t){("list"!==e||this.isVirtual)&&this.pageChange.emit(t)}notifyScrollBottom(){"none"!==this.scrollable&&Xb(this.scrollBottom)&&this.ngZone.run(()=>this.scrollBottom.emit({sender:this}))}focusEditElement(e){this.focusElementSubscription&&this.focusElementSubscription.unsubscribe(),this.ngZone.runOutsideAngular(()=>{this.focusElementSubscription=this.ngZone.onStable.asObservable().pipe(mg(1)).subscribe(()=>{const t=this.wrapper.nativeElement;!this.setEditFocus(t.querySelector(e))&&this.isLocked&&this.setEditFocus(t.querySelector(".k-grid-content "+e)),this.focusElementSubscription=null})})}focus(){return this.assertNavigable(),this.navigationService.focusCell()}focusCell(e,t){return this.assertNavigable(),this.navigationService.focusCell(e,t)}focusNextCell(e=!0){return this.assertNavigable(),this.navigationService.focusNextCell(e)}focusPrevCell(e=!0){return this.assertNavigable(),this.navigationService.focusPrevCell(e)}scrollTo(e){this.scrollRequestService.scrollTo(e)}reorderColumn(e,t,i={before:!1}){let n=this.columnsForLevel(e.level)[t];n&&(n.isLocked&&!e.isLocked&&1===this.columnsContainer.nonLockedColumns.length||(UG(n)&&!i.before&&(n=n.childColumns.last),this.reorder({before:i.before,source:e,target:n})))}set isDetailExpanded(e){this.detailsService.userCallback=e}get isDetailExpanded(){return this.detailsService.userCallback}reorder({target:e,source:t,before:i,changeContainer:n}){this.ngZone.run(()=>{const s=this.columnsForLevel(t.level);let r=s.indexOf(e);e.parent&&e.parent.isSpanColumn&&(r=s.indexOf(e.parent),i&&(e=e.parent));let o=s.indexOf(t);n&&(i&&0<r&&o<r?r--:!i&&o>r&&r++);const a=new rW({column:t,oldIndex:o,newIndex:r});this.columnReorder.emit(a),a.isDefaultPrevented()||(n&&this.columnLockedChange.emit(new dW([t])),this.updateColumnIndices({source:t,target:e,before:i}),t.locked!==e.locked&&(t.locked=e.locked),this.columnsContainer.refresh(),this.changeDetectorRef.markForCheck())})}updateColumnIndices({source:e,target:t,before:i}){const n=GG(this.columnsForLevel(e.level)),s=n.indexOf(e);let r=0,o=0,a=1;e.isSpanColumn&&(a+=e.childColumns.length);let l=0;for(;l<n.length;){let s=n[l];if(s===t)r=i?o:o+1,o=i?o+a:o,s.orderIndex=o,r===o+1&&(o+=a);else{if(s===e){l+=a;continue}s.orderIndex=o}o++,l++}for(l=s;l<s+a;l++)n[l].orderIndex=r++;this.updateIndicesForLevel(e.level+1)}updateIndicesForLevel(e){const t=this.columnsForLevel(e-1),i=[];eK(t).forEach(e=>{e.isColumnGroup&&i.push(...e.childrenArray.sort((e,t)=>e.orderIndex-t.orderIndex))}),GG(i).map((e,t)=>e.orderIndex=t),e<this.columnsContainer.totalLevels&&this.updateIndicesForLevel(e+1)}columnsForLevel(e){return this.columnsContainer.allColumns.filter(t=>t.level===e)}initSelectionService(){if(!this.selectable)return this.selectionService.ngOnDestroy(),void this.cellSelectionService.ngOnDestroy();this.selectionDirective||lq(this.defaultSelection)||(this.defaultSelection=new wK(this,this.changeDetectorRef));const e=this.selectable.cell,t=e?this.cellSelectionService:this.selectionService,i=e?this.selectionService:this.cellSelectionService;i.active&&(i.ngOnDestroy(),t.addSubscriptions(),i.active=!1),t.active=!0,t.init({cellSelected:e?this.cellSelected:void 0,rowSelected:e?void 0:this.rowSelected,selectable:this.selectable,view:this.view,columns:e?this.columnList.toArray():void 0}),this.selectionDirective||this.selectableSettings.enabled||this.defaultSelection.reset(),this.selectionSubscription&&this.selectionSubscription.unsubscribe(),this.selectionSubscription=e?this.cellSelectionService.changes.subscribe(e=>{this.ngZone.run(()=>this.selectionChange.emit(e))}):this.selectionService.changes.subscribe(e=>{this.ngZone.run(()=>this.selectionChange.emit(e))})}setEditFocus(e){if(e)return this.navigationService.tryFocus(e)}columnInstance(e){let t;if(t="number"==typeof e?this.columnsContainer.lockedLeafColumns.toArray().concat(this.columnsContainer.nonLockedLeafColumns.toArray())[e]:"string"==typeof e?this.columnList.filter(t=>t.field===e)[0]:e,!t&&Sn())throw new Error("Invalid column "+e);return t}verifySettings(){if(Sn()){const e=this.lockedLeafColumns.length||this.columnMenu&&this.columnMenu.lock;if(e&&this.detailTemplate)throw new Error("Having both detail template and locked columns is not supported.");if(this.lockedLeafColumns.length&&!this.nonLockedLeafColumns.length)throw new Error("There should be at least one non-locked column");if((e||this.virtualColumns)&&qG(this.columnList.toArray()).filter(e=>!e.width&&!nK(e)).length)throw new Error((e?"Locked":"Virtual")+" columns feature requires all columns to have set width.");if(e&&!this.isScrollable)throw new Error("Locked columns are only supported when scrolling is enabled.");if(this.columnList.filter(nK).filter(e=>!e.hasChildren).length)throw new Error("ColumnGroupComponent should contain ColumnComponent or CommandColumnComponent.");if(this.columnList.filter(e=>e.locked&&e.parent&&!e.parent.isLocked).length)throw new Error("Locked child columns require their parent columns to be locked.");if((this.rowHeight||this.detailRowHeight)&&!this.isVirtual)throw new Error("Row height and detail row height settings require virtual scrolling mode to be enabled.");qG(this.columnList.toArray()).filter(BG).filter(({field:e})=>{return!(!dq(t=e)&&QG.test(t)&&"."!==t[0]&&"."!==t[t.length-1]);var t}).forEach(({field:e})=>console.warn(`\n                Grid column field name '${e}' does not look like a valid JavaScript identifier.\n                Identifiers can contain only alphanumeric characters (including "$" or "_"), and may not start with a digit.\n                Please use only valid identifier names to ensure error-free operation.\n            `))}}autoGenerateColumns(){this.shouldGenerateColumns&&!this.columns.length&&this.view.length&&this.columns.reset(Object.keys(this.view.at(0)).map(e=>{let t=new zG;return t.field=e,t}))}attachStateChangesEmitter(){this.stateChangeSubscription=K(this.pageChange.pipe(L(e=>({filter:this.filter,group:this.group,skip:e.skip,sort:this.sort,take:e.take}))),this.sortChange.pipe(L(e=>({filter:this.filter,group:this.group,skip:this.skip,sort:e,take:this.pageSize}))),this.groupChange.pipe(L(e=>({filter:this.filter,group:e,skip:this.skip,sort:this.sort,take:this.pageSize}))),this.filterChange.pipe(L(e=>({filter:e,group:this.group,skip:0,sort:this.sort,take:this.pageSize})))).subscribe(e=>{this.closeCell(),this.cancelCell(),this.dataStateChange.emit(e)})}attachEditHandlers(){this.editService&&(this.editServiceSubscription=this.editService.changes.subscribe(this.emitCRUDEvent.bind(this)))}emitCRUDEvent(e){const{action:t,rowIndex:i,formGroup:n}=e;let s=this.view.at(i-this.skip);switch("add"===t||s||(s=n.value),this.closeCell(),Object.assign(e,{dataItem:s,sender:this}),t){case"add":this.add.emit(e);break;case"cancel":this.cancel.emit(e);break;case"edit":this.edit.emit(e);break;case"remove":this.remove.emit(e);break;case"save":this.save.emit(e);break;case"cellClose":this.cellClose.emit(e)}}attachDomEventHandlers(){this.cellClickSubscription=this.domEvents.cellClick.subscribe(e=>{this.cellClick.emit(Object.assign({sender:this},e))})}attachElementEventHandlers(){if(fq())return;const e=this.wrapper.nativeElement,t=this.ariaRoot.nativeElement;this.ngZone.runOutsideAngular(()=>{const i=this.resizeCheck.bind(this),n=this.renderer.listen("window","resize",i),s=this.renderer.listen("window","orientationchange",i),r=this.renderer.listen("document","click",e=>{const t=document.activeElement;!this.editService.shouldCloseCell()||Lq(e.target,Mq("k-animation-container k-grid-ignore-click"))||t&&(Lq(t,Mq("k-animation-container"))||gW(t,this.wrapper.nativeElement))||this.editService.closeCell(e)}),o=this.renderer.listen("window","blur",e=>{const t=document.activeElement;!t||Nq("input")(t)&&"file"===t.type&&gW(t,this.wrapper.nativeElement)||this.editService.closeCell(e),this.domEvents.windowBlur.emit(e)}),a=this.renderer.listen(e,"click",e=>{this.domEvents.click.emit(e)}),l=this.renderer.listen(e,"keydown",e=>{this.domEvents.keydown.emit(e)});let c=!1;const h=this.renderer.listen(t,"focusin",e=>{this.domEvents.focus.emit(e),c||(this.domEvents.focusIn.emit(e),c=!0)}),u=this.renderer.listen(t,"focusout",e=>{const i=e.relatedTarget||document.activeElement;!Lq(i,e=>e===t)&&(this.domEvents.focusOut.emit(e),c=!1)});this.detachElementEventHandlers=()=>{n(),s(),r(),o(),a(),l(),h(),u()}})}matchesMedia(e){return this.responsiveService.matchesMedia(e.media)}resizeCheck(){if(window.innerWidth!==this.cachedWindowWidth){this.cachedWindowWidth=window.innerWidth;let e=!1;this.columnList.filterHierarchy(t=>{const i=this.matchesMedia(t);return t.matchesMedia!==i&&(e=!0,t.matchesMedia=i),t.isVisible}),e&&this.ngZone.run(()=>{this.changeDetectorRef.markForCheck()})}}emitPDFExportEvent(){const e=new PK;this.pdfExport.emit(e),e.isDefaultPrevented()||this.saveAsPDF()}syncHeaderHeight(e){return e.pipe(Jf(()=>lq(this.lockedHeader))).subscribe(()=>DK(this.lockedHeader.nativeElement.children[0],this.header.nativeElement.children[0]))}columnsContainerChange(){this.columnsContainerChangeSubscription=this.syncHeaderHeight(this.columnsContainer.changes.pipe(Jf(()=>this.lockedColumns.length>0),xg(()=>this.ngZone.onStable.asObservable().pipe(mg(1)))))}handleColumnResize(){const e=this.columnResizingService.changes;this.columnResizingSubscription=e.pipe(Ag(e=>{"start"===e.type?this.renderer.addClass(this.wrapper.nativeElement,"k-grid-column-resizing"):"end"===e.type&&this.renderer.removeClass(this.wrapper.nativeElement,"k-grid-column-resizing")}),Jf(e=>"start"===e.type),xg(()=>e.pipe(Dy(e.pipe(Jf(e=>"triggerAutoFit"===e.type))),Jf(e=>"end"===e.type)))).subscribe(this.notifyResize.bind(this))}notifyResize(e){const t=e.resizedColumns.filter(e=>uq(e.column.resizable)&&!e.column.isColumnGroup).map(e=>({column:e.column,newWidth:e.column.width,oldWidth:e.oldWidth}));this.columnResize.emit(t)}assertNavigable(){if(Sn()&&!this.navigable)throw new Error('The Grid should be configured as [navigable]="true" to control focus')}navigationMetadata(){const e=this.isVirtual,t=e?this.view.total:this.pageSize,i=this.editService.hasNewItem?1:0,n=qK(this.filterable)?1:0;return new oW(t,this.totalColumnLevels+1+n+i,e,this.showPager,lq(this.detailTemplate),this.wrapper,this.virtualColumns,this.columnsContainer)}updateNavigationMetadata(){this.navigationService.metadata=this.navigationMetadata()}applyAutoSize(){const e=this.columns.filter(e=>this.autoSize?!1!==e.autoSize:e.autoSize);e.length>0&&this.ngZone.onStable.pipe(mg(1)).subscribe(t=>this.autoFitColumns(e))}onColumnRangeChange(e){const t=this.viewportColumns=[],i=this.columnsContainer.nonLockedLeafColumns.toArray().slice(e.start,e.end+1);for(let n=0;n<i.length;n++){let e=i[n];for(;e.parent;)e=e.parent;const s=[e];for(;s.length;)e=s.shift(),t.push(e),e.isColumnGroup&&s.unshift.apply(s,e.childrenArray);const r=t[t.length-1];for(e=i[n];e!==r&&n<i.length;)n++,e=i[n]}if(e.start>0){const n=i[0];let s=e.offset,r=t[0],o=0;for(;r!==n;)s-=r.isColumnGroup?0:r.width,o++,r=t[o];if(s>0){const e=this.columnsContainer.totalLevels;let i;for(let n=0;n<=e;n++){const r=n<e?new sK(i):new NG(i);i=r,r.title="\xa0",r.width=s,t.unshift(r)}}}this.leafViewportColumns=t.filter(e=>!e.isColumnGroup)}toggleDetailRowLegacy(e,t){const i="function"==typeof this.isDetailExpanded;if(Sn()&&i)throw new Error("The expandRow and collapseRow methods should not be called when using the kendoGridDetailsExpandBy directive or the isDetailExpanded callback. These methods are provided only for backwards compatibility with legacy versions.");!Sn()&&i||this.detailsService.isExpanded(e,null)!==t&&this.detailsService.toggleRow(e,null)}shouldResetSelection(e){const t=e.previousValue;if(!t)return!1;const i=e.currentValue;return!i||!1===i.enabled||t.cell!==i.cell}};return e.\u0275fac=function(t){return new(t||e)(Fo(hK),Fo(wG),Fo(CG),Fo(Ga),Fo(EK),Fo(sG),Fo(IK),Fo(lG),Fo(iG),Fo(AK),Fo(RK),Fo(LK),Fo(Ya),Fo(VK),Fo(Wc),Fo(BK),Fo(Tq),Fo($K),Fo($r),Fo(sW),Fo(cW),Fo(yG),Fo(hW),Fo(cG),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid"]],contentQueries:function(e,t,i){var n;1&e&&(bc(i,NG,!1),bc(i,rK,!1),bc(i,TK,!1),bc(i,OK,!1),bc(i,HK,!1),bc(i,RG,!1)),2&e&&(fc(n=Cc())&&(t.columns=n),fc(n=Cc())&&(t.detailTemplateChildren=n),fc(n=Cc())&&(t.noRecordsTemplateChildren=n),fc(n=Cc())&&(t.pagerTemplateChildren=n),fc(n=Cc())&&(t.toolbarTemplateChildren=n),fc(n=Cc())&&(t.columnMenuTemplates=n))},viewQuery:function(e,t){var i;1&e&&(mc(mz,!0),mc(vz,!0),gc(bz,!0),mc(yz,!0)),2&e&&(fc(i=Cc())&&(t.lockedHeader=i.first),fc(i=Cc())&&(t.header=i.first),fc(i=Cc())&&(t.ariaRoot=i.first),fc(i=Cc())&&(t.footer=i))},hostVars:11,hostBindings:function(e,t){2&e&&(_o("dir",t.dir),oa("k-widget",t.hostClasses)("k-grid",t.hostClasses)("k-grid-lockedcolumns",t.lockedClasses)("k-grid-virtual",t.virtualClasses)("k-grid-no-scrollbar",t.noScrollbarClass))},inputs:{data:"data",scrollable:"scrollable",selectable:"selectable",trackBy:"trackBy",virtualColumns:"virtualColumns",filterable:"filterable",sortable:"sortable",pageable:"pageable",groupable:"groupable",navigable:"navigable",autoSize:"autoSize",resizable:"resizable",reorderable:"reorderable",loading:"loading",columnMenu:"columnMenu",hideHeader:"hideHeader",skip:"skip",sort:"sort",group:"group",navigatable:"navigatable",rowClass:"rowClass",rowSelected:"rowSelected",cellSelected:"cellSelected",isDetailExpanded:"isDetailExpanded",pageSize:"pageSize",height:"height",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",filter:"filter"},outputs:{filterChange:"filterChange",pageChange:"pageChange",groupChange:"groupChange",sortChange:"sortChange",selectionChange:"selectionChange",dataStateChange:"dataStateChange",groupExpand:"groupExpand",groupCollapse:"groupCollapse",detailExpand:"detailExpand",detailCollapse:"detailCollapse",edit:"edit",cancel:"cancel",save:"save",remove:"remove",add:"add",cellClose:"cellClose",cellClick:"cellClick",pdfExport:"pdfExport",excelExport:"excelExport",columnResize:"columnResize",columnReorder:"columnReorder",columnVisibilityChange:"columnVisibilityChange",columnLockedChange:"columnLockedChange",scrollBottom:"scrollBottom",contentScroll:"contentScroll"},exportAs:["kendoGrid"],features:[ja([hK,Fy,cW,wG,CG,lG,sG,EK,IK,iG,RK,MK,{provide:Kq,useValue:mW},{provide:Ty,useValue:"kendo.grid"},AK,LK,rG,VK,BK,zK,Fq,Tq,$K,KK,XK,iW,nW,sW,yG,Dq,lW,cG,hW]),Oa],decls:10,vars:8,consts:[["kendoGridLocalizedMessages","",6,"groupPanelEmpty","noRecords","pagerFirstPage","pagerPreviousPage","pagerNextPage","pagerLastPage","pagerPage","pagerOf","pagerItems","pagerPageNumberInputTitle","pagerItemsPerPage","filter","filterEqOperator","filterNotEqOperator","filterIsNullOperator","filterIsNotNullOperator","filterIsEmptyOperator","filterIsNotEmptyOperator","filterStartsWithOperator","filterContainsOperator","filterNotContainsOperator","filterEndsWithOperator","filterGteOperator","filterGtOperator","filterLteOperator","filterLtOperator","filterIsTrue","filterIsFalse","filterBooleanAll","filterAfterOrEqualOperator","filterAfterOperator","filterBeforeOperator","filterBeforeOrEqualOperator","filterFilterButton","filterClearButton","filterAndLogic","filterOrLogic","loading","columnMenu","columns","lock","unlock","sortable","sortAscending","sortDescending","sortedAscending","sortedDescending","sortedDefault","columnsApply","columnsReset","detailExpand","detailCollapse","filterDateToday","filterDateToggle","filterNumericDecrement","filterNumericIncrement"],["position","top",4,"ngIf"],[3,"text","groups","change",4,"ngIf"],["role","grid",1,"k-grid-aria-root"],["ariaRoot",""],[3,"ngIf"],[3,"template","pageSize","total","skip","options","pageChange",4,"ngIf"],["position","bottom",4,"ngIf"],["position","top"],[3,"text","groups","change"],["class","k-grid-header","role","presentation",3,"padding",4,"ngIf"],["kendoDraggable","","kendoGridSelectionMarquee","",3,"data","rowHeight","detailRowHeight","total","take","groups","groupable","skip","trackBy","columns","selectable","filterable","detailTemplate","noRecordsTemplate","rowClass","loading","isVirtual","virtualColumns","enableDrag","pageChange","scrollBottom","contentScroll"],["class","k-grid-footer",3,"padding",4,"ngIf"],["role","presentation",1,"k-grid-header"],["role","presentation","class","k-grid-header-locked",3,"width",4,"ngIf"],["role","presentation","data-scrollable","",1,"k-grid-header-wrap",3,"kendoGridResizableContainer","lockedWidth"],["header",""],["role","presentation",3,"virtualColumns"],["kendoGridColGroup","","role","presentation",3,"columns","groups","detailTemplate"],["kendoGridHeader","","role","presentation",3,"resizable","scrollable","columns","totalColumnLevels","sort","filter","filterable","groupable","reorderable","groups","sortable","columnMenu","columnMenuTemplate","lockedColumnsCount","totalColumnsCount","detailTemplate"],["class","k-width-container","role","presentation",4,"ngIf"],["role","presentation",1,"k-grid-header-locked"],["lockedHeader",""],["role","presentation",3,"locked"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","sort","groups","filter","filterable","groupable","reorderable","sortable","columnMenu","columnMenuTemplate","totalColumnsCount","detailTemplate"],["role","presentation",1,"k-width-container"],[1,"k-grid-footer"],["class","k-grid-footer-locked",3,"width",4,"ngIf"],["data-scrollable","",1,"k-grid-footer-wrap",3,"kendoGridResizableContainer","lockedWidth"],["footer",""],["role","presentation"],["kendoGridColGroup","",3,"columns","groups","detailTemplate"],["kendoGridFooter","",3,"logicalRowIndex","scrollable","groups","columns","lockedColumnsCount","detailTemplate"],[1,"k-grid-footer-locked"],["kendoGridFooter","",3,"scrollable","groups","columns","detailTemplate","logicalRowIndex"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate",4,"ngIf"],["kendoGridTableBody","","kendoDraggable","","kendoGridSelectionMarquee","",3,"groups","data","skip","columns","selectable","filterable","noRecordsTemplate","detailTemplate","showGroupFooters","trackBy","rowClass","enableDrag"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["kendoGridHeader","",3,"resizable","scrollable","columns","totalColumnLevels","groups","groupable","reorderable","sort","sortable","filter","filterable","columnMenu","columnMenuTemplate","detailTemplate"],["kendoGridFooter","",3,"scrollable","logicalRowIndex","groups","columns","detailTemplate"],["kendoGridLoading",""],[3,"template","pageSize","total","skip","options","pageChange"],["position","bottom"]],template:function(e,t){1&e&&(Lo(0,0),Nl(1,wz),Vo(),Io(2,Cz,1,0,"kendo-grid-toolbar",1),Io(3,xz,1,2,"kendo-grid-group-panel",2),Po(4,"div",3,4),Io(6,Fz,3,21,"ng-template",5),Io(7,Rz,6,20,"ng-template",5),Mo(),Io(8,Pz,1,5,"kendo-pager",6),Io(9,Mz,1,0,"kendo-grid-toolbar",7)),2&e&&(vs(2),Oo("ngIf",t.showTopToolbar),vs(1),Oo("ngIf",t.showGroupPanel),vs(1),_o("aria-rowcount",t.ariaRowCount)("aria-colcount",t.ariaColCount),vs(2),Oo("ngIf",t.isScrollable),vs(1),Oo("ngIf",!t.isScrollable),vs(1),Oo("ngIf",t.showPager),vs(1),Oo("ngIf",t.showBottomToolbar))},directives:function(){return[MW,ku,HQ,wY,DW,ty,SG,bZ,OZ,mZ,BY,NQ,IQ,vZ,rY]},styles:["   .k-grid .k-grid-aria-root {\n            display: flex;\n            flex-direction: column;\n            flex: 1 1 auto;\n            overflow: hidden;\n        }\n\n        .k-grid .k-filter-row td {\n            white-space: nowrap;\n        }"],encapsulation:2}),e})();class bW{constructor(e=0,t,i){this.total=e,this.rowHeight=t,this.detailRowHeight=i,this.offsets=[],this.heights=[];let n=0;for(let s=0;s<e;s++)this.offsets.push(n),n+=t,this.heights.push(t)}height(e){return this.heights[e]}expandDetail(e){this.height(e)===this.rowHeight&&this.updateRowHeight(e,this.detailRowHeight)}collapseDetail(e){this.height(e)>this.rowHeight&&this.updateRowHeight(e,-1*this.detailRowHeight)}isExpanded(e){return this.height(e)>this.rowHeight}index(e){if(e<0)return;const t=this.offsets.reduce((t,i,n)=>void 0!==t?t:i===e?n:i>e?n-1:void 0,void 0);return void 0===t?this.total-1:t}offset(e){return this.offsets[e]}totalHeight(){return this.heights.reduce((e,t)=>e+t,0)}updateRowHeight(e,t){this.total>0&&(this.heights[e]+=t,this.offsets=((e,t,i)=>[...e.slice(0,t+1),...e.slice(t+1).map(e=>e+i)])(this.offsets,e,t))}}class yW{constructor(e){this.offset=e}}class wW{constructor(e,t){this.skip=e,this.take=t}}class CW{}class xW{constructor(e){this.scrollObservable=e,this.firstLoaded=0}create(e,t,i,n){this.rowHeightService=e,this.firstLoaded=t,this.lastLoaded=t+i,this.take=i,this.total=n,this.lastScrollTop=0;const s=new Lf(new yW(this.rowHeightService.offset(t)));return this.subscription=w.create(e=>{this.unsubscribe(),this.scrollSubscription=this.scrollObservable.subscribe(t=>this.onScroll(t,e))}).subscribe(e=>s.next(e)),s}destroy(){this.unsubscribe(),this.subscription&&this.subscription.unsubscribe()}onScroll({scrollTop:e,offsetHeight:t,scrollHeight:i,clientHeight:n},s){if(this.lastScrollTop===e)return;const r=this.lastScrollTop>=e;this.lastScrollTop=e;let o=this.rowHeightService.index(e),a=this.rowHeightService.offset(o);const l=this.rowHeightService.index(e+t);if(!r)if(l>=this.lastLoaded&&this.lastLoaded<this.total){const e=o+this.take-this.total;e>0&&(o-=e,a=this.rowHeightService.offset(o)),this.firstLoaded=o,s.next(new yW(a));let t=this.firstLoaded+this.take;this.lastLoaded=Math.min(t,this.total),t=t>this.total?this.total-this.firstLoaded:this.take,s.next(new wW(this.firstLoaded,this.take))}else i-n-e<2&&s.next(new CW);if(r&&o<this.firstLoaded){const e=Math.floor(.3*this.take);this.firstLoaded=Math.max(o-e,0),s.next(new yW(this.rowHeightService.offset(this.firstLoaded))),this.lastLoaded=Math.min(this.firstLoaded+this.take,this.total),s.next(new wW(this.firstLoaded,this.take))}}unsubscribe(){this.scrollSubscription&&(this.scrollSubscription.unsubscribe(),this.scrollSubscription=void 0)}}const SW=(e,t,i)=>{for(let n=0,s=0;n<t.length;n++){const r=i(t[n]);if(s<=e&&e<=s+r-1)return t[n];s+=r}},kW=(e,t)=>SW(e,t,e=>e.hasAttribute("data-kendo-grid-item-index")?1:0),_W={},EW=new Ve("grid-scroll-service-factory");function IW(e){return new xW(e)}const TW=e=>{const t=e.wheelDeltaY;return e.wheelDelta&&(void 0===t||t)?e.wheelDelta:e.detail&&e.axis===e.VERTICAL_AXIS?10*-e.detail:0},FW=e=>e?e.nativeElement:null;let DW=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,h,u,d,p,f,g,m,v){this.changeNotification=i,this.suspendService=n,this.groupsService=s,this.ngZone=r,this.renderer=o,this.scrollSyncService=a,this.resizeService=l,this.editService=c,this.supportService=h,this.navigationService=u,this.localization=p,this.columnResizingService=f,this.changeDetector=g,this.pdfService=m,this.columnInfo=v,this.groups=[],this.skip=0,this.columns=new CK(()=>[]),this.selectable=!1,this.groupable=!1,this.trackBy=pW,this.contentScroll=new nc,this.pageChange=new nc,this.scrollBottom=new nc,this.columnsStartIdx=0,this.resizeSensors=new rc,this.dispatcher=new _,this.containerScrollTop=0,this.scrollLeft=0,this.rtl=!1,this.scroller=e(this.dispatcher),this.subscriptions=t.changes.subscribe(e=>this.detailExpand(e)).add(d.requests.subscribe(e=>this.scrollTo(e)))}get hostClass(){return!0}get hostRole(){return"presentation"}get showFooter(){return this.groupable&&this.groupable.showFooter}get totalWidth(){if(this.virtualColumns&&this.columns.unlockedWidth)return this.columns.unlockedWidth}get lockedLeafColumns(){return this.columns.lockedLeafColumns}get nonLockedLeafColumns(){return this.columns.nonLockedLeafColumns}get nonLockedColumnsToRender(){return this.virtualColumns&&!this.pdfService.exporting?this.viewportColumns:this.nonLockedLeafColumns}get leafColumns(){return this.columns.leafColumnsToRender}get lockedWidth(){const e=32*this.groups.length;return qG(this.lockedLeafColumns.toArray()).reduce((e,t)=>e+(t.width||0),e)}get nonLockedWidth(){if(!this.rtl&&this.lockedLeafColumns.length||this.virtualColumns)return ZG(qG(this.nonLockedColumnsToRender.toArray()))}get isLocked(){return this.lockedLeafColumns.length>0}ngOnInit(){this.init(),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowSync.bind(this))),this.subscriptions.add(this.ngZone.runOutsideAngular(this.handleRowNavigationLocked.bind(this))),this.subscriptions.add(K(this.columns.changes,this.resizeService.changes).subscribe(()=>{this.virtualColumns&&this.ngZone.run(()=>{this.updateViewportColumns(),this.changeDetector.markForCheck()})})),this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnChanges(e){e.skip&&e.skip.firstChange&&e.skip.currentValue>0&&this.handleInitialScrollToSkip(),Qb("skip",e)&&!this.rebind&&(this.skipScroll=!0,this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),Jb(["total","take"],e)&&this.init(),this.rebind=!1}ngDoCheck(){!this.virtualColumns||this.viewportColumns&&!this.viewportWidthChange()||this.updateViewportColumns()}ngAfterViewInit(){this.skip&&this.isVirtual&&(this.container.nativeElement.scrollTop=this.rowHeightService.offset(this.skip)),this.resetNavigationViewport(),this.attachContainerScroll(),this.initResizeService()}ngAfterViewChecked(){const e=this.isLocked;e&&!this.hasLockedContainer&&this.syncRowsHeight(),this.hasLockedContainer=e}syncRowsHeight(){this.lockedContainer&&DK(this.lockedTable.nativeElement,this.table.nativeElement)}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe(),this.resizeService&&this.resizeService.destroy(),this.cleanupScroller()}init(){this.suspendService.scroll||(this.rowHeightService=new bW(this.total,this.rowHeight,this.detailRowHeight),this.totalHeight=this.rowHeightService.totalHeight(),fq()||this.ngZone.runOutsideAngular(this.createScroller.bind(this)))}lockedScroll(){if(!this.suspendService.scroll){const e=this.lockedContainer.nativeElement.scrollTop;e!==this.containerScrollTop&&(this.container.nativeElement.scrollTop=this.containerScrollTop=e)}}lockedMousewheel(e){if(!e.ctrlKey){((e,t)=>{const i=TW(e),n=t.scrollTop;0===n&&0<i||t.scrollHeight<=t.offsetHeight+n&&i<0||event.preventDefault()})(e,this.container.nativeElement);const t=TW(e);this.container.nativeElement.scrollTop-=t}}lockedKeydown(e){if(e.keyCode===gy.PageDown||e.keyCode===gy.PageUp){const t=this.container.nativeElement;t.scrollTop+=t.offsetHeight*(e.keyCode===gy.PageDown?1:-1)*.8,e.preventDefault()}}detailExpand({index:e,expand:t}){t?this.rowHeightService.expandDetail(e):this.rowHeightService.collapseDetail(e),this.totalHeight=this.rowHeightService.totalHeight(),this.resetNavigationViewport()}attachContainerScroll(){fq()||(this.ngZone.runOutsideAngular(()=>{this.subscriptions.add(Zb(this.container.nativeElement,"scroll").pipe(L(e=>e.target),Jf(()=>!this.suspendService.scroll),Ag(e=>{this.onContainerScroll(e),this.resetNavigationViewport(),this.virtualColumns&&this.handleColumnScroll();const t=this.navigationService.viewport||_W,i=this.navigationService.columnViewport||_W;this.contentScroll.emit({scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,startRow:t.firstItemIndex,endRow:t.lastItemIndex,startColumn:i.firstItemIndex,endColumn:i.lastItemIndex})})).subscribe(this.dispatcher))}),this.scrollSyncService.registerEmitter(this.container.nativeElement,"body"))}createScroller(){this.cleanupScroller();const e=this.scroller.create(this.rowHeightService,this.skip,this.take,this.total);this.skipScroll=!1,this.scrollerSubscription=e.pipe(Jf(e=>e instanceof wW),Jf(()=>{const e=this.skipScroll;return this.skipScroll=!1,!e}),Ag(()=>this.rebind=!0)).subscribe(e=>this.ngZone.run(()=>this.pageChange.emit(e))),this.scrollerSubscription.add(e.pipe(Jf(e=>e instanceof yW)).subscribe(this.scroll.bind(this))),this.scrollerSubscription.add(e.pipe(Jf(e=>e instanceof CW)).subscribe(()=>this.scrollBottom.emit()))}scroll({offset:e=0}){var t,i;this.isVirtual&&[FW(this.table),FW(this.lockedTable)].filter(lq).forEach((t=this.renderer,i=e,e=>t.setStyle(e,"transform",`translateY(${i}px)`))),this.resetNavigationViewport()}onContainerScroll({scrollTop:e}){this.containerScrollTop=e,this.lockedContainer&&(this.lockedContainer.nativeElement.scrollTop=e)}handleInitialScrollToSkip(){const e=this.changeNotification.changes.pipe(Jf(()=>this.isVirtual&&this.skip>0&&this.total>0)).subscribe(t=>{this.scrollTo({row:this.skip}),e.unsubscribe()})}handleRowSync(){const e=()=>lq(this.lockedContainer);return K(this.changeNotification.changes,this.groupsService.changes.pipe(Jf(e),Ry((()=>this.ngZone.onStable.asObservable().pipe(mg(1)))())),this.editService.changed,this.resizeService.changes,this.columnResizingService.changes.pipe(Jf(e=>"end"===e.type)),this.supportService.changes).pipe(Ag(()=>this.resetNavigationViewport()),Jf(e)).subscribe(()=>{const e=this.container.nativeElement.scrollTop,t=this.container.nativeElement.scrollLeft;this.syncRowsHeight(),this.syncContainerHeight(),this.lockedContainer.nativeElement.scrollTop=this.container.nativeElement.scrollTop=e,this.container.nativeElement.scrollLeft=t,this.resizeSensors.forEach(e=>e.acceptSize())})}handleRowNavigationLocked(){return this.navigationService.changes.pipe(Jf(()=>lq(this.lockedContainer)),Vy(10)).subscribe(e=>{if(this.lockedLeafColumns.length<=e.prevColIndex&&e.colIndex<this.lockedLeafColumns.length){const t=this.navigationService.activeCell;t&&t.colIndex+t.colSpan<e.prevColIndex&&(this.container.nativeElement.scrollLeft=0)}})}scrollToVirtualRow(e){lq(this.detailTemplate)&&(e=Math.floor(e/2));const t=this.rowHeightService.offset(e);this.container.nativeElement.scrollTop=t,this.resetNavigationViewport()}scrollTo({row:e,column:t}){if(mq(e))if(this.isVirtual)this.scrollToVirtualRow(e);else{const t=kW(e,this.table.nativeElement.rows);t&&(this.container.nativeElement.scrollTop=t.offsetTop)}if(mq(t))if(t-=this.lockedLeafColumns.length,this.virtualColumns){const e=this.columns.leafColumnsToRender;let i=0;for(let n=0;n<t;n++)i+=e[n].width||0;this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(i+(this.lockedLeafColumns.length?0:32*this.groups.length+(this.detailTemplate&&t>0?32:0)))}else if(0===t&&this.detailTemplate)this.container.nativeElement.scrollLeft=this.normalizeScrollLeft(0);else{const e=kW(0,this.table.nativeElement.rows);if(e){const i=SW(t,e.cells,e=>Pq(e,"k-hierarchy-cell k-detail-cell k-group-cell")?0:parseInt(e.getAttribute("colSpan"),10)||1);i&&(this.container.nativeElement.scrollLeft=this.elementScrollLeft(i))}}}resetNavigationViewport(){if(!this.container||!this.navigationService.enabled||!this.navigationService.needsViewport()||0===this.data.length)return;const{scrollTop:e,offsetHeight:t}=this.container.nativeElement,i=e+t,n=this.rowHeightService.index(e);let s=this.rowHeightService.index(i);const r=this.rowHeightService.offset(s);s>0&&r+this.rowHeight>i&&s--;let o=n,a=s;if(lq(this.detailTemplate)){o*=2,a*=2,this.rowHeightService.offset(n)+this.rowHeight<e&&o++;const t=r+this.rowHeightService.height(s)>i;this.rowHeightService.isExpanded(s)&&!t&&a++}this.navigationService.setViewport(o,a)}cleanupScroller(){this.scrollerSubscription&&this.scrollerSubscription.unsubscribe(),this.scroller&&this.scroller.destroy()}initResizeService(){this.resizeService.connect(K(...this.resizeSensors.map(e=>e.resize)))}syncContainerHeight(){var e;[FW(this.lockedContainer)].filter(lq).map(e=>{e.style.height="";let t=this.container.nativeElement.offsetHeight;return((e,t)=>this.table.nativeElement.offsetWidth>this.container.nativeElement.clientWidth)()&&(t-=this.supportService.scrollbarWidth),{el:e,height:t}}).forEach((e=this.renderer,({el:t,height:i})=>e.setStyle(t,"height",i+"px")))}updateViewportColumns(e){const t=this.columns.nonLockedLeafColumns.toArray();let{startIdx:i,endIdx:n,offset:s}=e||this.calculateViewportColumns();const r=Math.max(0,i-1),o=Math.min(n+1,t.length-1);if(r<i)for(let l=i-1;l>=r;l--)s-=t[l].width;let a=t.slice(r,o+1);if(this.viewportColumnsWidth=a.reduce((e,t)=>e+t.width,0),r>0){const e=new NG;e.width=s,a.unshift(e)}this.viewportColumns=new rc,this.viewportColumns.reset(a),this.columnsStartIdx=r,this.columnsEndIdx=o,this.columnInfo.columnRangeChange.emit({start:r,end:o,offset:s}),e||this.updateColumnViewport(i,n)}handleColumnScroll(){const e=this.container.nativeElement.scrollLeft;if(this.scrollLeft!==e){this.scrollLeft=e;const t=this.calculateViewportColumns();this.updateColumnViewport(t.startIdx,t.endIdx),(t.startIdx<this.columnsStartIdx||this.columnsEndIdx<t.endIdx)&&(Eq(this.columnUpdateFrame),this.columnUpdateFrame=_q(()=>{this.ngZone.run(()=>{this.updateViewportColumns(t),this.changeDetector.markForCheck()})}))}}updateColumnViewport(e,t){const i=this.lockedLeafColumns.length,n=this.nonLockedLeafColumns.toArray(),s=i+e+(this.detailTemplate&&e>0?1:0);let r=i+t+(this.detailTemplate?1:0);for(let o=0;o<n.length;o++){const e=n[o];e.isSpanColumn&&(r+=e.childColumns.length)}this.navigationService.setColumnViewport(s,r)}calculateViewportColumns(){const{scrollLeft:e,clientWidth:t}=this.container.nativeElement,i=this.columns.nonLockedLeafColumns.toArray(),n=this.normalizeScrollLeft(e),s=n+t;let r,o,a=0,l=0,c=0;for(o=0;o<i.length;o++){const e=i[o];if(l+=e.width||0,void 0===r&&l>n&&(r=o,c=l-(e.width||0)),l>=s){a=o;break}}return!a&&o>0&&(a=i.length-1),{startIdx:r,endIdx:a,offset:c}}viewportWidthChange(){return this.viewportColumns.toArray().reduce((e,t)=>e+t.width,0)!==this.viewportColumnsWidth}normalizeScrollLeft(e){return this.rtl?function(e,t,i){let n=e;return i<0?n=-e:i>0&&(n=t.scrollWidth-t.offsetWidth-e),n}(e,this.container.nativeElement,this.supportService.rtlScrollLeft):e}elementScrollLeft(e){return this.rtl?this.normalizeScrollLeft(this.container.nativeElement.scrollWidth-e.offsetLeft-e.offsetWidth):e.offsetLeft}};return e.\u0275fac=function(t){return new(t||e)(Fo(EW),Fo(lG),Fo(IK),Fo(MK),Fo(sG),Fo(Wc),Fo(Ya),Fo(BK),Fo(zK),Fo(iG),Fo(hK),Fo(yG),Fo(cG),Fo(Fy),Fo($K),Fo($r),Fo(RK),Fo(cW))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-list"]],viewQuery:function(e,t){var i;1&e&&(gc(Nz,!0),mc(Lz,!0),mc(Vz,!0),gc(Hz,!0),mc(dy,!0)),2&e&&(fc(i=Cc())&&(t.container=i.first),fc(i=Cc())&&(t.lockedContainer=i.first),fc(i=Cc())&&(t.lockedTable=i.first),fc(i=Cc())&&(t.table=i.first),fc(i=Cc())&&(t.resizeSensors=i))},hostVars:3,hostBindings:function(e,t){2&e&&(_o("role",t.hostRole),oa("k-grid-container",t.hostClass))},inputs:{groups:"groups",skip:"skip",columns:"columns",selectable:"selectable",groupable:"groupable",trackBy:"trackBy",data:"data",total:"total",rowHeight:"rowHeight",detailRowHeight:"detailRowHeight",take:"take",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",filterable:"filterable",rowClass:"rowClass",loading:"loading",virtualColumns:"virtualColumns",isVirtual:"isVirtual"},outputs:{contentScroll:"contentScroll",pageChange:"pageChange",scrollBottom:"scrollBottom"},features:[ja([{provide:EW,useValue:IW}]),Oa],decls:14,vars:32,consts:[["class","k-grid-content-locked","role","presentation",3,"width","kendoEventsOutsideAngular","scope",4,"ngIf"],["role","presentation","tabindex","-1",1,"k-grid-content","k-virtual-content",3,"kendoGridResizableContainer","lockedWidth"],["container",""],["role","presentation",1,"k-grid-table-wrap"],["role","presentation",1,"k-grid-table",3,"virtualColumns"],["table",""],["kendoGridColGroup","","role","presentation",3,"groups","columns","detailTemplate"],["kendoGridTableBody","","role","presentation",3,"skipGroupDecoration","data","groups","showGroupFooters","columns","allColumns","detailTemplate","noRecordsTemplate","lockedColumnsCount","totalColumnsCount","skip","selectable","trackBy","filterable","rowClass","virtualColumns"],[4,"ngIf"],["role","presentation",1,"k-height-container"],["class","k-width-container","role","presentation",4,"ngIf"],["kendoGridLoading","",4,"ngIf"],["role","presentation",1,"k-grid-content-locked",3,"kendoEventsOutsideAngular","scope"],["lockedContainer",""],["role","presentation",1,"k-grid-table",3,"locked"],["lockedTable",""],["kendoGridTableBody","","role","presentation",3,"groups","isLocked","data","noRecordsText","columns","totalColumnsCount","detailTemplate","showGroupFooters","skip","selectable","trackBy","filterable","rowClass"],["role","presentation",1,"k-width-container"],["kendoGridLoading",""]],template:function(e,t){1&e&&(Io(0,zz,10,30,"div",0),Po(1,"div",1,2),Po(3,"div",3),Po(4,"table",4,5),No(6,"colgroup",6),No(7,"tbody",7),Mo(),Io(8,jz,1,0,"kendo-resize-sensor",8),Mo(),Io(9,Uz,1,0,"kendo-resize-sensor",8),Po(10,"div",9),No(11,"div"),Mo(),Io(12,$z,2,2,"div",10),Mo(),Io(13,qz,1,0,"div",11)),2&e&&(Oo("ngIf",t.isLocked),vs(1),Oo("kendoGridResizableContainer",t.lockedLeafColumns.length)("lockedWidth",t.lockedWidth+1),vs(3),ra("width",t.nonLockedWidth,"px"),Oo("virtualColumns",t.virtualColumns),vs(2),Oo("groups",t.isLocked?jl(31,_z):t.groups)("columns",t.nonLockedColumnsToRender)("detailTemplate",t.detailTemplate),vs(1),Oo("skipGroupDecoration",t.isLocked)("data",t.data)("groups",t.groups)("showGroupFooters",t.showFooter)("columns",t.nonLockedColumnsToRender)("allColumns",t.nonLockedLeafColumns)("detailTemplate",t.detailTemplate)("noRecordsTemplate",t.noRecordsTemplate)("lockedColumnsCount",t.lockedLeafColumns.length)("totalColumnsCount",t.leafColumns.length)("skip",t.skip)("selectable",t.selectable)("trackBy",t.trackBy)("filterable",t.filterable)("rowClass",t.rowClass)("virtualColumns",t.virtualColumns),vs(1),Oo("ngIf",t.isLocked),vs(1),Oo("ngIf",t.isLocked||t.virtualColumns),vs(2),ra("height",t.totalHeight,"px"),vs(1),Oo("ngIf",t.virtualColumns),vs(1),Oo("ngIf",t.loading))},directives:function(){return[ku,bZ,OZ,mZ,IQ,ny,dy,vZ]},encapsulation:2}),e})(),AW=(()=>{let e=class{constructor(e,t,i){this.grid=e,this.changeDetector=t,this.localDataChangesService=i,this.state={skip:0},this.originalData=[],i&&(this.dataChangedSubscription=this.localDataChangesService.changes.subscribe(this.rebind.bind(this)))}set skip(e){lq(e)||(e=0),this.grid.skip=this.state.skip=e}set sort(e){this.grid.sort=this.state.sort=e}set filter(e){this.grid.filter=this.state.filter=e}set pageSize(e){this.grid.pageSize=this.state.take=e}set group(e){this.grid.group=this.state.group=e}set data(e){this.originalData=e||[],this.localDataChangesService&&(this.localDataChangesService.data=e),this.dataChanged=!0}ngOnInit(){this.applyState(this.state),this.stateChangeSubscription=this.grid.dataStateChange.subscribe(this.onStateChange.bind(this))}ngOnDestroy(){this.stateChangeSubscription&&this.stateChangeSubscription.unsubscribe(),this.dataChangedSubscription&&this.dataChangedSubscription.unsubscribe()}ngOnChanges(e){Jb(["pageSize","skip","sort","group","filter"],e)&&this.rebind()}ngDoCheck(){this.dataChanged&&this.updateGridData()}onStateChange(e){this.applyState(e),this.rebind()}rebind(){this.data=this.originalData,this.updateGridData(),this.notifyDataChange()}notifyDataChange(){this.grid.onDataChange(),this.changeDetector&&this.changeDetector.markForCheck()}process(e){return Zx(this.originalData,e)}applyState({skip:e,take:t,sort:i,group:n,filter:s}){this.skip=e,this.pageSize=t,this.sort=i,this.group=n,this.filter=s}updateGridData(){this.grid.data=this.process(this.state),this.dataChanged=!1}};return e.\u0275fac=function(t){return new(t||e)(Fo(vW),Fo($r),Fo(Fq))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridBinding",""]],inputs:{skip:"skip",sort:"sort",filter:"filter",pageSize:"pageSize",group:"group",data:["kendoGridBinding","data"]},features:[Oa]}),e})(),OW=(()=>{let e=class extends wK{constructor(e,t){super(e,t),this.grid=e}ngOnInit(){!1===this.grid.selectable&&(this.grid.selectable=!0),this.grid.selectionDirective=this}ngOnDestroy(){super.destroy()}};return e.\u0275fac=function(t){return new(t||e)(Fo(vW),Fo($r))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridSelectBy",""]],features:[Ea]}),e})(),RW=(()=>{class e extends Ey{}return e.\u0275fac=function(t){return WQ(t||e)},e.\u0275dir=yt({type:e,inputs:{groupPanelEmpty:"groupPanelEmpty",noRecords:"noRecords",pagerFirstPage:"pagerFirstPage",pagerLastPage:"pagerLastPage",pagerPreviousPage:"pagerPreviousPage",pagerNextPage:"pagerNextPage",pagerPage:"pagerPage",pagerItemsPerPage:"pagerItemsPerPage",pagerOf:"pagerOf",pagerItems:"pagerItems",pagerPageNumberInputTitle:"pagerPageNumberInputTitle",filter:"filter",filterEqOperator:"filterEqOperator",filterNotEqOperator:"filterNotEqOperator",filterIsNullOperator:"filterIsNullOperator",filterIsNotNullOperator:"filterIsNotNullOperator",filterIsEmptyOperator:"filterIsEmptyOperator",filterIsNotEmptyOperator:"filterIsNotEmptyOperator",filterStartsWithOperator:"filterStartsWithOperator",filterContainsOperator:"filterContainsOperator",filterNotContainsOperator:"filterNotContainsOperator",filterEndsWithOperator:"filterEndsWithOperator",filterGteOperator:"filterGteOperator",filterGtOperator:"filterGtOperator",filterLteOperator:"filterLteOperator",filterLtOperator:"filterLtOperator",filterIsTrue:"filterIsTrue",filterIsFalse:"filterIsFalse",filterBooleanAll:"filterBooleanAll",filterAfterOrEqualOperator:"filterAfterOrEqualOperator",filterAfterOperator:"filterAfterOperator",filterBeforeOperator:"filterBeforeOperator",filterBeforeOrEqualOperator:"filterBeforeOrEqualOperator",filterFilterButton:"filterFilterButton",filterClearButton:"filterClearButton",filterAndLogic:"filterAndLogic",filterOrLogic:"filterOrLogic",loading:"loading",columnMenu:"columnMenu",columns:"columns",lock:"lock",unlock:"unlock",sortable:"sortable",sortAscending:"sortAscending",sortDescending:"sortDescending",sortedAscending:"sortedAscending",sortedDescending:"sortedDescending",sortedDefault:"sortedDefault",columnsApply:"columnsApply",columnsReset:"columnsReset",detailExpand:"detailExpand",detailCollapse:"detailCollapse",filterDateToday:"filterDateToday",filterDateToggle:"filterDateToggle",filterNumericDecrement:"filterNumericDecrement",filterNumericIncrement:"filterNumericIncrement"},features:[Ea]}),e})();var PW;let MW=(()=>{let e=PW=class extends RW{constructor(e){super(),this.service=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridLocalizedMessages",""]],features:[ja([{provide:RW,useExisting:Se(()=>PW)}]),Ea]}),e})(),NW=(()=>{let e=class{constructor(e){this.localization=e,this.columns=[],this.groups=[],this.filterRowClass=!0,this.filterLabel=this.localization.get("filter")}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFilterRow",""]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-filter-row",t.filterRowClass)},inputs:{columns:"columns",groups:"groups",filter:"filter",detailTemplate:"detailTemplate",logicalRowIndex:"logicalRowIndex",lockedColumnsCount:"lockedColumnsCount"},attrs:Gz,decls:3,vars:3,consts:[["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridFilterCell","","kendoGridLogicalCell","",3,"column","filter","logicalRowIndex","logicalColIndex"]],template:function(e,t){1&e&&(Io(0,Kz,1,2,"td",0),Io(1,Wz,1,2,"td",1),Io(2,Zz,1,5,"td",2)),2&e&&(Oo("ngForOf",t.groups),vs(1),Oo("ngIf",null==t.detailTemplate?null:t.detailTemplate.templateRef),vs(1),Oo("ngForOf",t.columns))},directives:function(){return[xu,ku,VW,xZ]},encapsulation:2}),e})();const LW=e=>{if(e)return zC(e)?{filters:LW(e.filters),logic:e.logic}:Array.isArray(e)?e.map(LW):(e=>(e=>{const t={};if(Object.assign(t,e),e.constructor!==Object){const i=e.constructor.prototype;Object.getOwnPropertyNames(i).forEach(n=>{"constructor"!==n&&i.hasOwnProperty(n)&&(t[n]=e[n])})}return t})(e))(e)};let VW=(()=>{let e=class{constructor(){this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=LW(e)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.filter,this._templateContext.$implicit=this.filter,this._templateContext}get hasTemplate(){return lq(this.column.filterCellTemplateRef)}get isFilterable(){return lq(this.column)&&!dq(this.column.field)&&this.column.filterable}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFilterCell",""]],inputs:{filter:"filter",column:"column"},attrs:Yz,decls:1,vars:1,consts:[[3,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["kendoFilterCellHost","",3,"column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Io(0,tj,3,3,"ng-template",0),2&e&&Oo("ngIf",t.isFilterable)},directives:function(){return[ku,Tu,Fu,iY,Ou]},encapsulation:2}),e})();const HW=(e=>t=>Object.keys(e).reduce((i,n)=>(i[e[n]]=t.get(n),i),{}))({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterAfterOrEqualOperator:"after-eq",filterAfterOperator:"after",filterBeforeOrEqualOperator:"before-eq",filterBeforeOperator:"before"}),BW=e=>e.map(e=>e.toJSON());let zW=(()=>{class e{constructor(e,t){this.operator=e,this.localization=t,this.messages=HW(this.localization),this._text=this.messages[this.operator],this.localization.changes.subscribe(this.refreshText.bind(this))}get text(){return this._text}set text(e){this._text=dq(e)?this.messages[this.operator]:e}toJSON(){return{text:this.text,value:this.operator}}refreshText(){const e=this._text===this.messages[this.operator];this.messages=HW(this.localization),e&&(this._text=this.messages[this.operator])}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,inputs:{text:"text"}}),e})();const jW=(e,t,i,n)=>lq(t)&&lq(t.filters)&&t.filters.length>e?t.filters[e]:((e,t,i)=>((t=t||{filters:[],logic:"and"}).filters[e]=i,i))(e,t,{field:i,operator:n}),UW=e=>[{text:e.get("filterAndLogic"),value:"and"},{text:e.get("filterOrLogic"),value:"or"}],$W=e=>lq(e.filters)?e.filters.reduce((e,t)=>e.concat(zC(t)?$W(t):[t]),[]):[],qW=(e,t)=>{lq(e)&&lq(e.filters)&&(e.filters=e.filters.filter(e=>zC(e)?(qW(e,t),e.filters.length):e.field!==t))},GW=(e,t)=>$W(e||{}).filter(e=>e.field===t),KW=(e,t)=>(qW(e,t),e),WW=e=>t=>Object.keys(e).map(i=>({text:t.get(i),value:e[i]}));let ZW=(()=>{class e{constructor(e){this.filterService=e,this.operatorList=new rc}get hostClasses(){return!0}get operators(){return this._operators.length?this._operators:this.defaultOperators}set operators(e){this._operators=e}ngAfterContentInit(){this.operationListSubscription=pq(this.operatorList).pipe(L(e=>e.toArray()),L(BW)).subscribe(e=>{this.operators=e})}ngOnDestroy(){this.operationListSubscription&&this.operationListSubscription.unsubscribe()}filterByField(e){return((e,t)=>{let[i]=GW(e,t);return i})(this.filter,e)}filtersByField(e){return GW(this.filter,e)}removeFilter(e){return KW(this.filter,e)}updateFilter(e){const t=this.filter||{filters:[],logic:"and"};let[i]=$W(t).filter(t=>t.field===e.field);return lq(i)?Object.assign(i,e):t.filters.push(e),t}applyFilter(e){this.filterService.filter(e)}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,contentQueries:function(e,t,i){var n;1&e&&bc(i,zW,!1),2&e&&fc(n=Cc())&&(t.operatorList=n)},hostVars:2,hostBindings:function(e,t){2&e&&oa("k-filtercell",t.hostClasses)}}),e})();const YW=WW({filterEqOperator:"eq",filterNotEqOperator:"neq",filterGteOperator:"gte",filterGtOperator:"gt",filterLteOperator:"lte",filterLtOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let QW=(()=>{class e extends ZW{constructor(e,t){super(e),this.localization=t,this.operator="eq",this.step=1,this.spinners=!0,this.defaultOperators=YW(this.localization)}set format(e){this._format=e}get format(){return dq(this._format)?this.columnFormat:this._format}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}get columnFormat(){return this.column&&!dq(this.column.format)?vq(this.column.format):"n2"}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=YW(this.localization),this.operatorList.length&&(this.operators=BW(this.operatorList.toArray()))}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,inputs:{operator:"operator",step:"step",spinners:"spinners",format:"format",column:"column",filter:"filter",min:"min",max:"max",decimals:"decimals"},features:[Ea]}),e})(),JW=(()=>{let e=class extends QW{constructor(e,t){super(e,t),this.localization=t,this.filterDelay=500,this.showOperators=!0}messageFor(e){return this.localization.get(e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(AK),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Ea],decls:3,vars:16,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-filter-wrapper-cell",0),Po(1,"kendo-numerictextbox",1),No(2,"kendo-numerictextbox-messages",2),Mo(),Mo()),2&e&&(Oo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),vs(1),Oo("filterDelay",t.filterDelay)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),vs(1),Oo("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},directives:function(){return[sZ,nF,Wq,XW,oF]},encapsulation:2}),e})(),XW=(()=>{let e=class{constructor(e,t,i,n){this.change=new nc,this.composing=!1,this.filterDelay=500,this.changeRequests=new _,this.accessor=e[0],t.runOutsideAngular(()=>{const e=n.listen(i.nativeElement,"compositionstart",()=>this.composing=!0),t=n.listen(i.nativeElement,"compositionend",()=>this.composing=!1);this.unsubscribeEvents=()=>{e(),t()}})}set value(e){this.accessor.writeValue(e)}set disabled(e){this.accessor.setDisabledState(e)}ngAfterViewInit(){this.accessor.registerOnChange(e=>this.filterDelay>0?this.changeRequests.next(e):this.change.emit(e)),this.subscribeChanges()}ngOnChanges(e){Qb("filterDelay",e)&&(this.unsubscribeChanges(),this.subscribeChanges())}ngOnDestroy(){this.unsubscribeChanges(),this.unsubscribeEvents()}subscribeChanges(){this.changeRequestsSubscription=this.changeRequests.pipe(Wy(this.filterDelay),Jf(()=>!this.composing)).subscribe(e=>this.change.emit(e))}unsubscribeChanges(){this.changeRequestsSubscription&&this.changeRequestsSubscription.unsubscribe()}};return e.\u0275fac=function(t){return new(t||e)(Fo(iw,2),Fo(Wc),Fo(Ga),Fo(Ya))},e.\u0275dir=yt({type:e,selectors:[["","kendoFilterInput",""]],inputs:{filterDelay:"filterDelay",value:"value"},features:[Oa]}),e})();const eZ=new Set(["isnull","isnotnull","isempty","isnotempty"]),tZ=e=>eZ.has(e);let iZ=(()=>{class e extends ZW{constructor(e){super(e),this.operators=[]}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){const e=this.currentFilter;return this._operator||(this._operator=e?e.operator:this.defaultOperator),this._operator}set currentOperator(e){this._operator=e;const t=tZ(e);this.filterInputDisabled=t,t?this.applyNoValueFilter(e):!cq(e)&&lq(this.currentFilter)&&this.onChange(this.currentFilter.value)}get defaultOperator(){return dq(this._defaultOperator)?this.operators&&this.operators.length?this.operators[0].value:"eq":this._defaultOperator}set defaultOperator(e){this._defaultOperator=e}set filterInputDisabled(e){this.input&&(this.input.disabled=e)}ngAfterContentInit(){lq(this.input)&&(this.changeSubscription=this.input.change.subscribe(this.onChange.bind(this)),this.filterInputDisabled=tZ(this.currentOperator))}ngOnDestroy(){super.ngOnDestroy(),this.changeSubscription&&this.changeSubscription.unsubscribe()}onChange(e){dq(e)&&!this.filterByField(this.column.field)||this.filterChange(dq(e)?this.removeFilter(this.column.field):this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}onClear(){this.onChange(null),this.filterInputDisabled=tZ(this.defaultOperator)}applyNoValueFilter(e){this.filterChange(this.updateFilter({field:this.column.field,operator:e,value:null}))}ngOnChanges(e){Qb("filter",e,!1)&&(this._operator=null,this.filterInputDisabled=tZ(this.currentOperator))}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,contentQueries:function(e,t,i){var n;1&e&&bc(i,XW,!0),2&e&&fc(n=Cc())&&(t.input=n.first)},inputs:{operators:"operators",defaultOperator:"defaultOperator",column:"column",filter:"filter"},features:[Ea,Oa]}),e})();const nZ=["isnull","isnotnull","isempty","isnotempty"];let sZ=(()=>{let e=class extends iZ{constructor(e){super(e),this.showOperators=!0}get hostClasses(){return!0}get overrideBaseClasses(){return!1}get showButton(){const e=this.currentFilter;return lq(e)&&(!dq(e.value)||nZ.indexOf(String(e.operator))>=0)}filterChange(e){this.applyFilter(e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(AK))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-wrapper-cell"]],hostVars:4,hostBindings:function(e,t){2&e&&oa("k-filtercell-wrapper",t.hostClasses)("k-filtercell",t.overrideBaseClasses)},inputs:{showOperators:"showOperators"},features:[Ea],ngContentSelectors:ij,decls:2,vars:4,consts:[[3,"showOperators","operators","showButton","value","clear","valueChange"]],template:function(e,t){1&e&&(Wo(),Zo(0),Po(1,"kendo-grid-filter-cell-operators",0),Uo("clear",(function(){return t.onClear()}))("valueChange",(function(e){return t.currentOperator=e})),Mo()),2&e&&(vs(1),Oo("showOperators",t.showOperators)("operators",t.operators)("showButton",t.showButton)("value",t.currentOperator))},directives:function(){return[lZ]},encapsulation:2}),e})();const rZ=WW({filterEqOperator:"eq",filterNotEqOperator:"neq",filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let oZ=(()=>{class e extends ZW{constructor(e,t){super(e),this.localization=t,this.operator="contains"}get currentFilter(){return this.filterByField((this.column||{}).field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=rZ(this.localization),this.operatorList.length&&(this.operators=BW(this.operatorList.toArray()))}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,inputs:{operator:"operator",column:"column",filter:"filter"},features:[Ea]}),e})(),aZ=(()=>{let e=class extends oZ{constructor(e,t){super(e,t),this.filterDelay=500,this.showOperators=!0}};return e.\u0275fac=function(t){return new(t||e)(Fo(AK),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-cell"]],inputs:{filterDelay:"filterDelay",showOperators:"showOperators"},features:[Ea],decls:2,vars:7,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoGridFocusable","","kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-filter-wrapper-cell",0),No(1,"input",1),Mo()),2&e&&(Oo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),vs(1),Oo("filterDelay",t.filterDelay)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[sZ,aw,Wq,XW,fw,pC],encapsulation:2}),e})(),lZ=(()=>{let e=class{constructor(e){this.localization=e,this.clearText="Clear",this.operators=[],this.showOperators=!0,this.valueChange=new nc,this.clear=new nc}get hostClasses(){return!0}onChange(e){this.valueChange.emit(e)}clearClick(){return this.clear.emit(),!1}clearKeydown(e){e.keyCode!==gy.Enter&&e.keyCode!==gy.Space||this.clear.emit()}dropdownKeydown(e){e.defaultPrevented||e.keyCode!==gy.Enter||this.dropdown.isOpen||(this.dropdown.toggle(!0),e.preventDefault())}ngOnInit(){this.localization.changes.subscribe(()=>this.clearText=this.localization.get("filterClearButton"))}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-cell-operators"]],viewQuery:function(e,t){var i;1&e&&mc(nj,!0),2&e&&fc(i=Cc())&&(t.dropdown=i.first)},hostVars:2,hostBindings:function(e,t){2&e&&oa("k-filtercell-operator",t.hostClasses)},inputs:{operators:"operators",showOperators:"showOperators",showButton:"showButton",value:"value"},outputs:{valueChange:"valueChange",clear:"clear"},decls:3,vars:5,consts:[["kendoGridFocusable","","class","k-dropdown-operator","iconClass","k-i-filter","textField","text","valueField","value",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown",4,"ngIf"],["type","button","kendoGridFocusable","",1,"k-button","k-button-icon",3,"ngClass","title","click","keydown"],[1,"k-icon","k-i-filter-clear"],["kendoGridFocusable","","iconClass","k-i-filter","textField","text","valueField","value",1,"k-dropdown-operator",3,"data","value","valuePrimitive","popupSettings","valueChange","keydown"],["dropdown",""]],template:function(e,t){1&e&&(Io(0,rj,2,5,"kendo-dropdownlist",0),Po(1,"button",1),Uo("click",(function(){return t.clearClick()}))("keydown",(function(e){return t.clearKeydown(e)})),No(2,"span",2),Mo()),2&e&&(Oo("ngIf",t.showOperators),vs(1),Oo("ngClass",Ul(3,oj,t.showButton))("title",t.clearText))},directives:[ku,Wq,wu,B_],encapsulation:2}),e})();const cZ=WW({filterContainsOperator:"contains",filterNotContainsOperator:"doesnotcontain",filterEqOperator:"eq",filterNotEqOperator:"neq",filterStartsWithOperator:"startswith",filterEndsWithOperator:"endswith",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull",filterIsEmptyOperator:"isempty",filterIsNotEmptyOperator:"isnotempty"});let hZ=(()=>{let e=class extends ZW{constructor(e,t,i){super(e),this.localization=i,this.showOperators=!0,this.defaultOperators=cZ(this.localization),this.column=t}set valueField(e){this._valueField=e}get valueField(){return this._valueField?this._valueField:this.column.field}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:"contains"}};return e.\u0275fac=function(t){return new(t||e)(Fo(AK),Fo(zG),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-autocomplete-filter-cell"]],inputs:{showOperators:"showOperators",column:"column",valueField:"valueField",filter:"filter",data:"data"},features:[Ea],decls:2,vars:7,consts:[[3,"column","filter","operators","showOperators"],["kendoFilterInput","",3,"data","valueField","value"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-filter-wrapper-cell",0),No(1,"kendo-autocomplete",1),Mo()),2&e&&(Oo("column",t.column)("filter",t.filter)("operators",t.operators)("showOperators",t.showOperators),vs(1),Oo("data",t.data)("valueField",t.valueField)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[sZ,N_,XW],encapsulation:2}),e})(),uZ=(()=>{class e extends ZW{constructor(e,t){super(e),this.localization=t,this.operator="eq",this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}get hostClasses(){return!0}get currentFilter(){return this.filterByField(this.column.field)}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.items=[{text:this.localization.get("filterIsTrue"),value:!0},{text:this.localization.get("filterIsFalse"),value:!1}],this.defaultItem={text:this.localization.get("filterBooleanAll"),value:null}}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,hostVars:2,hostBindings:function(e,t){2&e&&oa("k-filtercell-boolean",t.hostClasses)},inputs:{column:"column",filter:"filter"},features:[Ea]}),e})(),dZ=(()=>{let e=class extends uZ{constructor(e,t,i){super(e,t),this.cd=i}localizationChange(){super.localizationChange(),this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(AK),Fo(Fy),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-boolean-filter-cell"]],features:[Ea],decls:2,vars:10,consts:[[3,"column","filter","showOperators","defaultOperator"],["kendoFilterInput","","textField","text","valueField","value",3,"defaultItem","data","popupSettings","valuePrimitive","value"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-filter-wrapper-cell",0),No(1,"kendo-dropdownlist",1),Mo()),2&e&&(Oo("column",t.column)("filter",t.filter)("showOperators",!1)("defaultOperator",t.operator),vs(1),Oo("defaultItem",t.defaultItem)("data",t.items)("popupSettings",jl(9,sj))("valuePrimitive",!0)("value",null==t.currentFilter?null:t.currentFilter.value))},directives:[sZ,B_,XW],encapsulation:2}),e})();const pZ=WW({filterEqOperator:"eq",filterNotEqOperator:"neq",filterAfterOrEqualOperator:"gte",filterAfterOperator:"gt",filterBeforeOrEqualOperator:"lte",filterBeforeOperator:"lt",filterIsNullOperator:"isnull",filterIsNotNullOperator:"isnotnull"});let fZ=(()=>{class e extends ZW{constructor(e,t){super(e),this.localization=t,this.operator="gte",this.activeView="month",this.bottomView="month",this.topView="century",this.weekNumber=!1,this.defaultOperators=pZ(this.localization)}get currentFilter(){return this.filterByField(this.column.field)}set format(e){this._format=e}get format(){return dq(this._format)?this.columnFormat:this._format}get columnFormat(){return this.column&&!dq(this.column.format)?vq(this.column.format):"d"}get currentOperator(){return this.currentFilter?this.currentFilter.operator:this.operator}ngOnInit(){this.subscription=this.localization.changes.subscribe(this.localizationChange.bind(this))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),super.ngOnDestroy()}localizationChange(){this.defaultOperators=pZ(this.localization),this.operatorList.length&&(this.operators=BW(this.operatorList.toArray()))}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,inputs:{operator:"operator",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber",format:"format",column:"column",filter:"filter",min:"min",max:"max",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder"},features:[Ea]}),e})(),gZ=(()=>{let e=class extends fZ{constructor(e,t){super(e,t),this.localization=t,this.showOperators=!0}messageFor(e){return this.localization.get(e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(AK),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-cell"]],inputs:{showOperators:"showOperators"},features:[Ea],decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","showOperators"],["kendoFilterInput","",3,"value","format","formatPlaceholder","placeholder","activeView","bottomView","topView","min","max","weekNumber"],[3,"toggle","today"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-filter-wrapper-cell",0),Po(1,"kendo-datepicker",1),No(2,"kendo-datepicker-messages",2),Mo(),Mo()),2&e&&(Oo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("showOperators",t.showOperators),vs(1),Oo("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),vs(1),Oo("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},directives:[sZ,tP,XW,BP],encapsulation:2}),e})(),mZ=(()=>{let e=class{constructor(){this.columns=[],this.groups=[]}get columnsToRender(){return KG(this.columns)}trackBy(e,t){return e}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridColGroup",""]],inputs:{columns:"columns",groups:"groups",detailTemplate:"detailTemplate"},attrs:aj,decls:1,vars:1,consts:[[3,"ngIf"],[3,"k-group-col",4,"ngFor","ngForOf"],[3,"k-hierarchy-col",4,"ngIf"],[3,"width",4,"ngFor","ngForOf","ngForTrackBy"]],template:function(e,t){1&e&&Io(0,uj,3,4,"ng-template",0),2&e&&Oo("ngIf",!0)},directives:[ku,xu],encapsulation:2}),e})(),vZ=(()=>{let e=class{constructor(e){this.localization=e,this.hostClass=!0}get loadingText(){return this.localization.get("loading")}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridLoading",""]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-loading-mask",t.hostClass)},attrs:dj,decls:4,vars:1,consts:[[1,"k-loading-text"],[1,"k-loading-image"],[1,"k-loading-color"]],template:function(e,t){1&e&&(Po(0,"span",0),ya(1),Mo(),No(2,"div",1),No(3,"div",2)),2&e&&(vs(1),wa(t.loadingText))},encapsulation:2}),e})(),bZ=(()=>{let e=class{constructor(e,t,i,n){this.el=e,this.renderer=t,this.resizeService=i,this.grid=n,this.enabled=!1}set lockedWidth(e){this._lockedWidth=e,this.enabled&&(this.attachResize(),this.resize())}set kendoGridResizableContainer(e){const t=e!==this.enabled;this.enabled=e,t&&(this.attachResize(),this.resize())}ngOnDestroy(){this.resizeSubscription&&this.resizeSubscription.unsubscribe()}attachResize(){this.resizeSubscription&&!this.enabled&&(this.resizeSubscription.unsubscribe(),this.resizeSubscription=null),!this.resizeSubscription&&this.enabled&&(this.resizeSubscription=this.resizeService.changes.subscribe(this.resize.bind(this)))}resize(){if(this.grid&&this.grid.wrapper){const e=Math.max(this.grid.wrapper.nativeElement.clientWidth-this._lockedWidth,0);this.renderer.setStyle(this.el.nativeElement,"width",this.enabled&&e>0?e+"px":"")}}};return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Ya),Fo(zK),Fo(vW,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridResizableContainer",""]],inputs:{lockedWidth:"lockedWidth",kendoGridResizableContainer:"kendoGridResizableContainer"}}),e})(),yZ=(()=>{let e=class{constructor(e){this.viewContainerRef=e}set templateContext(e){this.removeView(),e.templateRef&&(this.insertedViewRef=this.viewContainerRef.createEmbeddedView(e.templateRef,e))}ngOnDestroy(){this.removeView()}removeView(){this.insertedViewRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.insertedViewRef)),this.insertedViewRef=void 0)}};return e.\u0275fac=function(t){return new(t||e)(Fo(bl))},e.\u0275dir=yt({type:e,selectors:[["","templateContext",""]],inputs:{templateContext:"templateContext"}}),e})(),wZ=(()=>{let e=class{constructor(e){this.root=e,this.active=!0,this.children=[],this.root.registerGroup(this)}get focusableChildren(){return this.children.filter(e=>e.canFocus())}get isActive(){return this.active}ngOnDestroy(){this.root.unregisterGroup(this)}registerElement(e){this.unregisterElement(e),this.children.push(e)}unregisterElement(e){this.children=this.children.filter(t=>t!==e)}isNavigable(){const e=this.focusableChildren;return 1===e.length&&e[0].isNavigable()}canFocus(){return this.focusableChildren.length>0}focus(){this.canFocus()&&!this.hasFocus()&&this.focusableChildren[0].focus()}activate(){this.toggleState(!0)}deactivate(){this.toggleState(!1)}hasFocus(){return this.children.reduce((e,t)=>e||t.hasFocus(),!1)}toggleState(e){this.active!==e&&(this.active=e,this.children.forEach(t=>t.toggle(e)))}};return e.\u0275fac=function(t){return new(t||e)(We(Dq))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),CZ=0,xZ=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a){this.focusGroup=e,this.element=t,this.columnInfoService=i,this.idService=n,this.navigationService=s,this.renderer=r,this.zone=o,this.cellContext=a,this.logicalSlaveCell=!1,this.colSpan=1,this.rowSpan=1,this.dataRowIndex=-1,this.detailExpandCell=!1,this.uid=CZ++}get id(){if(!this.logicalSlaveCell&&this.columnInfoService.isLocked)return this.idService.cellId(this.logicalRowIndex,this.logicalColIndex)}get ariaColIndex(){if(!this.logicalSlaveCell&&-1!==this.logicalColIndex)return this.logicalColIndex+1}ngOnInit(){this.navigationService.enabled&&(this.navigationChange=this.navigationService.changes.subscribe(e=>this.onNavigationChange(e)))}ngDoCheck(){this.navigationService.enabled&&-1!==this.logicalColIndex&&(this.cellContext&&(this.cellContext.focusGroup=this.focusGroup),this.registerNoChanges())}ngOnChanges(e){if(!this.navigationService.enabled)return;const t=Object.keys(e);if(1===t.length&&"groupItem"===t[0]||-1===this.logicalColIndex)return;const i=e.logicalColIndex,n=e.logicalRowIndex,s=i&&!i.isFirstChange()?i.previousValue:this.logicalColIndex,r=n&&!n.isFirstChange()?n.previousValue:this.logicalRowIndex;this.navigationService.unregisterCell(s,r,this),this.registerChanges(),this.updateElement()}ngOnDestroy(){this.navigationChange&&this.navigationChange.unsubscribe(),this.navigationService.unregisterCell(this.logicalColIndex,this.logicalRowIndex,this)}onNavigationChange(e){(this.logicalColIndex===e.colIndex&&this.logicalRowIndex===e.rowIndex||this.logicalColIndex===e.prevColIndex&&this.logicalRowIndex===e.prevRowIndex)&&this.updateElement()}updateElement(){const e=this.element.nativeElement;this.renderer.setAttribute(e,"tabIndex",this.isFocusable()&&!this.logicalSlaveCell?"0":"-1"),this.isFocused()?this.focusGroup.isNavigable()?this.focusGroup.focus():(!this.logicalSlaveCell&&this.navigationService.autoFocusCell(this.logicalColIndex,this.logicalColIndex+this.colSpan-1)&&this.microtask(()=>this.isFocused()&&e.focus()),this.renderer.addClass(e,"k-state-focused")):this.renderer.removeClass(e,"k-state-focused")}microtask(e){this.zone.runOutsideAngular(()=>Promise.resolve(null).then(e))}registerChanges(){this.logicalSlaveCell||this.navigationService.registerCell(this)}registerNoChanges(){this.logicalSlaveCell||this.navigationService.registerCellOnCurrentRow(this)}isFocusable(){return this.navigationService.isCellFocusable(this)}isFocused(){return this.navigationService.isCellFocused(this)}};return e.\u0275fac=function(t){return new(t||e)(Fo(wZ),Fo(Ga),Fo(cW),Fo(lW),Fo(yG),Fo(Ya),Fo(Wc),Fo(Kq,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridLogicalCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&_o("id",t.id)("aria-colindex",t.ariaColIndex)},inputs:{logicalSlaveCell:"logicalSlaveCell",colSpan:"colSpan",rowSpan:"rowSpan",dataRowIndex:"dataRowIndex",detailExpandCell:"detailExpandCell",logicalColIndex:"logicalColIndex",logicalRowIndex:"logicalRowIndex",colIndex:"colIndex",groupItem:"groupItem",dataItem:"dataItem"},features:[ja([{provide:wZ,deps:[Dq],useClass:wZ}]),Oa]}),e})(),SZ=0,kZ=(()=>{let e=class{constructor(e,t){this.idService=e,this.navigation=t,this.logicalSlaveRow=!1,this.logicalSlaveCellsCount=0,this.dataRowIndex=-1,this.uid=SZ++}get hostRole(){return this.logicalSlaveRow?"presentation":"row"}get ariaRowIndex(){if(this.navigation.enabled)return this.logicalRowIndex+1}get ariaOwns(){if(!this.navigation.enabled||this.logicalSlaveRow||0===this.logicalSlaveCellsCount)return;const e=[],t=this.logicalCellsCount+this.logicalSlaveCellsCount;for(let i=this.logicalCellsCount;i<t;i++)e.push(this.idService.cellId(this.logicalRowIndex,i));return e.join(" ")}ngOnChanges(e){if(!this.navigation.enabled||this.logicalSlaveRow)return;const t=e.logicalRowIndex;if(t||e.logicalSlaveRow){const e=t&&!t.isFirstChange()?t.previousValue:this.logicalRowIndex;this.navigation.unregisterRow(e,this),this.navigation.registerRow(this)}else Jb(["dataRowIndex","dataItem"],e)&&this.navigation.updateRow(this)}ngOnDestroy(){this.navigation.unregisterRow(this.logicalRowIndex,this)}};return e.\u0275fac=function(t){return new(t||e)(Fo(lW),Fo(yG))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridLogicalRow",""]],hostVars:3,hostBindings:function(e,t){2&e&&_o("role",t.hostRole)("aria-rowindex",t.ariaRowIndex)("aria-owns",t.ariaOwns)},inputs:{logicalSlaveRow:"logicalSlaveRow",logicalSlaveCellsCount:"logicalSlaveCellsCount",dataRowIndex:"dataRowIndex",logicalRowIndex:"logicalRowIndex",logicalCellsCount:"logicalCellsCount",dataItem:"dataItem"},features:[Oa]}),e})();const _Z=/\{\d+:?/;let EZ=(()=>{let e=class{constructor(e){this.intlService=e}transform(e,t,i){if(!dq(t)){const n=function(e){if(WS[e])return WS[e];const t=function(e){const t=[];return e.replace(KS,(function(e,i,n,s){t.push(void 0!==i?i:n||s)})),t}(e);return WS[e]=function(e){let i=e;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i},WS[e]}(t)(e);return dq(i)?n:this.formatValue(i,n)}return e}formatValue(e,t){const i=this.intlService;return gq(e)&&e.match(_Z)?i.format(e,t):i.toString(t,e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(TT))},e.\u0275pipe=wt({name:"valueOf",type:e,pure:!1}),e})();const IZ=({columns:e})=>Math.max(1,(e=>e.filter(e=>uq(e.resizable)&&e.isVisible))(e).length),TZ=e=>t=>t.querySelector(e),FZ=(e,t="td")=>i=>i.querySelectorAll(t+":not(.k-group-cell):not(.k-hierarchy-cell)")[e],DZ=e=>e.offsetWidth,AZ=(...e)=>t=>e.reduce((e,t)=>e?t(e):0,t);let OZ=(()=>{let e=class{constructor(e,t,i,n,s){this.element=e,this.renderer=t,this.service=i,this.zone=n,this.cdr=s,this.locked=!1,this.firstResize=!1}get minWidth(){return this.firstResize?0:null}ngOnInit(){const e=this.service.changes.pipe(Jf(e=>this.locked===e.locked));this.subscription=e.pipe(Jf(e=>"start"===e.type),Ag(this.initState.bind(this)),L(IZ),xg(t=>e.pipe(Jf(e=>"resizeTable"===e.type),L(e=>e.delta),function(e,t=null){return function(i){return i.lift(new Jy(e,t))}}(t)))).subscribe(this.resize.bind(this)),this.autoFitSubscription=this.service.registerTable({autoFit:this.autoFitObservable.bind(this),locked:this.locked})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.autoFitSubscription&&(this.autoFitSubscription(),this.autoFitSubscription=null)}initState(){this.firstResize=!0,this.virtualColumns&&!this.locked||(this.originalWidth=DZ(this.element.nativeElement))}resize(e){if(!this.virtualColumns||this.locked){const t=e.reduce((e,t)=>e+t,0);this.renderer.setStyle(this.element.nativeElement,"width",this.originalWidth+t+"px")}this.cdr.detectChanges()}autoFitObservable(e){return w.create(t=>{this.zone.runOutsideAngular(()=>{this.renderer.addClass(this.element.nativeElement,"k-autofitting"),this.cdr.detectChanges();const i=e.map(this.measureColumn.bind(this));this.renderer.removeClass(this.element.nativeElement,"k-autofitting"),t.next(i)})})}measureColumn(e){const t=this.element.nativeElement,i=AZ((n=e.level,e=>e.querySelectorAll("thead>tr")[n]),FZ(e.headerIndex,"th"),DZ)(t);var n;let s=0;(!e.isParentSpan||e.isParentSpan&&e.isLastInSpan)&&(s=AZ(TZ("tbody>tr:not(.k-grouping-row):not(.k-grid-norecords)"),FZ(e.index),DZ)(t));const r=AZ(TZ("tfoot>tr"),FZ(e.index),DZ)(t);return Math.max(i,s,r)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Ya),Fo($K),Fo(Wc),Fo($r))},e.\u0275dir=yt({type:e,selectors:[["table"]],hostVars:2,hostBindings:function(e,t){2&e&&ra("min-width",t.minWidth)},inputs:{locked:"locked",virtualColumns:"virtualColumns"}}),e})(),RZ=(()=>{let e=class{static exports(){return[zG,$G,sK,OG,rK,Wq]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu],iy,sy]}),e})();var PZ,MZ,NZ,LZ,VZ,HZ,BZ,zZ,jZ,UZ,$Z,qZ,GZ,KZ,WZ,ZZ,YZ,QZ;const JZ=[lZ,(()=>{let e=PZ=class extends zW{constructor(e){super("contains",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-contains-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>PZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=MZ=class extends zW{constructor(e){super("doesnotcontain",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-not-contains-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>MZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=NZ=class extends zW{constructor(e){super("endswith",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-endswith-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>NZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=LZ=class extends zW{constructor(e){super("eq",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-eq-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>LZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=VZ=class extends zW{constructor(e){super("isempty",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isempty-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>VZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=HZ=class extends zW{constructor(e){super("isnotempty",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnotempty-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>HZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=BZ=class extends zW{constructor(e){super("isnotnull",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnotnull-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>BZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=zZ=class extends zW{constructor(e){super("isnull",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-isnull-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>zZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=jZ=class extends zW{constructor(e){super("neq",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-neq-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>jZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=UZ=class extends zW{constructor(e){super("startswith",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-startswith-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>UZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=$Z=class extends zW{constructor(e){super("gt",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-gt-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>$Z)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=qZ=class extends zW{constructor(e){super("gte",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-gte-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>qZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=GZ=class extends zW{constructor(e){super("lt",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-lt-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>GZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=KZ=class extends zW{constructor(e){super("lte",e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-lte-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>KZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=WZ=class extends zW{constructor(e){super("after",e)}toJSON(){return{text:this.text,value:"gt"}}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-after-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>WZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=ZZ=class extends zW{constructor(e){super("after-eq",e)}toJSON(){return{text:this.text,value:"gte"}}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-after-eq-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>ZZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=YZ=class extends zW{constructor(e){super("before-eq",e)}toJSON(){return{text:this.text,value:"lte"}}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-before-eq-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>YZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),(()=>{let e=QZ=class extends zW{constructor(e){super("before",e)}toJSON(){return{text:this.text,value:"lt"}}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-filter-before-operator"]],features:[ja([{provide:zW,useExisting:Se(()=>QZ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})()],XZ=[Pu,_C,kC,J_,W_,mF,jP,RS,RZ];let eY=(()=>{let e=class{static exports(){return[...JZ]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[...XZ],Pu,_C,kC,J_,W_,mF,jP,RS,RZ]}),e})(),tY=(()=>{class e{constructor(e,t){this.host=e,this.resolver=t}ngOnInit(){this.component=this.host.createComponent(this.resolver.resolveComponentFactory(this.componentType())),this.initComponent({column:this.column,filter:this.filter})}ngOnDestroy(){this.component&&(this.component.destroy(),this.component=null)}ngOnChanges(e){Jb(["column","filter"],e)&&this.initComponent({column:this.column,filter:this.filter})}initComponent({column:e,filter:t}){const i=this.component.instance;i.column=e,i.filter=t}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,inputs:{column:"column",filter:"filter"},features:[Oa]}),e})(),iY=(()=>{let e=class extends tY{constructor(e,t){super(e,t)}componentType(){return dq(this.column.filter)?aZ:{boolean:dZ,date:gZ,numeric:JW,text:aZ}[this.column.filter]}};return e.\u0275fac=function(t){return new(t||e)(Fo(bl),Fo(qa))},e.\u0275dir=yt({type:e,selectors:[["","kendoFilterCellHost",""]],features:[Ea]}),e})(),nY=(()=>{let e=class{static exports(){return[NW,VW,LG,lZ,aZ,JW,hZ,dZ,gZ,eY.exports()]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[eY],eY]}),e})();const sY=e=>(({buttonCount:e=10,info:t=!0,type:i="numeric",pageSizes:n=!1,previousNext:s=!0,responsive:r=!0})=>({buttonCount:e,info:t,pageSizes:!0===n?[5,10,20]:n,previousNext:s,type:i,responsive:r}))(!0===e?{}:e);let rY=(()=>{let e=class{constructor(e,t){this.pagerContext=e,this.element=t,this.total=0,this.skip=1,this.pageChange=new nc,this.settings=sY({}),this.subscriptions=new u,this._templateContext={},this.resizeHandler=()=>{const e=this.element.nativeElement;if(this.template||!e)return;const t=e.offsetWidth;t<600?(e.classList.remove("k-pager-md"),e.classList.add("k-pager-sm")):t>=600&&t<768?(e.classList.add("k-pager-md"),e.classList.remove("k-pager-sm")):this.clearResponsiveClasses()}}set options(e){this.settings=sY(e),this.settings.responsive?this.resizeHandler():this.clearResponsiveClasses()}get pagerWrapClass(){return!0}get gridPagerClass(){return!0}get widgetClass(){return!0}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get templateContext(){const e=this._templateContext;return e.totalPages=this.totalPages,e.total=this.total,e.skip=this.skip,e.pageSize=this.pageSize,e.currentPage=this.currentPage,e}ngOnInit(){this.subscriptions.add(this.pagerContext.pageChange.subscribe(this.changePage.bind(this)))}ngOnChanges(e){Jb(["pageSize","skip","total"],e,!1)&&this.pagerContext.notifyChanges({pageSize:this.pageSize,skip:this.skip,total:this.total}),e.template&&(e.template.currentValue?this.clearResponsiveClasses():this.resizeHandler())}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}changePage(e){this.pageChange.emit(e)}clearResponsiveClasses(){const e=this.element.nativeElement;e.classList.remove("k-pager-md"),e.classList.remove("k-pager-sm")}};return e.\u0275fac=function(t){return new(t||e)(Fo(rG),Fo(Ga))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager"]],hostVars:6,hostBindings:function(e,t){2&e&&oa("k-pager-wrap",t.pagerWrapClass)("k-grid-pager",t.gridPagerClass)("k-widget",t.widgetClass)},inputs:{total:"total",skip:"skip",options:"options",pageSize:"pageSize",template:"template"},outputs:{pageChange:"pageChange"},features:[Oa],decls:3,vars:3,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"resize",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"buttonCount",4,"ngIf"],[3,"pageSizes",4,"ngIf"],[3,"buttonCount"],[3,"pageSizes"],[3,"resize"]],template:function(e,t){1&e&&(Io(0,pj,1,2,"ng-container",0),Io(1,wj,7,6,"ng-container",1),Io(2,Cj,1,0,"kendo-resize-sensor",2)),2&e&&(Oo("ngIf",null==t.template?null:t.template.templateRef),vs(1),Oo("ngIf",!(null!=t.template&&t.template.templateRef)),vs(1),Oo("ngIf",t.settings.responsive))},directives:function(){return[ku,Ou,aY,cY,hY,lY,uY,dY,dy]},encapsulation:2}),e})(),oY=(()=>{class e{constructor(e,t,i){this.localization=e,this.pagerContext=t,this.cd=i,this.total=this.pagerContext.total,this.skip=this.pagerContext.skip,this.pageSize=this.pagerContext.pageSize}get currentPage(){return Math.floor((this.skip||0)/this.pageSize)+1}get totalPages(){return Math.ceil((this.total||0)/this.pageSize)}textFor(e){return this.localization.get(e)}changePage(e){return this.pagerContext.changePage(e),!1}ngOnInit(){this.subscriptions=this.pagerContext.changes.subscribe(this.onChanges.bind(this)),this.subscriptions.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e}),e})(),aY=(()=>{let e=class extends oY{constructor(e,t,i){super(e,t,i)}get disabled(){return 1===this.currentPage||!this.total}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(rG),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-prev-buttons"]],features:[Ea],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(Po(0,"a",0),Uo("click",(function(){return 1!==t.currentPage&&t.changePage(0)})),No(1,"span",1),Mo(),Po(2,"a",0),Uo("click",(function(){return 1!==t.currentPage&&t.changePage(t.currentPage-2)})),No(3,"span",1),Mo()),2&e&&(Oo("title",t.textFor("pagerFirstPage"))("ngClass",Ul(8,xj,t.disabled)),vs(1),Oo("ngClass",jl(10,Sj)),_o("aria-label",t.textFor("pagerFirstPage")),vs(1),Oo("title",t.textFor("pagerPreviousPage"))("ngClass",Ul(11,kj,t.disabled)),vs(1),Oo("ngClass",jl(13,_j)),_o("aria-label",t.textFor("pagerPreviousPage")))},directives:[wu],encapsulation:2,changeDetection:0}),e})(),lY=(()=>{let e=class extends oY{constructor(e,t,i){super(e,t,i)}get disabled(){return this.currentPage===this.totalPages||!this.total}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(rG),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-next-buttons"]],features:[Ea],decls:4,vars:14,consts:[["href","#","tabindex","-1",3,"title","ngClass","click"],[3,"ngClass"]],template:function(e,t){1&e&&(Po(0,"a",0),Uo("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.currentPage)})),No(1,"span",1),Mo(),Po(2,"a",0),Uo("click",(function(){return t.currentPage!==t.totalPages&&t.changePage(t.totalPages-1)})),No(3,"span",1),Mo()),2&e&&(Oo("title",t.textFor("pagerNextPage"))("ngClass",Ul(8,kj,t.disabled)),vs(1),Oo("ngClass",jl(10,Ej)),_o("aria-label",t.textFor("pagerNextPage")),vs(1),Oo("title",t.textFor("pagerLastPage"))("ngClass",Ul(11,Ij,t.disabled)),vs(1),Oo("ngClass",jl(13,Tj)),_o("aria-label",t.textFor("pagerLastPage")))},directives:[wu],encapsulation:2,changeDetection:0}),e})(),cY=(()=>{let e=class extends oY{constructor(e,t,i){super(e,i,t),this.pagerContext=i,this.numbersWrapClass=!0}get buttons(){let e=[];for(let t=this.start;t<=this.end;t++)e.push(t);return e}get end(){return Math.min(this.start+this.buttonCount-1,this.totalPages)}get start(){const e=this.currentPage,t=this.buttonCount;if(e>t){const i=e%t;return 0===i?e-t+1:e-i+1}return 1}pageLabel(e){const t=this.textFor("pagerPage");return t?t+" "+e:e.toString()}onSelectChange(e){const t=e.target,i=Number(t.value);Number.isNaN(i)?this.changePage("previousButtons"===t.value?this.start-2:this.end):this.changePage(i-1)}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo($r),Fo(rG))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-numeric-buttons"]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-pager-numbers-wrap",t.numbersWrapClass)},inputs:{buttonCount:"buttonCount"},features:[Ea],decls:8,vars:9,consts:[[1,"k-dropdown",3,"value","change"],["class","k-link","value","previousButtons",4,"ngIf"],[3,"value","ngClass",4,"ngFor","ngForOf"],["value","nextButtons","class","k-link",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],[4,"ngFor","ngForOf"],["value","previousButtons",1,"k-link"],[3,"value","ngClass"],["value","nextButtons",1,"k-link"],["href","#","tabindex","-1",1,"k-link",3,"click"],["href","#","tabindex","-1",3,"ngClass","click"]],template:function(e,t){1&e&&(Po(0,"select",0),Uo("change",(function(e){return t.onSelectChange(e)})),Io(1,Fj,2,1,"option",1),Io(2,Aj,2,7,"option",2),Io(3,Oj,2,1,"option",3),Mo(),Po(4,"ul",4),Io(5,Rj,3,1,"li",5),Io(6,Pj,3,5,"li",6),Io(7,Mj,3,1,"li",5),Mo()),2&e&&(Oo("value",t.currentPage.toString()),vs(1),Oo("ngIf",t.start>1),vs(1),Oo("ngForOf",t.buttons),vs(1),Oo("ngIf",t.end<t.totalPages),vs(1),Oo("ngClass",jl(8,Nj)),vs(1),Oo("ngIf",t.start>1),vs(1),Oo("ngForOf",t.buttons),vs(1),Oo("ngIf",t.end<t.totalPages))},directives:[ku,xu,wu],encapsulation:2,changeDetection:0}),e})(),hY=(()=>{let e=class extends oY{constructor(e,t,i,n){super(e,t,n),this.pagerContext=t,this.zone=i,this.handleKeyDown=e=>{let t=this.numericInput.value||this.current;e.keyCode===gy.Enter&&(e.preventDefault(),t!==this.current&&this.zone.run(()=>{this.changePage(t-1)}))},this.handleBlur=()=>{const e=this.numericInput.value;e?e!==this.current&&this.zone.run(()=>{this.changePage(e-1)}):this.numericInput.writeValue(this.current)}}get current(){return this.hasPages?this.currentPage:0}get hasPages(){return 0!==this.totalPages}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(rG),Fo(Wc),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-input"]],viewQuery:function(e,t){var i;1&e&&mc(nF,!0),2&e&&fc(i=Cc())&&(t.numericInput=i.first)},features:[Ea],decls:4,vars:17,consts:[[3,"ngClass"],["format","n0",3,"spinners","decimals","disabled","value","min","max","autoCorrect","title","kendoEventsOutsideAngular"]],template:function(e,t){1&e&&(Po(0,"span",0),ya(1),No(2,"kendo-numerictextbox",1),ya(3),Mo()),2&e&&(Oo("ngClass",jl(13,Lj)),vs(1),Ca(" ",t.textFor("pagerPage")," "),vs(1),Oo("spinners",!1)("decimals",0)("disabled",!t.hasPages)("value",t.current)("min",t.hasPages?1:0)("max",t.totalPages)("autoCorrect",!0)("title",t.textFor("pagerPageNumberInputTitle"))("kendoEventsOutsideAngular",$l(14,Vj,t.handleKeyDown,t.handleBlur)),vs(1),xa(" ",t.textFor("pagerOf")," ",t.totalPages," "))},directives:[wu,nF,ny],encapsulation:2}),e})(),uY=(()=>{let e=class extends oY{constructor(e,t,i){super(e,i,t),this.pagerContext=i}get maxItems(){return Math.min(this.currentPage*this.pageSize,this.total)}get currentPageText(){return this.total?(this.currentPage-1)*this.pageSize+1:0}get classes(){return!0}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize=i,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo($r),Fo(rG))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-info"]],hostVars:4,hostBindings:function(e,t){2&e&&oa("k-pager-info",t.classes)("k-label",t.classes)},features:[Ea],decls:1,vars:5,template:function(e,t){1&e&&ya(0),2&e&&Sa("",t.currentPageText," - ",t.maxItems," ",t.textFor("pagerOf")," ",t.total," ",t.textFor("pagerItems"),"")},encapsulation:2,changeDetection:0}),e})(),dY=(()=>{let e=class extends oY{constructor(e,t,i){super(e,i,t),this.pagerContext=i,this._pageSizes=[]}get pageSizes(){return this._pageSizes}set pageSizes(e){let t=[];e.forEach(e=>{t.push("number"==typeof e?{text:e.toString(),value:e}:e)}),this.pageSize&&!t.some(e=>e.value===this.pageSize)&&(t=[{text:this.pageSize.toString(),value:this.pageSize},...t]),this._pageSizes=t}get classes(){return!0}get showInitialPageSize(){return 0===this.pageSizes.filter(e=>"number"==typeof e.value?e.value===Number(this.pageSize):this.total===Number(this.pageSize)).length}pageSizeChange(e){this.pageSize="number"==typeof e?e:this.total,this.pagerContext.changePageSize(this.pageSize)}getValue(e){return"number"==typeof e.value?e.value:this.total}onChanges({total:e,skip:t,pageSize:i}){this.total=e,this.skip=t,this.pageSize="number"==typeof i?i:this.total,this.cd.markForCheck()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo($r),Fo(rG))},e.\u0275cmp=pt({type:e,selectors:[["kendo-pager-page-sizes"]],hostVars:4,hostBindings:function(e,t){2&e&&oa("k-pager-sizes",t.classes)("k-label",t.classes)},inputs:{pageSizes:"pageSizes"},features:[Ea],decls:3,vars:5,consts:[["textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange"],["dropdownlist",""],[3,"for","text"]],template:function(e,t){if(1&e&&(Po(0,"kendo-dropdownlist",0,1),Uo("valueChange",(function(e){return t.pageSizeChange(e)})),Mo(),No(2,"kendo-label",2)),2&e){const e=To(1);Oo("data",t.pageSizes)("valuePrimitive",!0)("value",t.pageSize),vs(2),Oo("for",e)("text",t.textFor("pagerItemsPerPage"))}},directives:[B_,gN],encapsulation:2,changeDetection:0}),e})();const pY=[Pu,mF,mN,tE,py,RZ];let fY=(()=>{let e=class{static exports(){return[rY,aY,lY,cY,hY,uY,dY,OK]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[...pY]]}),e})(),gY=(()=>{let e=class{constructor(e,t){this.groupsService=e,this.groupInfoService=t,this.skipGroupDecoration=!1,this.hasDetails=!1,this.totalColumnsCount=0,this.groups=[],this.isExpanded=!1}get groupItemClass(){return!0}ngDoCheck(){this.isExpanded=this.groupsService.isExpanded(this.item.index)}prefixGroupCell(e){return new Array(e.level)}toggleGroup(e){return this.groupsService.toggleRow(e.index,e.data),!1}groupSpan(e){const t=(this.groups||[]).length,i=this.hasDetails?1:0;if(this.hasGroupHeaderColumn)return t+1+i-e.level;let n=YG(this.columns);return this.skipGroupDecoration?n:t+n+i-e.level}logicalColSpan(){return this.skipGroupDecoration?1:this.totalColumnsCount}ariaRole(){return this.skipGroupDecoration?"presentation":"gridcell"}formatForGroup(e){return this.groupInfoService.formatForGroup(e)}groupTitle(e){return this.groupInfoService.groupTitle(e)}groupHeaderTemplate(e){return this.groupInfoService.groupHeaderTemplate(e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(sG),Fo(EK))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridGroupHeader",""]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-grouping-row",t.groupItemClass)},inputs:{skipGroupDecoration:"skipGroupDecoration",hasDetails:"hasDetails",totalColumnsCount:"totalColumnsCount",groups:"groups",rowIndex:"rowIndex",logicalRowIndex:"logicalRowIndex",item:"item",hasGroupHeaderColumn:"hasGroupHeaderColumn",groupHeaderColumns:"groupHeaderColumns",columns:"columns"},attrs:Hj,decls:3,vars:3,consts:[[3,"ngIf"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngIf"],[4,"ngIf"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[1,"k-reset"],["href","#","tabindex","-1","role","presentation",1,"k-icon",3,"ngClass","click"],[3,"templateContext"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan",4,"ngFor","ngForOf"],["role","gridcell","aria-selected","false","kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex","logicalSlaveCell","groupItem","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Io(0,zj,1,1,"ng-template",0),Io(1,Kj,3,9,"td",1),Io(2,Qj,2,1,"ng-container",2)),2&e&&(Oo("ngIf",!t.skipGroupDecoration),vs(1),Oo("ngIf",!(t.skipGroupDecoration&&t.hasGroupHeaderColumn)),vs(1),Oo("ngIf",t.hasGroupHeaderColumn))},directives:[ku,xu,xZ,wu,yZ,Ou],pipes:[EZ],encapsulation:2}),e})(),mY=(()=>{let e=class{constructor(e,t){this.element=e,this.service=t,this.context={},this.enter=new nc,this.leave=new nc,this.drop=new nc,this.subscriptions=new u}ngOnInit(){this.service.add(this);const e=this.service.changes.pipe(Jf(({target:e})=>e===this));this.subscriptions.add(e.pipe(Jf(({type:e})=>"leave"===e)).subscribe(e=>{this.leave.next(this.eventArgs(e))})),this.subscriptions.add(e.pipe(Jf(({type:e})=>"enter"===e)).subscribe(e=>{this.enter.next(this.eventArgs(e))})),this.subscriptions.add(e.pipe(Jf(({type:e})=>"drop"===e)).subscribe(e=>{this.drop.next(this.eventArgs(e))}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}eventArgs(e){return{target:this,mouseEvent:e.mouseEvent,draggable:e.draggable}}};return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(XK))},e.\u0275dir=yt({type:e,selectors:[["","kendoDropTarget",""]],inputs:{context:"context"},outputs:{enter:"enter",leave:"leave",drop:"drop"}}),e})();const vY=({field:e})=>dq(e),bY=({groups:e,field:t})=>e.some(e=>e.field===t),yY=yq(({target:e,field:t})=>e.field===t,wq(({target:e})=>e.lastTarget,({groups:e,field:t})=>e.map(e=>e.field).indexOf(t)===e.length-1));let wY=(()=>{let e=class{constructor(e,t,i,n,s){this.hint=e,this.cue=t,this.groupInfoService=i,this.localization=n,this.cd=s,this.change=new nc,this.groups=[],this.dropTargets=new rc,this.groupTitles=[],this.subscription=new u}get groupHeaderClass(){return!0}set text(e){this.emptyText=e}get text(){return this.emptyText?this.emptyText:this.localization.get("groupPanelEmpty")}ngAfterViewInit(){this.subscription.add(pq(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngOnInit(){this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngDoCheck(){const e=this.groups.map(e=>this.groupInfoService.groupTitle(e));(e.length!==this.groupTitles.length||e.some((e,t)=>e!==this.groupTitles[t]))&&(this.groupTitles=e,this.cd.markForCheck())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe(),this.targetSubscription&&this.targetSubscription.unsubscribe()}directionChange(e){const t=this.groups.findIndex(t=>t.field===e.field),i=[...this.groups.slice(0,t),e,...this.groups.slice(t+1)];this.change.emit(i)}insert(e,t){const i=this.groups.filter(t=>t.field!==e);(i.length||0===this.groups.length)&&this.change.emit([...i.slice(0,t),{field:e},...i.slice(t)])}remove(e){this.change.emit(this.groups.filter(t=>t.field!==e.field))}canDrop(e,t){var i;return!("groupIndicator"===e.type?yY:yq(vY,bY,(i=this.groupInfoService,({field:e})=>!i.isGroupable(e))))({field:e.field,groups:this.groups,target:t})}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new u;const e=this.dropTargets.reduce((e,t)=>K(e,t.enter),z([])),t=this.dropTargets.reduce((e,t)=>K(e,t.leave),z([])),i=this.dropTargets.reduce((e,t)=>K(e,t.drop),z([]));this.targetSubscription.add(e.pipe(Ag(e=>this.hint.removeLock()),Jf(({draggable:e,target:t})=>this.canDrop(e.context,t.context)),Ag(this.enter.bind(this)),Ry(i.pipe(Dy(t.pipe(Ag(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}enter({draggable:e,target:t}){this.hint.enable();let i=t.context.lastTarget||YK(e.element.nativeElement,t.element.nativeElement);this.localization.rtl&&(i=!i),this.cue.position(JK(t.element.nativeElement,i))}leave(){this.hint.disable(),this.cue.hide()}drop({target:e,draggable:t}){const i=t.context.field,n=this.dropTargets.toArray().indexOf(e);this.insert(i,n)}};return e.\u0275fac=function(t){return new(t||e)(Fo(iW),Fo(nW),Fo(EK),Fo(Fy),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-group-panel"]],viewQuery:function(e,t){var i;1&e&&mc(mY,!0),2&e&&fc(i=Cc())&&(t.dropTargets=i)},hostVars:4,hostBindings:function(e,t){2&e&&oa("k-grouping-header",t.groupHeaderClass)("k-grouping-header-flex",t.groupHeaderClass)},inputs:{groups:"groups",text:"text"},outputs:{change:"change"},decls:3,vars:3,consts:[[3,"ngIf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngFor","ngForOf"],["class","k-indicator-container","kendoDropTarget","",3,"context",4,"ngIf"],["kendoDropTarget","",1,"k-indicator-container",3,"context"],["kendoDraggableColumn","","kendoGroupIndicator","","kendoDraggable","",3,"enableDrag","context","group","groupTitle","directionChange","remove"]],template:function(e,t){1&e&&(Io(0,Xj,2,3,"ng-template",0),Io(1,iU,2,10,"div",1),Io(2,nU,2,2,"div",2)),2&e&&(Oo("ngIf",0===t.groups.length),vs(1),Oo("ngForOf",t.groups),vs(1),Oo("ngIf",0!==t.groups.length))},directives:function(){return[ku,xu,mY,IY,CY,ty]},encapsulation:2,changeDetection:0}),e})(),CY=(()=>{let e=class{constructor(){this.directionChange=new nc,this.remove=new nc}get groupIndicatorClass(){return!0}get dir(){return this.group.dir?this.group.dir:"asc"}toggleDirection(){return this.directionChange.emit({dir:"asc"===this.dir?"desc":"asc",field:this.group.field}),!1}removeDescriptor(){return this.remove.emit({dir:this.group.dir,field:this.group.field}),!1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGroupIndicator",""]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-group-indicator",t.groupIndicatorClass)},inputs:{group:"group",groupTitle:"groupTitle"},outputs:{directionChange:"directionChange",remove:"remove"},attrs:sU,decls:5,vars:5,consts:[["href","#","tabindex","-1",1,"k-link",3,"click"],[1,"k-icon"],["tabindex","-1",1,"k-button","k-button-icon","k-bare",3,"click"],[1,"k-icon","k-i-group-delete"]],template:function(e,t){1&e&&(Po(0,"a",0),Uo("click",(function(){return t.toggleDirection()})),No(1,"span",1),ya(2),Mo(),Po(3,"a",2),Uo("click",(function(){return t.removeDescriptor()})),No(4,"span",3),Mo()),2&e&&(vs(1),oa("k-i-sort-asc-sm","asc"===t.dir)("k-i-sort-desc-sm","desc"===t.dir),vs(1),Ca(" ",t.groupTitle,""))},encapsulation:2,changeDetection:0}),e})();const xY=e=>t=>new RegExp(`(^| )${e}( |$)`).test(t.className),SY=yq(xY("k-i-group-delete"),xY("k-button-icon")),kY=yq(xY("k-i-sort-asc-sm"),xY("k-i-sort-desc-sm")),_Y=wq(bq(SY),bq(kY),bq(zq),bq(Nq("label"))),EY=({clientX:e,clientY:t})=>document.elementFromPoint(e,t);let IY=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a){this.draggable=e,this.element=t,this.zone=i,this.service=n,this.hint=s,this.cue=r,this.nav=o,this.renderer=a,this.context={},this.drag=new nc,this.subscriptions=new u}set enableDrag(e){this.enabled=e,this.updateTouchAction()}get hostClass(){return this.enabled}ngOnInit(){this.subscriptions.add(this.zone.runOutsideAngular(()=>{return this.draggable.kendoPress.pipe(Jf(e=>this.enabled),Jf(({originalEvent:{target:e}})=>e===this.element.nativeElement||_Y(e)),Ag(e=>{const t=e.originalEvent;e.isTouch||t.preventDefault(),this.nav.navigateTo(t.target)}),xg((e=this.draggable.kendoRelease,t=>jf(t).pipe(Vy(150),Dy(e)))),Ag(e=>{this.hint.create(e,this.element.nativeElement,this.context.hint),this.cue.create()}),xg(e=>this.draggable.kendoDrag.pipe(Ag(e=>{e.isTouch&&e.originalEvent.preventDefault()}),Ag(this.hint.attach()),Ag(this.cue.attach()),Dy(this.draggable.kendoRelease),L(t=>({move:t,down:e})))),Ag(this.performDrag.bind(this)),Ry(this.draggable.kendoRelease)).subscribe(this.drop.bind(this));var e}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}drop(e){this.hint.remove(),this.cue.remove(),this.service.notifyDrop(this,e)}performDrag({move:e}){this.hint.move(e);const t=this.elementUnderCursor(e);t&&this.service.notifyDrag(this,t,e),this.drag.emit({draggable:this,mouseEvent:e})}elementUnderCursor(e){this.hint.hide();let t=EY(e);return t&&/k-grouping-dropclue/.test(t.className)&&(t=((e,t)=>{e.style.display="none";const i=t();return e.style.display="block",i})(t,EY.bind(this,e))),this.hint.show(),t}updateTouchAction(){this.element&&this.renderer.setStyle(this.element.nativeElement,"touch-action",this.enabled?"none":"")}};return e.\u0275fac=function(t){return new(t||e)(Fo(ty,1),Fo(Ga),Fo(Wc),Fo(XK),Fo(iW),Fo(nW),Fo(yG),Fo(Ya))},e.\u0275dir=yt({type:e,selectors:[["","kendoDraggableColumn",""]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-grid-draggable-header",t.hostClass)},inputs:{context:"context",enableDrag:"enableDrag"},outputs:{drag:"drag"}}),e})(),TY=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)}}),e})(),FY=(()=>{let e=class{static exports(){return[IG,TG,DG]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,RZ,TY]]}),e})();const DY={allowUnsort:!0,mode:"single",showIndexes:!0,initialDirection:"asc"},AY=(...e)=>Object.assign({},DY,...e),OY=(e,t)=>!1!==e.filter&&t.field&&t.filterable,RY=(e,t)=>!1!==e.sort&&t.field&&t.sortable,PY=(e,t)=>e.lock&&t.lockable&&!(t.parent&&!t.parent.isSpanColumn),MY=e=>!1!==e.columnChooser,NY=(...e)=>Object.assign.apply(null,[{}].concat(e)),LY=(e,t)=>e.parent===t.parent||tK(t)&&LY(e,t.parent),VY=({draggable:e,target:t})=>!1!==e.context.column.lockable||e.context.column.isLocked===t.context.column.isLocked,HY=wq(({draggable:e})=>["column","columnGroup"].indexOf(e.context.type)>=0,({draggable:e})=>e.context.column.reorderable,({draggable:e})=>!tK(e.context.column),({draggable:e,target:t})=>e.element.nativeElement!==t.element.nativeElement,({draggable:e,target:t})=>LY(e.context.column,t.context.column),bq(({draggable:e})=>!uq(e.context.column.locked)&&(({parent:e})=>!uq(e))(e.context.column)&&e.context.lastColumn),VY);let BY=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a){this.popupService=e,this.hint=t,this.cue=i,this.reorderService=n,this.idService=s,this.sortService=r,this.localization=o,this.cd=a,this.columns=[],this.groups=[],this.sort=new Array,this.sortable=!1,this.groupable=!1,this.lockedColumnsCount=0,this.resizable=!1,this.reorderable=!1,this.columnMenu=!1,this.totalColumnsCount=0,this.sortedFields={},this.dropTargets=new rc,this.subscription=new u}get headerClass(){return!this.scrollable}get sortableLabel(){return this.localization.get("sortable")}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-this.columns.length}sortColumn(e){this.sortService.sort(this.toggleSort(e))}onSortClick(e,t,i){const n=t.target;e.headerTemplateRef&&n!==i&&Boolean(Vq(n,Bq,i))||this.sortColumn(e)}onHeaderKeydown(e,t){this.sortable&&!t.defaultPrevented&&!1!==e.sortable&&t.keyCode===gy.Enter&&lq(e.field)&&this.sortService.sort(this.toggleSort(e))}showSortNumbering(e){const{showIndexes:t}=AY(this.sortable);return t&&this.sort&&this.sort.filter(({dir:e})=>lq(e)).length>1&&this.sortOrder(e.field)>0}sortOrder(e){return this.sort.filter(({dir:e})=>lq(e)).findIndex(t=>t.field===e)+1}sortIcon(e){const t=this.sortDescriptor(e);return{"k-icon":lq(t.dir),"k-i-sort-desc-sm":"desc"===t.dir,"k-i-sort-asc-sm":"asc"===t.dir}}sortState(e){if(!this.isSortable(e))return;const t=this.sortDescriptor(e.field);return"asc"===t.dir?"ascending":"desc"===t.dir?"descending":void 0}sortStatus(e){if(!this.sortedFields[e.field]||!this.isSortable(e))return;let t="sortedDefault";const i=this.sortDescriptor(e.field);return"asc"===i.dir?t="sortedAscending":"desc"===i.dir&&(t="sortedDescending"),this.localization.get(t)}toggleSort(e){const{allowUnsort:t,mode:i,initialDirection:n}=AY(this.sortable,e.sortable),s=this.toggleDirection(e.field,t,n);return"single"===i?[s]:[...this.sort.filter(t=>t.field!==e.field),s]}ngAfterViewInit(){this.subscription.add(pq(this.dropTargets).subscribe(this.attachTargets.bind(this)))}ngDoCheck(){this._leafColumns=KG(this.columns||[]).filter(e=>!nK(e))}ngOnChanges(e){const t=e.sort;t&&!t.isFirstChange()&&t.currentValue.forEach(e=>{this.sortedFields[e.field]=!0})}ngOnInit(){this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.popupService&&this.popupService.destroy(),this.subscription.unsubscribe()}selectAllCheckboxId(){return this.idService.selectAllCheckboxId()}isFirstOnRow(e,t){const i=e=>e&&(this.columnsForLevel(e.level).indexOf(e)>0||i(e.parent));return 0===t&&!this.groups.length&&!this.detailTemplate&&i(e.parent)}logicalColumnIndex(e){const t=e.leafIndex;return lq(t)?t+(lq(this.detailTemplate)?1:0):-1}get showFilterMenu(){return!this.columnMenu&&"string"==typeof(e=this.filterable)&&e.indexOf("menu")>-1;var e}get showFilterRow(){return qK(this.filterable)}showColumnMenu(e){return this.columnMenu&&e.columnMenu&&(this.columnMenuTemplate||e.columnMenuTemplates.length||((e,t)=>MY(e)||PY(e,t)||RY(e,t)||OY(e,t))(this.columnMenu,e))}isFilterable(e){return!dq(e.field)&&!0===e.filterable}canDrop(e,t){return this.reorderable&&HY({draggable:e,target:t})}shouldActivate(e){const t=this.reorderable&&e.reorderable;return!(!t&&!BG(e))&&(this.groupable&&BG(e)&&!1!==e.groupable||t)}isSortable(e){return!dq(e.field)&&uq(this.sortable)&&uq(e.sortable)}isCheckboxColumn(e){return MG(e)&&!e.templateRef}trackByIndex(e,t){return e}toggleDirection(e,t,i){const n=this.sortDescriptor(e),[s,r]=(e=>"asc"===e?["asc","desc"]:["desc","asc"])(i);let o=s;return n.dir===s?o=r:n.dir===r&&t&&(o=void 0),{dir:o,field:e}}columnsForLevel(e){const t=this.columns?this.columns.filter(t=>t.level===e):[];return eK(KG(t))}isColumnGroupComponent(e){return nK(e)}get columnLevels(){return new Array((this.totalColumnLevels||0)+1)}sortDescriptor(e){return this.sort.find(t=>t.field===e)||{field:e}}get leafColumns(){return this._leafColumns}attachTargets(){this.targetSubscription&&this.targetSubscription.unsubscribe(),this.targetSubscription=new u;const e=K(...this.dropTargets.map(e=>e.enter)),t=K(...this.dropTargets.map(e=>e.leave)),i=K(...this.dropTargets.map(e=>e.drop));this.targetSubscription.add(e.pipe(Ag(({target:e,draggable:t})=>{if("groupIndicator"===t.context.type)return;const i=uq(e.context.column.isLocked),n=uq(t.context.column.isLocked);(this.lockedColumnsCount>0||i||n)&&this.hint.toggleLock(i)}),Jf(({draggable:e,target:t})=>this.canDrop(e,t)),xg(this.trackMove.bind(this,t,i)),L(e=>NY(e,{before:this.calculateBefore(e),changeContainer:e.changeContainer})),L(this.normalizeTarget.bind(this)),Ag(this.enter.bind(this)),xg(e=>i.pipe(L(()=>e),Dy(t.pipe(Ag(this.leave.bind(this))))))).subscribe(this.drop.bind(this)))}normalizeTarget(e){let t=e.target;const i=t.context.column.parent;if(i&&i.isSpanColumn){const n=this.dropTargets.toArray(),s=n.find(e=>e.context.column.parent===i),r=n.indexOf(s);t=n[r+(e.before?0:i.childColumns.length-1)]}return NY(e,{target:t})}trackMove(e,t,i){const n=i.target.context.column,s=this.columnsForLevel(n.level),r=s.indexOf(n),o=i.draggable.context.column.isLocked!==n.isLocked;return o&&(n.locked?r===s.length-1:0===r)?i.draggable.drag.pipe(Dy(e),Dy(t),L(({mouseEvent:e})=>NY({changeContainer:!0},i,{mouseEvent:e}))):jf(NY({changeContainer:o},i))}calculateBefore({draggable:e,target:t,mouseEvent:i,changeContainer:n=!1}){const s=t.element.nativeElement;let r=!1;if(n){const{left:e}=ZK(s);r=e+s.offsetWidth/2>i.pageX,this.localization.rtl&&(r=!r)}else r=YK(e.element.nativeElement,s);return r}enter({target:e,before:t}){this.hint.enable(),this.localization.rtl&&(t=!t),this.cue.position(JK(e.element.nativeElement,t))}leave(){this.hint.disable(),this.cue.hide()}drop({draggable:e,target:t,before:i,changeContainer:n}){this.reorderService.reorder({before:i,changeContainer:n,source:e.context.column,target:t.context.column})}};return e.\u0275fac=function(t){return new(t||e)(Fo(KK),Fo(iW),Fo(nW),Fo(sW),Fo(lW),Fo(hW),Fo(Fy),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridHeader",""]],viewQuery:function(e,t){var i;1&e&&mc(mY,!0),2&e&&fc(i=Cc())&&(t.dropTargets=i)},hostVars:2,hostBindings:function(e,t){2&e&&oa("k-grid-header",t.headerClass)},inputs:{columns:"columns",groups:"groups",sort:"sort",sortable:"sortable",groupable:"groupable",lockedColumnsCount:"lockedColumnsCount",resizable:"resizable",reorderable:"reorderable",columnMenu:"columnMenu",totalColumnsCount:"totalColumnsCount",totalColumnLevels:"totalColumnLevels",detailTemplate:"detailTemplate",scrollable:"scrollable",filterable:"filterable",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[Oa],attrs:rU,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngFor","ngForOf"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-group-cell k-header","role","presentation",4,"ngFor","ngForOf"],["class","k-hierarchy-cell k-header","role","presentation","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["role","presentation",1,"k-group-cell","k-header"],["role","presentation","kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell","k-header",3,"logicalRowIndex","logicalColIndex"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","k-filterable","k-first","ngClass","ngStyle","keydown",4,"ngIf"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","","class","k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","k-first","k-filterable","ngClass","ngStyle",4,"ngIf"],["kendoGridLogicalCell","","role","columnheader","aria-selected","false","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","colSpan","rowSpan","enableDrag","context","ngClass","ngStyle","keydown"],["kendoGridColumnHandle","","kendoDraggable","","class","k-column-resizer",3,"column","columns",4,"ngIf"],[3,"column","filter",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable",4,"ngIf"],[3,"templateContext"],[3,"column","filter"],[3,"standalone","settings","column","columnMenuTemplate","sort","filter","sortable"],[1,"k-cell-inner"],[1,"k-link",3,"click"],["link",""],[3,"ngClass"],["class","k-sort-order",4,"ngIf"],["role","status",1,"k-sort-status",2,"position","absolute","left","-10000px",3,"innerHtml"],[1,"k-column-title"],[1,"k-sort-order"],["kendoGridSelectAllCheckbox","","kendoGridFocusable","",1,"k-checkbox"],[1,"k-checkbox-label"],["kendoGridColumnHandle","","kendoDraggable","",1,"k-column-resizer",3,"column","columns"],["kendoGridLogicalCell","","kendoDropTarget","","kendoDraggable","","kendoDraggableColumn","",1,"k-header",3,"logicalRowIndex","logicalColIndex","rowSpan","colSpan","enableDrag","context","ngClass","ngStyle"],[3,"standalone","settings","column","columnMenuTemplate",4,"ngIf"],[3,"standalone","settings","column","columnMenuTemplate"],["kendoGridFilterRow","","kendoGridLogicalRow","",3,"columns","filter","groups","detailTemplate","lockedColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"]],template:function(e,t){1&e&&Io(0,RU,2,2,"ng-template",0),2&e&&Oo("ngIf",!0)},directives:function(){return[ku,xu,kZ,xZ,mY,ty,IY,wu,Au,yZ,KY,vQ,GY,Wq,qY,NW]},styles:[".k-column-resizer[_ngcontent-%COMP%] {\n            cursor: col-resize;\n            display: block;\n            height: 1000%;\n            position: absolute;\n            top: 0;\n            width: .5em;\n        }"]}),e})();const zY=e=>e.nativeElement.parentElement.offsetWidth,jY=e=>qG(e).filter(e=>!e.isColumnGroup),UY=({originalEvent:e})=>{e.stopPropagation(),e.preventDefault()},$Y=e=>!(!e.parent||!e.parent.isSpanColumn);let qY=(()=>{let e=class{constructor(e,t,i,n,s,r){this.draggable=e,this.element=t,this.service=i,this.zone=n,this.cdr=s,this.localization=r,this.columns=[],this.subscriptions=new u,this.rtl=!1}get visible(){return this.column.resizable?"block":"none"}get leftStyle(){return uq(this.rtl)?0:null}get rightStyle(){return uq(this.rtl)?null:0}autoFit(){const e=jY(this.columns),t=JG([this.column]).filter(e=>uq(e.resizable)),i=t.map(t=>{const i=$Y(t),n=!!i&&t.parent.childColumns.last===t,s=((e,t)=>{let i=0,n=0,s=0;for(;i<t.length;){const r=t[i],o=$Y(r);if(r===e)break;n--<=0&&o&&(n=r.parent.childColumns.length-1,s+=n),i++}return i-s})(t,e);return{column:t,headerIndex:this.columnsForLevel(t.level).indexOf(t),index:s,isLastInSpan:n,isParentSpan:i,level:t.level}});t.forEach(e=>e.width=0),this.service.measureColumns(i)}ngOnInit(){const e=this.service.changes.pipe(Jf(()=>this.column.resizable),Jf(e=>lq(e.columns.find(e=>e===this.column))));this.subscriptions.add(e.pipe(Jf(e=>"start"===e.type)).subscribe(this.initState.bind(this))),this.subscriptions.add(e.pipe(Jf(e=>"resizeColumn"===e.type)).subscribe(this.resize.bind(this))),this.subscriptions.add(this.service.changes.pipe(Jf(e=>"start"===e.type),Jf(this.shouldUpdate.bind(this)),mg(1)).subscribe(this.initColumnWidth.bind(this))),this.subscriptions.add(this.zone.runOutsideAngular(()=>{return this.draggable.kendoPress.pipe(Ag(UY),Ag(()=>this.service.start(this.column)),xg((e=this.draggable.kendoRelease,t=>jf(t).pipe(Vy(150),Dy(e)))),xg(((e,t)=>i=>t.kendoDrag.pipe(Dy(t.kendoRelease.pipe(Ag(()=>e.end()))),L(({pageX:e})=>({originalX:i.pageX,pageX:e}))))(this.service,this.draggable))).subscribe(({pageX:e,originalX:t})=>{this.service.resizeColumns((e-t)/(this.column.resizeStartWidth||this.column.width)*100)});var e})),this.subscriptions.add(e.pipe(Jf(e=>"autoFitComplete"===e.type)).subscribe(this.sizeToFit.bind(this))),this.subscriptions.add(e.pipe(Jf(e=>"triggerAutoFit"===e.type)).subscribe(this.autoFit.bind(this))),this.subscriptions.add(this.localization.changes.subscribe(({rtl:e})=>this.rtl=e))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}shouldUpdate(){return!jY(this.columns).map(e=>e.width).some(cq)}initColumnWidth(){this.column.width=zY(this.element)}initState(){this.column.resizeStartWidth=zY(this.element),this.service.resizedColumn({column:this.column,oldWidth:this.column.resizeStartWidth})}resize({deltaPercent:e}){let t=((e,t)=>{const i=t<0?-1:1;return Math.ceil(Math.abs(t)/100*e)*i})(this.column.resizeStartWidth,e);uq(this.rtl)&&(t*=-1);const i=Math.max(this.column.resizeStartWidth+t,this.column.minResizableWidth),n=i>this.column.minResizableWidth?t:this.column.minResizableWidth-this.column.resizeStartWidth;this.updateWidth(this.column,i),this.service.resizeTable(this.column,n)}sizeToFit({columns:e,widths:t}){const i=e.indexOf(this.column),n=Math.max(...t.map(e=>e[i]))+1,s=n-this.column.resizeStartWidth;this.updateWidth(this.column,n),this.service.resizeTable(this.column,s)}updateWidth(e,t){e.width=t,this.cdr.markForCheck()}columnsForLevel(e){return KG(this.columns?this.columns.filter(t=>t.level===e):[])}};return e.\u0275fac=function(t){return new(t||e)(Fo(ty,1),Fo(Ga),Fo($K),Fo(Wc),Fo($r),Fo(Fy))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridColumnHandle",""]],hostVars:6,hostBindings:function(e,t){1&e&&Uo("dblclick",(function(){return t.autoFit()})),2&e&&ra("display",t.visible)("left",t.leftStyle)("right",t.rightStyle)},inputs:{columns:"columns",column:"column"}}),e})(),GY=(()=>{let e=class{constructor(e,t,i,n){this.selectionService=e,this.el=t,this.renderer=i,this.ngZone=n,this.selectAllChange=new nc,this.type="checkbox",this.stateSet=!1,this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this))})}ngAfterContentChecked(){this.setState()}ngOnChanges(){this.stateSet=!0}ngOnDestroy(){this.destroyClick&&this.destroyClick()}onClick(){const e=!(!(()=>{if(!Yb())return;const e=window.navigator.userAgent,t=e.indexOf("MSIE "),i=e.indexOf("Trident/");return t>0||i>0})()||void 0!==this.selectionService.selectAllState)||this.el.nativeElement.checked,t=this.selectionService.options;this.selectAllChange.emit(e?"checked":"unchecked"),t.enabled&&"multiple"===t.mode&&this.ngZone.run(()=>{this.selectionService.updateAll(e)})}setState(){const e=this.stateSet?this.stateToBool():this.selectionService.selectAllState,t=this.el.nativeElement;this.renderer.setProperty(t,"indeterminate",!lq(e)),this.renderer.setProperty(t,"checked",!!lq(e)&&e)}stateToBool(){switch(this.state){case"checked":return!0;case"unchecked":return!1;default:return}}};return e.\u0275fac=function(t){return new(t||e)(Fo(wG),Fo(Ga),Fo(Ya),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridSelectAllCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&_o("type",t.type)},inputs:{state:"state"},outputs:{selectAllChange:"selectAllChange"},features:[Oa]}),e})(),KY=(()=>{let e=class{constructor(e,t,i){this.filterService=e,this.popupService=t,this.localization=i,this.filterLabel=this.localization.get("filter")}get hasFilters(){return GW(this.filter,(this.column||{}).field).length>0}toggle(e,t){return this.popupRef=this.popupService.open(e,t,this.popupRef),!1}close(){this.popupService.destroy()}};return e.\u0275fac=function(t){return new(t||e)(Fo(AK),Fo(KK),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu"]],inputs:{column:"column",filter:"filter"},decls:5,vars:4,consts:[["href","#",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-filter"],["template",""],[3,"column","filter","close"]],template:function(e,t){if(1&e){const e=Bo();Po(0,"a",0,1),Uo("click",(function(){Qt(e);const i=To(1),n=To(4);return t.toggle(i,n)})),No(2,"span",2),Mo(),Io(3,PU,1,2,"ng-template",null,3,_c)}2&e&&(Oo("ngClass",Ul(2,MU,t.hasFilters)),_o("title",t.filterLabel))},directives:function(){return[wu,QY]},encapsulation:2}),e})();const WY=({value:e,operator:t})=>!dq(e)||(e=>"isnull"===e||"isnotnull"===e||"isempty"===e||"isnotempty"===e)(t),ZY=(e,t,i)=>e.reduce((e,n)=>e||(n.filters?ZY(n.filters,t,n):n.field===t?i:e),void 0),YY=(e,t,i="and")=>{const n=ZY((e||{}).filters||[],t);return lq(n)?n.logic:i};let QY=(()=>{let e=class{constructor(e,t,i,n){this.parentService=e,this.childService=t,this.localization=i,this.cd=n,this.close=new nc,this.actionsClass="k-action-buttons k-button-group",this._templateContext={}}get filter(){return this._filter}set filter(e){this._filter=LW(e)}get childFilter(){return lq(this._childFilter)||(this._childFilter={filters:GW(this.filter,(this.column||{}).field),logic:YY(this.filter,(this.column||{}).field)}),this._childFilter}ngOnInit(){this.subscription=this.childService.changes.subscribe(e=>this._childFilter=e),this.subscription.add(this.localization.changes.subscribe(()=>this.cd.markForCheck()))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}get disabled(){return!this.childFilter.filters.some(WY)}get templateContext(){return this._templateContext.column=this.column,this._templateContext.filter=this.childFilter,this._templateContext.filterService=this.childService,this._templateContext.$implicit=this.childFilter,this._templateContext}get hasTemplate(){return lq(this.column)&&lq(this.column.filterMenuTemplateRef)}submit(){const e=(e=>(e.filters=e.filters.filter(WY),e))(this.childFilter);if(e.filters.length){const t=this.filter||{filters:[],logic:"and"};KW(t,this.column.field),t.filters.push(e),this.parentService.filter(t)}return this.close.emit(),!1}reset(){const e=this.filter||{filters:[],logic:"and"};KW(e,this.column.field),this.parentService.filter(e),this.close.emit()}get clearText(){return this.localization.get("filterClearButton")}get filterText(){return this.localization.get("filterFilterButton")}};return e.\u0275fac=function(t){return new(t||e)(Fo(AK,4),Fo(AK),Fo(Fy),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu-container"]],inputs:{actionsClass:"actionsClass",filter:"filter",column:"column"},outputs:{close:"close"},features:[ja([AK])],decls:10,vars:7,consts:[[1,"k-filter-menu","k-group","k-reset","k-state-border-up",3,"submit","reset"],[1,"k-filter-menu-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngClass"],["type","reset",1,"k-button"],["type","submit",1,"k-button","k-primary",3,"disabled"],["kendoFilterMenuHost","",3,"filterService","column","filter"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&(Po(0,"form",0),Uo("submit",(function(){return t.submit()}))("reset",(function(){return t.reset()})),Po(1,"div",1),Lo(2,2),Io(3,NU,2,3,"ng-container",3),Io(4,HU,2,1,"ng-container",3),Vo(),Po(5,"div",4),Po(6,"button",5),ya(7),Mo(),Po(8,"button",6),ya(9),Mo(),Mo(),Mo(),Mo()),2&e&&(vs(2),Oo("ngSwitch",t.hasTemplate),vs(1),Oo("ngSwitchCase",!1),vs(1),Oo("ngSwitchCase",!0),vs(1),Oo("ngClass",t.actionsClass),vs(2),wa(t.clearText),vs(1),Oo("disabled",t.disabled),vs(1),wa(t.filterText))},directives:function(){return[fC,gw,rC,Tu,Fu,wu,rQ,ku,Ou]},encapsulation:2}),e})(),JY=(()=>{let e=class extends iZ{constructor(){super(null)}get hostClasses(){return!1}operatorChange(e){this.currentOperator=e}filterChange(e){this.applyFilter(e)}get currentFilter(){return this._currentFilter}set currentFilter(e){this._currentFilter=e}updateFilter(e){return Object.assign(this.currentFilter,e),this.filter}onChange(e){this.filterChange(this.updateFilter({field:this.column.field,operator:this.currentOperator,value:e}))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-filter-menu-input-wrapper"]],inputs:{currentFilter:"currentFilter",filterService:"filterService"},features:[Ea],ngContentSelectors:ij,decls:2,vars:3,consts:[["textField","text","valueField","value",3,"data","value","valuePrimitive","valueChange"]],template:function(e,t){1&e&&(Wo(),Po(0,"kendo-dropdownlist",0),Uo("valueChange",(function(e){return t.operatorChange(e)})),Mo(),Zo(1)),2&e&&Oo("data",t.operators)("value",t.currentOperator)("valuePrimitive",!0)},directives:[B_],encapsulation:2}),e})(),XY=(()=>{let e=class{constructor(){this.operators=[]}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService"},decls:2,vars:8,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",1,"k-textbox",3,"filterDelay","ngModel"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-filter-menu-input-wrapper",0),No(1,"input",1),Mo()),2&e&&(Oo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),vs(1),Oo("filterDelay",0)("ngModel",null==t.currentFilter?null:t.currentFilter.value))},directives:[JY,aw,XW,fw,pC],encapsulation:2}),e})(),eQ=(()=>{let e=class extends oZ{constructor(e){super(null,e),this.logicOperators=UW(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return jW(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return jW(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}localizationChange(){this.logicOperators=UW(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-string-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Ea],decls:3,vars:7,consts:[[3,"currentFilter","operators","filterService","column","filter"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter"]],template:function(e,t){1&e&&(No(0,"kendo-grid-string-filter-menu-input",0),Io(1,BU,1,3,"kendo-dropdownlist",1),Io(2,zU,1,5,"kendo-grid-string-filter-menu-input",2)),2&e&&(Oo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter),vs(1),Oo("ngIf",t.extra),vs(1),Oo("ngIf",t.extra))},directives:[XY,ku,B_],encapsulation:2}),e})(),tQ=(()=>{let e=class extends QW{constructor(e){super(null,e),this.logicOperators=UW(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return jW(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return jW(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}localizationChange(){this.logicOperators=UW(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Ea],decls:3,vars:13,consts:[[3,"currentFilter","operators","filterService","column","filter","format","decimals","spinners","min","max","step"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","format","decimals","spinners","min","max","step"]],template:function(e,t){1&e&&(No(0,"kendo-grid-numeric-filter-menu-input",0),Io(1,jU,1,3,"kendo-dropdownlist",1),Io(2,UU,1,11,"kendo-grid-numeric-filter-menu-input",2)),2&e&&(Oo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),vs(1),Oo("ngIf",t.extra),vs(1),Oo("ngIf",t.extra))},directives:function(){return[iQ,ku,B_]},encapsulation:2}),e})(),iQ=(()=>{let e=class{constructor(e){this.localization=e,this.operators=[],this.step=1,this.spinners=!0}messageFor(e){return this.localization.get(e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-numeric-filter-menu-input"]],inputs:{operators:"operators",step:"step",spinners:"spinners",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",min:"min",max:"max",decimals:"decimals",format:"format"},decls:3,vars:17,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","autoCorrect","value","format","decimals","spinners","min","max","step"],[3,"increment","decrement"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-filter-menu-input-wrapper",0),Po(1,"kendo-numerictextbox",1),No(2,"kendo-numerictextbox-messages",2),Mo(),Mo()),2&e&&(Oo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),vs(1),Oo("filterDelay",0)("autoCorrect",!0)("value",null==t.currentFilter?null:t.currentFilter.value)("format",t.format)("decimals",t.decimals)("spinners",t.spinners)("min",t.min)("max",t.max)("step",t.step),vs(1),Oo("increment",t.messageFor("filterNumericIncrement"))("decrement",t.messageFor("filterNumericDecrement")))},directives:[JY,nF,XW,oF],encapsulation:2}),e})(),nQ=(()=>{let e=class extends fZ{constructor(e){super(null,e),this.logicOperators=UW(this.localization),this.filter={filters:[],logic:"and"},this.extra=!0}get hostClasses(){return!1}get firstFilter(){return jW(0,this.filter,(this.column||{}).field,this.operator)}get secondFilter(){return jW(1,this.filter,(this.column||{}).field,this.operator)}logicChange(e){this.filter.logic=e}localizationChange(){this.logicOperators=UW(this.localization),super.localizationChange()}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-filtercell",t.hostClasses)},inputs:{filter:"filter",extra:"extra",column:"column",filterService:"filterService"},features:[Ea],decls:3,vars:16,consts:[[3,"currentFilter","operators","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"],["class","k-filter-and","textField","text","valueField","value",3,"data","valuePrimitive","value","valueChange",4,"ngIf"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber",4,"ngIf"],["textField","text","valueField","value",1,"k-filter-and",3,"data","valuePrimitive","value","valueChange"],[3,"operators","currentFilter","filterService","column","filter","activeView","bottomView","topView","format","formatPlaceholder","placeholder","min","max","weekNumber"]],template:function(e,t){1&e&&(No(0,"kendo-grid-date-filter-menu-input",0),Io(1,$U,1,3,"kendo-dropdownlist",1),Io(2,qU,1,14,"kendo-grid-date-filter-menu-input",2)),2&e&&(Oo("currentFilter",t.firstFilter)("operators",t.operators)("filterService",t.filterService)("column",t.column)("filter",t.filter)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("format",t.format)("formatPlaceholder",t.formatPlaceholder)("placeholder",t.placeholder)("min",t.min)("max",t.max)("weekNumber",t.weekNumber),vs(1),Oo("ngIf",t.extra),vs(1),Oo("ngIf",t.extra))},directives:function(){return[oQ,ku,B_]},encapsulation:2}),e})(),sQ=(()=>{let e=class extends uZ{constructor(e){super(null,e),this.filter={filters:[],logic:"and"},this.idPrefix=ey()}get hostClasses(){return!1}radioId(e){return`${this.idPrefix}_${e}`}onChange(e){this.applyFilter(this.updateFilter({field:this.column.field,operator:"eq",value:e}))}isSelected(e){return this.filtersByField(this.column.field).some(({value:t})=>t===e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-boolean-filter-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-filtercell",t.hostClasses)},inputs:{filter:"filter",filterService:"filterService"},features:[Ea],decls:2,vars:1,consts:[[1,"k-radio-list","k-reset"],[4,"ngFor","ngForOf"],["type","radio",1,"k-radio",3,"name","checked","change"],[1,"k-radio-label"]],template:function(e,t){1&e&&(Po(0,"ul",0),Io(1,GU,4,5,"li",1),Mo()),2&e&&(vs(1),Oo("ngForOf",t.items))},directives:[xu],encapsulation:2}),e})(),rQ=(()=>{let e=class extends tY{constructor(e,t){super(e,t)}componentType(){return lq(this.column)&&!dq(this.column.filter)?{boolean:sQ,date:nQ,numeric:tQ,text:eQ}[this.column.filter]:eQ}initComponent(e){super.initComponent(e),this.component.instance.filterService=this.filterService}};return e.\u0275fac=function(t){return new(t||e)(Fo(bl),Fo(qa))},e.\u0275dir=yt({type:e,selectors:[["","kendoFilterMenuHost",""]],inputs:{filterService:"filterService"},features:[Ea]}),e})(),oQ=(()=>{let e=class{constructor(e,t){this.popupService=e,this.localizationService=t,this.operators=[]}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}open(e){this.subscription=this.popupService.onClose.pipe(Jf(()=>e.isActive)).subscribe(e=>e.preventDefault())}messageFor(e){return this.localizationService.get(e)}};return e.\u0275fac=function(t){return new(t||e)(Fo(KK),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-date-filter-menu-input"]],inputs:{operators:"operators",column:"column",filter:"filter",operator:"operator",currentFilter:"currentFilter",filterService:"filterService",format:"format",formatPlaceholder:"formatPlaceholder",placeholder:"placeholder",min:"min",max:"max",activeView:"activeView",bottomView:"bottomView",topView:"topView",weekNumber:"weekNumber"},decls:4,vars:19,consts:[[3,"column","filter","operators","defaultOperator","currentFilter","filterService"],["kendoFilterInput","",3,"filterDelay","value","placeholder","formatPlaceholder","format","min","max","activeView","bottomView","topView","weekNumber","open"],["picker",""],[3,"toggle","today"]],template:function(e,t){if(1&e){const e=Bo();Po(0,"kendo-grid-filter-menu-input-wrapper",0),Po(1,"kendo-datepicker",1,2),Uo("open",(function(){Qt(e);const i=To(2);return t.open(i)})),No(3,"kendo-datepicker-messages",3),Mo(),Mo()}2&e&&(Oo("column",t.column)("filter",t.filter)("operators",t.operators)("defaultOperator",t.operator)("currentFilter",t.currentFilter)("filterService",t.filterService),vs(1),Oo("filterDelay",0)("value",null==t.currentFilter?null:t.currentFilter.value)("placeholder",t.placeholder)("formatPlaceholder",t.formatPlaceholder)("format",t.format)("min",t.min)("max",t.max)("activeView",t.activeView)("bottomView",t.bottomView)("topView",t.topView)("weekNumber",t.weekNumber),vs(2),Oo("toggle",t.messageFor("filterDateToggle"))("today",t.messageFor("filterDateToday")))},directives:[JY,tP,XW,BP],encapsulation:2}),e})(),aQ=(()=>{let e=class{static exports(){return[eQ,VG,tQ,nQ,sQ,eY.exports()]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[eY],eY]}),e})(),lQ=(()=>{let e=class{constructor(e,t,i){this.element=e,this.ngZone=t,this.renderer=i,this.reset=new nc,this.apply=new nc,this.columnChange=new nc,this.autoSync=!0,this.allowHideAll=!1,this.actionsClass="k-action-buttons",this.unlockedCount=0}get className(){return!0}set columns(e){this._columns=e.filter(e=>!1!==e.includeInChooser),this.allColumns=e,this.updateColumnState()}get columns(){return this._columns}isDisabled(e){return!(this.allowHideAll||this.hasFiltered||e.hidden||this.columns.find(t=>t!==e&&!t.hidden))||this.hasVisibleLocked&&!this.hasUnlockedFiltered&&1===this.unlockedCount&&!e.locked&&!e.hidden}ngOnInit(){this.element&&this.ngZone.runOutsideAngular(()=>{this.domSubscriptions=this.renderer.listen(this.element.nativeElement,"click",e=>{if(Pq(e.target,"k-checkbox"))if(this.autoSync){const t=parseInt(e.target.getAttribute("data-index"),10),i=this.columns[t],n=!e.target.checked;Boolean(i.hidden)!==n&&this.ngZone.run(()=>{i.hidden=n,this.columnChange.emit([i])})}else this.updateDisabled()})})}ngOnDestroy(){this.domSubscriptions&&this.domSubscriptions()}cancelChanges(){this.forEachCheckBox((e,t)=>{e.checked=!this.columns[t].hidden}),this.updateDisabled(),this.reset.emit()}applyChanges(){const e=[];this.forEachCheckBox((t,i)=>{const n=this.columns[i],s=!t.checked;Boolean(n.hidden)!==s&&(n.hidden=s,e.push(n))}),this.updateDisabled(),this.apply.emit(e)}forEachCheckBox(e){const t=this.element.nativeElement.getElementsByClassName("k-checkbox"),i=t.length;for(let n=0;n<i;n++)e(t[n],n)}updateDisabled(){if(this.allowHideAll&&!this.hasLocked)return;const e=[];if(this.forEachCheckBox((t,i)=>{t.checked&&e.push({checkbox:t,index:i}),t.disabled=!1}),this.allowHideAll||1!==e.length||this.hasFiltered){if(this.hasLocked&&!this.hasUnlockedFiltered){const t=this.columns,i=e.filter(e=>!t[e.index].locked);1===i.length&&(i[0].checkbox.disabled=!0)}}else e[0].checkbox.disabled=!0}updateColumnState(){this.hasLocked=this.allColumns.filter(e=>e.locked&&(!e.hidden||!1!==e.includeInChooser)).length>0,this.hasVisibleLocked=this.allColumns.filter(e=>e.locked&&!e.hidden).length>0,this.unlockedCount=this.columns.filter(e=>!e.locked&&!e.hidden).length;const e=this.allColumns.filter(e=>!1===e.includeInChooser&&!e.hidden);e.length?(this.hasFiltered=e.length>0,this.hasUnlockedFiltered=e.filter(e=>!e.locked).length>0):(this.hasFiltered=!1,this.hasUnlockedFiltered=!1)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Wc),Fo(Ya))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnlist"]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-column-list-wrapper",t.className)},inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll",actionsClass:"actionsClass",columns:"columns",applyText:"applyText",resetText:"resetText"},outputs:{reset:"reset",apply:"apply",columnChange:"columnChange"},decls:3,vars:2,consts:[[1,"k-column-list"],["class","k-column-list-item",4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[1,"k-column-list-item"],["type","checkbox",1,"k-checkbox",3,"checked","disabled"],[1,"k-checkbox-label"],[3,"ngClass"],["type","button",1,"k-button",3,"click"],["type","button",1,"k-button","k-primary",3,"click"]],template:function(e,t){1&e&&(Po(0,"div",0),Io(1,KU,4,4,"label",1),Mo(),Io(2,WU,5,3,"div",2)),2&e&&(vs(1),Oo("ngForOf",t.columns),vs(1),Oo("ngIf",!t.autoSync))},directives:[xu,ku,wu],encapsulation:2}),e})(),cQ=(()=>{let e=class{constructor(e,t,i,n,s,r){this.localization=e,this.columnInfoService=t,this.popupService=i,this.ngZone=n,this.renderer=s,this.changeDetector=r,this.autoSync=!1,this.allowHideAll=!0}get columns(){return this.columnInfoService.leafNamedColumns}ngOnDestroy(){this.close()}toggle(e,t){if(this.popupRef)this.close();else{const i=this.localization.rtl?"right":"left";this.popupRef=this.popupService.open({anchor:e,content:t,positionMode:"absolute",anchorAlign:{vertical:"bottom",horizontal:i},popupAlign:{vertical:"top",horizontal:i}}),this.renderer.setAttribute(this.popupRef.popupElement,"dir",this.localization.rtl?"rtl":"ltr"),this.ngZone.runOutsideAngular(()=>this.closeClick=this.renderer.listen("document","click",({target:t})=>{Lq(t,t=>t===this.popupRef.popupElement||t===e)||this.close()}))}}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}onChange(e){this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e)}close(){this.popupRef&&(this.popupRef.close(),this.popupRef=null),this.detachClose()}detachClose(){this.closeClick&&(this.closeClick(),this.closeClick=null)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(cW),Fo(OS),Fo(Wc),Fo(Ya),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-chooser"]],inputs:{autoSync:"autoSync",allowHideAll:"allowHideAll"},decls:5,vars:1,consts:[["type","button",1,"k-button","k-bare","k-button-icon",3,"click"],["anchor",""],[1,"k-icon","k-i-columns"],["template",""],[1,"k-column-chooser-title"],[3,"columns","applyText","resetText","autoSync","allowHideAll","apply","columnChange"]],template:function(e,t){if(1&e){const e=Bo();Po(0,"button",0,1),Uo("click",(function(){Qt(e);const i=To(1),n=To(4);return t.toggle(i,n)})),No(2,"span",2),Mo(),Io(3,ZU,3,6,"ng-template",null,3,_c)}2&e&&_o("title",t.localization.get("columns"))},directives:[lQ],encapsulation:2}),e})(),hQ=(()=>{let e=class{constructor(){this.closeMenu=new nc}close(){this.closeMenu.emit()}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),uQ=(()=>{class e{constructor(){this.hostClass=!0}ngOnInit(){if(Sn()&&!this.service)throw new Error("The service input of the predefined column menu components is mandatory.")}close(){this.service.close()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,hostVars:2,hostBindings:function(e,t){2&e&&oa("k-columnmenu-item-wrapper",t.hostClass)},inputs:{service:"service"}}),e})(),dQ=(()=>{let e=class extends uQ{constructor(e,t,i){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=i,this.expand=new nc,this.collapse=new nc,this.expanded=!1,this.actionsClass="k-columnmenu-actions"}get columns(){return this.columnInfoService.leafNamedColumns}onApply(e){this.close(),e.length&&(this.changeDetector.markForCheck(),this.columnInfoService.changeVisibility(e))}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(cW),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-chooser"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[Ea],decls:2,vars:2,consts:[["icon","columns",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"applyText","resetText","columns","autoSync","allowHideAll","actionsClass","apply"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-columnmenu-item",0),Uo("collapse",(function(){return t.collapse.emit()}))("expand",(function(){return t.expand.emit()})),Io(1,YU,1,6,"ng-template",1),Mo()),2&e&&Oo("text",t.localization.get("columns"))("expanded",t.expanded)},directives:function(){return[gQ,fQ,lQ]},encapsulation:2}),e})(),pQ=(()=>{let e=class extends uQ{constructor(e){super(),this.localization=e,this.expand=new nc,this.collapse=new nc,this.expanded=!1,this.actionsClass="k-columnmenu-actions"}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-filter"]],inputs:{expanded:"expanded"},outputs:{expand:"expand",collapse:"collapse"},features:[Ea],decls:2,vars:2,consts:[["icon","filter",3,"text","expanded","collapse","expand"],["kendoGridColumnMenuItemContentTemplate",""],[3,"column","filter","actionsClass","close"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-columnmenu-item",0),Uo("collapse",(function(){return t.collapse.emit()}))("expand",(function(){return t.expand.emit()})),Io(1,QU,1,3,"ng-template",1),Mo()),2&e&&Oo("text",t.localization.get("filter"))("expanded",t.expanded)},directives:function(){return[gQ,fQ,QY]},encapsulation:2}),e})(),fQ=(()=>{let e=class{constructor(e){this.templateRef=e}};return e.\u0275fac=function(t){return new(t||e)(Fo(ml,8))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridColumnMenuItemContentTemplate",""]]}),e})(),gQ=(()=>{let e=class{constructor(){this.itemClick=new nc,this.expand=new nc,this.collapse=new nc,this.contentState="collapsed"}get iconClass(){return"k-i-"+this.icon}ngOnChanges(e){e.expanded&&this.updateContentState()}onClick(e){this.itemClick.emit(e),this.contentTemplate&&(this.expanded=!this.expanded,this.updateContentState(),this.expanded?this.expand.emit():this.collapse.emit())}updateContentState(){this.contentState=this.expanded?"expanded":"collapsed"}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-item"]],contentQueries:function(e,t,i){var n;1&e&&bc(i,fQ,!0),2&e&&fc(n=Cc())&&(t.contentTemplate=n.first)},inputs:{expanded:"expanded",icon:"icon",text:"text",selected:"selected",disabled:"disabled"},outputs:{itemClick:"itemClick",expand:"expand",collapse:"collapse"},features:[Oa],decls:4,vars:7,consts:[[1,"k-columnmenu-item",3,"click"],["class","k-icon",3,"ngClass",4,"ngIf"],["style","overflow:hidden;","class","k-columnmenu-item-content",4,"ngIf"],[1,"k-icon",3,"ngClass"],[1,"k-columnmenu-item-content",2,"overflow","hidden"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Po(0,"div",0),Uo("click",(function(e){return t.onClick(e)})),Io(1,JU,1,1,"span",1),ya(2),Mo(),Io(3,XU,3,2,"div",2)),2&e&&(oa("k-state-selected",t.selected)("k-state-disabled",t.disabled),vs(1),Oo("ngIf",t.icon),vs(1),Ca(" ",t.text," "),vs(1),Oo("ngIf",t.contentTemplate))},directives:[ku,wu,Ou],encapsulation:2,data:{animation:[fd("state",[bd("collapsed",vd({display:"none"})),bd("expanded",vd({display:"block"})),yd("collapsed => expanded",[vd({height:"0px",display:"block"}),gd("100ms ease-in",vd({height:"*"}))]),yd("expanded => collapsed",[vd({height:"*"}),gd("100ms ease-in",vd({height:"0px"}))])])]}}),e})(),mQ=(()=>{let e=class extends uQ{constructor(e,t){super(),this.localization=e,this.sortService=t}get sortedAsc(){const e=this.descriptor;return e&&(!e.dir||"asc"===e.dir)}get sortedDesc(){const e=this.descriptor;return e&&"desc"===e.dir}toggleSort(e){const t=this.service.column.field,{mode:i,allowUnsort:n}=AY(this.service.sortable),s=this.descriptor,r="multiple"===i?this.service.sort.filter(e=>e.field!==t):[];if(s&&s.dir===e){if(!n)return}else r.push({field:t,dir:e});this.sortService.sort(r),this.close()}get descriptor(){return[].concat(this.service.sort||[]).find(e=>e.field===this.service.column.field)}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(hW))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-sort"]],features:[Ea],decls:2,vars:4,consts:[["icon","sort-asc-sm",3,"text","selected","itemClick"],["icon","sort-desc-sm",3,"text","selected","itemClick"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-columnmenu-item",0),Uo("itemClick",(function(){return t.toggleSort("asc")})),Mo(),Po(1,"kendo-grid-columnmenu-item",1),Uo("itemClick",(function(){return t.toggleSort("desc")})),Mo()),2&e&&(Oo("text",t.localization.get("sortAscending"))("selected",t.sortedAsc),vs(1),Oo("text",t.localization.get("sortDescending"))("selected",t.sortedDesc))},directives:[gQ],encapsulation:2}),e})(),vQ=(()=>{let e=class{constructor(e,t,i){this.popupService=e,this.localization=t,this.service=i,this.standalone=!0,this.settings={},this.sortable=!0,this.expandedFilter=!1,this.expandedColumns=!1,this.closeSubscription=i.closeMenu.subscribe(this.close.bind(this))}get isActive(){return this.hasFilter&&GW(this.filter,this.column.field).length>0||!this.sortable&&this.hasSort&&this.sort.find(e=>e.field===this.column.field)}get hasFilter(){return OY(this.settings,this.column)}get hasSort(){return RY(this.settings,this.column)}get hasColumnChooser(){return MY(this.settings)}get hasLock(){return PY(this.settings,this.column)}ngOnChanges(){this.service.column=this.column,this.service.sort=this.sort,this.service.filter=this.filter,this.service.sortable=this.sortable}ngOnDestroy(){this.close(),this.closeSubscription.unsubscribe()}toggle(e,t,i){e.preventDefault(),this.expandedFilter=!this.hasColumnChooser,this.expandedColumns=!this.hasFilter,this.popupRef=this.popupService.open(t,i,this.popupRef,"k-grid-columnmenu-popup")}close(){this.popupService.destroy(),this.popupRef=null}onColumnsExpand(){this.expandedColumns=!0,this.expandedFilter=!1}onFilterExpand(){this.expandedFilter=!0,this.expandedColumns=!1}};return e.\u0275fac=function(t){return new(t||e)(Fo(KK),Fo(Fy),Fo(hQ))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-column-menu"]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-grid-column-menu-standalone",t.standalone)},inputs:{standalone:"standalone",settings:"settings",sortable:"sortable",column:"column",sort:"sort",filter:"filter",columnMenuTemplate:"columnMenuTemplate"},features:[ja([hQ]),Oa],decls:7,vars:4,consts:[["href","#","tabindex","-1",1,"k-grid-column-menu","k-grid-filter",3,"ngClass","click"],["anchor",""],[1,"k-icon","k-i-more-vertical"],["template",""],["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"service",4,"ngIf"],[3,"service","expanded","expand",4,"ngIf"],[3,"service"],[3,"service","expanded","expand"]],template:function(e,t){if(1&e){const e=Bo();Po(0,"a",0,1),Uo("click",(function(i){Qt(e);const n=To(1),s=To(4);return t.toggle(i,n,s)})),No(2,"span",2),Mo(),Io(3,t$,1,5,"ng-template",null,3,_c),Io(5,o$,4,4,"ng-template",null,4,_c)}2&e&&(Oo("ngClass",Ul(2,a$,t.isActive)),_o("title",t.localization.get("columnMenu")))},directives:function(){return[wu,Ou,ku,mQ,bQ,dQ,pQ]},encapsulation:2}),e})(),bQ=(()=>{let e=class extends uQ{constructor(e,t,i){super(),this.localization=e,this.columnInfoService=t,this.changeDetector=i}get text(){return this.localization.get(this.locked?"unlock":"lock")}get icon(){return this.locked?"unlock":"lock"}get disabled(){return!this.locked&&this.columnInfoService.unlockedRootCount<2}toggleColumn(){this.toggleHierarchy(!this.locked),this.close(),this.changeDetector.markForCheck()}toggleHierarchy(e){let t=this.service.column;for(;t.parent;)t=t.parent;const i=[t],n=[];for(;i.length;){const t=i.shift();t.locked=e,n.push(t),t.hasChildren&&i.push(...t.childrenArray)}this.columnInfoService.changeLocked(n)}get locked(){return this.service.column.locked}};return e.\u0275fac=function(t){return new(t||e)(Fo(Fy),Fo(cW),Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-columnmenu-lock"]],features:[Ea],decls:1,vars:3,consts:[[3,"text","icon","disabled","itemClick"]],template:function(e,t){1&e&&(Po(0,"kendo-grid-columnmenu-item",0),Uo("itemClick",(function(){return t.toggleColumn()})),Mo()),2&e&&Oo("text",t.text)("icon",t.icon)("disabled",t.disabled)},directives:[gQ],encapsulation:2}),e})(),yQ=(()=>{let e=class{static exports(){return[cQ,pQ,gQ,fQ,mQ,bQ,dQ,RG,vQ]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,aQ]]}),e})();const wQ=[Pu,FY,nY,aQ,RZ,TY,yQ];let CQ=(()=>{let e=class{static exports(){return[AG,GY]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[...wQ]]}),e})();var xQ;let SQ=(()=>{let e=xQ=class extends NG{constructor(e){super(e),this.parent=e}get templateRef(){return this.template?this.template.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Fo(NG,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-command-column"]],contentQueries:function(e,t,i){var n;1&e&&bc(i,EG,!0),2&e&&fc(n=Cc())&&(t.template=n.first)},features:[ja([{provide:NG,useExisting:Se(()=>xQ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();var kQ;let _Q=(()=>{let e=kQ=class extends NG{constructor(e){super(e),this.parent=e,this.isCheckboxColumn=!0}get templateRef(){return this.template?this.template.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Fo(NG,13))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-checkbox-column"]],contentQueries:function(e,t,i){var n;1&e&&bc(i,EG,!0),2&e&&fc(n=Cc())&&(t.template=n.first)},inputs:{showSelectAll:"showSelectAll"},features:[ja([{provide:NG,useExisting:Se(()=>kQ)}]),Ea],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),EQ=(()=>{let e=class{constructor(e,t,i,n){this.selectionService=e,this.el=t,this.renderer=i,this.ngZone=n,this.type="checkbox",this.ngZone.runOutsideAngular(()=>{this.destroyClick=this.renderer.listen(this.el.nativeElement,"click",this.onClick.bind(this)),this.destroyKeyDown=this.renderer.listen(this.el.nativeElement,"keydown",this.onKeyDown.bind(this))})}ngAfterContentChecked(){this.setCheckedState()}ngOnDestroy(){this.destroyClick&&this.destroyClick(),this.destroyKeyDown&&this.destroyKeyDown()}onClick(){this.selectionService.options.enabled&&this.ngZone.run(()=>{const e=this.selectionService.toggleByIndex(this.itemIndex);e.ctrlKey=!0,e.shiftKey=!1,this.selectionService.changes.emit(e)})}onKeyDown(e){e.keyCode===gy.Enter&&this.onClick()}setCheckedState(){this.renderer.setProperty(this.el.nativeElement,"checked",this.selectionService.isSelected(this.itemIndex))}};return e.\u0275fac=function(t){return new(t||e)(Fo(wG),Fo(Ga),Fo(Ya),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridSelectionCheckbox",""]],hostVars:1,hostBindings:function(e,t){2&e&&_o("type",t.type)},inputs:{itemIndex:["kendoGridSelectionCheckbox","itemIndex"]}}),e})(),IQ=(()=>{let e=class{constructor(e,t,i,n,s,r,o,a,l,c,h,u,d){this.detailsService=e,this.groupsService=t,this.changeNotification=i,this.editService=n,this.localization=s,this.ngZone=r,this.renderer=o,this.element=a,this.domEvents=l,this.selectionService=c,this.cellSelectionService=h,this.columnInfoService=u,this.navigationService=d,this.columns=[],this.groups=[],this.skip=0,this.noRecordsText=this.localization.get("noRecords"),this.isLocked=!1,this.skipGroupDecoration=!1,this.showGroupFooters=!1,this.lockedColumnsCount=0,this.totalColumnsCount=0,this.trackBy=pW,this.rowClass=()=>null,this.cellKeydownSubscription=this.navigationService.cellKeydown.subscribe(e=>this.cellKeydownHandler(e)),this.trackByWrapper=this.trackByWrapper.bind(this),this.trackByColumns=this.trackByColumns.bind(this)}get newDataItem(){return this.editService.newDataItem}get unlockedColumnsCount(){return this.totalColumnsCount-this.lockedColumnsCount-(this.allColumns||this.columns).length}isAriaSelected(e,t){return this.cellSelectionService.isCellSelected(e,t)||this.isRowSelected(e)?"true":"false"}toggleRow(e,t){return this.detailsService.toggleRow(e,t),!1}isExpanded(e){return this.detailsService.isExpanded(e.index,e.data)}detailButtonStyles(e){return this.isExpanded(e)?"k-minus":"k-plus"}detailButtonTitle(e){const t=this.isExpanded(e)?"detailCollapse":"detailExpand";return this.localization.get(t)}isGroup(e){return"group"===e.type}isDataItem(e){return!this.isGroup(e)&&!this.isFooter(e)}isFooter(e){return"footer"===e.type}isInExpandedGroup(e){return this.groupsService.isInExpandedGroup(e.groupIndex,!1)}isParentGroupExpanded(e){return this.groupsService.isInExpandedGroup(e.index||e.groupIndex)}isOdd(e){return e.index%2!=0}isSelectable(){return this.selectable&&!1!==this.selectable.enabled}isRowSelected(e){return this.selectionService.isSelected(e.index)}trackByWrapper(e,t){return"data"===t.type&&(t.isEditing=this.editService.hasEdited(t.index)),this.trackBy(e,t)}trackByColumns(e,t){return this.virtualColumns?e:t}ngDoCheck(){this.groupHeaderColumns=this.hasGroupHeaderColumn?KG(this.skipGroupDecoration?this.columns:this.columns.toArray().slice(1)):[],this.groupHeaderSlaveCellsCount=this.isLocked?this.hasGroupHeaderColumn?this.columnsContainer.nonLockedColumnsToRender.length:1:0}ngOnChanges(e){Qb("columns",e,!1)&&this.changeNotification.notify()}logicalRowIndex(e){let t=this.skip+e;this.hasDetailTemplate&&(t*=2);const i=1+t,n=this.editService.hasNewItem?1:0,s=qK(this.filterable)?1:0;return i+(this.columnInfoService.totalLevels+s+n)}addRowLogicalIndex(){return this.columnInfoService.totalLevels+1+(qK(this.filterable)?1:0)}logicalColIndex(e){return lq(e.leafIndex)?e.leafIndex+(this.hasDetailTemplate?1:0):-1}ngOnInit(){this.ngZone.runOutsideAngular(()=>{const e=this.clickHandler.bind(this),t=this.renderer.listen(this.element.nativeElement,"mousedown",e),i=this.renderer.listen(this.element.nativeElement,"mouseup",e),n=this.renderer.listen(this.element.nativeElement,"click",e),s=this.renderer.listen(this.element.nativeElement,"contextmenu",e),r=this.renderer.listen(this.element.nativeElement,"touchstart",e),o=this.renderer.listen(this.element.nativeElement,"touchend",e);this.clickSubscription=()=>{t(),i(),n(),s()},this.touchSubscription=()=>{r(),o()}});let e=this.localization.get("noRecords");this.localization.changes.subscribe(()=>{this.noRecordsText===e&&(this.noRecordsText=this.localization.get("noRecords"),e=this.noRecordsText)})}ngOnDestroy(){this.clickSubscription&&this.clickSubscription(),this.touchSubscription&&this.touchSubscription(),this.cellKeydownSubscription.unsubscribe(),clearTimeout(this.clickTimeout)}isEditingCell(e,t){return this.editService.isEditing()&&this.editService.isEditedColumn(e,t)}isEditingRow(e){return this.editService.isEditing()&&this.editService.hasEdited(e)}get hasGroupHeaderColumn(){return this.columnsContainer.hasGroupHeaderColumn}get columnsContainer(){return this.columnInfoService.columnsContainer}get columnsSpan(){return YG(this.columns)}get allColumnsSpan(){return YG(this.allColumns||this.columns)}get colSpan(){return this.columnsSpan+this.groups.length+(this.hasDetailTemplate?1:0)}get footerColumns(){return this.isLocked?this.columnsContainer.lockedColumnsToRender:this.columnsContainer.nonLockedColumnsToRender}showGroupHeader(e){return!e.data.skipHeader}get hasDetailTemplate(){return lq(this.detailTemplate)}clickHandler(e){const t=this.element.nativeElement,i=this.eventTarget(e);let n,s,r,o,a=i;do{n=Lq(a,Nq("td")),s=Lq(n,Nq("tr")),r=Lq(s,Nq("tbody")),a=r,o=Vq(a,Mq("k-grid"),t)}while(r&&r!==t&&!o);if(n&&!Pq(n,"k-hierarchy-cell k-detail-cell k-group-cell")&&!Pq(s,"k-grouping-row k-group-footer k-detail-row k-grid-norecords")&&r===t&&!o&&(this.editService.preventCellClose(),!(i!==n&&zq(i,!1)||Nq("label")(i)||Pq(i,"k-icon")||Vq(i,Mq("k-widget k-grid-ignore-click"),n)))){const t=this.cellClickArgs(n,s,e);"mousedown"===e.type||"touchstart"===e.type?this.domEvents.cellMousedown.emit(t):"mouseup"===e.type||"touchend"===e.type?this.domEvents.cellMouseup.emit(t):!t.isEditedColumn&&this.editService.closeCell(e)||("click"===e.type?this.clickTimeout=setTimeout(()=>{this.emitCellClick(t)},0):this.emitCellClick(t))}}emitCellClick(e){this.domEvents.cellClick.emit(Object.assign(e,{isEdited:e.isEditedRow||e.isEditedColumn}))}cellKeydownHandler(e){e.keyCode===gy.Enter&&this.clickHandler(e)}cellClickArgs(e,t,i){const n=((e,t)=>{let i=0;for(let n=0;n<t.length;n++){if(t[n]===e)return i;Pq(t[n],"k-hierarchy-cell k-group-cell")||i++}})(e,t.cells),s=this.columns.toArray()[n],r=this.lockedColumnsCount+n;let o=t.getAttribute("data-kendo-grid-item-index");return o=o?parseInt(o,10):-1,{column:s,columnIndex:r,dataItem:-1===o?this.editService.newDataItem:this.data.at(o-this.skip),isEditedColumn:this.editService.isEditedColumn(o,s),isEditedRow:this.editService.isEdited(o),originalEvent:i,rowIndex:o,type:"keydown"===i.type?"click":i.type}}eventTarget(e){if("touchend"===e.type){const t=e.changedTouches[0];return document.elementFromPoint(t.clientX,t.clientY)}return e.target}};return e.\u0275fac=function(t){return new(t||e)(Fo(lG),Fo(sG),Fo(IK),Fo(iG),Fo(Fy),Fo(Wc),Fo(Ya),Fo(Ga),Fo(Tq),Fo(wG),Fo(CG),Fo(cW),Fo(yG))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridTableBody",""]],inputs:{columns:"columns",groups:"groups",skip:"skip",noRecordsText:"noRecordsText",isLocked:"isLocked",skipGroupDecoration:"skipGroupDecoration",showGroupFooters:"showGroupFooters",lockedColumnsCount:"lockedColumnsCount",totalColumnsCount:"totalColumnsCount",trackBy:"trackBy",rowClass:"rowClass",allColumns:"allColumns",detailTemplate:"detailTemplate",noRecordsTemplate:"noRecordsTemplate",data:"data",selectable:"selectable",filterable:"filterable",virtualColumns:"virtualColumns"},features:[Oa],attrs:l$,decls:3,vars:4,consts:[[3,"ngIf"],["class","k-grid-norecords",4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],["kendoGridLogicalRow","",1,"k-grid-add-row","k-grid-edit-row",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan",4,"ngFor","ngForOf","ngForTrackBy"],["class","k-group-cell","role","presentation",4,"ngFor","ngForOf"],["role","presentation",1,"k-group-cell"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","isNew","column","dataItem","ngClass","ngStyle","logicalRowIndex","logicalColIndex","colSpan"],[1,"k-grid-norecords"],[3,"ngIf","templateContext"],[4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass","k-alt","k-master-row","k-grid-edit-row","k-state-selected",4,"ngIf"],["class","k-detail-row","kendoGridLogicalRow","",3,"k-alt","dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount",4,"ngIf"],["class","k-group-footer","kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount",4,"ngIf"],["kendoGridGroupHeader","","kendoGridLogicalRow","",3,"columns","groups","item","hasDetails","skipGroupDecoration","hasGroupHeaderColumn","groupHeaderColumns","rowIndex","totalColumnsCount","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalRow","",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount","ngClass"],["class","k-hierarchy-cell","kendoGridLogicalCell","","aria-selected","false",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell",4,"ngIf"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","touch-action","ngClass","k-grid-edit-cell","ngStyle","k-state-selected",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","","aria-selected","false",1,"k-hierarchy-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","detailExpandCell"],["class","k-icon","href","#","tabindex","-1",3,"ngClass","click",4,"ngIf"],["href","#","tabindex","-1",1,"k-icon",3,"ngClass","click"],["kendoGridCell","","kendoGridLogicalCell","","role","gridcell",3,"rowIndex","columnIndex","column","dataItem","logicalRowIndex","logicalColIndex","dataRowIndex","colIndex","colSpan","ngClass","ngStyle"],["kendoGridLogicalRow","",1,"k-detail-row",3,"dataRowIndex","dataItem","logicalRowIndex","logicalSlaveRow","logicalCellsCount"],["class","k-group-cell",4,"ngFor","ngForOf"],[1,"k-hierarchy-cell"],["kendoGridLogicalCell","","role","gridcell","aria-selected","false",1,"k-detail-cell",3,"logicalRowIndex","logicalColIndex","dataRowIndex","dataItem","colIndex","colSpan"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"k-group-cell"],["kendoGridLogicalRow","",1,"k-group-footer",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex",4,"ngFor","ngForOf","ngForTrackBy"],["kendoGridLogicalCell","",3,"logicalRowIndex","logicalColIndex"],[3,"templateContext"]],template:function(e,t){1&e&&(Io(0,p$,4,8,"ng-template",0),Io(1,v$,4,6,"tr",1),Io(2,L$,4,4,"ng-template",2)),2&e&&(Oo("ngIf",t.editService.hasNewItem),vs(1),Oo("ngIf",0===(null==t.data?null:t.data.length)||null==t.data),vs(1),Oo("ngForOf",t.data)("ngForTrackBy",t.trackByWrapper))},directives:function(){return[ku,xu,kZ,xZ,TQ,wu,Au,yZ,gY,Ou]},encapsulation:2}),e})(),TQ=(()=>{let e=class{constructor(e,t,i){this.editService=e,this.idService=t,this.cellContext=i,this.isNew=!1,this._templateContext={},this._editTemplateContext={}}get commandCellClass(){return this.isCommand(this.column)}set rowIndex(e){this._rowIndex=e,this.updateCellContext()}get rowIndex(){return this._rowIndex}get isEdited(){if(!this.editService.isEditing()&&!this.isNew||!this.isColumnEditable)return!1;const e=this.editService.columnContext(this.rowIndex,this.column);return this.isFieldEditable(e,this.column)}get formGroup(){return this.editService.context(this.rowIndex).group}get templateContext(){return this._templateContext}get editTemplateContext(){return this._editTemplateContext.$implicit=this.formGroup,this._editTemplateContext.isNew=this.isNew,this._editTemplateContext.column=this.column,this._editTemplateContext.dataItem=this.dataItem,this._editTemplateContext.formGroup=this.formGroup,this._editTemplateContext.rowIndex=this.rowIndex,this._editTemplateContext}get format(){if(BG(this.column)&&!dq(this.column.format))return vq(this.column.format)}get isBoundColumn(){return this.column.field&&!this.column.templateRef}get isCheckboxColumn(){return MG(this.column)&&!this.column.templateRef}get selectionCheckboxId(){return this.idService.selectionCheckboxId(this.rowIndex)}get isSpanColumn(){return PG(this.column)&&!this.column.templateRef}get childColumns(){return KG([this.column])}get isColumnEditable(){return!(!this.column||this.isCommand(this.column))&&!1!==this.column.editable}ngDoCheck(){this.updateCellContext()}ngOnChanges(e){this.updateTemplateContext()}ngAfterContentChecked(){this.updateTemplateContext()}isCommand(e){return e instanceof SQ}isFieldEditable(e,t){return!!lq(e)&&(!!lq(t.editTemplate)||lq(e.group)&&lq(e.group.get(t.field)))}updateCellContext(){this.cellContext&&(this.cellContext.rowIndex=this._rowIndex)}updateTemplateContext(){if(!this.column.templateRef)return;const e=this._templateContext;e.isNew=this.isNew,e.column=this.column,e.dataItem=this.dataItem,e.rowIndex=this.rowIndex,e.columnIndex=this.columnIndex,e.$implicit=this.dataItem}};return e.\u0275fac=function(t){return new(t||e)(Fo(iG),Fo(lW),Fo(Kq,8))},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridCell",""]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-command-cell",t.commandCellClass)},inputs:{isNew:"isNew",rowIndex:"rowIndex",column:"column",columnIndex:"columnIndex",dataItem:"dataItem"},features:[Oa],attrs:V$,decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"ngIf","ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf"],["ngFor","",3,"ngForOf"],[1,"k-checkbox",3,"kendoGridSelectionCheckbox"],[1,"k-checkbox-label"],[4,"ngIf"],[3,"ngSwitch",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["kendoGridFocusable","",3,"format","formControl",4,"ngSwitchCase"],["type","checkbox","class","k-checkbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchCase"],["type","text","class","k-textbox","kendoGridFocusable","",3,"formControl",4,"ngSwitchDefault"],["kendoGridFocusable","",3,"format","formControl"],["type","checkbox","kendoGridFocusable","",1,"k-checkbox",3,"formControl"],["type","text","kendoGridFocusable","",1,"k-textbox",3,"formControl"]],template:function(e,t){1&e&&(Lo(0,0),Io(1,$$,5,6,"ng-container",1),Io(2,J$,3,2,"ng-container",1),Vo()),2&e&&(Oo("ngSwitch",t.isEdited),vs(1),Oo("ngSwitchCase",!1),vs(1),Oo("ngSwitchCase",!0))},directives:[Tu,Fu,ku,Ou,xu,Wq,EQ,Du,nF,fw,vC,tP,sw,aw],pipes:[EZ],encapsulation:2}),e})(),FQ=(()=>{let e=class extends bN{constructor(e,t,i,n,s,r){super(i,n,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.beginEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Fo(iG),Fo(Kq),Fo(Ga),Fo(Ya),Fo(Fy),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridEditCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e)})),2&e&&(ra("display",t.visible),oa("k-grid-edit-command",t.commandClass))},features:[Ea]}),e})(),DQ=(()=>{let e=class extends bN{constructor(e,t,i,n,s,r){super(i,n,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.endEdit(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Fo(iG),Fo(Kq),Fo(Ga),Fo(Ya),Fo(Fy),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridCancelCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e)})),2&e&&(ra("display",t.visible),oa("k-grid-cancel-command",t.commandClass))},features:[Ea]}),e})(),AQ=(()=>{let e=class extends bN{constructor(e,t,i,n,s,r){super(i,n,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"":"none"}onClick(e){e.preventDefault(),this.isEdited&&this.editService.save(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Fo(iG),Fo(Kq),Fo(Ga),Fo(Ya),Fo(Fy),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridSaveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e)})),2&e&&(ra("display",t.visible),oa("k-grid-save-command",t.commandClass))},features:[Ea]}),e})(),OQ=(()=>{let e=class extends bN{constructor(e,t,i,n,s,r){super(i,n,null,s,r),this.editService=e,this.cellContext=t,this.commandClass=!0}get visible(){return this.isEdited?"none":""}onClick(e){e.preventDefault(),this.editService.remove(this.rowIndex)}ngDoCheck(){this.cellContext&&(this.rowIndex=this.cellContext.rowIndex,this.isEdited=this.editService.isEdited(this.rowIndex))}};return e.\u0275fac=function(t){return new(t||e)(Fo(iG),Fo(Kq),Fo(Ga),Fo(Ya),Fo(Fy),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridRemoveCommand",""]],hostVars:4,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e)})),2&e&&(ra("display",t.visible),oa("k-grid-remove-command",t.commandClass))},features:[Ea]}),e})(),RQ=(()=>{let e=class extends bN{constructor(e,t,i,n,s){super(t,i,null,n,s),this.editService=e}onClick(e){e.preventDefault(),this.editService.beginAdd()}get commandClass(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Fo(iG),Fo(Ga),Fo(Ya),Fo(Fy),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridAddCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e)})),2&e&&oa("k-grid-add-command",t.commandClass)},features:[Ea]}),e})();const PQ=[Pu,_C,kC,RZ,FY,pF,jP];let MQ=(()=>{let e=class{static exports(){return[SQ,_Q,EQ,EG,TK,FG,FQ,DQ,AQ,OQ,RQ]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[...PQ]]}),e})(),NQ=(()=>{let e=class{constructor(){this.columns=[],this.groups=[],this.lockedColumnsCount=0,this.logicalRowIndex=0}get footerClass(){return!this.scrollable}get columnsToRender(){return KG(this.columns||[])}logicalColumnIndex(e){const t=e.leafIndex;return lq(t)?t+(lq(this.detailTemplate)?1:0):-1}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["","kendoGridFooter",""]],hostVars:2,hostBindings:function(e,t){2&e&&oa("k-grid-footer",t.footerClass)},inputs:{columns:"columns",groups:"groups",lockedColumnsCount:"lockedColumnsCount",logicalRowIndex:"logicalRowIndex",detailTemplate:"detailTemplate",scrollable:"scrollable"},attrs:X$,decls:1,vars:1,consts:[[3,"ngIf"],["kendoGridLogicalRow","",3,"logicalRowIndex","logicalSlaveRow","logicalCellsCount","logicalSlaveCellsCount"],["role","presentation",3,"k-group-cell",4,"ngFor","ngForOf"],["role","presentation",3,"k-hierarchy-cell",4,"ngIf"],["kendoGridLogicalCell","","role","columnfooter","aria-selected","false",3,"logicalRowIndex","logicalColIndex","ngClass","ngStyle",4,"ngFor","ngForOf"],["role","presentation"],["kendoGridLogicalCell","","role","columnfooter","aria-selected","false",3,"logicalRowIndex","logicalColIndex","ngClass","ngStyle"],[3,"templateContext"]],template:function(e,t){1&e&&Io(0,sq,4,9,"ng-template",0),2&e&&Oo("ngIf",!0)},directives:[ku,kZ,xu,xZ,wu,Au,yZ],encapsulation:2}),e})();const LQ=[Pu,RZ];let VQ=(()=>{let e=class{static exports(){return[]}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[...LQ]]}),e})(),HQ=(()=>{let e=class{constructor(e){this.grid=e,this.classNames="k-toolbar k-grid-toolbar",this.context={}}set position(e){this.context.position=e}get toolbarTemplateRef(){return this.grid.toolbarTemplate?this.grid.toolbarTemplate.templateRef:void 0}};return e.\u0275fac=function(t){return new(t||e)(Fo(vW))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-toolbar"]],hostVars:2,hostBindings:function(e,t){2&e&&aa(t.classNames)},inputs:{position:"position"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,t){1&e&&Io(0,oq,1,2,void 0,0),2&e&&Oo("ngIf",t.toolbarTemplateRef)},directives:[ku,Ou],encapsulation:2}),e})(),BQ=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,FY,RZ,MQ,CQ,VQ,fY,nY,aQ,py,yQ]]}),e})();class zQ extends Xq{constructor(e){super(),this.workbook=e}}const jQ=e=>({data:e.view.map(e=>e),group:e.group}),UQ=e=>{const t=[];return eK(e).forEach(e=>{if(e.isSpanColumn)t.push(...UQ(e.childrenArray));else{const i=(e=>({title:e.title,field:e.field,locked:Boolean(e.locked),width:e.width,level:e.level,hidden:!e.isVisible,groupHeaderTemplate:e.groupHeaderTemplate,groupHeaderColumnTemplate:e.groupHeaderColumnTemplate,groupFooterTemplate:e.groupFooterTemplate,footerTemplate:e.footerTemplate}))(e);e.isColumnGroup&&(i.children=[i].concat(UQ(e.childrenArray))),t.push(i)}}),t},$Q=e=>{const t=UQ(e.columns.toArray());return Gx(t,[{field:"locked",dir:"desc"}])};let qQ=(()=>{let e=class{constructor(e,t,i){this.localization=t,this.zone=i,this.fileName="Export.xlsx",this.columns=new rc,this.saveSubscription=e.saveToExcel.subscribe(this.save.bind(this))}ngOnDestroy(){this.saveSubscription.unsubscribe(),this.dataSubscription&&this.dataSubscription.unsubscribe()}save(e){const t=(this.fetchData||jQ)(e),i=t=>{delete this.dataSubscription,this.exportData(e,t)};t instanceof Promise?t.then(i):t instanceof w?this.dataSubscription=t.pipe(mg(1)).subscribe(i):i(t)}exportData(e,t){const i=pz({columns:this.columns.length?this.columns:$Q(e),data:t.data,group:t.group,filterable:this.filterable,creator:this.creator,date:this.date,paddingCellOptions:this.paddingCellOptions,headerPaddingCellOptions:this.headerPaddingCellOptions,rtl:this.localization.rtl,collapsible:this.collapsible}),n=new zQ(i);e.excelExport.emit(n),n.isDefaultPrevented()||this.zone.runOutsideAngular(()=>this.saveFile(i))}saveFile(e){(e=>new $B(e).toDataURL())(e).then(e=>{!function(e,t,i={}){let n=iH;if(i.forceProxy&&!i.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");i.forceProxy||("download"in XV()&&(n=tH),navigator.msSaveBlob&&(n=eH)),n(e,t,i)}(e,this.fileName,{forceProxy:this.forceProxy,proxyURL:this.proxyURL})})}};return e.\u0275fac=function(t){return new(t||e)(Fo(VK),Fo(Fy),Fo(Wc))},e.\u0275cmp=pt({type:e,selectors:[["kendo-grid-excel"]],contentQueries:function(e,t,i){var n;1&e&&bc(i,fz,!0),2&e&&fc(n=Cc())&&(t.columns=n)},inputs:{fileName:"fileName",filterable:"filterable",creator:"creator",date:"date",forceProxy:"forceProxy",proxyURL:"proxyURL",fetchData:"fetchData",paddingCellOptions:"paddingCellOptions",headerPaddingCellOptions:"headerPaddingCellOptions",collapsible:"collapsible"},decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})(),GQ=(()=>{let e=class extends bN{constructor(e,t,i,n,s){super(t,i,null,n,s),this.excelService=e,this.ngZone=s}onClick(e){e.preventDefault(),this.excelService.exportClick.emit()}get excelClass(){return!0}};return e.\u0275fac=function(t){return new(t||e)(Fo(VK),Fo(Ga),Fo(Ya),Fo(Fy),Fo(Wc))},e.\u0275dir=yt({type:e,selectors:[["","kendoGridExcelCommand",""]],hostVars:2,hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e)})),2&e&&oa("k-grid-excel",t.excelClass)},features:[Ea]}),e})(),KQ=(()=>{let e=class{};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[gz]}),e})();const WQ=an(RW);class ZQ{}class YQ{}class QQ{}class JQ{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const i=e.slice(0,t),n=i.toLowerCase(),s=e.slice(t+1).trim();this.maybeSetNormalizedName(i,n),this.headers.has(n)?this.headers.get(n).push(s):this.headers.set(n,[s])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const n=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(n,i),this.maybeSetNormalizedName(t,n))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof JQ?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new JQ;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof JQ?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const n=("a"===e.op?this.headers.get(t):void 0)||[];n.push(...i),this.headers.set(t,n);break;case"d":const s=e.value;if(s){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===s.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class XQ{encodeKey(e){return eJ(e)}encodeValue(e){return eJ(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function eJ(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class tJ{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XQ,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const i=new Map;return e.length>0&&e.split("&").forEach(e=>{const n=e.indexOf("="),[s,r]=-1==n?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,n)),t.decodeValue(e.slice(n+1))],o=i.get(s)||[];o.push(r),i.set(s,o)}),i}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t];this.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new tJ({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const i=t.indexOf(e.value);-1!==i&&t.splice(i,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function iJ(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function nJ(e){return"undefined"!=typeof Blob&&e instanceof Blob}function sJ(e){return"undefined"!=typeof FormData&&e instanceof FormData}class rJ{constructor(e,t,i,n){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==i?i:null,s=n):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.params&&(this.params=s.params)),this.headers||(this.headers=new JQ),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const i=t.indexOf("?");this.urlWithParams=t+(-1===i?"?":i<t.length-1?"&":"")+e}}else this.params=new tJ,this.urlWithParams=t}serializeBody(){return null===this.body?null:iJ(this.body)||nJ(this.body)||sJ(this.body)||"string"==typeof this.body?this.body:this.body instanceof tJ?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||sJ(this.body)?null:nJ(this.body)?this.body.type||null:iJ(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tJ?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,n=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,r=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,i)=>t.set(i,e.setHeaders[i]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,i)=>t.set(i,e.setParams[i]),l)),new rJ(t,i,s,{params:l,headers:a,reportProgress:o,responseType:n,withCredentials:r})}}const oJ=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}();class aJ{constructor(e,t=200,i="OK"){this.headers=e.headers||new JQ,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lJ extends aJ{constructor(e={}){super(e),this.type=oJ.ResponseHeader}clone(e={}){return new lJ({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cJ extends aJ{constructor(e={}){super(e),this.type=oJ.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new cJ({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hJ extends aJ{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function uJ(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let dJ=(()=>{class e{constructor(e){this.handler=e}request(e,t,i={}){let n;if(e instanceof rJ)n=e;else{let s=void 0;s=i.headers instanceof JQ?i.headers:new JQ(i.headers);let r=void 0;i.params&&(r=i.params instanceof tJ?i.params:new tJ({fromObject:i.params})),n=new rJ(e,t,void 0!==i.body?i.body:null,{headers:s,params:r,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=jf(n).pipe(Fg(e=>this.handler.handle(e)));if(e instanceof rJ||"events"===i.observe)return s;const r=s.pipe(Jf(e=>e instanceof cJ));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return r.pipe(L(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return r.pipe(L(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return r.pipe(L(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return r.pipe(L(e=>e.body))}case"response":return r;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new tJ).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,i={}){return this.request("PATCH",e,uJ(i,t))}post(e,t,i={}){return this.request("POST",e,uJ(i,t))}put(e,t,i={}){return this.request("PUT",e,uJ(i,t))}}return e.\u0275fac=function(t){return new(t||e)(We(YQ))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class pJ{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const fJ=new Ve("HTTP_INTERCEPTORS");let gJ=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const mJ=/^\)\]\}',?\n/;class vJ{}let bJ=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),yJ=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new w(t=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((e,t)=>i.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&i.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();i.responseType="json"!==t?t:"text"}const n=e.serializeBody();let s=null;const r=()=>{if(null!==s)return s;const t=1223===i.status?204:i.status,n=i.statusText||"OK",r=new JQ(i.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||e.url;return s=new lJ({headers:r,status:t,statusText:n,url:o}),s},o=()=>{let{headers:n,status:s,statusText:o,url:a}=r(),l=null;204!==s&&(l=void 0===i.response?i.responseText:i.response),0===s&&(s=l?200:0);let c=s>=200&&s<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(mJ,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=e,c&&(c=!1,l={error:h,text:l})}}c?(t.next(new cJ({body:l,headers:n,status:s,statusText:o,url:a||void 0})),t.complete()):t.error(new hJ({error:l,headers:n,status:s,statusText:o,url:a||void 0}))},a=e=>{const{url:n}=r(),s=new hJ({error:e,status:i.status||0,statusText:i.statusText||"Unknown Error",url:n||void 0});t.error(s)};let l=!1;const c=n=>{l||(t.next(r()),l=!0);let s={type:oJ.DownloadProgress,loaded:n.loaded};n.lengthComputable&&(s.total=n.total),"text"===e.responseType&&i.responseText&&(s.partialText=i.responseText),t.next(s)},h=e=>{let i={type:oJ.UploadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),t.next(i)};return i.addEventListener("load",o),i.addEventListener("error",a),e.reportProgress&&(i.addEventListener("progress",c),null!==n&&i.upload&&i.upload.addEventListener("progress",h)),i.send(n),t.next({type:oJ.Sent}),()=>{i.removeEventListener("error",a),i.removeEventListener("load",o),e.reportProgress&&(i.removeEventListener("progress",c),null!==n&&i.upload&&i.upload.removeEventListener("progress",h)),i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(We(vJ))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();const wJ=new Ve("XSRF_COOKIE_NAME"),CJ=new Ve("XSRF_HEADER_NAME");class xJ{}let SJ=(()=>{class e{constructor(e,t,i){this.doc=e,this.platform=t,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=yu(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(We(Eh),We(Oc),We(wJ))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),kJ=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return t.handle(e);const n=this.tokenService.getToken();return null===n||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,n)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(xJ),We(CJ))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),_J=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(fJ,[]);this.chain=e.reduceRight((e,t)=>new pJ(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(QQ),We(oo))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),EJ=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:kJ,useClass:gJ}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:wJ,useValue:t.cookieName}:[],t.headerName?{provide:CJ,useValue:t.headerName}:[]]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[kJ,{provide:fJ,useExisting:kJ,multi:!0},{provide:xJ,useClass:SJ},{provide:wJ,useValue:"XSRF-TOKEN"},{provide:CJ,useValue:"X-XSRF-TOKEN"}]}),e})(),IJ=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[dJ,{provide:YQ,useClass:_J},yJ,{provide:QQ,useExisting:yJ},bJ,{provide:vJ,useExisting:bJ}],imports:[[EJ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})(),TJ=(()=>{class e{constructor(e,t){this.http=e,this.appConfig=t,this.samples=[],this.sampleUpdate=new _,this.commentUpdate=new _,this.comments=[]}getSamples(){this.http.get(""+this.appConfig.apiUrls.sampleUrl.getsamples).subscribe(e=>{this.samples=e.samples,this.sampleUpdate.next([...this.samples])})}getSampleDetails(e){return this.http.get(`${this.appConfig.apiUrls.sampleUrl.getsampledetails}/${e}`)}editSamples(e){this.http.post(""+this.appConfig.apiUrls.sampleUrl.editsamples,e).subscribe(t=>{console.log(t.message),this.samples.push(e),this.sampleUpdate.next([...this.samples])})}addSamples(e){this.http.post(""+this.appConfig.apiUrls.sampleUrl.getsamples,e).subscribe(t=>{console.log(t.message),this.samples.push(e),this.sampleUpdate.next([...this.samples])})}saveSiteComments(e){return this.http.post(""+this.appConfig.apiUrls.sampleUrl.getsamples,e)}editSample(e){return this.http.post(""+this.appConfig.apiUrls.sampleUrl.editsamples,e)}getSamplesUpdated(){return this.sampleUpdate.asObservable()}}return e.\u0275fac=function(t){return new(t||e)(We(dJ),We(Mf))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),FJ=(()=>{class e{constructor(){}getStatusIcon(e,t=!1){switch(e){case"Installed":return t?"status-completed":"fa fa-check-circle check-circle--green";case"Build in Progress":return t?"status-progress":"fa fa-play-circle";case"Operational":return t?"status-paused":"fa fa-clock"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),DJ=(()=>{class e{constructor(){this.data={},this.items=[]}put(e,t){this.data[e]=t}get(e){return this.data[e]}invalidateItems(){this.items=[]}invalidCache(e){this.data[e]=void 0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),AJ=(()=>{class e{constructor(e){this.router=e}navigateByAccess(e){e&&e.length>0&&this.router.navigate([e[0].path],e[0].params)}}return e.\u0275fac=function(t){return new(t||e)(We(Qv))},e.\u0275prov=he({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function OJ(e,t){if(1&e&&(Po(0,"span"),ya(1),Mo()),2&e){const e=Go();vs(1),wa(e._placeholder)}}function RJ(e,t){if(1&e){const e=Bo();Po(0,"span",14),ya(1),Po(2,"a",15),Uo("click",(function(i){Qt(e);const n=t.$implicit;return Go().onItemClick(i,n)})),ya(3,"x"),Mo(),Mo()}if(2&e){const e=t.$implicit;Oo("hidden",t.index>Go()._settings.itemsShowLimit-1),vs(1),Ca(" ",e.text," ")}}function PJ(e,t){if(1&e&&(Po(0,"span",16),ya(1),Mo()),2&e){const e=Go();vs(1),Ca("+",e.itemShowRemaining(),"")}}function MJ(e,t){if(1&e){const e=Bo();Po(0,"li",17),Uo("click",(function(){return Qt(e),Go().toggleSelectAll()})),No(1,"input",18),Po(2,"div"),ya(3),Mo(),Mo()}if(2&e){const e=Go();vs(1),Oo("checked",e.isAllItemsSelected())("disabled",e.disabled||e.isLimitSelectionReached()),vs(2),wa(e.isAllItemsSelected()?e._settings.unSelectAllText:e._settings.selectAllText)}}function NJ(e,t){if(1&e){const e=Bo();Po(0,"li",19),Po(1,"input",20),Uo("ngModelChange",(function(t){return Qt(e),Go().filter.text=t}))("ngModelChange",(function(t){return Qt(e),Go().onFilterTextChange(t)})),Mo(),Mo()}if(2&e){const e=Go();vs(1),Oo("readOnly",e.disabled)("placeholder",e._settings.searchPlaceholderText)("ngModel",e.filter.text)}}function LJ(e,t){if(1&e){const e=Bo();Po(0,"li",21),Uo("click",(function(i){Qt(e);const n=t.$implicit;return Go().onItemClick(i,n)})),No(1,"input",22),Po(2,"div"),ya(3),Mo(),Mo()}if(2&e){const e=t.$implicit,i=Go();vs(1),Oo("checked",i.isSelected(e))("disabled",i.disabled||i.isLimitSelectionReached()&&!i.isSelected(e)||e.isDisabled),vs(2),wa(e.text)}}function VJ(e,t){if(1&e&&(Po(0,"li",23),Po(1,"h5"),ya(2),Mo(),Mo()),2&e){const e=Go();vs(2),wa(e._settings.noDataAvailablePlaceholderText)}}class HJ{constructor(e){"string"!=typeof e&&"number"!=typeof e||(this.id=this.text=e,this.isDisabled=!1),"object"==typeof e&&(this.id=e.id,this.text=e.text,this.isDisabled=e.isDisabled)}}const BJ={provide:iw,useExisting:Se(()=>jJ),multi:!0},zJ=()=>{};let jJ=(()=>{let e=class{constructor(e){this.cdr=e,this._data=[],this.selectedItems=[],this.isDropdownOpen=!0,this._placeholder="Select",this._sourceDataType=null,this._sourceDataFields=[],this.filter=new HJ(this.data),this.defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1},this.disabled=!1,this.onFilterChange=new nc,this.onDropDownClose=new nc,this.onSelect=new nc,this.onDeSelect=new nc,this.onSelectAll=new nc,this.onDeSelectAll=new nc,this.onTouchedCallback=zJ,this.onChangeCallback=zJ}set placeholder(e){this._placeholder=e||"Select"}set settings(e){this._settings=e?Object.assign(this.defaultSettings,e):Object.assign(this.defaultSettings)}set data(e){if(e){const t=e[0];this._sourceDataType=typeof t,this._sourceDataFields=this.getFields(t),this._data=e.map(e=>new HJ("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]}))}else this._data=[]}onFilterTextChange(e){this.onFilterChange.emit(e)}onItemClick(e,t){if(this.disabled||t.isDisabled)return!1;const i=this.isSelected(t),n=-1===this._settings.limitSelection||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;i?this.removeSelected(t):n&&this.addSelected(t),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(e){if(null!=e&&e.length>0)if(this._settings.singleSelection)try{if(e.length>=1){const t=e[0];this.selectedItems=[new HJ("string"==typeof t||"number"==typeof t?t:{id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]})]}}catch(t){}else{const t=e.map(e=>new HJ("string"==typeof e||"number"==typeof e?e:{id:e[this._settings.idField],text:e[this._settings.textField],isDisabled:e[this._settings.disabledField]}));this.selectedItems=this._settings.limitSelection>0?t.splice(0,this._settings.limitSelection):t}else this.selectedItems=[];this.onChangeCallback(e)}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}onTouched(){this.closeDropdown(),this.onTouchedCallback()}trackByFn(e,t){return t.id}isSelected(e){let t=!1;return this.selectedItems.forEach(i=>{e.id===i.id&&(t=!0)}),t}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){const e=this._data.filter(e=>e.isDisabled).length;return!((!this.data||0===this.data.length)&&this._settings.allowRemoteDataSearch)&&this._data.length===this.selectedItems.length+e}showButton(){return!(this._settings.singleSelection||this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(e){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(e)):this.selectedItems.push(e),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(e))}removeSelected(e){this.selectedItems.forEach(t=>{e.id===t.id&&this.selectedItems.splice(this.selectedItems.indexOf(t),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(e))}emittedValue(e){const t=[];if(Array.isArray(e))e.map(e=>{t.push(this.objectify(e))});else if(e)return this.objectify(e);return t}objectify(e){if("object"===this._sourceDataType){const t={};return t[this._settings.idField]=e.id,t[this._settings.textField]=e.text,this._sourceDataFields.includes(this._settings.disabledField)&&(t[this._settings.disabledField]=e.isDisabled),t}return"number"===this._sourceDataType?Number(e.id):e.text}toggleDropdown(e){e.preventDefault(),this.disabled&&this._settings.singleSelection||(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this._data.filter(e=>!e.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(e){const t=[];if("object"!=typeof e)return t;for(const i in e)t.push(i);return t}};return e.\u0275fac=function(t){return new(t||e)(Fo($r))},e.\u0275cmp=pt({type:e,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(e,t){1&e&&Uo("blur",(function(){return t.onTouched()}))},inputs:{disabled:"disabled",placeholder:"placeholder",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[ja([BJ])],decls:16,vars:17,consts:[["tabindex","=0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item",3,"hidden",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px"],["style","padding-right: 6px;",4,"ngIf"],[3,"ngClass"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-data",4,"ngIf"],[1,"selected-item",3,"hidden"],[2,"padding-top","2px","padding-left","2px","color","white",3,"click"],[2,"padding-right","6px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"readOnly","placeholder","ngModel","ngModelChange"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox","aria-label","multiselect-item",3,"checked","disabled"],[1,"no-data"]],template:function(e,t){1&e&&(Po(0,"div",0),Uo("blur",(function(){return t.onTouched()}))("clickOutside",(function(){return t.closeDropdown()})),Po(1,"div"),Po(2,"span",1),Uo("click",(function(e){return t.toggleDropdown(e)})),Io(3,OJ,2,1,"span",2),Io(4,RJ,4,2,"span",3),Po(5,"span",4),Io(6,PJ,2,1,"span",5),No(7,"span",6),Mo(),Mo(),Mo(),Po(8,"div",7),Po(9,"ul",8),Io(10,MJ,4,3,"li",9),Io(11,NJ,2,3,"li",10),Mo(),Po(12,"ul",11),Io(13,LJ,4,3,"li",12),Jl(14,"multiSelectFilter"),Io(15,VJ,3,1,"li",13),Mo(),Mo(),Mo()),2&e&&(vs(1),oa("disabled",t.disabled),vs(2),Oo("ngIf",0==t.selectedItems.length),vs(1),Oo("ngForOf",t.selectedItems)("ngForTrackBy",t.trackByFn),vs(2),Oo("ngIf",t.itemShowRemaining()>0),vs(1),Oo("ngClass",t._settings.defaultOpen?"dropdown-up":"dropdown-down"),vs(1),Oo("hidden",!t._settings.defaultOpen),vs(2),Oo("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&!t._settings.singleSelection&&t._settings.enableCheckAll&&-1===t._settings.limitSelection),vs(1),Oo("ngIf",(t._data.length>0||t._settings.allowRemoteDataSearch)&&t._settings.allowSearchFilter),vs(1),ra("max-height",t._settings.maxHeight+"px"),vs(1),Oo("ngForOf",Xl(14,14,t._data,t.filter)),vs(2),Oo("ngIf",0==t._data.length&&!t._settings.allowRemoteDataSearch))},directives:function(){return[UJ,ku,xu,wu,aw,fw,pC]},pipes:function(){return[$J]},styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-down[_ngcontent-%COMP%]{display:inline-block;top:10px;width:0;height:0;border-top:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-up[_ngcontent-%COMP%]{display:inline-block;width:0;height:0;border-bottom:10px solid #adadad;border-left:10px solid transparent;border-right:10px solid transparent}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:0}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:.4s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";position:absolute;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out;background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;-o-border-image:none;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transition:transform .2s ease-out;transform:rotate(-45deg) scale(1)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{-webkit-animation:.2s ease-in borderscale;animation:.2s ease-in borderscale;background:#337ab7}@-webkit-keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}@keyframes borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0}),e})(),UJ=(()=>{let e=class{constructor(e){this._elementRef=e,this.clickOutside=new nc}onClick(e,t){t&&(this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(e))}};return e.\u0275fac=function(t){return new(t||e)(Fo(Ga))},e.\u0275dir=yt({type:e,selectors:[["","clickOutside",""]],hostBindings:function(e,t){1&e&&Uo("click",(function(e){return t.onClick(e,e.target)}),!1,zi)},outputs:{clickOutside:"clickOutside"}}),e})(),$J=(()=>{let e=class{transform(e,t){return e&&t?e.filter(e=>this.applyFilter(e,t)):e}applyFilter(e,t){return"string"==typeof e.text&&"string"==typeof t.text?!(t.text&&e.text&&-1===e.text.toLowerCase().indexOf(t.text.toLowerCase())):!(t.text&&e.text&&-1===e.text.toString().toLowerCase().indexOf(t.text.toString().toLowerCase()))}};return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=wt({name:"multiSelectFilter",type:e,pure:!1}),e})();var qJ;let GJ=(()=>{let e=qJ=class{static forRoot(){return{ngModule:qJ}}};return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,kC]]}),e})();function KJ(e,t){if(1&e){const e=Bo();Po(0,"li"),Po(1,"input",2),Uo("input",(function(t){return Qt(e),Go().onInput(t)})),Mo(),Mo()}}const WJ=function(e){return{"k-state-selected":e}};function ZJ(e,t){if(1&e){const e=Bo();Po(0,"li",3,4),Uo("click",(function(){Qt(e);const i=t.$implicit,n=To(1),s=Go();return s.onSelectionChange(s.valueAccessor(i),n)})),Po(2,"input",5),Uo("focus",(function(){Qt(e);const t=To(1);return Go().onFocus(t)})),Mo(),Po(3,"label",6),ya(4),Mo(),Mo()}if(2&e){const e=t.$implicit,i=Go();Oo("ngClass",Ul(5,WJ,i.isItemSelected(e))),vs(2),Qo("id","chk-",i.valueAccessor(e),""),Oo("checked",i.isItemSelected(e)),vs(1),Qo("for","chk-",i.valueAccessor(e),""),vs(1),Ca(" ",i.textAccessor(e)," ")}}let YJ=(()=>{class e{constructor(){this.valueChange=new nc,this.showFilter=!0,this.value=[],this.textAccessor=e=>this.isPrimitive?e:e[this.textField],this.valueAccessor=e=>this.isPrimitive?e:e[this.valueField]}ngAfterViewInit(){this.currentData=this.data,this.value=this.currentFilter.filters.map(e=>e.value),this.showFilter="string"==typeof this.textAccessor(this.currentData[0])}isItemSelected(e){return this.value.some(t=>t===this.valueAccessor(e))}onSelectionChange(e,t){this.value.some(t=>t===e)?this.value=this.value.filter(t=>t!==e):this.value.push(e),this.filterService.filter({filters:this.value.map(e=>({field:this.field,operator:"eq",value:e})),logic:"or"}),this.onFocus(t)}onInput(e){this.currentData=Wx([...this.currentData.filter(e=>this.value.some(t=>t===this.valueAccessor(e))),...zx(this.data,{operator:"contains",field:this.textField,value:e.target.value})],this.textField)}onFocus(e){const t=e.parentNode;(t.scrollTop+t.offsetHeight<e.offsetTop+e.offsetHeight||e.offsetTop<t.scrollTop)&&(t.scrollTop=e.offsetTop)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=pt({type:e,selectors:[["multicheck-filter"]],inputs:{isPrimitive:"isPrimitive",currentFilter:"currentFilter",data:"data",textField:"textField",valueField:"valueField",filterService:"filterService",field:"field"},outputs:{valueChange:"valueChange"},decls:3,vars:2,consts:[[4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"k-textbox",3,"input"],[3,"ngClass","click"],["itemElement",""],["type","checkbox",1,"k-checkbox",3,"id","checked","focus"],[1,"k-multiselect-checkbox","k-checkbox-label",3,"for"]],template:function(e,t){1&e&&(Po(0,"ul"),Io(1,KJ,2,0,"li",0),Io(2,ZJ,5,7,"li",1),Mo()),2&e&&(vs(1),Oo("ngIf",t.showFilter),vs(1),Oo("ngForOf",t.currentData))},directives:[ku,xu,wu],styles:["ul[_ngcontent-%COMP%] {\n      list-style-type: none;\n      height: 200px;\n      overflow-y: scroll;\n      padding-left: 0;\n      padding-right: 12px;\n    }\n\n    ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] {\n      padding: 8px 12px;\n      border: 1px solid rgba(0,0,0,.08);\n      border-bottom: none;\n    }\n\n    ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:last-of-type {\n      border-bottom: 1px solid rgba(0,0,0,.08);\n    }\n\n    .k-multiselect-checkbox[_ngcontent-%COMP%] {\n      pointer-events: none;\n    }"]}),e})();function QJ(e,t){1&e&&Zo(0,0,["*ngIf","!actions"])}function JJ(e,t){if(1&e){const e=Bo();Po(0,"button",2),Uo("click",(function(i){Qt(e);const n=t.$implicit;return Go(2).onButtonClick(n,i)})),ya(1),Mo()}if(2&e){const e=t.$implicit;Oo("ngClass",Go(2).buttonClass(e)),vs(1),Ca(" ",e.text," ")}}function XJ(e,t){if(1&e&&(Lo(0),Io(1,JJ,2,2,"button",1),Vo()),2&e){const e=Go();vs(1),Oo("ngForOf",e.actions)}}function eX(e,t){}function tX(e,t){1&e&&Io(0,eX,0,0,"ng-template",3),2&e&&Oo("ngTemplateOutlet",Go().actions)}const iX=["*"];function nX(e,t){if(1&e&&(Po(0,"kendo-dialog-titlebar",6),ya(1),Mo()),2&e){const e=Go();Oo("id",e.titleId),vs(1),wa(e.title)}}function sX(e,t){1&e&&Zo(0,0,["*ngIf","!title"])}function rX(e,t){1&e&&Zo(0,1,["*ngIf","!contentTemplate"])}function oX(e,t){}function aX(e,t){1&e&&Io(0,oX,0,0,"ng-template",7),2&e&&Oo("ngTemplateOutlet",Go().contentTemplate)}function lX(e,t){1&e&&Zo(0,2,["*ngIf","!actions"])}function cX(e,t){1&e&&No(0,"kendo-dialog-actions",8),2&e&&Oo("actions",Go().actions)}const hX=[[["kendo-dialog-titlebar"]],"*",[["kendo-dialog-actions"]]],uX=["kendo-dialog-titlebar","*","kendo-dialog-actions"];let dX=(()=>{class e{constructor(e){this.el=e,this.action=new nc}get className(){return!0}actionTemplate(){return this.actions instanceof ml}onButtonClick(e,t){this.action.emit(e)}buttonClass(e){const t=["k-button"];return e.primary&&t.push("k-primary"),t.join(" ")}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dialog-actions"]],hostVars:4,hostBindings:function(e,t){2&e&&oa("k-dialog-buttongroup",t.className)("k-dialog-button-layout-stretched",t.className)},inputs:{actions:"actions"},outputs:{action:"action"},ngContentSelectors:iX,decls:3,vars:3,consts:[[4,"ngIf"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[3,"ngTemplateOutlet"]],template:function(e,t){1&e&&(Wo(),Io(0,QJ,1,0,void 0,0),Io(1,XJ,2,1,"ng-container",0),Io(2,tX,1,1,void 0,0)),2&e&&(Oo("ngIf",!t.actions),vs(1),Oo("ngIf",!t.actionTemplate()),vs(1),Oo("ngIf",t.actionTemplate()))},directives:[ku,xu,wu,Ou],encapsulation:2}),e})(),pX=(()=>{class e{constructor(e){this.hostElement=e,this.close=new nc}get className(){return!0}ngAfterViewChecked(){this.hostElement.nativeElement.setAttribute("id",this.id)}onCloseClick(e){e.preventDefault(),this.close.emit()}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dialog-titlebar"]],hostVars:6,hostBindings:function(e,t){2&e&&oa("k-window-titlebar",t.className)("k-dialog-titlebar",t.className)("k-header",t.className)},inputs:{id:"id"},outputs:{close:"close"},ngContentSelectors:iX,decls:5,vars:0,consts:[[1,"k-window-title","k-dialog-title"],[1,"k-window-actions","k-dialog-actions"],["href","#","role","button","aria-label","Close",1,"k-button","k-bare","k-button-icon","k-window-action","k-dialog-action","k-dialog-close",3,"click"],[1,"k-icon","k-i-x"]],template:function(e,t){1&e&&(Wo(),Po(0,"div",0),Zo(1),Mo(),Po(2,"div",1),Po(3,"a",2),Uo("click",(function(e){return t.onCloseClick(e)})),No(4,"span",3),Mo(),Mo())},encapsulation:2}),e})();const fX=e=>null!=e,gX=e=>String(e).trim().split(" "),mX=/^(?:a|input|select|textarea|button|object)$/i;var vX=function(e){return e[e.esc=27]="esc",e[e.tab=9]="tab",e[e.enter=13]="enter",e[e.space=32]="space",e[e.ctrl=17]="ctrl",e[e.shift=16]="shift",e[e.left=37]="left",e[e.up=38]="up",e[e.right=39]="right",e[e.down=40]="down",e}({});const bX=(e,t)=>{const i=gX(t);return Boolean(gX(e.className).find(e=>i.indexOf(e)>=0))},yX=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","*[tabindex]","*[contenteditable]"].join(",");let wX=(()=>{class e{constructor(e,t,i){this._elRef=e,this._renderer=t,this.titleId=null,this.action=new nc,this.close=new nc,this.tabIndex=0,this.subscriptions=[],this.direction=i.rtl?"rtl":"ltr",this.subscriptions.push(i.changes.subscribe(({rtl:e})=>this.direction=e?"rtl":"ltr")),this.titleId=this.generateTitleId()}get dir(){return this.direction}onComponentKeydown(e){const t=e.target,i=t.parentElement;(bX(t,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action")||bX(i,"k-dialog-wrapper k-dialog-buttongroup k-dialog-action"))&&e.keyCode===vX.esc&&this.close.emit(),bX(t,"k-button")&&bX(i,"k-dialog-buttongroup")&&(e.keyCode===vX.left||e.keyCode===vX.right)&&this.handleActionButtonFocus(i,e.keyCode),e.keyCode===vX.tab&&this.keepFocusWithinComponent(t,e)}ngAfterContentInit(){this.bubble("close",this.titlebarContent),this.titlebarContent&&(this.titlebarContent.id=this.titleId)}ngAfterViewInit(){this.handleInitialFocus(),this.bubble("close",this.titlebarView),this.bubble("action",this.actionsView),(this.titlebarView||this.titlebarContent)&&this._renderer.setAttribute(this._elRef.nativeElement.querySelector(".k-dialog"),"aria-labelledby",this.titleId)}ngOnInit(){this._renderer.removeAttribute(this._elRef.nativeElement,"title")}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe()),this.subscriptions=[]}focus(){const e=this._elRef.nativeElement;fX(e)&&e.focus()}handleInitialFocus(){const e=this._elRef.nativeElement,t=e.querySelector(".k-primary");if(this.autoFocusedElement){const t=e.querySelector(this.autoFocusedElement);t&&t.focus()}else this.shouldFocusPrimary(t)?t.focus():e.focus()}handleActionButtonFocus(e,t){const i=this.getAllFocusableChildren(e);for(let n=0;n<i.length;n++)if(i[n]===document.activeElement){if(t===vX.left&&n>0){i[n-1].focus();break}if(t===vX.right&&n<i.length-1){i[n+1].focus();break}}}keepFocusWithinComponent(e,t){const i=this._elRef.nativeElement,n=this.getLastFocusableElement(i),s=e===i&&t.shiftKey,r=!t.shiftKey&&fX(n)&&e===n,o=!fX(n)&&!t.shiftKey;(s||o)&&(t.preventDefault(),i.focus()),r&&(t.preventDefault(),n.focus())}shouldFocusPrimary(e){return fX(e)&&((e,t=!0)=>{if(e.tagName){const i=e.tagName.toLowerCase(),n=e.getAttribute("tabIndex"),s=null!==n&&!isNaN(n)&&n>-1;let r=!1;return r=mX.test(i)?!e.disabled:s,r&&(!t||(e=>{const t=e.getBoundingClientRect();return!(!t.width||!t.height)&&"hidden"!==window.getComputedStyle(e).visibility})(e))}return!1})(e)}getAllFocusableChildren(e){return e.querySelectorAll(yX)}getLastFocusableElement(e){const t=this.getAllFocusableChildren(e);return t.length>0?t[t.length-1]:null}generateTitleId(){return"kendo-dialog-title-"+Math.ceil(1e6*Math.random()).toString()}get wrapperClass(){return!0}get styles(){const e={};return this.width&&(e.width=this.width+"px"),this.height&&(e.height=this.height+"px"),this.minWidth&&(e.minWidth=this.minWidth+"px"),e}bubble(e,t){if(t){const i=t[e].subscribe(t=>this[e].emit(t));this.subscriptions.push(i)}}}return e.\u0275fac=function(t){return new(t||e)(Fo(Ga),Fo(Ya),Fo(Fy))},e.\u0275cmp=pt({type:e,selectors:[["kendo-dialog"]],contentQueries:function(e,t,i){var n;1&e&&bc(i,pX,!0),2&e&&fc(n=Cc())&&(t.titlebarContent=n.first)},viewQuery:function(e,t){var i;1&e&&(mc(pX,!0),mc(dX,!0)),2&e&&(fc(i=Cc())&&(t.titlebarView=i.first),fc(i=Cc())&&(t.actionsView=i.first))},hostVars:4,hostBindings:function(e,t){1&e&&Uo("keydown",(function(e){return t.onComponentKeydown(e)})),2&e&&(_o("tabIndex",t.tabIndex)("dir",t.dir),oa("k-dialog-wrapper",t.wrapperClass))},inputs:{autoFocusedElement:"autoFocusedElement",title:"title",actions:"actions",width:"width",minWidth:"minWidth",height:"height"},outputs:{action:"action",close:"close"},exportAs:["kendoDialog"],features:[ja([Fy,{provide:Ty,useValue:"kendo.dialog"}])],ngContentSelectors:uX,decls:9,vars:9,consts:[[1,"k-overlay"],["role","dialog",1,"k-widget","k-window","k-dialog",3,"ngStyle"],[3,"id",4,"ngIf"],[4,"ngIf"],[1,"k-content","k-window-content","k-dialog-content"],[3,"actions",4,"ngIf"],[3,"id"],[3,"ngTemplateOutlet"],[3,"actions"]],template:function(e,t){1&e&&(Wo(hX),No(0,"div",0),Po(1,"div",1),Io(2,nX,2,2,"kendo-dialog-titlebar",2),Io(3,sX,1,0,void 0,3),Po(4,"div",4),Io(5,rX,1,0,void 0,3),Io(6,aX,1,1,void 0,3),Mo(),Io(7,lX,1,0,void 0,3),Io(8,cX,1,1,"kendo-dialog-actions",5),Mo()),2&e&&(Oo("@overlayAppear",void 0),vs(1),Oo("ngStyle",t.styles)("@dialogSlideInAppear",void 0),vs(1),Oo("ngIf",t.title),vs(1),Oo("ngIf",!t.title),vs(2),Oo("ngIf",!t.contentTemplate),vs(1),Oo("ngIf",t.contentTemplate),vs(1),Oo("ngIf",!t.actions),vs(1),Oo("ngIf",t.actions))},directives:[Au,ku,pX,Ou,dX],encapsulation:2,data:{animation:[fd("overlayAppear",[bd("in",vd({opacity:1})),yd("void => *",[vd({opacity:.1}),gd(".3s cubic-bezier(.2, .6, .4, 1)")])]),fd("dialogSlideInAppear",[bd("in",vd({transform:"translate(0, 0)"})),yd("void => *",[vd({transform:"translate(0, -10%)"}),gd(".3s cubic-bezier(.2, 1, .2, 1)")])])]}}),e})(),CX=(()=>{class e{constructor(e){this.dialog=e}ngAfterViewInit(){this.dialogTitleBar&&this.dialogTitleBar.close.subscribe(()=>{this.dialog.close()}),this.dialogActions&&this.dialogActions.actions&&this.dialogActions.action.subscribe(e=>this.dialog.dialog.instance.action.emit(e))}}return e.\u0275fac=function(e){Ao()},e.\u0275dir=yt({type:e,viewQuery:function(e,t){var i;1&e&&(mc(pX,!0),mc(dX,!0)),2&e&&(fc(i=Cc())&&(t.dialogTitleBar=i.first),fc(i=Cc())&&(t.dialogActions=i.first))}}),e})(),xX=(()=>{class e{set container(t){e.container=t}get container(){return e.container}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class SX{}class kX{constructor(e,t){this.getDialogRef=e,this.parentInjector=t}get(e,t){return e===class{}?this.getDialogRef():this.parentInjector.get(e,t)}}let _X=(()=>{class e{constructor(e,t){this.resolver=e,this.containerService=t}open(e){const t=this.resolver.resolveComponentFactory(wX),i=e.appendTo||this.containerService.container;if(!i)throw new Error("\nCannot attach dialog to the page.\nAdd an element that uses the kendoDialogContainer directive, or set the 'appendTo' property.\nSee https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service/.\n          ");return this.initializeDialog(e.content,t,i,{close:()=>{},content:null,dialog:null,result:null},e)}initializeDialog(e,t,i,n,s){const r=this.contentFrom(e,i,n),o=i.createComponent(t,void 0,void 0,r.nodes);n.dialog=o,o.changeDetectorRef.markForCheck(),this.applyOptions(o.instance,s);const a=new _,l=e=>{a.next(e||new SX),r.componentRef&&r.componentRef.destroy(),o.destroy()},c=K(a,o.instance.close,o.instance.action).pipe(mg(1));if(c.subscribe(l),n.close=l,n.result=c,e&&Sn()){const t=r.nodes[0]&&r.nodes[0].length>0,i=r.nodes[2]&&r.nodes[2].length>0,n=s.title&&t,o=s.actions&&i;e.prototype instanceof CX?(n||o)&&console.warn("\n                    Multiple Title and/or Actions configurations detected.\n                    When using a component as content, provide the title and actions either in the component's markup\n                    or via the title and actions properties of the DialogSettings object, but not both.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service.md#toc-passing-title-content-and-actions-as-a-single-component'"):(t||i)&&console.warn("\n                    When Title and/or Actions markup is provided in content component's template,\n                    the component needs to inherit the DialogContentBase class to ensure that close and result events are properly hooked.\n                    See https://www.telerik.com/kendo-angular-ui/components/dialogs/dialog/service.md#toc-passing-title-content-and-actions-as-a-single-component'")}return n}applyOptions(e,t){e.title=t.title,e.actions=t.actions,e.width=t.width,e.minWidth=t.minWidth,e.height=t.height,e.autoFocusedElement=t.autoFocusedElement,t.content instanceof ml&&(e.contentTemplate=t.content)}contentFrom(e,t,i){const n=t.injector.get(Ya);let s,r,o=[],a=null;if("string"==typeof e)o=[n.createText(e)];else if(e&&!(e instanceof ml)){const n=new kX(()=>i,t.injector),l=this.resolver.resolveComponentFactory(e);a=t.createComponent(l,void 0,n),s=Array.from(a.location.nativeElement.querySelectorAll("kendo-dialog-titlebar")),o=[a.location.nativeElement],r=Array.from(a.location.nativeElement.querySelectorAll("kendo-dialog-actions")),i.content=a}return{componentRef:a,nodes:[s,o,r]}}}return e.\u0275fac=function(t){return new(t||e)(We(qa),We(xX))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})(),EX=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu],Pu]}),e})(),IX=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[xX,_X],imports:[[EX]]}),e})();function TX(e,t){1&e&&(Po(0,"span"),ya(1,"There are No Samples uploaded yet"),Mo())}function FX(e,t){if(1&e&&Io(0,TX,2,0,"span",72),2&e){const e=Go();Oo("ngIf",!e.loading&&0===e.sampleData.length)}}function DX(e,t){if(1&e){const e=Bo();Po(0,"input",73),Uo("input",(function(t){return Qt(e),Go().onFilter(t.target.value)})),Mo(),No(1,"kendo-grid-spacer"),Po(2,"ng-multiselect-dropdown",74),Uo("ngModelChange",(function(t){return Qt(e),Go().selectedItems=t}))("onDeSelect",(function(t){return Qt(e),Go().onIDeSelect(t)}))("onDeSelectAll",(function(t){return Qt(e),Go().onIDeSelectAll(t)}))("onSelect",(function(t){return Qt(e),Go().onISelect(t)}))("onSelectAll",(function(t){return Qt(e),Go().onISelectAll(t)})),Mo(),Po(3,"button",75),ya(4," Export to Excel "),Mo()}if(2&e){const e=Go();vs(2),Oo("ngModel",e.selectedItems)("placeholder","Select Columns")("data",e.columns)("settings",e.dropdownSettings)}}function AX(e,t){if(1&e){const e=Bo();Po(0,"input",76),Uo("selectAllChange",(function(t){return Qt(e),Go().onSelectAllChange(t)})),Mo(),No(1,"label",77)}2&e&&Oo("state",Go().selectAllState)}function OX(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function RX(e,t){if(1&e){const e=Bo();Po(0,"a",82),Uo("click",(function(){Qt(e);const i=t.$implicit;return Go(2).openView(i)})),ya(1),Mo()}if(2&e){const e=t.$implicit;Yo("title",e.ArtemisID),vs(1),wa(e.ArtemisID)}}function PX(e,t){1&e&&(Po(0,"kendo-grid-column",78),Io(1,OX,1,5,"ng-template",79),Io(2,RX,2,2,"ng-template",80),Mo())}function MX(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}const NX=function(){return{color:"#909090","font-style":"italic"}},LX=function(){return{}};function VX(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.ConfirmedBusiness),Oo("ngStyle",null==e.ConfirmedBusiness?jl(3,NX):jl(4,LX)),vs(1),wa(e.ConfirmedBusiness?e.ConfirmedBusiness:"No records")}}const HX=function(){return{color:"#0575D1"}};function BX(e,t){1&e&&(Po(0,"kendo-grid-column",83),Io(1,MX,1,5,"ng-template",79),Io(2,VX,2,5,"ng-template",80),Mo()),2&e&&Oo("headerStyle",jl(1,HX))}function zX(e,t){if(1&e){const e=Bo();Po(0,"div"),ya(1),Jl(2,"date"),Mo(),Po(3,"kendo-datetimepicker",86,87),Uo("valueChange",(function(t){return Qt(e),Go(2).handleChange(t)}))("ngModelChange",(function(i){return Qt(e),t.dataItem.PlannedDate=i})),Mo()}if(2&e){const e=t.dataItem,i=Go(2);vs(1),Ca(" ",Xl(2,3,i.convertDate(e.PlannedDate),"dd/MM/yyyy h:mm a")," "),vs(2),Oo("format",i.format)("ngModel",e.PlannedDate)}}function jX(e,t){1&e&&(Po(0,"kendo-grid-column",85),Io(1,zX,5,6,"ng-template"),Mo()),2&e&&Oo("headerStyle",jl(1,HX))}function UX(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function $X(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.Move2Azure),Oo("ngStyle",null==e.MoveToAzure?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.Move2Azure?e.Move2Azure:"No records","")}}function qX(e,t){1&e&&(Po(0,"kendo-grid-column",88),Io(1,UX,1,5,"ng-template",79),Io(2,$X,2,5,"ng-template",80),Mo()),2&e&&Oo("headerStyle",jl(1,HX))}function GX(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function KX(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.ContactFocalPoint),Oo("ngStyle",null==e.ContactFocalPoint?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.ContactFocalPoint?e.ContactFocalPoint:"No records","")}}function WX(e,t){1&e&&(Po(0,"kendo-grid-column",89),Io(1,GX,1,5,"ng-template",79),Io(2,KX,2,5,"ng-template",80),Mo()),2&e&&Oo("headerStyle",jl(1,HX))}function ZX(e,t){1&e&&No(0,"i",102)}const YX=function(e,t){return{editEnabled:e,editDisabled:t}},QX=function(){return{color:"#0575D1","font-style":"italic"}};function JX(e,t){if(1&e&&(Po(0,"span",93),Po(1,"div",94),Io(2,ZX,1,0,"i",95),Mo(),Po(3,"p",96),ya(4),Mo(),Po(5,"div"),ya(6,"\xa0"),Mo(),Po(7,"div",97),ya(8),Mo(),Po(9,"div",98),ya(10),Jl(11,"date"),Mo(),No(12,"br"),Mo(),Po(13,"span",99),Po(14,"div",100),ya(15),Mo(),Po(16,"div",101),ya(17),Jl(18,"date"),Mo(),No(19,"br"),Mo()),2&e){const e=t.dataItem,i=Go(2);vs(1),Oo("ngClass",$l(14,YX,!i.isDone,i.isDone)),vs(1),Oo("ngIf",i.canEditTeamComments),vs(1),Oo("ngStyle",null==e.ContactComment?jl(17,QX):jl(18,LX)),vs(1),Ca(" ",e.ContactComment?e.ContactComment:"Add Comment here"," "),vs(4),Ca(" Last edited by ",e.UpdatedBy," "),vs(2),Ca(" ",Xl(11,8,e.LastUpdatedDate,"dd/MM/yyyy h:mm a")," "),vs(5),Ca("Added by ",e.UpdatedBy,""),vs(2),Ca(" ",Xl(18,11,e.AddedDate,"dd/MM/yyyy h:mm a")," ")}}function XX(e,t){if(1&e&&(Po(0,"div",97),ya(1),Mo()),2&e){const e=Go().dataItem;vs(1),Ca(" Last edited by ",e.UpdatedBy," ")}}const e1=function(e,t){return{saveDisabled:e,save:t}};function t1(e,t){if(1&e){const e=Bo();Po(0,"span",93),Po(1,"textarea",103,104),ya(3),Mo(),No(4,"br"),Po(5,"div"),ya(6,"\xa0"),Mo(),Po(7,"div",105),ya(8),Mo(),Po(9,"button",106),Uo("click",(function(){Qt(e);const i=t.column,n=t.formGroup,s=Go(2),r=To(7);return s.saveClicked(n.get(i.field).value,"siteComments",r)})),ya(10," Save "),Mo(),Po(11,"button",107),Uo("click",(function(){Qt(e);const t=Go(2),i=To(7);return t.cancelChanges(i)})),ya(12," Cancel"),Mo(),No(13,"br"),Po(14,"div"),ya(15,"\xa0"),Mo(),Io(16,XX,2,1,"div",108),Po(17,"div",98),ya(18),Jl(19,"date"),Mo(),No(20,"br"),Mo(),Po(21,"span",99),Po(22,"div",100),ya(23),Mo(),Po(24,"div",101),ya(25),Jl(26,"date"),Mo(),No(27,"br"),Mo()}if(2&e){const e=t.dataItem,i=t.column,n=t.formGroup,s=Go(2);vs(1),Oo("formControl",n.get(i.field))("maxlength",s.commentsMaxLength),vs(2),wa(e.ContactComment?e.ContactComment:""),vs(5),xa(" (",null==n.get(i.field).value?null:n.get(i.field).value.length,"/",s.commentsMaxLength,") "),vs(1),Oo("ngClass",$l(17,e1,0==(null==n.get(i.field).value?null:n.get(i.field).value.trim().length)||null==e.ContactComment&&!((null==n.get(i.field).value?null:n.get(i.field).value.trim().length)>0),(null==n.get(i.field).value?null:n.get(i.field).value.trim().length)>0))("disabled",null==n.get(i.field).value||0==(null==n.get(i.field).value?null:n.get(i.field).value.trim().length)||e.ContactComment==n.get(i.field).value),vs(7),Oo("ngIf",null!=e.ContactComment),vs(2),Ca(" ",Xl(19,11,e.LastUpdatedDate,"dd/MM/yyyy h:mm a")," "),vs(5),Ca("Added by ",e.UpdatedBy,""),vs(2),Ca(" ",Xl(26,14,e.AddedDate,"dd/MM/yyyy h:mm a")," ")}}function i1(e,t){1&e&&(Po(0,"kendo-grid-column",90),Io(1,JX,20,19,"ng-template",91),Io(2,t1,28,20,"ng-template",92),Mo()),2&e&&Oo("filterable",!1)("headerStyle",jl(5,HX))("width",400)("sortable",!1)("columnMenu",!1)}function n1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function s1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.ArtemisName),Oo("ngStyle",null==e.ArtemisName?jl(3,NX):jl(4,LX)),vs(1),wa(e.ArtemisName?e.ArtemisName:"No records")}}function r1(e,t){1&e&&(Po(0,"kendo-grid-column",109),Io(1,n1,1,5,"ng-template",79),Io(2,s1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function o1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function a1(e,t){1&e&&ya(0),2&e&&Ca(" ",t.$implicit.ArtemisLoc," ")}function l1(e,t){1&e&&(Po(0,"kendo-grid-column",110),Io(1,o1,1,5,"ng-template",79),Io(2,a1,1,1,"ng-template",80),Mo())}function c1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function h1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsCustBusiness),Oo("ngStyle",null==e.tsCustBusiness?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsCustBusiness?e.tsCustBusiness:"No records","")}}function u1(e,t){1&e&&(Po(0,"kendo-grid-column",111),Io(1,c1,1,5,"ng-template",79),Io(2,h1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function d1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function p1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptCOrganisation),Oo("ngStyle",null==e.AptCOrganisation?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptCOrganisation?e.AptCOrganisation:"No records","")}}function f1(e,t){1&e&&(Po(0,"kendo-grid-column",112),Io(1,d1,1,5,"ng-template",79),Io(2,p1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function g1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function m1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFOwningBusiness),Oo("ngStyle",null==e.eMRFOwningBusiness?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFOwningBusiness?e.eMRFOwningBusiness:"No records","")}}function v1(e,t){1&e&&(Po(0,"kendo-grid-column",113),Io(1,g1,1,5,"ng-template",79),Io(2,m1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function b1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function y1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFOperatingBusiness),Oo("ngStyle",null==e.eMRFOperatingBusiness?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFOperatingBusiness?e.eMRFOperatingBusiness:"No records","")}}function w1(e,t){1&e&&(Po(0,"kendo-grid-column",114),Io(1,b1,1,5,"ng-template",79),Io(2,y1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function C1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function x1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.SnowOperatingBusiness),Oo("ngStyle",null==e.SnowOperatingBusiness?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.SnowOperatingBusiness?e.SnowOperatingBusiness:"No records","")}}function S1(e,t){1&e&&(Po(0,"kendo-grid-column",115),Io(1,C1,1,5,"ng-template",79),Io(2,x1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function k1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function _1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFAssetCIOwner),Oo("ngStyle",null==e.eMRFAssetCIOwner?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFAssetCIOwner?e.eMRFAssetCIOwner:"No records","")}}function E1(e,t){1&e&&(Po(0,"kendo-grid-column",116),Io(1,k1,1,5,"ng-template",79),Io(2,_1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function I1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function T1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.SnowAssetOwner),Oo("ngStyle",null==e.SnowAssetOwner?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.SnowAssetOwner?e.SnowAssetOwner:"No records","")}}function F1(e,t){1&e&&(Po(0,"kendo-grid-column",117),Io(1,I1,1,5,"ng-template",79),Io(2,T1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function D1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function A1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.MigrationCompleted),Oo("ngStyle",null==e.MigrationCompleted?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.MigrationCompleted?e.MigrationCompleted:"No records","")}}function O1(e,t){1&e&&(Po(0,"kendo-grid-column",118),Io(1,D1,1,5,"ng-template",79),Io(2,A1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function R1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function P1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.ExitStrategy),Oo("ngStyle",null==e.ExitStrategy?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.ExitStrategy?e.ExitStrategy:"No records","")}}function M1(e,t){1&e&&(Po(0,"kendo-grid-column",119),Io(1,R1,1,5,"ng-template",79),Io(2,P1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function N1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function L1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.ScopeGroup),Oo("ngStyle",null==e.ScopeGroup?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.ScopeGroup?e.ScopeGroup:"No records","")}}function V1(e,t){1&e&&(Po(0,"kendo-grid-column",120),Io(1,N1,1,5,"ng-template",79),Io(2,L1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function H1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function B1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.ScopeSet),Oo("ngStyle",null==e.ScopeSet?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.ScopeSet?e.ScopeSet:"No records","")}}function z1(e,t){1&e&&(Po(0,"kendo-grid-column",121),Io(1,H1,1,5,"ng-template",79),Io(2,B1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function j1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function U1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.Bucket),Oo("ngStyle",null==e.Bucket?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.Bucket?e.Bucket:"No records","")}}function $1(e,t){1&e&&(Po(0,"kendo-grid-column",122),Io(1,j1,1,5,"ng-template",79),Io(2,U1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function q1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function G1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.Wave),Oo("ngStyle",null==e.Wave?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.Wave?e.Wave:"No records","")}}function K1(e,t){1&e&&(Po(0,"kendo-grid-column",123),Io(1,q1,1,5,"ng-template",79),Io(2,G1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function W1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function Z1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.HighestBucketPerDeployment),Oo("ngStyle",null==e.HighestBucketPerDeployment?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.HighestBucketPerDeployment?e.HighestBucketPerDeployment:"No records","")}}function Y1(e,t){1&e&&(Po(0,"kendo-grid-column",124),Io(1,W1,1,5,"ng-template",79),Io(2,Z1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function Q1(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function J1(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptManufacturer),Oo("ngStyle",null==e.AptManufacturer?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptManufacturer?e.AptManufacturer:"No records","")}}function X1(e,t){1&e&&(Po(0,"kendo-grid-column",125),Io(1,Q1,1,5,"ng-template",79),Io(2,J1,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function e0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function t0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptModel),Oo("ngStyle",null==e.AptModel?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptModel?e.AptModel:"No records","")}}function i0(e,t){1&e&&(Po(0,"kendo-grid-column",126),Io(1,e0,1,5,"ng-template",79),Io(2,t0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function n0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function s0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptModelInfo),Oo("ngStyle",null==e.AptModelInfo?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptModelInfo?e.AptModelInfo:"No records","")}}function r0(e,t){1&e&&(Po(0,"kendo-grid-column",127),Io(1,n0,1,5,"ng-template",79),Io(2,s0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function o0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function a0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptAssetClass),Oo("ngStyle",null==e.AptAssetClass?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptAssetClass?e.AptAssetClass:"No records","")}}function l0(e,t){1&e&&(Po(0,"kendo-grid-column",128),Io(1,o0,1,5,"ng-template",79),Io(2,a0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function c0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function h0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptCDeviceUse),Oo("ngStyle",null==e.AptCDeviceUse?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptCDeviceUse?e.AptCDeviceUse:"No records","")}}function u0(e,t){1&e&&(Po(0,"kendo-grid-column",129),Io(1,c0,1,5,"ng-template",79),Io(2,h0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function d0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function p0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsUsage),Oo("ngStyle",null==e.tsUsage?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsUsage?e.tsUsage:"No records","")}}function f0(e,t){1&e&&(Po(0,"kendo-grid-column",130),Io(1,d0,1,5,"ng-template",79),Io(2,p0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function g0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function m0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsComputerType),Oo("ngStyle",null==e.tsComputerType?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsComputerType?e.tsComputerType:"No records","")}}function v0(e,t){1&e&&(Po(0,"kendo-grid-column",131),Io(1,g0,1,5,"ng-template",79),Io(2,m0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function b0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function y0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.SnowClass),Oo("ngStyle",null==e.SnowClass?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.SnowClass?e.SnowClass:"No records","")}}function w0(e,t){1&e&&(Po(0,"kendo-grid-column",132),Io(1,b0,1,5,"ng-template",79),Io(2,y0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function C0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function x0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsOperatingMode),Oo("ngStyle",null==e.tsOperatingMode?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsOperatingMode?e.tsOperatingMode:"No records","")}}function S0(e,t){1&e&&(Po(0,"kendo-grid-column",133),Io(1,C0,1,5,"ng-template",79),Io(2,x0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function k0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function _0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsVirtualization),Oo("ngStyle",null==e.tsVirtualization?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsVirtualization?e.tsVirtualization:"No records","")}}function E0(e,t){1&e&&(Po(0,"kendo-grid-column",134),Io(1,k0,1,5,"ng-template",79),Io(2,_0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function I0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function T0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsPlatform),Oo("ngStyle",null==e.tsPlatform?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsPlatform?e.tsPlatform:"No records","")}}function F0(e,t){1&e&&(Po(0,"kendo-grid-column",135),Io(1,I0,1,5,"ng-template",79),Io(2,T0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function D0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function A0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsConsolidatedOS),Oo("ngStyle",null==e.tsConsolidatedOS?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsConsolidatedOS?e.tsConsolidatedOS:"No records","")}}function O0(e,t){1&e&&(Po(0,"kendo-grid-column",136),Io(1,D0,1,5,"ng-template",79),Io(2,A0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function R0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function P0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptRackName),Oo("ngStyle",null==e.AptRackName?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptRackName?e.AptRackName:"No records","")}}function M0(e,t){1&e&&(Po(0,"kendo-grid-column",137),Io(1,R0,1,5,"ng-template",79),Io(2,P0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function N0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function L0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.Target),Oo("ngStyle",null==e.Target?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.Target?e.Target:"No records","")}}function V0(e,t){1&e&&(Po(0,"kendo-grid-column",138),Io(1,N0,1,5,"ng-template",79),Io(2,L0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function H0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function B0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptSerialNumber),Oo("ngStyle",null==e.AptSerialNumber?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptSerialNumber?e.AptSerialNumber:"No records","")}}function z0(e,t){1&e&&(Po(0,"kendo-grid-column",139),Io(1,H0,1,5,"ng-template",79),Io(2,B0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function j0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function U0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.SnowSerialNumber),Oo("ngStyle",null==e.SnowSerialNumber?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.SnowSerialNumber?e.SnowSerialNumber:"No records","")}}function $0(e,t){1&e&&(Po(0,"kendo-grid-column",140),Io(1,j0,1,5,"ng-template",79),Io(2,U0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function q0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function G0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsSystemStatus),Oo("ngStyle",null==e.tsSystemStatus?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsSystemStatus?e.tsSystemStatus:"No records","")}}function K0(e,t){1&e&&(Po(0,"kendo-grid-column",141),Io(1,q0,1,5,"ng-template",79),Io(2,G0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function W0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function Z0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.AptCDeviceCondition),Oo("ngStyle",null==e.AptCDeviceCondition?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.AptCDeviceCondition?e.AptCDeviceCondition:"No records","")}}function Y0(e,t){1&e&&(Po(0,"kendo-grid-column",142),Io(1,W0,1,5,"ng-template",79),Io(2,Z0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function Q0(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function J0(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.SnowStatus),Oo("ngStyle",null==e.SnowStatus?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.SnowStatus?e.SnowStatus:"No records","")}}function X0(e,t){1&e&&(Po(0,"kendo-grid-column",143),Io(1,Q0,1,5,"ng-template",79),Io(2,J0,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function e2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function t2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsService),Oo("ngStyle",null==e.tsService?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsService?e.tsService:"No records","")}}function i2(e,t){1&e&&(Po(0,"kendo-grid-column",144),Io(1,e2,1,5,"ng-template",79),Io(2,t2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function n2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function s2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsSpecialService),Oo("ngStyle",null==e.tsSpecialService?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsSpecialService?e.tsSpecialService:"No records","")}}function r2(e,t){1&e&&(Po(0,"kendo-grid-column",145),Io(1,n2,1,5,"ng-template",79),Io(2,s2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function o2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function a2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsNetworkType),Oo("ngStyle",null==e.tsNetworkType?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsNetworkType?e.tsNetworkType:"No records","")}}function l2(e,t){1&e&&(Po(0,"kendo-grid-column",146),Io(1,o2,1,5,"ng-template",79),Io(2,a2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function c2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function h2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsDRS),Oo("ngStyle",null==e.tsDRS?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsDRS?e.tsDRS:"No records","")}}function u2(e,t){1&e&&(Po(0,"kendo-grid-column",147),Io(1,c2,1,5,"ng-template",79),Io(2,h2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function d2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function p2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsSHELL_DeploymentID),Oo("ngStyle",null==e.tsSHELL_DeploymentID?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsSHELL_DeploymentID?e.tsSHELL_DeploymentID:"No records","")}}function f2(e,t){1&e&&(Po(0,"kendo-grid-column",148),Io(1,d2,1,5,"ng-template",79),Io(2,p2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function g2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function m2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFDeploymentID),Oo("ngStyle",null==e.eMRFDeploymentID?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFDeploymentID?e.eMRFDeploymentID:"No records","")}}function v2(e,t){1&e&&(Po(0,"kendo-grid-column",149),Io(1,g2,1,5,"ng-template",79),Io(2,m2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function b2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function y2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsSHELL_DeploymentName),Oo("ngStyle",null==e.tsSHELL_DeploymentName?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsSHELL_DeploymentName?e.tsSHELL_DeploymentName:"No records","")}}function w2(e,t){1&e&&(Po(0,"kendo-grid-column",150),Io(1,b2,1,5,"ng-template",79),Io(2,y2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function C2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function x2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFDeploymentName),Oo("ngStyle",null==e.eMRFDeploymentName?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFDeploymentName?e.eMRFDeploymentName:"No records","")}}function S2(e,t){1&e&&(Po(0,"kendo-grid-column",151),Io(1,C2,1,5,"ng-template",79),Io(2,x2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function k2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function _2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFDeploymentCIOwner),Oo("ngStyle",null==e.eMRFDeploymentCIOwner?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFDeploymentCIOwner?e.eMRFDeploymentCIOwner:"No records","")}}function E2(e,t){1&e&&(Po(0,"kendo-grid-column",152),Io(1,k2,1,5,"ng-template",79),Io(2,_2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function I2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function T2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFApplicationID),Oo("ngStyle",null==e.eMRFApplicationID?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFApplicationID?e.eMRFApplicationID:"No records","")}}function F2(e,t){1&e&&(Po(0,"kendo-grid-column",153),Io(1,I2,1,5,"ng-template",79),Io(2,T2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function D2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function A2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFApplicationName),Oo("ngStyle",null==e.eMRFApplicationName?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFApplicationName?e.eMRFApplicationName:"No records","")}}function O2(e,t){1&e&&(Po(0,"kendo-grid-column",154),Io(1,D2,1,5,"ng-template",79),Io(2,A2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function R2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function P2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFPortfolioName),Oo("ngStyle",null==e.eMRFPortfolioName?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFPortfolioName?e.eMRFPortfolioName:"No records","")}}function M2(e,t){1&e&&(Po(0,"kendo-grid-column",155),Io(1,R2,1,5,"ng-template",79),Io(2,P2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function N2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function L2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFPortfolioManager),Oo("ngStyle",null==e.eMRFPortfolioManager?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFPortfolioManager?e.eMRFPortfolioManager:"No records","")}}function V2(e,t){1&e&&(Po(0,"kendo-grid-column",156),Io(1,N2,1,5,"ng-template",79),Io(2,L2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function H2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function B2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsAppl_LifeCycle),Oo("ngStyle",null==e.tsAppl_LifeCycle?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsAppl_LifeCycle?e.tsAppl_LifeCycle:"No records","")}}function z2(e,t){1&e&&(Po(0,"kendo-grid-column",157),Io(1,H2,1,5,"ng-template",79),Io(2,B2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function j2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function U2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsAppl_Business_Criticality),Oo("ngStyle",null==e.tsAppl_Business_Criticality?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsAppl_Business_Criticality?e.tsAppl_Business_Criticality:"No records","")}}function $2(e,t){1&e&&(Po(0,"kendo-grid-column",158),Io(1,j2,1,5,"ng-template",79),Io(2,U2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function q2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function G2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.tsAppl_DR_Required),Oo("ngStyle",null==e.tsAppl_DR_Required?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.tsAppl_DR_Required?e.tsAppl_DR_Required:"No records","")}}function K2(e,t){1&e&&(Po(0,"kendo-grid-column",159),Io(1,q2,1,5,"ng-template",79),Io(2,G2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function W2(e,t){if(1&e&&No(0,"multicheck-filter",81),2&e){const e=t.column,i=t.filter,n=t.filterService,s=Go(2);Oo("isPrimitive",!0)("field",e.field)("filterService",n)("currentFilter",i)("data",s.distinctPrimitive(e.field))}}function Z2(e,t){if(1&e&&(Po(0,"span",84),ya(1),Mo()),2&e){const e=t.$implicit;Yo("title",e.eMRFBusinessApplicationOwner),Oo("ngStyle",null==e.eMRFBusinessApplicationOwner?jl(3,NX):jl(4,LX)),vs(1),Ca(" ",e.eMRFBusinessApplicationOwner?e.eMRFBusinessApplicationOwner:"No records","")}}function Y2(e,t){1&e&&(Po(0,"kendo-grid-column",160),Io(1,W2,1,5,"ng-template",79),Io(2,Z2,2,5,"ng-template",80),Mo()),2&e&&Oo("filterable",!0)}function Q2(e,t){if(1&e&&(Po(0,"div",97),ya(1),Mo()),2&e){const e=Go(2);vs(1),Ca(" Last edited by ",e.dataItemField.UpdatedBy," ")}}function J2(e,t){if(1&e){const e=Bo();Po(0,"kendo-dialog",161),Uo("close",(function(){return Qt(e),Go().closeRefreshPopup("no")})),Po(1,"p",162),ya(2,"Planned date has been changed From: "),Po(3,"strong"),ya(4),Jl(5,"date"),Mo(),ya(6," To: "),Po(7,"strong"),ya(8),Jl(9,"date"),Mo(),Mo(),Po(10,"p",163),ya(11,"Reason:"),Mo(),Po(12,"span",93),Po(13,"textarea",164,104),ya(15),Mo(),No(16,"br"),Po(17,"div"),ya(18,"\xa0"),Mo(),Po(19,"div",105),ya(20),Mo(),Po(21,"button",165),Uo("click",(function(){Qt(e);const t=To(14),i=Go(),n=To(7);return i.saveClicked(t,"plannedDate",n)})),ya(22,"Save"),Mo(),Po(23,"button",107),Uo("click",(function(){return Qt(e),Go().closeRefreshPopup("no")})),ya(24," Cancel"),Mo(),No(25,"br"),Po(26,"div"),ya(27,"\xa0"),Mo(),Io(28,Q2,2,1,"div",108),Po(29,"div",98),ya(30),Jl(31,"date"),Mo(),No(32,"br"),Mo(),No(33,"kendo-dialog-actions"),Mo()}if(2&e){const e=Go();Oo("minWidth",250)("width",835)("height",455),vs(4),wa(Xl(5,10,null==e.formGroup||null==e.formGroup.controls||null==e.formGroup.controls.PlannedDate?null:e.formGroup.controls.PlannedDate.value,"dd/MM/yyyy")),vs(4),wa(Xl(9,13,e.commentsDTO.PlannedDate,"dd/MM/yyyy")),vs(7),Ca(" ",e.dataItemField.ContactComment?e.dataItemField.ContactComment:"",""),vs(5),xa(" (",null==e.formGroup.get(e.columnField.field).value?null:e.formGroup.get(e.columnField.field).value.length,"/",e.commentsMaxLength,") "),vs(8),Oo("ngIf",e.commentsDTO.ContactComment),vs(2),Ca(" ",Xl(31,16,e.dataItemField.LastUpdatedDate,"dd/MM/yyyy h:mm a")," ")}}function X2(e,t){1&e&&No(0,"div",166)}const e3=function(){return{allowUnsort:!0,mode:"single"}},t3=function(){return{enabled:!0,checkboxOnly:!0}},i3=e=>{const t=(e||{}).filters;return t?t.reduce((e,t)=>e.concat(t.filters?i3(t):[t]),[]):[]};let n3=(()=>{class e{constructor(e,t,i,n,s,r){this.sampleService=e,this.utiltiyService=t,this.toastService=i,this.cacheService=n,this.userNavigationControlService=s,this.formBuilder=r,this.loading=!0,this.isSelected=!1,this.isDone=!1,this.dialog=!1,this.commentsMaxLength=450,this.mySelection=[],this.samples=[],this.microscopeFields=[],this.sampleData=[],this.select=!1,this.format="MM/dd/yyyy HH:mm:ss",this.categoryFilter=[],this.columns=["ArtemisID","ConfirmedBusiness","PlannedDate","Move2Azure","ContactFocalPoint","siteComments","MergedAssetTag","MergedLocation","tsCustBusiness","AptCOrganisation","eMRFOwningBusiness","eMRFOperatingBusiness","SnowOperatingBusiness","eMRFAssetCIOwner","SnowAssetOwner","MigrationCompleted","ExitStrategy","ScopeGroup","ScopeSet","Bucket","Wave","HighestBucketPerDeployment","AptManufacturer","AptModel","AptModelInfo","AptAssetClass","AptCDeviceUse","tsUsage","tsComputerType","SnowClass","tsOperatingMode","tsVirtualization","tsPlatform","tsConsolidatedOS","AptRackName","Target","AptSerialNumber","SnowSerialNumber","tsSystemStatus","AptCDeviceCondition","SnowStatus","tsService","tsSpecialService","tsNetworkType","tsDRS","tsSHELL_DeploymentID","eMRFDeploymentID","tsSHELL_DeploymentName","eMRFDeploymentName","eMRFDeploymentCIOwner","eMRFApplicationID","eMRFApplicationName","eMRFPortfolioName","eMRFPortfolioManager","tsAppl_LifeCycle","tsAppl_Business_Criticality","tsAppl_DR_Required","eMRFBusinessApplicationOwner"],this.selectAllState="unchecked",this.state={skip:0,take:1e4},this.sort=[{field:"id",dir:"desc"}],this.hiddenColumns=[],this.gridDimension={height:"calc(100vh - 140px)",width:"calc(100vw - 140px)"},this.value=[],this.isChecked=!1}ngOnInit(){this.selectedItems=this.columns,this.loadItems(),console.log(this.commentsDTO,"ccc"),this.dropdownSettings={singleSelection:!1,idField:"id",textField:"text",selectAllText:"Select All",unSelectAllText:"UnSelect All",itemsShowLimit:1,allowSearchFilter:!0,enableCheckAll:!0}}isHidden(e){return this.hiddenColumns.indexOf(e)>-1}hideColumns(e){const t=this.hiddenColumns;let i;if(e.length>1)for(let n=0;n<e.length;n++)i=e[n],0==this.select&&(this.isHidden(i)||t.push(i)),1==this.select&&this.isHidden(i)&&t.splice(t.indexOf(i),1)}hideColumn(e){const t=this.hiddenColumns;this.isHidden(e)?t.splice(t.indexOf(e),1):t.push(e)}onISelect(e){this.hideColumn(e),this.microscopeFields.push(e)}onSelect(e){this.onClick(),this.isItemSelected(e),this.microscopeFields.push(e)}onISelectAll(e){this.select=!0,this.hideColumns(e),console.log(e),this.microscopeFields.push(e)}onSelectAll(e){this.select=!0,this.isItemSelected(e),console.log(e),this.microscopeFields.push(e)}onIDeSelect(e){this.hideColumn(e),this.microscopeFields.slice(e)}onIDeSelectAll(e){this.select=!1,this.hideColumns(this.selectedItems),this.microscopeFields.slice(e)}onDeSelect(e){this.isItemSelected(e),this.microscopeFields.slice(e)}onDeSelectAll(e){this.select=!1,this.isItemSelected(e),this.microscopeFields.slice(e)}openView(e){return e&&this.userNavigationControlService.navigateByAccess([{path:"viewsample",params:{queryParams:{id:e.ArtemisID,sampleGuid:e.ArtemisID}}}]),!1}loadItems(){this.samples=[],this.loading=!0,this.sampleService.getSamples(),this.sampleSub=this.sampleService.getSamplesUpdated().subscribe(e=>{if(e.length>0){this.samples=e;let t=e.filter(e=>e.ArtemisID);this.samples=t.filter((e,t,i)=>i.findIndex(t=>t.ArtemisID===e.ArtemisID)===t),this.gridData=Zx(this.samples,this.state),this.loading=!1,this.gridView=this.samples,null!=this.inpValue&&this.onFilter(this.inpValue)}else this.loading=!1,this.sampleData.length=0})}get canEditTeamComments(){return!0}dataStateChange(e){this.state=e,this.gridData=Zx(this.samples,e)}get isIndet(){return 0!==this.value.length&&this.value.length!==this.samples.length}onValueChange(e){this.isChecked=this.value.length===this.samples.length}get toggleAllText(){return this.isChecked?"Deselect All":"Select All"}isItemSelected(e){return this.value.some(t=>t.value===e.value)}onClick(){this.isChecked=!this.isChecked,this.value=this.isChecked?this.samples.slice():[]}sortChange(e){this.sort=e}distinctPrimitive(e){return Wx(this.samples,e).map(t=>t[e])}categoryFilters(e){return this.categoryFilter.splice(0,this.categoryFilter.length,...i3(e).map(({value:e})=>e)),this.categoryFilter}categoryChange(e,t){t.filter({filters:e.map(e=>({field:"tsCustBusiness",operator:"eq",value:e})),logic:"or"})}handleChange(e){}onSelectAllChange(e){this.isSelected=!0,"checked"===e?(this.mySelection=this.gridView.map(e=>e.ArtemisID),this.selectAllState="checked"):(this.mySelection=[],this.selectAllState="unchecked")}selectedCallback(e){return e.dataItem.ArtemisID}onSelectedKeysChange(e){this.isSelected=!0,this.artemisId=e,this.samples.filter(e=>e.ArtemisID==this.mySelection[0]);const t=this.mySelection.length;0===t?(this.selectAllState="unchecked",this.isSelected=!1):this.selectAllState=t>0&&t<this.gridView.length?"indeterminate":"checked"}isEditable(e,t){return["siteComments","teamComments","actionItems","timeLimit"].indexOf(e)>-1&&!this.isDone}userCanEdit(e){switch(e){case"siteComments":return this.canEditTeamComments;default:return!1}}createFormGroup(e){var t,i,n,s,r,o,a,l,c,h,u,d,p;let f=new Date(e.PlannedDate);return this.formBuilder.group({ArtemisID:e.ArtemisID,BusinessAppName:e.BusinessAppName,value:e.value,PlannedDate:f,Move2Azure:e.Move2Azure,MigrationComment:e.MigrationComment,ContactFocalPoint:e.ContactFocalPoint,ConfirmedBusiness:e.ConfirmedBusiness,siteComments:e.ContactComment,siteCommentsLastUpdatedOn:null===(i=null===(t=e.ContactComment)||void 0===t?void 0:t.lastUpdated)||void 0===i?void 0:i.updatedOn,teamComments:null===(n=e.teamComments)||void 0===n?void 0:n.data,teamCommentsLastUpdatedOn:null===(r=null===(s=e.teamComments)||void 0===s?void 0:s.lastUpdated)||void 0===r?void 0:r.updatedOn,actionItems:null===(o=e.actionItems)||void 0===o?void 0:o.data,actionItemsLastUpdatedOn:null===(l=null===(a=e.actionItems)||void 0===a?void 0:a.lastUpdated)||void 0===l?void 0:l.updatedOn,timeLimit:null===(c=e.timeLimit)||void 0===c?void 0:c.data,timeLimitLastUpdatedOn:null===(u=null===(h=e.timeLimit)||void 0===h?void 0:h.lastUpdated)||void 0===u?void 0:u.updatedOn,status:this.isDone,statusLastUpdatedOn:null===(p=null===(d=e.status)||void 0===d?void 0:d.lastUpdated)||void 0===p?void 0:p.updatedOn})}cancelChanges(e){e.cancelCell()}cellClickHandler({sender:e,rowIndex:t,column:i,columnIndex:n,dataItem:s,isEdited:r}){this.columnField=i,this.dataItemField=s,this.isEditable(i.field,s)&&this.userCanEdit(i.field)&&(this.formGroup=this.createFormGroup(s),e.editCell(t,n,this.formGroup)),(!r&&"PlannedDate"==i.field||"value"==i.field||"ConfirmedBusiness"==i.field||"MigrationComment"==i.field||"Move2Azure"==i.field||"ContactFocalPoint"==i.field)&&(this.formGroup=this.createFormGroup(s),e.editCell(t,n,this.createFormGroup(s)))}changePlanDate(e){this.sampleService.editSample(this.commentsDTO).subscribe(e=>{this.loading=!1,this.samples.filter(e=>{e.ArtemisID===this.commentsDTO.ArtemisID&&(e.PlannedDate=this.commentsDTO.PlannedDate),this.loadItems(),this.toastService.success("Value Changed successfully.")})})}closeRefreshPopup(e){this.dialog=!1}cellCloseHandler(e){var t,i,n,s,r,o,a,l,c,h,u,d;const{formGroup:p}=e;"ContactFocalPoint"!==e.column.field&&"Move2Azure"!==e.column.field&&"PlannedDate"!==e.column.field&&"ConfirmedBusiness"!==e.column.field&&e.preventDefault(),p.valid&&p.dirty&&(this.samples.filter(e=>{var t,i,n,s,r,o,a,l,c,h,u,d,f,g,m,v,b,y,w,C,x,S,k,_,E,I,T,F;this.commentsDTO=new ZQ,null!=(null===(i=null===(t=null==p?void 0:p.controls)||void 0===t?void 0:t.ConfirmedBusiness)||void 0===i?void 0:i.value)&&(this.commentsDTO.ConfirmedBusiness=null===(s=null===(n=null==p?void 0:p.controls)||void 0===n?void 0:n.ConfirmedBusiness)||void 0===s?void 0:s.value),null!=(null===(o=null===(r=null==p?void 0:p.controls)||void 0===r?void 0:r.MigrationComment)||void 0===o?void 0:o.value)&&(this.commentsDTO.MigrationComment=null===(l=null===(a=null==p?void 0:p.controls)||void 0===a?void 0:a.MigrationComment)||void 0===l?void 0:l.value),null!=(null===(h=null===(c=null==p?void 0:p.controls)||void 0===c?void 0:c.Move2Azure)||void 0===h?void 0:h.value)&&(this.commentsDTO.Move2Azure=null===(d=null===(u=null==p?void 0:p.controls)||void 0===u?void 0:u.Move2Azure)||void 0===d?void 0:d.value),null!=(null===(g=null===(f=null==p?void 0:p.controls)||void 0===f?void 0:f.PlannedDate)||void 0===g?void 0:g.value)&&(this.commentsDTO.PlannedDate=this.convert(null===(v=null===(m=null==p?void 0:p.controls)||void 0===m?void 0:m.PlannedDate)||void 0===v?void 0:v.value),this.plannedDate=this.commentsDTO.PlannedDate),this.commentsDTO.ArtemisID=null===(y=null===(b=null==p?void 0:p.controls)||void 0===b?void 0:b.ArtemisID)||void 0===y?void 0:y.value,this.commentsDTO.ContactFocalPoint=null===(C=null===(w=null==p?void 0:p.controls)||void 0===w?void 0:w.ContactFocalPoint)||void 0===C?void 0:C.value,e.ArtemisID===(null===(S=null===(x=null==p?void 0:p.controls)||void 0===x?void 0:x.ArtemisID)||void 0===S?void 0:S.value)&&(e.ConfirmedBusiness=null===(_=null===(k=null==p?void 0:p.controls)||void 0===k?void 0:k.ConfirmedBusiness)||void 0===_?void 0:_.value,e.Move2Azure=null===(I=null===(E=null==p?void 0:p.controls)||void 0===E?void 0:E.Move2Azure)||void 0===I?void 0:I.value,e.ContactFocalPoint=null===(F=null===(T=null==p?void 0:p.controls)||void 0===T?void 0:T.ContactFocalPoint)||void 0===F?void 0:F.value)}),this.commentsDTO.PlannedDate.toString()!==(null===(n=null===(i=null===(t=this.formGroup)||void 0===t?void 0:t.controls)||void 0===i?void 0:i.PlannedDate)||void 0===n?void 0:n.value.toString())&&(this.dialog=!0),this.commentsDTO.ConfirmedBusiness==(null===(o=null===(r=null===(s=this.formGroup)||void 0===s?void 0:s.controls)||void 0===r?void 0:r.ConfirmedBusiness)||void 0===o?void 0:o.value)&&this.commentsDTO.Move2Azure==(null===(c=null===(l=null===(a=this.formGroup)||void 0===a?void 0:a.controls)||void 0===l?void 0:l.Move2Azure)||void 0===c?void 0:c.value)&&this.commentsDTO.ContactFocalPoint==(null===(d=null===(u=null===(h=this.formGroup)||void 0===h?void 0:h.controls)||void 0===u?void 0:u.ContactFocalPoint)||void 0===d?void 0:d.value)||this.sampleService.editSample(this.commentsDTO).subscribe(e=>{this.loading=!1,this.loadItems(),this.toastService.success("Value Changed successfully.")},e=>{this.loading=!1}))}convertDate(e){var t=new Date(e),i=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2);return[[t.getFullYear(),i,n].join("-")].join(" ")}convert(e){var t,i,n,s=new Date(e),r=("0"+(s.getMonth()+1)).slice(-2),o=("0"+s.getDate()).slice(-2);return t=("0"+s.getHours()).slice(-2),i=("0"+s.getMinutes()).slice(-2),n=("0"+s.getSeconds()).slice(-2),[[s.getFullYear(),r,o].join("-"),[t,i,n].join(":")].join(" ")}saveClicked(e,t,i){var n,s,r,o,a,l;let c=[];switch(this.loading=!0,this.commentsDTO=new ZQ,this.commentsDTO.ArtemisID=null===(r=null===(s=null===(n=this.formGroup)||void 0===n?void 0:n.controls)||void 0===s?void 0:s.ArtemisID)||void 0===r?void 0:r.value,this.samples.filter(e=>{e.ArtemisID=this.artemisId,c.push(e)}),t){case"siteComments":this.commentsDTO.ContactComment=null===(l=null===(a=null===(o=this.formGroup)||void 0===o?void 0:o.controls)||void 0===a?void 0:a.siteComments)||void 0===l?void 0:l.value,this.commentsDTO.UpdatedBy="Rajesh D",this.commentsDTO.LastUpdatedDate=new Date,this.sampleService.saveSiteComments(this.commentsDTO).subscribe(e=>{this.loading=!1,i.cancelCell(),this.loadItems(),this.toastService.success("Comments saved successfully.")},e=>{this.loading=!1});break;case"plannedDate":this.commentsDTO.ContactComment=e.value,this.commentsDTO.UpdatedBy="Rajesh D",this.commentsDTO.LastUpdatedDate=new Date,this.commentsDTO.PlannedDate=this.plannedDate,this.sampleService.saveSiteComments(this.commentsDTO).subscribe(e=>{this.loading=!1,i.cancelCell(),this.loadItems(),this.closeRefreshPopup("no"),this.toastService.success("Comments saved successfully.")},e=>{this.loading=!1})}}onFilter(e){this.inpValue=e,this.gridView=Zx(this.samples,{filter:{logic:"or",filters:[{field:"ArtemisID",operator:"contains",value:e},{field:"ArtemisName",operator:"contains",value:e},{field:"ArtemisLoc",operator:"contains",value:e},{field:"ConfirmedBusiness",operator:"contains",value:e},{field:"tsCustBusiness",operator:"contains",value:e},{field:"AptCOrganisation",operator:"contains",value:e},{field:"eMRFOwningBusiness",operator:"contains",value:e},{field:"eMRFOperatingBusiness",operator:"contains",value:e},{field:"SnowOperatingBusiness",operator:"contains",value:e},{field:"eMRFAssetCIOwner",operator:"contains",value:e},{field:"SnowAssetOwner",operator:"contains",value:e},{field:"MigrationCompleted",operator:"contains",value:e},{field:"MigrationComment",operator:"contains",value:e},{field:"ExitStrategy",operator:"contains",value:e},{field:"ScopeGroup",operator:"contains",value:e},{field:"ScopeSet",operator:"contains",value:e},{field:"Bucket",operator:"contains",value:e},{field:"Wave",operator:"contains",value:e},{field:"HighestBucketPerDeployment",operator:"contains",value:e},{field:"AptManufacturer",operator:"contains",value:e},{field:"AptModel",operator:"contains",value:e},{field:"AptModelInfo",operator:"contains",value:e},{field:"AptAssetClass",operator:"contains",value:e},{field:"AptCDeviceUse",operator:"contains",value:e},{field:"tsUsage",operator:"contains",value:e},{field:"tsComputerType",operator:"contains",value:e},{field:"SnowClass",operator:"contains",value:e},{field:"tsOperatingMode",operator:"contains",value:e},{field:"tsVirtualization",operator:"contains",value:e},{field:"tsPlatform",operator:"contains",value:e},{field:"tsConsolidatedOS",operator:"contains",value:e},{field:"AptRackName",operator:"contains",value:e},{field:"AptSerialNumber",operator:"contains",value:e},{field:"SnowSerialNumber",operator:"contains",value:e},{field:"tsSystemStatus",operator:"contains",value:e},{field:"AptCDeviceCondition",operator:"contains",value:e},{field:"SnowStatus",operator:"contains",value:e},{field:"tsService",operator:"contains",value:e},{field:"tsSHELL_DeploymentID",operator:"contains",value:e},{field:"eMRFDeploymentID",operator:"contains",value:e},{field:"tsSHELL_DeploymentName",operator:"contains",value:e},{field:"eMRFDeploymentName",operator:"contains",value:e},{field:"eMRFDeploymentCIOwner",operator:"contains",value:e},{field:"eMRFApplicationID",operator:"contains",value:e},{field:"eMRFApplicationName",operator:"contains",value:e},{field:"eMRFPortfolioName",operator:"contains",value:e},{field:"eMRFPortfolioManager",operator:"contains",value:e},{field:"tsAppl_LifeCycle",operator:"contains",value:e},{field:"tsAppl_Business_Criticality",operator:"contains",value:e},{field:"tsAppl_DR_Required",operator:"contains",value:e},{field:"eMRFBusinessApplicationOwner",operator:"contains",value:e}]}}).data,this.dataBinding.skip=0}getStatusIcon(e){return this.utiltiyService.getStatusIcon(e.installStatus)}getIconBackground(e){return this.utiltiyService.getStatusIcon(e.installStatus,!0)}ngOnDestroy(){this.sampleSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Fo(TJ),Fo(FJ),Fo(Ib),Fo(DJ),Fo(AJ),Fo(SC))},e.\u0275cmp=pt({type:e,selectors:[["app-home"]],viewQuery:function(e,t){var i;1&e&&mc(AW,!0),2&e&&fc(i=Cc())&&(t.dataBinding=i.first)},decls:73,vars:75,consts:[[1,"ar-section"],[1,"ar-section__header"],[1,"ar-section__title"],[1,"ar-section__content","p-b-4"],["id","kgrid_home_project",1,"ar-kgrid"],["filterable","'menu'","id","home_grid",3,"data","pageSize","skip","filter","pageable","resizable","sortable","sort","navigable","kendoGridBinding","selectable","selectedKeys","kendoGridSelectBy","dataStateChange","sortChange","cellClick","cellClose","selectedKeysChange"],["grid",""],["kendoGridNoRecordsTemplate",""],["kendoGridToolbarTemplate",""],["showSelectAll","true","width","80px"],["kendoGridHeaderTemplate",""],["field","ArtemisID","title","Artemis ID","width","150px ",4,"ngIf"],["field","ConfirmedBusiness","title","Confirmed Business","width","200px",3,"headerStyle",4,"ngIf"],["field","PlannedDate","editor","date","title","Planned Date","width","150px","filter","date",3,"headerStyle",4,"ngIf"],["field","Move2Azure","title","Move To Azure","width","150px",3,"headerStyle",4,"ngIf"],["field","ContactFocalPoint","title","Contact Focal Point","width","250px",3,"headerStyle",4,"ngIf"],["field","siteComments","title","Contact Comment",3,"filterable","headerStyle","width","sortable","columnMenu",4,"ngIf"],["field","ArtemisName","title","Merged Asset Tag","width","200px ",3,"filterable",4,"ngIf"],["field","ArtemisLoc","title","Merged Location","width","180px ",4,"ngIf"],["field","tsCustBusiness","title","ts Cust Business","width","200px",3,"filterable",4,"ngIf"],["field","AptCOrganisation","title","AptC Organisation","width","250px",3,"filterable",4,"ngIf"],["field","eMRFOwningBusiness","title","eMRF Owning Business","width","250px",3,"filterable",4,"ngIf"],["field","eMRFOperatingBusiness","title","eMRF Operating Business","width","250px",3,"filterable",4,"ngIf"],["field","SnowOperatingBusiness","title","Snow Operating Business","width","250px",3,"filterable",4,"ngIf"],["field","eMRFAssetCIOwner","title","eMRF AssetCI Owner","width","200px",3,"filterable",4,"ngIf"],["field","SnowAssetOwner","title","Snow Asset Owner","width","200px",3,"filterable",4,"ngIf"],["field","MigrationCompleted","title","Migration Completed","width","200px",3,"filterable",4,"ngIf"],["field","ExitStrategy","title","Exit Strategy","width","150px",3,"filterable",4,"ngIf"],["field","ScopeGroup","title","Scope Group","width","150px",3,"filterable",4,"ngIf"],["field","ScopeSet","title","Scope Set","width","150px",3,"filterable",4,"ngIf"],["field","Bucket","title","Bucket","width","150px",3,"filterable",4,"ngIf"],["field","Wave","title","Wave","width","150px",3,"filterable",4,"ngIf"],["field","HighestBucketPerDeployment","title","Highest BucketPer Deployment","width","280px",3,"filterable",4,"ngIf"],["field","AptManufacturer","title","Apt Manufacturer","width","200px",3,"filterable",4,"ngIf"],["field","AptModel","title","Apt Model","width","150px",3,"filterable",4,"ngIf"],["field","AptModelInfo","title","Apt Model Info","width","150px",3,"filterable",4,"ngIf"],["field","AptAssetClass","title","Apt Asset Class","width","180px",3,"filterable",4,"ngIf"],["field","AptCDeviceUse","title","AptC Device Use","width","180px",3,"filterable",4,"ngIf"],["field","tsUsage","title","ts Usage","width","180px",3,"filterable",4,"ngIf"],["field","tsComputerType","title","ts Computer Type","width","200px",3,"filterable",4,"ngIf"],["field","SnowClass","title","Snow Class","width","150px",3,"filterable",4,"ngIf"],["field","tsOperatingMode","title","ts Operating Mode","width","200px",3,"filterable",4,"ngIf"],["field","tsVirtualization","title","ts Virtualization","width","180px",3,"filterable",4,"ngIf"],["field","tsPlatform","title","ts Platform","width","150px",3,"filterable",4,"ngIf"],["field","tsConsolidatedOS","title","ts ConsolidatedOS","width","180px",3,"filterable",4,"ngIf"],["field","AptRackName","title","Apt RackName","width","150px",3,"filterable",4,"ngIf"],["field","Target","title","Target","width","150px",3,"filterable",4,"ngIf"],["field","AptSerialNumber","title","Apt Serial Number","width","180px",3,"filterable",4,"ngIf"],["field","SnowSerialNumber","title","Snow Serial Number","width","180px",3,"filterable",4,"ngIf"],["field","tsSystemStatus","title","tsSystemStatus","width","180px",3,"filterable",4,"ngIf"],["field","AptCDeviceCondition","title","AptC Device Condition","width","200px",3,"filterable",4,"ngIf"],["field","SnowStatus","title","SnowStatus","width","150px",3,"filterable",4,"ngIf"],["field","tsService","title","ts Service","width","150px",3,"filterable",4,"ngIf"],["field","tsSpecialService","title","ts Special Service","width","180px",3,"filterable",4,"ngIf"],["field","tsNetworkType","title","ts NetworkType","width","180px",3,"filterable",4,"ngIf"],["field","tsDRS","title","ts DRS","width","150px",3,"filterable",4,"ngIf"],["field","tsSHELL_DeploymentID","title","ts SHELL_DeploymentID","width","200px",3,"filterable",4,"ngIf"],["field","eMRFDeploymentID","title","eMRF DeploymentID","width","200px",3,"filterable",4,"ngIf"],["field","tsSHELL_DeploymentName","title","ts SHELL_DeploymentName","width","200px",3,"filterable",4,"ngIf"],["field","eMRFDeploymentName","title","eMRF DeploymentName","width","200px",3,"filterable",4,"ngIf"],["field","eMRFDeploymentCIOwner","title","eMRF DeploymentCIOwner","width","200px",3,"filterable",4,"ngIf"],["field","eMRFApplicationID","title","eMRF ApplicationID","width","180px",3,"filterable",4,"ngIf"],["field","eMRFApplicationName","title","eMRF ApplicationName","width","180px",3,"filterable",4,"ngIf"],["field","eMRFPortfolioName","title","eMRF PortfolioName","width","180px",3,"filterable",4,"ngIf"],["field","eMRFPortfolioManager","title","eMRF PortfolioManager","width","200px",3,"filterable",4,"ngIf"],["field","tsAppl_LifeCycle","title","ts Appl_LifeCycle","width","200px",3,"filterable",4,"ngIf"],["field","tsAppl_Business_Criticality","title","tsAppl_Business_Criticality","width","220px",3,"filterable",4,"ngIf"],["field","tsAppl_DR_Required","title","ts Appl_DR_Required","width","180px",3,"filterable",4,"ngIf"],["field","eMRFBusinessApplicationOwner","title","eMRF Business Application Owner","width","220px",3,"filterable",4,"ngIf"],["fileName","Artemis_data.xlsx"],["title","Planned Date Change","class","p-a-2 p-t-0",3,"minWidth","width","height","close",4,"ngIf"],["aria-label","Loading page","class","k-i-loading",4,"ngIf"],[4,"ngIf"],["placeholder","Search in all columns...","kendoTextBox","",1,"ar-kinput",3,"input"],["name","microscope",1,"ar-drpdown",3,"ngModel","placeholder","data","settings","ngModelChange","onDeSelect","onDeSelectAll","onSelect","onSelectAll"],["kendoGridExcelCommand","","type","button","icon","file-excel",1,"ar-kexport"],["id","selectAllCheckboxId","kendoGridSelectAllCheckbox","",1,"k-checkbox",3,"state","selectAllChange"],["for","selectAllCheckboxId",1,"k-checkbox-label"],["field","ArtemisID","title","Artemis ID","width","150px "],["kendoGridFilterMenuTemplate",""],["kendoGridCellTemplate",""],[3,"isPrimitive","field","filterService","currentFilter","data"],["href","javascript:void(0)",1,"ar-kgrid__cell-lnk",3,"title","click"],["field","ConfirmedBusiness","title","Confirmed Business","width","200px",3,"headerStyle"],[3,"ngStyle","title"],["field","PlannedDate","editor","date","title","Planned Date","width","150px","filter","date",3,"headerStyle"],["name","dataItem.PlannedDate",3,"format","ngModel","valueChange","ngModelChange"],["planneddate",""],["field","Move2Azure","title","Move To Azure","width","150px",3,"headerStyle"],["field","ContactFocalPoint","title","Contact Focal Point","width","250px",3,"headerStyle"],["field","siteComments","title","Contact Comment",3,"filterable","headerStyle","width","sortable","columnMenu"],["kendoGridCellTemplate","","class","ar-kgrid__cell-lnk"],["kendoGridEditTemplate","","class","ar-kgrid__cell-lnk"],[1,"comments"],[3,"ngClass"],["class","fas fa-edit editIcon",4,"ngIf"],[1,"line-break",3,"ngStyle"],[1,"by",2,"color","#b8b8b8"],[1,"on",2,"color","#b8b8b8"],[1,"audit"],[1,"by"],[1,"on"],[1,"fas","fa-edit","editIcon"],["name","siteComments","required","",1,"k-textbox",3,"formControl","maxlength"],["input",""],[1,"charCount"],[3,"ngClass","disabled","click"],[1,"cancel",3,"click"],["class","by","style","color: #b8b8b8",4,"ngIf"],["field","ArtemisName","title","Merged Asset Tag","width","200px ",3,"filterable"],["field","ArtemisLoc","title","Merged Location","width","180px "],["field","tsCustBusiness","title","ts Cust Business","width","200px",3,"filterable"],["field","AptCOrganisation","title","AptC Organisation","width","250px",3,"filterable"],["field","eMRFOwningBusiness","title","eMRF Owning Business","width","250px",3,"filterable"],["field","eMRFOperatingBusiness","title","eMRF Operating Business","width","250px",3,"filterable"],["field","SnowOperatingBusiness","title","Snow Operating Business","width","250px",3,"filterable"],["field","eMRFAssetCIOwner","title","eMRF AssetCI Owner","width","200px",3,"filterable"],["field","SnowAssetOwner","title","Snow Asset Owner","width","200px",3,"filterable"],["field","MigrationCompleted","title","Migration Completed","width","200px",3,"filterable"],["field","ExitStrategy","title","Exit Strategy","width","150px",3,"filterable"],["field","ScopeGroup","title","Scope Group","width","150px",3,"filterable"],["field","ScopeSet","title","Scope Set","width","150px",3,"filterable"],["field","Bucket","title","Bucket","width","150px",3,"filterable"],["field","Wave","title","Wave","width","150px",3,"filterable"],["field","HighestBucketPerDeployment","title","Highest BucketPer Deployment","width","280px",3,"filterable"],["field","AptManufacturer","title","Apt Manufacturer","width","200px",3,"filterable"],["field","AptModel","title","Apt Model","width","150px",3,"filterable"],["field","AptModelInfo","title","Apt Model Info","width","150px",3,"filterable"],["field","AptAssetClass","title","Apt Asset Class","width","180px",3,"filterable"],["field","AptCDeviceUse","title","AptC Device Use","width","180px",3,"filterable"],["field","tsUsage","title","ts Usage","width","180px",3,"filterable"],["field","tsComputerType","title","ts Computer Type","width","200px",3,"filterable"],["field","SnowClass","title","Snow Class","width","150px",3,"filterable"],["field","tsOperatingMode","title","ts Operating Mode","width","200px",3,"filterable"],["field","tsVirtualization","title","ts Virtualization","width","180px",3,"filterable"],["field","tsPlatform","title","ts Platform","width","150px",3,"filterable"],["field","tsConsolidatedOS","title","ts ConsolidatedOS","width","180px",3,"filterable"],["field","AptRackName","title","Apt RackName","width","150px",3,"filterable"],["field","Target","title","Target","width","150px",3,"filterable"],["field","AptSerialNumber","title","Apt Serial Number","width","180px",3,"filterable"],["field","SnowSerialNumber","title","Snow Serial Number","width","180px",3,"filterable"],["field","tsSystemStatus","title","tsSystemStatus","width","180px",3,"filterable"],["field","AptCDeviceCondition","title","AptC Device Condition","width","200px",3,"filterable"],["field","SnowStatus","title","SnowStatus","width","150px",3,"filterable"],["field","tsService","title","ts Service","width","150px",3,"filterable"],["field","tsSpecialService","title","ts Special Service","width","180px",3,"filterable"],["field","tsNetworkType","title","ts NetworkType","width","180px",3,"filterable"],["field","tsDRS","title","ts DRS","width","150px",3,"filterable"],["field","tsSHELL_DeploymentID","title","ts SHELL_DeploymentID","width","200px",3,"filterable"],["field","eMRFDeploymentID","title","eMRF DeploymentID","width","200px",3,"filterable"],["field","tsSHELL_DeploymentName","title","ts SHELL_DeploymentName","width","200px",3,"filterable"],["field","eMRFDeploymentName","title","eMRF DeploymentName","width","200px",3,"filterable"],["field","eMRFDeploymentCIOwner","title","eMRF DeploymentCIOwner","width","200px",3,"filterable"],["field","eMRFApplicationID","title","eMRF ApplicationID","width","180px",3,"filterable"],["field","eMRFApplicationName","title","eMRF ApplicationName","width","180px",3,"filterable"],["field","eMRFPortfolioName","title","eMRF PortfolioName","width","180px",3,"filterable"],["field","eMRFPortfolioManager","title","eMRF PortfolioManager","width","200px",3,"filterable"],["field","tsAppl_LifeCycle","title","ts Appl_LifeCycle","width","200px",3,"filterable"],["field","tsAppl_Business_Criticality","title","tsAppl_Business_Criticality","width","220px",3,"filterable"],["field","tsAppl_DR_Required","title","ts Appl_DR_Required","width","180px",3,"filterable"],["field","eMRFBusinessApplicationOwner","title","eMRF Business Application Owner","width","220px",3,"filterable"],["title","Planned Date Change",1,"p-a-2","p-t-0",3,"minWidth","width","height","close"],[2,"color","#434343"],[1,""],["name","plannedDate","required","",1,"k-textbox"],[1,"save",3,"click"],["aria-label","Loading page",1,"k-i-loading"]],template:function(e,t){1&e&&(Po(0,"section",0),Po(1,"header",1),Po(2,"h1",2),ya(3,"Samples"),Mo(),Mo(),Po(4,"section",3),Po(5,"div",4),Po(6,"kendo-grid",5,6),Uo("dataStateChange",(function(e){return t.dataStateChange(e)}))("sortChange",(function(e){return t.sortChange(e)}))("cellClick",(function(e){return t.cellClickHandler(e)}))("cellClose",(function(e){return t.cellCloseHandler(e)}))("selectedKeysChange",(function(e){return t.onSelectedKeysChange(e)})),Io(8,FX,1,1,"ng-template",7),Io(9,DX,5,4,"ng-template",8),Po(10,"kendo-grid-checkbox-column",9),Io(11,AX,2,1,"ng-template",10),Mo(),Io(12,PX,3,0,"kendo-grid-column",11),Io(13,BX,3,2,"kendo-grid-column",12),Io(14,jX,2,2,"kendo-grid-column",13),Io(15,qX,3,2,"kendo-grid-column",14),Io(16,WX,3,2,"kendo-grid-column",15),Io(17,i1,3,6,"kendo-grid-column",16),Io(18,r1,3,1,"kendo-grid-column",17),Io(19,l1,3,0,"kendo-grid-column",18),Io(20,u1,3,1,"kendo-grid-column",19),Io(21,f1,3,1,"kendo-grid-column",20),Io(22,v1,3,1,"kendo-grid-column",21),Io(23,w1,3,1,"kendo-grid-column",22),Io(24,S1,3,1,"kendo-grid-column",23),Io(25,E1,3,1,"kendo-grid-column",24),Io(26,F1,3,1,"kendo-grid-column",25),Io(27,O1,3,1,"kendo-grid-column",26),Io(28,M1,3,1,"kendo-grid-column",27),Io(29,V1,3,1,"kendo-grid-column",28),Io(30,z1,3,1,"kendo-grid-column",29),Io(31,$1,3,1,"kendo-grid-column",30),Io(32,K1,3,1,"kendo-grid-column",31),Io(33,Y1,3,1,"kendo-grid-column",32),Io(34,X1,3,1,"kendo-grid-column",33),Io(35,i0,3,1,"kendo-grid-column",34),Io(36,r0,3,1,"kendo-grid-column",35),Io(37,l0,3,1,"kendo-grid-column",36),Io(38,u0,3,1,"kendo-grid-column",37),Io(39,f0,3,1,"kendo-grid-column",38),Io(40,v0,3,1,"kendo-grid-column",39),Io(41,w0,3,1,"kendo-grid-column",40),Io(42,S0,3,1,"kendo-grid-column",41),Io(43,E0,3,1,"kendo-grid-column",42),Io(44,F0,3,1,"kendo-grid-column",43),Io(45,O0,3,1,"kendo-grid-column",44),Io(46,M0,3,1,"kendo-grid-column",45),Io(47,V0,3,1,"kendo-grid-column",46),Io(48,z0,3,1,"kendo-grid-column",47),Io(49,$0,3,1,"kendo-grid-column",48),Io(50,K0,3,1,"kendo-grid-column",49),Io(51,Y0,3,1,"kendo-grid-column",50),Io(52,X0,3,1,"kendo-grid-column",51),Io(53,i2,3,1,"kendo-grid-column",52),Io(54,r2,3,1,"kendo-grid-column",53),Io(55,l2,3,1,"kendo-grid-column",54),Io(56,u2,3,1,"kendo-grid-column",55),Io(57,f2,3,1,"kendo-grid-column",56),Io(58,v2,3,1,"kendo-grid-column",57),Io(59,w2,3,1,"kendo-grid-column",58),Io(60,S2,3,1,"kendo-grid-column",59),Io(61,E2,3,1,"kendo-grid-column",60),Io(62,F2,3,1,"kendo-grid-column",61),Io(63,O2,3,1,"kendo-grid-column",62),Io(64,M2,3,1,"kendo-grid-column",63),Io(65,V2,3,1,"kendo-grid-column",64),Io(66,z2,3,1,"kendo-grid-column",65),Io(67,$2,3,1,"kendo-grid-column",66),Io(68,K2,3,1,"kendo-grid-column",67),Io(69,Y2,3,1,"kendo-grid-column",68),No(70,"kendo-grid-excel",69),Mo(),Io(71,J2,34,19,"kendo-dialog",70),Mo(),Mo(),Io(72,X2,1,0,"div",71),Mo()),2&e&&(vs(6),Oo("data",t.gridData)("pageSize",t.state.take)("skip",t.state.skip)("filter",t.state.filter)("pageable",!1)("resizable",!0)("sortable",jl(73,e3))("sort",t.sort)("navigable",!0)("kendoGridBinding",t.gridView)("selectable",jl(74,t3))("selectedKeys",t.mySelection)("kendoGridSelectBy",t.selectedCallback),vs(6),Oo("ngIf",!t.isHidden("ArtemisID")),vs(1),Oo("ngIf",!t.isHidden("ConfirmedBusiness")),vs(1),Oo("ngIf",!t.isHidden("PlannedDate")),vs(1),Oo("ngIf",!t.isHidden("Move2Azure")),vs(1),Oo("ngIf",!t.isHidden("ContactFocalPoint")),vs(1),Oo("ngIf",!t.isHidden("siteComments")),vs(1),Oo("ngIf",!t.isHidden("MergedAssetTag")),vs(1),Oo("ngIf",!t.isHidden("MergedLocation")),vs(1),Oo("ngIf",!t.isHidden("tsCustBusiness")),vs(1),Oo("ngIf",!t.isHidden("AptCOrganisation")),vs(1),Oo("ngIf",!t.isHidden("eMRFOwningBusiness")),vs(1),Oo("ngIf",!t.isHidden("eMRFOperatingBusiness")),vs(1),Oo("ngIf",!t.isHidden("SnowOperatingBusiness")),vs(1),Oo("ngIf",!t.isHidden("eMRFAssetCIOwner")),vs(1),Oo("ngIf",!t.isHidden("SnowAssetOwner")),vs(1),Oo("ngIf",!t.isHidden("MigrationCompleted")),vs(1),Oo("ngIf",!t.isHidden("ExitStrategy")),vs(1),Oo("ngIf",!t.isHidden("ScopeGroup")),vs(1),Oo("ngIf",!t.isHidden("ScopeSet")),vs(1),Oo("ngIf",!t.isHidden("Bucket")),vs(1),Oo("ngIf",!t.isHidden("Wave")),vs(1),Oo("ngIf",!t.isHidden("HighestBucketPerDeployment")),vs(1),Oo("ngIf",!t.isHidden("AptManufacturer")),vs(1),Oo("ngIf",!t.isHidden("AptModel")),vs(1),Oo("ngIf",!t.isHidden("AptModelInfo")),vs(1),Oo("ngIf",!t.isHidden("AptAssetClass")),vs(1),Oo("ngIf",!t.isHidden("AptCDeviceUse")),vs(1),Oo("ngIf",!t.isHidden("tsUsage")),vs(1),Oo("ngIf",!t.isHidden("tsComputerType")),vs(1),Oo("ngIf",!t.isHidden("SnowClass")),vs(1),Oo("ngIf",!t.isHidden("tsOperatingMode")),vs(1),Oo("ngIf",!t.isHidden("tsVirtualization")),vs(1),Oo("ngIf",!t.isHidden("tsPlatform")),vs(1),Oo("ngIf",!t.isHidden("tsConsolidatedOS")),vs(1),Oo("ngIf",!t.isHidden("AptRackName")),vs(1),Oo("ngIf",!t.isHidden("Target")),vs(1),Oo("ngIf",!t.isHidden("AptSerialNumber")),vs(1),Oo("ngIf",!t.isHidden("SnowSerialNumber")),vs(1),Oo("ngIf",!t.isHidden("tsSystemStatus")),vs(1),Oo("ngIf",!t.isHidden("AptCDeviceCondition")),vs(1),Oo("ngIf",!t.isHidden("SnowStatus")),vs(1),Oo("ngIf",!t.isHidden("tsService")),vs(1),Oo("ngIf",!t.isHidden("tsSpecialService")),vs(1),Oo("ngIf",!t.isHidden("tsNetworkType")),vs(1),Oo("ngIf",!t.isHidden("tsDRS")),vs(1),Oo("ngIf",!t.isHidden("tsSHELL_DeploymentID")),vs(1),Oo("ngIf",!t.isHidden("eMRFDeploymentID")),vs(1),Oo("ngIf",!t.isHidden("tsSHELL_DeploymentName")),vs(1),Oo("ngIf",!t.isHidden("eMRFDeploymentName")),vs(1),Oo("ngIf",!t.isHidden("eMRFDeploymentCIOwner")),vs(1),Oo("ngIf",!t.isHidden("eMRFApplicationID")),vs(1),Oo("ngIf",!t.isHidden("eMRFApplicationName")),vs(1),Oo("ngIf",!t.isHidden("eMRFPortfolioName")),vs(1),Oo("ngIf",!t.isHidden("eMRFPortfolioManager")),vs(1),Oo("ngIf",!t.isHidden("tsAppl_LifeCycle")),vs(1),Oo("ngIf",!t.isHidden("tsAppl_Business_Criticality")),vs(1),Oo("ngIf",!t.isHidden("tsAppl_DR_Required")),vs(1),Oo("ngIf",!t.isHidden("eMRFBusinessApplicationOwner")),vs(2),Oo("ngIf",t.dialog),vs(1),Oo("ngIf",t.loading))},directives:[vW,AW,OW,TK,HK,_Q,AG,ku,qQ,WT,Iq,jJ,fw,pC,GQ,GY,cN,zG,VG,EG,YJ,Au,sP,FG,wu,aw,yC,vC,CC,wX,dX],pipes:[Ru],styles:["textarea[_ngcontent-%COMP%]{height:15em!important;width:100%!important;background-color:#fff!important;box-shadow:0 0 4px rgba(0,0,0,.15)!important;border-radius:4px!important;padding:10px!important}td[_ngcontent-%COMP%]{vertical-align:top!important}.changes[_ngcontent-%COMP%]{display:block;margin-bottom:10%}.view-all[_ngcontent-%COMP%]{text-transform:uppercase;color:#0575d1}.comments[_ngcontent-%COMP%]{padding:10px}.audit[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]{display:block;background-color:#f4f8f9!important}.audit[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#b8b8b8}.by[_ngcontent-%COMP%]{float:left}.by[_ngcontent-%COMP%], .on[_ngcontent-%COMP%]{font-size:11px}.on[_ngcontent-%COMP%]{float:right}.save[_ngcontent-%COMP%]{background:#0575d1;border-radius:3px;width:57px;height:30px;border:none;cursor:pointer}.save[_ngcontent-%COMP%], .saveDisabled[_ngcontent-%COMP%]{color:#fff;text-transform:uppercase;padding:.5em;margin-right:.5em}.saveDisabled[_ngcontent-%COMP%]{background:grey;border-radius:3px}.cancel[_ngcontent-%COMP%]{border:1px solid #0575d1;color:#0575d1;border-radius:3px;text-transform:uppercase;padding:.5em;background:none;cursor:pointer}.status[_ngcontent-%COMP%]{display:flex}.status[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #0575d1!important;margin-right:1em}.status-details[_ngcontent-%COMP%]{margin-top:10px;font-size:.66em}.not-done[_ngcontent-%COMP%]{font-size:13px;color:#c4c4c4}.done[_ngcontent-%COMP%]{font-size:13px;font-weight:700;color:#424342}.visualise[_ngcontent-%COMP%]{margin-right:25px}.visualise-damage[_ngcontent-%COMP%]{width:calc(33.33333% - 8.33333px)}.visualise-area[_ngcontent-%COMP%], .visualise-unit[_ngcontent-%COMP%]{width:calc(8.33333% - 2.08333px)}.visualise-corrosion[_ngcontent-%COMP%], .visualise-equipment[_ngcontent-%COMP%]{width:calc(16.66667% - 4.16667px)}.ar-kstatus[_ngcontent-%COMP%]{color:#909090;font-style:italic}.simulation-head[_ngcontent-%COMP%]{font-size:20px;font-weight:100}.simulation-details[_ngcontent-%COMP%]{background-color:#fff;margin-top:20px;padding:20px 25px;min-height:calc(100% - 50px)}.simulation-days[_ngcontent-%COMP%]{width:100px}.simulation-title[_ngcontent-%COMP%]{width:250px}.simulation-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .simulation-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:7.5px 30px;text-align:center;border-bottom:1px solid #dadada;color:#666}.w-50[_ngcontent-%COMP%]{width:50%}.m-r-150[_ngcontent-%COMP%]{margin-right:150px}.p-t-custom--3[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:3px}.editIcon[_ngcontent-%COMP%]{float:right;font-size:16px}.editEnabled[_ngcontent-%COMP%]{color:#0575d1}.editDisabled[_ngcontent-%COMP%]{color:#c4c4c4}.charCount[_ngcontent-%COMP%]{font-size:11px;float:right}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase!important}.text-expand[_ngcontent-%COMP%]{color:#0575d1}.underline-on-hover[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.vce-pmessage[_ngcontent-%COMP%]{font-family:Arial;font-style:normal;font-size:16px;line-height:23px;color:#000}.collapser[_ngcontent-%COMP%]{color:#0575d1;cursor:pointer;font-size:14px;float:right}.container[_ngcontent-%COMP%]{height:100px;overflow:hidden}.show[_ngcontent-%COMP%]{height:auto;overflow:visible}.k-grid-content[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]{background-color:#fff;outline:thin solid #edebe9}.k-grid-content[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]{background-color:#fff}.k-grid-content[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]:hover, .k-grid-content[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]:hover{background-color:transparent}.k-grid-content-locked[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]{background-color:#fff;outline:thin solid #edebe9}.k-grid-content-locked[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]{background-color:#fff}.k-grid-content-locked[_ngcontent-%COMP%]   tr.even[_ngcontent-%COMP%]:hover, .k-grid-content-locked[_ngcontent-%COMP%]   tr.odd[_ngcontent-%COMP%]:hover{background-color:transparent}.k-grid-toolbar[_ngcontent-%COMP%]{padding:10px 20px;background-color:#f4f8f9}.k-i-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;font-size:47px;background-color:transparent;color:#eadf46}p.line-break[_ngcontent-%COMP%]{margin-bottom:14px;white-space:normal}.ar-kinput[_ngcontent-%COMP%]{width:250px;padding:5px}.ar-kexport[_ngcontent-%COMP%], .ar-kinput[_ngcontent-%COMP%]{height:40px;border-radius:4px;background:#fff;border:1px solid #dadada;box-sizing:border-box}.ar-kexport[_ngcontent-%COMP%]{width:130px;padding:9px}[_ngcontent-%COMP%]::-moz-placeholder{color:#c4c4c4;font-style:italic;opacity:1}[_ngcontent-%COMP%]::placeholder{color:#c4c4c4;font-style:italic;opacity:1}.ar-kgrid__cell-link[_ngcontent-%COMP%]{color:#0575d1;cursor:pointer}.status[_ngcontent-%COMP%]{text-align:center;position:relative;display:inline-block;margin-right:5px;width:15px;height:15px;border-radius:100%;vertical-align:middle}.status-icon[_ngcontent-%COMP%]{color:transparent;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.status-icon.fa[_ngcontent-%COMP%]{font-size:14px}.status-errored[_ngcontent-%COMP%]   .fa-times-circle[_ngcontent-%COMP%]{color:#db4437}.status-progress[_ngcontent-%COMP%]   .fa-play-circle[_ngcontent-%COMP%]{color:#0575d1}.status-paused[_ngcontent-%COMP%]   .fa-clock[_ngcontent-%COMP%]{color:#ca7a14}.status-completed[_ngcontent-%COMP%]   .fa-check-circle[_ngcontent-%COMP%]{color:#23a43b}.status-aborted[_ngcontent-%COMP%]   .fa-stop-circle[_ngcontent-%COMP%], .status-unknown[_ngcontent-%COMP%]   .fa-question-circle[_ngcontent-%COMP%]{color:#4d4d4d}"]}),e})();function s3(e,t){if(1&e){const e=Bo();Po(0,"a",11),Uo("keypress",(function(){return Qt(e),Go().refresh()}))("click",(function(){return Qt(e),Go().refresh()})),ya(1),Mo()}if(2&e){const e=Go();vs(1),wa(e.sampleId)}}function r3(e,t){if(1&e&&(Po(0,"div",24),Po(1,"div",25),ya(2),Mo(),Po(3,"a",26),ya(4),Jl(5,"date"),Mo(),Mo()),2&e){const e=t.$implicit;vs(2),Ca(" ",e.ContactComment,""),vs(2),xa(" | ",e.UpdateBy,", ",Xl(5,3,e.LastUpdatedDate,"dd/MM/yyyy h:mm a"),"")}}function o3(e,t){if(1&e){const e=Bo();Po(0,"a",27),Uo("click",(function(){return Qt(e),Go(2).showMore()})),ya(1,"...see more"),Mo()}2&e&&Oo("hidden",!Go(2).limit)}function a3(e,t){if(1&e){const e=Bo();Po(0,"a",27),Uo("click",(function(){return Qt(e),Go(2).showLess()})),ya(1,"...see less"),Mo()}2&e&&Oo("hidden",!Go(2).limit)}function l3(e,t){if(1&e){const e=Bo();Po(0,"form",12),Po(1,"div",13),Po(2,"div",14),Po(3,"div",15),Po(4,"label",16),ya(5,"Artemis ID"),Mo(),Po(6,"div",17),ya(7),Mo(),Mo(),Po(8,"div",15),Po(9,"label",16),ya(10,"Merged Asset Tag"),Mo(),Po(11,"div",17),ya(12),Mo(),Mo(),Po(13,"div",15),Po(14,"label",16),ya(15,"Merged Location Description"),Mo(),Po(16,"div",17),ya(17),Mo(),Mo(),Po(18,"div",15),Po(19,"label",16),ya(20,"Confirmed Business"),Mo(),Po(21,"div",17),ya(22),Mo(),Mo(),Po(23,"div",15),Po(24,"label",16),ya(25,"ts Cust Business"),Mo(),Po(26,"div",17),ya(27),Mo(),Mo(),Po(28,"div",15),Po(29,"label",16),ya(30,"AptC Organisation"),Mo(),Po(31,"div",17),ya(32),Mo(),Mo(),Po(33,"div",15),Po(34,"label",16),ya(35,"eMRF Owning Business"),Mo(),Po(36,"div",17),ya(37),Mo(),Mo(),Po(38,"div",15),Po(39,"label",16),ya(40,"eMRF Operating Business"),Mo(),Po(41,"div",17),ya(42),Mo(),Mo(),Po(43,"div",15),Po(44,"label",16),ya(45,"Snow Operating Business"),Mo(),Po(46,"div",17),ya(47),Mo(),Mo(),Po(48,"div",15),Po(49,"label",16),ya(50,"eMRF Asset CIOwner"),Mo(),Po(51,"div",17),ya(52),Mo(),Mo(),Po(53,"div",15),Po(54,"label",16),ya(55,"Snow Asset Owner"),Mo(),Po(56,"div",17),ya(57),Mo(),Mo(),Po(58,"div",15),Po(59,"label",16),ya(60,"Exit Strategy"),Mo(),Po(61,"div",17),ya(62),Mo(),Mo(),Po(63,"div",15),Po(64,"label",16),ya(65,"Scope Group"),Mo(),Po(66,"div",17),ya(67),Mo(),Mo(),Po(68,"div",15),Po(69,"label",16),ya(70,"Scope Set"),Mo(),Po(71,"div",17),ya(72),Mo(),Mo(),Po(73,"div",15),Po(74,"label",16),ya(75,"Bucket"),Mo(),Po(76,"div",17),ya(77),Mo(),Mo(),Po(78,"div",15),Po(79,"label",16),ya(80,"Wave"),Mo(),Po(81,"div",17),ya(82),Mo(),Mo(),Po(83,"div",15),Po(84,"label",16),ya(85,"Highest Bucket PerDeployment"),Mo(),Po(86,"div",17),ya(87),Mo(),Mo(),Po(88,"div",15),Po(89,"label",16),ya(90,"Planned"),Mo(),Po(91,"div",17),ya(92),Mo(),Mo(),Po(93,"div",15),Po(94,"label",16),ya(95,"Apt Manufacturer"),Mo(),Po(96,"div",17),ya(97),Mo(),Mo(),Po(98,"div",15),Po(99,"label",16),ya(100,"Apt Model"),Mo(),Po(101,"div",17),ya(102),Mo(),Mo(),Po(103,"div",15),Po(104,"label",16),ya(105,"Apt Model Info"),Mo(),Po(106,"div",17),ya(107),Mo(),Mo(),Po(108,"div",15),Po(109,"label",16),ya(110,"Apt Asset Class"),Mo(),Po(111,"div",17),ya(112),Mo(),Mo(),Po(113,"div",15),Po(114,"label",16),ya(115,"AptC Device Use"),Mo(),Po(116,"div",17),ya(117),Mo(),Mo(),Po(118,"div",15),Po(119,"label",16),ya(120,"ts Usage"),Mo(),Po(121,"div",17),ya(122),Mo(),Mo(),Po(123,"div",15),Po(124,"label",16),ya(125,"ts Computer Type"),Mo(),Po(126,"div",17),ya(127),Mo(),Mo(),Po(128,"div",15),Po(129,"label",16),ya(130,"Snow Class"),Mo(),Po(131,"div",17),ya(132),Mo(),Mo(),Po(133,"div",15),Po(134,"label",16),ya(135,"ts Operating Mode"),Mo(),Po(136,"div",17),ya(137),Mo(),Mo(),Po(138,"div",15),Po(139,"label",16),ya(140,"ts Virtualization"),Mo(),Po(141,"div",17),ya(142),Mo(),Mo(),Po(143,"div",15),Po(144,"label",16),ya(145,"ts Platform"),Mo(),Po(146,"div",17),ya(147),Mo(),Mo(),Mo(),Po(148,"div",14),Po(149,"div",18),Po(150,"label",19),ya(151,"Contact Comments "),Po(152,"div",20),Po(153,"i",21),Uo("click",(function(){return Qt(e),Go().openComment()})),Mo(),Mo(),Mo(),Io(154,r3,6,6,"div",22),Mo(),Io(155,o3,2,1,"a",23),Io(156,a3,2,1,"a",23),Mo(),Mo(),Mo()}if(2&e){const e=Go();vs(7),Ca(" ",e.sampleDetails.ArtemisID," "),vs(5),Ca(" ",e.sampleDetails.ArtemisName," "),vs(5),Ca(" ",e.sampleDetails.ArtemisLoc," "),vs(5),Ca(" ",e.sampleDetails.ConfirmedBusiness," "),vs(5),Ca(" ",e.sampleDetails.tsCustBusiness," "),vs(5),Ca(" ",e.sampleDetails.AptCOrganisation," "),vs(5),Ca(" ",e.sampleDetails.eMRFOwningBusiness," "),vs(5),Ca(" ",e.sampleDetails.eMRFOperatingBusiness," "),vs(5),Ca(" ",e.sampleDetails.SnowOperatingBusiness," "),vs(5),Ca(" ",e.sampleDetails.eMRFAssetCIOwner," "),vs(5),Ca(" ",e.sampleDetails.SnowAssetOwner," "),vs(5),Ca(" ",e.sampleDetails.ExitStrategy," "),vs(5),Ca(" ",e.sampleDetails.ScopeGroup," "),vs(5),Ca(" ",e.sampleDetails.ScopeSet," "),vs(5),Ca(" ",e.sampleDetails.Bucket," "),vs(5),Ca(" ",e.sampleDetails.Wave," "),vs(5),Ca(" ",e.sampleDetails.HighestBucketPerDeployment," "),vs(5),Ca(" ",e.sampleDetails.Planned," "),vs(5),Ca(" ",e.sampleDetails.AptManufacturer," "),vs(5),Ca(" ",e.sampleDetails.AptModel," "),vs(5),Ca(" ",e.sampleDetails.AptModelInfo," "),vs(5),Ca(" ",e.sampleDetails.AptAssetClass," "),vs(5),Ca(" ",e.sampleDetails.AptCDeviceUse," "),vs(5),Ca(" ",e.sampleDetails.tsUsage,"\n"),vs(5),Ca(" ",e.sampleDetails.tsComputerType,"\n"),vs(5),Ca(" ",e.sampleDetails.SnowClass," "),vs(5),Ca(" ",e.sampleDetails.tsOperatingMode," "),vs(5),Ca(" ",e.sampleDetails.tsVirtualization,"\n"),vs(5),Ca(" ",e.sampleDetails.tsPlatform,"\n"),vs(7),Oo("ngForOf",e.comments),vs(1),Oo("ngIf",e.content.length>e.size&&e.content.length>=5),vs(1),Oo("ngIf",e.comments.length==e.content.length&&e.content.length>=5)}}function c3(e,t){if(1&e&&(Po(0,"div",38),ya(1),Mo()),2&e){const e=Go(2);vs(1),Ca(" Last edited by ",e.sampleDetails.UpdatedBy," ")}}function h3(e,t){if(1&e){const e=Bo();Po(0,"kendo-dialog",28),Uo("close",(function(){return Qt(e),Go().closeRefreshPopup("no")})),Po(1,"p",29),ya(2,"Please Add Comments"),Mo(),Po(3,"span",30),Po(4,"textarea",31,32),ya(6),Mo(),No(7,"br"),Po(8,"div"),ya(9,"\xa0"),Mo(),Po(10,"div",33),ya(11),Mo(),Po(12,"button",34),Uo("click",(function(){Qt(e);const t=To(5);return Go().saveClicked(t)})),ya(13,"Save"),Mo(),Po(14,"button",35),Uo("click",(function(){return Qt(e),Go().closeRefreshPopup("no")})),ya(15," Cancel"),Mo(),No(16,"br"),Po(17,"div"),ya(18,"\xa0"),Mo(),Io(19,c3,2,1,"div",36),Po(20,"div",37),ya(21),Jl(22,"date"),Mo(),No(23,"br"),Mo(),No(24,"kendo-dialog-actions"),Mo()}if(2&e){const e=Go();Oo("minWidth",250)("width",835)("height",455),vs(6),Ca(" ",e.sampleDetails.ContactComment?e.sampleDetails.ContactComment:"",""),vs(5),Ca(" (/",e.commentsMaxLength,") "),vs(8),Oo("ngIf",e.sampleDetails.ContactComment),vs(2),Ca(" ",Xl(22,7,e.sampleDetails.LastUpdatedDate,"dd/MM/yyyy h:mm a")," ")}}function u3(e,t){1&e&&No(0,"div",39)}const d3=[{path:"",component:n3},{path:"home",component:n3},{path:"viewsample",component:(()=>{class e{constructor(e,t,i){this.route=e,this.samplesService=t,this.toastService=i,this.editableComment=!1,this.commentsMaxLength=450,this.limit=2,this.size=2,this.isReadMore=!0,this.route.queryParams.subscribe(e=>{this.sampleId=e.id||""}),this.route.queryParams.subscribe(e=>{this.sampleGuid=e.sampleGuid||""})}ngOnInit(){this.getSampleDetails(this.sampleGuid)}showMore(){this.limit=10;let e=this.size+5;this.comments=this.content.slice(0,e),this.size=e,this.isReadMore=!this.isReadMore}showLess(){this.comments=this.content.slice(0,5),this.size=5}openComment(){this.editableComment=!0}closeRefreshPopup(e){this.editableComment=!1}refresh(){this.loaded=!1,setTimeout(()=>{this.loaded=!0,this.getSampleDetails(this.sampleGuid)},0)}getSampleDetails(e){this.loading=!0,this.samplesService.getSampleDetails(e).subscribe(e=>{e&&(this.sampleDetails=e.samples[0],this.content=e.comments,this.size=5,this.content.length<this.size&&(this.loaded=!0),this.comments=this.content.slice(0,this.size),this.loading=!1)})}saveClicked(e){this.loading=!0,this.commentsDTO=new ZQ,this.commentsDTO.ArtemisID=this.sampleDetails.ArtemisID,this.commentsDTO.ContactComment=e.value,this.commentsDTO.UpdatedBy="Rajesh D",this.commentsDTO.LastUpdatedDate=new Date,this.samplesService.saveSiteComments(this.commentsDTO).subscribe(e=>{this.loading=!1,this.closeRefreshPopup("no"),this.toastService.success("Comments saved successfully."),this.refresh()},e=>{this.loading=!1})}}return e.\u0275fac=function(t){return new(t||e)(Fo(Um),Fo(TJ),Fo(Ib))},e.\u0275cmp=pt({type:e,selectors:[["app-view-sample"]],decls:13,vars:4,consts:[[1,"ar-section"],[1,"ar-section__header"],["routerLink","/home",1,"ar-section__title","cursor-pointer"],[1,"ar-breadcrumbs"],["class","ar-breadcrumbs__item","href","javascript:void(0)",3,"keypress","click",4,"ngIf"],[1,"float-r","d-none"],[1,"ar-section__content","p-t-2",2,"padding","0px"],[1,"ar-panel"],["class","ar-form ",4,"ngIf"],["title","Add Contact Comments","class","p-a-2 p-t-0",3,"minWidth","width","height","close",4,"ngIf"],["aria-label","Loading page","class","k-i-loading",4,"ngIf"],["href","javascript:void(0)",1,"ar-breadcrumbs__item",3,"keypress","click"],[1,"ar-form"],[1,"row"],[1,"col-md-6"],[1,"ar-form__group"],[1,"ar-label","ar-label--lined","ar-label--linedbar"],[1,"ar-data"],[1,"ar-form__group",2,"padding-bottom","10px"],[1,"ar-label","ar-label--lined","ar-label--linedbar",2,"display","inline-flex","align-items","end"],[1,"editEnabled"],["title","Add New Comment",1,"fas","fa-edit","editIcon",3,"click"],["class","ar-data limitTextHeight",4,"ngFor","ngForOf"],["href","javascript:;","class","ar-kgrid__cell-lnk","style","font-style: italic;float: right;","ng-show","limit === 2",3,"hidden","click",4,"ngIf"],[1,"ar-data","limitTextHeight"],[2,"font-size","medium","display","inline-flex","width","75%"],[2,"color","#666666","font-size","small"],["href","javascript:;","ng-show","limit === 2",1,"ar-kgrid__cell-lnk",2,"font-style","italic","float","right",3,"hidden","click"],["title","Add Contact Comments",1,"p-a-2","p-t-0",3,"minWidth","width","height","close"],[1,""],[1,"comments"],["name","plannedDate","required","",1,"k-textbox"],["input",""],[1,"charCount"],[1,"save",3,"click"],[1,"cancel",3,"click"],["class","by","style","color: #b8b8b8",4,"ngIf"],[1,"on",2,"color","#b8b8b8"],[1,"by",2,"color","#b8b8b8"],["aria-label","Loading page",1,"k-i-loading"]],template:function(e,t){1&e&&(Po(0,"section",0),Po(1,"header",1),Po(2,"h1",2),ya(3,"Samples"),Mo(),Po(4,"ul",3),Po(5,"li"),Io(6,s3,2,1,"a",4),Mo(),Mo(),No(7,"span",5),Mo(),Po(8,"section",6),Po(9,"div",7),Io(10,l3,157,32,"form",8),Mo(),Io(11,h3,25,10,"kendo-dialog",9),Io(12,u3,1,0,"div",10),Mo(),Mo()),2&e&&(vs(6),Oo("ngIf",!t.loading&&t.sampleDetails),vs(4),Oo("ngIf",t.sampleDetails),vs(1),Oo("ngIf",t.editableComment&&t.sampleDetails),vs(1),Oo("ngIf",t.loading))},directives:[Jv,ku,fC,gw,rC,xu,wX,dX],pipes:[Ru],styles:[".k-i-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;font-size:50px;background-color:transparent;color:#eadf46}.limitTextHeight[_ngcontent-%COMP%]{line-height:2;overflow:hidden}.editIcon[_ngcontent-%COMP%]{float:right;font-size:20px;padding-left:20px;cursor:pointer}.editEnabled[_ngcontent-%COMP%]{color:#0575d1}.charCount[_ngcontent-%COMP%]{font-size:11px;float:right}.save[_ngcontent-%COMP%]{color:#fff;background:#0575d1;border-radius:3px;margin-right:.5em;width:57px;height:30px;border:none}.cancel[_ngcontent-%COMP%], .save[_ngcontent-%COMP%]{text-transform:uppercase;padding:.5em;cursor:pointer}.cancel[_ngcontent-%COMP%]{border:1px solid #0575d1;color:#0575d1;border-radius:3px;background:none}textarea[_ngcontent-%COMP%]{height:15em!important;width:100%!important;background-color:#fff!important;box-shadow:0 0 4px rgb(0 0 0/15%)!important;border-radius:4px!important;padding:10px!important}td[_ngcontent-%COMP%]{vertical-align:top!important}.changes[_ngcontent-%COMP%]{display:block;margin-bottom:10%}.view-all[_ngcontent-%COMP%]{text-transform:uppercase;color:#0575d1}.comments[_ngcontent-%COMP%]{padding:10px}.audit[_ngcontent-%COMP%], .comments[_ngcontent-%COMP%]{display:block;background-color:#f4f8f9!important}.audit[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;color:#b8b8b8}.by[_ngcontent-%COMP%]{float:left}.by[_ngcontent-%COMP%], .on[_ngcontent-%COMP%]{font-size:11px}.on[_ngcontent-%COMP%]{float:right}"]}),e})()},{path:"**",redirectTo:"home"}];let p3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[fb.forRoot(d3)],fb]}),e})(),f3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,p3,Rf,kC,fb]]}),e})();function g3(e,t,i,n){return new(i||(i=Promise))((function(s,r){function o(e){try{l(n.next(e))}catch(t){r(t)}}function a(e){try{l(n.throw(e))}catch(t){r(t)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))}class m3{call(e,t){return t.subscribe(new v3(e))}}class v3 extends N{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let i=0;i<t&&!this.hasFirst;i++){let t=e[i],n=M(this,t,t,i);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}}notifyNext(e,t,i,n,s){if(!this.hasFirst){this.hasFirst=!0;for(let e=0;e<this.subscriptions.length;e++)if(e!==i){let t=this.subscriptions[e];t.unsubscribe(),this.remove(t)}this.subscriptions=null}this.destination.next(t)}}const b3=(()=>{function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e})();class y3{constructor(e,t,i,n){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=i,this.scheduler=n}call(e,t){return t.subscribe(new w3(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class w3 extends N{constructor(e,t,i,n,s){super(e),this.absoluteTimeout=t,this.waitFor=i,this.withObservable=n,this.scheduler=s,this.action=null,this.scheduleTimeout()}static dispatchTimeout(e){const{withObservable:t}=e;e._unsubscribeAndRecycle(),e.add(M(e,t))}scheduleTimeout(){const{action:e}=this;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(w3.dispatchTimeout,this.waitFor,this))}_next(e){this.absoluteTimeout||this.scheduleTimeout(),super._next(e)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var C3=i("gfpf");class x3{}class S3{}function k3(e){const t=e.replace(/\-/g,"+").replace(/\_/g,"/");return decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}function _3(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}class E3{}let I3=(()=>{class e{getHashFragmentParams(e){let t=e||window.location.hash;if(t=decodeURIComponent(t),0!==t.indexOf("#"))return{};const i=t.indexOf("?");return t=t.substr(i>-1?i+1:1),this.parseQueryString(t)}parseQueryString(e){const t={};let i,n,s,r,o,a,l;if(null===e)return t;i=e.split("&");for(let c=0;c<i.length;c++)n=i[c],s=n.indexOf("="),-1===s?(r=n,o=null):(r=n.substr(0,s),o=n.substr(s+1)),a=decodeURIComponent(r),l=decodeURIComponent(o),"/"===a.substr(0,1)&&(a=a.substr(1)),t[a]=l;return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class T3{constructor(e){this.type=e}}class F3 extends T3{constructor(e,t=null){super(e),this.info=t}}class D3 extends T3{constructor(e,t=null){super(e),this.info=t}}class A3 extends T3{constructor(e,t,i=null){super(e),this.reason=t,this.params=i}}class O3{constructor(e){this.clientId="",this.redirectUri="",this.postLogoutRedirectUri="",this.loginUrl="",this.scope="openid profile",this.resource="",this.rngUrl="",this.oidc=!0,this.requestAccessToken=!0,this.options=null,this.issuer="",this.logoutUrl="",this.clearHashAfterLogin=!0,this.tokenEndpoint=null,this.userinfoEndpoint=null,this.responseType="",this.showDebugInformation=!1,this.silentRefreshRedirectUri="",this.silentRefreshMessagePrefix="",this.silentRefreshShowIFrame=!1,this.siletRefreshTimeout=2e4,this.silentRefreshTimeout=2e4,this.dummyClientSecret=null,this.requireHttps="remoteOnly",this.strictDiscoveryDocumentValidation=!0,this.jwks=null,this.customQueryParams=null,this.silentRefreshIFrameName="angular-oauth-oidc-silent-refresh-iframe",this.timeoutFactor=.75,this.sessionChecksEnabled=!1,this.sessionCheckIntervall=3e3,this.sessionCheckIFrameUrl=null,this.sessionCheckIFrameName="angular-oauth-oidc-check-session-iframe",this.disableAtHashCheck=!1,this.skipSubjectCheck=!1,this.useIdTokenHintForSilentRefresh=!1,this.skipIssuerCheck=!1,this.nonceStateSeparator=";",this.useHttpBasicAuth=!1,this.waitForTokenInMsec=0,this.disablePKCE=!1,this.openUri=e=>{location.href=e},e&&Object.assign(this,e)}}class R3{encodeKey(e){return encodeURIComponent(e)}encodeValue(e){return encodeURIComponent(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}class P3{}let M3=(()=>{class e extends O3{constructor(e,t,i,n,s,r,o,a){super(),this.ngZone=e,this.http=t,this.config=s,this.urlHelper=r,this.logger=o,this.crypto=a,this.discoveryDocumentLoaded=!1,this.state="",this.eventsSubject=new _,this.discoveryDocumentLoadedSubject=new _,this.grantTypesSupported=[],this.inImplicitFlow=!1,this.debug("angular-oauth2-oidc v8-beta"),this.discoveryDocumentLoaded$=this.discoveryDocumentLoadedSubject.asObservable(),this.events=this.eventsSubject.asObservable(),n&&(this.tokenValidationHandler=n),s&&this.configure(s);try{i?this.setStorage(i):"undefined"!=typeof sessionStorage&&this.setStorage(sessionStorage)}catch(l){console.error("No OAuthStorage provided and cannot access default (sessionStorage).Consider providing a custom OAuthStorage implementation in your module.",l)}this.setupRefreshTimer()}configure(e){Object.assign(this,new O3,e),this.config=Object.assign({},new O3,e),this.sessionChecksEnabled&&this.setupSessionCheck(),this.configChanged()}configChanged(){this.setupRefreshTimer()}restartSessionChecksIfStillLoggedIn(){this.hasValidIdToken()&&this.initSessionCheck()}restartRefreshTimerIfStillLoggedIn(){this.setupExpirationTimers()}setupSessionCheck(){this.events.pipe(Jf(e=>"token_received"===e.type)).subscribe(e=>{this.initSessionCheck()})}setupAutomaticSilentRefresh(e={},t,i=!0){let n=!0;this.events.pipe(Ag(e=>{"token_received"===e.type?n=!0:"logout"===e.type&&(n=!1)}),Jf(e=>"token_expires"===e.type)).subscribe(s=>{null!=t&&"any"!==t&&s.info!==t||!n||this.refreshInternal(e,i).catch(e=>{this.debug("Automatic silent refresh did not work")})}),this.restartRefreshTimerIfStillLoggedIn()}refreshInternal(e,t){return"code"===this.responseType?this.refreshToken():this.silentRefresh(e,t)}loadDiscoveryDocumentAndTryLogin(e=null){return this.loadDiscoveryDocument().then(t=>this.tryLogin(e))}loadDiscoveryDocumentAndLogin(e=null){return this.loadDiscoveryDocumentAndTryLogin(e).then(e=>!(!this.hasValidIdToken()||!this.hasValidAccessToken())||(this.initImplicitFlow(),!1))}debug(...e){this.showDebugInformation&&this.logger.debug.apply(console,e)}validateUrlFromDiscoveryDocument(e){const t=[],i=this.validateUrlForHttps(e),n=this.validateUrlAgainstIssuer(e);return i||t.push("https for all urls required. Also for urls received by discovery."),n||t.push("Every url in discovery document has to start with the issuer url.Also see property strictDiscoveryDocumentValidation."),t}validateUrlForHttps(e){if(!e)return!0;const t=e.toLowerCase();return!1===this.requireHttps||!(!t.match(/^http:\/\/localhost($|[:\/])/)&&!t.match(/^http:\/\/localhost($|[:\/])/)||"remoteOnly"!==this.requireHttps)||t.startsWith("https://")}validateUrlAgainstIssuer(e){return!this.strictDiscoveryDocumentValidation||!e||e.toLowerCase().startsWith(this.issuer.toLowerCase())}setupRefreshTimer(){"undefined"!=typeof window?(this.hasValidIdToken()&&(this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()),this.events.pipe(Jf(e=>"token_received"===e.type)).subscribe(e=>{this.clearAccessTokenTimer(),this.clearIdTokenTimer(),this.setupExpirationTimers()})):this.debug("timer not supported on this plattform")}setupExpirationTimers(){const e=this.getIdTokenExpiration()||Number.MAX_VALUE,t=(this.getAccessTokenExpiration()||Number.MAX_VALUE)<=e;this.hasValidAccessToken()&&t&&this.setupAccessTokenTimer(),this.hasValidIdToken()&&!t&&this.setupIdTokenTimer()}setupAccessTokenTimer(){const e=this.getAccessTokenExpiration(),t=this.getAccessTokenStoredAt(),i=this.calcTimeout(t,e);this.ngZone.runOutsideAngular(()=>{this.accessTokenTimeoutSubscription=jf(new D3("token_expires","access_token")).pipe(Vy(i)).subscribe(e=>{this.ngZone.run(()=>{this.eventsSubject.next(e)})})})}setupIdTokenTimer(){const e=this.getIdTokenExpiration(),t=this.getIdTokenStoredAt(),i=this.calcTimeout(t,e);this.ngZone.runOutsideAngular(()=>{this.idTokenTimeoutSubscription=jf(new D3("token_expires","id_token")).pipe(Vy(i)).subscribe(e=>{this.ngZone.run(()=>{this.eventsSubject.next(e)})})})}clearAccessTokenTimer(){this.accessTokenTimeoutSubscription&&this.accessTokenTimeoutSubscription.unsubscribe()}clearIdTokenTimer(){this.idTokenTimeoutSubscription&&this.idTokenTimeoutSubscription.unsubscribe()}calcTimeout(e,t){const i=Date.now();return Math.max(0,(t-e)*this.timeoutFactor-(i-e))}setStorage(e){this._storage=e,this.configChanged()}loadDiscoveryDocument(e=null){return new Promise((t,i)=>{e||((e=this.issuer||"").endsWith("/")||(e+="/"),e+=".well-known/openid-configuration"),this.validateUrlForHttps(e)?this.http.get(e).subscribe(e=>{if(!this.validateDiscoveryDocument(e))return this.eventsSubject.next(new A3("discovery_document_validation_error",null)),void i("discovery_document_validation_error");this.loginUrl=e.authorization_endpoint,this.logoutUrl=e.end_session_endpoint||this.logoutUrl,this.grantTypesSupported=e.grant_types_supported,this.issuer=e.issuer,this.tokenEndpoint=e.token_endpoint,this.userinfoEndpoint=e.userinfo_endpoint,this.jwksUri=e.jwks_uri,this.sessionCheckIFrameUrl=e.check_session_iframe||this.sessionCheckIFrameUrl,this.discoveryDocumentLoaded=!0,this.discoveryDocumentLoadedSubject.next(e),this.sessionChecksEnabled&&this.restartSessionChecksIfStillLoggedIn(),this.loadJwks().then(i=>{const n=new F3("discovery_document_loaded",{discoveryDocument:e,jwks:i});this.eventsSubject.next(n),t(n)}).catch(e=>{this.eventsSubject.next(new A3("discovery_document_load_error",e)),i(e)})},e=>{this.logger.error("error loading discovery document",e),this.eventsSubject.next(new A3("discovery_document_load_error",e)),i(e)}):i("issuer must use https, or config value for property requireHttps must allow http")})}loadJwks(){return new Promise((e,t)=>{this.jwksUri?this.http.get(this.jwksUri).subscribe(t=>{this.jwks=t,this.eventsSubject.next(new F3("discovery_document_loaded")),e(t)},e=>{this.logger.error("error loading jwks",e),this.eventsSubject.next(new A3("jwks_load_error",e)),t(e)}):e(null)})}validateDiscoveryDocument(e){let t;return this.skipIssuerCheck||e.issuer===this.issuer?(t=this.validateUrlFromDiscoveryDocument(e.authorization_endpoint),t.length>0?(this.logger.error("error validating authorization_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.end_session_endpoint),t.length>0?(this.logger.error("error validating end_session_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.token_endpoint),t.length>0&&this.logger.error("error validating token_endpoint in discovery document",t),t=this.validateUrlFromDiscoveryDocument(e.userinfo_endpoint),t.length>0?(this.logger.error("error validating userinfo_endpoint in discovery document",t),!1):(t=this.validateUrlFromDiscoveryDocument(e.jwks_uri),t.length>0?(this.logger.error("error validating jwks_uri in discovery document",t),!1):(this.sessionChecksEnabled&&!e.check_session_iframe&&this.logger.warn("sessionChecksEnabled is activated but discovery document does not contain a check_session_iframe field"),!0))))):(this.logger.error("invalid issuer in discovery document","expected: "+this.issuer,"current: "+e.issuer),!1)}fetchTokenUsingPasswordFlowAndLoadUserProfile(e,t,i=new JQ){return this.fetchTokenUsingPasswordFlow(e,t,i).then(()=>this.loadUserProfile())}loadUserProfile(){if(!this.hasValidAccessToken())throw new Error("Can not load User Profile without access_token");if(!this.validateUrlForHttps(this.userinfoEndpoint))throw new Error("userinfoEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((e,t)=>{const i=(new JQ).set("Authorization","Bearer "+this.getAccessToken());this.http.get(this.userinfoEndpoint,{headers:i}).subscribe(i=>{this.debug("userinfo received",i);const n=this.getIdentityClaims()||{};this.skipSubjectCheck||!this.oidc||n.sub&&i.sub===n.sub?(i=Object.assign({},n,i),this._storage.setItem("id_token_claims_obj",JSON.stringify(i)),this.eventsSubject.next(new F3("user_profile_loaded")),e(i)):t("if property oidc is true, the received user-id (sub) has to be the user-id of the user that has logged in with oidc.\nif you are not using oidc but just oauth2 password flow set oidc to false")},e=>{this.logger.error("error loading user info",e),this.eventsSubject.next(new A3("user_profile_load_error",e)),t(e)})})}fetchTokenUsingPasswordFlow(e,t,i=new JQ){if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((n,s)=>{let r=new tJ({encoder:new R3}).set("grant_type","password").set("scope",this.scope).set("username",e).set("password",t);if(this.useHttpBasicAuth){const e=btoa(`${this.clientId}:${this.dummyClientSecret}`);i=i.set("Authorization","Basic "+e)}if(this.useHttpBasicAuth||(r=r.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(r=r.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const e of Object.getOwnPropertyNames(this.customQueryParams))r=r.set(e,this.customQueryParams[e]);i=i.set("Content-Type","application/x-www-form-urlencoded"),this.http.post(this.tokenEndpoint,r,{headers:i}).subscribe(e=>{this.debug("tokenResponse",e),this.storeAccessTokenResponse(e.access_token,e.refresh_token,e.expires_in,e.scope),this.eventsSubject.next(new F3("token_received")),n(e)},e=>{this.logger.error("Error performing password flow",e),this.eventsSubject.next(new A3("token_error",e)),s(e)})})}refreshToken(){if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");return new Promise((e,t)=>{let i=(new tJ).set("grant_type","refresh_token").set("client_id",this.clientId).set("scope",this.scope).set("refresh_token",this._storage.getItem("refresh_token"));if(this.dummyClientSecret&&(i=i.set("client_secret",this.dummyClientSecret)),this.customQueryParams)for(const s of Object.getOwnPropertyNames(this.customQueryParams))i=i.set(s,this.customQueryParams[s]);const n=(new JQ).set("Content-Type","application/x-www-form-urlencoded");this.http.post(this.tokenEndpoint,i,{headers:n}).pipe(xg(e=>e.id_token?z(this.processIdToken(e.id_token,e.access_token,!0)).pipe(Ag(e=>this.storeIdToken(e)),L(t=>e)):jf(e))).subscribe(t=>{this.debug("refresh tokenResponse",t),this.storeAccessTokenResponse(t.access_token,t.refresh_token,t.expires_in,t.scope),this.eventsSubject.next(new F3("token_received")),this.eventsSubject.next(new F3("token_refreshed")),e(t)},e=>{this.logger.error("Error performing password flow",e),this.eventsSubject.next(new A3("token_refresh_error",e)),t(e)})})}removeSilentRefreshEventListener(){this.silentRefreshPostMessageEventListener&&(window.removeEventListener("message",this.silentRefreshPostMessageEventListener),this.silentRefreshPostMessageEventListener=null)}setupSilentRefreshEventListener(){this.removeSilentRefreshEventListener(),this.silentRefreshPostMessageEventListener=e=>{const t=this.processMessageEventMessage(e);this.tryLogin({customHashFragment:t,preventClearHashAfterLogin:!0,onLoginError:e=>{this.eventsSubject.next(new A3("silent_refresh_error",e))},onTokenReceived:()=>{this.eventsSubject.next(new F3("silently_refreshed"))}}).catch(e=>this.debug("tryLogin during silent refresh failed",e))},window.addEventListener("message",this.silentRefreshPostMessageEventListener)}silentRefresh(e={},t=!0){const i=this.getIdentityClaims()||{};if(this.useIdTokenHintForSilentRefresh&&this.hasValidIdToken()&&(e.id_token_hint=this.getIdToken()),!this.validateUrlForHttps(this.loginUrl))throw new Error("tokenEndpoint must use https, or config value for property requireHttps must allow http");if("undefined"==typeof document)throw new Error("silent refresh is not supported on this platform");const n=document.getElementById(this.silentRefreshIFrameName);n&&document.body.removeChild(n),this.silentRefreshSubject=i.sub;const s=document.createElement("iframe");return s.id=this.silentRefreshIFrameName,this.setupSilentRefreshEventListener(),this.createLoginUrl(null,null,this.silentRefreshRedirectUri||this.redirectUri,t,e).then(e=>{s.setAttribute("src",e),this.silentRefreshShowIFrame||(s.style.display="none"),document.body.appendChild(s)}),function(...e){if(1===e.length){if(!l(e[0]))return e[0];e=e[0]}return G(e,void 0).lift(new m3)}([this.events.pipe(Jf(e=>e instanceof A3),yg()),this.events.pipe(Jf(e=>"silently_refreshed"===e.type),yg()),jf(new A3("silent_refresh_timeout",null)).pipe(Vy(this.silentRefreshTimeout))]).pipe(Ag(e=>{"silent_refresh_timeout"===e.type&&this.eventsSubject.next(e)}),L(e=>{if(e instanceof A3)throw e;return e})).toPromise()}initImplicitFlowInPopup(e){return e=e||{},this.createLoginUrl(null,null,this.silentRefreshRedirectUri,!1,{display:"popup"}).then(t=>new Promise((i,n)=>{let s=window.open(t,"_blank",this.calculatePopupFeatures(e));const r=()=>{window.removeEventListener("message",o),s.close(),s=null},o=e=>{const t=this.processMessageEventMessage(e);this.tryLogin({customHashFragment:t,preventClearHashAfterLogin:!0}).then(()=>{r(),i()},e=>{r(),n(e)})};window.addEventListener("message",o)}))}calculatePopupFeatures(e){const t=e.height||470,i=e.width||500,n=screen.width/2-i/2;return`location=no,toolbar=no,width=${i},height=${t},top=${screen.height/2-t/2},left=${n}`}processMessageEventMessage(e){let t="#";if(this.silentRefreshMessagePrefix&&(t+=this.silentRefreshMessagePrefix),!e||!e.data||"string"!=typeof e.data)return;const i=e.data;return i.startsWith(t)?"#"+i.substr(t.length):void 0}canPerformSessionCheck(){return!!this.sessionChecksEnabled&&(this.sessionCheckIFrameUrl?this.getSessionState()?"undefined"!=typeof document:(console.warn("sessionChecksEnabled is activated but there is no session_state"),!1):(console.warn("sessionChecksEnabled is activated but there is no sessionCheckIFrameUrl"),!1))}setupSessionCheckEventListener(){this.removeSessionCheckEventListener(),this.sessionCheckEventListener=e=>{const t=e.origin.toLowerCase(),i=this.issuer.toLowerCase();switch(this.debug("sessionCheckEventListener"),i.startsWith(t)||this.debug("sessionCheckEventListener","wrong origin",t,"expected",i),e.data){case"unchanged":this.handleSessionUnchanged();break;case"changed":this.ngZone.run(()=>{this.handleSessionChange()});break;case"error":this.ngZone.run(()=>{this.handleSessionError()})}this.debug("got info from session check inframe",e)},this.ngZone.runOutsideAngular(()=>{window.addEventListener("message",this.sessionCheckEventListener)})}handleSessionUnchanged(){this.debug("session check","session unchanged")}handleSessionChange(){this.eventsSubject.next(new D3("session_changed")),this.stopSessionCheckTimer(),this.silentRefreshRedirectUri?(this.silentRefresh().catch(e=>this.debug("silent refresh failed after session changed")),this.waitForSilentRefreshAfterSessionChange()):(this.eventsSubject.next(new D3("session_terminated")),this.logOut(!0))}waitForSilentRefreshAfterSessionChange(){this.events.pipe(Jf(e=>"silently_refreshed"===e.type||"silent_refresh_timeout"===e.type||"silent_refresh_error"===e.type),yg()).subscribe(e=>{"silently_refreshed"!==e.type&&(this.debug("silent refresh did not work after session changed"),this.eventsSubject.next(new D3("session_terminated")),this.logOut(!0))})}handleSessionError(){this.stopSessionCheckTimer(),this.eventsSubject.next(new D3("session_error"))}removeSessionCheckEventListener(){this.sessionCheckEventListener&&(window.removeEventListener("message",this.sessionCheckEventListener),this.sessionCheckEventListener=null)}initSessionCheck(){if(!this.canPerformSessionCheck())return;const e=document.getElementById(this.sessionCheckIFrameName);e&&document.body.removeChild(e);const t=document.createElement("iframe");t.id=this.sessionCheckIFrameName,this.setupSessionCheckEventListener(),t.setAttribute("src",this.sessionCheckIFrameUrl),t.style.display="none",document.body.appendChild(t),this.startSessionCheckTimer()}startSessionCheckTimer(){this.stopSessionCheckTimer(),this.ngZone.runOutsideAngular(()=>{this.sessionCheckTimer=setInterval(this.checkSession.bind(this),this.sessionCheckIntervall)})}stopSessionCheckTimer(){this.sessionCheckTimer&&(clearInterval(this.sessionCheckTimer),this.sessionCheckTimer=null)}checkSession(){const e=document.getElementById(this.sessionCheckIFrameName);e||this.logger.warn("checkSession did not find iframe",this.sessionCheckIFrameName);const t=this.getSessionState();t||this.stopSessionCheckTimer(),e.contentWindow.postMessage(this.clientId+" "+t,this.issuer)}createLoginUrl(e="",t="",i="",n=!1,s={}){return g3(this,void 0,void 0,(function*(){let r;r=i||this.redirectUri;const o=yield this.createAndSaveNonce();if(e=e?o+this.config.nonceStateSeparator+e:o,!this.requestAccessToken&&!this.oidc)throw new Error("Either requestAccessToken or oidc or both must be true");this.responseType=this.config.responseType?this.config.responseType:this.oidc&&this.requestAccessToken?"id_token token":this.oidc&&!this.requestAccessToken?"id_token":"token";const a=this.loginUrl.indexOf("?")>-1?"&":"?";let l=this.scope;this.oidc&&!l.match(/(^|\s)openid($|\s)/)&&(l="openid "+l);let c=this.loginUrl+a+"response_type="+encodeURIComponent(this.responseType)+"&client_id="+encodeURIComponent(this.clientId)+"&state="+encodeURIComponent(e)+"&redirect_uri="+encodeURIComponent(r)+"&scope="+encodeURIComponent(l);if("code"===this.responseType&&!this.disablePKCE){const[e,t]=yield this.createChallangeVerifierPairForPKCE();this._storage.setItem("PKCI_verifier",t),c+="&code_challenge="+e,c+="&code_challenge_method=S256"}t&&(c+="&login_hint="+encodeURIComponent(t)),this.resource&&(c+="&resource="+encodeURIComponent(this.resource)),this.oidc&&(c+="&nonce="+encodeURIComponent(o)),n&&(c+="&prompt=none");for(const e of Object.keys(s))c+="&"+encodeURIComponent(e)+"="+encodeURIComponent(s[e]);if(this.customQueryParams)for(const e of Object.getOwnPropertyNames(this.customQueryParams))c+="&"+e+"="+encodeURIComponent(this.customQueryParams[e]);return c}))}initImplicitFlowInternal(e="",t=""){if(this.inImplicitFlow)return;if(this.inImplicitFlow=!0,!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use https, or config value for property requireHttps must allow http");let i={},n=null;"string"==typeof t?n=t:"object"==typeof t&&(i=t),this.createLoginUrl(e,n,null,!1,i).then(this.config.openUri).catch(e=>{console.error("Error in initImplicitFlow",e),this.inImplicitFlow=!1})}initImplicitFlow(e="",t=""){""!==this.loginUrl?this.initImplicitFlowInternal(e,t):this.events.pipe(Jf(e=>"discovery_document_loaded"===e.type)).subscribe(i=>this.initImplicitFlowInternal(e,t))}resetImplicitFlow(){this.inImplicitFlow=!1}callOnTokenReceivedIfExists(e){const t=this;if(e.onTokenReceived){const i={idClaims:t.getIdentityClaims(),idToken:t.getIdToken(),accessToken:t.getAccessToken(),state:t.state};e.onTokenReceived(i)}}storeAccessTokenResponse(e,t,i,n){if(this._storage.setItem("access_token",e),n&&this._storage.setItem("granted_scopes",JSON.stringify(n.split("+"))),this._storage.setItem("access_token_stored_at",""+Date.now()),i){const e=1e3*i,t=(new Date).getTime()+e;this._storage.setItem("expires_at",""+t)}t&&this._storage.setItem("refresh_token",t)}tryLogin(e=null){return"code"===this.config.responseType?this.tryLoginCodeFlow().then(e=>!0):this.tryLoginImplicitFlow(e)}parseQueryString(e){return e&&0!==e.length?("?"===e.charAt(0)&&(e=e.substr(1)),this.urlHelper.parseQueryString(e)):{}}tryLoginCodeFlow(){const e=this.parseQueryString(window.location.search),t=e.code,i=e.state,n=location.href.replace(/[&\?]code=[^&\$]*/,"").replace(/[&\?]scope=[^&\$]*/,"").replace(/[&\?]state=[^&\$]*/,"").replace(/[&\?]session_state=[^&\$]*/,"");history.replaceState(null,window.name,n);let[s,r]=this.parseState(i);if(this.state=r,e.error){this.debug("error trying to login"),this.handleLoginError({},e);const t=new A3("code_error",{},e);return this.eventsSubject.next(t),Promise.reject(t)}if(!s)return Promise.resolve();if(!this.validateNonce(s)){const e=new A3("invalid_nonce_in_state",null);return this.eventsSubject.next(e),Promise.reject(e)}return t?new Promise((e,i)=>{this.getTokenFromCode(t).then(t=>{e()}).catch(e=>{i(e)})}):Promise.resolve()}getTokenFromCode(e){let t=(new tJ).set("grant_type","authorization_code").set("code",e).set("redirect_uri",this.redirectUri);if(!this.disablePKCE){const e=this._storage.getItem("PKCI_verifier");e?t=t.set("code_verifier",e):console.warn("No PKCI verifier found in oauth storage!")}return this.fetchAndProcessToken(t)}fetchAndProcessToken(e){let t=(new JQ).set("Content-Type","application/x-www-form-urlencoded");if(!this.validateUrlForHttps(this.tokenEndpoint))throw new Error("tokenEndpoint must use Http. Also check property requireHttps.");if(this.useHttpBasicAuth){const e=btoa(`${this.clientId}:${this.dummyClientSecret}`);t=t.set("Authorization","Basic "+e)}return this.useHttpBasicAuth||(e=e.set("client_id",this.clientId)),!this.useHttpBasicAuth&&this.dummyClientSecret&&(e=e.set("client_secret",this.dummyClientSecret)),new Promise((i,n)=>{if(this.customQueryParams)for(let t of Object.getOwnPropertyNames(this.customQueryParams))e=e.set(t,this.customQueryParams[t]);this.http.post(this.tokenEndpoint,e,{headers:t}).subscribe(e=>{this.debug("refresh tokenResponse",e),this.storeAccessTokenResponse(e.access_token,e.refresh_token,e.expires_in,e.scope),this.oidc&&e.id_token?this.processIdToken(e.id_token,e.access_token).then(t=>{this.storeIdToken(t),this.eventsSubject.next(new F3("token_received")),this.eventsSubject.next(new F3("token_refreshed")),i(e)}).catch(e=>{this.eventsSubject.next(new A3("token_validation_error",e)),console.error("Error validating tokens"),console.error(e),n(e)}):(this.eventsSubject.next(new F3("token_received")),this.eventsSubject.next(new F3("token_refreshed")),i(e))},e=>{console.error("Error getting token",e),this.eventsSubject.next(new A3("token_refresh_error",e)),n(e)})})}tryLoginImplicitFlow(e=null){let t;t=(e=e||{}).customHashFragment?this.urlHelper.getHashFragmentParams(e.customHashFragment):this.urlHelper.getHashFragmentParams(),this.debug("parsed url",t);const i=t.state;let[n,s]=this.parseState(i);if(this.state=s,t.error){this.debug("error trying to login"),this.handleLoginError(e,t);const i=new A3("token_error",{},t);return this.eventsSubject.next(i),Promise.reject(i)}const r=t.access_token,o=t.id_token,a=t.session_state,l=t.scope;if(!this.requestAccessToken&&!this.oidc)return Promise.reject("Either requestAccessToken or oidc (or both) must be true.");if(this.requestAccessToken&&!r)return Promise.resolve(!1);if(this.requestAccessToken&&!e.disableOAuth2StateCheck&&!i)return Promise.resolve(!1);if(this.oidc&&!o)return Promise.resolve(!1);if(this.sessionChecksEnabled&&!a&&this.logger.warn("session checks (Session Status Change Notification) were activated in the configuration but the id_token does not contain a session_state claim"),this.requestAccessToken&&!e.disableOAuth2StateCheck&&!this.validateNonce(n)){const e=new A3("invalid_nonce_in_state",null);return this.eventsSubject.next(e),Promise.reject(e)}return this.requestAccessToken&&this.storeAccessTokenResponse(r,null,t.expires_in||this.fallbackAccessTokenExpirationTimeInSec,l),this.oidc?this.processIdToken(o,r).then(t=>e.validationHandler?e.validationHandler({accessToken:r,idClaims:t.idTokenClaims,idToken:t.idToken,state:i}).then(e=>t):t).then(t=>(this.storeIdToken(t),this.storeSessionState(a),this.clearHashAfterLogin&&(location.hash=""),this.eventsSubject.next(new F3("token_received")),this.callOnTokenReceivedIfExists(e),this.inImplicitFlow=!1,!0)).catch(e=>(this.eventsSubject.next(new A3("token_validation_error",e)),this.logger.error("Error validating tokens"),this.logger.error(e),Promise.reject(e))):(this.eventsSubject.next(new F3("token_received")),this.clearHashAfterLogin&&!e.preventClearHashAfterLogin&&(location.hash=""),this.callOnTokenReceivedIfExists(e),Promise.resolve(!0))}parseState(e){let t=e,i="";if(e){const n=e.indexOf(this.config.nonceStateSeparator);n>-1&&(t=e.substr(0,n),i=e.substr(n+this.config.nonceStateSeparator.length))}return[t,i]}validateNonce(e){const t=this._storage.getItem("nonce");return t===e||(console.error("Validating access_token failed, wrong state/nonce.",t,e),!1)}storeIdToken(e){this._storage.setItem("id_token",e.idToken),this._storage.setItem("id_token_claims_obj",e.idTokenClaimsJson),this._storage.setItem("id_token_expires_at",""+e.idTokenExpiresAt),this._storage.setItem("id_token_stored_at",""+Date.now())}storeSessionState(e){this._storage.setItem("session_state",e)}getSessionState(){return this._storage.getItem("session_state")}handleLoginError(e,t){e.onLoginError&&e.onLoginError(t),this.clearHashAfterLogin&&(location.hash="")}processIdToken(e,t,i=!1){const n=e.split("."),s=k3(this.padBase64(n[0])),r=JSON.parse(s),o=k3(this.padBase64(n[1])),a=JSON.parse(o),l=this._storage.getItem("nonce");if(Array.isArray(a.aud)){if(a.aud.every(e=>e!==this.clientId)){const e="Wrong audience: "+a.aud.join(",");return this.logger.warn(e),Promise.reject(e)}}else if(a.aud!==this.clientId){const e="Wrong audience: "+a.aud;return this.logger.warn(e),Promise.reject(e)}if(!a.sub){const e="No sub claim in id_token";return this.logger.warn(e),Promise.reject(e)}if(this.sessionChecksEnabled&&this.silentRefreshSubject&&this.silentRefreshSubject!==a.sub){const e=`After refreshing, we got an id_token for another user (sub). Expected sub: ${this.silentRefreshSubject}, received sub: ${a.sub}`;return this.logger.warn(e),Promise.reject(e)}if(!a.iat){const e="No iat claim in id_token";return this.logger.warn(e),Promise.reject(e)}if(!this.skipIssuerCheck&&a.iss!==this.issuer){const e="Wrong issuer: "+a.iss;return this.logger.warn(e),Promise.reject(e)}if(!i&&a.nonce!==l){const e="Wrong nonce: "+a.nonce;return this.logger.warn(e),Promise.reject(e)}if(!this.disableAtHashCheck&&this.requestAccessToken&&!a.at_hash){const e="An at_hash is needed!";return this.logger.warn(e),Promise.reject(e)}const c=Date.now(),h=1e3*a.iat,u=1e3*a.exp,d=1e3*(this.clockSkewInSec||600);if(h-d>=c||u+d<=c){const e="Token has expired";return console.error(e),console.error({now:c,issuedAtMSec:h,expiresAtMSec:u}),Promise.reject(e)}const p={accessToken:t,idToken:e,jwks:this.jwks,idTokenClaims:a,idTokenHeader:r,loadKeys:()=>this.loadJwks()};return this.checkAtHash(p).then(t=>{if(!this.disableAtHashCheck&&this.requestAccessToken&&!t){const e="Wrong at_hash";return this.logger.warn(e),Promise.reject(e)}return this.checkSignature(p).then(t=>({idToken:e,idTokenClaims:a,idTokenClaimsJson:o,idTokenHeader:r,idTokenHeaderJson:s,idTokenExpiresAt:u}))})}getIdentityClaims(){const e=this._storage.getItem("id_token_claims_obj");return e?JSON.parse(e):null}getGrantedScopes(){const e=this._storage.getItem("granted_scopes");return e?JSON.parse(e):null}getIdToken(){return this._storage?this._storage.getItem("id_token"):null}padBase64(e){for(;e.length%4!=0;)e+="=";return e}getAccessToken(){return this._storage?this._storage.getItem("access_token"):null}getRefreshToken(){return this._storage?this._storage.getItem("refresh_token"):null}getAccessTokenExpiration(){return this._storage.getItem("expires_at")?parseInt(this._storage.getItem("expires_at"),10):null}getAccessTokenStoredAt(){return parseInt(this._storage.getItem("access_token_stored_at"),10)}getIdTokenStoredAt(){return parseInt(this._storage.getItem("id_token_stored_at"),10)}getIdTokenExpiration(){return this._storage.getItem("id_token_expires_at")?parseInt(this._storage.getItem("id_token_expires_at"),10):null}hasValidAccessToken(){if(this.getAccessToken()){const e=this._storage.getItem("expires_at"),t=new Date;return!(e&&parseInt(e,10)<t.getTime())}return!1}hasValidIdToken(){if(this.getIdToken()){const e=this._storage.getItem("id_token_expires_at"),t=new Date;return!(e&&parseInt(e,10)<t.getTime())}return!1}authorizationHeader(){return"Bearer "+this.getAccessToken()}logOut(e=!1){const t=this.getIdToken();if(this._storage.removeItem("access_token"),this._storage.removeItem("id_token"),this._storage.removeItem("refresh_token"),this._storage.removeItem("nonce"),this._storage.removeItem("expires_at"),this._storage.removeItem("id_token_claims_obj"),this._storage.removeItem("id_token_expires_at"),this._storage.removeItem("id_token_stored_at"),this._storage.removeItem("access_token_stored_at"),this._storage.removeItem("granted_scopes"),this._storage.removeItem("session_state"),this.silentRefreshSubject=null,this.eventsSubject.next(new D3("logout")),!this.logoutUrl)return;if(e)return;if(!t&&!this.postLogoutRedirectUri)return;let i;if(!this.validateUrlForHttps(this.logoutUrl))throw new Error("logoutUrl must use https, or config value for property requireHttps must allow http");if(this.logoutUrl.indexOf("{{")>-1)i=this.logoutUrl.replace(/\{\{id_token\}\}/,t).replace(/\{\{client_id\}\}/,this.clientId);else{let e=new tJ;t&&(e=e.set("id_token_hint",t));const n=this.postLogoutRedirectUri||this.redirectUri;n&&(e=e.set("post_logout_redirect_uri",n)),i=this.logoutUrl+(this.logoutUrl.indexOf("?")>-1?"&":"?")+e.toString()}this.config.openUri(i)}createAndSaveNonce(){const e=this;return this.createNonce().then((function(t){return e._storage.setItem("nonce",t),t}))}ngOnDestroy(){this.clearAccessTokenTimer(),this.clearIdTokenTimer()}createNonce(){return new Promise(e=>{if(this.rngUrl)throw new Error("createNonce with rng-web-api has not been implemented so far");const t="Uint8ArdomValuesObj012345679BCDEFGHIJKLMNPQRSTWXYZ_cfghkpqvwxyz-";let i=45,n="";const s=self.crypto||self.msCrypto;if(s){const e=s.getRandomValues(new Uint8Array(i));for(;0<i--;)n+=t[63&e[i]]}else for(;0<i--;)n+=t[64*Math.random()|0];e(n)})}checkAtHash(e){return g3(this,void 0,void 0,(function*(){return this.tokenValidationHandler?this.tokenValidationHandler.validateAtHash(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check at_hash."),!0)}))}checkSignature(e){return this.tokenValidationHandler?this.tokenValidationHandler.validateSignature(e):(this.logger.warn("No tokenValidationHandler configured. Cannot check signature."),Promise.resolve(null))}initLoginFlow(e="",t={}){return"code"===this.responseType?this.initCodeFlow(e,t):this.initImplicitFlow(e,t)}initCodeFlow(e="",t={}){""!==this.loginUrl?this.initCodeFlowInternal(e,t):this.events.pipe(Jf(e=>"discovery_document_loaded"===e.type)).subscribe(i=>this.initCodeFlowInternal(e,t))}initCodeFlowInternal(e="",t={}){if(!this.validateUrlForHttps(this.loginUrl))throw new Error("loginUrl must use Http. Also check property requireHttps.");this.createLoginUrl(e,"",null,!1,t).then((function(e){location.href=e})).catch(e=>{console.error("Error in initAuthorizationCodeFlow"),console.error(e)})}createChallangeVerifierPairForPKCE(){return g3(this,void 0,void 0,(function*(){if(!this.crypto)throw new Error("PKCI support for code flow needs a CryptoHander. Did you import the OAuthModule using forRoot() ?");const e=yield this.createNonce();return[_3(yield this.crypto.calcHash(e,"sha-256")),e]}))}}return e.\u0275fac=function(t){return new(t||e)(We(Wc),We(dJ),We(S3,8),We(E3,8),We(O3,8),We(I3),We(x3),We(P3,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();class N3{}class L3{}class V3{handleError(e){return My(e)}}let H3=(()=>{class e{constructor(e,t,i,n){this.authStorage=e,this.oAuthService=t,this.errorHandler=i,this.moduleConfig=n}checkUrl(e){return this.moduleConfig.resourceServer.customUrlValidation?this.moduleConfig.resourceServer.customUrlValidation(e):!this.moduleConfig.resourceServer.allowedUrls||!!this.moduleConfig.resourceServer.allowedUrls.find(t=>e.startsWith(t))}intercept(e,t){const i=e.url.toLowerCase();return this.moduleConfig&&this.moduleConfig.resourceServer?this.moduleConfig.resourceServer.allowedUrls&&!this.checkUrl(i)?t.handle(e):this.moduleConfig.resourceServer.sendAccessToken?K(jf(this.oAuthService.getAccessToken()).pipe(Jf(e=>!!e)),this.oAuthService.events.pipe(Jf(e=>"token_received"===e.type),function(e,t=Ub){return function(e,t,i=Ub){return n=>{let s=Py(e),r=s?+e-i.now():Math.abs(e);return n.lift(new y3(r,s,t,i))}}(e,My(new b3),t)}(this.oAuthService.waitForTokenInMsec||0),pg(e=>jf(null)),L(e=>this.oAuthService.getAccessToken()))).pipe(mg(1),j(i=>{if(i){const t=e.headers.set("Authorization","Bearer "+i);e=e.clone({headers:t})}return t.handle(e).pipe(pg(e=>this.errorHandler.handleError(e)))})):t.handle(e).pipe(pg(e=>this.errorHandler.handleError(e))):t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(We(S3),We(M3),We(L3),We(N3,8))},e.\u0275prov=he({token:e,factory:e.\u0275fac}),e})();function B3(){return console}function z3(){return"undefined"!=typeof sessionStorage?sessionStorage:null}class j3 extends class{validateAtHash(e){return g3(this,void 0,void 0,(function*(){let t=this.inferHashAlgorithm(e.idTokenHeader),i=yield this.calcHash(e.accessToken,t),n=_3(i.substr(0,i.length/2)),s=e.idTokenClaims.at_hash.replace(/=/g,"");return n!==s&&(console.error("exptected at_hash: "+n),console.error("actual at_hash: "+s)),n===s}))}inferHashAlgorithm(e){let t=e.alg;if(!t.match(/^.S[0-9]{3}$/))throw new Error("Algorithm not supported: "+t);return"sha-"+t.substr(2)}}{constructor(){super(...arguments),this.allowedAlgorithms=["HS256","HS384","HS512","RS256","RS384","RS512","ES256","ES384","PS256","PS384","PS512"],this.gracePeriodInSec=600}validateSignature(e,t=!1){if(!e.idToken)throw new Error("Parameter idToken expected!");if(!e.idTokenHeader)throw new Error("Parameter idTokenHandler expected.");if(!e.jwks)throw new Error("Parameter jwks expected!");if(!e.jwks.keys||!Array.isArray(e.jwks.keys)||0===e.jwks.keys.length)throw new Error("Array keys in jwks missing!");let i,n=e.idTokenHeader.kid,s=e.jwks.keys,r=e.idTokenHeader.alg;if(n)i=s.find(e=>e.kid===n);else{let e=this.alg2kty(r),t=s.filter(t=>t.kty===e&&"sig"===t.use);if(t.length>1){let e="More than one matching key found. Please specify a kid in the id_token header.";return console.error(e),Promise.reject(e)}1===t.length&&(i=t[0])}if(!i&&!t&&e.loadKeys)return e.loadKeys().then(t=>e.jwks=t).then(t=>this.validateSignature(e,!0));if(!i&&t&&!n){let e="No matching key found.";return console.error(e),Promise.reject(e)}if(!i&&t&&n){let e="expected key not found in property jwks. This property is most likely loaded with the discovery document. Expected key id (kid): "+n;return console.error(e),Promise.reject(e)}let o=C3.KEYUTIL.getKey(i);return C3.KJUR.jws.JWS.verifyJWT(e.idToken,o,{alg:this.allowedAlgorithms,gracePeriod:this.gracePeriodInSec})?Promise.resolve():Promise.reject("Signature not valid")}alg2kty(e){switch(e.charAt(0)){case"R":return"RSA";case"E":return"EC";default:throw new Error("Cannot infer kty from alg: "+e)}}calcHash(e,t){let i=new C3.KJUR.crypto.MessageDigest({alg:t}).digestString(e),n=this.toByteArrayAsString(i);return Promise.resolve(n)}toByteArrayAsString(e){let t="";for(let i=0;i<e.length;i+=2){let n=e.charAt(i)+e.charAt(i+1),s=parseInt(n,16);t+=String.fromCharCode(s)}return t}}let U3=(()=>{class e{static forRoot(t=null,i=class{validateSignature(e){return Promise.resolve(null)}validateAtHash(e){return Promise.resolve(!0)}}){return{ngModule:e,providers:[M3,I3,{provide:x3,useFactory:B3},{provide:S3,useFactory:z3},{provide:E3,useClass:i},{provide:P3,useClass:j3},{provide:L3,useClass:V3},{provide:N3,useValue:t},{provide:fJ,useClass:H3,multi:!0}]}}}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})();function $3(){return localStorage}let q3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:Mf,useValue:Nf},{provide:S3,useFactory:$3}]}),e})(),G3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})(),K3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,iy]]}),e})(),W3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})(),Z3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})(),Y3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})(),Q3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu]]}),e})(),J3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[G3,K3,W3,Z3,Q3,Y3]}),e})(),X3=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},imports:[[Pu,p3,dd,Rf,kC,_C,f3,J_,tE,IX,BQ,KQ,mN,fb,mF,RS,XM,J3,DT,GJ.forRoot()]]}),e})(),e4=(()=>{class e{}return e.\u0275mod=vt({type:e}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[TJ,FJ,Ib,DJ,FJ,Vf,AJ],imports:[[Pu,IJ]]}),e})(),t4=(()=>{class e{}return e.\u0275mod=vt({type:e,bootstrap:[Db]}),e.\u0275inj=ue({factory:function(t){return new(t||e)},providers:[{provide:Nh,useClass:Bh},{provide:S3,useFactory:$3}],imports:[[dd,Rf,kC,f3,q3,p3,e4,X3,U3.forRoot({resourceServer:{allowedUrls:["*"],sendAccessToken:!0}})]]}),e})();(function(){if(xn)throw new Error("Cannot enable prod mode after platform setup.");Cn=!1})(),hd().bootstrapModule(t4).catch(e=>console.error(e))},zn8P:function(e,t){function i(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}i.keys=function(){return[]},i.resolve=i,e.exports=i,i.id="zn8P"}},[[0,0]]]);